(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";var _core=require(140),_platformBrowserDynamic=require(237),_common=require(8),_http=require(216),_app=require(2);(0,_core.enableProdMode)(),(0,_platformBrowserDynamic.bootstrap)(_app.app,[_http.HTTP_PROVIDERS,(0,_core.provide)(_http.XHRBackend,{useClass:_http.BaseRequestOptions}),(0,_core.provide)(_common.LocationStrategy,{useClass:_common.HashLocationStrategy})]);

},{"140":140,"2":2,"216":216,"237":237,"8":8}],2:[function(require,module,exports){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.app=void 0;var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var s=r[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(r,t,s){return t&&e(r.prototype,t),s&&e(r,s),r}}(),_dec,_class,_common=require(8),_core=require(140),_http=require(216),_list=require(3),_share=require(5),app=exports.app=(_dec=(0,_core.Component)({selector:"body",viewProviders:[_http.HTTP_PROVIDERS],directives:[_common.CORE_DIRECTIVES,_common.FORM_DIRECTIVES,_list.list],templateUrl:window.env.SHARE+"home.html",pipes:[_common.COMMON_PIPES]}),_dec(_class=function(){function e(r){_classCallCheck(this,e),this.suscriber={mail:"",error:null,search:"",send:!1},this.http=r,this.http._defaultOptions.url=window.env.SUSCRIBE}return _createClass(e,[{key:"suscribe",value:function(){var e=this;console.log(_http.Http),this.suscriber.mail&&(this.suscriber.error=null,this.http.post(window.env.SUSCRIBE,JSON.stringify(this.suscriber)).subscribe(function(r){var t=r.json();t.error?e.suscriber.error=t.error:(e.suscriber.mail="",e.suscriber.send=!0)}))}}]),e}())||_class);Reflect.defineMetadata("design:paramtypes",[_http.Http],app);

},{"140":140,"216":216,"3":3,"5":5,"8":8}],3:[function(require,module,exports){
"use strict";function _initDefineProp(e,i,r,t){r&&Object.defineProperty(e,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(t):void 0})}function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _applyDecoratedDescriptor(e,i,r,t,n){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,t){return t(e,i,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,i,a),a=null),a}function _initializerWarningHelper(e,i){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled.")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.list=void 0;var _createClass=function(){function e(e,i){for(var r=0;r<i.length;r++){var t=i[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(i,r,t){return r&&e(i.prototype,r),t&&e(i,t),i}}(),_dec,_dec2,_class,_desc,_value,_class2,_descriptor,_common=require(8),_core=require(140),_service=require(4),_share=require(5),_search=require(6),_time=require(7),list=exports.list=(_dec=(0,_core.Component)({selector:"list",providers:[_service.lives],directives:[_share.share,_common.CORE_DIRECTIVES],templateUrl:window.env.SHARE+"./list.html",pipes:[_search.search,_time.time,_common.COMMON_PIPES]}),_dec2=(0,_core.Input)(),_dec((_class2=function(){function e(i){_classCallCheck(this,e),_initDefineProp(this,"query",_descriptor,this),this.live=i}return _createClass(e,[{key:"ngOnInit",value:function(){this.live.getAll()}}]),e}(),_descriptor=_applyDecoratedDescriptor(_class2.prototype,"query",[_dec2],{enumerable:!0,initializer:function(){return this.query}}),_class=_class2))||_class);Reflect.defineMetadata("design:paramtypes",[_service.lives],list);

},{"140":140,"4":4,"5":5,"6":6,"7":7,"8":8}],4:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.lives=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_class,_core=require(140),_ical=require(287),_http=require(216),lives=exports.lives=(_dec=(0,_core.Injectable)(),_dec(_class=function(){function e(t){_classCallCheck(this,e),this.events=[],this.http=t,this.http._defaultOptions.url=window.env.CAL}return _createClass(e,[{key:"getAll",value:function(){var e=this;return this.http.get().subscribe(function(t){return e.events=t.json().event})}},{key:"handleError",value:function(e){return console.error("An error occurred",e),Promise.reject(e.message||e)}}]),e}())||_class);Reflect.defineMetadata("design:paramtypes",[_http.Http],lives);

},{"140":140,"216":216,"287":287}],5:[function(require,module,exports){
"use strict";function _initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _applyDecoratedDescriptor(e,t,r,i,n){var s={};return Object.keys(i).forEach(function(e){s[e]=i[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},s),n&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(n):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}function _initializerWarningHelper(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled.")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.share=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),_dec,_dec2,_dec3,_dec4,_class,_desc,_value,_class2,_descriptor,_descriptor2,_descriptor3,_class3,_temp,_common=require(8),_core=require(140),_http=require(216),share=exports.share=(_dec=(0,_core.Component)({selector:"share",viewProviders:[_http.HTTP_PROVIDERS],templateUrl:window.env.SHARE+"share.html",directives:[_common.CORE_DIRECTIVES],pipes:[_common.COMMON_PIPES]}),_dec2=(0,_core.Input)(),_dec3=(0,_core.Input)(),_dec4=(0,_core.Input)(),_dec((_temp=_class3=function(){function e(){_classCallCheck(this,e),_initDefineProp(this,"is",_descriptor,this),_initDefineProp(this,"via",_descriptor2,this),_initDefineProp(this,"text",_descriptor3,this),this.system={},this.url=window.env.SHARE,this.more="",this.count=0}return _createClass(e,[{key:"ngOnInit",value:function(t,r,i){this.name=i||"Share",this.system=e[this.is],this.setting=this.windows(r,t)}},{key:"post",value:function(){var e=this.system.share(this.url,encodeURI(this.text),this.via),t=window.open(e,this.name,this.setting);window.focus&&t.focus()}},{key:"windows",value:function(){var e=arguments.length<=0||void 0===arguments[0]?600:arguments[0],t=arguments.length<=1||void 0===arguments[1]?300:arguments[1],r="location=1,status=1,scrollbars=1";return r+=",height="+t,r+=",width="+e,r+=",top="+(screen.height/2-t/2),r+=",left="+(screen.width/2-e/2)}}]),e}(),_class3.facebook={icon:"facebook",share:function(e){return"http://www.facebook.com/sharer.php?u="+e},count:function(e){return"https://graph.facebook.com/?callback=JSON_CALLBACK&id="+e},get:function(e){return e.shares}},_class3.twitter={icon:"twitter",share:function(e,t,r){return"http://twitter.com/share?text="+t+"&url="+e+"&via="+r},count:function(e){return"https://cdn.api.twitter.com/1/urls/count.json?callback=JSON_CALLBACK&url="+e},get:function(e){return e.count}},_class3.google={icon:"google-plus",share:function(e){return"https://plus.google.com/share?url="+e}},_class3.tumblr={icon:"tumblr",share:function(e){return"https://www.tumblr.com/widgets/share/tool?shareSource=legacy&canonicalUrl=&url="+e}},_class3.reddit={icon:"reddit-alien",share:function(e){return"https://www.reddit.com/submit?url="+e}},_class3.linkedin={icon:"linkedin",share:function(e){return"https://www.linkedin.com/shareArticle?mini=true&url="+e},count:function(e){return"https://www.linkedin.com/countserv/count/share?callback=JSON_CALLBACK&format=jsonp&url="+e},get:function(e){return e.count}},_class3.pinterest={icon:"pinterest-p",share:function(e,t,r){return"http://pinterest.com/pin/create/button/?url="+e+"&description="+t+"&media="+r},count:function(e){return"https://api.pinterest.com/v1/urls/count.json?callback=JSON_CALLBACK&url="+e},get:function(e){return e.count}},_class3.xing={icon:"xing",share:function(e){return"https://www.xing-share.com/app/user?op=share;sc_p=xing-share;url="+e}},_class3.email={icon:"envelope-o",share:function(e,t){return"mailto:?subject="+t+"&body="+e}},_class3.CHANGE=["k","M","B"],_class3.MULTI=1e3,_class3.DEC=100,_class2=_temp,_descriptor=_applyDecoratedDescriptor(_class2.prototype,"is",[_dec2],{enumerable:!0,initializer:function(){return this.is}}),_descriptor2=_applyDecoratedDescriptor(_class2.prototype,"via",[_dec3],{enumerable:!0,initializer:function(){return this.via}}),_descriptor3=_applyDecoratedDescriptor(_class2.prototype,"text",[_dec4],{enumerable:!0,initializer:function(){return this.text}}),_class=_class2))||_class);

},{"140":140,"216":216,"8":8}],6:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.search=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_dec,_dec2,_class,_core=require(140),search=exports.search=(_dec=(0,_core.Pipe)({name:"search",pure:!1}),_dec2=(0,_core.Injectable)(),_dec(_class=_dec2(_class=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t,r){var n=function o(e){var t=!1;if("object"===("undefined"==typeof e?"undefined":_typeof(e))){for(var n in e)if(t=o(e[n]))break}else t="number"==typeof r?e===r:e.toString().match(new RegExp(r,"i"));return t};return t.filter(n).sort(e.time)}}],[{key:"time",value:function(e,t){return Math.sign(moment(e.start).diff(moment(t.start)))}}]),e}())||_class)||_class);

},{"140":140}],7:[function(require,module,exports){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.time=void 0;var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var c=r[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}return function(r,t,c){return t&&e(r.prototype,t),c&&e(r,c),r}}(),_dec,_dec2,_class,_core=require(140),time=exports.time=(_dec=(0,_core.Pipe)({name:"time",pure:!1}),_dec2=(0,_core.Injectable)(),_dec(_class=_dec2(_class=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,r){return moment(e).format(r)}}]),e}())||_class)||_class);

},{"140":140}],8:[function(require,module,exports){
"use strict";function __export(r){for(var e in r)exports.hasOwnProperty(e)||(exports[e]=r[e])}__export(require(58)),__export(require(10)),__export(require(28)),__export(require(9)),__export(require(52));

},{"10":10,"28":28,"52":52,"58":58,"9":9}],9:[function(require,module,exports){
"use strict";var forms_1=require(28),directives_1=require(10);exports.COMMON_DIRECTIVES=[directives_1.CORE_DIRECTIVES,forms_1.FORM_DIRECTIVES];

},{"10":10,"28":28}],10:[function(require,module,exports){
"use strict";function __export(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}var ng_class_1=require(12);exports.NgClass=ng_class_1.NgClass;var ng_for_1=require(13);exports.NgFor=ng_for_1.NgFor;var ng_if_1=require(14);exports.NgIf=ng_if_1.NgIf;var ng_template_outlet_1=require(18);exports.NgTemplateOutlet=ng_template_outlet_1.NgTemplateOutlet;var ng_style_1=require(16);exports.NgStyle=ng_style_1.NgStyle;var ng_switch_1=require(17);exports.NgSwitch=ng_switch_1.NgSwitch,exports.NgSwitchWhen=ng_switch_1.NgSwitchWhen,exports.NgSwitchDefault=ng_switch_1.NgSwitchDefault;var ng_plural_1=require(15);exports.NgPlural=ng_plural_1.NgPlural,exports.NgPluralCase=ng_plural_1.NgPluralCase,exports.NgLocalization=ng_plural_1.NgLocalization,__export(require(19));var core_directives_1=require(11);exports.CORE_DIRECTIVES=core_directives_1.CORE_DIRECTIVES;

},{"11":11,"12":12,"13":13,"14":14,"15":15,"16":16,"17":17,"18":18,"19":19}],11:[function(require,module,exports){
"use strict";var ng_class_1=require(12),ng_for_1=require(13),ng_if_1=require(14),ng_template_outlet_1=require(18),ng_style_1=require(16),ng_switch_1=require(17),ng_plural_1=require(15);exports.CORE_DIRECTIVES=[ng_class_1.NgClass,ng_for_1.NgFor,ng_if_1.NgIf,ng_template_outlet_1.NgTemplateOutlet,ng_style_1.NgStyle,ng_switch_1.NgSwitch,ng_switch_1.NgSwitchWhen,ng_switch_1.NgSwitchDefault,ng_plural_1.NgPlural,ng_plural_1.NgPluralCase];

},{"12":12,"13":13,"14":14,"15":15,"16":16,"17":17,"18":18}],12:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),collection_1=require(22),NgClass=function(){function e(e,s,t,i){this._iterableDiffers=e,this._keyValueDiffers=s,this._ngEl=t,this._renderer=i,this._initialClasses=[]}return Object.defineProperty(e.prototype,"initialClasses",{set:function(e){this._applyInitialClasses(!0),this._initialClasses=lang_1.isPresent(e)&&lang_1.isString(e)?e.split(" "):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rawClass",{set:function(e){this._cleanupClasses(this._rawClass),lang_1.isString(e)&&(e=e.split(" ")),this._rawClass=e,this._iterableDiffer=null,this._keyValueDiffer=null,lang_1.isPresent(e)&&(collection_1.isListLikeIterable(e)?this._iterableDiffer=this._iterableDiffers.find(e).create(null):this._keyValueDiffer=this._keyValueDiffers.find(e).create(null))},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(lang_1.isPresent(this._iterableDiffer)){var e=this._iterableDiffer.diff(this._rawClass);lang_1.isPresent(e)&&this._applyIterableChanges(e)}if(lang_1.isPresent(this._keyValueDiffer)){var e=this._keyValueDiffer.diff(this._rawClass);lang_1.isPresent(e)&&this._applyKeyValueChanges(e)}},e.prototype.ngOnDestroy=function(){this._cleanupClasses(this._rawClass)},e.prototype._cleanupClasses=function(e){this._applyClasses(e,!0),this._applyInitialClasses(!1)},e.prototype._applyKeyValueChanges=function(e){var s=this;e.forEachAddedItem(function(e){s._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){s._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&s._toggleClass(e.key,!1)})},e.prototype._applyIterableChanges=function(e){var s=this;e.forEachAddedItem(function(e){s._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){s._toggleClass(e.item,!1)})},e.prototype._applyInitialClasses=function(e){var s=this;this._initialClasses.forEach(function(t){return s._toggleClass(t,!e)})},e.prototype._applyClasses=function(e,s){var t=this;lang_1.isPresent(e)&&(lang_1.isArray(e)?e.forEach(function(e){return t._toggleClass(e,!s)}):e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!s)}):collection_1.StringMapWrapper.forEach(e,function(e,i){lang_1.isPresent(e)&&t._toggleClass(i,!s)}))},e.prototype._toggleClass=function(e,s){if(e=e.trim(),e.length>0)if(e.indexOf(" ")>-1)for(var t=e.split(/\s+/g),i=0,a=t.length;a>i;i++)this._renderer.setElementClass(this._ngEl.nativeElement,t[i],s);else this._renderer.setElementClass(this._ngEl.nativeElement,e,s)},e.decorators=[{type:core_1.Directive,args:[{selector:"[ngClass]",inputs:["rawClass: ngClass","initialClasses: class"]}]}],e.ctorParameters=[{type:core_1.IterableDiffers},{type:core_1.KeyValueDiffers},{type:core_1.ElementRef},{type:core_1.Renderer}],e}();exports.NgClass=NgClass;

},{"140":140,"22":22,"26":26}],13:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),exceptions_1=require(24),NgForRow=function(){function e(e,r,t){this.$implicit=e,this.index=r,this.count=t}return Object.defineProperty(e.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"even",{get:function(){return this.index%2===0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),e}();exports.NgForRow=NgForRow;var NgFor=function(){function e(e,r,t,n){this._viewContainer=e,this._templateRef=r,this._iterableDiffers=t,this._cdr=n}return Object.defineProperty(e.prototype,"ngForOf",{set:function(e){if(this._ngForOf=e,lang_1.isBlank(this._differ)&&lang_1.isPresent(e))try{this._differ=this._iterableDiffers.find(e).create(this._cdr,this._ngForTrackBy)}catch(r){throw new exceptions_1.BaseException("Cannot find a differ supporting object '"+e+"' of type '"+lang_1.getTypeNameForDebugging(e)+"'. NgFor only supports binding to Iterables such as Arrays.")}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngForTemplate",{set:function(e){lang_1.isPresent(e)&&(this._templateRef=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngForTrackBy",{set:function(e){this._ngForTrackBy=e},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(lang_1.isPresent(this._differ)){var e=this._differ.diff(this._ngForOf);lang_1.isPresent(e)&&this._applyChanges(e)}},e.prototype._applyChanges=function(e){var r=this,t=[];e.forEachRemovedItem(function(e){return t.push(new RecordViewTuple(e,null))}),e.forEachMovedItem(function(e){return t.push(new RecordViewTuple(e,null))});var n=this._bulkRemove(t);e.forEachAddedItem(function(e){return n.push(new RecordViewTuple(e,null))}),this._bulkInsert(n);for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var i=0,o=this._viewContainer.length;o>i;i++){var c=this._viewContainer.get(i);c.context.index=i,c.context.count=o}e.forEachIdentityChange(function(e){var t=r._viewContainer.get(e.currentIndex);t.context.$implicit=e.item})},e.prototype._perViewChange=function(e,r){e.context.$implicit=r.item},e.prototype._bulkRemove=function(e){e.sort(function(e,r){return e.record.previousIndex-r.record.previousIndex});for(var r=[],t=e.length-1;t>=0;t--){var n=e[t];lang_1.isPresent(n.record.currentIndex)?(n.view=this._viewContainer.detach(n.record.previousIndex),r.push(n)):this._viewContainer.remove(n.record.previousIndex)}return r},e.prototype._bulkInsert=function(e){e.sort(function(e,r){return e.record.currentIndex-r.record.currentIndex});for(var r=0;r<e.length;r++){var t=e[r];lang_1.isPresent(t.view)?this._viewContainer.insert(t.view,t.record.currentIndex):t.view=this._viewContainer.createEmbeddedView(this._templateRef,new NgForRow(null,null,null),t.record.currentIndex)}return e},e.decorators=[{type:core_1.Directive,args:[{selector:"[ngFor][ngForOf]",inputs:["ngForTrackBy","ngForOf","ngForTemplate"]}]}],e.ctorParameters=[{type:core_1.ViewContainerRef},{type:core_1.TemplateRef},{type:core_1.IterableDiffers},{type:core_1.ChangeDetectorRef}],e}();exports.NgFor=NgFor;var RecordViewTuple=function(){function e(e,r){this.record=e,this.view=r}return e}();

},{"140":140,"24":24,"26":26}],14:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),NgIf=function(){function e(e,t){this._viewContainer=e,this._templateRef=t,this._prevCondition=null}return Object.defineProperty(e.prototype,"ngIf",{set:function(e){!e||!lang_1.isBlank(this._prevCondition)&&this._prevCondition?e||!lang_1.isBlank(this._prevCondition)&&!this._prevCondition||(this._prevCondition=!1,this._viewContainer.clear()):(this._prevCondition=!0,this._viewContainer.createEmbeddedView(this._templateRef))},enumerable:!0,configurable:!0}),e.decorators=[{type:core_1.Directive,args:[{selector:"[ngIf]",inputs:["ngIf"]}]}],e.ctorParameters=[{type:core_1.ViewContainerRef},{type:core_1.TemplateRef}],e}();exports.NgIf=NgIf;

},{"140":140,"26":26}],15:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),collection_1=require(22),ng_switch_1=require(17),_CATEGORY_DEFAULT="other",NgLocalization=function(){function e(){}return e}();exports.NgLocalization=NgLocalization;var NgPluralCase=function(){function e(e,t,r){this.value=e,this._view=new ng_switch_1.SwitchView(r,t)}return e.decorators=[{type:core_1.Directive,args:[{selector:"[ngPluralCase]"}]}],e.ctorParameters=[{type:void 0,decorators:[{type:core_1.Attribute,args:["ngPluralCase"]}]},{type:core_1.TemplateRef},{type:core_1.ViewContainerRef}],e}();exports.NgPluralCase=NgPluralCase;var NgPlural=function(){function e(e){this._localization=e,this._caseViews=new collection_1.Map,this.cases=null}return Object.defineProperty(e.prototype,"ngPlural",{set:function(e){this._switchValue=e,this._updateView()},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this.cases.forEach(function(t){e._caseViews.set(e._formatValue(t),t._view)}),this._updateView()},e.prototype._updateView=function(){this._clearViews();var e=this._caseViews.get(this._switchValue);lang_1.isPresent(e)||(e=this._getCategoryView(this._switchValue)),this._activateView(e)},e.prototype._clearViews=function(){lang_1.isPresent(this._activeView)&&this._activeView.destroy()},e.prototype._activateView=function(e){lang_1.isPresent(e)&&(this._activeView=e,this._activeView.create())},e.prototype._getCategoryView=function(e){var t=this._localization.getPluralCategory(e),r=this._caseViews.get(t);return lang_1.isPresent(r)?r:this._caseViews.get(_CATEGORY_DEFAULT)},e.prototype._isValueView=function(e){return"="===e.value[0]},e.prototype._formatValue=function(e){return this._isValueView(e)?this._stripValue(e.value):e.value},e.prototype._stripValue=function(e){return lang_1.NumberWrapper.parseInt(e.substring(1),10)},e.decorators=[{type:core_1.Directive,args:[{selector:"[ngPlural]"}]}],e.ctorParameters=[{type:NgLocalization}],e.propDecorators={cases:[{type:core_1.ContentChildren,args:[NgPluralCase]}],ngPlural:[{type:core_1.Input}]},e}();exports.NgPlural=NgPlural;

},{"140":140,"17":17,"22":22,"26":26}],16:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),NgStyle=function(){function e(e,t,r){this._differs=e,this._ngEl=t,this._renderer=r}return Object.defineProperty(e.prototype,"rawStyle",{set:function(e){this._rawStyle=e,lang_1.isBlank(this._differ)&&lang_1.isPresent(e)&&(this._differ=this._differs.find(this._rawStyle).create(null))},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(lang_1.isPresent(this._differ)){var e=this._differ.diff(this._rawStyle);lang_1.isPresent(e)&&this._applyChanges(e)}},e.prototype._applyChanges=function(e){var t=this;e.forEachAddedItem(function(e){t._setStyle(e.key,e.currentValue)}),e.forEachChangedItem(function(e){t._setStyle(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){t._setStyle(e.key,null)})},e.prototype._setStyle=function(e,t){this._renderer.setElementStyle(this._ngEl.nativeElement,e,t)},e.decorators=[{type:core_1.Directive,args:[{selector:"[ngStyle]",inputs:["rawStyle: ngStyle"]}]}],e.ctorParameters=[{type:core_1.KeyValueDiffers},{type:core_1.ElementRef},{type:core_1.Renderer}],e}();exports.NgStyle=NgStyle;

},{"140":140,"26":26}],17:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),collection_1=require(22),_WHEN_DEFAULT=new Object,SwitchView=function(){function e(e,t){this._viewContainerRef=e,this._templateRef=t}return e.prototype.create=function(){this._viewContainerRef.createEmbeddedView(this._templateRef)},e.prototype.destroy=function(){this._viewContainerRef.clear()},e}();exports.SwitchView=SwitchView;var NgSwitch=function(){function e(){this._useDefault=!1,this._valueViews=new collection_1.Map,this._activeViews=[]}return Object.defineProperty(e.prototype,"ngSwitch",{set:function(e){this._emptyAllActiveViews(),this._useDefault=!1;var t=this._valueViews.get(e);lang_1.isBlank(t)&&(this._useDefault=!0,t=lang_1.normalizeBlank(this._valueViews.get(_WHEN_DEFAULT))),this._activateViews(t),this._switchValue=e},enumerable:!0,configurable:!0}),e.prototype._onWhenValueChanged=function(e,t,i){this._deregisterView(e,i),this._registerView(t,i),e===this._switchValue?(i.destroy(),collection_1.ListWrapper.remove(this._activeViews,i)):t===this._switchValue&&(this._useDefault&&(this._useDefault=!1,this._emptyAllActiveViews()),i.create(),this._activeViews.push(i)),0!==this._activeViews.length||this._useDefault||(this._useDefault=!0,this._activateViews(this._valueViews.get(_WHEN_DEFAULT)))},e.prototype._emptyAllActiveViews=function(){for(var e=this._activeViews,t=0;t<e.length;t++)e[t].destroy();this._activeViews=[]},e.prototype._activateViews=function(e){if(lang_1.isPresent(e)){for(var t=0;t<e.length;t++)e[t].create();this._activeViews=e}},e.prototype._registerView=function(e,t){var i=this._valueViews.get(e);lang_1.isBlank(i)&&(i=[],this._valueViews.set(e,i)),i.push(t)},e.prototype._deregisterView=function(e,t){if(e!==_WHEN_DEFAULT){var i=this._valueViews.get(e);1==i.length?this._valueViews["delete"](e):collection_1.ListWrapper.remove(i,t)}},e.decorators=[{type:core_1.Directive,args:[{selector:"[ngSwitch]",inputs:["ngSwitch"]}]}],e}();exports.NgSwitch=NgSwitch;var NgSwitchWhen=function(){function e(e,t,i){this._value=_WHEN_DEFAULT,this._switch=i,this._view=new SwitchView(e,t)}return Object.defineProperty(e.prototype,"ngSwitchWhen",{set:function(e){this._switch._onWhenValueChanged(this._value,e,this._view),this._value=e},enumerable:!0,configurable:!0}),e.decorators=[{type:core_1.Directive,args:[{selector:"[ngSwitchWhen]",inputs:["ngSwitchWhen"]}]}],e.ctorParameters=[{type:core_1.ViewContainerRef},{type:core_1.TemplateRef},{type:NgSwitch,decorators:[{type:core_1.Host}]}],e}();exports.NgSwitchWhen=NgSwitchWhen;var NgSwitchDefault=function(){function e(e,t,i){i._registerView(_WHEN_DEFAULT,new SwitchView(e,t))}return e.decorators=[{type:core_1.Directive,args:[{selector:"[ngSwitchDefault]"}]}],e.ctorParameters=[{type:core_1.ViewContainerRef},{type:core_1.TemplateRef},{type:NgSwitch,decorators:[{type:core_1.Host}]}],e}();exports.NgSwitchDefault=NgSwitchDefault;

},{"140":140,"22":22,"26":26}],18:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),NgTemplateOutlet=function(){function e(e){this._viewContainerRef=e}return Object.defineProperty(e.prototype,"ngTemplateOutlet",{set:function(e){lang_1.isPresent(this._insertedViewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._insertedViewRef)),lang_1.isPresent(e)&&(this._insertedViewRef=this._viewContainerRef.createEmbeddedView(e))},enumerable:!0,configurable:!0}),e.decorators=[{type:core_1.Directive,args:[{selector:"[ngTemplateOutlet]"}]}],e.ctorParameters=[{type:core_1.ViewContainerRef}],e.propDecorators={ngTemplateOutlet:[{type:core_1.Input}]},e}();exports.NgTemplateOutlet=NgTemplateOutlet;

},{"140":140,"26":26}],19:[function(require,module,exports){
"use strict";

},{}],20:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},lang_1=require(26),promise_1=require(27);exports.PromiseWrapper=promise_1.PromiseWrapper,exports.PromiseCompleter=promise_1.PromiseCompleter;var Subject_1=require(290),PromiseObservable_1=require(294),toPromise_1=require(295),Observable_1=require(288);exports.Observable=Observable_1.Observable;var Subject_2=require(290);exports.Subject=Subject_2.Subject;var TimerWrapper=function(){function e(){}return e.setTimeout=function(e,t){return lang_1.global.setTimeout(e,t)},e.clearTimeout=function(e){lang_1.global.clearTimeout(e)},e.setInterval=function(e,t){return lang_1.global.setInterval(e,t)},e.clearInterval=function(e){lang_1.global.clearInterval(e)},e}();exports.TimerWrapper=TimerWrapper;var ObservableWrapper=function(){function e(){}return e.subscribe=function(e,t,r,n){return void 0===n&&(n=function(){}),r="function"==typeof r&&r||lang_1.noop,n="function"==typeof n&&n||lang_1.noop,e.subscribe({next:t,error:r,complete:n})},e.isObservable=function(e){return!!e.subscribe},e.hasSubscribers=function(e){return e.observers.length>0},e.dispose=function(e){e.unsubscribe()},e.callNext=function(e,t){e.next(t)},e.callEmit=function(e,t){e.emit(t)},e.callError=function(e,t){e.error(t)},e.callComplete=function(e){e.complete()},e.fromPromise=function(e){return PromiseObservable_1.PromiseObservable.create(e)},e.toPromise=function(e){return toPromise_1.toPromise.call(e)},e}();exports.ObservableWrapper=ObservableWrapper;var EventEmitter=function(e){function t(t){void 0===t&&(t=!0),e.call(this),this._isAsync=t}return __extends(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.next=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,r,n){var o,i=function(e){return null},s=function(){return null};return t&&"object"==typeof t?(o=this._isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(i=this._isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(s=this._isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(o=this._isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},r&&(i=this._isAsync?function(e){setTimeout(function(){return r(e)})}:function(e){r(e)}),n&&(s=this._isAsync?function(){setTimeout(function(){return n()})}:function(){n()})),e.prototype.subscribe.call(this,o,i,s)},t}(Subject_1.Subject);exports.EventEmitter=EventEmitter;

},{"26":26,"27":27,"288":288,"290":290,"294":294,"295":295}],21:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},BaseWrappedException=function(e){function t(t){e.call(this,t)}return __extends(t,e),Object.defineProperty(t.prototype,"wrapperMessage",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalException",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return""},enumerable:!0,configurable:!0}),t}(Error);exports.BaseWrappedException=BaseWrappedException;

},{}],22:[function(require,module,exports){
"use strict";function _flattenArray(r,n){if(lang_1.isPresent(r))for(var e=0;e<r.length;e++){var t=r[e];lang_1.isArray(t)?_flattenArray(t,n):n.push(t)}return n}function isListLikeIterable(r){return lang_1.isJsObject(r)?lang_1.isArray(r)||!(r instanceof exports.Map)&&lang_1.getSymbolIterator()in r:!1}function areIterablesEqual(r,n,e){for(var t=r[lang_1.getSymbolIterator()](),a=n[lang_1.getSymbolIterator()]();;){var i=t.next(),o=a.next();if(i.done&&o.done)return!0;if(i.done||o.done)return!1;if(!e(i.value,o.value))return!1}}function iterateListLike(r,n){if(lang_1.isArray(r))for(var e=0;e<r.length;e++)n(r[e]);else for(var t,a=r[lang_1.getSymbolIterator()]();!(t=a.next()).done;)n(t.value)}var lang_1=require(26);exports.Map=lang_1.global.Map,exports.Set=lang_1.global.Set;var createMapFromPairs=function(){try{if(1===new exports.Map([[1,2]]).size)return function(r){return new exports.Map(r)}}catch(r){}return function(r){for(var n=new exports.Map,e=0;e<r.length;e++){var t=r[e];n.set(t[0],t[1])}return n}}(),createMapFromMap=function(){try{if(new exports.Map(new exports.Map))return function(r){return new exports.Map(r)}}catch(r){}return function(r){var n=new exports.Map;return r.forEach(function(r,e){n.set(e,r)}),n}}(),_clearValues=function(){return(new exports.Map).keys().next?function(r){for(var n,e=r.keys();!(n=e.next()).done;)r.set(n.value,null)}:function(r){r.forEach(function(n,e){r.set(e,null)})}}(),_arrayFromMap=function(){try{if((new exports.Map).values().next)return function(r,n){return n?Array.from(r.values()):Array.from(r.keys())}}catch(r){}return function(r,n){var e=ListWrapper.createFixedSize(r.size),t=0;return r.forEach(function(r,a){e[t]=n?r:a,t++}),e}}(),MapWrapper=function(){function r(){}return r.clone=function(r){return createMapFromMap(r)},r.createFromStringMap=function(r){var n=new exports.Map;for(var e in r)n.set(e,r[e]);return n},r.toStringMap=function(r){var n={};return r.forEach(function(r,e){return n[e]=r}),n},r.createFromPairs=function(r){return createMapFromPairs(r)},r.clearValues=function(r){_clearValues(r)},r.iterable=function(r){return r},r.keys=function(r){return _arrayFromMap(r,!1)},r.values=function(r){return _arrayFromMap(r,!0)},r}();exports.MapWrapper=MapWrapper;var StringMapWrapper=function(){function r(){}return r.create=function(){return{}},r.contains=function(r,n){return r.hasOwnProperty(n)},r.get=function(r,n){return r.hasOwnProperty(n)?r[n]:void 0},r.set=function(r,n,e){r[n]=e},r.keys=function(r){return Object.keys(r)},r.values=function(r){return Object.keys(r).reduce(function(n,e){return n.push(r[e]),n},[])},r.isEmpty=function(r){for(var n in r)return!1;return!0},r["delete"]=function(r,n){delete r[n]},r.forEach=function(r,n){for(var e in r)r.hasOwnProperty(e)&&n(r[e],e)},r.merge=function(r,n){var e={};for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e},r.equals=function(r,n){var e=Object.keys(r),t=Object.keys(n);if(e.length!=t.length)return!1;for(var a,i=0;i<e.length;i++)if(a=e[i],r[a]!==n[a])return!1;return!0},r}();exports.StringMapWrapper=StringMapWrapper;var ListWrapper=function(){function r(){}return r.createFixedSize=function(r){return new Array(r)},r.createGrowableSize=function(r){return new Array(r)},r.clone=function(r){return r.slice(0)},r.forEachWithIndex=function(r,n){for(var e=0;e<r.length;e++)n(r[e],e)},r.first=function(r){return r?r[0]:null},r.last=function(r){return r&&0!=r.length?r[r.length-1]:null},r.indexOf=function(r,n,e){return void 0===e&&(e=0),r.indexOf(n,e)},r.contains=function(r,n){return-1!==r.indexOf(n)},r.reversed=function(n){var e=r.clone(n);return e.reverse()},r.concat=function(r,n){return r.concat(n)},r.insert=function(r,n,e){r.splice(n,0,e)},r.removeAt=function(r,n){var e=r[n];return r.splice(n,1),e},r.removeAll=function(r,n){for(var e=0;e<n.length;++e){var t=r.indexOf(n[e]);r.splice(t,1)}},r.remove=function(r,n){var e=r.indexOf(n);return e>-1?(r.splice(e,1),!0):!1},r.clear=function(r){r.length=0},r.isEmpty=function(r){return 0==r.length},r.fill=function(r,n,e,t){void 0===e&&(e=0),void 0===t&&(t=null),r.fill(n,e,null===t?r.length:t)},r.equals=function(r,n){if(r.length!=n.length)return!1;for(var e=0;e<r.length;++e)if(r[e]!==n[e])return!1;return!0},r.slice=function(r,n,e){return void 0===n&&(n=0),void 0===e&&(e=null),r.slice(n,null===e?void 0:e)},r.splice=function(r,n,e){return r.splice(n,e)},r.sort=function(r,n){lang_1.isPresent(n)?r.sort(n):r.sort()},r.toString=function(r){return r.toString()},r.toJSON=function(r){return JSON.stringify(r)},r.maximum=function(r,n){if(0==r.length)return null;for(var e=null,t=-(1/0),a=0;a<r.length;a++){var i=r[a];if(!lang_1.isBlank(i)){var o=n(i);o>t&&(e=i,t=o)}}return e},r.flatten=function(r){var n=[];return _flattenArray(r,n),n},r.addAll=function(r,n){for(var e=0;e<n.length;e++)r.push(n[e])},r}();exports.ListWrapper=ListWrapper,exports.isListLikeIterable=isListLikeIterable,exports.areIterablesEqual=areIterablesEqual,exports.iterateListLike=iterateListLike;var createSetFromList=function(){var r=new exports.Set([1,2,3]);return 3===r.size?function(r){return new exports.Set(r)}:function(r){var n=new exports.Set(r);if(n.size!==r.length)for(var e=0;e<r.length;e++)n.add(r[e]);return n}}(),SetWrapper=function(){function r(){}return r.createFromList=function(r){return createSetFromList(r)},r.has=function(r,n){return r.has(n)},r["delete"]=function(r,n){r["delete"](n)},r}();exports.SetWrapper=SetWrapper;

},{"26":26}],23:[function(require,module,exports){
"use strict";var lang_1=require(26),base_wrapped_exception_1=require(21),collection_1=require(22),_ArrayLogger=function(){function e(){this.res=[]}return e.prototype.log=function(e){this.res.push(e)},e.prototype.logError=function(e){this.res.push(e)},e.prototype.logGroup=function(e){this.res.push(e)},e.prototype.logGroupEnd=function(){},e}(),ExceptionHandler=function(){function e(e,n){void 0===n&&(n=!0),this._logger=e,this._rethrowException=n}return e.exceptionToString=function(n,r,t){void 0===r&&(r=null),void 0===t&&(t=null);var o=new _ArrayLogger,i=new e(o,!1);return i.call(n,r,t),o.res.join("\n")},e.prototype.call=function(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var t=this._findOriginalException(e),o=this._findOriginalStack(e),i=this._findContext(e);if(this._logger.logGroup("EXCEPTION: "+this._extractMessage(e)),lang_1.isPresent(n)&&lang_1.isBlank(o)&&(this._logger.logError("STACKTRACE:"),this._logger.logError(this._longStackTrace(n))),lang_1.isPresent(r)&&this._logger.logError("REASON: "+r),lang_1.isPresent(t)&&this._logger.logError("ORIGINAL EXCEPTION: "+this._extractMessage(t)),lang_1.isPresent(o)&&(this._logger.logError("ORIGINAL STACKTRACE:"),this._logger.logError(this._longStackTrace(o))),lang_1.isPresent(i)&&(this._logger.logError("ERROR CONTEXT:"),this._logger.logError(i)),this._logger.logGroupEnd(),this._rethrowException)throw e},e.prototype._extractMessage=function(e){return e instanceof base_wrapped_exception_1.BaseWrappedException?e.wrapperMessage:e.toString()},e.prototype._longStackTrace=function(e){return collection_1.isListLikeIterable(e)?e.join("\n\n-----async gap-----\n"):e.toString()},e.prototype._findContext=function(e){try{return e instanceof base_wrapped_exception_1.BaseWrappedException?lang_1.isPresent(e.context)?e.context:this._findContext(e.originalException):null}catch(n){return null}},e.prototype._findOriginalException=function(e){if(!(e instanceof base_wrapped_exception_1.BaseWrappedException))return null;for(var n=e.originalException;n instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(n.originalException);)n=n.originalException;return n},e.prototype._findOriginalStack=function(e){if(!(e instanceof base_wrapped_exception_1.BaseWrappedException))return null;for(var n=e,r=e.originalStack;n instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(n.originalException);)n=n.originalException,n instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(n.originalException)&&(r=n.originalStack);return r},e}();exports.ExceptionHandler=ExceptionHandler;

},{"21":21,"22":22,"26":26}],24:[function(require,module,exports){
"use strict";function makeTypeError(e){return new TypeError(e)}function unimplemented(){throw new BaseException("unimplemented")}var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},base_wrapped_exception_1=require(21),exception_handler_1=require(23),exception_handler_2=require(23);exports.ExceptionHandler=exception_handler_2.ExceptionHandler;var BaseException=function(e){function t(t){void 0===t&&(t="--"),e.call(this,t),this.message=t,this.stack=new Error(t).stack}return __extends(t,e),t.prototype.toString=function(){return this.message},t}(Error);exports.BaseException=BaseException;var WrappedException=function(e){function t(t,r,n,o){e.call(this,t),this._wrapperMessage=t,this._originalException=r,this._originalStack=n,this._context=o,this._wrapperStack=new Error(t).stack}return __extends(t,e),Object.defineProperty(t.prototype,"wrapperMessage",{get:function(){return this._wrapperMessage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperStack",{get:function(){return this._wrapperStack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalException",{get:function(){return this._originalException},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalStack",{get:function(){return this._originalStack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return exception_handler_1.ExceptionHandler.exceptionToString(this)},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.message},t}(base_wrapped_exception_1.BaseWrappedException);exports.WrappedException=WrappedException,exports.makeTypeError=makeTypeError,exports.unimplemented=unimplemented;

},{"21":21,"23":23}],25:[function(require,module,exports){
"use strict";function digitCondition(t){return 2==t?"2-digit":"numeric"}function nameCondition(t){return 4>t?"short":"long"}function extractComponents(t){for(var e,r={},i=0;i<t.length;){for(e=i;e<t.length&&t[e]==t[i];)e++;var o=e-i;switch(t[i]){case"G":r.era=nameCondition(o);break;case"y":r.year=digitCondition(o);break;case"M":o>=3?r.month=nameCondition(o):r.month=digitCondition(o);break;case"d":r.day=digitCondition(o);break;case"E":r.weekday=nameCondition(o);break;case"j":r.hour=digitCondition(o);break;case"h":r.hour=digitCondition(o),r.hour12=!0;break;case"H":r.hour=digitCondition(o),r.hour12=!1;break;case"m":r.minute=digitCondition(o);break;case"s":r.second=digitCondition(o);break;case"z":r.timeZoneName="long";break;case"Z":r.timeZoneName="short"}i=e}return r}!function(t){t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency"}(exports.NumberFormatStyle||(exports.NumberFormatStyle={}));var NumberFormatStyle=exports.NumberFormatStyle,NumberFormatter=function(){function t(){}return t.format=function(t,e,r,i){var o=void 0===i?{}:i,n=o.minimumIntegerDigits,a=void 0===n?1:n,m=o.minimumFractionDigits,c=void 0===m?0:m,u=o.maximumFractionDigits,s=void 0===u?3:u,d=o.currency,b=o.currencyAsSymbol,g=void 0===b?!1:b,C={minimumIntegerDigits:a,minimumFractionDigits:c,maximumFractionDigits:s};return C.style=NumberFormatStyle[r].toLowerCase(),r==NumberFormatStyle.Currency&&(C.currency=d,C.currencyDisplay=g?"symbol":"code"),new Intl.NumberFormat(e,C).format(t)},t}();exports.NumberFormatter=NumberFormatter;var dateFormatterCache=new Map,DateFormatter=function(){function t(){}return t.format=function(t,e,r){var i=e+r;if(dateFormatterCache.has(i))return dateFormatterCache.get(i).format(t);var o=new Intl.DateTimeFormat(e,extractComponents(r));return dateFormatterCache.set(i,o),o.format(t)},t}();exports.DateFormatter=DateFormatter;

},{}],26:[function(require,module,exports){
(function (global){
"use strict";function scheduleMicroTask(e){Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function getTypeNameForDebugging(e){return e.name?e.name:typeof e}function lockMode(){_modeLocked=!0}function enableProdMode(){if(_modeLocked)throw"Cannot enable prod mode after platform setup.";_devMode=!1}function assertionsEnabled(){return _devMode}function isPresent(e){return void 0!==e&&null!==e}function isBlank(e){return void 0===e||null===e}function isBoolean(e){return"boolean"==typeof e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isFunction(e){return"function"==typeof e}function isType(e){return isFunction(e)}function isStringMap(e){return"object"==typeof e&&null!==e}function isStrictStringMap(e){return isStringMap(e)&&Object.getPrototypeOf(e)===STRING_MAP_PROTO}function isPromise(e){return e instanceof _global.Promise}function isArray(e){return Array.isArray(e)}function isDate(e){return e instanceof exports.Date&&!isNaN(e.valueOf())}function noop(){}function stringify(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.name)return e.name;if(e.overriddenName)return e.overriddenName;var r=e.toString(),n=r.indexOf("\n");return-1===n?r:r.substring(0,n)}function serializeEnum(e){return e}function deserializeEnum(e,r){return e}function resolveEnumToken(e,r){return e[r]}function looseIdentical(e,r){return e===r||"number"==typeof e&&"number"==typeof r&&isNaN(e)&&isNaN(r)}function getMapKey(e){return e}function normalizeBlank(e){return isBlank(e)?null:e}function normalizeBool(e){return isBlank(e)?!1:e}function isJsObject(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function print(e){console.log(e)}function warn(e){console.warn(e)}function setValueOnPath(e,r,n){for(var t=r.split("."),o=e;t.length>1;){var i=t.shift();o=o.hasOwnProperty(i)&&isPresent(o[i])?o[i]:o[i]={}}void 0!==o&&null!==o||(o={}),o[t.shift()]=n}function getSymbolIterator(){if(isBlank(_symbolIterator))if(isPresent(globalScope.Symbol)&&isPresent(Symbol.iterator))_symbolIterator=Symbol.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),r=0;r<e.length;++r){var n=e[r];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(_symbolIterator=n)}return _symbolIterator}function evalExpression(e,r,n,t){var o=n+"\nreturn "+r+"\n//# sourceURL="+e,i=[],s=[];for(var u in t)i.push(u),s.push(t[u]);return(new(Function.bind.apply(Function,[void 0].concat(i.concat(o))))).apply(void 0,s)}function isPrimitive(e){return!isJsObject(e)}function hasConstructor(e,r){return e.constructor===r}function bitWiseOr(e){return e.reduce(function(e,r){return e|r})}function bitWiseAnd(e){return e.reduce(function(e,r){return e&r})}function escape(e){return _global.encodeURI(e)}var __extends=this&&this.__extends||function(e,r){function n(){this.constructor=e}for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)},globalScope;globalScope="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window,exports.scheduleMicroTask=scheduleMicroTask,exports.IS_DART=!1;var _global=globalScope;exports.global=_global,exports.Type=Function,exports.getTypeNameForDebugging=getTypeNameForDebugging,exports.Math=_global.Math,exports.Date=_global.Date;var _devMode=!0,_modeLocked=!1;exports.lockMode=lockMode,exports.enableProdMode=enableProdMode,exports.assertionsEnabled=assertionsEnabled,_global.assert=function(e){},exports.isPresent=isPresent,exports.isBlank=isBlank,exports.isBoolean=isBoolean,exports.isNumber=isNumber,exports.isString=isString,exports.isFunction=isFunction,exports.isType=isType,exports.isStringMap=isStringMap;var STRING_MAP_PROTO=Object.getPrototypeOf({});exports.isStrictStringMap=isStrictStringMap,exports.isPromise=isPromise,exports.isArray=isArray,exports.isDate=isDate,exports.noop=noop,exports.stringify=stringify,exports.serializeEnum=serializeEnum,exports.deserializeEnum=deserializeEnum,exports.resolveEnumToken=resolveEnumToken;var StringWrapper=function(){function e(){}return e.fromCharCode=function(e){return String.fromCharCode(e)},e.charCodeAt=function(e,r){return e.charCodeAt(r)},e.split=function(e,r){return e.split(r)},e.equals=function(e,r){return e===r},e.stripLeft=function(e,r){if(e&&e.length){for(var n=0,t=0;t<e.length&&e[t]==r;t++)n++;e=e.substring(n)}return e},e.stripRight=function(e,r){if(e&&e.length){for(var n=e.length,t=e.length-1;t>=0&&e[t]==r;t--)n--;e=e.substring(0,n)}return e},e.replace=function(e,r,n){return e.replace(r,n)},e.replaceAll=function(e,r,n){return e.replace(r,n)},e.slice=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=null),e.slice(r,null===n?void 0:n)},e.replaceAllMapped=function(e,r,n){return e.replace(r,function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return e.splice(-2,2),n(e)})},e.contains=function(e,r){return-1!=e.indexOf(r)},e.compare=function(e,r){return r>e?-1:e>r?1:0},e}();exports.StringWrapper=StringWrapper;var StringJoiner=function(){function e(e){void 0===e&&(e=[]),this.parts=e}return e.prototype.add=function(e){this.parts.push(e)},e.prototype.toString=function(){return this.parts.join("")},e}();exports.StringJoiner=StringJoiner;var NumberParseError=function(e){function r(r){e.call(this),this.message=r}return __extends(r,e),r.prototype.toString=function(){return this.message},r}(Error);exports.NumberParseError=NumberParseError;var NumberWrapper=function(){function e(){}return e.toFixed=function(e,r){return e.toFixed(r)},e.equal=function(e,r){return e===r},e.parseIntAutoRadix=function(e){var r=parseInt(e);if(isNaN(r))throw new NumberParseError("Invalid integer literal when parsing "+e);return r},e.parseInt=function(e,r){if(10==r){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,r)}else if(16==r){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,r)}else{var n=parseInt(e,r);if(!isNaN(n))return n}throw new NumberParseError("Invalid integer literal when parsing "+e+" in base "+r)},e.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}();exports.NumberWrapper=NumberWrapper,exports.RegExp=_global.RegExp;var RegExpWrapper=function(){function e(){}return e.create=function(e,r){return void 0===r&&(r=""),r=r.replace(/g/g,""),new _global.RegExp(e,r+"g")},e.firstMatch=function(e,r){return e.lastIndex=0,e.exec(r)},e.test=function(e,r){return e.lastIndex=0,e.test(r)},e.matcher=function(e,r){return e.lastIndex=0,{re:e,input:r}},e.replaceAll=function(e,r,n){var t=e.exec(r),o="";e.lastIndex=0;for(var i=0;t;)o+=r.substring(i,t.index),o+=n(t),i=t.index+t[0].length,e.lastIndex=i,t=e.exec(r);return o+=r.substring(i)},e}();exports.RegExpWrapper=RegExpWrapper;var RegExpMatcherWrapper=function(){function e(){}return e.next=function(e){return e.re.exec(e.input)},e}();exports.RegExpMatcherWrapper=RegExpMatcherWrapper;var FunctionWrapper=function(){function e(){}return e.apply=function(e,r){return e.apply(null,r)},e}();exports.FunctionWrapper=FunctionWrapper,exports.looseIdentical=looseIdentical,exports.getMapKey=getMapKey,exports.normalizeBlank=normalizeBlank,exports.normalizeBool=normalizeBool,exports.isJsObject=isJsObject,exports.print=print,exports.warn=warn;var Json=function(){function e(){}return e.parse=function(e){return _global.JSON.parse(e)},e.stringify=function(e){return _global.JSON.stringify(e,null,2)},e}();exports.Json=Json;var DateWrapper=function(){function e(){}return e.create=function(e,r,n,t,o,i,s){return void 0===r&&(r=1),void 0===n&&(n=1),void 0===t&&(t=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===s&&(s=0),new exports.Date(e,r-1,n,t,o,i,s)},e.fromISOString=function(e){return new exports.Date(e)},e.fromMillis=function(e){return new exports.Date(e)},e.toMillis=function(e){return e.getTime()},e.now=function(){return new exports.Date},e.toJson=function(e){return e.toJSON()},e}();exports.DateWrapper=DateWrapper,exports.setValueOnPath=setValueOnPath;var _symbolIterator=null;exports.getSymbolIterator=getSymbolIterator,exports.evalExpression=evalExpression,exports.isPrimitive=isPrimitive,exports.hasConstructor=hasConstructor,exports.bitWiseOr=bitWiseOr,exports.bitWiseAnd=bitWiseAnd,exports.escape=escape;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],27:[function(require,module,exports){
"use strict";var PromiseCompleter=function(){function e(){var e=this;this.promise=new Promise(function(r,n){e.resolve=r,e.reject=n})}return e}();exports.PromiseCompleter=PromiseCompleter;var PromiseWrapper=function(){function e(){}return e.resolve=function(e){return Promise.resolve(e)},e.reject=function(e,r){return Promise.reject(e)},e.catchError=function(e,r){return e["catch"](r)},e.all=function(e){return 0==e.length?Promise.resolve([]):Promise.all(e)},e.then=function(e,r,n){return e.then(r,n)},e.wrap=function(e){return new Promise(function(r,n){try{r(e())}catch(t){n(t)}})},e.scheduleMicrotask=function(r){e.then(e.resolve(null),r,function(e){})},e.isPromise=function(e){return e instanceof Promise},e.completer=function(){return new PromiseCompleter},e}();exports.PromiseWrapper=PromiseWrapper;

},{}],28:[function(require,module,exports){
"use strict";var model_1=require(50);exports.AbstractControl=model_1.AbstractControl,exports.Control=model_1.Control,exports.ControlGroup=model_1.ControlGroup,exports.ControlArray=model_1.ControlArray;var abstract_control_directive_1=require(30);exports.AbstractControlDirective=abstract_control_directive_1.AbstractControlDirective;var control_container_1=require(32);exports.ControlContainer=control_container_1.ControlContainer;var ng_control_name_1=require(37);exports.NgControlName=ng_control_name_1.NgControlName;var ng_form_control_1=require(40);exports.NgFormControl=ng_form_control_1.NgFormControl;var ng_model_1=require(42);exports.NgModel=ng_model_1.NgModel;var ng_control_1=require(35);exports.NgControl=ng_control_1.NgControl;var ng_control_group_1=require(36);exports.NgControlGroup=ng_control_group_1.NgControlGroup;var ng_form_model_1=require(41);exports.NgFormModel=ng_form_model_1.NgFormModel;var ng_form_1=require(39);exports.NgForm=ng_form_1.NgForm;var control_value_accessor_1=require(33);exports.NG_VALUE_ACCESSOR=control_value_accessor_1.NG_VALUE_ACCESSOR;var default_value_accessor_1=require(34);exports.DefaultValueAccessor=default_value_accessor_1.DefaultValueAccessor;var ng_control_status_1=require(38);exports.NgControlStatus=ng_control_status_1.NgControlStatus;var checkbox_value_accessor_1=require(31);exports.CheckboxControlValueAccessor=checkbox_value_accessor_1.CheckboxControlValueAccessor;var select_control_value_accessor_1=require(46);exports.NgSelectOption=select_control_value_accessor_1.NgSelectOption,exports.SelectControlValueAccessor=select_control_value_accessor_1.SelectControlValueAccessor;var directives_1=require(29);exports.FORM_DIRECTIVES=directives_1.FORM_DIRECTIVES,exports.RadioButtonState=directives_1.RadioButtonState;var validators_1=require(51);exports.NG_VALIDATORS=validators_1.NG_VALIDATORS,exports.NG_ASYNC_VALIDATORS=validators_1.NG_ASYNC_VALIDATORS,exports.Validators=validators_1.Validators;var validators_2=require(48);exports.RequiredValidator=validators_2.RequiredValidator,exports.MinLengthValidator=validators_2.MinLengthValidator,exports.MaxLengthValidator=validators_2.MaxLengthValidator,exports.PatternValidator=validators_2.PatternValidator;var form_builder_1=require(49);exports.FormBuilder=form_builder_1.FormBuilder;var form_builder_2=require(49),radio_control_value_accessor_1=require(45);exports.FORM_PROVIDERS=[form_builder_2.FormBuilder,radio_control_value_accessor_1.RadioControlRegistry],exports.FORM_BINDINGS=exports.FORM_PROVIDERS;

},{"29":29,"30":30,"31":31,"32":32,"33":33,"34":34,"35":35,"36":36,"37":37,"38":38,"39":39,"40":40,"41":41,"42":42,"45":45,"46":46,"48":48,"49":49,"50":50,"51":51}],29:[function(require,module,exports){
"use strict";var ng_control_name_1=require(37),ng_form_control_1=require(40),ng_model_1=require(42),ng_control_group_1=require(36),ng_form_model_1=require(41),ng_form_1=require(39),default_value_accessor_1=require(34),checkbox_value_accessor_1=require(31),number_value_accessor_1=require(44),radio_control_value_accessor_1=require(45),ng_control_status_1=require(38),select_control_value_accessor_1=require(46),validators_1=require(48),ng_control_name_2=require(37);exports.NgControlName=ng_control_name_2.NgControlName;var ng_form_control_2=require(40);exports.NgFormControl=ng_form_control_2.NgFormControl;var ng_model_2=require(42);exports.NgModel=ng_model_2.NgModel;var ng_control_group_2=require(36);exports.NgControlGroup=ng_control_group_2.NgControlGroup;var ng_form_model_2=require(41);exports.NgFormModel=ng_form_model_2.NgFormModel;var ng_form_2=require(39);exports.NgForm=ng_form_2.NgForm;var default_value_accessor_2=require(34);exports.DefaultValueAccessor=default_value_accessor_2.DefaultValueAccessor;var checkbox_value_accessor_2=require(31);exports.CheckboxControlValueAccessor=checkbox_value_accessor_2.CheckboxControlValueAccessor;var radio_control_value_accessor_2=require(45);exports.RadioControlValueAccessor=radio_control_value_accessor_2.RadioControlValueAccessor,exports.RadioButtonState=radio_control_value_accessor_2.RadioButtonState;var number_value_accessor_2=require(44);exports.NumberValueAccessor=number_value_accessor_2.NumberValueAccessor;var ng_control_status_2=require(38);exports.NgControlStatus=ng_control_status_2.NgControlStatus;var select_control_value_accessor_2=require(46);exports.SelectControlValueAccessor=select_control_value_accessor_2.SelectControlValueAccessor,exports.NgSelectOption=select_control_value_accessor_2.NgSelectOption;var validators_2=require(48);exports.RequiredValidator=validators_2.RequiredValidator,exports.MinLengthValidator=validators_2.MinLengthValidator,exports.MaxLengthValidator=validators_2.MaxLengthValidator,exports.PatternValidator=validators_2.PatternValidator;var ng_control_1=require(35);exports.NgControl=ng_control_1.NgControl,exports.FORM_DIRECTIVES=[ng_control_name_1.NgControlName,ng_control_group_1.NgControlGroup,ng_form_control_1.NgFormControl,ng_model_1.NgModel,ng_form_model_1.NgFormModel,ng_form_1.NgForm,select_control_value_accessor_1.NgSelectOption,default_value_accessor_1.DefaultValueAccessor,number_value_accessor_1.NumberValueAccessor,checkbox_value_accessor_1.CheckboxControlValueAccessor,select_control_value_accessor_1.SelectControlValueAccessor,radio_control_value_accessor_1.RadioControlValueAccessor,ng_control_status_1.NgControlStatus,validators_1.RequiredValidator,validators_1.MinLengthValidator,validators_1.MaxLengthValidator,validators_1.PatternValidator];

},{"31":31,"34":34,"35":35,"36":36,"37":37,"38":38,"39":39,"40":40,"41":41,"42":42,"44":44,"45":45,"46":46,"48":48}],30:[function(require,module,exports){
"use strict";var lang_1=require(26),exceptions_1=require(24),AbstractControlDirective=function(){function e(){}return Object.defineProperty(e.prototype,"control",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return lang_1.isPresent(this.control)?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return lang_1.isPresent(this.control)?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return lang_1.isPresent(this.control)?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return lang_1.isPresent(this.control)?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return lang_1.isPresent(this.control)?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return lang_1.isPresent(this.control)?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return lang_1.isPresent(this.control)?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}();exports.AbstractControlDirective=AbstractControlDirective;

},{"24":24,"26":26}],31:[function(require,module,exports){
"use strict";var core_1=require(140),control_value_accessor_1=require(33);exports.CHECKBOX_VALUE_ACCESSOR={provide:control_value_accessor_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return CheckboxControlValueAccessor}),multi:!0};var CheckboxControlValueAccessor=function(){function e(e,o){this._renderer=e,this._elementRef=o,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.decorators=[{type:core_1.Directive,args:[{selector:"input[type=checkbox][ngControl],input[type=checkbox][ngFormControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[exports.CHECKBOX_VALUE_ACCESSOR]}]}],e.ctorParameters=[{type:core_1.Renderer},{type:core_1.ElementRef}],e}();exports.CheckboxControlValueAccessor=CheckboxControlValueAccessor;

},{"140":140,"33":33}],32:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},abstract_control_directive_1=require(30),ControlContainer=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(abstract_control_directive_1.AbstractControlDirective);exports.ControlContainer=ControlContainer;

},{"30":30}],33:[function(require,module,exports){
"use strict";var core_1=require(140);exports.NG_VALUE_ACCESSOR=new core_1.OpaqueToken("NgValueAccessor");

},{"140":140}],34:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),control_value_accessor_1=require(33);exports.DEFAULT_VALUE_ACCESSOR={provide:control_value_accessor_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return DefaultValueAccessor}),multi:!0};var DefaultValueAccessor=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){var t=lang_1.isBlank(e)?"":e;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.decorators=[{type:core_1.Directive,args:[{selector:"input:not([type=checkbox])[ngControl],textarea[ngControl],input:not([type=checkbox])[ngFormControl],textarea[ngFormControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},bindings:[exports.DEFAULT_VALUE_ACCESSOR]}]}],e.ctorParameters=[{type:core_1.Renderer},{type:core_1.ElementRef}],e}();exports.DefaultValueAccessor=DefaultValueAccessor;

},{"140":140,"26":26,"33":33}],35:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},exceptions_1=require(24),abstract_control_directive_1=require(30),NgControl=function(e){function t(){e.apply(this,arguments),this.name=null,this.valueAccessor=null}return __extends(t,e),Object.defineProperty(t.prototype,"validator",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),t}(abstract_control_directive_1.AbstractControlDirective);exports.NgControl=NgControl;

},{"24":24,"30":30}],36:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(r,o){function t(){this.constructor=r}for(var e in o)o.hasOwnProperty(e)&&(r[e]=o[e]);r.prototype=null===o?Object.create(o):(t.prototype=o.prototype,new t)},core_1=require(140),control_container_1=require(32),shared_1=require(47),validators_1=require(51);exports.controlGroupProvider={provide:control_container_1.ControlContainer,useExisting:core_1.forwardRef(function(){return NgControlGroup})};var NgControlGroup=function(r){function o(o,t,e){r.call(this),this._validators=t,this._asyncValidators=e,this._parent=o}return __extends(o,r),o.prototype.ngOnInit=function(){this.formDirective.addControlGroup(this)},o.prototype.ngOnDestroy=function(){this.formDirective.removeControlGroup(this)},Object.defineProperty(o.prototype,"control",{get:function(){return this.formDirective.getControlGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"path",{get:function(){return shared_1.controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),o.decorators=[{type:core_1.Directive,args:[{selector:"[ngControlGroup]",providers:[exports.controlGroupProvider],inputs:["name: ngControlGroup"],exportAs:"ngForm"}]}],o.ctorParameters=[{type:control_container_1.ControlContainer,decorators:[{type:core_1.Host},{type:core_1.SkipSelf}]},{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]}],o}(control_container_1.ControlContainer);exports.NgControlGroup=NgControlGroup;

},{"140":140,"32":32,"47":47,"51":51}],37:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},core_1=require(140),async_1=require(20),control_container_1=require(32),ng_control_1=require(35),control_value_accessor_1=require(33),shared_1=require(47),validators_1=require(51);exports.controlNameBinding={provide:ng_control_1.NgControl,useExisting:core_1.forwardRef(function(){return NgControlName})};var NgControlName=function(e){function t(t,r,o,n){e.call(this),this._parent=t,this._validators=r,this._asyncValidators=o,this.update=new async_1.EventEmitter,this._added=!1,this.valueAccessor=shared_1.selectValueAccessor(this,n)}return __extends(t,e),t.prototype.ngOnChanges=function(e){this._added||(this.formDirective.addControl(this),this._added=!0),shared_1.isPropertyUpdated(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},t.prototype.ngOnDestroy=function(){this.formDirective.removeControl(this)},t.prototype.viewToModelUpdate=function(e){this.viewModel=e,async_1.ObservableWrapper.callEmit(this.update,e)},Object.defineProperty(t.prototype,"path",{get:function(){return shared_1.controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getControl(this)},enumerable:!0,configurable:!0}),t.decorators=[{type:core_1.Directive,args:[{selector:"[ngControl]",bindings:[exports.controlNameBinding],inputs:["name: ngControl","model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}]}],t.ctorParameters=[{type:control_container_1.ControlContainer,decorators:[{type:core_1.Host},{type:core_1.SkipSelf}]},{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]},{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[control_value_accessor_1.NG_VALUE_ACCESSOR]}]}],t}(ng_control_1.NgControl);exports.NgControlName=NgControlName;

},{"140":140,"20":20,"32":32,"33":33,"35":35,"47":47,"51":51}],38:[function(require,module,exports){
"use strict";var core_1=require(140),ng_control_1=require(35),lang_1=require(26),NgControlStatus=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.untouched:!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.touched:!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.pristine:!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.dirty:!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return lang_1.isPresent(this._cd.control)?this._cd.control.valid:!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return lang_1.isPresent(this._cd.control)?!this._cd.control.valid:!1},enumerable:!0,configurable:!0}),t.decorators=[{type:core_1.Directive,args:[{selector:"[ngControl],[ngModel],[ngFormControl]",host:{"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid"}}]}],t.ctorParameters=[{type:ng_control_1.NgControl,decorators:[{type:core_1.Self}]}],t}();exports.NgControlStatus=NgControlStatus;

},{"140":140,"26":26,"35":35}],39:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},core_1=require(140),async_1=require(20),collection_1=require(22),lang_1=require(26),control_container_1=require(32),model_1=require(50),shared_1=require(47),validators_1=require(51);exports.formDirectiveProvider={provide:control_container_1.ControlContainer,useExisting:core_1.forwardRef(function(){return NgForm})};var NgForm=function(e){function r(r,t){e.call(this),this.ngSubmit=new async_1.EventEmitter,this.form=new model_1.ControlGroup({},null,shared_1.composeValidators(r),shared_1.composeAsyncValidators(t))}return __extends(r,e),Object.defineProperty(r.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),r.prototype.addControl=function(e){var r=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var t=r._findContainer(e.path),o=new model_1.Control;shared_1.setUpControl(o,e),t.addControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})},r.prototype.getControl=function(e){return this.form.find(e.path)},r.prototype.removeControl=function(e){var r=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var t=r._findContainer(e.path);lang_1.isPresent(t)&&(t.removeControl(e.name),t.updateValueAndValidity({emitEvent:!1}))})},r.prototype.addControlGroup=function(e){var r=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var t=r._findContainer(e.path),o=new model_1.ControlGroup({});shared_1.setUpControlGroup(o,e),t.addControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})},r.prototype.removeControlGroup=function(e){var r=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var t=r._findContainer(e.path);lang_1.isPresent(t)&&(t.removeControl(e.name),t.updateValueAndValidity({emitEvent:!1}))})},r.prototype.getControlGroup=function(e){return this.form.find(e.path)},r.prototype.updateModel=function(e,r){var t=this;async_1.PromiseWrapper.scheduleMicrotask(function(){var o=t.form.find(e.path);o.updateValue(r)})},r.prototype.onSubmit=function(){return async_1.ObservableWrapper.callEmit(this.ngSubmit,null),!1},r.prototype._findContainer=function(e){return e.pop(),collection_1.ListWrapper.isEmpty(e)?this.form:this.form.find(e)},r.decorators=[{type:core_1.Directive,args:[{selector:"form:not([ngNoForm]):not([ngFormModel]),ngForm,[ngForm]",bindings:[exports.formDirectiveProvider],host:{"(submit)":"onSubmit()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],r.ctorParameters=[{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]}],r}(control_container_1.ControlContainer);exports.NgForm=NgForm;

},{"140":140,"20":20,"22":22,"26":26,"32":32,"47":47,"50":50,"51":51}],40:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,o){function t(){this.constructor=e}for(var r in o)o.hasOwnProperty(r)&&(e[r]=o[r]);e.prototype=null===o?Object.create(o):(t.prototype=o.prototype,new t)},core_1=require(140),collection_1=require(22),async_1=require(20),ng_control_1=require(35),validators_1=require(51),control_value_accessor_1=require(33),shared_1=require(47);exports.formControlBinding={provide:ng_control_1.NgControl,useExisting:core_1.forwardRef(function(){return NgFormControl})};var NgFormControl=function(e){function o(o,t,r){e.call(this),this._validators=o,this._asyncValidators=t,this.update=new async_1.EventEmitter,this.valueAccessor=shared_1.selectValueAccessor(this,r)}return __extends(o,e),o.prototype.ngOnChanges=function(e){this._isControlChanged(e)&&(shared_1.setUpControl(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})),shared_1.isPropertyUpdated(e,this.viewModel)&&(this.form.updateValue(this.model),this.viewModel=this.model)},Object.defineProperty(o.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),o.prototype.viewToModelUpdate=function(e){this.viewModel=e,async_1.ObservableWrapper.callEmit(this.update,e)},o.prototype._isControlChanged=function(e){return collection_1.StringMapWrapper.contains(e,"form")},o.decorators=[{type:core_1.Directive,args:[{selector:"[ngFormControl]",bindings:[exports.formControlBinding],inputs:["form: ngFormControl","model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}]}],o.ctorParameters=[{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]},{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[control_value_accessor_1.NG_VALUE_ACCESSOR]}]}],o}(ng_control_1.NgControl);exports.NgFormControl=NgFormControl;

},{"140":140,"20":20,"22":22,"33":33,"35":35,"47":47,"51":51}],41:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},core_1=require(140),lang_1=require(26),collection_1=require(22),exceptions_1=require(24),async_1=require(20),control_container_1=require(32),shared_1=require(47),validators_1=require(51);exports.formDirectiveProvider={provide:control_container_1.ControlContainer,useExisting:core_1.forwardRef(function(){return NgFormModel})};var NgFormModel=function(t){function e(e,o){t.call(this),this._validators=e,this._asyncValidators=o,this.form=null,this.directives=[],this.ngSubmit=new async_1.EventEmitter}return __extends(e,t),e.prototype.ngOnChanges=function(t){if(this._checkFormPresent(),collection_1.StringMapWrapper.contains(t,"form")){var e=shared_1.composeValidators(this._validators);this.form.validator=validators_1.Validators.compose([this.form.validator,e]);var o=shared_1.composeAsyncValidators(this._asyncValidators);this.form.asyncValidator=validators_1.Validators.composeAsync([this.form.asyncValidator,o]),this.form.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}this._updateDomValue()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.find(t.path);shared_1.setUpControl(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t)},e.prototype.getControl=function(t){return this.form.find(t.path)},e.prototype.removeControl=function(t){collection_1.ListWrapper.remove(this.directives,t)},e.prototype.addControlGroup=function(t){var e=this.form.find(t.path);shared_1.setUpControlGroup(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeControlGroup=function(t){},e.prototype.getControlGroup=function(t){return this.form.find(t.path)},e.prototype.updateModel=function(t,e){var o=this.form.find(t.path);o.updateValue(e)},e.prototype.onSubmit=function(){return async_1.ObservableWrapper.callEmit(this.ngSubmit,null),!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var o=t.form.find(e.path);e.valueAccessor.writeValue(o.value)})},e.prototype._checkFormPresent=function(){if(lang_1.isBlank(this.form))throw new exceptions_1.BaseException('ngFormModel expects a form. Please pass one in. Example: <form [ngFormModel]="myCoolForm">')},e.decorators=[{type:core_1.Directive,args:[{selector:"[ngFormModel]",bindings:[exports.formDirectiveProvider],inputs:["form: ngFormModel"],host:{"(submit)":"onSubmit()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],e.ctorParameters=[{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]}],e}(control_container_1.ControlContainer);exports.NgFormModel=NgFormModel;

},{"140":140,"20":20,"22":22,"24":24,"26":26,"32":32,"47":47,"51":51}],42:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},core_1=require(140),async_1=require(20),control_value_accessor_1=require(33),ng_control_1=require(35),model_1=require(50),validators_1=require(51),shared_1=require(47);exports.formControlBinding={provide:ng_control_1.NgControl,useExisting:core_1.forwardRef(function(){return NgModel})};var NgModel=function(e){function t(t,o,r){e.call(this),this._validators=t,this._asyncValidators=o,this._control=new model_1.Control,this._added=!1,this.update=new async_1.EventEmitter,this.valueAccessor=shared_1.selectValueAccessor(this,r)}return __extends(t,e),t.prototype.ngOnChanges=function(e){this._added||(shared_1.setUpControl(this._control,this),this._control.updateValueAndValidity({emitEvent:!1}),this._added=!0),shared_1.isPropertyUpdated(e,this.viewModel)&&(this._control.updateValue(this.model),this.viewModel=this.model)},Object.defineProperty(t.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return shared_1.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return shared_1.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){this.viewModel=e,async_1.ObservableWrapper.callEmit(this.update,e)},t.decorators=[{type:core_1.Directive,args:[{selector:"[ngModel]:not([ngControl]):not([ngFormControl])",bindings:[exports.formControlBinding],inputs:["model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}]}],t.ctorParameters=[{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_VALIDATORS]}]},{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[validators_1.NG_ASYNC_VALIDATORS]}]},{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Self},{type:core_1.Inject,args:[control_value_accessor_1.NG_VALUE_ACCESSOR]}]}],t}(ng_control_1.NgControl);exports.NgModel=NgModel;

},{"140":140,"20":20,"33":33,"35":35,"47":47,"50":50,"51":51}],43:[function(require,module,exports){
"use strict";function normalizeValidator(a){return void 0!==a.validate?function(r){return a.validate(r)}:a}function normalizeAsyncValidator(a){return void 0!==a.validate?function(r){return Promise.resolve(a.validate(r))}:a}exports.normalizeValidator=normalizeValidator,exports.normalizeAsyncValidator=normalizeAsyncValidator;

},{}],44:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),control_value_accessor_1=require(33);exports.NUMBER_VALUE_ACCESSOR={provide:control_value_accessor_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return NumberValueAccessor}),multi:!0};var NumberValueAccessor=function(){function e(e,r){this._renderer=e,this._elementRef=r,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"value",e)},e.prototype.registerOnChange=function(e){this.onChange=function(r){e(""==r?null:lang_1.NumberWrapper.parseFloat(r))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.decorators=[{type:core_1.Directive,args:[{selector:"input[type=number][ngControl],input[type=number][ngFormControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},bindings:[exports.NUMBER_VALUE_ACCESSOR]}]}],e.ctorParameters=[{type:core_1.Renderer},{type:core_1.ElementRef}],e}();exports.NumberValueAccessor=NumberValueAccessor;

},{"140":140,"26":26,"33":33}],45:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),collection_1=require(22),control_value_accessor_1=require(33),ng_control_1=require(35);exports.RADIO_VALUE_ACCESSOR={provide:control_value_accessor_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return RadioControlValueAccessor}),multi:!0};var RadioControlRegistry=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=-1,o=0;o<this._accessors.length;++o)this._accessors[o][1]===t&&(e=o);collection_1.ListWrapper.removeAt(this._accessors,e)},t.prototype.select=function(t){this._accessors.forEach(function(e){e[0].control.root===t._control.control.root&&e[1]!==t&&e[1].fireUncheck()})},t.decorators=[{type:core_1.Injectable}],t}();exports.RadioControlRegistry=RadioControlRegistry;var RadioButtonState=function(){function t(t,e){this.checked=t,this.value=e}return t}();exports.RadioButtonState=RadioButtonState;var RadioControlValueAccessor=function(){function t(t,e,o,r){this._renderer=t,this._elementRef=e,this._registry=o,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(ng_control_1.NgControl),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t,lang_1.isPresent(t)&&t.checked&&this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",!0)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(new RadioButtonState(!0,e._state.value)),e._registry.select(e)}},t.prototype.fireUncheck=function(){this._fn(new RadioButtonState(!1,this._state.value))},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.decorators=[{type:core_1.Directive,args:[{selector:"input[type=radio][ngControl],input[type=radio][ngFormControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[exports.RADIO_VALUE_ACCESSOR]}]}],t.ctorParameters=[{type:core_1.Renderer},{type:core_1.ElementRef},{type:RadioControlRegistry},{type:core_1.Injector}],t.propDecorators={name:[{type:core_1.Input}]},t}();exports.RadioControlValueAccessor=RadioControlValueAccessor;

},{"140":140,"22":22,"26":26,"33":33,"35":35}],46:[function(require,module,exports){
"use strict";function _buildValueString(e,t){return lang_1.isBlank(e)?""+t:(lang_1.isPrimitive(t)||(t="Object"),lang_1.StringWrapper.slice(e+": "+t,0,50))}function _extractId(e){return e.split(":")[0]}var core_1=require(140),lang_1=require(26),collection_1=require(22),control_value_accessor_1=require(33);exports.SELECT_VALUE_ACCESSOR={provide:control_value_accessor_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return SelectControlValueAccessor}),multi:!0};var SelectControlValueAccessor=function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this.value=e;var t=_buildValueString(this._getOptionId(e),e);this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(r){e(t._getOptionValue(r))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype._registerOption=function(){return(this._idCounter++).toString()},e.prototype._getOptionId=function(e){for(var t=0,r=collection_1.MapWrapper.keys(this._optionMap);t<r.length;t++){var n=r[t];if(lang_1.looseIdentical(this._optionMap.get(n),e))return n}return null},e.prototype._getOptionValue=function(e){var t=this._optionMap.get(_extractId(e));return lang_1.isPresent(t)?t:e},e.decorators=[{type:core_1.Directive,args:[{selector:"select[ngControl],select[ngFormControl],select[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[exports.SELECT_VALUE_ACCESSOR]}]}],e.ctorParameters=[{type:core_1.Renderer},{type:core_1.ElementRef}],e}();exports.SelectControlValueAccessor=SelectControlValueAccessor;var NgSelectOption=function(){function e(e,t,r){this._element=e,this._renderer=t,this._select=r,lang_1.isPresent(this._select)&&(this.id=this._select._registerOption())}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(_buildValueString(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){this._setElementValue(e),lang_1.isPresent(this._select)&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setElementProperty(this._element.nativeElement,"value",e)},e.prototype.ngOnDestroy=function(){lang_1.isPresent(this._select)&&(this._select._optionMap["delete"](this.id),this._select.writeValue(this._select.value))},e.decorators=[{type:core_1.Directive,args:[{selector:"option"}]}],e.ctorParameters=[{type:core_1.ElementRef},{type:core_1.Renderer},{type:SelectControlValueAccessor,decorators:[{type:core_1.Optional},{type:core_1.Host}]}],e.propDecorators={ngValue:[{type:core_1.Input,args:["ngValue"]}],value:[{type:core_1.Input,args:["value"]}]},e}();exports.NgSelectOption=NgSelectOption;

},{"140":140,"22":22,"26":26,"33":33}],47:[function(require,module,exports){
"use strict";function controlPath(r,o){var e=collection_1.ListWrapper.clone(o.path);return e.push(r),e}function setUpControl(r,o){lang_1.isBlank(r)&&_throwError(o,"Cannot find control"),lang_1.isBlank(o.valueAccessor)&&_throwError(o,"No value accessor for"),r.validator=validators_1.Validators.compose([r.validator,o.validator]),r.asyncValidator=validators_1.Validators.composeAsync([r.asyncValidator,o.asyncValidator]),o.valueAccessor.writeValue(r.value),o.valueAccessor.registerOnChange(function(e){o.viewToModelUpdate(e),r.updateValue(e,{emitModelToViewChange:!1}),r.markAsDirty()}),r.registerOnChange(function(r){return o.valueAccessor.writeValue(r)}),o.valueAccessor.registerOnTouched(function(){return r.markAsTouched()})}function setUpControlGroup(r,o){lang_1.isBlank(r)&&_throwError(o,"Cannot find control"),r.validator=validators_1.Validators.compose([r.validator,o.validator]),r.asyncValidator=validators_1.Validators.composeAsync([r.asyncValidator,o.asyncValidator])}function _throwError(r,o){var e=r.path.join(" -> ");throw new exceptions_1.BaseException(o+" '"+e+"'")}function composeValidators(r){return lang_1.isPresent(r)?validators_1.Validators.compose(r.map(normalize_validator_1.normalizeValidator)):null}function composeAsyncValidators(r){return lang_1.isPresent(r)?validators_1.Validators.composeAsync(r.map(normalize_validator_1.normalizeAsyncValidator)):null}function isPropertyUpdated(r,o){if(!collection_1.StringMapWrapper.contains(r,"model"))return!1;var e=r.model;return e.isFirstChange()?!0:!lang_1.looseIdentical(o,e.currentValue)}function selectValueAccessor(r,o){if(lang_1.isBlank(o))return null;var e,a,s;return o.forEach(function(o){lang_1.hasConstructor(o,default_value_accessor_1.DefaultValueAccessor)?e=o:lang_1.hasConstructor(o,checkbox_value_accessor_1.CheckboxControlValueAccessor)||lang_1.hasConstructor(o,number_value_accessor_1.NumberValueAccessor)||lang_1.hasConstructor(o,select_control_value_accessor_1.SelectControlValueAccessor)||lang_1.hasConstructor(o,radio_control_value_accessor_1.RadioControlValueAccessor)?(lang_1.isPresent(a)&&_throwError(r,"More than one built-in value accessor matches"),a=o):(lang_1.isPresent(s)&&_throwError(r,"More than one custom value accessor matches"),s=o)}),lang_1.isPresent(s)?s:lang_1.isPresent(a)?a:lang_1.isPresent(e)?e:(_throwError(r,"No valid value accessor for"),null)}var collection_1=require(22),lang_1=require(26),exceptions_1=require(24),validators_1=require(51),default_value_accessor_1=require(34),number_value_accessor_1=require(44),checkbox_value_accessor_1=require(31),select_control_value_accessor_1=require(46),radio_control_value_accessor_1=require(45),normalize_validator_1=require(43);exports.controlPath=controlPath,exports.setUpControl=setUpControl,exports.setUpControlGroup=setUpControlGroup,exports.composeValidators=composeValidators,exports.composeAsyncValidators=composeAsyncValidators,exports.isPropertyUpdated=isPropertyUpdated,exports.selectValueAccessor=selectValueAccessor;

},{"22":22,"24":24,"26":26,"31":31,"34":34,"43":43,"44":44,"45":45,"46":46,"51":51}],48:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),validators_1=require(51),REQUIRED=validators_1.Validators.required;exports.REQUIRED_VALIDATOR={provide:validators_1.NG_VALIDATORS,useValue:REQUIRED,multi:!0};var RequiredValidator=function(){function r(){}return r.decorators=[{type:core_1.Directive,args:[{selector:"[required][ngControl],[required][ngFormControl],[required][ngModel]",providers:[exports.REQUIRED_VALIDATOR]}]}],r}();exports.RequiredValidator=RequiredValidator,exports.MIN_LENGTH_VALIDATOR={provide:validators_1.NG_VALIDATORS,useExisting:core_1.forwardRef(function(){return MinLengthValidator}),multi:!0};var MinLengthValidator=function(){function r(r){this._validator=validators_1.Validators.minLength(lang_1.NumberWrapper.parseInt(r,10))}return r.prototype.validate=function(r){return this._validator(r)},r.decorators=[{type:core_1.Directive,args:[{selector:"[minlength][ngControl],[minlength][ngFormControl],[minlength][ngModel]",providers:[exports.MIN_LENGTH_VALIDATOR]}]}],r.ctorParameters=[{type:void 0,decorators:[{type:core_1.Attribute,args:["minlength"]}]}],r}();exports.MinLengthValidator=MinLengthValidator,exports.MAX_LENGTH_VALIDATOR={provide:validators_1.NG_VALIDATORS,useExisting:core_1.forwardRef(function(){return MaxLengthValidator}),multi:!0};var MaxLengthValidator=function(){function r(r){this._validator=validators_1.Validators.maxLength(lang_1.NumberWrapper.parseInt(r,10))}return r.prototype.validate=function(r){return this._validator(r)},r.decorators=[{type:core_1.Directive,args:[{selector:"[maxlength][ngControl],[maxlength][ngFormControl],[maxlength][ngModel]",providers:[exports.MAX_LENGTH_VALIDATOR]}]}],r.ctorParameters=[{type:void 0,decorators:[{type:core_1.Attribute,args:["maxlength"]}]}],r}();exports.MaxLengthValidator=MaxLengthValidator,exports.PATTERN_VALIDATOR={provide:validators_1.NG_VALIDATORS,useExisting:core_1.forwardRef(function(){return PatternValidator}),multi:!0};var PatternValidator=function(){function r(r){this._validator=validators_1.Validators.pattern(r)}return r.prototype.validate=function(r){return this._validator(r)},r.decorators=[{type:core_1.Directive,args:[{selector:"[pattern][ngControl],[pattern][ngFormControl],[pattern][ngModel]",providers:[exports.PATTERN_VALIDATOR]}]}],r.ctorParameters=[{type:void 0,decorators:[{type:core_1.Attribute,args:["pattern"]}]}],r}();exports.PatternValidator=PatternValidator;

},{"140":140,"26":26,"51":51}],49:[function(require,module,exports){
"use strict";var core_1=require(140),collection_1=require(22),lang_1=require(26),modelModule=require(50),FormBuilder=function(){function r(){}return r.prototype.group=function(r,o){void 0===o&&(o=null);var e=this._reduceControls(r),n=lang_1.isPresent(o)?collection_1.StringMapWrapper.get(o,"optionals"):null,t=lang_1.isPresent(o)?collection_1.StringMapWrapper.get(o,"validator"):null,l=lang_1.isPresent(o)?collection_1.StringMapWrapper.get(o,"asyncValidator"):null;return new modelModule.ControlGroup(e,n,t,l)},r.prototype.control=function(r,o,e){return void 0===o&&(o=null),void 0===e&&(e=null),new modelModule.Control(r,o,e)},r.prototype.array=function(r,o,e){var n=this;void 0===o&&(o=null),void 0===e&&(e=null);var t=r.map(function(r){return n._createControl(r)});return new modelModule.ControlArray(t,o,e)},r.prototype._reduceControls=function(r){var o=this,e={};return collection_1.StringMapWrapper.forEach(r,function(r,n){e[n]=o._createControl(r)}),e},r.prototype._createControl=function(r){if(r instanceof modelModule.Control||r instanceof modelModule.ControlGroup||r instanceof modelModule.ControlArray)return r;if(lang_1.isArray(r)){var o=r[0],e=r.length>1?r[1]:null,n=r.length>2?r[2]:null;return this.control(o,e,n)}return this.control(r)},r.decorators=[{type:core_1.Injectable}],r}();exports.FormBuilder=FormBuilder;

},{"140":140,"22":22,"26":26,"50":50}],50:[function(require,module,exports){
"use strict";function isControl(t){return t instanceof AbstractControl}function _find(t,e){return lang_1.isBlank(e)?null:(e instanceof Array||(e=e.split("/")),e instanceof Array&&collection_1.ListWrapper.isEmpty(e)?null:e.reduce(function(t,e){if(t instanceof ControlGroup)return lang_1.isPresent(t.controls[e])?t.controls[e]:null;if(t instanceof ControlArray){var n=e;return lang_1.isPresent(t.at(n))?t.at(n):null}return null},t))}function toObservable(t){return promise_1.PromiseWrapper.isPromise(t)?async_1.ObservableWrapper.fromPromise(t):t}var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},lang_1=require(26),async_1=require(20),promise_1=require(27),collection_1=require(22);exports.VALID="VALID",exports.INVALID="INVALID",exports.PENDING="PENDING",exports.isControl=isControl;var AbstractControl=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._pristine=!0,this._touched=!1}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this._status===exports.VALID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this._status==exports.PENDING},enumerable:!0,configurable:!0}),t.prototype.markAsTouched=function(){this._touched=!0},t.prototype.markAsDirty=function(t){var e=(void 0===t?{}:t).onlySelf;e=lang_1.normalizeBool(e),this._pristine=!1,lang_1.isPresent(this._parent)&&!e&&this._parent.markAsDirty({onlySelf:e})},t.prototype.markAsPending=function(t){var e=(void 0===t?{}:t).onlySelf;e=lang_1.normalizeBool(e),this._status=exports.PENDING,lang_1.isPresent(this._parent)&&!e&&this._parent.markAsPending({onlySelf:e})},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){var e=void 0===t?{}:t,n=e.onlySelf,r=e.emitEvent;n=lang_1.normalizeBool(n),r=lang_1.isPresent(r)?r:!0,this._updateValue(),this._errors=this._runValidator(),this._status=this._calculateStatus(),this._status!=exports.VALID&&this._status!=exports.PENDING||this._runAsyncValidator(r),r&&(async_1.ObservableWrapper.callEmit(this._valueChanges,this._value),async_1.ObservableWrapper.callEmit(this._statusChanges,this._status)),lang_1.isPresent(this._parent)&&!n&&this._parent.updateValueAndValidity({onlySelf:n,emitEvent:r})},t.prototype._runValidator=function(){return lang_1.isPresent(this.validator)?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(lang_1.isPresent(this.asyncValidator)){this._status=exports.PENDING,this._cancelExistingSubscription();var n=toObservable(this.asyncValidator(this));this._asyncValidationSubscription=async_1.ObservableWrapper.subscribe(n,function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){lang_1.isPresent(this._asyncValidationSubscription)&&async_1.ObservableWrapper.dispose(this._asyncValidationSubscription)},t.prototype.setErrors=function(t,e){var n=(void 0===e?{}:e).emitEvent;n=lang_1.isPresent(n)?n:!0,this._errors=t,this._status=this._calculateStatus(),n&&async_1.ObservableWrapper.callEmit(this._statusChanges,this._status),lang_1.isPresent(this._parent)&&this._parent._updateControlsErrors()},t.prototype.find=function(t){return _find(this,t)},t.prototype.getError=function(t,e){void 0===e&&(e=null);var n=lang_1.isPresent(e)&&!collection_1.ListWrapper.isEmpty(e)?this.find(e):this;return lang_1.isPresent(n)&&lang_1.isPresent(n._errors)?collection_1.StringMapWrapper.get(n._errors,t):null},t.prototype.hasError=function(t,e){return void 0===e&&(e=null),lang_1.isPresent(this.getError(t,e))},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;lang_1.isPresent(t._parent);)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(){this._status=this._calculateStatus(),lang_1.isPresent(this._parent)&&this._parent._updateControlsErrors()},t.prototype._initObservables=function(){this._valueChanges=new async_1.EventEmitter,this._statusChanges=new async_1.EventEmitter},t.prototype._calculateStatus=function(){return lang_1.isPresent(this._errors)?exports.INVALID:this._anyControlsHaveStatus(exports.PENDING)?exports.PENDING:this._anyControlsHaveStatus(exports.INVALID)?exports.INVALID:exports.VALID},t}();exports.AbstractControl=AbstractControl;var Control=function(t){function e(e,n,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,n,r),this._value=e,this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}return __extends(e,t),e.prototype.updateValue=function(t,e){var n=void 0===e?{}:e,r=n.onlySelf,o=n.emitEvent,i=n.emitModelToViewChange;i=lang_1.isPresent(i)?i:!0,this._value=t,lang_1.isPresent(this._onChange)&&i&&this._onChange(this._value),this.updateValueAndValidity({onlySelf:r,emitEvent:o})},e.prototype._updateValue=function(){},e.prototype._anyControlsHaveStatus=function(t){return!1},e.prototype.registerOnChange=function(t){this._onChange=t},e}(AbstractControl);exports.Control=Control;var ControlGroup=function(t){function e(e,n,r,o){void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=null),t.call(this,r,o),this.controls=e,this._optionals=lang_1.isPresent(n)?n:{},this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return __extends(e,t),e.prototype.addControl=function(t,e){this.controls[t]=e,e.setParent(this)},e.prototype.removeControl=function(t){collection_1.StringMapWrapper["delete"](this.controls,t)},e.prototype.include=function(t){collection_1.StringMapWrapper.set(this._optionals,t,!0),this.updateValueAndValidity()},e.prototype.exclude=function(t){collection_1.StringMapWrapper.set(this._optionals,t,!1),this.updateValueAndValidity()},e.prototype.contains=function(t){var e=collection_1.StringMapWrapper.contains(this.controls,t);return e&&this._included(t)},e.prototype._setParentForControls=function(){var t=this;collection_1.StringMapWrapper.forEach(this.controls,function(e,n){e.setParent(t)})},e.prototype._updateValue=function(){this._value=this._reduceValue()},e.prototype._anyControlsHaveStatus=function(t){var e=this,n=!1;return collection_1.StringMapWrapper.forEach(this.controls,function(r,o){n=n||e.contains(o)&&r.status==t}),n},e.prototype._reduceValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e.value,t})},e.prototype._reduceChildren=function(t,e){var n=this,r=t;return collection_1.StringMapWrapper.forEach(this.controls,function(t,o){n._included(o)&&(r=e(r,t,o))}),r},e.prototype._included=function(t){var e=collection_1.StringMapWrapper.contains(this._optionals,t);return!e||collection_1.StringMapWrapper.get(this._optionals,t)},e}(AbstractControl);exports.ControlGroup=ControlGroup;var ControlArray=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null),t.call(this,n,r),this.controls=e,this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return __extends(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),t.setParent(this),this.updateValueAndValidity()},e.prototype.insert=function(t,e){collection_1.ListWrapper.insert(this.controls,t,e),e.setParent(this),this.updateValueAndValidity()},e.prototype.removeAt=function(t){collection_1.ListWrapper.removeAt(this.controls,t),this.updateValueAndValidity()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype._updateValue=function(){this._value=this.controls.map(function(t){return t.value})},e.prototype._anyControlsHaveStatus=function(t){return this.controls.some(function(e){return e.status==t})},e.prototype._setParentForControls=function(){var t=this;this.controls.forEach(function(e){e.setParent(t)})},e}(AbstractControl);exports.ControlArray=ControlArray;

},{"20":20,"22":22,"26":26,"27":27}],51:[function(require,module,exports){
"use strict";function _convertToPromise(r){return promise_1.PromiseWrapper.isPromise(r)?r:async_1.ObservableWrapper.toPromise(r)}function _executeValidators(r,e){return e.map(function(e){return e(r)})}function _executeAsyncValidators(r,e){return e.map(function(e){return e(r)})}function _mergeErrors(r){var e=r.reduce(function(r,e){return lang_1.isPresent(e)?collection_1.StringMapWrapper.merge(r,e):r},{});return collection_1.StringMapWrapper.isEmpty(e)?null:e}var core_1=require(140),lang_1=require(26),promise_1=require(27),async_1=require(20),collection_1=require(22);exports.NG_VALIDATORS=new core_1.OpaqueToken("NgValidators"),exports.NG_ASYNC_VALIDATORS=new core_1.OpaqueToken("NgAsyncValidators");var Validators=function(){function r(){}return r.required=function(r){return lang_1.isBlank(r.value)||lang_1.isString(r.value)&&""==r.value?{required:!0}:null},r.minLength=function(e){return function(n){if(lang_1.isPresent(r.required(n)))return null;var t=n.value;return t.length<e?{minlength:{requiredLength:e,actualLength:t.length}}:null}},r.maxLength=function(e){return function(n){if(lang_1.isPresent(r.required(n)))return null;var t=n.value;return t.length>e?{maxlength:{requiredLength:e,actualLength:t.length}}:null}},r.pattern=function(e){return function(n){if(lang_1.isPresent(r.required(n)))return null;var t=new RegExp("^"+e+"$"),u=n.value;return t.test(u)?null:{pattern:{requiredPattern:"^"+e+"$",actualValue:u}}}},r.nullValidator=function(r){return null},r.compose=function(r){if(lang_1.isBlank(r))return null;var e=r.filter(lang_1.isPresent);return 0==e.length?null:function(r){return _mergeErrors(_executeValidators(r,e))}},r.composeAsync=function(r){if(lang_1.isBlank(r))return null;var e=r.filter(lang_1.isPresent);return 0==e.length?null:function(r){var n=_executeAsyncValidators(r,e).map(_convertToPromise);return promise_1.PromiseWrapper.all(n).then(_mergeErrors)}},r}();exports.Validators=Validators;

},{"140":140,"20":20,"22":22,"26":26,"27":27}],52:[function(require,module,exports){
"use strict";function __export(o){for(var t in o)exports.hasOwnProperty(t)||(exports[t]=o[t])}__export(require(57)),__export(require(55)),__export(require(53)),__export(require(56)),__export(require(54));

},{"53":53,"54":54,"55":55,"56":56,"57":57}],53:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(t,o){function a(){this.constructor=t}for(var r in o)o.hasOwnProperty(r)&&(t[r]=o[r]);t.prototype=null===o?Object.create(o):(a.prototype=o.prototype,new a)},core_1=require(140),lang_1=require(26),location_strategy_1=require(55),location_1=require(54),platform_location_1=require(57),HashLocationStrategy=function(t){function o(o,a){t.call(this),this._platformLocation=o,this._baseHref="",lang_1.isPresent(a)&&(this._baseHref=a)}return __extends(o,t),o.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},o.prototype.getBaseHref=function(){return this._baseHref},o.prototype.path=function(){var t=this._platformLocation.hash;return lang_1.isPresent(t)||(t="#"),t.length>0?t.substring(1):t},o.prototype.prepareExternalUrl=function(t){var o=location_1.Location.joinWithSlash(this._baseHref,t);return o.length>0?"#"+o:o},o.prototype.pushState=function(t,o,a,r){var e=this.prepareExternalUrl(a+location_1.Location.normalizeQueryParams(r));0==e.length&&(e=this._platformLocation.pathname),this._platformLocation.pushState(t,o,e)},o.prototype.replaceState=function(t,o,a,r){var e=this.prepareExternalUrl(a+location_1.Location.normalizeQueryParams(r));0==e.length&&(e=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,e)},o.prototype.forward=function(){this._platformLocation.forward()},o.prototype.back=function(){this._platformLocation.back()},o.decorators=[{type:core_1.Injectable}],o.ctorParameters=[{type:platform_location_1.PlatformLocation},{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Inject,args:[location_strategy_1.APP_BASE_HREF]}]}],o}(location_strategy_1.LocationStrategy);exports.HashLocationStrategy=HashLocationStrategy;

},{"140":140,"26":26,"54":54,"55":55,"57":57}],54:[function(require,module,exports){
"use strict";function _stripBaseHref(t,r){return t.length>0&&r.startsWith(t)?r.substring(t.length):r}function _stripIndexHtml(t){return/\/index.html$/g.test(t)?t.substring(0,t.length-11):t}var core_1=require(140),async_1=require(20),location_strategy_1=require(55),Location=function(){function t(r){var e=this;this.platformStrategy=r,this._subject=new async_1.EventEmitter;var n=this.platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(_stripIndexHtml(n)),this.platformStrategy.onPopState(function(t){async_1.ObservableWrapper.callEmit(e._subject,{url:e.path(),pop:!0,type:t.type})})}return t.prototype.path=function(){return this.normalize(this.platformStrategy.path())},t.prototype.normalize=function(r){return t.stripTrailingSlash(_stripBaseHref(this._baseHref,_stripIndexHtml(r)))},t.prototype.prepareExternalUrl=function(t){return t.length>0&&!t.startsWith("/")&&(t="/"+t),this.platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,r){void 0===r&&(r=""),this.platformStrategy.pushState(null,"",t,r)},t.prototype.replaceState=function(t,r){void 0===r&&(r=""),this.platformStrategy.replaceState(null,"",t,r)},t.prototype.forward=function(){this.platformStrategy.forward()},t.prototype.back=function(){this.platformStrategy.back()},t.prototype.subscribe=function(t,r,e){return void 0===r&&(r=null),void 0===e&&(e=null),async_1.ObservableWrapper.subscribe(this._subject,t,r,e)},t.normalizeQueryParams=function(t){return t.length>0&&"?"!=t.substring(0,1)?"?"+t:t},t.joinWithSlash=function(t,r){if(0==t.length)return r;if(0==r.length)return t;var e=0;return t.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?t+r.substring(1):1==e?t+r:t+"/"+r},t.stripTrailingSlash=function(t){return/\/$/g.test(t)&&(t=t.substring(0,t.length-1)),t},t.decorators=[{type:core_1.Injectable}],t.ctorParameters=[{type:location_strategy_1.LocationStrategy}],t}();exports.Location=Location;

},{"140":140,"20":20,"55":55}],55:[function(require,module,exports){
"use strict";var core_1=require(140),LocationStrategy=function(){function e(){}return e}();exports.LocationStrategy=LocationStrategy,exports.APP_BASE_HREF=new core_1.OpaqueToken("appBaseHref");

},{"140":140}],56:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(t,o){function e(){this.constructor=t}for(var a in o)o.hasOwnProperty(a)&&(t[a]=o[a]);t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)},core_1=require(140),lang_1=require(26),exceptions_1=require(24),platform_location_1=require(57),location_strategy_1=require(55),location_1=require(54),PathLocationStrategy=function(t){function o(o,e){if(t.call(this),this._platformLocation=o,lang_1.isBlank(e)&&(e=this._platformLocation.getBaseHrefFromDOM()),lang_1.isBlank(e))throw new exceptions_1.BaseException("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}return __extends(o,t),o.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},o.prototype.getBaseHref=function(){return this._baseHref},o.prototype.prepareExternalUrl=function(t){return location_1.Location.joinWithSlash(this._baseHref,t)},o.prototype.path=function(){return this._platformLocation.pathname+location_1.Location.normalizeQueryParams(this._platformLocation.search)},o.prototype.pushState=function(t,o,e,a){var r=this.prepareExternalUrl(e+location_1.Location.normalizeQueryParams(a));this._platformLocation.pushState(t,o,r)},o.prototype.replaceState=function(t,o,e,a){var r=this.prepareExternalUrl(e+location_1.Location.normalizeQueryParams(a));this._platformLocation.replaceState(t,o,r)},o.prototype.forward=function(){this._platformLocation.forward()},o.prototype.back=function(){this._platformLocation.back()},o.decorators=[{type:core_1.Injectable}],o.ctorParameters=[{type:platform_location_1.PlatformLocation},{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Inject,args:[location_strategy_1.APP_BASE_HREF]}]}],o}(location_strategy_1.LocationStrategy);exports.PathLocationStrategy=PathLocationStrategy;

},{"140":140,"24":24,"26":26,"54":54,"55":55,"57":57}],57:[function(require,module,exports){
"use strict";var PlatformLocation=function(){function e(){}return Object.defineProperty(e.prototype,"pathname",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return null},enumerable:!0,configurable:!0}),e}();exports.PlatformLocation=PlatformLocation;

},{}],58:[function(require,module,exports){
"use strict";var async_pipe_1=require(59);exports.AsyncPipe=async_pipe_1.AsyncPipe;var date_pipe_1=require(61);exports.DatePipe=date_pipe_1.DatePipe;var json_pipe_1=require(65);exports.JsonPipe=json_pipe_1.JsonPipe;var slice_pipe_1=require(69);exports.SlicePipe=slice_pipe_1.SlicePipe;var lowercase_pipe_1=require(66);exports.LowerCasePipe=lowercase_pipe_1.LowerCasePipe;var number_pipe_1=require(67);exports.NumberPipe=number_pipe_1.NumberPipe,exports.DecimalPipe=number_pipe_1.DecimalPipe,exports.PercentPipe=number_pipe_1.PercentPipe,exports.CurrencyPipe=number_pipe_1.CurrencyPipe;var uppercase_pipe_1=require(70);exports.UpperCasePipe=uppercase_pipe_1.UpperCasePipe;var replace_pipe_1=require(68);exports.ReplacePipe=replace_pipe_1.ReplacePipe;var i18n_plural_pipe_1=require(62);exports.I18nPluralPipe=i18n_plural_pipe_1.I18nPluralPipe;var i18n_select_pipe_1=require(63);exports.I18nSelectPipe=i18n_select_pipe_1.I18nSelectPipe;var common_pipes_1=require(60);exports.COMMON_PIPES=common_pipes_1.COMMON_PIPES;

},{"59":59,"60":60,"61":61,"62":62,"63":63,"65":65,"66":66,"67":67,"68":68,"69":69,"70":70}],59:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),async_1=require(20),invalid_pipe_argument_exception_1=require(64),ObservableStrategy=function(){function t(){}return t.prototype.createSubscription=function(t,e){return async_1.ObservableWrapper.subscribe(t,e,function(t){throw t})},t.prototype.dispose=function(t){async_1.ObservableWrapper.dispose(t)},t.prototype.onDestroy=function(t){async_1.ObservableWrapper.dispose(t)},t}(),PromiseStrategy=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e)},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}(),_promiseStrategy=new PromiseStrategy,_observableStrategy=new ObservableStrategy,__unused,AsyncPipe=function(){function t(t){this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}return t.prototype.ngOnDestroy=function(){lang_1.isPresent(this._subscription)&&this._dispose()},t.prototype.transform=function(t){return lang_1.isBlank(this._obj)?(lang_1.isPresent(t)&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue):t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,core_1.WrappedValue.wrap(this._latestValue))},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(s){return e._updateLatestValue(t,s)})},t.prototype._selectStrategy=function(e){if(lang_1.isPromise(e))return _promiseStrategy;if(async_1.ObservableWrapper.isObservable(e))return _observableStrategy;throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t.decorators=[{type:core_1.Pipe,args:[{name:"async",pure:!1}]},{type:core_1.Injectable}],t.ctorParameters=[{type:core_1.ChangeDetectorRef}],t}();exports.AsyncPipe=AsyncPipe;

},{"140":140,"20":20,"26":26,"64":64}],60:[function(require,module,exports){
"use strict";var async_pipe_1=require(59),uppercase_pipe_1=require(70),lowercase_pipe_1=require(66),json_pipe_1=require(65),slice_pipe_1=require(69),date_pipe_1=require(61),number_pipe_1=require(67),replace_pipe_1=require(68),i18n_plural_pipe_1=require(62),i18n_select_pipe_1=require(63);exports.COMMON_PIPES=[async_pipe_1.AsyncPipe,uppercase_pipe_1.UpperCasePipe,lowercase_pipe_1.LowerCasePipe,json_pipe_1.JsonPipe,slice_pipe_1.SlicePipe,number_pipe_1.DecimalPipe,number_pipe_1.PercentPipe,number_pipe_1.CurrencyPipe,date_pipe_1.DatePipe,replace_pipe_1.ReplacePipe,i18n_plural_pipe_1.I18nPluralPipe,i18n_select_pipe_1.I18nSelectPipe];

},{"59":59,"61":61,"62":62,"63":63,"65":65,"66":66,"67":67,"68":68,"69":69,"70":70}],61:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),intl_1=require(25),collection_1=require(22),invalid_pipe_argument_exception_1=require(64),defaultLocale="en-US",DatePipe=function(){function e(){}return e.prototype.transform=function(t,r){if(void 0===r&&(r="mediumDate"),lang_1.isBlank(t))return null;if(!this.supports(t))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(e,t);return lang_1.isNumber(t)&&(t=lang_1.DateWrapper.fromMillis(t)),collection_1.StringMapWrapper.contains(e._ALIASES,r)&&(r=collection_1.StringMapWrapper.get(e._ALIASES,r)),intl_1.DateFormatter.format(t,defaultLocale,r)},e.prototype.supports=function(e){return lang_1.isDate(e)||lang_1.isNumber(e)},e._ALIASES={medium:"yMMMdjms","short":"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},e.decorators=[{type:core_1.Pipe,args:[{name:"date",pure:!0}]},{type:core_1.Injectable}],e}();exports.DatePipe=DatePipe;

},{"140":140,"22":22,"25":25,"26":26,"64":64}],62:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),invalid_pipe_argument_exception_1=require(64),interpolationExp=lang_1.RegExpWrapper.create("#"),I18nPluralPipe=function(){function e(){}return e.prototype.transform=function(r,n){var i,a;if(!lang_1.isStringMap(n))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(e,n);return i=0===r||1===r?"="+r:"other",a=lang_1.isPresent(r)?r.toString():"",lang_1.StringWrapper.replaceAll(n[i],interpolationExp,a)},e.decorators=[{type:core_1.Pipe,args:[{name:"i18nPlural",pure:!0}]},{type:core_1.Injectable}],e}();exports.I18nPluralPipe=I18nPluralPipe;

},{"140":140,"26":26,"64":64}],63:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),collection_1=require(22),invalid_pipe_argument_exception_1=require(64),I18nSelectPipe=function(){function e(){}return e.prototype.transform=function(n,r){if(!lang_1.isStringMap(r))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(e,r);return collection_1.StringMapWrapper.contains(r,n)?r[n]:r.other},e.decorators=[{type:core_1.Pipe,args:[{name:"i18nSelect",pure:!0}]},{type:core_1.Injectable}],e}();exports.I18nSelectPipe=I18nSelectPipe;

},{"140":140,"22":22,"26":26,"64":64}],64:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},lang_1=require(26),exceptions_1=require(24),InvalidPipeArgumentException=function(e){function t(t,n){e.call(this,"Invalid argument '"+n+"' for pipe '"+lang_1.stringify(t)+"'")}return __extends(t,e),t}(exceptions_1.BaseException);exports.InvalidPipeArgumentException=InvalidPipeArgumentException;

},{"24":24,"26":26}],65:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),JsonPipe=function(){function e(){}return e.prototype.transform=function(e){return lang_1.Json.stringify(e)},e.decorators=[{type:core_1.Pipe,args:[{name:"json",pure:!1}]},{type:core_1.Injectable}],e}();exports.JsonPipe=JsonPipe;

},{"140":140,"26":26}],66:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),invalid_pipe_argument_exception_1=require(64),LowerCasePipe=function(){function e(){}return e.prototype.transform=function(r){if(lang_1.isBlank(r))return r;if(!lang_1.isString(r))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(e,r);return r.toLowerCase()},e.decorators=[{type:core_1.Pipe,args:[{name:"lowercase"}]},{type:core_1.Injectable}],e}();exports.LowerCasePipe=LowerCasePipe;

},{"140":140,"26":26,"64":64}],67:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},core_1=require(140),lang_1=require(26),exceptions_1=require(24),intl_1=require(25),invalid_pipe_argument_exception_1=require(64),defaultLocale="en-US",_re=lang_1.RegExpWrapper.create("^(\\d+)?\\.((\\d+)(\\-(\\d+))?)?$"),NumberPipe=function(){function e(){}return e._format=function(r,t,n,i,a){if(void 0===i&&(i=null),void 0===a&&(a=!1),lang_1.isBlank(r))return null;if(!lang_1.isNumber(r))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(e,r);var o=1,p=0,c=3;if(lang_1.isPresent(n)){var u=lang_1.RegExpWrapper.firstMatch(_re,n);if(lang_1.isBlank(u))throw new exceptions_1.BaseException(n+" is not a valid digit info for number pipes");lang_1.isPresent(u[1])&&(o=lang_1.NumberWrapper.parseIntAutoRadix(u[1])),lang_1.isPresent(u[3])&&(p=lang_1.NumberWrapper.parseIntAutoRadix(u[3])),lang_1.isPresent(u[5])&&(c=lang_1.NumberWrapper.parseIntAutoRadix(u[5]))}return intl_1.NumberFormatter.format(r,defaultLocale,t,{minimumIntegerDigits:o,minimumFractionDigits:p,maximumFractionDigits:c,currency:i,currencyAsSymbol:a})},e.decorators=[{type:core_1.Injectable}],e}();exports.NumberPipe=NumberPipe;var DecimalPipe=function(e){function r(){e.apply(this,arguments)}return __extends(r,e),r.prototype.transform=function(e,r){return void 0===r&&(r=null),NumberPipe._format(e,intl_1.NumberFormatStyle.Decimal,r)},r.decorators=[{type:core_1.Pipe,args:[{name:"number"}]},{type:core_1.Injectable}],r}(NumberPipe);exports.DecimalPipe=DecimalPipe;var PercentPipe=function(e){function r(){e.apply(this,arguments)}return __extends(r,e),r.prototype.transform=function(e,r){return void 0===r&&(r=null),NumberPipe._format(e,intl_1.NumberFormatStyle.Percent,r)},r.decorators=[{type:core_1.Pipe,args:[{name:"percent"}]},{type:core_1.Injectable}],r}(NumberPipe);exports.PercentPipe=PercentPipe;var CurrencyPipe=function(e){function r(){e.apply(this,arguments)}return __extends(r,e),r.prototype.transform=function(e,r,t,n){return void 0===r&&(r="USD"),void 0===t&&(t=!1),void 0===n&&(n=null),NumberPipe._format(e,intl_1.NumberFormatStyle.Currency,n,r,t)},r.decorators=[{type:core_1.Pipe,args:[{name:"currency"}]},{type:core_1.Injectable}],r}(NumberPipe);exports.CurrencyPipe=CurrencyPipe;

},{"140":140,"24":24,"25":25,"26":26,"64":64}],68:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),invalid_pipe_argument_exception_1=require(64),ReplacePipe=function(){function e(){}return e.prototype.transform=function(n,r,t){if(lang_1.isBlank(n))return n;if(!this._supportedInput(n))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(e,n);var p=n.toString();if(!this._supportedPattern(r))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(e,r);if(!this._supportedReplacement(t))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(e,t);if(lang_1.isFunction(t)){var i=lang_1.isString(r)?lang_1.RegExpWrapper.create(r):r;return lang_1.StringWrapper.replaceAllMapped(p,i,t)}return r instanceof RegExp?lang_1.StringWrapper.replaceAll(p,r,t):lang_1.StringWrapper.replace(p,r,t)},e.prototype._supportedInput=function(e){return lang_1.isString(e)||lang_1.isNumber(e)},e.prototype._supportedPattern=function(e){return lang_1.isString(e)||e instanceof RegExp},e.prototype._supportedReplacement=function(e){return lang_1.isString(e)||lang_1.isFunction(e)},e.decorators=[{type:core_1.Pipe,args:[{name:"replace"}]},{type:core_1.Injectable}],e}();exports.ReplacePipe=ReplacePipe;

},{"140":140,"26":26,"64":64}],69:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),collection_1=require(22),invalid_pipe_argument_exception_1=require(64),SlicePipe=function(){function e(){}return e.prototype.transform=function(i,r,n){if(void 0===n&&(n=null),!this.supports(i))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(e,i);return lang_1.isBlank(i)?i:lang_1.isString(i)?lang_1.StringWrapper.slice(i,r,n):collection_1.ListWrapper.slice(i,r,n)},e.prototype.supports=function(e){return lang_1.isString(e)||lang_1.isArray(e)},e.decorators=[{type:core_1.Pipe,args:[{name:"slice",pure:!1}]},{type:core_1.Injectable}],e}();exports.SlicePipe=SlicePipe;

},{"140":140,"22":22,"26":26,"64":64}],70:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(26),invalid_pipe_argument_exception_1=require(64),UpperCasePipe=function(){function e(){}return e.prototype.transform=function(r){if(lang_1.isBlank(r))return r;if(!lang_1.isString(r))throw new invalid_pipe_argument_exception_1.InvalidPipeArgumentException(e,r);return r.toUpperCase()},e.decorators=[{type:core_1.Pipe,args:[{name:"uppercase"}]},{type:core_1.Injectable}],e}();exports.UpperCasePipe=UpperCasePipe;

},{"140":140,"26":26,"64":64}],71:[function(require,module,exports){
"use strict";function __export(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}var element_schema_registry_1=require(113);exports.ElementSchemaRegistry=element_schema_registry_1.ElementSchemaRegistry;var compiler_1=require(77);exports.COMPILER_PROVIDERS=compiler_1.COMPILER_PROVIDERS,exports.TEMPLATE_TRANSFORMS=compiler_1.TEMPLATE_TRANSFORMS,exports.CompilerConfig=compiler_1.CompilerConfig,exports.RenderTypes=compiler_1.RenderTypes,exports.UrlResolver=compiler_1.UrlResolver,exports.DEFAULT_PACKAGE_URL_PROVIDER=compiler_1.DEFAULT_PACKAGE_URL_PROVIDER,exports.createOfflineCompileUrlResolver=compiler_1.createOfflineCompileUrlResolver,exports.XHR=compiler_1.XHR,exports.ViewResolver=compiler_1.ViewResolver,exports.DirectiveResolver=compiler_1.DirectiveResolver,exports.PipeResolver=compiler_1.PipeResolver,exports.SourceModule=compiler_1.SourceModule,exports.NormalizedComponentWithViewDirectives=compiler_1.NormalizedComponentWithViewDirectives,exports.OfflineCompiler=compiler_1.OfflineCompiler,exports.CompileMetadataWithIdentifier=compiler_1.CompileMetadataWithIdentifier,exports.CompileMetadataWithType=compiler_1.CompileMetadataWithType,exports.CompileIdentifierMetadata=compiler_1.CompileIdentifierMetadata,exports.CompileDiDependencyMetadata=compiler_1.CompileDiDependencyMetadata,exports.CompileProviderMetadata=compiler_1.CompileProviderMetadata,exports.CompileFactoryMetadata=compiler_1.CompileFactoryMetadata,exports.CompileTokenMetadata=compiler_1.CompileTokenMetadata,exports.CompileTypeMetadata=compiler_1.CompileTypeMetadata,exports.CompileQueryMetadata=compiler_1.CompileQueryMetadata,exports.CompileTemplateMetadata=compiler_1.CompileTemplateMetadata,exports.CompileDirectiveMetadata=compiler_1.CompileDirectiveMetadata,exports.CompilePipeMetadata=compiler_1.CompilePipeMetadata,__export(require(118)),__export(require(74));

},{"113":113,"118":118,"74":74,"77":77}],72:[function(require,module,exports){
"use strict";var core_1=require(140);exports.isDefaultChangeDetectionStrategy=core_1.__core_private__.isDefaultChangeDetectionStrategy,exports.ChangeDetectorState=core_1.__core_private__.ChangeDetectorState,exports.CHANGE_DETECTION_STRATEGY_VALUES=core_1.__core_private__.CHANGE_DETECTION_STRATEGY_VALUES,exports.constructDependencies=core_1.__core_private__.constructDependencies,exports.LifecycleHooks=core_1.__core_private__.LifecycleHooks,exports.LIFECYCLE_HOOKS_VALUES=core_1.__core_private__.LIFECYCLE_HOOKS_VALUES,exports.ReflectorReader=core_1.__core_private__.ReflectorReader,exports.ReflectorComponentResolver=core_1.__core_private__.ReflectorComponentResolver,exports.AppElement=core_1.__core_private__.AppElement,exports.AppView=core_1.__core_private__.AppView,exports.DebugAppView=core_1.__core_private__.DebugAppView,exports.ViewType=core_1.__core_private__.ViewType,exports.MAX_INTERPOLATION_VALUES=core_1.__core_private__.MAX_INTERPOLATION_VALUES,exports.checkBinding=core_1.__core_private__.checkBinding,exports.flattenNestedViewRenderNodes=core_1.__core_private__.flattenNestedViewRenderNodes,exports.interpolate=core_1.__core_private__.interpolate,exports.ViewUtils=core_1.__core_private__.ViewUtils,exports.VIEW_ENCAPSULATION_VALUES=core_1.__core_private__.VIEW_ENCAPSULATION_VALUES,exports.DebugContext=core_1.__core_private__.DebugContext,exports.StaticNodeDebugInfo=core_1.__core_private__.StaticNodeDebugInfo,exports.devModeEqual=core_1.__core_private__.devModeEqual,exports.uninitialized=core_1.__core_private__.uninitialized,exports.ValueUnwrapper=core_1.__core_private__.ValueUnwrapper,exports.TemplateRef_=core_1.__core_private__.TemplateRef_,exports.RenderDebugInfo=core_1.__core_private__.RenderDebugInfo,exports.SecurityContext=core_1.__core_private__.SecurityContext,exports.SanitizationService=core_1.__core_private__.SanitizationService,exports.createProvider=core_1.__core_private__.createProvider,exports.isProviderLiteral=core_1.__core_private__.isProviderLiteral,exports.EMPTY_ARRAY=core_1.__core_private__.EMPTY_ARRAY,exports.EMPTY_MAP=core_1.__core_private__.EMPTY_MAP,exports.pureProxy1=core_1.__core_private__.pureProxy1,exports.pureProxy2=core_1.__core_private__.pureProxy2,exports.pureProxy3=core_1.__core_private__.pureProxy3,exports.pureProxy4=core_1.__core_private__.pureProxy4,exports.pureProxy5=core_1.__core_private__.pureProxy5,exports.pureProxy6=core_1.__core_private__.pureProxy6,exports.pureProxy7=core_1.__core_private__.pureProxy7,exports.pureProxy8=core_1.__core_private__.pureProxy8,exports.pureProxy9=core_1.__core_private__.pureProxy9,exports.pureProxy10=core_1.__core_private__.pureProxy10,exports.castByValue=core_1.__core_private__.castByValue,exports.Console=core_1.__core_private__.Console;

},{"140":140}],73:[function(require,module,exports){
"use strict";function __export(r){for(var e in r)exports.hasOwnProperty(e)||(exports[e]=r[e])}__export(require(71));

},{"71":71}],74:[function(require,module,exports){
"use strict";var selector=require(114),pathUtil=require(106),__compiler_private__;!function(e){e.SelectorMatcher=selector.SelectorMatcher,e.CssSelector=selector.CssSelector,e.AssetUrl=pathUtil.AssetUrl,e.ImportGenerator=pathUtil.ImportGenerator}(__compiler_private__=exports.__compiler_private__||(exports.__compiler_private__={}));

},{"106":106,"114":114}],75:[function(require,module,exports){
"use strict";function assertArrayOfStrings(r,e){if(lang_1.assertionsEnabled()&&!lang_1.isBlank(e)){if(!lang_1.isArray(e))throw new exceptions_1.BaseException("Expected '"+r+"' to be an array of strings.");for(var a=0;a<e.length;a+=1)if(!lang_1.isString(e[a]))throw new exceptions_1.BaseException("Expected '"+r+"' to be an array of strings.")}}var lang_1=require(90),exceptions_1=require(89);exports.assertArrayOfStrings=assertArrayOfStrings;

},{"89":89,"90":90}],76:[function(require,module,exports){
"use strict";function metadataFromJson(e){return _COMPILE_METADATA_FROM_JSON[e["class"]](e)}function createHostComponentMeta(e,t){var i=selector_1.CssSelector.parse(t)[0].getMatchingElementTemplate();return CompileDirectiveMetadata.create({type:new CompileTypeMetadata({runtime:Object,name:e.name+"_Host",moduleUrl:e.moduleUrl,isHost:!0}),template:new CompileTemplateMetadata({template:i,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[]}),changeDetection:core_1.ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},lifecycleHooks:[],isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],viewQueries:[]})}function _arrayFromJson(e,t){return lang_1.isBlank(e)?null:e.map(function(e){return _objFromJson(e,t)})}function _arrayToJson(e){return lang_1.isBlank(e)?null:e.map(_objToJson)}function _objFromJson(e,t){return lang_1.isArray(e)?_arrayFromJson(e,t):lang_1.isString(e)||lang_1.isBlank(e)||lang_1.isBoolean(e)||lang_1.isNumber(e)?e:t(e)}function _objToJson(e){return lang_1.isArray(e)?_arrayToJson(e):lang_1.isString(e)||lang_1.isBlank(e)||lang_1.isBoolean(e)||lang_1.isNumber(e)?e:e.toJson()}function _normalizeArray(e){return lang_1.isPresent(e)?e:[]}var __extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},core_1=require(140),core_private_1=require(72),lang_1=require(90),exceptions_1=require(89),collection_1=require(87),selector_1=require(114),util_1=require(122),url_resolver_1=require(121),HOST_REG_EXP=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))$/g,CompileMetadataWithIdentifier=function(){function e(){}return Object.defineProperty(e.prototype,"identifier",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),e}();exports.CompileMetadataWithIdentifier=CompileMetadataWithIdentifier;var CompileMetadataWithType=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),t}(CompileMetadataWithIdentifier);exports.CompileMetadataWithType=CompileMetadataWithType,exports.metadataFromJson=metadataFromJson;var CompileIdentifierMetadata=function(){function e(e){var t=void 0===e?{}:e,i=t.runtime,o=t.name,r=t.moduleUrl,n=t.prefix,s=t.value;this.runtime=i,this.name=o,this.prefix=n,this.moduleUrl=r,this.value=s}return e.fromJson=function(t){var i=lang_1.isArray(t.value)?_arrayFromJson(t.value,metadataFromJson):_objFromJson(t.value,metadataFromJson);return new e({name:t.name,prefix:t.prefix,moduleUrl:t.moduleUrl,value:i})},e.prototype.toJson=function(){var e=lang_1.isArray(this.value)?_arrayToJson(this.value):_objToJson(this.value);return{"class":"Identifier",name:this.name,moduleUrl:this.moduleUrl,prefix:this.prefix,value:e}},Object.defineProperty(e.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),e}();exports.CompileIdentifierMetadata=CompileIdentifierMetadata;var CompileDiDependencyMetadata=function(){function e(e){var t=void 0===e?{}:e,i=t.isAttribute,o=t.isSelf,r=t.isHost,n=t.isSkipSelf,s=t.isOptional,a=t.isValue,l=t.query,u=t.viewQuery,p=t.token,m=t.value;this.isAttribute=lang_1.normalizeBool(i),this.isSelf=lang_1.normalizeBool(o),this.isHost=lang_1.normalizeBool(r),this.isSkipSelf=lang_1.normalizeBool(n),this.isOptional=lang_1.normalizeBool(s),this.isValue=lang_1.normalizeBool(a),this.query=l,this.viewQuery=u,this.token=p,this.value=m}return e.fromJson=function(t){return new e({token:_objFromJson(t.token,CompileTokenMetadata.fromJson),query:_objFromJson(t.query,CompileQueryMetadata.fromJson),viewQuery:_objFromJson(t.viewQuery,CompileQueryMetadata.fromJson),value:t.value,isAttribute:t.isAttribute,isSelf:t.isSelf,isHost:t.isHost,isSkipSelf:t.isSkipSelf,isOptional:t.isOptional,isValue:t.isValue})},e.prototype.toJson=function(){return{token:_objToJson(this.token),query:_objToJson(this.query),viewQuery:_objToJson(this.viewQuery),value:this.value,isAttribute:this.isAttribute,isSelf:this.isSelf,isHost:this.isHost,isSkipSelf:this.isSkipSelf,isOptional:this.isOptional,isValue:this.isValue}},e}();exports.CompileDiDependencyMetadata=CompileDiDependencyMetadata;var CompileProviderMetadata=function(){function e(e){var t=e.token,i=e.useClass,o=e.useValue,r=e.useExisting,n=e.useFactory,s=e.deps,a=e.multi;this.token=t,this.useClass=i,this.useValue=o,this.useExisting=r,this.useFactory=n,this.deps=lang_1.normalizeBlank(s),this.multi=lang_1.normalizeBool(a)}return e.fromJson=function(t){return new e({token:_objFromJson(t.token,CompileTokenMetadata.fromJson),useClass:_objFromJson(t.useClass,CompileTypeMetadata.fromJson),useExisting:_objFromJson(t.useExisting,CompileTokenMetadata.fromJson),useValue:_objFromJson(t.useValue,CompileIdentifierMetadata.fromJson),useFactory:_objFromJson(t.useFactory,CompileFactoryMetadata.fromJson),multi:t.multi,deps:_arrayFromJson(t.deps,CompileDiDependencyMetadata.fromJson)})},e.prototype.toJson=function(){return{"class":"Provider",token:_objToJson(this.token),useClass:_objToJson(this.useClass),useExisting:_objToJson(this.useExisting),useValue:_objToJson(this.useValue),useFactory:_objToJson(this.useFactory),multi:this.multi,deps:_arrayToJson(this.deps)}},e}();exports.CompileProviderMetadata=CompileProviderMetadata;var CompileFactoryMetadata=function(){function e(e){var t=e.runtime,i=e.name,o=e.moduleUrl,r=e.prefix,n=e.diDeps,s=e.value;this.runtime=t,this.name=i,this.prefix=r,this.moduleUrl=o,this.diDeps=_normalizeArray(n),this.value=s}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),e.fromJson=function(t){return new e({name:t.name,prefix:t.prefix,moduleUrl:t.moduleUrl,value:t.value,diDeps:_arrayFromJson(t.diDeps,CompileDiDependencyMetadata.fromJson)})},e.prototype.toJson=function(){return{"class":"Factory",name:this.name,prefix:this.prefix,moduleUrl:this.moduleUrl,value:this.value,diDeps:_arrayToJson(this.diDeps)}},e}();exports.CompileFactoryMetadata=CompileFactoryMetadata;var CompileTokenMetadata=function(){function e(e){var t=e.value,i=e.identifier,o=e.identifierIsInstance;this.value=t,this.identifier=i,this.identifierIsInstance=lang_1.normalizeBool(o)}return e.fromJson=function(t){return new e({value:t.value,identifier:_objFromJson(t.identifier,CompileIdentifierMetadata.fromJson),identifierIsInstance:t.identifierIsInstance})},e.prototype.toJson=function(){return{value:this.value,identifier:_objToJson(this.identifier),identifierIsInstance:this.identifierIsInstance}},Object.defineProperty(e.prototype,"runtimeCacheKey",{get:function(){return lang_1.isPresent(this.identifier)?this.identifier.runtime:this.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"assetCacheKey",{get:function(){return lang_1.isPresent(this.identifier)?lang_1.isPresent(this.identifier.moduleUrl)&&lang_1.isPresent(url_resolver_1.getUrlScheme(this.identifier.moduleUrl))?this.identifier.name+"|"+this.identifier.moduleUrl+"|"+this.identifierIsInstance:null:this.value},enumerable:!0,configurable:!0}),e.prototype.equalsTo=function(e){var t=this.runtimeCacheKey,i=this.assetCacheKey;return lang_1.isPresent(t)&&t==e.runtimeCacheKey||lang_1.isPresent(i)&&i==e.assetCacheKey},Object.defineProperty(e.prototype,"name",{get:function(){return lang_1.isPresent(this.value)?util_1.sanitizeIdentifier(this.value):this.identifier.name},enumerable:!0,configurable:!0}),e}();exports.CompileTokenMetadata=CompileTokenMetadata;var CompileTokenMap=function(){function e(){this._valueMap=new Map,this._values=[]}return e.prototype.add=function(e,t){var i=this.get(e);if(lang_1.isPresent(i))throw new exceptions_1.BaseException("Can only add to a TokenMap! Token: "+e.name);this._values.push(t);var o=e.runtimeCacheKey;lang_1.isPresent(o)&&this._valueMap.set(o,t);var r=e.assetCacheKey;lang_1.isPresent(r)&&this._valueMap.set(r,t)},e.prototype.get=function(e){var t,i=e.runtimeCacheKey,o=e.assetCacheKey;return lang_1.isPresent(i)&&(t=this._valueMap.get(i)),lang_1.isBlank(t)&&lang_1.isPresent(o)&&(t=this._valueMap.get(o)),t},e.prototype.values=function(){return this._values},Object.defineProperty(e.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),e}();exports.CompileTokenMap=CompileTokenMap;var CompileTypeMetadata=function(){function e(e){var t=void 0===e?{}:e,i=t.runtime,o=t.name,r=t.moduleUrl,n=t.prefix,s=t.isHost,a=t.value,l=t.diDeps;this.runtime=i,this.name=o,this.moduleUrl=r,this.prefix=n,this.isHost=lang_1.normalizeBool(s),this.value=a,this.diDeps=_normalizeArray(l)}return e.fromJson=function(t){return new e({name:t.name,moduleUrl:t.moduleUrl,prefix:t.prefix,isHost:t.isHost,value:t.value,diDeps:_arrayFromJson(t.diDeps,CompileDiDependencyMetadata.fromJson)})},Object.defineProperty(e.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this},enumerable:!0,configurable:!0}),e.prototype.toJson=function(){return{"class":"Type",name:this.name,moduleUrl:this.moduleUrl,prefix:this.prefix,isHost:this.isHost,value:this.value,diDeps:_arrayToJson(this.diDeps)}},e}();exports.CompileTypeMetadata=CompileTypeMetadata;var CompileQueryMetadata=function(){function e(e){var t=void 0===e?{}:e,i=t.selectors,o=t.descendants,r=t.first,n=t.propertyName,s=t.read;this.selectors=i,this.descendants=lang_1.normalizeBool(o),this.first=lang_1.normalizeBool(r),this.propertyName=n,this.read=s}return e.fromJson=function(t){return new e({selectors:_arrayFromJson(t.selectors,CompileTokenMetadata.fromJson),descendants:t.descendants,first:t.first,propertyName:t.propertyName,read:_objFromJson(t.read,CompileTokenMetadata.fromJson)})},e.prototype.toJson=function(){return{selectors:_arrayToJson(this.selectors),descendants:this.descendants,first:this.first,propertyName:this.propertyName,read:_objToJson(this.read)}},e}();exports.CompileQueryMetadata=CompileQueryMetadata;var CompileTemplateMetadata=function(){function e(e){var t=void 0===e?{}:e,i=t.encapsulation,o=t.template,r=t.templateUrl,n=t.styles,s=t.styleUrls,a=t.ngContentSelectors;this.encapsulation=lang_1.isPresent(i)?i:core_1.ViewEncapsulation.Emulated,this.template=o,this.templateUrl=r,this.styles=lang_1.isPresent(n)?n:[],this.styleUrls=lang_1.isPresent(s)?s:[],this.ngContentSelectors=lang_1.isPresent(a)?a:[]}return e.fromJson=function(t){return new e({encapsulation:lang_1.isPresent(t.encapsulation)?core_private_1.VIEW_ENCAPSULATION_VALUES[t.encapsulation]:t.encapsulation,template:t.template,templateUrl:t.templateUrl,styles:t.styles,styleUrls:t.styleUrls,ngContentSelectors:t.ngContentSelectors})},e.prototype.toJson=function(){return{encapsulation:lang_1.isPresent(this.encapsulation)?lang_1.serializeEnum(this.encapsulation):this.encapsulation,template:this.template,templateUrl:this.templateUrl,styles:this.styles,styleUrls:this.styleUrls,ngContentSelectors:this.ngContentSelectors}},e}();exports.CompileTemplateMetadata=CompileTemplateMetadata;var CompileDirectiveMetadata=function(){function e(e){var t=void 0===e?{}:e,i=t.type,o=t.isComponent,r=t.selector,n=t.exportAs,s=t.changeDetection,a=t.inputs,l=t.outputs,u=t.hostListeners,p=t.hostProperties,m=t.hostAttributes,c=t.lifecycleHooks,h=t.providers,f=t.viewProviders,d=t.queries,y=t.viewQueries,_=t.template;this.type=i,this.isComponent=o,this.selector=r,this.exportAs=n,this.changeDetection=s,this.inputs=a,this.outputs=l,this.hostListeners=u,this.hostProperties=p,this.hostAttributes=m,this.lifecycleHooks=_normalizeArray(c),this.providers=_normalizeArray(h),this.viewProviders=_normalizeArray(f),this.queries=_normalizeArray(d),this.viewQueries=_normalizeArray(y),this.template=_}return e.create=function(t){var i=void 0===t?{}:t,o=i.type,r=i.isComponent,n=i.selector,s=i.exportAs,a=i.changeDetection,l=i.inputs,u=i.outputs,p=i.host,m=i.lifecycleHooks,c=i.providers,h=i.viewProviders,f=i.queries,d=i.viewQueries,y=i.template,_={},v={},g={};lang_1.isPresent(p)&&collection_1.StringMapWrapper.forEach(p,function(e,t){var i=lang_1.RegExpWrapper.firstMatch(HOST_REG_EXP,t);lang_1.isBlank(i)?g[t]=e:lang_1.isPresent(i[1])?v[i[1]]=e:lang_1.isPresent(i[2])&&(_[i[2]]=e)});var C={};lang_1.isPresent(l)&&l.forEach(function(e){var t=util_1.splitAtColon(e,[e,e]);C[t[0]]=t[1]});var J={};return lang_1.isPresent(u)&&u.forEach(function(e){var t=util_1.splitAtColon(e,[e,e]);J[t[0]]=t[1]}),new e({type:o,isComponent:lang_1.normalizeBool(r),selector:n,exportAs:s,changeDetection:a,inputs:C,outputs:J,hostListeners:_,hostProperties:v,hostAttributes:g,lifecycleHooks:lang_1.isPresent(m)?m:[],providers:c,viewProviders:h,queries:f,viewQueries:d,template:y})},Object.defineProperty(e.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),e.fromJson=function(t){return new e({isComponent:t.isComponent,selector:t.selector,exportAs:t.exportAs,type:lang_1.isPresent(t.type)?CompileTypeMetadata.fromJson(t.type):t.type,changeDetection:lang_1.isPresent(t.changeDetection)?core_private_1.CHANGE_DETECTION_STRATEGY_VALUES[t.changeDetection]:t.changeDetection,inputs:t.inputs,outputs:t.outputs,hostListeners:t.hostListeners,hostProperties:t.hostProperties,hostAttributes:t.hostAttributes,lifecycleHooks:t.lifecycleHooks.map(function(e){return core_private_1.LIFECYCLE_HOOKS_VALUES[e]}),template:lang_1.isPresent(t.template)?CompileTemplateMetadata.fromJson(t.template):t.template,providers:_arrayFromJson(t.providers,metadataFromJson),viewProviders:_arrayFromJson(t.viewProviders,metadataFromJson),queries:_arrayFromJson(t.queries,CompileQueryMetadata.fromJson),viewQueries:_arrayFromJson(t.viewQueries,CompileQueryMetadata.fromJson)})},e.prototype.toJson=function(){return{"class":"Directive",isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,type:lang_1.isPresent(this.type)?this.type.toJson():this.type,changeDetection:lang_1.isPresent(this.changeDetection)?lang_1.serializeEnum(this.changeDetection):this.changeDetection,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,lifecycleHooks:this.lifecycleHooks.map(function(e){return lang_1.serializeEnum(e)}),template:lang_1.isPresent(this.template)?this.template.toJson():this.template,providers:_arrayToJson(this.providers),viewProviders:_arrayToJson(this.viewProviders),queries:_arrayToJson(this.queries),viewQueries:_arrayToJson(this.viewQueries)}},e}();exports.CompileDirectiveMetadata=CompileDirectiveMetadata,exports.createHostComponentMeta=createHostComponentMeta;var CompilePipeMetadata=function(){function e(e){var t=void 0===e?{}:e,i=t.type,o=t.name,r=t.pure,n=t.lifecycleHooks;this.type=i,this.name=o,this.pure=lang_1.normalizeBool(r),this.lifecycleHooks=_normalizeArray(n)}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),e.fromJson=function(t){return new e({type:lang_1.isPresent(t.type)?CompileTypeMetadata.fromJson(t.type):t.type,name:t.name,pure:t.pure})},e.prototype.toJson=function(){return{"class":"Pipe",type:lang_1.isPresent(this.type)?this.type.toJson():null,name:this.name,pure:this.pure}},e}();exports.CompilePipeMetadata=CompilePipeMetadata;var _COMPILE_METADATA_FROM_JSON={Directive:CompileDirectiveMetadata.fromJson,Pipe:CompilePipeMetadata.fromJson,Type:CompileTypeMetadata.fromJson,Provider:CompileProviderMetadata.fromJson,Identifier:CompileIdentifierMetadata.fromJson,Factory:CompileFactoryMetadata.fromJson};

},{"114":114,"121":121,"122":122,"140":140,"72":72,"87":87,"89":89,"90":90}],77:[function(require,module,exports){
"use strict";function __export(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}function _createCompilerConfig(){return new config_2.CompilerConfig(lang_1.assertionsEnabled(),!1,!0)}var core_1=require(140),lang_1=require(90);__export(require(118));var template_parser_1=require(119);exports.TEMPLATE_TRANSFORMS=template_parser_1.TEMPLATE_TRANSFORMS;var config_1=require(78);exports.CompilerConfig=config_1.CompilerConfig,exports.RenderTypes=config_1.RenderTypes,__export(require(76)),__export(require(98));var runtime_compiler_1=require(111);exports.RuntimeCompiler=runtime_compiler_1.RuntimeCompiler,__export(require(121)),__export(require(139));var view_resolver_1=require(138);exports.ViewResolver=view_resolver_1.ViewResolver;var directive_resolver_1=require(81);exports.DirectiveResolver=directive_resolver_1.DirectiveResolver;var pipe_resolver_1=require(109);exports.PipeResolver=pipe_resolver_1.PipeResolver;var template_parser_2=require(119),html_parser_1=require(94),directive_normalizer_1=require(80),metadata_resolver_1=require(97),style_compiler_1=require(116),view_compiler_1=require(137),config_2=require(78),runtime_compiler_2=require(111),element_schema_registry_1=require(113),dom_element_schema_registry_1=require(112),url_resolver_2=require(121),parser_1=require(84),lexer_1=require(83),view_resolver_2=require(138),directive_resolver_2=require(81),pipe_resolver_2=require(109);exports.COMPILER_PROVIDERS=[lexer_1.Lexer,parser_1.Parser,html_parser_1.HtmlParser,template_parser_2.TemplateParser,directive_normalizer_1.DirectiveNormalizer,metadata_resolver_1.CompileMetadataResolver,url_resolver_2.DEFAULT_PACKAGE_URL_PROVIDER,style_compiler_1.StyleCompiler,view_compiler_1.ViewCompiler,{provide:config_2.CompilerConfig,useFactory:_createCompilerConfig,deps:[]},runtime_compiler_2.RuntimeCompiler,{provide:core_1.ComponentResolver,useExisting:runtime_compiler_2.RuntimeCompiler},dom_element_schema_registry_1.DomElementSchemaRegistry,{provide:element_schema_registry_1.ElementSchemaRegistry,useExisting:dom_element_schema_registry_1.DomElementSchemaRegistry},url_resolver_2.UrlResolver,view_resolver_2.ViewResolver,directive_resolver_2.DirectiveResolver,pipe_resolver_2.PipeResolver];

},{"109":109,"111":111,"112":112,"113":113,"116":116,"118":118,"119":119,"121":121,"137":137,"138":138,"139":139,"140":140,"76":76,"78":78,"80":80,"81":81,"83":83,"84":84,"90":90,"94":94,"97":97,"98":98}],78:[function(require,module,exports){
"use strict";var lang_1=require(90),exceptions_1=require(89),identifiers_1=require(96),CompilerConfig=function(){function e(e,n,r,t){void 0===t&&(t=null),this.genDebugInfo=e,this.logBindingUpdate=n,this.useJit=r,lang_1.isBlank(t)&&(t=new DefaultRenderTypes),this.renderTypes=t}return e}();exports.CompilerConfig=CompilerConfig;var RenderTypes=function(){function e(){}return Object.defineProperty(e.prototype,"renderer",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderText",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderElement",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderComment",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderNode",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderEvent",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),e}();exports.RenderTypes=RenderTypes;var DefaultRenderTypes=function(){function e(){this.renderer=identifiers_1.Identifiers.Renderer,this.renderText=null,this.renderElement=null,this.renderComment=null,this.renderNode=null,this.renderEvent=null}return e}();exports.DefaultRenderTypes=DefaultRenderTypes;

},{"89":89,"90":90,"96":96}],79:[function(require,module,exports){
"use strict";function hasLifecycleHook(e,r){if(!(r instanceof lang_1.Type))return!1;var t=r.prototype;switch(e){case core_private_1.LifecycleHooks.AfterContentInit:return!!t.ngAfterContentInit;case core_private_1.LifecycleHooks.AfterContentChecked:return!!t.ngAfterContentChecked;case core_private_1.LifecycleHooks.AfterViewInit:return!!t.ngAfterViewInit;case core_private_1.LifecycleHooks.AfterViewChecked:return!!t.ngAfterViewChecked;case core_private_1.LifecycleHooks.OnChanges:return!!t.ngOnChanges;case core_private_1.LifecycleHooks.DoCheck:return!!t.ngDoCheck;case core_private_1.LifecycleHooks.OnDestroy:return!!t.ngOnDestroy;case core_private_1.LifecycleHooks.OnInit:return!!t.ngOnInit;default:return!1}}var core_private_1=require(72),lang_1=require(90);exports.hasLifecycleHook=hasLifecycleHook;

},{"72":72,"90":90}],80:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(90),exceptions_1=require(89),async_1=require(85),compile_metadata_1=require(76),xhr_1=require(139),url_resolver_1=require(121),style_url_resolver_1=require(117),html_ast_1=require(92),html_parser_1=require(94),template_preparser_1=require(120),DirectiveNormalizer=function(){function e(e,t,r){this._xhr=e,this._urlResolver=t,this._htmlParser=r}return e.prototype.normalizeDirective=function(e){return e.isComponent?this.normalizeTemplate(e.type,e.template).then(function(t){return new compile_metadata_1.CompileDirectiveMetadata({type:e.type,isComponent:e.isComponent,selector:e.selector,exportAs:e.exportAs,changeDetection:e.changeDetection,inputs:e.inputs,outputs:e.outputs,hostListeners:e.hostListeners,hostProperties:e.hostProperties,hostAttributes:e.hostAttributes,lifecycleHooks:e.lifecycleHooks,providers:e.providers,viewProviders:e.viewProviders,queries:e.queries,viewQueries:e.viewQueries,template:t})}):async_1.PromiseWrapper.resolve(e)},e.prototype.normalizeTemplate=function(e,t){var r=this;if(lang_1.isPresent(t.template))return async_1.PromiseWrapper.resolve(this.normalizeLoadedTemplate(e,t,t.template,e.moduleUrl));if(lang_1.isPresent(t.templateUrl)){var s=this._urlResolver.resolve(e.moduleUrl,t.templateUrl);return this._xhr.get(s).then(function(l){return r.normalizeLoadedTemplate(e,t,l,s)})}throw new exceptions_1.BaseException("No template specified for component "+e.name)},e.prototype.normalizeLoadedTemplate=function(e,t,r,s){var l=this,n=this._htmlParser.parse(r,e.name);if(n.errors.length>0){var o=n.errors.join("\n");throw new exceptions_1.BaseException("Template parse errors:\n"+o)}var i=new TemplatePreparseVisitor;html_ast_1.htmlVisitAll(i,n.rootNodes);var a=t.styles.concat(i.styles),p=i.styleUrls.filter(style_url_resolver_1.isStyleUrlResolvable).map(function(e){return l._urlResolver.resolve(s,e)}).concat(t.styleUrls.filter(style_url_resolver_1.isStyleUrlResolvable).map(function(t){return l._urlResolver.resolve(e.moduleUrl,t)})),u=a.map(function(e){var t=style_url_resolver_1.extractStyleUrls(l._urlResolver,s,e);return t.styleUrls.forEach(function(e){return p.push(e)}),t.style}),c=t.encapsulation;return c===core_1.ViewEncapsulation.Emulated&&0===u.length&&0===p.length&&(c=core_1.ViewEncapsulation.None),new compile_metadata_1.CompileTemplateMetadata({encapsulation:c,template:r,templateUrl:s,styles:u,styleUrls:p,ngContentSelectors:i.ngContentSelectors})},e.decorators=[{type:core_1.Injectable}],e.ctorParameters=[{type:xhr_1.XHR},{type:url_resolver_1.UrlResolver},{type:html_parser_1.HtmlParser}],e}();exports.DirectiveNormalizer=DirectiveNormalizer;var TemplatePreparseVisitor=function(){function e(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return e.prototype.visitElement=function(e,t){var r=template_preparser_1.preparseElement(e);switch(r.type){case template_preparser_1.PreparsedElementType.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(r.selectAttr);break;case template_preparser_1.PreparsedElementType.STYLE:var s="";e.children.forEach(function(e){e instanceof html_ast_1.HtmlTextAst&&(s+=e.value)}),this.styles.push(s);break;case template_preparser_1.PreparsedElementType.STYLESHEET:this.styleUrls.push(r.hrefAttr)}return r.nonBindable&&this.ngNonBindableStackCount++,html_ast_1.htmlVisitAll(this,e.children),r.nonBindable&&this.ngNonBindableStackCount--,null},e.prototype.visitComment=function(e,t){return null},e.prototype.visitAttr=function(e,t){return null},e.prototype.visitText=function(e,t){return null},e.prototype.visitExpansion=function(e,t){return null},e.prototype.visitExpansionCase=function(e,t){return null},e}();

},{"117":117,"120":120,"121":121,"139":139,"140":140,"76":76,"85":85,"89":89,"90":90,"92":92,"94":94}],81:[function(require,module,exports){
"use strict";function _isDirectiveMetadata(e){return e instanceof core_1.DirectiveMetadata}var core_1=require(140),core_private_1=require(72),lang_1=require(90),exceptions_1=require(89),collection_1=require(87),DirectiveResolver=function(){function e(e){lang_1.isPresent(e)?this._reflector=e:this._reflector=core_1.reflector}return e.prototype.resolve=function(e){var t=this._reflector.annotations(core_1.resolveForwardRef(e));if(lang_1.isPresent(t)){var r=t.find(_isDirectiveMetadata);if(lang_1.isPresent(r)){var o=this._reflector.propMetadata(e);return this._mergeWithPropertyMetadata(r,o,e)}}throw new exceptions_1.BaseException("No Directive annotation found on "+lang_1.stringify(e))},e.prototype._mergeWithPropertyMetadata=function(e,t,r){var o=[],n=[],i={},a={};return collection_1.StringMapWrapper.forEach(t,function(e,t){e.forEach(function(e){if(e instanceof core_1.InputMetadata&&(lang_1.isPresent(e.bindingPropertyName)?o.push(t+": "+e.bindingPropertyName):o.push(t)),e instanceof core_1.OutputMetadata&&(lang_1.isPresent(e.bindingPropertyName)?n.push(t+": "+e.bindingPropertyName):n.push(t)),e instanceof core_1.HostBindingMetadata&&(lang_1.isPresent(e.hostPropertyName)?i["["+e.hostPropertyName+"]"]=t:i["["+t+"]"]=t),e instanceof core_1.HostListenerMetadata){var r=lang_1.isPresent(e.args)?e.args.join(", "):"";i["("+e.eventName+")"]=t+"("+r+")"}e instanceof core_1.ContentChildrenMetadata&&(a[t]=e),e instanceof core_1.ViewChildrenMetadata&&(a[t]=e),e instanceof core_1.ContentChildMetadata&&(a[t]=e),e instanceof core_1.ViewChildMetadata&&(a[t]=e)})}),this._merge(e,o,n,i,a,r)},e.prototype._merge=function(e,t,r,o,n,i){var a,s=lang_1.isPresent(e.inputs)?collection_1.ListWrapper.concat(e.inputs,t):t;lang_1.isPresent(e.outputs)?(e.outputs.forEach(function(e){if(collection_1.ListWrapper.contains(r,e))throw new exceptions_1.BaseException("Output event '"+e+"' defined multiple times in '"+lang_1.stringify(i)+"'")}),a=collection_1.ListWrapper.concat(e.outputs,r)):a=r;var c=lang_1.isPresent(e.host)?collection_1.StringMapWrapper.merge(e.host,o):o,p=lang_1.isPresent(e.queries)?collection_1.StringMapWrapper.merge(e.queries,n):n;return e instanceof core_1.ComponentMetadata?new core_1.ComponentMetadata({selector:e.selector,inputs:s,outputs:a,host:c,exportAs:e.exportAs,moduleId:e.moduleId,queries:p,changeDetection:e.changeDetection,providers:e.providers,viewProviders:e.viewProviders}):new core_1.DirectiveMetadata({selector:e.selector,inputs:s,outputs:a,host:c,exportAs:e.exportAs,queries:p,providers:e.providers})},e.decorators=[{type:core_1.Injectable}],e.ctorParameters=[{type:core_private_1.ReflectorReader}],e}();exports.DirectiveResolver=DirectiveResolver,exports.CODEGEN_DIRECTIVE_RESOLVER=new DirectiveResolver(core_1.reflector);

},{"140":140,"72":72,"87":87,"89":89,"90":90}],82:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(t,i){function e(){this.constructor=t}for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r]);t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)},collection_1=require(87),AST=function(){function t(){}return t.prototype.visit=function(t,i){return void 0===i&&(i=null),null},t.prototype.toString=function(){return"AST"},t}();exports.AST=AST;var Quote=function(t){function i(i,e,r){t.call(this),this.prefix=i,this.uninterpretedExpression=e,this.location=r}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),t.visitQuote(this,i)},i.prototype.toString=function(){return"Quote"},i}(AST);exports.Quote=Quote;var EmptyExpr=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),i.prototype.visit=function(t,i){void 0===i&&(i=null)},i}(AST);exports.EmptyExpr=EmptyExpr;var ImplicitReceiver=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),t.visitImplicitReceiver(this,i)},i}(AST);exports.ImplicitReceiver=ImplicitReceiver;var Chain=function(t){function i(i){t.call(this),this.expressions=i}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),t.visitChain(this,i)},i}(AST);exports.Chain=Chain;var Conditional=function(t){function i(i,e,r){t.call(this),this.condition=i,this.trueExp=e,this.falseExp=r}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),t.visitConditional(this,i)},i}(AST);exports.Conditional=Conditional;var PropertyRead=function(t){function i(i,e){t.call(this),this.receiver=i,this.name=e}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),t.visitPropertyRead(this,i)},i}(AST);exports.PropertyRead=PropertyRead;var PropertyWrite=function(t){function i(i,e,r){t.call(this),this.receiver=i,this.name=e,this.value=r}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),t.visitPropertyWrite(this,i)},i}(AST);exports.PropertyWrite=PropertyWrite;var SafePropertyRead=function(t){function i(i,e){t.call(this),this.receiver=i,this.name=e}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),t.visitSafePropertyRead(this,i)},i}(AST);exports.SafePropertyRead=SafePropertyRead;var KeyedRead=function(t){function i(i,e){t.call(this),this.obj=i,this.key=e}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),t.visitKeyedRead(this,i)},i}(AST);exports.KeyedRead=KeyedRead;var KeyedWrite=function(t){function i(i,e,r){t.call(this),this.obj=i,this.key=e,this.value=r}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),t.visitKeyedWrite(this,i)},i}(AST);exports.KeyedWrite=KeyedWrite;var BindingPipe=function(t){function i(i,e,r){t.call(this),this.exp=i,this.name=e,this.args=r}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),t.visitPipe(this,i)},i}(AST);exports.BindingPipe=BindingPipe;var LiteralPrimitive=function(t){function i(i){t.call(this),this.value=i}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),t.visitLiteralPrimitive(this,i)},i}(AST);exports.LiteralPrimitive=LiteralPrimitive;var LiteralArray=function(t){function i(i){t.call(this),this.expressions=i}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),t.visitLiteralArray(this,i)},i}(AST);exports.LiteralArray=LiteralArray;var LiteralMap=function(t){function i(i,e){t.call(this),this.keys=i,this.values=e}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),t.visitLiteralMap(this,i)},i}(AST);exports.LiteralMap=LiteralMap;var Interpolation=function(t){function i(i,e){t.call(this),this.strings=i,this.expressions=e}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),t.visitInterpolation(this,i)},i}(AST);exports.Interpolation=Interpolation;var Binary=function(t){function i(i,e,r){t.call(this),this.operation=i,this.left=e,this.right=r}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),t.visitBinary(this,i)},i}(AST);exports.Binary=Binary;var PrefixNot=function(t){function i(i){t.call(this),this.expression=i}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),t.visitPrefixNot(this,i)},i}(AST);exports.PrefixNot=PrefixNot;var MethodCall=function(t){function i(i,e,r){t.call(this),this.receiver=i,this.name=e,this.args=r}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),t.visitMethodCall(this,i)},i}(AST);exports.MethodCall=MethodCall;var SafeMethodCall=function(t){function i(i,e,r){t.call(this),this.receiver=i,this.name=e,this.args=r}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),t.visitSafeMethodCall(this,i)},i}(AST);exports.SafeMethodCall=SafeMethodCall;var FunctionCall=function(t){function i(i,e){t.call(this),this.target=i,this.args=e}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),t.visitFunctionCall(this,i)},i}(AST);exports.FunctionCall=FunctionCall;var ASTWithSource=function(t){function i(i,e,r){t.call(this),this.ast=i,this.source=e,this.location=r}return __extends(i,t),i.prototype.visit=function(t,i){return void 0===i&&(i=null),this.ast.visit(t,i)},i.prototype.toString=function(){return this.source+" in "+this.location},i}(AST);exports.ASTWithSource=ASTWithSource;var TemplateBinding=function(){function t(t,i,e,r){this.key=t,this.keyIsVar=i,this.name=e,this.expression=r}return t}();exports.TemplateBinding=TemplateBinding;var RecursiveAstVisitor=function(){function t(){}return t.prototype.visitBinary=function(t,i){return t.left.visit(this),t.right.visit(this),null},t.prototype.visitChain=function(t,i){return this.visitAll(t.expressions,i)},t.prototype.visitConditional=function(t,i){return t.condition.visit(this),t.trueExp.visit(this),t.falseExp.visit(this),null},t.prototype.visitPipe=function(t,i){return t.exp.visit(this),this.visitAll(t.args,i),null},t.prototype.visitFunctionCall=function(t,i){return t.target.visit(this),this.visitAll(t.args,i),null},t.prototype.visitImplicitReceiver=function(t,i){return null},t.prototype.visitInterpolation=function(t,i){return this.visitAll(t.expressions,i)},t.prototype.visitKeyedRead=function(t,i){return t.obj.visit(this),t.key.visit(this),null},t.prototype.visitKeyedWrite=function(t,i){return t.obj.visit(this),t.key.visit(this),t.value.visit(this),null},t.prototype.visitLiteralArray=function(t,i){return this.visitAll(t.expressions,i)},t.prototype.visitLiteralMap=function(t,i){return this.visitAll(t.values,i)},t.prototype.visitLiteralPrimitive=function(t,i){return null},t.prototype.visitMethodCall=function(t,i){return t.receiver.visit(this),this.visitAll(t.args,i)},t.prototype.visitPrefixNot=function(t,i){return t.expression.visit(this),null},t.prototype.visitPropertyRead=function(t,i){return t.receiver.visit(this),null},t.prototype.visitPropertyWrite=function(t,i){return t.receiver.visit(this),t.value.visit(this),null},t.prototype.visitSafePropertyRead=function(t,i){return t.receiver.visit(this),null},t.prototype.visitSafeMethodCall=function(t,i){return t.receiver.visit(this),this.visitAll(t.args,i)},t.prototype.visitAll=function(t,i){var e=this;return t.forEach(function(t){return t.visit(e,i)}),null},t.prototype.visitQuote=function(t,i){return null},t}();exports.RecursiveAstVisitor=RecursiveAstVisitor;var AstTransformer=function(){function t(){}return t.prototype.visitImplicitReceiver=function(t,i){return t},t.prototype.visitInterpolation=function(t,i){return new Interpolation(t.strings,this.visitAll(t.expressions))},t.prototype.visitLiteralPrimitive=function(t,i){return new LiteralPrimitive(t.value)},t.prototype.visitPropertyRead=function(t,i){return new PropertyRead(t.receiver.visit(this),t.name)},t.prototype.visitPropertyWrite=function(t,i){return new PropertyWrite(t.receiver.visit(this),t.name,t.value)},t.prototype.visitSafePropertyRead=function(t,i){return new SafePropertyRead(t.receiver.visit(this),t.name)},t.prototype.visitMethodCall=function(t,i){return new MethodCall(t.receiver.visit(this),t.name,this.visitAll(t.args))},t.prototype.visitSafeMethodCall=function(t,i){return new SafeMethodCall(t.receiver.visit(this),t.name,this.visitAll(t.args))},t.prototype.visitFunctionCall=function(t,i){return new FunctionCall(t.target.visit(this),this.visitAll(t.args))},t.prototype.visitLiteralArray=function(t,i){return new LiteralArray(this.visitAll(t.expressions))},t.prototype.visitLiteralMap=function(t,i){return new LiteralMap(t.keys,this.visitAll(t.values))},t.prototype.visitBinary=function(t,i){return new Binary(t.operation,t.left.visit(this),t.right.visit(this))},t.prototype.visitPrefixNot=function(t,i){return new PrefixNot(t.expression.visit(this))},t.prototype.visitConditional=function(t,i){return new Conditional(t.condition.visit(this),t.trueExp.visit(this),t.falseExp.visit(this))},t.prototype.visitPipe=function(t,i){return new BindingPipe(t.exp.visit(this),t.name,this.visitAll(t.args))},t.prototype.visitKeyedRead=function(t,i){return new KeyedRead(t.obj.visit(this),t.key.visit(this))},t.prototype.visitKeyedWrite=function(t,i){return new KeyedWrite(t.obj.visit(this),t.key.visit(this),t.value.visit(this))},t.prototype.visitAll=function(t){for(var i=collection_1.ListWrapper.createFixedSize(t.length),e=0;e<t.length;++e)i[e]=t[e].visit(this);return i},t.prototype.visitChain=function(t,i){return new Chain(this.visitAll(t.expressions))},t.prototype.visitQuote=function(t,i){return new Quote(t.prefix,t.uninterpretedExpression,t.location)},t}();exports.AstTransformer=AstTransformer;

},{"87":87}],83:[function(require,module,exports){
"use strict";function newCharacterToken(e,t){return new Token(e,TokenType.Character,t,lang_1.StringWrapper.fromCharCode(t))}function newIdentifierToken(e,t){return new Token(e,TokenType.Identifier,0,t)}function newKeywordToken(e,t){return new Token(e,TokenType.Keyword,0,t)}function newOperatorToken(e,t){return new Token(e,TokenType.Operator,0,t)}function newStringToken(e,t){return new Token(e,TokenType.String,0,t)}function newNumberToken(e,t){return new Token(e,TokenType.Number,t,"")}function isWhitespace(e){return e>=exports.$TAB&&e<=exports.$SPACE||e==$NBSP}function isIdentifierStart(e){return e>=$a&&$z>=e||e>=$A&&$Z>=e||e==$_||e==exports.$$}function isIdentifier(e){if(0==e.length)return!1;var t=new _Scanner(e);if(!isIdentifierStart(t.peek))return!1;for(t.advance();t.peek!==exports.$EOF;){if(!isIdentifierPart(t.peek))return!1;t.advance()}return!0}function isIdentifierPart(e){return e>=$a&&$z>=e||e>=$A&&$Z>=e||e>=$0&&$9>=e||e==$_||e==exports.$$}function isDigit(e){return e>=$0&&$9>=e}function isExponentStart(e){return e==$e||e==$E}function isExponentSign(e){return e==exports.$MINUS||e==exports.$PLUS}function isQuote(e){return e===exports.$SQ||e===exports.$DQ||e===exports.$BT}function unescape(e){switch(e){case $n:return exports.$LF;case $f:return exports.$FF;case $r:return exports.$CR;case $t:return exports.$TAB;case $v:return exports.$VTAB;default:return e}}var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},core_1=require(140),collection_1=require(87),lang_1=require(90),exceptions_1=require(89);!function(e){e[e.Character=0]="Character",e[e.Identifier=1]="Identifier",e[e.Keyword=2]="Keyword",e[e.String=3]="String",e[e.Operator=4]="Operator",e[e.Number=5]="Number"}(exports.TokenType||(exports.TokenType={}));var TokenType=exports.TokenType,Lexer=function(){function e(){}return e.prototype.tokenize=function(e){for(var t=new _Scanner(e),r=[],n=t.scanToken();null!=n;)r.push(n),n=t.scanToken();return r},e.decorators=[{type:core_1.Injectable}],e}();exports.Lexer=Lexer;var Token=function(){function e(e,t,r,n){this.index=e,this.type=t,this.numValue=r,this.strValue=n}return e.prototype.isCharacter=function(e){return this.type==TokenType.Character&&this.numValue==e},e.prototype.isNumber=function(){return this.type==TokenType.Number},e.prototype.isString=function(){return this.type==TokenType.String},e.prototype.isOperator=function(e){return this.type==TokenType.Operator&&this.strValue==e},e.prototype.isIdentifier=function(){return this.type==TokenType.Identifier},e.prototype.isKeyword=function(){return this.type==TokenType.Keyword},e.prototype.isKeywordDeprecatedVar=function(){return this.type==TokenType.Keyword&&"var"==this.strValue},e.prototype.isKeywordLet=function(){return this.type==TokenType.Keyword&&"let"==this.strValue},e.prototype.isKeywordNull=function(){return this.type==TokenType.Keyword&&"null"==this.strValue},e.prototype.isKeywordUndefined=function(){return this.type==TokenType.Keyword&&"undefined"==this.strValue},e.prototype.isKeywordTrue=function(){return this.type==TokenType.Keyword&&"true"==this.strValue},e.prototype.isKeywordFalse=function(){return this.type==TokenType.Keyword&&"false"==this.strValue},e.prototype.toNumber=function(){return this.type==TokenType.Number?this.numValue:-1},e.prototype.toString=function(){switch(this.type){case TokenType.Character:case TokenType.Identifier:case TokenType.Keyword:case TokenType.Operator:case TokenType.String:return this.strValue;case TokenType.Number:return this.numValue.toString();default:return null}},e}();exports.Token=Token,exports.EOF=new Token(-1,TokenType.Character,0,""),exports.$EOF=0,exports.$TAB=9,exports.$LF=10,exports.$VTAB=11,exports.$FF=12,exports.$CR=13,exports.$SPACE=32,exports.$BANG=33,exports.$DQ=34,exports.$HASH=35,exports.$$=36,exports.$PERCENT=37,exports.$AMPERSAND=38,exports.$SQ=39,exports.$LPAREN=40,exports.$RPAREN=41,exports.$STAR=42,exports.$PLUS=43,exports.$COMMA=44,exports.$MINUS=45,exports.$PERIOD=46,exports.$SLASH=47,exports.$COLON=58,exports.$SEMICOLON=59,exports.$LT=60,exports.$EQ=61,exports.$GT=62,exports.$QUESTION=63;var $0=48,$9=57,$A=65,$E=69,$Z=90;exports.$LBRACKET=91,exports.$BACKSLASH=92,exports.$RBRACKET=93;var $CARET=94,$_=95;exports.$BT=96;var $a=97,$e=101,$f=102,$n=110,$r=114,$t=116,$u=117,$v=118,$z=122;exports.$LBRACE=123,exports.$BAR=124,exports.$RBRACE=125;var $NBSP=160,ScannerError=function(e){function t(t){e.call(this),this.message=t}return __extends(t,e),t.prototype.toString=function(){return this.message},t}(exceptions_1.BaseException);exports.ScannerError=ScannerError;var _Scanner=function(){function e(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}return e.prototype.advance=function(){this.peek=++this.index>=this.length?exports.$EOF:lang_1.StringWrapper.charCodeAt(this.input,this.index)},e.prototype.scanToken=function(){for(var e=this.input,t=this.length,r=this.peek,n=this.index;r<=exports.$SPACE;){if(++n>=t){r=exports.$EOF;break}r=lang_1.StringWrapper.charCodeAt(e,n)}if(this.peek=r,this.index=n,n>=t)return null;if(isIdentifierStart(r))return this.scanIdentifier();if(isDigit(r))return this.scanNumber(n);var o=n;switch(r){case exports.$PERIOD:return this.advance(),isDigit(this.peek)?this.scanNumber(o):newCharacterToken(o,exports.$PERIOD);case exports.$LPAREN:case exports.$RPAREN:case exports.$LBRACE:case exports.$RBRACE:case exports.$LBRACKET:case exports.$RBRACKET:case exports.$COMMA:case exports.$COLON:case exports.$SEMICOLON:return this.scanCharacter(o,r);case exports.$SQ:case exports.$DQ:return this.scanString();case exports.$HASH:case exports.$PLUS:case exports.$MINUS:case exports.$STAR:case exports.$SLASH:case exports.$PERCENT:case $CARET:return this.scanOperator(o,lang_1.StringWrapper.fromCharCode(r));case exports.$QUESTION:return this.scanComplexOperator(o,"?",exports.$PERIOD,".");case exports.$LT:case exports.$GT:return this.scanComplexOperator(o,lang_1.StringWrapper.fromCharCode(r),exports.$EQ,"=");case exports.$BANG:case exports.$EQ:return this.scanComplexOperator(o,lang_1.StringWrapper.fromCharCode(r),exports.$EQ,"=",exports.$EQ,"=");case exports.$AMPERSAND:return this.scanComplexOperator(o,"&",exports.$AMPERSAND,"&");case exports.$BAR:return this.scanComplexOperator(o,"|",exports.$BAR,"|");case $NBSP:for(;isWhitespace(this.peek);)this.advance();return this.scanToken()}return this.error("Unexpected character ["+lang_1.StringWrapper.fromCharCode(r)+"]",0),null},e.prototype.scanCharacter=function(e,t){return this.advance(),newCharacterToken(e,t)},e.prototype.scanOperator=function(e,t){return this.advance(),newOperatorToken(e,t)},e.prototype.scanComplexOperator=function(e,t,r,n,o,s){this.advance();var i=t;return this.peek==r&&(this.advance(),i+=n),lang_1.isPresent(o)&&this.peek==o&&(this.advance(),i+=s),newOperatorToken(e,i)},e.prototype.scanIdentifier=function(){var e=this.index;for(this.advance();isIdentifierPart(this.peek);)this.advance();var t=this.input.substring(e,this.index);return collection_1.SetWrapper.has(KEYWORDS,t)?newKeywordToken(e,t):newIdentifierToken(e,t)},e.prototype.scanNumber=function(e){var t=this.index===e;for(this.advance();;){if(isDigit(this.peek));else if(this.peek==exports.$PERIOD)t=!1;else{if(!isExponentStart(this.peek))break;this.advance(),isExponentSign(this.peek)&&this.advance(),isDigit(this.peek)||this.error("Invalid exponent",-1),t=!1}this.advance()}var r=this.input.substring(e,this.index),n=t?lang_1.NumberWrapper.parseIntAutoRadix(r):lang_1.NumberWrapper.parseFloat(r);return newNumberToken(e,n)},e.prototype.scanString=function(){var e=this.index,t=this.peek;this.advance();for(var r,n=this.index,o=this.input;this.peek!=t;)if(this.peek==exports.$BACKSLASH){null==r&&(r=new lang_1.StringJoiner),r.add(o.substring(n,this.index)),this.advance();var s;if(this.peek==$u){var i=o.substring(this.index+1,this.index+5);try{s=lang_1.NumberWrapper.parseInt(i,16)}catch(p){this.error("Invalid unicode escape [\\u"+i+"]",0)}for(var a=0;5>a;a++)this.advance()}else s=unescape(this.peek),this.advance();r.add(lang_1.StringWrapper.fromCharCode(s)),n=this.index}else this.peek==exports.$EOF?this.error("Unterminated quote",0):this.advance();var c=o.substring(n,this.index);this.advance();var u=c;return null!=r&&(r.add(c),u=r.toString()),newStringToken(e,u)},e.prototype.error=function(e,t){var r=this.index+t;throw new ScannerError("Lexer Error: "+e+" at column "+r+" in expression ["+this.input+"]")},e}();exports.isIdentifier=isIdentifier,exports.isQuote=isQuote;var OPERATORS=collection_1.SetWrapper.createFromList(["+","-","*","/","%","^","=","==","!=","===","!==","<",">","<=",">=","&&","||","&","|","!","?","#","?."]),KEYWORDS=collection_1.SetWrapper.createFromList(["var","let","null","undefined","true","false","if","else"]);

},{"140":140,"87":87,"89":89,"90":90}],84:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},core_1=require(140),lang_1=require(90),exceptions_1=require(89),collection_1=require(87),lexer_1=require(83),ast_1=require(82),_implicitReceiver=new ast_1.ImplicitReceiver,INTERPOLATION_REGEXP=/\{\{([\s\S]*?)\}\}/g,ParseException=function(e){function t(t,r,i,n){e.call(this,"Parser Error: "+t+" "+i+" ["+r+"] in "+n)}return __extends(t,e),t}(exceptions_1.BaseException),SplitInterpolation=function(){function e(e,t){this.strings=e,this.expressions=t}return e}();exports.SplitInterpolation=SplitInterpolation;var TemplateBindingParseResult=function(){function e(e,t){this.templateBindings=e,this.warnings=t}return e}();exports.TemplateBindingParseResult=TemplateBindingParseResult;var Parser=function(){function e(e){this._lexer=e}return e.prototype.parseAction=function(e,t){this._checkNoInterpolation(e,t);var r=this._lexer.tokenize(this._stripComments(e)),i=new _ParseAST(e,t,r,!0).parseChain();return new ast_1.ASTWithSource(i,e,t)},e.prototype.parseBinding=function(e,t){var r=this._parseBindingAst(e,t);return new ast_1.ASTWithSource(r,e,t)},e.prototype.parseSimpleBinding=function(e,t){var r=this._parseBindingAst(e,t);if(!SimpleExpressionChecker.check(r))throw new ParseException("Host binding expression can only contain field access and constants",e,t);return new ast_1.ASTWithSource(r,e,t)},e.prototype._parseBindingAst=function(e,t){var r=this._parseQuote(e,t);if(lang_1.isPresent(r))return r;this._checkNoInterpolation(e,t);var i=this._lexer.tokenize(this._stripComments(e));return new _ParseAST(e,t,i,!1).parseChain()},e.prototype._parseQuote=function(e,t){if(lang_1.isBlank(e))return null;var r=e.indexOf(":");if(-1==r)return null;var i=e.substring(0,r).trim();if(!lexer_1.isIdentifier(i))return null;var n=e.substring(r+1);return new ast_1.Quote(i,n,t)},e.prototype.parseTemplateBindings=function(e,t){var r=this._lexer.tokenize(e);return new _ParseAST(e,t,r,!1).parseTemplateBindings()},e.prototype.parseInterpolation=function(e,t){var r=this.splitInterpolation(e,t);if(null==r)return null;for(var i=[],n=0;n<r.expressions.length;++n){var s=this._lexer.tokenize(this._stripComments(r.expressions[n])),o=new _ParseAST(e,t,s,!1).parseChain();i.push(o)}return new ast_1.ASTWithSource(new ast_1.Interpolation(r.strings,i),e,t)},e.prototype.splitInterpolation=function(e,t){var r=lang_1.StringWrapper.split(e,INTERPOLATION_REGEXP);if(r.length<=1)return null;for(var i=[],n=[],s=0;s<r.length;s++){var o=r[s];if(s%2===0)i.push(o);else{if(!(o.trim().length>0))throw new ParseException("Blank expressions are not allowed in interpolated strings",e,"at column "+this._findInterpolationErrorColumn(r,s)+" in",t);n.push(o)}}return new SplitInterpolation(i,n)},e.prototype.wrapLiteralPrimitive=function(e,t){return new ast_1.ASTWithSource(new ast_1.LiteralPrimitive(e),e,t)},e.prototype._stripComments=function(e){var t=this._commentStart(e);return lang_1.isPresent(t)?e.substring(0,t).trim():e},e.prototype._commentStart=function(e){for(var t=null,r=0;r<e.length-1;r++){var i=lang_1.StringWrapper.charCodeAt(e,r),n=lang_1.StringWrapper.charCodeAt(e,r+1);if(i===lexer_1.$SLASH&&n==lexer_1.$SLASH&&lang_1.isBlank(t))return r;t===i?t=null:lang_1.isBlank(t)&&lexer_1.isQuote(i)&&(t=i)}return null},e.prototype._checkNoInterpolation=function(e,t){var r=lang_1.StringWrapper.split(e,INTERPOLATION_REGEXP);if(r.length>1)throw new ParseException("Got interpolation ({{}}) where expression was expected",e,"at column "+this._findInterpolationErrorColumn(r,1)+" in",t)},e.prototype._findInterpolationErrorColumn=function(e,t){for(var r="",i=0;t>i;i++)r+=i%2===0?e[i]:"{{"+e[i]+"}}";return r.length},e.decorators=[{type:core_1.Injectable}],e.ctorParameters=[{type:lexer_1.Lexer}],e}();exports.Parser=Parser;var _ParseAST=function(){function e(e,t,r,i){this.input=e,this.location=t,this.tokens=r,this.parseAction=i,this.index=0}return e.prototype.peek=function(e){var t=this.index+e;return t<this.tokens.length?this.tokens[t]:lexer_1.EOF},Object.defineProperty(e.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index:this.input.length},enumerable:!0,configurable:!0}),e.prototype.advance=function(){this.index++},e.prototype.optionalCharacter=function(e){return this.next.isCharacter(e)?(this.advance(),!0):!1},e.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},e.prototype.peekDeprecatedKeywordVar=function(){return this.next.isKeywordDeprecatedVar()},e.prototype.peekDeprecatedOperatorHash=function(){return this.next.isOperator("#")},e.prototype.expectCharacter=function(e){this.optionalCharacter(e)||this.error("Missing expected "+lang_1.StringWrapper.fromCharCode(e))},e.prototype.optionalOperator=function(e){return this.next.isOperator(e)?(this.advance(),!0):!1},e.prototype.expectOperator=function(e){this.optionalOperator(e)||this.error("Missing expected operator "+e)},e.prototype.expectIdentifierOrKeyword=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||this.error("Unexpected token "+e+", expected identifier or keyword"),this.advance(),e.toString()},e.prototype.expectIdentifierOrKeywordOrString=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()||this.error("Unexpected token "+e+", expected identifier, keyword, or string"),this.advance(),e.toString()},e.prototype.parseChain=function(){for(var e=[];this.index<this.tokens.length;){var t=this.parsePipe();if(e.push(t),this.optionalCharacter(lexer_1.$SEMICOLON))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(lexer_1.$SEMICOLON););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==e.length?new ast_1.EmptyExpr:1==e.length?e[0]:new ast_1.Chain(e)},e.prototype.parsePipe=function(){var e=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var t=this.expectIdentifierOrKeyword(),r=[];this.optionalCharacter(lexer_1.$COLON);)r.push(this.parseExpression());e=new ast_1.BindingPipe(e,t,r)}while(this.optionalOperator("|"))}return e},e.prototype.parseExpression=function(){return this.parseConditional()},e.prototype.parseConditional=function(){var e=this.inputIndex,t=this.parseLogicalOr();if(this.optionalOperator("?")){var r=this.parsePipe();if(!this.optionalCharacter(lexer_1.$COLON)){var i=this.inputIndex,n=this.input.substring(e,i);this.error("Conditional expression "+n+" requires all 3 expressions")}var s=this.parsePipe();return new ast_1.Conditional(t,r,s)}return t},e.prototype.parseLogicalOr=function(){for(var e=this.parseLogicalAnd();this.optionalOperator("||");)e=new ast_1.Binary("||",e,this.parseLogicalAnd());return e},e.prototype.parseLogicalAnd=function(){for(var e=this.parseEquality();this.optionalOperator("&&");)e=new ast_1.Binary("&&",e,this.parseEquality());return e},e.prototype.parseEquality=function(){for(var e=this.parseRelational();;)if(this.optionalOperator("=="))e=new ast_1.Binary("==",e,this.parseRelational());else if(this.optionalOperator("==="))e=new ast_1.Binary("===",e,this.parseRelational());else if(this.optionalOperator("!="))e=new ast_1.Binary("!=",e,this.parseRelational());else{if(!this.optionalOperator("!=="))return e;e=new ast_1.Binary("!==",e,this.parseRelational())}},e.prototype.parseRelational=function(){for(var e=this.parseAdditive();;)if(this.optionalOperator("<"))e=new ast_1.Binary("<",e,this.parseAdditive());else if(this.optionalOperator(">"))e=new ast_1.Binary(">",e,this.parseAdditive());else if(this.optionalOperator("<="))e=new ast_1.Binary("<=",e,this.parseAdditive());else{if(!this.optionalOperator(">="))return e;e=new ast_1.Binary(">=",e,this.parseAdditive())}},e.prototype.parseAdditive=function(){for(var e=this.parseMultiplicative();;)if(this.optionalOperator("+"))e=new ast_1.Binary("+",e,this.parseMultiplicative());else{if(!this.optionalOperator("-"))return e;e=new ast_1.Binary("-",e,this.parseMultiplicative())}},e.prototype.parseMultiplicative=function(){for(var e=this.parsePrefix();;)if(this.optionalOperator("*"))e=new ast_1.Binary("*",e,this.parsePrefix());else if(this.optionalOperator("%"))e=new ast_1.Binary("%",e,this.parsePrefix());else{if(!this.optionalOperator("/"))return e;e=new ast_1.Binary("/",e,this.parsePrefix())}},e.prototype.parsePrefix=function(){return this.optionalOperator("+")?this.parsePrefix():this.optionalOperator("-")?new ast_1.Binary("-",new ast_1.LiteralPrimitive(0),this.parsePrefix()):this.optionalOperator("!")?new ast_1.PrefixNot(this.parsePrefix()):this.parseCallChain()},e.prototype.parseCallChain=function(){for(var e=this.parsePrimary();;)if(this.optionalCharacter(lexer_1.$PERIOD))e=this.parseAccessMemberOrMethodCall(e,!1);else if(this.optionalOperator("?."))e=this.parseAccessMemberOrMethodCall(e,!0);else if(this.optionalCharacter(lexer_1.$LBRACKET)){var t=this.parsePipe();if(this.expectCharacter(lexer_1.$RBRACKET),this.optionalOperator("=")){var r=this.parseConditional();e=new ast_1.KeyedWrite(e,t,r)}else e=new ast_1.KeyedRead(e,t)}else{if(!this.optionalCharacter(lexer_1.$LPAREN))return e;var i=this.parseCallArguments();this.expectCharacter(lexer_1.$RPAREN),e=new ast_1.FunctionCall(e,i)}},e.prototype.parsePrimary=function(){if(this.optionalCharacter(lexer_1.$LPAREN)){var e=this.parsePipe();return this.expectCharacter(lexer_1.$RPAREN),e}if(this.next.isKeywordNull()||this.next.isKeywordUndefined())return this.advance(),new ast_1.LiteralPrimitive(null);if(this.next.isKeywordTrue())return this.advance(),new ast_1.LiteralPrimitive(!0);if(this.next.isKeywordFalse())return this.advance(),new ast_1.LiteralPrimitive(!1);if(this.optionalCharacter(lexer_1.$LBRACKET)){var t=this.parseExpressionList(lexer_1.$RBRACKET);return this.expectCharacter(lexer_1.$RBRACKET),new ast_1.LiteralArray(t)}if(this.next.isCharacter(lexer_1.$LBRACE))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(_implicitReceiver,!1);if(this.next.isNumber()){var r=this.next.toNumber();return this.advance(),new ast_1.LiteralPrimitive(r)}if(this.next.isString()){var i=this.next.toString();return this.advance(),new ast_1.LiteralPrimitive(i)}throw this.index>=this.tokens.length?this.error("Unexpected end of expression: "+this.input):this.error("Unexpected token "+this.next),new exceptions_1.BaseException("Fell through all cases in parsePrimary")},e.prototype.parseExpressionList=function(e){var t=[];if(!this.next.isCharacter(e))do t.push(this.parsePipe());while(this.optionalCharacter(lexer_1.$COMMA));return t},e.prototype.parseLiteralMap=function(){var e=[],t=[];if(this.expectCharacter(lexer_1.$LBRACE),!this.optionalCharacter(lexer_1.$RBRACE)){do{var r=this.expectIdentifierOrKeywordOrString();e.push(r),this.expectCharacter(lexer_1.$COLON),t.push(this.parsePipe())}while(this.optionalCharacter(lexer_1.$COMMA));this.expectCharacter(lexer_1.$RBRACE)}return new ast_1.LiteralMap(e,t)},e.prototype.parseAccessMemberOrMethodCall=function(e,t){void 0===t&&(t=!1);var r=this.expectIdentifierOrKeyword();if(this.optionalCharacter(lexer_1.$LPAREN)){var i=this.parseCallArguments();return this.expectCharacter(lexer_1.$RPAREN),t?new ast_1.SafeMethodCall(e,r,i):new ast_1.MethodCall(e,r,i)}if(!t){if(this.optionalOperator("=")){this.parseAction||this.error("Bindings cannot contain assignments");var n=this.parseConditional();return new ast_1.PropertyWrite(e,r,n)}return new ast_1.PropertyRead(e,r)}return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),null):new ast_1.SafePropertyRead(e,r)},e.prototype.parseCallArguments=function(){if(this.next.isCharacter(lexer_1.$RPAREN))return[];var e=[];do e.push(this.parsePipe());while(this.optionalCharacter(lexer_1.$COMMA));return e},e.prototype.parseBlockContent=function(){this.parseAction||this.error("Binding expression cannot contain chained expression");for(var e=[];this.index<this.tokens.length&&!this.next.isCharacter(lexer_1.$RBRACE);){var t=this.parseExpression();if(e.push(t),this.optionalCharacter(lexer_1.$SEMICOLON))for(;this.optionalCharacter(lexer_1.$SEMICOLON););}return 0==e.length?new ast_1.EmptyExpr:1==e.length?e[0]:new ast_1.Chain(e)},e.prototype.expectTemplateBindingKey=function(){var e="",t=!1;do e+=this.expectIdentifierOrKeywordOrString(),t=this.optionalOperator("-"),t&&(e+="-");while(t);return e.toString()},e.prototype.parseTemplateBindings=function(){for(var e=[],t=null,r=[];this.index<this.tokens.length;){var i=this.peekKeywordLet();!i&&this.peekDeprecatedKeywordVar()&&(i=!0,r.push('"var" inside of expressions is deprecated. Use "let" instead!')),!i&&this.peekDeprecatedOperatorHash()&&(i=!0,r.push('"#" inside of expressions is deprecated. Use "let" instead!')),i&&this.advance();var n=this.expectTemplateBindingKey();i||(null==t?t=n:n=t+n[0].toUpperCase()+n.substring(1)),this.optionalCharacter(lexer_1.$COLON);var s=null,o=null;if(i)s=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.next!==lexer_1.EOF&&!this.peekKeywordLet()&&!this.peekDeprecatedKeywordVar()&&!this.peekDeprecatedOperatorHash()){var a=this.inputIndex,p=this.parsePipe(),l=this.input.substring(a,this.inputIndex);o=new ast_1.ASTWithSource(p,l,this.location)}e.push(new ast_1.TemplateBinding(n,i,s,o)),this.optionalCharacter(lexer_1.$SEMICOLON)||this.optionalCharacter(lexer_1.$COMMA)}return new TemplateBindingParseResult(e,r)},e.prototype.error=function(e,t){void 0===t&&(t=null),lang_1.isBlank(t)&&(t=this.index);var r=t<this.tokens.length?"at column "+(this.tokens[t].index+1)+" in":"at the end of the expression";throw new ParseException(e,this.input,r,this.location)},e}();exports._ParseAST=_ParseAST;var SimpleExpressionChecker=function(){function e(){this.simple=!0}return e.check=function(t){var r=new e;return t.visit(r),r.simple},e.prototype.visitImplicitReceiver=function(e,t){},e.prototype.visitInterpolation=function(e,t){this.simple=!1},e.prototype.visitLiteralPrimitive=function(e,t){},e.prototype.visitPropertyRead=function(e,t){},e.prototype.visitPropertyWrite=function(e,t){this.simple=!1},e.prototype.visitSafePropertyRead=function(e,t){this.simple=!1},e.prototype.visitMethodCall=function(e,t){this.simple=!1},e.prototype.visitSafeMethodCall=function(e,t){this.simple=!1},e.prototype.visitFunctionCall=function(e,t){this.simple=!1},e.prototype.visitLiteralArray=function(e,t){this.visitAll(e.expressions)},e.prototype.visitLiteralMap=function(e,t){this.visitAll(e.values)},e.prototype.visitBinary=function(e,t){this.simple=!1},e.prototype.visitPrefixNot=function(e,t){this.simple=!1},e.prototype.visitConditional=function(e,t){this.simple=!1},e.prototype.visitPipe=function(e,t){this.simple=!1},e.prototype.visitKeyedRead=function(e,t){this.simple=!1},e.prototype.visitKeyedWrite=function(e,t){this.simple=!1},e.prototype.visitAll=function(e){for(var t=collection_1.ListWrapper.createFixedSize(e.length),r=0;r<e.length;++r)t[r]=e[r].visit(this);return t},e.prototype.visitChain=function(e,t){this.simple=!1},e.prototype.visitQuote=function(e,t){this.simple=!1},e}();

},{"140":140,"82":82,"83":83,"87":87,"89":89,"90":90}],85:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},lang_1=require(90),promise_1=require(91);exports.PromiseWrapper=promise_1.PromiseWrapper,exports.PromiseCompleter=promise_1.PromiseCompleter;var Subject_1=require(290),PromiseObservable_1=require(294),toPromise_1=require(295),Observable_1=require(288);exports.Observable=Observable_1.Observable;var Subject_2=require(290);exports.Subject=Subject_2.Subject;var TimerWrapper=function(){function e(){}return e.setTimeout=function(e,t){return lang_1.global.setTimeout(e,t)},e.clearTimeout=function(e){lang_1.global.clearTimeout(e)},e.setInterval=function(e,t){return lang_1.global.setInterval(e,t)},e.clearInterval=function(e){lang_1.global.clearInterval(e)},e}();exports.TimerWrapper=TimerWrapper;var ObservableWrapper=function(){function e(){}return e.subscribe=function(e,t,r,n){return void 0===n&&(n=function(){}),r="function"==typeof r&&r||lang_1.noop,n="function"==typeof n&&n||lang_1.noop,e.subscribe({next:t,error:r,complete:n})},e.isObservable=function(e){return!!e.subscribe},e.hasSubscribers=function(e){return e.observers.length>0},e.dispose=function(e){e.unsubscribe()},e.callNext=function(e,t){e.next(t)},e.callEmit=function(e,t){e.emit(t)},e.callError=function(e,t){e.error(t)},e.callComplete=function(e){e.complete()},e.fromPromise=function(e){return PromiseObservable_1.PromiseObservable.create(e)},e.toPromise=function(e){return toPromise_1.toPromise.call(e)},e}();exports.ObservableWrapper=ObservableWrapper;var EventEmitter=function(e){function t(t){void 0===t&&(t=!0),e.call(this),this._isAsync=t}return __extends(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.next=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,r,n){var o,i=function(e){return null},s=function(){return null};return t&&"object"==typeof t?(o=this._isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(i=this._isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(s=this._isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(o=this._isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},r&&(i=this._isAsync?function(e){setTimeout(function(){return r(e)})}:function(e){r(e)}),n&&(s=this._isAsync?function(){setTimeout(function(){return n()})}:function(){n()})),e.prototype.subscribe.call(this,o,i,s)},t}(Subject_1.Subject);exports.EventEmitter=EventEmitter;

},{"288":288,"290":290,"294":294,"295":295,"90":90,"91":91}],86:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},BaseWrappedException=function(e){function t(t){e.call(this,t)}return __extends(t,e),Object.defineProperty(t.prototype,"wrapperMessage",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalException",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return""},enumerable:!0,configurable:!0}),t}(Error);exports.BaseWrappedException=BaseWrappedException;

},{}],87:[function(require,module,exports){
"use strict";function _flattenArray(r,n){if(lang_1.isPresent(r))for(var e=0;e<r.length;e++){var t=r[e];lang_1.isArray(t)?_flattenArray(t,n):n.push(t)}return n}function isListLikeIterable(r){return lang_1.isJsObject(r)?lang_1.isArray(r)||!(r instanceof exports.Map)&&lang_1.getSymbolIterator()in r:!1}function areIterablesEqual(r,n,e){for(var t=r[lang_1.getSymbolIterator()](),a=n[lang_1.getSymbolIterator()]();;){var i=t.next(),o=a.next();if(i.done&&o.done)return!0;if(i.done||o.done)return!1;if(!e(i.value,o.value))return!1}}function iterateListLike(r,n){if(lang_1.isArray(r))for(var e=0;e<r.length;e++)n(r[e]);else for(var t,a=r[lang_1.getSymbolIterator()]();!(t=a.next()).done;)n(t.value)}var lang_1=require(90);exports.Map=lang_1.global.Map,exports.Set=lang_1.global.Set;var createMapFromPairs=function(){try{if(1===new exports.Map([[1,2]]).size)return function(r){return new exports.Map(r)}}catch(r){}return function(r){for(var n=new exports.Map,e=0;e<r.length;e++){var t=r[e];n.set(t[0],t[1])}return n}}(),createMapFromMap=function(){try{if(new exports.Map(new exports.Map))return function(r){return new exports.Map(r)}}catch(r){}return function(r){var n=new exports.Map;return r.forEach(function(r,e){n.set(e,r)}),n}}(),_clearValues=function(){return(new exports.Map).keys().next?function(r){for(var n,e=r.keys();!(n=e.next()).done;)r.set(n.value,null)}:function(r){r.forEach(function(n,e){r.set(e,null)})}}(),_arrayFromMap=function(){try{if((new exports.Map).values().next)return function(r,n){return n?Array.from(r.values()):Array.from(r.keys())}}catch(r){}return function(r,n){var e=ListWrapper.createFixedSize(r.size),t=0;return r.forEach(function(r,a){e[t]=n?r:a,t++}),e}}(),MapWrapper=function(){function r(){}return r.clone=function(r){return createMapFromMap(r)},r.createFromStringMap=function(r){var n=new exports.Map;for(var e in r)n.set(e,r[e]);return n},r.toStringMap=function(r){var n={};return r.forEach(function(r,e){return n[e]=r}),n},r.createFromPairs=function(r){return createMapFromPairs(r)},r.clearValues=function(r){_clearValues(r)},r.iterable=function(r){return r},r.keys=function(r){return _arrayFromMap(r,!1)},r.values=function(r){return _arrayFromMap(r,!0)},r}();exports.MapWrapper=MapWrapper;var StringMapWrapper=function(){function r(){}return r.create=function(){return{}},r.contains=function(r,n){return r.hasOwnProperty(n)},r.get=function(r,n){return r.hasOwnProperty(n)?r[n]:void 0},r.set=function(r,n,e){r[n]=e},r.keys=function(r){return Object.keys(r)},r.values=function(r){return Object.keys(r).reduce(function(n,e){return n.push(r[e]),n},[])},r.isEmpty=function(r){for(var n in r)return!1;return!0},r["delete"]=function(r,n){delete r[n]},r.forEach=function(r,n){for(var e in r)r.hasOwnProperty(e)&&n(r[e],e)},r.merge=function(r,n){var e={};for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e},r.equals=function(r,n){var e=Object.keys(r),t=Object.keys(n);if(e.length!=t.length)return!1;for(var a,i=0;i<e.length;i++)if(a=e[i],r[a]!==n[a])return!1;return!0},r}();exports.StringMapWrapper=StringMapWrapper;var ListWrapper=function(){function r(){}return r.createFixedSize=function(r){return new Array(r)},r.createGrowableSize=function(r){return new Array(r)},r.clone=function(r){return r.slice(0)},r.forEachWithIndex=function(r,n){for(var e=0;e<r.length;e++)n(r[e],e)},r.first=function(r){return r?r[0]:null},r.last=function(r){return r&&0!=r.length?r[r.length-1]:null},r.indexOf=function(r,n,e){return void 0===e&&(e=0),r.indexOf(n,e)},r.contains=function(r,n){return-1!==r.indexOf(n)},r.reversed=function(n){var e=r.clone(n);return e.reverse()},r.concat=function(r,n){return r.concat(n)},r.insert=function(r,n,e){r.splice(n,0,e)},r.removeAt=function(r,n){var e=r[n];return r.splice(n,1),e},r.removeAll=function(r,n){for(var e=0;e<n.length;++e){var t=r.indexOf(n[e]);r.splice(t,1)}},r.remove=function(r,n){var e=r.indexOf(n);return e>-1?(r.splice(e,1),!0):!1},r.clear=function(r){r.length=0},r.isEmpty=function(r){return 0==r.length},r.fill=function(r,n,e,t){void 0===e&&(e=0),void 0===t&&(t=null),r.fill(n,e,null===t?r.length:t)},r.equals=function(r,n){if(r.length!=n.length)return!1;for(var e=0;e<r.length;++e)if(r[e]!==n[e])return!1;return!0},r.slice=function(r,n,e){return void 0===n&&(n=0),void 0===e&&(e=null),r.slice(n,null===e?void 0:e)},r.splice=function(r,n,e){return r.splice(n,e)},r.sort=function(r,n){lang_1.isPresent(n)?r.sort(n):r.sort()},r.toString=function(r){return r.toString()},r.toJSON=function(r){return JSON.stringify(r)},r.maximum=function(r,n){if(0==r.length)return null;for(var e=null,t=-(1/0),a=0;a<r.length;a++){var i=r[a];if(!lang_1.isBlank(i)){var o=n(i);o>t&&(e=i,t=o)}}return e},r.flatten=function(r){var n=[];return _flattenArray(r,n),n},r.addAll=function(r,n){for(var e=0;e<n.length;e++)r.push(n[e])},r}();exports.ListWrapper=ListWrapper,exports.isListLikeIterable=isListLikeIterable,exports.areIterablesEqual=areIterablesEqual,exports.iterateListLike=iterateListLike;var createSetFromList=function(){var r=new exports.Set([1,2,3]);return 3===r.size?function(r){return new exports.Set(r)}:function(r){var n=new exports.Set(r);if(n.size!==r.length)for(var e=0;e<r.length;e++)n.add(r[e]);return n}}(),SetWrapper=function(){function r(){}return r.createFromList=function(r){return createSetFromList(r)},r.has=function(r,n){return r.has(n)},r["delete"]=function(r,n){r["delete"](n)},r}();exports.SetWrapper=SetWrapper;

},{"90":90}],88:[function(require,module,exports){
"use strict";var lang_1=require(90),base_wrapped_exception_1=require(86),collection_1=require(87),_ArrayLogger=function(){function e(){this.res=[]}return e.prototype.log=function(e){this.res.push(e)},e.prototype.logError=function(e){this.res.push(e)},e.prototype.logGroup=function(e){this.res.push(e)},e.prototype.logGroupEnd=function(){},e}(),ExceptionHandler=function(){function e(e,n){void 0===n&&(n=!0),this._logger=e,this._rethrowException=n}return e.exceptionToString=function(n,r,t){void 0===r&&(r=null),void 0===t&&(t=null);var o=new _ArrayLogger,i=new e(o,!1);return i.call(n,r,t),o.res.join("\n")},e.prototype.call=function(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var t=this._findOriginalException(e),o=this._findOriginalStack(e),i=this._findContext(e);if(this._logger.logGroup("EXCEPTION: "+this._extractMessage(e)),lang_1.isPresent(n)&&lang_1.isBlank(o)&&(this._logger.logError("STACKTRACE:"),this._logger.logError(this._longStackTrace(n))),lang_1.isPresent(r)&&this._logger.logError("REASON: "+r),lang_1.isPresent(t)&&this._logger.logError("ORIGINAL EXCEPTION: "+this._extractMessage(t)),lang_1.isPresent(o)&&(this._logger.logError("ORIGINAL STACKTRACE:"),this._logger.logError(this._longStackTrace(o))),lang_1.isPresent(i)&&(this._logger.logError("ERROR CONTEXT:"),this._logger.logError(i)),this._logger.logGroupEnd(),this._rethrowException)throw e},e.prototype._extractMessage=function(e){return e instanceof base_wrapped_exception_1.BaseWrappedException?e.wrapperMessage:e.toString()},e.prototype._longStackTrace=function(e){return collection_1.isListLikeIterable(e)?e.join("\n\n-----async gap-----\n"):e.toString()},e.prototype._findContext=function(e){try{return e instanceof base_wrapped_exception_1.BaseWrappedException?lang_1.isPresent(e.context)?e.context:this._findContext(e.originalException):null}catch(n){return null}},e.prototype._findOriginalException=function(e){if(!(e instanceof base_wrapped_exception_1.BaseWrappedException))return null;for(var n=e.originalException;n instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(n.originalException);)n=n.originalException;return n},e.prototype._findOriginalStack=function(e){if(!(e instanceof base_wrapped_exception_1.BaseWrappedException))return null;for(var n=e,r=e.originalStack;n instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(n.originalException);)n=n.originalException,n instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(n.originalException)&&(r=n.originalStack);return r},e}();exports.ExceptionHandler=ExceptionHandler;

},{"86":86,"87":87,"90":90}],89:[function(require,module,exports){
"use strict";function makeTypeError(e){return new TypeError(e)}function unimplemented(){throw new BaseException("unimplemented")}var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},base_wrapped_exception_1=require(86),exception_handler_1=require(88),exception_handler_2=require(88);exports.ExceptionHandler=exception_handler_2.ExceptionHandler;var BaseException=function(e){function t(t){void 0===t&&(t="--"),e.call(this,t),this.message=t,this.stack=new Error(t).stack}return __extends(t,e),t.prototype.toString=function(){return this.message},t}(Error);exports.BaseException=BaseException;var WrappedException=function(e){function t(t,r,n,o){e.call(this,t),this._wrapperMessage=t,this._originalException=r,this._originalStack=n,this._context=o,this._wrapperStack=new Error(t).stack}return __extends(t,e),Object.defineProperty(t.prototype,"wrapperMessage",{get:function(){return this._wrapperMessage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperStack",{get:function(){return this._wrapperStack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalException",{get:function(){return this._originalException},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalStack",{get:function(){return this._originalStack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return exception_handler_1.ExceptionHandler.exceptionToString(this)},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.message},t}(base_wrapped_exception_1.BaseWrappedException);exports.WrappedException=WrappedException,exports.makeTypeError=makeTypeError,exports.unimplemented=unimplemented;

},{"86":86,"88":88}],90:[function(require,module,exports){
(function (global){
"use strict";function scheduleMicroTask(e){Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function getTypeNameForDebugging(e){return e.name?e.name:typeof e}function lockMode(){_modeLocked=!0}function enableProdMode(){if(_modeLocked)throw"Cannot enable prod mode after platform setup.";_devMode=!1}function assertionsEnabled(){return _devMode}function isPresent(e){return void 0!==e&&null!==e}function isBlank(e){return void 0===e||null===e}function isBoolean(e){return"boolean"==typeof e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isFunction(e){return"function"==typeof e}function isType(e){return isFunction(e)}function isStringMap(e){return"object"==typeof e&&null!==e}function isStrictStringMap(e){return isStringMap(e)&&Object.getPrototypeOf(e)===STRING_MAP_PROTO}function isPromise(e){return e instanceof _global.Promise}function isArray(e){return Array.isArray(e)}function isDate(e){return e instanceof exports.Date&&!isNaN(e.valueOf())}function noop(){}function stringify(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.name)return e.name;if(e.overriddenName)return e.overriddenName;var r=e.toString(),n=r.indexOf("\n");return-1===n?r:r.substring(0,n)}function serializeEnum(e){return e}function deserializeEnum(e,r){return e}function resolveEnumToken(e,r){return e[r]}function looseIdentical(e,r){return e===r||"number"==typeof e&&"number"==typeof r&&isNaN(e)&&isNaN(r)}function getMapKey(e){return e}function normalizeBlank(e){return isBlank(e)?null:e}function normalizeBool(e){return isBlank(e)?!1:e}function isJsObject(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function print(e){console.log(e)}function warn(e){console.warn(e)}function setValueOnPath(e,r,n){for(var t=r.split("."),o=e;t.length>1;){var i=t.shift();o=o.hasOwnProperty(i)&&isPresent(o[i])?o[i]:o[i]={}}void 0!==o&&null!==o||(o={}),o[t.shift()]=n}function getSymbolIterator(){if(isBlank(_symbolIterator))if(isPresent(globalScope.Symbol)&&isPresent(Symbol.iterator))_symbolIterator=Symbol.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),r=0;r<e.length;++r){var n=e[r];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(_symbolIterator=n)}return _symbolIterator}function evalExpression(e,r,n,t){var o=n+"\nreturn "+r+"\n//# sourceURL="+e,i=[],s=[];for(var u in t)i.push(u),s.push(t[u]);return(new(Function.bind.apply(Function,[void 0].concat(i.concat(o))))).apply(void 0,s)}function isPrimitive(e){return!isJsObject(e)}function hasConstructor(e,r){return e.constructor===r}function bitWiseOr(e){return e.reduce(function(e,r){return e|r})}function bitWiseAnd(e){return e.reduce(function(e,r){return e&r})}function escape(e){return _global.encodeURI(e)}var __extends=this&&this.__extends||function(e,r){function n(){this.constructor=e}for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)},globalScope;globalScope="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window,exports.scheduleMicroTask=scheduleMicroTask,exports.IS_DART=!1;var _global=globalScope;exports.global=_global,exports.Type=Function,exports.getTypeNameForDebugging=getTypeNameForDebugging,exports.Math=_global.Math,exports.Date=_global.Date;var _devMode=!0,_modeLocked=!1;exports.lockMode=lockMode,exports.enableProdMode=enableProdMode,exports.assertionsEnabled=assertionsEnabled,_global.assert=function(e){},exports.isPresent=isPresent,exports.isBlank=isBlank,exports.isBoolean=isBoolean,exports.isNumber=isNumber,exports.isString=isString,exports.isFunction=isFunction,exports.isType=isType,exports.isStringMap=isStringMap;var STRING_MAP_PROTO=Object.getPrototypeOf({});exports.isStrictStringMap=isStrictStringMap,exports.isPromise=isPromise,exports.isArray=isArray,exports.isDate=isDate,exports.noop=noop,exports.stringify=stringify,exports.serializeEnum=serializeEnum,exports.deserializeEnum=deserializeEnum,exports.resolveEnumToken=resolveEnumToken;var StringWrapper=function(){function e(){}return e.fromCharCode=function(e){return String.fromCharCode(e)},e.charCodeAt=function(e,r){return e.charCodeAt(r)},e.split=function(e,r){return e.split(r)},e.equals=function(e,r){return e===r},e.stripLeft=function(e,r){if(e&&e.length){for(var n=0,t=0;t<e.length&&e[t]==r;t++)n++;e=e.substring(n)}return e},e.stripRight=function(e,r){if(e&&e.length){for(var n=e.length,t=e.length-1;t>=0&&e[t]==r;t--)n--;e=e.substring(0,n)}return e},e.replace=function(e,r,n){return e.replace(r,n)},e.replaceAll=function(e,r,n){return e.replace(r,n)},e.slice=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=null),e.slice(r,null===n?void 0:n)},e.replaceAllMapped=function(e,r,n){return e.replace(r,function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return e.splice(-2,2),n(e)})},e.contains=function(e,r){return-1!=e.indexOf(r)},e.compare=function(e,r){return r>e?-1:e>r?1:0},e}();exports.StringWrapper=StringWrapper;var StringJoiner=function(){function e(e){void 0===e&&(e=[]),this.parts=e}return e.prototype.add=function(e){this.parts.push(e)},e.prototype.toString=function(){return this.parts.join("")},e}();exports.StringJoiner=StringJoiner;var NumberParseError=function(e){function r(r){e.call(this),this.message=r}return __extends(r,e),r.prototype.toString=function(){return this.message},r}(Error);exports.NumberParseError=NumberParseError;var NumberWrapper=function(){function e(){}return e.toFixed=function(e,r){return e.toFixed(r)},e.equal=function(e,r){return e===r},e.parseIntAutoRadix=function(e){var r=parseInt(e);if(isNaN(r))throw new NumberParseError("Invalid integer literal when parsing "+e);return r},e.parseInt=function(e,r){if(10==r){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,r)}else if(16==r){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,r)}else{var n=parseInt(e,r);if(!isNaN(n))return n}throw new NumberParseError("Invalid integer literal when parsing "+e+" in base "+r)},e.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}();exports.NumberWrapper=NumberWrapper,exports.RegExp=_global.RegExp;var RegExpWrapper=function(){function e(){}return e.create=function(e,r){return void 0===r&&(r=""),r=r.replace(/g/g,""),new _global.RegExp(e,r+"g")},e.firstMatch=function(e,r){return e.lastIndex=0,e.exec(r)},e.test=function(e,r){return e.lastIndex=0,e.test(r)},e.matcher=function(e,r){return e.lastIndex=0,{re:e,input:r}},e.replaceAll=function(e,r,n){var t=e.exec(r),o="";e.lastIndex=0;for(var i=0;t;)o+=r.substring(i,t.index),o+=n(t),i=t.index+t[0].length,e.lastIndex=i,t=e.exec(r);return o+=r.substring(i)},e}();exports.RegExpWrapper=RegExpWrapper;var RegExpMatcherWrapper=function(){function e(){}return e.next=function(e){return e.re.exec(e.input)},e}();exports.RegExpMatcherWrapper=RegExpMatcherWrapper;var FunctionWrapper=function(){function e(){}return e.apply=function(e,r){return e.apply(null,r)},e}();exports.FunctionWrapper=FunctionWrapper,exports.looseIdentical=looseIdentical,exports.getMapKey=getMapKey,exports.normalizeBlank=normalizeBlank,exports.normalizeBool=normalizeBool,exports.isJsObject=isJsObject,exports.print=print,exports.warn=warn;var Json=function(){function e(){}return e.parse=function(e){return _global.JSON.parse(e)},e.stringify=function(e){return _global.JSON.stringify(e,null,2)},e}();exports.Json=Json;var DateWrapper=function(){function e(){}return e.create=function(e,r,n,t,o,i,s){return void 0===r&&(r=1),void 0===n&&(n=1),void 0===t&&(t=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===s&&(s=0),new exports.Date(e,r-1,n,t,o,i,s)},e.fromISOString=function(e){return new exports.Date(e)},e.fromMillis=function(e){return new exports.Date(e)},e.toMillis=function(e){return e.getTime()},e.now=function(){return new exports.Date},e.toJson=function(e){return e.toJSON()},e}();exports.DateWrapper=DateWrapper,exports.setValueOnPath=setValueOnPath;var _symbolIterator=null;exports.getSymbolIterator=getSymbolIterator,exports.evalExpression=evalExpression,exports.isPrimitive=isPrimitive,exports.hasConstructor=hasConstructor,exports.bitWiseOr=bitWiseOr,exports.bitWiseAnd=bitWiseAnd,exports.escape=escape;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],91:[function(require,module,exports){
"use strict";var PromiseCompleter=function(){function e(){var e=this;this.promise=new Promise(function(r,n){e.resolve=r,e.reject=n})}return e}();exports.PromiseCompleter=PromiseCompleter;var PromiseWrapper=function(){function e(){}return e.resolve=function(e){return Promise.resolve(e)},e.reject=function(e,r){return Promise.reject(e)},e.catchError=function(e,r){return e["catch"](r)},e.all=function(e){return 0==e.length?Promise.resolve([]):Promise.all(e)},e.then=function(e,r,n){return e.then(r,n)},e.wrap=function(e){return new Promise(function(r,n){try{r(e())}catch(t){n(t)}})},e.scheduleMicrotask=function(r){e.then(e.resolve(null),r,function(e){})},e.isPromise=function(e){return e instanceof Promise},e.completer=function(){return new PromiseCompleter},e}();exports.PromiseWrapper=PromiseWrapper;

},{}],92:[function(require,module,exports){
"use strict";function htmlVisitAll(t,s,n){void 0===n&&(n=null);var i=[];return s.forEach(function(s){var e=s.visit(t,n);lang_1.isPresent(e)&&i.push(e)}),i}var lang_1=require(90),HtmlTextAst=function(){function t(t,s){this.value=t,this.sourceSpan=s}return t.prototype.visit=function(t,s){return t.visitText(this,s)},t}();exports.HtmlTextAst=HtmlTextAst;var HtmlExpansionAst=function(){function t(t,s,n,i,e){this.switchValue=t,this.type=s,this.cases=n,this.sourceSpan=i,this.switchValueSourceSpan=e}return t.prototype.visit=function(t,s){return t.visitExpansion(this,s)},t}();exports.HtmlExpansionAst=HtmlExpansionAst;var HtmlExpansionCaseAst=function(){function t(t,s,n,i,e){this.value=t,this.expression=s,this.sourceSpan=n,this.valueSourceSpan=i,this.expSourceSpan=e}return t.prototype.visit=function(t,s){return t.visitExpansionCase(this,s)},t}();exports.HtmlExpansionCaseAst=HtmlExpansionCaseAst;var HtmlAttrAst=function(){function t(t,s,n){this.name=t,this.value=s,this.sourceSpan=n}return t.prototype.visit=function(t,s){return t.visitAttr(this,s)},t}();exports.HtmlAttrAst=HtmlAttrAst;var HtmlElementAst=function(){function t(t,s,n,i,e,r){this.name=t,this.attrs=s,this.children=n,this.sourceSpan=i,this.startSourceSpan=e,this.endSourceSpan=r}return t.prototype.visit=function(t,s){return t.visitElement(this,s)},t}();exports.HtmlElementAst=HtmlElementAst;var HtmlCommentAst=function(){function t(t,s){this.value=t,this.sourceSpan=s}return t.prototype.visit=function(t,s){return t.visitComment(this,s)},t}();exports.HtmlCommentAst=HtmlCommentAst,exports.htmlVisitAll=htmlVisitAll;

},{"90":90}],93:[function(require,module,exports){
"use strict";function tokenizeHtml(t,e,n){return void 0===n&&(n=!1),new _HtmlTokenizer(new parse_util_1.ParseSourceFile(t,e),n).tokenize()}function unexpectedCharacterErrorMsg(t){var e=t===$EOF?"EOF":lang_1.StringWrapper.fromCharCode(t);return'Unexpected character "'+e+'"'}function unknownEntityErrorMsg(t){return'Unknown entity "'+t+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}function isNotWhitespace(t){return!isWhitespace(t)||t===$EOF}function isWhitespace(t){return t>=$TAB&&$SPACE>=t||t===$NBSP}function isNameEnd(t){return isWhitespace(t)||t===$GT||t===$SLASH||t===$SQ||t===$DQ||t===$EQ}function isPrefixEnd(t){return($a>t||t>$z)&&($A>t||t>$Z)&&($0>t||t>$9)}function isDigitEntityEnd(t){return t==$SEMICOLON||t==$EOF||!isAsciiHexDigit(t)}function isNamedEntityEnd(t){return t==$SEMICOLON||t==$EOF||!isAsciiLetter(t)}function isSpecialFormStart(t,e){return t===$LBRACE&&e!=$LBRACE}function isAsciiLetter(t){return t>=$a&&$z>=t||t>=$A&&$Z>=t}function isAsciiHexDigit(t){return t>=$a&&$f>=t||t>=$A&&$F>=t||t>=$0&&$9>=t}function compareCharCodeCaseInsensitive(t,e){return toUpperCaseCharCode(t)==toUpperCaseCharCode(e)}function toUpperCaseCharCode(t){return t>=$a&&$z>=t?t-$a+$A:t}function mergeTextTokens(t){for(var e,n=[],i=0;i<t.length;i++){var s=t[i];lang_1.isPresent(e)&&e.type==HtmlTokenType.TEXT&&s.type==HtmlTokenType.TEXT?(e.parts[0]+=s.parts[0],e.sourceSpan.end=s.sourceSpan.end):(e=s,n.push(e))}return n}var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},lang_1=require(90),collection_1=require(87),parse_util_1=require(108),html_tags_1=require(95);!function(t){t[t.TAG_OPEN_START=0]="TAG_OPEN_START",t[t.TAG_OPEN_END=1]="TAG_OPEN_END",t[t.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",t[t.TAG_CLOSE=3]="TAG_CLOSE",t[t.TEXT=4]="TEXT",t[t.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",t[t.RAW_TEXT=6]="RAW_TEXT",t[t.COMMENT_START=7]="COMMENT_START",t[t.COMMENT_END=8]="COMMENT_END",t[t.CDATA_START=9]="CDATA_START",t[t.CDATA_END=10]="CDATA_END",t[t.ATTR_NAME=11]="ATTR_NAME",t[t.ATTR_VALUE=12]="ATTR_VALUE",t[t.DOC_TYPE=13]="DOC_TYPE",t[t.EXPANSION_FORM_START=14]="EXPANSION_FORM_START",t[t.EXPANSION_CASE_VALUE=15]="EXPANSION_CASE_VALUE",t[t.EXPANSION_CASE_EXP_START=16]="EXPANSION_CASE_EXP_START",t[t.EXPANSION_CASE_EXP_END=17]="EXPANSION_CASE_EXP_END",t[t.EXPANSION_FORM_END=18]="EXPANSION_FORM_END",t[t.EOF=19]="EOF"}(exports.HtmlTokenType||(exports.HtmlTokenType={}));var HtmlTokenType=exports.HtmlTokenType,HtmlToken=function(){function t(t,e,n){this.type=t,this.parts=e,this.sourceSpan=n}return t}();exports.HtmlToken=HtmlToken;var HtmlTokenError=function(t){function e(e,n,i){t.call(this,i,e),this.tokenType=n}return __extends(e,t),e}(parse_util_1.ParseError);exports.HtmlTokenError=HtmlTokenError;var HtmlTokenizeResult=function(){function t(t,e){this.tokens=t,this.errors=e}return t}();exports.HtmlTokenizeResult=HtmlTokenizeResult,exports.tokenizeHtml=tokenizeHtml;var $EOF=0,$TAB=9,$LF=10,$FF=12,$CR=13,$SPACE=32,$BANG=33,$DQ=34,$HASH=35,$$=36,$AMPERSAND=38,$SQ=39,$MINUS=45,$SLASH=47,$0=48,$SEMICOLON=59,$9=57,$COLON=58,$LT=60,$EQ=61,$GT=62,$QUESTION=63,$LBRACKET=91,$RBRACKET=93,$LBRACE=123,$RBRACE=125,$COMMA=44,$A=65,$F=70,$X=88,$Z=90,$a=97,$f=102,$z=122,$x=120,$NBSP=160,CR_OR_CRLF_REGEXP=/\r\n?/g,ControlFlowError=function(){function t(t){this.error=t}return t}(),_HtmlTokenizer=function(){function t(t,e){this.file=t,this.tokenizeExpansionForms=e,this.peek=-1,this.nextPeek=-1,this.index=-1,this.line=0,this.column=-1,this.expansionCaseStack=[],this.tokens=[],this.errors=[],this.input=t.content,this.length=t.content.length,this._advance()}return t.prototype._processCarriageReturns=function(t){return lang_1.StringWrapper.replaceAll(t,CR_OR_CRLF_REGEXP,"\n")},t.prototype.tokenize=function(){for(;this.peek!==$EOF;){var t=this._getLocation();try{this._attemptCharCode($LT)?this._attemptCharCode($BANG)?this._attemptCharCode($LBRACKET)?this._consumeCdata(t):this._attemptCharCode($MINUS)?this._consumeComment(t):this._consumeDocType(t):this._attemptCharCode($SLASH)?this._consumeTagClose(t):this._consumeTagOpen(t):isSpecialFormStart(this.peek,this.nextPeek)&&this.tokenizeExpansionForms?this._consumeExpansionFormStart():this.peek===$EQ&&this.tokenizeExpansionForms?this._consumeExpansionCaseStart():this.peek===$RBRACE&&this.isInExpansionCase()&&this.tokenizeExpansionForms?this._consumeExpansionCaseEnd():this.peek===$RBRACE&&this.isInExpansionForm()&&this.tokenizeExpansionForms?this._consumeExpansionFormEnd():this._consumeText()}catch(e){if(!(e instanceof ControlFlowError))throw e;this.errors.push(e.error)}}return this._beginToken(HtmlTokenType.EOF),this._endToken([]),new HtmlTokenizeResult(mergeTextTokens(this.tokens),this.errors)},t.prototype._getLocation=function(){return new parse_util_1.ParseLocation(this.file,this.index,this.line,this.column)},t.prototype._getSpan=function(t,e){return lang_1.isBlank(t)&&(t=this._getLocation()),lang_1.isBlank(e)&&(e=this._getLocation()),new parse_util_1.ParseSourceSpan(t,e)},t.prototype._beginToken=function(t,e){void 0===e&&(e=null),lang_1.isBlank(e)&&(e=this._getLocation()),this.currentTokenStart=e,this.currentTokenType=t},t.prototype._endToken=function(t,e){void 0===e&&(e=null),lang_1.isBlank(e)&&(e=this._getLocation());var n=new HtmlToken(this.currentTokenType,t,new parse_util_1.ParseSourceSpan(this.currentTokenStart,e));return this.tokens.push(n),this.currentTokenStart=null,this.currentTokenType=null,n},t.prototype._createError=function(t,e){var n=new HtmlTokenError(t,this.currentTokenType,e);return this.currentTokenStart=null,this.currentTokenType=null,new ControlFlowError(n)},t.prototype._advance=function(){if(this.index>=this.length)throw this._createError(unexpectedCharacterErrorMsg($EOF),this._getSpan());this.peek===$LF?(this.line++,this.column=0):this.peek!==$LF&&this.peek!==$CR&&this.column++,this.index++,this.peek=this.index>=this.length?$EOF:lang_1.StringWrapper.charCodeAt(this.input,this.index),this.nextPeek=this.index+1>=this.length?$EOF:lang_1.StringWrapper.charCodeAt(this.input,this.index+1)},t.prototype._attemptCharCode=function(t){return this.peek===t?(this._advance(),!0):!1},t.prototype._attemptCharCodeCaseInsensitive=function(t){return compareCharCodeCaseInsensitive(this.peek,t)?(this._advance(),!0):!1},t.prototype._requireCharCode=function(t){var e=this._getLocation();if(!this._attemptCharCode(t))throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan(e,e))},t.prototype._attemptStr=function(t){for(var e=0;e<t.length;e++)if(!this._attemptCharCode(lang_1.StringWrapper.charCodeAt(t,e)))return!1;return!0},t.prototype._attemptStrCaseInsensitive=function(t){for(var e=0;e<t.length;e++)if(!this._attemptCharCodeCaseInsensitive(lang_1.StringWrapper.charCodeAt(t,e)))return!1;return!0},t.prototype._requireStr=function(t){var e=this._getLocation();if(!this._attemptStr(t))throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan(e))},t.prototype._attemptCharCodeUntilFn=function(t){for(;!t(this.peek);)this._advance()},t.prototype._requireCharCodeUntilFn=function(t,e){var n=this._getLocation();if(this._attemptCharCodeUntilFn(t),this.index-n.offset<e)throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan(n,n))},t.prototype._attemptUntilChar=function(t){for(;this.peek!==t;)this._advance()},t.prototype._readChar=function(t){if(t&&this.peek===$AMPERSAND)return this._decodeEntity();var e=this.index;return this._advance(),this.input[e]},t.prototype._decodeEntity=function(){var t=this._getLocation();if(this._advance(),!this._attemptCharCode($HASH)){var e=this._savePosition();if(this._attemptCharCodeUntilFn(isNamedEntityEnd),this.peek!=$SEMICOLON)return this._restorePosition(e),"&";this._advance();var n=this.input.substring(t.offset+1,this.index-1),i=html_tags_1.NAMED_ENTITIES[n];if(lang_1.isBlank(i))throw this._createError(unknownEntityErrorMsg(n),this._getSpan(t));return i}var s=this._attemptCharCode($x)||this._attemptCharCode($X),o=this._getLocation().offset;if(this._attemptCharCodeUntilFn(isDigitEntityEnd),this.peek!=$SEMICOLON)throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan());this._advance();var r=this.input.substring(o,this.index-1);try{var a=lang_1.NumberWrapper.parseInt(r,s?16:10);return lang_1.StringWrapper.fromCharCode(a)}catch(h){var _=this.input.substring(t.offset+1,this.index-1);throw this._createError(unknownEntityErrorMsg(_),this._getSpan(t))}},t.prototype._consumeRawText=function(t,e,n){var i,s=this._getLocation();this._beginToken(t?HtmlTokenType.ESCAPABLE_RAW_TEXT:HtmlTokenType.RAW_TEXT,s);for(var o=[];;){if(i=this._getLocation(),this._attemptCharCode(e)&&n())break;for(this.index>i.offset&&o.push(this.input.substring(i.offset,this.index));this.peek!==e;)o.push(this._readChar(t))}return this._endToken([this._processCarriageReturns(o.join(""))],i)},t.prototype._consumeComment=function(t){var e=this;this._beginToken(HtmlTokenType.COMMENT_START,t),this._requireCharCode($MINUS),this._endToken([]);var n=this._consumeRawText(!1,$MINUS,function(){return e._attemptStr("->")});this._beginToken(HtmlTokenType.COMMENT_END,n.sourceSpan.end),this._endToken([])},t.prototype._consumeCdata=function(t){var e=this;this._beginToken(HtmlTokenType.CDATA_START,t),this._requireStr("CDATA["),this._endToken([]);var n=this._consumeRawText(!1,$RBRACKET,function(){return e._attemptStr("]>")});this._beginToken(HtmlTokenType.CDATA_END,n.sourceSpan.end),this._endToken([])},t.prototype._consumeDocType=function(t){this._beginToken(HtmlTokenType.DOC_TYPE,t),this._attemptUntilChar($GT),this._advance(),this._endToken([this.input.substring(t.offset+2,this.index-1)])},t.prototype._consumePrefixAndName=function(){for(var t=this.index,e=null;this.peek!==$COLON&&!isPrefixEnd(this.peek);)this._advance();var n;this.peek===$COLON?(this._advance(),e=this.input.substring(t,this.index-1),n=this.index):n=t,this._requireCharCodeUntilFn(isNameEnd,this.index===n?1:0);var i=this.input.substring(n,this.index);return[e,i]},t.prototype._consumeTagOpen=function(t){var e,n=this._savePosition();try{if(!isAsciiLetter(this.peek))throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan());var i=this.index;for(this._consumeTagOpenStart(t),e=this.input.substring(i,this.index).toLowerCase(),this._attemptCharCodeUntilFn(isNotWhitespace);this.peek!==$SLASH&&this.peek!==$GT;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._attemptCharCode($EQ)&&(this._attemptCharCodeUntilFn(isNotWhitespace),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(isNotWhitespace);this._consumeTagOpenEnd()}catch(s){if(s instanceof ControlFlowError)return this._restorePosition(n),this._beginToken(HtmlTokenType.TEXT,t),void this._endToken(["<"]);throw s}var o=html_tags_1.getHtmlTagDefinition(e).contentType;o===html_tags_1.HtmlTagContentType.RAW_TEXT?this._consumeRawTextWithTagClose(e,!1):o===html_tags_1.HtmlTagContentType.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(e,!0)},t.prototype._consumeRawTextWithTagClose=function(t,e){var n=this,i=this._consumeRawText(e,$LT,function(){return n._attemptCharCode($SLASH)?(n._attemptCharCodeUntilFn(isNotWhitespace),n._attemptStrCaseInsensitive(t)?(n._attemptCharCodeUntilFn(isNotWhitespace),!!n._attemptCharCode($GT)):!1):!1});this._beginToken(HtmlTokenType.TAG_CLOSE,i.sourceSpan.end),this._endToken([null,t])},t.prototype._consumeTagOpenStart=function(t){this._beginToken(HtmlTokenType.TAG_OPEN_START,t);var e=this._consumePrefixAndName();this._endToken(e)},t.prototype._consumeAttributeName=function(){this._beginToken(HtmlTokenType.ATTR_NAME);var t=this._consumePrefixAndName();this._endToken(t)},t.prototype._consumeAttributeValue=function(){this._beginToken(HtmlTokenType.ATTR_VALUE);var t;if(this.peek===$SQ||this.peek===$DQ){var e=this.peek;this._advance();for(var n=[];this.peek!==e;)n.push(this._readChar(!0));t=n.join(""),this._advance()}else{var i=this.index;this._requireCharCodeUntilFn(isNameEnd,1),t=this.input.substring(i,this.index)}this._endToken([this._processCarriageReturns(t)])},t.prototype._consumeTagOpenEnd=function(){var t=this._attemptCharCode($SLASH)?HtmlTokenType.TAG_OPEN_END_VOID:HtmlTokenType.TAG_OPEN_END;this._beginToken(t),this._requireCharCode($GT),this._endToken([])},t.prototype._consumeTagClose=function(t){this._beginToken(HtmlTokenType.TAG_CLOSE,t),this._attemptCharCodeUntilFn(isNotWhitespace);var e;e=this._consumePrefixAndName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._requireCharCode($GT),this._endToken(e)},t.prototype._consumeExpansionFormStart=function(){this._beginToken(HtmlTokenType.EXPANSION_FORM_START,this._getLocation()),this._requireCharCode($LBRACE),this._endToken([]),this._beginToken(HtmlTokenType.RAW_TEXT,this._getLocation());var t=this._readUntil($COMMA);this._endToken([t],this._getLocation()),this._requireCharCode($COMMA),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(HtmlTokenType.RAW_TEXT,this._getLocation());var e=this._readUntil($COMMA);this._endToken([e],this._getLocation()),this._requireCharCode($COMMA),this._attemptCharCodeUntilFn(isNotWhitespace),this.expansionCaseStack.push(HtmlTokenType.EXPANSION_FORM_START)},t.prototype._consumeExpansionCaseStart=function(){this._requireCharCode($EQ),this._beginToken(HtmlTokenType.EXPANSION_CASE_VALUE,this._getLocation());var t=this._readUntil($LBRACE).trim();this._endToken([t],this._getLocation()),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(HtmlTokenType.EXPANSION_CASE_EXP_START,this._getLocation()),this._requireCharCode($LBRACE),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(isNotWhitespace),this.expansionCaseStack.push(HtmlTokenType.EXPANSION_CASE_EXP_START)},t.prototype._consumeExpansionCaseEnd=function(){this._beginToken(HtmlTokenType.EXPANSION_CASE_EXP_END,this._getLocation()),this._requireCharCode($RBRACE),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(isNotWhitespace),this.expansionCaseStack.pop()},t.prototype._consumeExpansionFormEnd=function(){this._beginToken(HtmlTokenType.EXPANSION_FORM_END,this._getLocation()),this._requireCharCode($RBRACE),this._endToken([]),this.expansionCaseStack.pop()},t.prototype._consumeText=function(){var t=this._getLocation();this._beginToken(HtmlTokenType.TEXT,t);var e=[],n=!1;for(this.peek===$LBRACE&&this.nextPeek===$LBRACE?(e.push(this._readChar(!0)),e.push(this._readChar(!0)),n=!0):e.push(this._readChar(!0));!this.isTextEnd(n);)this.peek===$LBRACE&&this.nextPeek===$LBRACE?(e.push(this._readChar(!0)),e.push(this._readChar(!0)),n=!0):this.peek===$RBRACE&&this.nextPeek===$RBRACE&&n?(e.push(this._readChar(!0)),e.push(this._readChar(!0)),n=!1):e.push(this._readChar(!0));this._endToken([this._processCarriageReturns(e.join(""))])},t.prototype.isTextEnd=function(t){if(this.peek===$LT||this.peek===$EOF)return!0;if(this.tokenizeExpansionForms){if(isSpecialFormStart(this.peek,this.nextPeek))return!0;if(this.peek===$RBRACE&&!t&&(this.isInExpansionCase()||this.isInExpansionForm()))return!0}return!1},t.prototype._savePosition=function(){return[this.peek,this.index,this.column,this.line,this.tokens.length]},t.prototype._readUntil=function(t){var e=this.index;return this._attemptUntilChar(t),this.input.substring(e,this.index)},t.prototype._restorePosition=function(t){this.peek=t[0],this.index=t[1],this.column=t[2],this.line=t[3];var e=t[4];e<this.tokens.length&&(this.tokens=collection_1.ListWrapper.slice(this.tokens,0,e))},t.prototype.isInExpansionCase=function(){return this.expansionCaseStack.length>0&&this.expansionCaseStack[this.expansionCaseStack.length-1]===HtmlTokenType.EXPANSION_CASE_EXP_START},t.prototype.isInExpansionForm=function(){return this.expansionCaseStack.length>0&&this.expansionCaseStack[this.expansionCaseStack.length-1]===HtmlTokenType.EXPANSION_FORM_START},t}();

},{"108":108,"87":87,"90":90,"95":95}],94:[function(require,module,exports){
"use strict";function getElementFullName(e,t,n){return lang_1.isBlank(e)&&(e=html_tags_1.getHtmlTagDefinition(t).implicitNamespacePrefix,lang_1.isBlank(e)&&lang_1.isPresent(n)&&(e=html_tags_1.getNsPrefix(n.name))),html_tags_1.mergeNsAndName(e,t)}function lastOnStack(e,t){return e.length>0&&e[e.length-1]===t}var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},core_1=require(140),lang_1=require(90),collection_1=require(87),html_ast_1=require(92),html_lexer_1=require(93),parse_util_1=require(108),html_tags_1=require(95),HtmlTreeError=function(e){function t(t,n,r){e.call(this,n,r),this.elementName=t}return __extends(t,e),t.create=function(e,n,r){return new t(e,n,r)},t}(parse_util_1.ParseError);exports.HtmlTreeError=HtmlTreeError;var HtmlParseTreeResult=function(){function e(e,t){this.rootNodes=e,this.errors=t}return e}();exports.HtmlParseTreeResult=HtmlParseTreeResult;var HtmlParser=function(){function e(){}return e.prototype.parse=function(e,t,n){void 0===n&&(n=!1);var r=html_lexer_1.tokenizeHtml(e,t,n),s=new TreeBuilder(r.tokens).build();return new HtmlParseTreeResult(s.rootNodes,r.errors.concat(s.errors))},e.decorators=[{type:core_1.Injectable}],e}();exports.HtmlParser=HtmlParser;var TreeBuilder=function(){function e(e){this.tokens=e,this.index=-1,this.rootNodes=[],this.errors=[],this.elementStack=[],this._advance()}return e.prototype.build=function(){for(;this.peek.type!==html_lexer_1.HtmlTokenType.EOF;)this.peek.type===html_lexer_1.HtmlTokenType.TAG_OPEN_START?this._consumeStartTag(this._advance()):this.peek.type===html_lexer_1.HtmlTokenType.TAG_CLOSE?this._consumeEndTag(this._advance()):this.peek.type===html_lexer_1.HtmlTokenType.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this.peek.type===html_lexer_1.HtmlTokenType.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this.peek.type===html_lexer_1.HtmlTokenType.TEXT||this.peek.type===html_lexer_1.HtmlTokenType.RAW_TEXT||this.peek.type===html_lexer_1.HtmlTokenType.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this.peek.type===html_lexer_1.HtmlTokenType.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new HtmlParseTreeResult(this.rootNodes,this.errors)},e.prototype._advance=function(){var e=this.peek;return this.index<this.tokens.length-1&&this.index++,this.peek=this.tokens[this.index],e},e.prototype._advanceIf=function(e){return this.peek.type===e?this._advance():null},e.prototype._consumeCdata=function(e){this._consumeText(this._advance()),this._advanceIf(html_lexer_1.HtmlTokenType.CDATA_END)},e.prototype._consumeComment=function(e){var t=this._advanceIf(html_lexer_1.HtmlTokenType.RAW_TEXT);this._advanceIf(html_lexer_1.HtmlTokenType.COMMENT_END);var n=lang_1.isPresent(t)?t.parts[0].trim():null;this._addToParent(new html_ast_1.HtmlCommentAst(n,e.sourceSpan))},e.prototype._consumeExpansion=function(e){for(var t=this._advance(),n=this._advance(),r=[];this.peek.type===html_lexer_1.HtmlTokenType.EXPANSION_CASE_VALUE;){var s=this._parseExpansionCase();if(lang_1.isBlank(s))return;r.push(s)}if(this.peek.type!==html_lexer_1.HtmlTokenType.EXPANSION_FORM_END)return void this.errors.push(HtmlTreeError.create(null,this.peek.sourceSpan,"Invalid expansion form. Missing '}'."));this._advance();var a=new parse_util_1.ParseSourceSpan(e.sourceSpan.start,this.peek.sourceSpan.end);this._addToParent(new html_ast_1.HtmlExpansionAst(t.parts[0],n.parts[0],r,a,t.sourceSpan))},e.prototype._parseExpansionCase=function(){var t=this._advance();if(this.peek.type!==html_lexer_1.HtmlTokenType.EXPANSION_CASE_EXP_START)return this.errors.push(HtmlTreeError.create(null,this.peek.sourceSpan,"Invalid expansion form. Missing '{'.,")),null;var n=this._advance(),r=this._collectExpansionExpTokens(n);if(lang_1.isBlank(r))return null;var s=this._advance();r.push(new html_lexer_1.HtmlToken(html_lexer_1.HtmlTokenType.EOF,[],s.sourceSpan));var a=new e(r).build();if(a.errors.length>0)return this.errors=this.errors.concat(a.errors),null;var l=new parse_util_1.ParseSourceSpan(t.sourceSpan.start,s.sourceSpan.end),o=new parse_util_1.ParseSourceSpan(n.sourceSpan.start,s.sourceSpan.end);return new html_ast_1.HtmlExpansionCaseAst(t.parts[0],a.rootNodes,l,t.sourceSpan,o)},e.prototype._collectExpansionExpTokens=function(e){for(var t=[],n=[html_lexer_1.HtmlTokenType.EXPANSION_CASE_EXP_START];;){if(this.peek.type!==html_lexer_1.HtmlTokenType.EXPANSION_FORM_START&&this.peek.type!==html_lexer_1.HtmlTokenType.EXPANSION_CASE_EXP_START||n.push(this.peek.type),this.peek.type===html_lexer_1.HtmlTokenType.EXPANSION_CASE_EXP_END){if(!lastOnStack(n,html_lexer_1.HtmlTokenType.EXPANSION_CASE_EXP_START))return this.errors.push(HtmlTreeError.create(null,e.sourceSpan,"Invalid expansion form. Missing '}'.")),null;if(n.pop(),0==n.length)return t}if(this.peek.type===html_lexer_1.HtmlTokenType.EXPANSION_FORM_END){if(!lastOnStack(n,html_lexer_1.HtmlTokenType.EXPANSION_FORM_START))return this.errors.push(HtmlTreeError.create(null,e.sourceSpan,"Invalid expansion form. Missing '}'.")),null;n.pop()}if(this.peek.type===html_lexer_1.HtmlTokenType.EOF)return this.errors.push(HtmlTreeError.create(null,e.sourceSpan,"Invalid expansion form. Missing '}'.")),null;t.push(this._advance())}},e.prototype._consumeText=function(e){var t=e.parts[0];if(t.length>0&&"\n"==t[0]){var n=this._getParentElement();lang_1.isPresent(n)&&0==n.children.length&&html_tags_1.getHtmlTagDefinition(n.name).ignoreFirstLf&&(t=t.substring(1))}t.length>0&&this._addToParent(new html_ast_1.HtmlTextAst(t,e.sourceSpan))},e.prototype._closeVoidElement=function(){if(this.elementStack.length>0){var e=collection_1.ListWrapper.last(this.elementStack);html_tags_1.getHtmlTagDefinition(e.name).isVoid&&this.elementStack.pop()}},e.prototype._consumeStartTag=function(e){for(var t=e.parts[0],n=e.parts[1],r=[];this.peek.type===html_lexer_1.HtmlTokenType.ATTR_NAME;)r.push(this._consumeAttr(this._advance()));var s=getElementFullName(t,n,this._getParentElement()),a=!1;this.peek.type===html_lexer_1.HtmlTokenType.TAG_OPEN_END_VOID?(this._advance(),a=!0,null!=html_tags_1.getNsPrefix(s)||html_tags_1.getHtmlTagDefinition(s).isVoid||this.errors.push(HtmlTreeError.create(s,e.sourceSpan,'Only void and foreign elements can be self closed "'+e.parts[1]+'"'))):this.peek.type===html_lexer_1.HtmlTokenType.TAG_OPEN_END&&(this._advance(),a=!1);var l=this.peek.sourceSpan.start,o=new parse_util_1.ParseSourceSpan(e.sourceSpan.start,l),i=new html_ast_1.HtmlElementAst(s,r,[],o,o,null);this._pushElement(i),a&&(this._popElement(s),i.endSourceSpan=o)},e.prototype._pushElement=function(e){if(this.elementStack.length>0){var t=collection_1.ListWrapper.last(this.elementStack);html_tags_1.getHtmlTagDefinition(t.name).isClosedByChild(e.name)&&this.elementStack.pop()}var n=html_tags_1.getHtmlTagDefinition(e.name),t=this._getParentElement();if(n.requireExtraParent(lang_1.isPresent(t)?t.name:null)){var r=new html_ast_1.HtmlElementAst(n.parentToAdd,[],[e],e.sourceSpan,e.startSourceSpan,e.endSourceSpan);this._addToParent(r),this.elementStack.push(r),this.elementStack.push(e)}else this._addToParent(e),this.elementStack.push(e)},e.prototype._consumeEndTag=function(e){var t=getElementFullName(e.parts[0],e.parts[1],this._getParentElement());this._getParentElement().endSourceSpan=e.sourceSpan,html_tags_1.getHtmlTagDefinition(t).isVoid?this.errors.push(HtmlTreeError.create(t,e.sourceSpan,'Void elements do not have end tags "'+e.parts[1]+'"')):this._popElement(t)||this.errors.push(HtmlTreeError.create(t,e.sourceSpan,'Unexpected closing tag "'+e.parts[1]+'"'))},e.prototype._popElement=function(e){for(var t=this.elementStack.length-1;t>=0;t--){var n=this.elementStack[t];if(n.name==e)return collection_1.ListWrapper.splice(this.elementStack,t,this.elementStack.length-t),!0;if(!html_tags_1.getHtmlTagDefinition(n.name).closedByParent)return!1}return!1},e.prototype._consumeAttr=function(e){var t=html_tags_1.mergeNsAndName(e.parts[0],e.parts[1]),n=e.sourceSpan.end,r="";if(this.peek.type===html_lexer_1.HtmlTokenType.ATTR_VALUE){var s=this._advance();r=s.parts[0],n=s.sourceSpan.end}return new html_ast_1.HtmlAttrAst(t,r,new parse_util_1.ParseSourceSpan(e.sourceSpan.start,n))},e.prototype._getParentElement=function(){return this.elementStack.length>0?collection_1.ListWrapper.last(this.elementStack):null},e.prototype._addToParent=function(e){var t=this._getParentElement();lang_1.isPresent(t)?t.children.push(e):this.rootNodes.push(e)},e}();

},{"108":108,"140":140,"87":87,"90":90,"92":92,"93":93,"95":95}],95:[function(require,module,exports){
"use strict";function getHtmlTagDefinition(e){var i=TAG_DEFINITIONS[e.toLowerCase()];return lang_1.isPresent(i)?i:DEFAULT_TAG_DEFINITION}function splitNsName(e){if("@"!=e[0])return[null,e];var i=lang_1.RegExpWrapper.firstMatch(NS_PREFIX_RE,e);return[i[1],i[2]]}function getNsPrefix(e){return splitNsName(e)[0]}function mergeNsAndName(e,i){return lang_1.isPresent(e)?"@"+e+":"+i:i}var lang_1=require(90);exports.NAMED_ENTITIES={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",alefsym:"",Alpha:"",alpha:"",amp:"&",and:"",ang:"",apos:"'",Aring:"",aring:"",asymp:"",Atilde:"",atilde:"",Auml:"",auml:"",bdquo:"",Beta:"",beta:"",brvbar:"",bull:"",cap:"",Ccedil:"",ccedil:"",cedil:"",cent:"",Chi:"",chi:"",circ:"",clubs:"",cong:"",copy:"",crarr:"",cup:"",curren:"",dagger:"",Dagger:"",darr:"",dArr:"",deg:"",Delta:"",delta:"",diams:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",empty:"",emsp:"",ensp:"",Epsilon:"",epsilon:"",equiv:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",exist:"",fnof:"",forall:"",frac12:"",frac14:"",frac34:"",frasl:"",Gamma:"",gamma:"",ge:"",gt:">",harr:"",hArr:"",hearts:"",hellip:"",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",image:"",infin:"","int":"",Iota:"",iota:"",iquest:"",isin:"",Iuml:"",iuml:"",Kappa:"",kappa:"",Lambda:"",lambda:"",lang:"",laquo:"",larr:"",lArr:"",lceil:"",ldquo:"",le:"",lfloor:"",lowast:"",loz:"",lrm:"",lsaquo:"",lsquo:"",lt:"<",macr:"",mdash:"",micro:"",middot:"",minus:"",Mu:"",mu:"",nabla:"",nbsp:"",ndash:"",ne:"",ni:"",not:"",notin:"",nsub:"",Ntilde:"",ntilde:"",Nu:"",nu:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",OElig:"",oelig:"",Ograve:"",ograve:"",oline:"",Omega:"",omega:"",Omicron:"",omicron:"",oplus:"",or:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",otimes:"",Ouml:"",ouml:"",para:"",permil:"",perp:"",Phi:"",phi:"",Pi:"",pi:"",piv:"",plusmn:"",pound:"",prime:"",Prime:"",prod:"",prop:"",Psi:"",psi:"",quot:'"',radic:"",rang:"",raquo:"",rarr:"",rArr:"",rceil:"",rdquo:"",real:"",reg:"",rfloor:"",Rho:"",rho:"",rlm:"",rsaquo:"",rsquo:"",sbquo:"",Scaron:"",scaron:"",sdot:"",sect:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sim:"",spades:"",sub:"",sube:"",sum:"",sup:"",sup1:"",sup2:"",sup3:"",supe:"",szlig:"",Tau:"",tau:"",there4:"",Theta:"",theta:"",thetasym:"",thinsp:"",THORN:"",thorn:"",tilde:"",times:"",trade:"",Uacute:"",uacute:"",uarr:"",uArr:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",upsih:"",Upsilon:"",upsilon:"",Uuml:"",uuml:"",weierp:"",Xi:"",xi:"",Yacute:"",yacute:"",yen:"",yuml:"",Yuml:"",Zeta:"",zeta:"",zwj:"",zwnj:""},function(e){e[e.RAW_TEXT=0]="RAW_TEXT",e[e.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",e[e.PARSABLE_DATA=2]="PARSABLE_DATA"}(exports.HtmlTagContentType||(exports.HtmlTagContentType={}));var HtmlTagContentType=exports.HtmlTagContentType,HtmlTagDefinition=function(){function e(e){var i=this,t=void 0===e?{}:e,n=t.closedByChildren,r=t.requiredParents,a=t.implicitNamespacePrefix,o=t.contentType,l=t.closedByParent,s=t.isVoid,d=t.ignoreFirstLf;this.closedByChildren={},this.closedByParent=!1,lang_1.isPresent(n)&&n.length>0&&n.forEach(function(e){return i.closedByChildren[e]=!0}),this.isVoid=lang_1.normalizeBool(s),this.closedByParent=lang_1.normalizeBool(l)||this.isVoid,lang_1.isPresent(r)&&r.length>0&&(this.requiredParents={},this.parentToAdd=r[0],r.forEach(function(e){return i.requiredParents[e]=!0})),this.implicitNamespacePrefix=a,this.contentType=lang_1.isPresent(o)?o:HtmlTagContentType.PARSABLE_DATA,this.ignoreFirstLf=lang_1.normalizeBool(d)}return e.prototype.requireExtraParent=function(e){if(lang_1.isBlank(this.requiredParents))return!1;if(lang_1.isBlank(e))return!0;var i=e.toLowerCase();return 1!=this.requiredParents[i]&&"template"!=i},e.prototype.isClosedByChild=function(e){return this.isVoid||lang_1.normalizeBool(this.closedByChildren[e.toLowerCase()])},e}();exports.HtmlTagDefinition=HtmlTagDefinition;var TAG_DEFINITIONS={base:new HtmlTagDefinition({isVoid:!0}),meta:new HtmlTagDefinition({isVoid:!0}),area:new HtmlTagDefinition({isVoid:!0}),embed:new HtmlTagDefinition({isVoid:!0}),link:new HtmlTagDefinition({isVoid:!0}),img:new HtmlTagDefinition({isVoid:!0}),input:new HtmlTagDefinition({isVoid:!0}),param:new HtmlTagDefinition({isVoid:!0}),hr:new HtmlTagDefinition({isVoid:!0}),br:new HtmlTagDefinition({isVoid:!0}),source:new HtmlTagDefinition({isVoid:!0}),track:new HtmlTagDefinition({isVoid:!0}),wbr:new HtmlTagDefinition({isVoid:!0}),p:new HtmlTagDefinition({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"]}),tbody:new HtmlTagDefinition({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new HtmlTagDefinition({closedByChildren:["tbody"],closedByParent:!0}),tr:new HtmlTagDefinition({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),th:new HtmlTagDefinition({closedByChildren:["td","th"],closedByParent:!0}),col:new HtmlTagDefinition({requiredParents:["colgroup"],isVoid:!0}),svg:new HtmlTagDefinition({implicitNamespacePrefix:"svg"}),math:new HtmlTagDefinition({implicitNamespacePrefix:"math"}),li:new HtmlTagDefinition({closedByChildren:["li"],closedByParent:!0}),dt:new HtmlTagDefinition({closedByChildren:["dt","dd"]}),dd:new HtmlTagDefinition({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new HtmlTagDefinition({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new HtmlTagDefinition({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new HtmlTagDefinition({closedByChildren:["optgroup"],closedByParent:!0}),option:new HtmlTagDefinition({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new HtmlTagDefinition({ignoreFirstLf:!0}),listing:new HtmlTagDefinition({ignoreFirstLf:!0}),style:new HtmlTagDefinition({contentType:HtmlTagContentType.RAW_TEXT}),script:new HtmlTagDefinition({contentType:HtmlTagContentType.RAW_TEXT}),title:new HtmlTagDefinition({contentType:HtmlTagContentType.ESCAPABLE_RAW_TEXT}),textarea:new HtmlTagDefinition({contentType:HtmlTagContentType.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})},DEFAULT_TAG_DEFINITION=new HtmlTagDefinition;exports.getHtmlTagDefinition=getHtmlTagDefinition;var NS_PREFIX_RE=/^@([^:]+):(.+)/g;exports.splitNsName=splitNsName,exports.getNsPrefix=getNsPrefix,exports.mergeNsAndName=mergeNsAndName;

},{"90":90}],96:[function(require,module,exports){
"use strict";function identifierToken(e){return new compile_metadata_1.CompileTokenMetadata({identifier:e})}var core_1=require(140),core_private_1=require(72),core_private_2=require(72),compile_metadata_1=require(76),util_1=require(122),APP_VIEW_MODULE_URL=util_1.assetUrl("core","linker/view"),VIEW_UTILS_MODULE_URL=util_1.assetUrl("core","linker/view_utils"),CD_MODULE_URL=util_1.assetUrl("core","change_detection/change_detection"),impViewUtils=core_private_2.ViewUtils,impAppView=core_private_2.AppView,impDebugAppView=core_private_2.DebugAppView,impDebugContext=core_private_2.DebugContext,impAppElement=core_private_2.AppElement,impElementRef=core_1.ElementRef,impViewContainerRef=core_1.ViewContainerRef,impChangeDetectorRef=core_1.ChangeDetectorRef,impRenderComponentType=core_1.RenderComponentType,impQueryList=core_1.QueryList,impTemplateRef=core_1.TemplateRef,impTemplateRef_=core_private_2.TemplateRef_,impValueUnwrapper=core_private_2.ValueUnwrapper,impInjector=core_1.Injector,impViewEncapsulation=core_1.ViewEncapsulation,impViewType=core_private_2.ViewType,impChangeDetectionStrategy=core_1.ChangeDetectionStrategy,impStaticNodeDebugInfo=core_private_2.StaticNodeDebugInfo,impRenderer=core_1.Renderer,impSimpleChange=core_1.SimpleChange,impUninitialized=core_private_2.uninitialized,impChangeDetectorState=core_private_2.ChangeDetectorState,impFlattenNestedViewRenderNodes=core_private_2.flattenNestedViewRenderNodes,impDevModeEqual=core_private_2.devModeEqual,impInterpolate=core_private_2.interpolate,impCheckBinding=core_private_2.checkBinding,impCastByValue=core_private_2.castByValue,impEMPTY_ARRAY=core_private_2.EMPTY_ARRAY,impEMPTY_MAP=core_private_2.EMPTY_MAP,Identifiers=function(){function e(){}return e.ViewUtils=new compile_metadata_1.CompileIdentifierMetadata({name:"ViewUtils",moduleUrl:util_1.assetUrl("core","linker/view_utils"),runtime:impViewUtils}),e.AppView=new compile_metadata_1.CompileIdentifierMetadata({name:"AppView",moduleUrl:APP_VIEW_MODULE_URL,runtime:impAppView}),e.DebugAppView=new compile_metadata_1.CompileIdentifierMetadata({name:"DebugAppView",moduleUrl:APP_VIEW_MODULE_URL,runtime:impDebugAppView}),e.AppElement=new compile_metadata_1.CompileIdentifierMetadata({name:"AppElement",moduleUrl:util_1.assetUrl("core","linker/element"),runtime:impAppElement}),e.ElementRef=new compile_metadata_1.CompileIdentifierMetadata({name:"ElementRef",moduleUrl:util_1.assetUrl("core","linker/element_ref"),runtime:impElementRef}),e.ViewContainerRef=new compile_metadata_1.CompileIdentifierMetadata({name:"ViewContainerRef",moduleUrl:util_1.assetUrl("core","linker/view_container_ref"),runtime:impViewContainerRef}),e.ChangeDetectorRef=new compile_metadata_1.CompileIdentifierMetadata({name:"ChangeDetectorRef",moduleUrl:util_1.assetUrl("core","change_detection/change_detector_ref"),runtime:impChangeDetectorRef}),e.RenderComponentType=new compile_metadata_1.CompileIdentifierMetadata({name:"RenderComponentType",moduleUrl:util_1.assetUrl("core","render/api"),runtime:impRenderComponentType}),e.QueryList=new compile_metadata_1.CompileIdentifierMetadata({name:"QueryList",moduleUrl:util_1.assetUrl("core","linker/query_list"),runtime:impQueryList}),e.TemplateRef=new compile_metadata_1.CompileIdentifierMetadata({name:"TemplateRef",moduleUrl:util_1.assetUrl("core","linker/template_ref"),runtime:impTemplateRef}),e.TemplateRef_=new compile_metadata_1.CompileIdentifierMetadata({name:"TemplateRef_",moduleUrl:util_1.assetUrl("core","linker/template_ref"),runtime:impTemplateRef_}),e.ValueUnwrapper=new compile_metadata_1.CompileIdentifierMetadata({name:"ValueUnwrapper",moduleUrl:CD_MODULE_URL,runtime:impValueUnwrapper}),e.Injector=new compile_metadata_1.CompileIdentifierMetadata({name:"Injector",moduleUrl:util_1.assetUrl("core","di/injector"),runtime:impInjector}),e.ViewEncapsulation=new compile_metadata_1.CompileIdentifierMetadata({name:"ViewEncapsulation",moduleUrl:util_1.assetUrl("core","metadata/view"),runtime:impViewEncapsulation}),e.ViewType=new compile_metadata_1.CompileIdentifierMetadata({name:"ViewType",moduleUrl:util_1.assetUrl("core","linker/view_type"),runtime:impViewType}),e.ChangeDetectionStrategy=new compile_metadata_1.CompileIdentifierMetadata({name:"ChangeDetectionStrategy",moduleUrl:CD_MODULE_URL,runtime:impChangeDetectionStrategy}),e.StaticNodeDebugInfo=new compile_metadata_1.CompileIdentifierMetadata({name:"StaticNodeDebugInfo",moduleUrl:util_1.assetUrl("core","linker/debug_context"),runtime:impStaticNodeDebugInfo}),e.DebugContext=new compile_metadata_1.CompileIdentifierMetadata({name:"DebugContext",moduleUrl:util_1.assetUrl("core","linker/debug_context"),runtime:impDebugContext}),e.Renderer=new compile_metadata_1.CompileIdentifierMetadata({name:"Renderer",moduleUrl:util_1.assetUrl("core","render/api"),runtime:impRenderer}),e.SimpleChange=new compile_metadata_1.CompileIdentifierMetadata({name:"SimpleChange",moduleUrl:CD_MODULE_URL,runtime:impSimpleChange}),e.uninitialized=new compile_metadata_1.CompileIdentifierMetadata({name:"uninitialized",moduleUrl:CD_MODULE_URL,runtime:impUninitialized}),e.ChangeDetectorState=new compile_metadata_1.CompileIdentifierMetadata({name:"ChangeDetectorState",moduleUrl:CD_MODULE_URL,runtime:impChangeDetectorState}),e.checkBinding=new compile_metadata_1.CompileIdentifierMetadata({name:"checkBinding",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:impCheckBinding}),e.flattenNestedViewRenderNodes=new compile_metadata_1.CompileIdentifierMetadata({name:"flattenNestedViewRenderNodes",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:impFlattenNestedViewRenderNodes}),e.devModeEqual=new compile_metadata_1.CompileIdentifierMetadata({name:"devModeEqual",moduleUrl:CD_MODULE_URL,runtime:impDevModeEqual}),e.interpolate=new compile_metadata_1.CompileIdentifierMetadata({name:"interpolate",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:impInterpolate}),e.castByValue=new compile_metadata_1.CompileIdentifierMetadata({name:"castByValue",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:impCastByValue}),e.EMPTY_ARRAY=new compile_metadata_1.CompileIdentifierMetadata({name:"EMPTY_ARRAY",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:impEMPTY_ARRAY}),e.EMPTY_MAP=new compile_metadata_1.CompileIdentifierMetadata({name:"EMPTY_MAP",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:impEMPTY_MAP}),e.pureProxies=[null,new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy1",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_2.pureProxy1}),new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy2",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_2.pureProxy2}),new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy3",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_2.pureProxy3}),new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy4",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_2.pureProxy4}),new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy5",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_2.pureProxy5}),new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy6",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_2.pureProxy6}),new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy7",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_2.pureProxy7}),new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy8",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_2.pureProxy8}),new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy9",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_2.pureProxy9}),new compile_metadata_1.CompileIdentifierMetadata({name:"pureProxy10",moduleUrl:VIEW_UTILS_MODULE_URL,runtime:core_private_2.pureProxy10})],e.SecurityContext=new compile_metadata_1.CompileIdentifierMetadata({name:"SecurityContext",moduleUrl:util_1.assetUrl("core","security"),runtime:core_private_1.SecurityContext}),e}();exports.Identifiers=Identifiers,exports.identifierToken=identifierToken;

},{"122":122,"140":140,"72":72,"76":76}],97:[function(require,module,exports){
"use strict";function flattenDirectives(e,t){var r=[];return lang_1.isPresent(t)&&flattenArray(t,r),lang_1.isPresent(e.directives)&&flattenArray(e.directives,r),r}function flattenPipes(e,t){var r=[];return lang_1.isPresent(t)&&flattenArray(t,r),lang_1.isPresent(e.pipes)&&flattenArray(e.pipes,r),r}function flattenArray(e,t){for(var r=0;r<e.length;r++){var a=core_1.resolveForwardRef(e[r]);lang_1.isArray(a)?flattenArray(a,t):t.push(a)}}function isStaticType(e){return lang_1.isStringMap(e)&&lang_1.isPresent(e.name)&&lang_1.isPresent(e.filePath)}function isValidType(e){return isStaticType(e)||e instanceof lang_1.Type}function staticTypeModuleUrl(e){return isStaticType(e)?e.filePath:null}function componentModuleUrl(e,t,r){if(isStaticType(t))return staticTypeModuleUrl(t);if(lang_1.isPresent(r.moduleId)){var a=r.moduleId,i=url_resolver_1.getUrlScheme(a);return lang_1.isPresent(i)&&i.length>0?a:"package:"+a+util_1.MODULE_SUFFIX}return e.importUri(t)}function convertToCompileValue(e){return util_1.visitValue(e,new _CompileValueConverter,null)}var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},core_1=require(140),core_private_1=require(72),lang_1=require(90),collection_1=require(87),exceptions_1=require(89),cpl=require(76),directive_resolver_1=require(81),pipe_resolver_1=require(109),view_resolver_1=require(138),directive_lifecycle_reflector_1=require(79),util_1=require(122),assertions_1=require(75),url_resolver_1=require(121),core_private_2=require(72),CompileMetadataResolver=function(){function e(e,t,r,a,i,n){this._directiveResolver=e,this._pipeResolver=t,this._viewResolver=r,this._platformDirectives=a,this._platformPipes=i,this._directiveCache=new Map,this._pipeCache=new Map,this._anonymousTypes=new Map,this._anonymousTypeIndex=0,lang_1.isPresent(n)?this._reflector=n:this._reflector=core_1.reflector}return e.prototype.sanitizeTokenName=function(e){var t=lang_1.stringify(e);if(t.indexOf("(")>=0){var r=this._anonymousTypes.get(e);lang_1.isBlank(r)&&(this._anonymousTypes.set(e,this._anonymousTypeIndex++),r=this._anonymousTypes.get(e)),t="anonymous_token_"+r+"_"}return util_1.sanitizeIdentifier(t)},e.prototype.getDirectiveMetadata=function(e){var t=this._directiveCache.get(e);if(lang_1.isBlank(t)){var r=this._directiveResolver.resolve(e),a=null,i=null,n=[],s=staticTypeModuleUrl(e);if(r instanceof core_1.ComponentMetadata){assertions_1.assertArrayOfStrings("styles",r.styles);var o=r,l=this._viewResolver.resolve(e);assertions_1.assertArrayOfStrings("styles",l.styles),a=new cpl.CompileTemplateMetadata({encapsulation:l.encapsulation,template:l.template,templateUrl:l.templateUrl,styles:l.styles,styleUrls:l.styleUrls}),i=o.changeDetection,lang_1.isPresent(r.viewProviders)&&(n=this.getProvidersMetadata(r.viewProviders)),s=componentModuleUrl(this._reflector,e,o)}var c=[];lang_1.isPresent(r.providers)&&(c=this.getProvidersMetadata(r.providers));var p=[],u=[];lang_1.isPresent(r.queries)&&(p=this.getQueriesMetadata(r.queries,!1),u=this.getQueriesMetadata(r.queries,!0)),t=cpl.CompileDirectiveMetadata.create({selector:r.selector,exportAs:r.exportAs,isComponent:lang_1.isPresent(a),type:this.getTypeMetadata(e,s),template:a,changeDetection:i,inputs:r.inputs,outputs:r.outputs,host:r.host,lifecycleHooks:core_private_1.LIFECYCLE_HOOKS_VALUES.filter(function(t){return directive_lifecycle_reflector_1.hasLifecycleHook(t,e)}),providers:c,viewProviders:n,queries:p,viewQueries:u}),this._directiveCache.set(e,t)}return t},e.prototype.maybeGetDirectiveMetadata=function(e){try{return this.getDirectiveMetadata(e)}catch(t){if(-1!==t.message.indexOf("No Directive annotation"))return null;throw t}},e.prototype.getTypeMetadata=function(e,t){return new cpl.CompileTypeMetadata({name:this.sanitizeTokenName(e),moduleUrl:t,runtime:e,diDeps:this.getDependenciesMetadata(e,null)})},e.prototype.getFactoryMetadata=function(e,t){return new cpl.CompileFactoryMetadata({name:this.sanitizeTokenName(e),moduleUrl:t,runtime:e,diDeps:this.getDependenciesMetadata(e,null)})},e.prototype.getPipeMetadata=function(e){var t=this._pipeCache.get(e);if(lang_1.isBlank(t)){var r=this._pipeResolver.resolve(e);t=new cpl.CompilePipeMetadata({type:this.getTypeMetadata(e,staticTypeModuleUrl(e)),name:r.name,pure:r.pure,lifecycleHooks:core_private_1.LIFECYCLE_HOOKS_VALUES.filter(function(t){return directive_lifecycle_reflector_1.hasLifecycleHook(t,e)})}),this._pipeCache.set(e,t)}return t},e.prototype.getViewDirectivesMetadata=function(e){for(var t=this,r=this._viewResolver.resolve(e),a=flattenDirectives(r,this._platformDirectives),i=0;i<a.length;i++)if(!isValidType(a[i]))throw new exceptions_1.BaseException("Unexpected directive value '"+lang_1.stringify(a[i])+"' on the View of component '"+lang_1.stringify(e)+"'");return a.map(function(e){return t.getDirectiveMetadata(e)})},e.prototype.getViewPipesMetadata=function(e){for(var t=this,r=this._viewResolver.resolve(e),a=flattenPipes(r,this._platformPipes),i=0;i<a.length;i++)if(!isValidType(a[i]))throw new exceptions_1.BaseException("Unexpected piped value '"+lang_1.stringify(a[i])+"' on the View of component '"+lang_1.stringify(e)+"'");return a.map(function(e){return t.getPipeMetadata(e)})},e.prototype.getDependenciesMetadata=function(e,t){var r=this,a=lang_1.isPresent(t)?t:this._reflector.parameters(e);return lang_1.isBlank(a)&&(a=[]),a.map(function(e){if(lang_1.isBlank(e))return null;var t=!1,a=!1,i=!1,n=!1,s=!1,o=null,l=null,c=null;return lang_1.isArray(e)?e.forEach(function(e){e instanceof core_1.HostMetadata?a=!0:e instanceof core_1.SelfMetadata?i=!0:e instanceof core_1.SkipSelfMetadata?n=!0:e instanceof core_1.OptionalMetadata?s=!0:e instanceof core_1.AttributeMetadata?(t=!0,c=e.attributeName):e instanceof core_1.QueryMetadata?e.isViewQuery?l=e:o=e:e instanceof core_1.InjectMetadata?c=e.token:isValidType(e)&&lang_1.isBlank(c)&&(c=e)}):c=e,lang_1.isBlank(c)?null:new cpl.CompileDiDependencyMetadata({isAttribute:t,isHost:a,isSelf:i,isSkipSelf:n,isOptional:s,query:lang_1.isPresent(o)?r.getQueryMetadata(o,null):null,viewQuery:lang_1.isPresent(l)?r.getQueryMetadata(l,null):null,token:r.getTokenMetadata(c)})})},e.prototype.getTokenMetadata=function(e){e=core_1.resolveForwardRef(e);var t;return t=lang_1.isString(e)?new cpl.CompileTokenMetadata({value:e}):new cpl.CompileTokenMetadata({identifier:new cpl.CompileIdentifierMetadata({runtime:e,name:this.sanitizeTokenName(e),moduleUrl:staticTypeModuleUrl(e)})})},e.prototype.getProvidersMetadata=function(e){var t=this;return e.map(function(e){return e=core_1.resolveForwardRef(e),lang_1.isArray(e)?t.getProvidersMetadata(e):e instanceof core_1.Provider?t.getProviderMetadata(e):core_private_2.isProviderLiteral(e)?t.getProviderMetadata(core_private_2.createProvider(e)):t.getTypeMetadata(e,staticTypeModuleUrl(e))})},e.prototype.getProviderMetadata=function(e){var t;return lang_1.isPresent(e.useClass)?t=this.getDependenciesMetadata(e.useClass,e.dependencies):lang_1.isPresent(e.useFactory)&&(t=this.getDependenciesMetadata(e.useFactory,e.dependencies)),new cpl.CompileProviderMetadata({token:this.getTokenMetadata(e.token),useClass:lang_1.isPresent(e.useClass)?this.getTypeMetadata(e.useClass,staticTypeModuleUrl(e.useClass)):null,useValue:convertToCompileValue(e.useValue),useFactory:lang_1.isPresent(e.useFactory)?this.getFactoryMetadata(e.useFactory,staticTypeModuleUrl(e.useFactory)):null,useExisting:lang_1.isPresent(e.useExisting)?this.getTokenMetadata(e.useExisting):null,deps:t,multi:e.multi})},e.prototype.getQueriesMetadata=function(e,t){var r=this,a=[];return collection_1.StringMapWrapper.forEach(e,function(e,i){e.isViewQuery===t&&a.push(r.getQueryMetadata(e,i))}),a},e.prototype.getQueryMetadata=function(e,t){var r,a=this;return r=e.isVarBindingQuery?e.varBindings.map(function(e){return a.getTokenMetadata(e)}):[this.getTokenMetadata(e.selector)],new cpl.CompileQueryMetadata({selectors:r,first:e.first,descendants:e.descendants,propertyName:t,read:lang_1.isPresent(e.read)?this.getTokenMetadata(e.read):null})},e.decorators=[{type:core_1.Injectable}],e.ctorParameters=[{type:directive_resolver_1.DirectiveResolver},{type:pipe_resolver_1.PipeResolver},{type:view_resolver_1.ViewResolver},{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Inject,args:[core_1.PLATFORM_DIRECTIVES]}]},{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Inject,args:[core_1.PLATFORM_PIPES]}]},{type:core_private_1.ReflectorReader}],e}();exports.CompileMetadataResolver=CompileMetadataResolver;var _CompileValueConverter=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.visitOther=function(e,t){return isStaticType(e)?new cpl.CompileIdentifierMetadata({name:e.name,moduleUrl:staticTypeModuleUrl(e)}):new cpl.CompileIdentifierMetadata({runtime:e})},t}(util_1.ValueTransformer);

},{"109":109,"121":121,"122":122,"138":138,"140":140,"72":72,"75":75,"76":76,"79":79,"81":81,"87":87,"89":89,"90":90}],98:[function(require,module,exports){
"use strict";function _resolveViewStatements(e){return e.dependencies.forEach(function(e){e.factoryPlaceholder.moduleUrl=_templateModuleUrl(e.comp)}),e.statements}function _resolveStyleStatements(e,t){var o=_splitSuffix(e)[1];return t.dependencies.forEach(function(e){e.valuePlaceholder.moduleUrl=_stylesModuleUrl(e.moduleUrl,e.isShimmed,o)}),t.statements}function _templateModuleUrl(e){var t=_splitSuffix(e.type.moduleUrl);return t[0]+".ngfactory"+t[1]}function _stylesModuleUrl(e,t,o){return t?e+".shim"+o:""+e+o}function _assertComponent(e){if(!e.isComponent)throw new exceptions_1.BaseException("Could not compile '"+e.type.name+"' because it is not a component.")}function _splitSuffix(e){var t=e.lastIndexOf(".");return-1!==t?[e.substring(0,t),e.substring(t)]:[e,""]}var core_1=require(140),compile_metadata_1=require(76),exceptions_1=require(89),collection_1=require(87),o=require(103),util_1=require(122),_COMPONENT_FACTORY_IDENTIFIER=new compile_metadata_1.CompileIdentifierMetadata({name:"ComponentFactory",runtime:core_1.ComponentFactory,moduleUrl:util_1.assetUrl("core","linker/component_factory")}),SourceModule=function(){function e(e,t){this.moduleUrl=e,this.source=t}return e}();exports.SourceModule=SourceModule;var StyleSheetSourceWithImports=function(){function e(e,t){this.source=e,this.importedUrls=t}return e}();exports.StyleSheetSourceWithImports=StyleSheetSourceWithImports;var NormalizedComponentWithViewDirectives=function(){function e(e,t,o){this.component=e,this.directives=t,this.pipes=o}return e}();exports.NormalizedComponentWithViewDirectives=NormalizedComponentWithViewDirectives;var OfflineCompiler=function(){function e(e,t,o,r,i,n){this._directiveNormalizer=e,this._templateParser=t,this._styleCompiler=o,this._viewCompiler=r,this._outputEmitter=i,this._xhr=n}return e.prototype.normalizeDirectiveMetadata=function(e){return this._directiveNormalizer.normalizeDirective(e)},e.prototype.compileTemplates=function(e){var t=this;if(0===e.length)throw new exceptions_1.BaseException("No components given");var r=[],i=[],n=_templateModuleUrl(e[0].component);return e.forEach(function(e){var n=e.component;_assertComponent(n);var l=t._compileComponent(n,e.directives,e.pipes,r);i.push(l);var s=compile_metadata_1.createHostComponentMeta(n.type,n.selector),p=t._compileComponent(s,[n],[],r),c=n.type.name+"NgFactory";r.push(o.variable(c).set(o.importExpr(_COMPONENT_FACTORY_IDENTIFIER,[o.importType(n.type)]).instantiate([o.literal(n.selector),o.variable(p),o.importExpr(n.type)],o.importType(_COMPONENT_FACTORY_IDENTIFIER,[o.importType(n.type)],[o.TypeModifier.Const]))).toDeclStmt(null,[o.StmtModifier.Final])),i.push(c)}),this._codegenSourceModule(n,r,i)},e.prototype.loadAndCompileStylesheet=function(e,t,o){var r=this;return this._xhr.get(e).then(function(i){var n=r._styleCompiler.compileStylesheet(e,i,t),l=[];return n.dependencies.forEach(function(e){l.push(e.moduleUrl),e.valuePlaceholder.moduleUrl=_stylesModuleUrl(e.moduleUrl,e.isShimmed,o)}),new StyleSheetSourceWithImports(r._codgenStyles(e,t,o,n),l)})},e.prototype._compileComponent=function(e,t,r,i){var n=this._styleCompiler.compileComponent(e),l=this._templateParser.parse(e,e.template.template,t,r,e.type.name),s=this._viewCompiler.compileComponent(e,l,o.variable(n.stylesVar),r);return collection_1.ListWrapper.addAll(i,_resolveStyleStatements(e.type.moduleUrl,n)),collection_1.ListWrapper.addAll(i,_resolveViewStatements(s)),s.viewFactoryVar},e.prototype._codgenStyles=function(e,t,o,r){return this._codegenSourceModule(_stylesModuleUrl(e,t,o),r.statements,[r.stylesVar])},e.prototype._codegenSourceModule=function(e,t,o){return new SourceModule(e,this._outputEmitter.emitStatements(e,t,o))},e}();exports.OfflineCompiler=OfflineCompiler;

},{"103":103,"122":122,"140":140,"76":76,"87":87,"89":89}],99:[function(require,module,exports){
"use strict";function escapeSingleQuoteString(t,i){if(lang_1.isBlank(t))return null;var n=lang_1.StringWrapper.replaceAllMapped(t,_SINGLE_QUOTE_ESCAPE_STRING_RE,function(t){return"$"==t[0]?i?"\\$":"$":"\n"==t[0]?"\\n":"\r"==t[0]?"\\r":"\\"+t[0]});return"'"+n+"'"}function _createIndent(t){for(var i="",n=0;t>n;n++)i+="  ";return i}var lang_1=require(90),exceptions_1=require(89),o=require(103),_SINGLE_QUOTE_ESCAPE_STRING_RE=/'|\\|\n|\r|\$/g;exports.CATCH_ERROR_VAR=o.variable("error"),exports.CATCH_STACK_VAR=o.variable("stack");var OutputEmitter=function(){function t(){}return t}();exports.OutputEmitter=OutputEmitter;var _EmittedLine=function(){function t(t){this.indent=t,this.parts=[]}return t}(),EmitterVisitorContext=function(){function t(t,i){this._exportedVars=t,this._indent=i,this._classes=[],this._lines=[new _EmittedLine(i)]}return t.createRoot=function(i){return new t(i,0)},Object.defineProperty(t.prototype,"_currentLine",{get:function(){return this._lines[this._lines.length-1]},enumerable:!0,configurable:!0}),t.prototype.isExportedVar=function(t){return-1!==this._exportedVars.indexOf(t)},t.prototype.println=function(t){void 0===t&&(t=""),this.print(t,!0)},t.prototype.lineIsEmpty=function(){return 0===this._currentLine.parts.length},t.prototype.print=function(t,i){void 0===i&&(i=!1),t.length>0&&this._currentLine.parts.push(t),i&&this._lines.push(new _EmittedLine(this._indent))},t.prototype.removeEmptyLastLine=function(){this.lineIsEmpty()&&this._lines.pop()},t.prototype.incIndent=function(){this._indent++,this._currentLine.indent=this._indent},t.prototype.decIndent=function(){this._indent--,this._currentLine.indent=this._indent},t.prototype.pushClass=function(t){this._classes.push(t)},t.prototype.popClass=function(){return this._classes.pop()},Object.defineProperty(t.prototype,"currentClass",{get:function(){return this._classes.length>0?this._classes[this._classes.length-1]:null},enumerable:!0,configurable:!0}),t.prototype.toSource=function(){var t=this._lines;return 0===t[t.length-1].parts.length&&(t=t.slice(0,t.length-1)),t.map(function(t){return t.parts.length>0?_createIndent(t.indent)+t.parts.join(""):""}).join("\n")},t}();exports.EmitterVisitorContext=EmitterVisitorContext;var AbstractEmitterVisitor=function(){function t(t){this._escapeDollarInStrings=t}return t.prototype.visitExpressionStmt=function(t,i){return t.expr.visitExpression(this,i),i.println(";"),null},t.prototype.visitReturnStmt=function(t,i){return i.print("return "),t.value.visitExpression(this,i),i.println(";"),null},t.prototype.visitIfStmt=function(t,i){i.print("if ("),t.condition.visitExpression(this,i),i.print(") {");var n=lang_1.isPresent(t.falseCase)&&t.falseCase.length>0;return t.trueCase.length<=1&&!n?(i.print(" "),this.visitAllStatements(t.trueCase,i),i.removeEmptyLastLine(),i.print(" ")):(i.println(),i.incIndent(),this.visitAllStatements(t.trueCase,i),i.decIndent(),n&&(i.println("} else {"),i.incIndent(),this.visitAllStatements(t.falseCase,i),i.decIndent())),i.println("}"),null},t.prototype.visitThrowStmt=function(t,i){return i.print("throw "),t.error.visitExpression(this,i),i.println(";"),null},t.prototype.visitCommentStmt=function(t,i){var n=t.comment.split("\n");return n.forEach(function(t){i.println("// "+t)}),null},t.prototype.visitWriteVarExpr=function(t,i){var n=i.lineIsEmpty();return n||i.print("("),i.print(t.name+" = "),t.value.visitExpression(this,i),n||i.print(")"),null},t.prototype.visitWriteKeyExpr=function(t,i){var n=i.lineIsEmpty();return n||i.print("("),t.receiver.visitExpression(this,i),i.print("["),t.index.visitExpression(this,i),i.print("] = "),t.value.visitExpression(this,i),n||i.print(")"),null},t.prototype.visitWritePropExpr=function(t,i){var n=i.lineIsEmpty();return n||i.print("("),t.receiver.visitExpression(this,i),i.print("."+t.name+" = "),t.value.visitExpression(this,i),n||i.print(")"),null},t.prototype.visitInvokeMethodExpr=function(t,i){t.receiver.visitExpression(this,i);var n=t.name;return lang_1.isPresent(t.builtin)&&(n=this.getBuiltinMethodName(t.builtin),lang_1.isBlank(n))?null:(i.print("."+n+"("),this.visitAllExpressions(t.args,i,","),i.print(")"),null)},t.prototype.visitInvokeFunctionExpr=function(t,i){return t.fn.visitExpression(this,i),i.print("("),this.visitAllExpressions(t.args,i,","),i.print(")"),null},t.prototype.visitReadVarExpr=function(t,i){var n=t.name;if(lang_1.isPresent(t.builtin))switch(t.builtin){case o.BuiltinVar.Super:n="super";break;case o.BuiltinVar.This:n="this";break;case o.BuiltinVar.CatchError:n=exports.CATCH_ERROR_VAR.name;break;case o.BuiltinVar.CatchStack:n=exports.CATCH_STACK_VAR.name;break;default:throw new exceptions_1.BaseException("Unknown builtin variable "+t.builtin)}return i.print(n),null},t.prototype.visitInstantiateExpr=function(t,i){return i.print("new "),t.classExpr.visitExpression(this,i),i.print("("),this.visitAllExpressions(t.args,i,","),i.print(")"),null},t.prototype.visitLiteralExpr=function(t,i){var n=t.value;return lang_1.isString(n)?i.print(escapeSingleQuoteString(n,this._escapeDollarInStrings)):lang_1.isBlank(n)?i.print("null"):i.print(""+n),null},t.prototype.visitConditionalExpr=function(t,i){return i.print("("),t.condition.visitExpression(this,i),i.print("? "),t.trueCase.visitExpression(this,i),i.print(": "),t.falseCase.visitExpression(this,i),i.print(")"),null},t.prototype.visitNotExpr=function(t,i){return i.print("!"),t.condition.visitExpression(this,i),null},t.prototype.visitBinaryOperatorExpr=function(t,i){var n;switch(t.operator){case o.BinaryOperator.Equals:n="==";break;case o.BinaryOperator.Identical:n="===";break;case o.BinaryOperator.NotEquals:n="!=";break;case o.BinaryOperator.NotIdentical:n="!==";break;case o.BinaryOperator.And:n="&&";break;case o.BinaryOperator.Or:n="||";break;case o.BinaryOperator.Plus:n="+";break;case o.BinaryOperator.Minus:n="-";break;case o.BinaryOperator.Divide:n="/";break;case o.BinaryOperator.Multiply:n="*";break;case o.BinaryOperator.Modulo:n="%";break;case o.BinaryOperator.Lower:n="<";break;case o.BinaryOperator.LowerEquals:n="<=";break;case o.BinaryOperator.Bigger:n=">";break;case o.BinaryOperator.BiggerEquals:n=">=";break;default:throw new exceptions_1.BaseException("Unknown operator "+t.operator)}return i.print("("),t.lhs.visitExpression(this,i),i.print(" "+n+" "),t.rhs.visitExpression(this,i),i.print(")"),null},t.prototype.visitReadPropExpr=function(t,i){return t.receiver.visitExpression(this,i),i.print("."),i.print(t.name),null},t.prototype.visitReadKeyExpr=function(t,i){return t.receiver.visitExpression(this,i),i.print("["),t.index.visitExpression(this,i),i.print("]"),null},t.prototype.visitLiteralArrayExpr=function(t,i){var n=t.entries.length>1;return i.print("[",n),i.incIndent(),this.visitAllExpressions(t.entries,i,",",n),i.decIndent(),i.print("]",n),null},t.prototype.visitLiteralMapExpr=function(t,i){var n=this,r=t.entries.length>1;return i.print("{",r),i.incIndent(),this.visitAllObjects(function(t){i.print(escapeSingleQuoteString(t[0],n._escapeDollarInStrings)+": "),t[1].visitExpression(n,i)},t.entries,i,",",r),i.decIndent(),i.print("}",r),null},t.prototype.visitAllExpressions=function(t,i,n,r){var e=this;void 0===r&&(r=!1),this.visitAllObjects(function(t){return t.visitExpression(e,i)},t,i,n,r)},t.prototype.visitAllObjects=function(t,i,n,r,e){void 0===e&&(e=!1);for(var s=0;s<i.length;s++)s>0&&n.print(r,e),t(i[s]);e&&n.println()},t.prototype.visitAllStatements=function(t,i){var n=this;t.forEach(function(t){return t.visitStatement(n,i)})},t}();exports.AbstractEmitterVisitor=AbstractEmitterVisitor,exports.escapeSingleQuoteString=escapeSingleQuoteString;

},{"103":103,"89":89,"90":90}],100:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(t,n){function i(){this.constructor=t}for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)},lang_1=require(90),exceptions_1=require(89),o=require(103),abstract_emitter_1=require(99),AbstractJsEmitterVisitor=function(t){function n(){t.call(this,!1)}return __extends(n,t),n.prototype.visitDeclareClassStmt=function(t,n){var i=this;return n.pushClass(t),this._visitClassConstructor(t,n),lang_1.isPresent(t.parent)&&(n.print(t.name+".prototype = Object.create("),t.parent.visitExpression(this,n),n.println(".prototype);")),t.getters.forEach(function(e){return i._visitClassGetter(t,e,n)}),t.methods.forEach(function(e){return i._visitClassMethod(t,e,n)}),n.popClass(),null},n.prototype._visitClassConstructor=function(t,n){n.print("function "+t.name+"("),lang_1.isPresent(t.constructorMethod)&&this._visitParams(t.constructorMethod.params,n),n.println(") {"),n.incIndent(),lang_1.isPresent(t.constructorMethod)&&t.constructorMethod.body.length>0&&(n.println("var self = this;"),this.visitAllStatements(t.constructorMethod.body,n)),n.decIndent(),n.println("}")},n.prototype._visitClassGetter=function(t,n,i){i.println("Object.defineProperty("+t.name+".prototype, '"+n.name+"', { get: function() {"),i.incIndent(),n.body.length>0&&(i.println("var self = this;"),this.visitAllStatements(n.body,i)),i.decIndent(),i.println("}});")},n.prototype._visitClassMethod=function(t,n,i){i.print(t.name+".prototype."+n.name+" = function("),this._visitParams(n.params,i),i.println(") {"),i.incIndent(),n.body.length>0&&(i.println("var self = this;"),this.visitAllStatements(n.body,i)),i.decIndent(),i.println("};")},n.prototype.visitReadVarExpr=function(n,i){if(n.builtin===o.BuiltinVar.This)i.print("self");else{if(n.builtin===o.BuiltinVar.Super)throw new exceptions_1.BaseException("'super' needs to be handled at a parent ast node, not at the variable level!");t.prototype.visitReadVarExpr.call(this,n,i)}return null},n.prototype.visitDeclareVarStmt=function(t,n){return n.print("var "+t.name+" = "),t.value.visitExpression(this,n),n.println(";"),null},n.prototype.visitCastExpr=function(t,n){return t.value.visitExpression(this,n),null},n.prototype.visitInvokeFunctionExpr=function(n,i){var e=n.fn;return e instanceof o.ReadVarExpr&&e.builtin===o.BuiltinVar.Super?(i.currentClass.parent.visitExpression(this,i),i.print(".call(this"),n.args.length>0&&(i.print(", "),this.visitAllExpressions(n.args,i,",")),i.print(")")):t.prototype.visitInvokeFunctionExpr.call(this,n,i),null},n.prototype.visitFunctionExpr=function(t,n){return n.print("function("),this._visitParams(t.params,n),n.println(") {"),n.incIndent(),this.visitAllStatements(t.statements,n),n.decIndent(),n.print("}"),null},n.prototype.visitDeclareFunctionStmt=function(t,n){return n.print("function "+t.name+"("),this._visitParams(t.params,n),n.println(") {"),n.incIndent(),this.visitAllStatements(t.statements,n),n.decIndent(),n.println("}"),null},n.prototype.visitTryCatchStmt=function(t,n){n.println("try {"),n.incIndent(),this.visitAllStatements(t.bodyStmts,n),n.decIndent(),n.println("} catch ("+abstract_emitter_1.CATCH_ERROR_VAR.name+") {"),n.incIndent();var i=[abstract_emitter_1.CATCH_STACK_VAR.set(abstract_emitter_1.CATCH_ERROR_VAR.prop("stack")).toDeclStmt(null,[o.StmtModifier.Final])].concat(t.catchStmts);return this.visitAllStatements(i,n),n.decIndent(),n.println("}"),null},n.prototype._visitParams=function(t,n){this.visitAllObjects(function(t){return n.print(t.name)},t,n,",")},n.prototype.getBuiltinMethodName=function(t){var n;switch(t){case o.BuiltinMethod.ConcatArray:n="concat";break;case o.BuiltinMethod.SubscribeObservable:n="subscribe";break;case o.BuiltinMethod.bind:n="bind";break;default:throw new exceptions_1.BaseException("Unknown builtin method: "+t)}return n},n}(abstract_emitter_1.AbstractEmitterVisitor);exports.AbstractJsEmitterVisitor=AbstractJsEmitterVisitor;

},{"103":103,"89":89,"90":90,"99":99}],101:[function(require,module,exports){
"use strict";function debugOutputAstAsDart(t){var i,e=new _DartEmitterVisitor(_debugModuleUrl),n=abstract_emitter_1.EmitterVisitorContext.createRoot([]);return i=lang_1.isArray(t)?t:[t],i.forEach(function(t){if(t instanceof o.Statement)t.visitStatement(e,n);else if(t instanceof o.Expression)t.visitExpression(e,n);else{if(!(t instanceof o.Type))throw new exceptions_1.BaseException("Don't know how to print debug info for "+t);t.visitType(e,n)}}),n.toSource()}function getSuperConstructorCallExpr(t){if(t instanceof o.ExpressionStatement){var i=t.expr;if(i instanceof o.InvokeFunctionExpr){var e=i.fn;if(e instanceof o.ReadVarExpr&&e.builtin===o.BuiltinVar.Super)return i}}return null}function isConstType(t){return lang_1.isPresent(t)&&t.hasModifier(o.TypeModifier.Const)}var __extends=this&&this.__extends||function(t,i){function e(){this.constructor=t}for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n]);t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)},lang_1=require(90),exceptions_1=require(89),o=require(103),abstract_emitter_1=require(99),_debugModuleUrl="asset://debug/lib";exports.debugOutputAstAsDart=debugOutputAstAsDart;var DartEmitter=function(){function t(t){this._importGenerator=t}return t.prototype.emitStatements=function(t,i,e){var n=this,r=[],s=new _DartEmitterVisitor(t),o=abstract_emitter_1.EmitterVisitorContext.createRoot(e);return s.visitAllStatements(i,o),s.importsWithPrefixes.forEach(function(i,e){r.push("import '"+n._importGenerator.getImportPath(t,e)+"' as "+i+";")}),r.push(o.toSource()),r.join("\n")},t}();exports.DartEmitter=DartEmitter;var _DartEmitterVisitor=function(t){function i(i){t.call(this,!0),this._moduleUrl=i,this.importsWithPrefixes=new Map}return __extends(i,t),i.prototype.visitExternalExpr=function(t,i){return this._visitIdentifier(t.value,t.typeParams,i),null},i.prototype.visitDeclareVarStmt=function(t,i){return t.hasModifier(o.StmtModifier.Final)?isConstType(t.type)?i.print("const "):i.print("final "):lang_1.isBlank(t.type)&&i.print("var "),lang_1.isPresent(t.type)&&(t.type.visitType(this,i),i.print(" ")),i.print(t.name+" = "),t.value.visitExpression(this,i),i.println(";"),null},i.prototype.visitCastExpr=function(t,i){return i.print("("),t.value.visitExpression(this,i),i.print(" as "),t.type.visitType(this,i),i.print(")"),null},i.prototype.visitDeclareClassStmt=function(t,i){var e=this;return i.pushClass(t),i.print("class "+t.name),lang_1.isPresent(t.parent)&&(i.print(" extends "),t.parent.visitExpression(this,i)),i.println(" {"),i.incIndent(),t.fields.forEach(function(t){return e._visitClassField(t,i)}),lang_1.isPresent(t.constructorMethod)&&this._visitClassConstructor(t,i),t.getters.forEach(function(t){return e._visitClassGetter(t,i)}),t.methods.forEach(function(t){return e._visitClassMethod(t,i)}),i.decIndent(),i.println("}"),i.popClass(),null},i.prototype._visitClassField=function(t,i){t.hasModifier(o.StmtModifier.Final)?i.print("final "):lang_1.isBlank(t.type)&&i.print("var "),lang_1.isPresent(t.type)&&(t.type.visitType(this,i),i.print(" ")),i.println(t.name+";")},i.prototype._visitClassGetter=function(t,i){lang_1.isPresent(t.type)&&(t.type.visitType(this,i),i.print(" ")),i.println("get "+t.name+" {"),i.incIndent(),this.visitAllStatements(t.body,i),i.decIndent(),i.println("}")},i.prototype._visitClassConstructor=function(t,i){i.print(t.name+"("),this._visitParams(t.constructorMethod.params,i),i.print(")");var e=t.constructorMethod.body,n=e.length>0?getSuperConstructorCallExpr(e[0]):null;lang_1.isPresent(n)&&(i.print(": "),n.visitExpression(this,i),e=e.slice(1)),i.println(" {"),i.incIndent(),this.visitAllStatements(e,i),i.decIndent(),i.println("}")},i.prototype._visitClassMethod=function(t,i){lang_1.isPresent(t.type)?t.type.visitType(this,i):i.print("void"),i.print(" "+t.name+"("),this._visitParams(t.params,i),i.println(") {"),i.incIndent(),this.visitAllStatements(t.body,i),i.decIndent(),i.println("}")},i.prototype.visitFunctionExpr=function(t,i){return i.print("("),this._visitParams(t.params,i),i.println(") {"),i.incIndent(),this.visitAllStatements(t.statements,i),i.decIndent(),i.print("}"),null},i.prototype.visitDeclareFunctionStmt=function(t,i){return lang_1.isPresent(t.type)?t.type.visitType(this,i):i.print("void"),i.print(" "+t.name+"("),this._visitParams(t.params,i),i.println(") {"),i.incIndent(),this.visitAllStatements(t.statements,i),i.decIndent(),i.println("}"),null},i.prototype.getBuiltinMethodName=function(t){var i;switch(t){case o.BuiltinMethod.ConcatArray:i=".addAll";break;case o.BuiltinMethod.SubscribeObservable:i="listen";break;case o.BuiltinMethod.bind:i=null;break;default:throw new exceptions_1.BaseException("Unknown builtin method: "+t)}return i},i.prototype.visitTryCatchStmt=function(t,i){return i.println("try {"),i.incIndent(),this.visitAllStatements(t.bodyStmts,i),i.decIndent(),i.println("} catch ("+abstract_emitter_1.CATCH_ERROR_VAR.name+", "+abstract_emitter_1.CATCH_STACK_VAR.name+") {"),i.incIndent(),this.visitAllStatements(t.catchStmts,i),i.decIndent(),i.println("}"),null},i.prototype.visitBinaryOperatorExpr=function(i,e){switch(i.operator){case o.BinaryOperator.Identical:e.print("identical("),i.lhs.visitExpression(this,e),e.print(", "),i.rhs.visitExpression(this,e),e.print(")");break;case o.BinaryOperator.NotIdentical:e.print("!identical("),i.lhs.visitExpression(this,e),e.print(", "),i.rhs.visitExpression(this,e),e.print(")");break;default:t.prototype.visitBinaryOperatorExpr.call(this,i,e)}return null},i.prototype.visitLiteralArrayExpr=function(i,e){return isConstType(i.type)&&e.print("const "),t.prototype.visitLiteralArrayExpr.call(this,i,e)},i.prototype.visitLiteralMapExpr=function(i,e){return isConstType(i.type)&&e.print("const "),lang_1.isPresent(i.valueType)&&(e.print("<String, "),i.valueType.visitType(this,e),e.print(">")),t.prototype.visitLiteralMapExpr.call(this,i,e)},i.prototype.visitInstantiateExpr=function(t,i){return i.print(isConstType(t.type)?"const":"new"),i.print(" "),t.classExpr.visitExpression(this,i),i.print("("),this.visitAllExpressions(t.args,i,","),i.print(")"),null},i.prototype.visitBuiltintType=function(t,i){var e;switch(t.name){case o.BuiltinTypeName.Bool:e="bool";break;case o.BuiltinTypeName.Dynamic:e="dynamic";break;case o.BuiltinTypeName.Function:e="Function";break;case o.BuiltinTypeName.Number:e="num";break;case o.BuiltinTypeName.Int:e="int";break;case o.BuiltinTypeName.String:e="String";break;default:throw new exceptions_1.BaseException("Unsupported builtin type "+t.name)}return i.print(e),null},i.prototype.visitExternalType=function(t,i){return this._visitIdentifier(t.value,t.typeParams,i),null},i.prototype.visitArrayType=function(t,i){return i.print("List<"),lang_1.isPresent(t.of)?t.of.visitType(this,i):i.print("dynamic"),i.print(">"),null},i.prototype.visitMapType=function(t,i){return i.print("Map<String, "),lang_1.isPresent(t.valueType)?t.valueType.visitType(this,i):i.print("dynamic"),i.print(">"),null},i.prototype._visitParams=function(t,i){var e=this;this.visitAllObjects(function(t){lang_1.isPresent(t.type)&&(t.type.visitType(e,i),i.print(" ")),i.print(t.name)},t,i,",")},i.prototype._visitIdentifier=function(t,i,e){var n=this;if(lang_1.isBlank(t.name))throw new exceptions_1.BaseException("Internal error: unknown identifier "+t);if(lang_1.isPresent(t.moduleUrl)&&t.moduleUrl!=this._moduleUrl){var r=this.importsWithPrefixes.get(t.moduleUrl);lang_1.isBlank(r)&&(r="import"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(t.moduleUrl,r)),e.print(r+".")}e.print(t.name),lang_1.isPresent(i)&&i.length>0&&(e.print("<"),this.visitAllObjects(function(t){return t.visitType(n,e)},i,e,","),e.print(">"))},i}(abstract_emitter_1.AbstractEmitterVisitor);

},{"103":103,"89":89,"90":90,"99":99}],102:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},core_private_1=require(72),lang_1=require(90),exceptions_1=require(89),InterpretiveAppViewInstanceFactory=function(){function e(){}return e.prototype.createInstance=function(e,t,r,n,i,o){if(e===core_private_1.AppView)return r=r.concat([null]),new _InterpretiveAppView(r,n,i,o);if(e===core_private_1.DebugAppView)return new _InterpretiveAppView(r,n,i,o);throw new exceptions_1.BaseException("Can't instantiate class "+e+" in interpretative mode")},e}();exports.InterpretiveAppViewInstanceFactory=InterpretiveAppViewInstanceFactory;var _InterpretiveAppView=function(e){function t(t,r,n,i){e.call(this,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]),this.props=r,this.getters=n,this.methods=i}return __extends(t,e),t.prototype.createInternal=function(t){var r=this.methods.get("createInternal");return lang_1.isPresent(r)?r(t):e.prototype.createInternal.call(this,t)},t.prototype.injectorGetInternal=function(t,r,n){var i=this.methods.get("injectorGetInternal");return lang_1.isPresent(i)?i(t,r,n):e.prototype.injectorGet.call(this,t,r,n)},t.prototype.destroyInternal=function(){var t=this.methods.get("destroyInternal");return lang_1.isPresent(t)?t():e.prototype.destroyInternal.call(this)},t.prototype.dirtyParentQueriesInternal=function(){var t=this.methods.get("dirtyParentQueriesInternal");return lang_1.isPresent(t)?t():e.prototype.dirtyParentQueriesInternal.call(this)},t.prototype.detectChangesInternal=function(t){var r=this.methods.get("detectChangesInternal");return lang_1.isPresent(r)?r(t):e.prototype.detectChangesInternal.call(this,t)},t}(core_private_1.DebugAppView);

},{"72":72,"89":89,"90":90}],103:[function(require,module,exports){
"use strict";function replaceVarInExpression(t,i,r){var e=new _ReplaceVariableTransformer(t,i);return r.visitExpression(e,null)}function findReadVarNames(t){var i=new _VariableFinder;return i.visitAllStatements(t,null),i.varNames}function variable(t,i){return void 0===i&&(i=null),new ReadVarExpr(t,i)}function importExpr(t,i){return void 0===i&&(i=null),new ExternalExpr(t,null,i)}function importType(t,i,r){return void 0===i&&(i=null),void 0===r&&(r=null),lang_1.isPresent(t)?new ExternalType(t,i,r):null}function literal(t,i){return void 0===i&&(i=null),new LiteralExpr(t,i)}function literalArr(t,i){return void 0===i&&(i=null),new LiteralArrayExpr(t,i)}function literalMap(t,i){return void 0===i&&(i=null),new LiteralMapExpr(t,i)}function not(t){return new NotExpr(t)}function fn(t,i,r){return void 0===r&&(r=null),new FunctionExpr(t,i,r)}var __extends=this&&this.__extends||function(t,i){function r(){this.constructor=t}for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)},lang_1=require(90);!function(t){t[t.Const=0]="Const"}(exports.TypeModifier||(exports.TypeModifier={}));var TypeModifier=exports.TypeModifier,Type=function(){function t(t){void 0===t&&(t=null),this.modifiers=t,lang_1.isBlank(t)&&(this.modifiers=[])}return t.prototype.hasModifier=function(t){return-1!==this.modifiers.indexOf(t)},t}();exports.Type=Type,function(t){t[t.Dynamic=0]="Dynamic",t[t.Bool=1]="Bool",t[t.String=2]="String",t[t.Int=3]="Int",t[t.Number=4]="Number",t[t.Function=5]="Function"}(exports.BuiltinTypeName||(exports.BuiltinTypeName={}));var BuiltinTypeName=exports.BuiltinTypeName,BuiltinType=function(t){function i(i,r){void 0===r&&(r=null),t.call(this,r),this.name=i}return __extends(i,t),i.prototype.visitType=function(t,i){return t.visitBuiltintType(this,i)},i}(Type);exports.BuiltinType=BuiltinType;var ExternalType=function(t){function i(i,r,e){void 0===r&&(r=null),void 0===e&&(e=null),t.call(this,e),this.value=i,this.typeParams=r}return __extends(i,t),i.prototype.visitType=function(t,i){return t.visitExternalType(this,i)},i}(Type);exports.ExternalType=ExternalType;var ArrayType=function(t){function i(i,r){void 0===r&&(r=null),t.call(this,r),this.of=i}return __extends(i,t),i.prototype.visitType=function(t,i){return t.visitArrayType(this,i)},i}(Type);exports.ArrayType=ArrayType;var MapType=function(t){function i(i,r){void 0===r&&(r=null),t.call(this,r),this.valueType=i}return __extends(i,t),i.prototype.visitType=function(t,i){return t.visitMapType(this,i)},i}(Type);exports.MapType=MapType,exports.DYNAMIC_TYPE=new BuiltinType(BuiltinTypeName.Dynamic),exports.BOOL_TYPE=new BuiltinType(BuiltinTypeName.Bool),exports.INT_TYPE=new BuiltinType(BuiltinTypeName.Int),exports.NUMBER_TYPE=new BuiltinType(BuiltinTypeName.Number),exports.STRING_TYPE=new BuiltinType(BuiltinTypeName.String),exports.FUNCTION_TYPE=new BuiltinType(BuiltinTypeName.Function),function(t){t[t.Equals=0]="Equals",t[t.NotEquals=1]="NotEquals",t[t.Identical=2]="Identical",t[t.NotIdentical=3]="NotIdentical",t[t.Minus=4]="Minus",t[t.Plus=5]="Plus",t[t.Divide=6]="Divide",t[t.Multiply=7]="Multiply",t[t.Modulo=8]="Modulo",t[t.And=9]="And",t[t.Or=10]="Or",t[t.Lower=11]="Lower",t[t.LowerEquals=12]="LowerEquals",t[t.Bigger=13]="Bigger",t[t.BiggerEquals=14]="BiggerEquals"}(exports.BinaryOperator||(exports.BinaryOperator={}));var BinaryOperator=exports.BinaryOperator,Expression=function(){function t(t){this.type=t}return t.prototype.prop=function(t){return new ReadPropExpr(this,t)},t.prototype.key=function(t,i){return void 0===i&&(i=null),new ReadKeyExpr(this,t,i)},t.prototype.callMethod=function(t,i){return new InvokeMethodExpr(this,t,i)},t.prototype.callFn=function(t){return new InvokeFunctionExpr(this,t)},t.prototype.instantiate=function(t,i){return void 0===i&&(i=null),new InstantiateExpr(this,t,i)},t.prototype.conditional=function(t,i){return void 0===i&&(i=null),new ConditionalExpr(this,t,i)},t.prototype.equals=function(t){return new BinaryOperatorExpr(BinaryOperator.Equals,this,t)},t.prototype.notEquals=function(t){return new BinaryOperatorExpr(BinaryOperator.NotEquals,this,t)},t.prototype.identical=function(t){return new BinaryOperatorExpr(BinaryOperator.Identical,this,t)},t.prototype.notIdentical=function(t){return new BinaryOperatorExpr(BinaryOperator.NotIdentical,this,t)},t.prototype.minus=function(t){return new BinaryOperatorExpr(BinaryOperator.Minus,this,t)},t.prototype.plus=function(t){return new BinaryOperatorExpr(BinaryOperator.Plus,this,t)},t.prototype.divide=function(t){return new BinaryOperatorExpr(BinaryOperator.Divide,this,t)},t.prototype.multiply=function(t){return new BinaryOperatorExpr(BinaryOperator.Multiply,this,t)},t.prototype.modulo=function(t){return new BinaryOperatorExpr(BinaryOperator.Modulo,this,t)},t.prototype.and=function(t){return new BinaryOperatorExpr(BinaryOperator.And,this,t)},t.prototype.or=function(t){return new BinaryOperatorExpr(BinaryOperator.Or,this,t)},t.prototype.lower=function(t){return new BinaryOperatorExpr(BinaryOperator.Lower,this,t)},t.prototype.lowerEquals=function(t){return new BinaryOperatorExpr(BinaryOperator.LowerEquals,this,t)},t.prototype.bigger=function(t){return new BinaryOperatorExpr(BinaryOperator.Bigger,this,t)},t.prototype.biggerEquals=function(t){return new BinaryOperatorExpr(BinaryOperator.BiggerEquals,this,t)},t.prototype.isBlank=function(){return this.equals(exports.NULL_EXPR)},t.prototype.cast=function(t){return new CastExpr(this,t)},t.prototype.toStmt=function(){return new ExpressionStatement(this)},t}();exports.Expression=Expression,function(t){t[t.This=0]="This",t[t.Super=1]="Super",t[t.CatchError=2]="CatchError",t[t.CatchStack=3]="CatchStack"}(exports.BuiltinVar||(exports.BuiltinVar={}));var BuiltinVar=exports.BuiltinVar,ReadVarExpr=function(t){function i(i,r){void 0===r&&(r=null),t.call(this,r),lang_1.isString(i)?(this.name=i,this.builtin=null):(this.name=null,this.builtin=i)}return __extends(i,t),i.prototype.visitExpression=function(t,i){return t.visitReadVarExpr(this,i)},i.prototype.set=function(t){return new WriteVarExpr(this.name,t)},i}(Expression);exports.ReadVarExpr=ReadVarExpr;var WriteVarExpr=function(t){function i(i,r,e){void 0===e&&(e=null),t.call(this,lang_1.isPresent(e)?e:r.type),this.name=i,this.value=r}return __extends(i,t),i.prototype.visitExpression=function(t,i){return t.visitWriteVarExpr(this,i)},i.prototype.toDeclStmt=function(t,i){return void 0===t&&(t=null),void 0===i&&(i=null),new DeclareVarStmt(this.name,this.value,t,i)},i}(Expression);exports.WriteVarExpr=WriteVarExpr;var WriteKeyExpr=function(t){function i(i,r,e,n){void 0===n&&(n=null),t.call(this,lang_1.isPresent(n)?n:e.type),this.receiver=i,this.index=r,this.value=e}return __extends(i,t),i.prototype.visitExpression=function(t,i){return t.visitWriteKeyExpr(this,i)},i}(Expression);exports.WriteKeyExpr=WriteKeyExpr;var WritePropExpr=function(t){function i(i,r,e,n){void 0===n&&(n=null),t.call(this,lang_1.isPresent(n)?n:e.type),this.receiver=i,this.name=r,this.value=e}return __extends(i,t),i.prototype.visitExpression=function(t,i){return t.visitWritePropExpr(this,i)},i}(Expression);exports.WritePropExpr=WritePropExpr,function(t){t[t.ConcatArray=0]="ConcatArray",t[t.SubscribeObservable=1]="SubscribeObservable",t[t.bind=2]="bind"}(exports.BuiltinMethod||(exports.BuiltinMethod={}));var BuiltinMethod=exports.BuiltinMethod,InvokeMethodExpr=function(t){function i(i,r,e,n){void 0===n&&(n=null),t.call(this,n),this.receiver=i,this.args=e,lang_1.isString(r)?(this.name=r,this.builtin=null):(this.name=null,this.builtin=r)}return __extends(i,t),i.prototype.visitExpression=function(t,i){return t.visitInvokeMethodExpr(this,i)},i}(Expression);exports.InvokeMethodExpr=InvokeMethodExpr;var InvokeFunctionExpr=function(t){function i(i,r,e){void 0===e&&(e=null),t.call(this,e),this.fn=i,this.args=r}return __extends(i,t),i.prototype.visitExpression=function(t,i){return t.visitInvokeFunctionExpr(this,i)},i}(Expression);exports.InvokeFunctionExpr=InvokeFunctionExpr;var InstantiateExpr=function(t){function i(i,r,e){t.call(this,e),this.classExpr=i,this.args=r}return __extends(i,t),i.prototype.visitExpression=function(t,i){return t.visitInstantiateExpr(this,i)},i}(Expression);exports.InstantiateExpr=InstantiateExpr;var LiteralExpr=function(t){function i(i,r){void 0===r&&(r=null),t.call(this,r),this.value=i}return __extends(i,t),i.prototype.visitExpression=function(t,i){return t.visitLiteralExpr(this,i)},i}(Expression);exports.LiteralExpr=LiteralExpr;var ExternalExpr=function(t){function i(i,r,e){void 0===r&&(r=null),void 0===e&&(e=null),t.call(this,r),this.value=i,this.typeParams=e}return __extends(i,t),i.prototype.visitExpression=function(t,i){return t.visitExternalExpr(this,i)},i}(Expression);exports.ExternalExpr=ExternalExpr;var ConditionalExpr=function(t){function i(i,r,e,n){void 0===e&&(e=null),void 0===n&&(n=null),t.call(this,lang_1.isPresent(n)?n:r.type),this.condition=i,this.falseCase=e,this.trueCase=r}return __extends(i,t),i.prototype.visitExpression=function(t,i){return t.visitConditionalExpr(this,i)},i}(Expression);exports.ConditionalExpr=ConditionalExpr;var NotExpr=function(t){function i(i){t.call(this,exports.BOOL_TYPE),this.condition=i}return __extends(i,t),i.prototype.visitExpression=function(t,i){return t.visitNotExpr(this,i)},i}(Expression);exports.NotExpr=NotExpr;var CastExpr=function(t){function i(i,r){t.call(this,r),this.value=i}return __extends(i,t),i.prototype.visitExpression=function(t,i){return t.visitCastExpr(this,i)},i}(Expression);exports.CastExpr=CastExpr;var FnParam=function(){function t(t,i){void 0===i&&(i=null),this.name=t,this.type=i}return t}();exports.FnParam=FnParam;var FunctionExpr=function(t){function i(i,r,e){void 0===e&&(e=null),t.call(this,e),this.params=i,this.statements=r}return __extends(i,t),i.prototype.visitExpression=function(t,i){return t.visitFunctionExpr(this,i)},i.prototype.toDeclStmt=function(t,i){return void 0===i&&(i=null),new DeclareFunctionStmt(t,this.params,this.statements,this.type,i)},i}(Expression);exports.FunctionExpr=FunctionExpr;var BinaryOperatorExpr=function(t){function i(i,r,e,n){void 0===n&&(n=null),t.call(this,lang_1.isPresent(n)?n:r.type),this.operator=i,this.rhs=e,this.lhs=r}return __extends(i,t),i.prototype.visitExpression=function(t,i){return t.visitBinaryOperatorExpr(this,i)},i}(Expression);exports.BinaryOperatorExpr=BinaryOperatorExpr;var ReadPropExpr=function(t){function i(i,r,e){void 0===e&&(e=null),t.call(this,e),this.receiver=i,this.name=r}return __extends(i,t),i.prototype.visitExpression=function(t,i){return t.visitReadPropExpr(this,i)},i.prototype.set=function(t){return new WritePropExpr(this.receiver,this.name,t)},i}(Expression);exports.ReadPropExpr=ReadPropExpr;var ReadKeyExpr=function(t){function i(i,r,e){void 0===e&&(e=null),t.call(this,e),this.receiver=i,this.index=r}return __extends(i,t),i.prototype.visitExpression=function(t,i){return t.visitReadKeyExpr(this,i)},i.prototype.set=function(t){return new WriteKeyExpr(this.receiver,this.index,t)},i}(Expression);exports.ReadKeyExpr=ReadKeyExpr;var LiteralArrayExpr=function(t){function i(i,r){void 0===r&&(r=null),t.call(this,r),this.entries=i}return __extends(i,t),i.prototype.visitExpression=function(t,i){return t.visitLiteralArrayExpr(this,i)},i}(Expression);exports.LiteralArrayExpr=LiteralArrayExpr;var LiteralMapExpr=function(t){function i(i,r){void 0===r&&(r=null),t.call(this,r),this.entries=i,this.valueType=null,lang_1.isPresent(r)&&(this.valueType=r.valueType)}return __extends(i,t),i.prototype.visitExpression=function(t,i){return t.visitLiteralMapExpr(this,i)},i}(Expression);exports.LiteralMapExpr=LiteralMapExpr,exports.THIS_EXPR=new ReadVarExpr(BuiltinVar.This),exports.SUPER_EXPR=new ReadVarExpr(BuiltinVar.Super),exports.CATCH_ERROR_VAR=new ReadVarExpr(BuiltinVar.CatchError),exports.CATCH_STACK_VAR=new ReadVarExpr(BuiltinVar.CatchStack),exports.NULL_EXPR=new LiteralExpr(null,null),function(t){t[t.Final=0]="Final",t[t.Private=1]="Private"}(exports.StmtModifier||(exports.StmtModifier={}));var StmtModifier=exports.StmtModifier,Statement=function(){function t(t){void 0===t&&(t=null),this.modifiers=t,lang_1.isBlank(t)&&(this.modifiers=[])}return t.prototype.hasModifier=function(t){return-1!==this.modifiers.indexOf(t)},t}();exports.Statement=Statement;var DeclareVarStmt=function(t){function i(i,r,e,n){void 0===e&&(e=null),void 0===n&&(n=null),t.call(this,n),this.name=i,this.value=r,this.type=lang_1.isPresent(e)?e:r.type}return __extends(i,t),i.prototype.visitStatement=function(t,i){return t.visitDeclareVarStmt(this,i)},i}(Statement);exports.DeclareVarStmt=DeclareVarStmt;var DeclareFunctionStmt=function(t){function i(i,r,e,n,s){void 0===n&&(n=null),void 0===s&&(s=null),t.call(this,s),this.name=i,this.params=r,this.statements=e,this.type=n}return __extends(i,t),i.prototype.visitStatement=function(t,i){return t.visitDeclareFunctionStmt(this,i)},i}(Statement);exports.DeclareFunctionStmt=DeclareFunctionStmt;var ExpressionStatement=function(t){function i(i){t.call(this),this.expr=i}return __extends(i,t),i.prototype.visitStatement=function(t,i){return t.visitExpressionStmt(this,i)},i}(Statement);exports.ExpressionStatement=ExpressionStatement;var ReturnStatement=function(t){function i(i){t.call(this),this.value=i}return __extends(i,t),i.prototype.visitStatement=function(t,i){return t.visitReturnStmt(this,i)},i}(Statement);exports.ReturnStatement=ReturnStatement;var AbstractClassPart=function(){function t(t,i){void 0===t&&(t=null),this.type=t,this.modifiers=i,lang_1.isBlank(i)&&(this.modifiers=[])}return t.prototype.hasModifier=function(t){return-1!==this.modifiers.indexOf(t)},t}();exports.AbstractClassPart=AbstractClassPart;var ClassField=function(t){function i(i,r,e){void 0===r&&(r=null),void 0===e&&(e=null),t.call(this,r,e),this.name=i}return __extends(i,t),i}(AbstractClassPart);exports.ClassField=ClassField;var ClassMethod=function(t){function i(i,r,e,n,s){void 0===n&&(n=null),void 0===s&&(s=null),t.call(this,n,s),this.name=i,this.params=r,this.body=e}return __extends(i,t),i}(AbstractClassPart);exports.ClassMethod=ClassMethod;var ClassGetter=function(t){function i(i,r,e,n){void 0===e&&(e=null),void 0===n&&(n=null),t.call(this,e,n),this.name=i,this.body=r}return __extends(i,t),i}(AbstractClassPart);exports.ClassGetter=ClassGetter;var ClassStmt=function(t){function i(i,r,e,n,s,o,p){void 0===p&&(p=null),t.call(this,p),this.name=i,this.parent=r,this.fields=e,this.getters=n,this.constructorMethod=s,this.methods=o}return __extends(i,t),i.prototype.visitStatement=function(t,i){return t.visitDeclareClassStmt(this,i)},i}(Statement);exports.ClassStmt=ClassStmt;var IfStmt=function(t){function i(i,r,e){void 0===e&&(e=[]),t.call(this),this.condition=i,this.trueCase=r,this.falseCase=e}return __extends(i,t),i.prototype.visitStatement=function(t,i){return t.visitIfStmt(this,i)},i}(Statement);exports.IfStmt=IfStmt;var CommentStmt=function(t){function i(i){t.call(this),this.comment=i}return __extends(i,t),i.prototype.visitStatement=function(t,i){return t.visitCommentStmt(this,i)},i}(Statement);exports.CommentStmt=CommentStmt;var TryCatchStmt=function(t){function i(i,r){t.call(this),this.bodyStmts=i,this.catchStmts=r}return __extends(i,t),i.prototype.visitStatement=function(t,i){return t.visitTryCatchStmt(this,i)},i}(Statement);exports.TryCatchStmt=TryCatchStmt;var ThrowStmt=function(t){function i(i){t.call(this),this.error=i}return __extends(i,t),i.prototype.visitStatement=function(t,i){return t.visitThrowStmt(this,i)},i}(Statement);exports.ThrowStmt=ThrowStmt;var ExpressionTransformer=function(){function t(){}return t.prototype.visitReadVarExpr=function(t,i){return t},t.prototype.visitWriteVarExpr=function(t,i){return new WriteVarExpr(t.name,t.value.visitExpression(this,i))},t.prototype.visitWriteKeyExpr=function(t,i){return new WriteKeyExpr(t.receiver.visitExpression(this,i),t.index.visitExpression(this,i),t.value.visitExpression(this,i))},t.prototype.visitWritePropExpr=function(t,i){return new WritePropExpr(t.receiver.visitExpression(this,i),t.name,t.value.visitExpression(this,i))},t.prototype.visitInvokeMethodExpr=function(t,i){var r=lang_1.isPresent(t.builtin)?t.builtin:t.name;return new InvokeMethodExpr(t.receiver.visitExpression(this,i),r,this.visitAllExpressions(t.args,i),t.type)},t.prototype.visitInvokeFunctionExpr=function(t,i){return new InvokeFunctionExpr(t.fn.visitExpression(this,i),this.visitAllExpressions(t.args,i),t.type)},t.prototype.visitInstantiateExpr=function(t,i){return new InstantiateExpr(t.classExpr.visitExpression(this,i),this.visitAllExpressions(t.args,i),t.type)},t.prototype.visitLiteralExpr=function(t,i){return t},t.prototype.visitExternalExpr=function(t,i){return t},t.prototype.visitConditionalExpr=function(t,i){return new ConditionalExpr(t.condition.visitExpression(this,i),t.trueCase.visitExpression(this,i),t.falseCase.visitExpression(this,i))},t.prototype.visitNotExpr=function(t,i){return new NotExpr(t.condition.visitExpression(this,i))},t.prototype.visitCastExpr=function(t,i){return new CastExpr(t.value.visitExpression(this,i),i)},t.prototype.visitFunctionExpr=function(t,i){return t},t.prototype.visitBinaryOperatorExpr=function(t,i){return new BinaryOperatorExpr(t.operator,t.lhs.visitExpression(this,i),t.rhs.visitExpression(this,i),t.type)},t.prototype.visitReadPropExpr=function(t,i){return new ReadPropExpr(t.receiver.visitExpression(this,i),t.name,t.type)},t.prototype.visitReadKeyExpr=function(t,i){return new ReadKeyExpr(t.receiver.visitExpression(this,i),t.index.visitExpression(this,i),t.type)},t.prototype.visitLiteralArrayExpr=function(t,i){return new LiteralArrayExpr(this.visitAllExpressions(t.entries,i))},t.prototype.visitLiteralMapExpr=function(t,i){var r=this;return new LiteralMapExpr(t.entries.map(function(t){return[t[0],t[1].visitExpression(r,i)]}))},t.prototype.visitAllExpressions=function(t,i){var r=this;return t.map(function(t){return t.visitExpression(r,i)})},t.prototype.visitDeclareVarStmt=function(t,i){return new DeclareVarStmt(t.name,t.value.visitExpression(this,i),t.type,t.modifiers)},t.prototype.visitDeclareFunctionStmt=function(t,i){return t},t.prototype.visitExpressionStmt=function(t,i){return new ExpressionStatement(t.expr.visitExpression(this,i))},t.prototype.visitReturnStmt=function(t,i){return new ReturnStatement(t.value.visitExpression(this,i))},t.prototype.visitDeclareClassStmt=function(t,i){return t},t.prototype.visitIfStmt=function(t,i){return new IfStmt(t.condition.visitExpression(this,i),this.visitAllStatements(t.trueCase,i),this.visitAllStatements(t.falseCase,i))},t.prototype.visitTryCatchStmt=function(t,i){return new TryCatchStmt(this.visitAllStatements(t.bodyStmts,i),this.visitAllStatements(t.catchStmts,i))},t.prototype.visitThrowStmt=function(t,i){return new ThrowStmt(t.error.visitExpression(this,i))},t.prototype.visitCommentStmt=function(t,i){return t},t.prototype.visitAllStatements=function(t,i){var r=this;return t.map(function(t){return t.visitStatement(r,i)})},t}();exports.ExpressionTransformer=ExpressionTransformer;var RecursiveExpressionVisitor=function(){function t(){}return t.prototype.visitReadVarExpr=function(t,i){return t},t.prototype.visitWriteVarExpr=function(t,i){return t.value.visitExpression(this,i),t},t.prototype.visitWriteKeyExpr=function(t,i){return t.receiver.visitExpression(this,i),t.index.visitExpression(this,i),t.value.visitExpression(this,i),t},t.prototype.visitWritePropExpr=function(t,i){return t.receiver.visitExpression(this,i),t.value.visitExpression(this,i),t},t.prototype.visitInvokeMethodExpr=function(t,i){return t.receiver.visitExpression(this,i),this.visitAllExpressions(t.args,i),t},t.prototype.visitInvokeFunctionExpr=function(t,i){return t.fn.visitExpression(this,i),this.visitAllExpressions(t.args,i),t},t.prototype.visitInstantiateExpr=function(t,i){return t.classExpr.visitExpression(this,i),this.visitAllExpressions(t.args,i),t},t.prototype.visitLiteralExpr=function(t,i){return t},t.prototype.visitExternalExpr=function(t,i){return t},t.prototype.visitConditionalExpr=function(t,i){return t.condition.visitExpression(this,i),t.trueCase.visitExpression(this,i),t.falseCase.visitExpression(this,i),t},t.prototype.visitNotExpr=function(t,i){return t.condition.visitExpression(this,i),t},t.prototype.visitCastExpr=function(t,i){return t.value.visitExpression(this,i),t},t.prototype.visitFunctionExpr=function(t,i){return t},t.prototype.visitBinaryOperatorExpr=function(t,i){return t.lhs.visitExpression(this,i),t.rhs.visitExpression(this,i),t},t.prototype.visitReadPropExpr=function(t,i){return t.receiver.visitExpression(this,i),t},t.prototype.visitReadKeyExpr=function(t,i){return t.receiver.visitExpression(this,i),t.index.visitExpression(this,i),t},t.prototype.visitLiteralArrayExpr=function(t,i){return this.visitAllExpressions(t.entries,i),t},t.prototype.visitLiteralMapExpr=function(t,i){var r=this;return t.entries.forEach(function(t){return t[1].visitExpression(r,i)}),t},t.prototype.visitAllExpressions=function(t,i){var r=this;t.forEach(function(t){return t.visitExpression(r,i)})},t.prototype.visitDeclareVarStmt=function(t,i){return t.value.visitExpression(this,i),t},t.prototype.visitDeclareFunctionStmt=function(t,i){return t},t.prototype.visitExpressionStmt=function(t,i){return t.expr.visitExpression(this,i),t},t.prototype.visitReturnStmt=function(t,i){return t.value.visitExpression(this,i),t},t.prototype.visitDeclareClassStmt=function(t,i){return t},t.prototype.visitIfStmt=function(t,i){return t.condition.visitExpression(this,i),this.visitAllStatements(t.trueCase,i),this.visitAllStatements(t.falseCase,i),t},t.prototype.visitTryCatchStmt=function(t,i){return this.visitAllStatements(t.bodyStmts,i),this.visitAllStatements(t.catchStmts,i),t},t.prototype.visitThrowStmt=function(t,i){return t.error.visitExpression(this,i),t},t.prototype.visitCommentStmt=function(t,i){return t},t.prototype.visitAllStatements=function(t,i){var r=this;t.forEach(function(t){return t.visitStatement(r,i)})},t}();exports.RecursiveExpressionVisitor=RecursiveExpressionVisitor,exports.replaceVarInExpression=replaceVarInExpression;var _ReplaceVariableTransformer=function(t){function i(i,r){t.call(this),this._varName=i,this._newValue=r}return __extends(i,t),i.prototype.visitReadVarExpr=function(t,i){return t.name==this._varName?this._newValue:t},i}(ExpressionTransformer);exports.findReadVarNames=findReadVarNames;var _VariableFinder=function(t){function i(){t.apply(this,arguments),this.varNames=new Set}return __extends(i,t),i.prototype.visitReadVarExpr=function(t,i){return this.varNames.add(t.name),null},i}(RecursiveExpressionVisitor);exports.variable=variable,exports.importExpr=importExpr,exports.importType=importType,exports.literal=literal,exports.literalArr=literalArr,exports.literalMap=literalMap,exports.not=not,exports.fn=fn;

},{"90":90}],104:[function(require,module,exports){
"use strict";function interpretStatements(t,e,n){var r=t.concat([new o.ReturnStatement(o.variable(e))]),i=new _ExecutionContext(null,null,null,null,new Map,new Map,new Map,new Map,n),s=new StatementInterpreter,a=s.visitAllStatements(r,i);return lang_1.isPresent(a)?a.value:null}function isDynamicInstance(t){return lang_1.IS_DART?t instanceof DynamicInstance:lang_1.isPresent(t)&&lang_1.isPresent(t.props)&&lang_1.isPresent(t.getters)&&lang_1.isPresent(t.methods)}function _executeFunctionStatements(t,e,n,r,i){for(var s=r.createChildWihtLocalVars(),a=0;a<t.length;a++)s.vars.set(t[a],e[a]);var o=i.visitAllStatements(n,s);return lang_1.isPresent(o)?o.value:null}function _declareFn(t,e,n,r){switch(t.length){case 0:return function(){return _executeFunctionStatements(t,[],e,n,r)};case 1:return function(i){return _executeFunctionStatements(t,[i],e,n,r)};case 2:return function(i,s){return _executeFunctionStatements(t,[i,s],e,n,r)};case 3:return function(i,s,a){return _executeFunctionStatements(t,[i,s,a],e,n,r)};case 4:return function(i,s,a,o){return _executeFunctionStatements(t,[i,s,a,o],e,n,r)};case 5:return function(i,s,a,o,u){return _executeFunctionStatements(t,[i,s,a,o,u],e,n,r)};case 6:return function(i,s,a,o,u,c){return _executeFunctionStatements(t,[i,s,a,o,u,c],e,n,r)};case 7:return function(i,s,a,o,u,c,p){return _executeFunctionStatements(t,[i,s,a,o,u,c,p],e,n,r)};case 8:return function(i,s,a,o,u,c,p,l){return _executeFunctionStatements(t,[i,s,a,o,u,c,p,l],e,n,r)};case 9:return function(i,s,a,o,u,c,p,l,v){return _executeFunctionStatements(t,[i,s,a,o,u,c,p,l,v],e,n,r)};case 10:return function(i,s,a,o,u,c,p,l,v,m){return _executeFunctionStatements(t,[i,s,a,o,u,c,p,l,v,m],e,n,r)};default:throw new exceptions_1.BaseException("Declaring functions with more than 10 arguments is not supported right now")}}var core_1=require(140),lang_1=require(90),async_1=require(85),exceptions_1=require(89),collection_1=require(87),o=require(103),dart_emitter_1=require(101),ts_emitter_1=require(107);exports.interpretStatements=interpretStatements;var DynamicInstance=function(){function t(){}return Object.defineProperty(t.prototype,"props",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getters",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"methods",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clazz",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),t}();exports.DynamicInstance=DynamicInstance;var _ExecutionContext=function(){function t(t,e,n,r,i,s,a,o,u){this.parent=t,this.superClass=e,this.superInstance=n,this.className=r,this.vars=i,this.props=s,this.getters=a,this.methods=o,this.instanceFactory=u}return t.prototype.createChildWihtLocalVars=function(){return new t(this,this.superClass,this.superInstance,this.className,new Map,this.props,this.getters,this.methods,this.instanceFactory)},t}(),ReturnValue=function(){function t(t){this.value=t}return t}(),_DynamicClass=function(){function t(t,e,n){this._classStmt=t,this._ctx=e,this._visitor=n}return t.prototype.instantiate=function(t){var e=this,n=new Map,r=new Map,i=new Map,s=this._classStmt.parent.visitExpression(this._visitor,this._ctx),a=new _ExecutionContext(this._ctx,s,null,this._classStmt.name,this._ctx.vars,n,r,i,this._ctx.instanceFactory);this._classStmt.fields.forEach(function(t){n.set(t.name,null)}),this._classStmt.getters.forEach(function(t){r.set(t.name,function(){return _executeFunctionStatements([],[],t.body,a,e._visitor)})}),this._classStmt.methods.forEach(function(t){var n=t.params.map(function(t){return t.name});i.set(t.name,_declareFn(n,t.body,a,e._visitor))});var o=this._classStmt.constructorMethod.params.map(function(t){return t.name});return _executeFunctionStatements(o,t,this._classStmt.constructorMethod.body,a,this._visitor),a.superInstance},t.prototype.debugAst=function(){return this._visitor.debugAst(this._classStmt)},t}(),StatementInterpreter=function(){function t(){}return t.prototype.debugAst=function(t){return lang_1.IS_DART?dart_emitter_1.debugOutputAstAsDart(t):ts_emitter_1.debugOutputAstAsTypeScript(t)},t.prototype.visitDeclareVarStmt=function(t,e){return e.vars.set(t.name,t.value.visitExpression(this,e)),null},t.prototype.visitWriteVarExpr=function(t,e){for(var n=t.value.visitExpression(this,e),r=e;null!=r;){if(r.vars.has(t.name))return r.vars.set(t.name,n),n;r=r.parent}throw new exceptions_1.BaseException("Not declared variable "+t.name)},t.prototype.visitReadVarExpr=function(t,e){var n=t.name;if(lang_1.isPresent(t.builtin))switch(t.builtin){case o.BuiltinVar.Super:case o.BuiltinVar.This:return e.superInstance;case o.BuiltinVar.CatchError:n=CATCH_ERROR_VAR;break;case o.BuiltinVar.CatchStack:n=CATCH_STACK_VAR;break;default:throw new exceptions_1.BaseException("Unknown builtin variable "+t.builtin)}for(var r=e;null!=r;){if(r.vars.has(n))return r.vars.get(n);r=r.parent}throw new exceptions_1.BaseException("Not declared variable "+n)},t.prototype.visitWriteKeyExpr=function(t,e){var n=t.receiver.visitExpression(this,e),r=t.index.visitExpression(this,e),i=t.value.visitExpression(this,e);return n[r]=i,i},t.prototype.visitWritePropExpr=function(t,e){var n=t.receiver.visitExpression(this,e),r=t.value.visitExpression(this,e);if(isDynamicInstance(n)){var i=n;i.props.has(t.name)?i.props.set(t.name,r):core_1.reflector.setter(t.name)(n,r)}else core_1.reflector.setter(t.name)(n,r);return r},t.prototype.visitInvokeMethodExpr=function(t,e){var n,r=t.receiver.visitExpression(this,e),i=this.visitAllExpressions(t.args,e);if(lang_1.isPresent(t.builtin))switch(t.builtin){case o.BuiltinMethod.ConcatArray:n=collection_1.ListWrapper.concat(r,i[0]);break;case o.BuiltinMethod.SubscribeObservable:n=async_1.ObservableWrapper.subscribe(r,i[0]);break;case o.BuiltinMethod.bind:n=lang_1.IS_DART?r:r.bind(i[0]);break;default:throw new exceptions_1.BaseException("Unknown builtin method "+t.builtin)}else if(isDynamicInstance(r)){var s=r;n=s.methods.has(t.name)?lang_1.FunctionWrapper.apply(s.methods.get(t.name),i):core_1.reflector.method(t.name)(r,i)}else n=core_1.reflector.method(t.name)(r,i);return n},t.prototype.visitInvokeFunctionExpr=function(t,e){var n=this.visitAllExpressions(t.args,e),r=t.fn;if(r instanceof o.ReadVarExpr&&r.builtin===o.BuiltinVar.Super)return e.superInstance=e.instanceFactory.createInstance(e.superClass,e.className,n,e.props,e.getters,e.methods),e.parent.superInstance=e.superInstance,null;var i=t.fn.visitExpression(this,e);return lang_1.FunctionWrapper.apply(i,n)},t.prototype.visitReturnStmt=function(t,e){return new ReturnValue(t.value.visitExpression(this,e))},t.prototype.visitDeclareClassStmt=function(t,e){var n=new _DynamicClass(t,e,this);return e.vars.set(t.name,n),null},t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e)},t.prototype.visitIfStmt=function(t,e){var n=t.condition.visitExpression(this,e);return n?this.visitAllStatements(t.trueCase,e):lang_1.isPresent(t.falseCase)?this.visitAllStatements(t.falseCase,e):null},t.prototype.visitTryCatchStmt=function(t,e){try{return this.visitAllStatements(t.bodyStmts,e)}catch(n){var r=e.createChildWihtLocalVars();return r.vars.set(CATCH_ERROR_VAR,n),r.vars.set(CATCH_STACK_VAR,n.stack),this.visitAllStatements(t.catchStmts,r)}},t.prototype.visitThrowStmt=function(t,e){throw t.error.visitExpression(this,e)},t.prototype.visitCommentStmt=function(t,e){return null},t.prototype.visitInstantiateExpr=function(t,e){var n=this.visitAllExpressions(t.args,e),r=t.classExpr.visitExpression(this,e);return r instanceof _DynamicClass?r.instantiate(n):lang_1.FunctionWrapper.apply(core_1.reflector.factory(r),n)},t.prototype.visitLiteralExpr=function(t,e){return t.value},t.prototype.visitExternalExpr=function(t,e){return t.value.runtime},t.prototype.visitConditionalExpr=function(t,e){return t.condition.visitExpression(this,e)?t.trueCase.visitExpression(this,e):lang_1.isPresent(t.falseCase)?t.falseCase.visitExpression(this,e):null},t.prototype.visitNotExpr=function(t,e){return!t.condition.visitExpression(this,e)},t.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e)},t.prototype.visitFunctionExpr=function(t,e){var n=t.params.map(function(t){return t.name});return _declareFn(n,t.statements,e,this)},t.prototype.visitDeclareFunctionStmt=function(t,e){var n=t.params.map(function(t){return t.name});return e.vars.set(t.name,_declareFn(n,t.statements,e,this)),null},t.prototype.visitBinaryOperatorExpr=function(t,e){var n=this,r=function(){return t.lhs.visitExpression(n,e)},i=function(){return t.rhs.visitExpression(n,e)};switch(t.operator){case o.BinaryOperator.Equals:return r()==i();case o.BinaryOperator.Identical:return r()===i();case o.BinaryOperator.NotEquals:return r()!=i();case o.BinaryOperator.NotIdentical:return r()!==i();case o.BinaryOperator.And:return r()&&i();case o.BinaryOperator.Or:return r()||i();case o.BinaryOperator.Plus:return r()+i();case o.BinaryOperator.Minus:return r()-i();case o.BinaryOperator.Divide:return r()/i();case o.BinaryOperator.Multiply:return r()*i();case o.BinaryOperator.Modulo:return r()%i();case o.BinaryOperator.Lower:return r()<i();case o.BinaryOperator.LowerEquals:return r()<=i();case o.BinaryOperator.Bigger:return r()>i();case o.BinaryOperator.BiggerEquals:return r()>=i();default:throw new exceptions_1.BaseException("Unknown operator "+t.operator)}},t.prototype.visitReadPropExpr=function(t,e){var n,r=t.receiver.visitExpression(this,e);if(isDynamicInstance(r)){var i=r;n=i.props.has(t.name)?i.props.get(t.name):i.getters.has(t.name)?i.getters.get(t.name)():i.methods.has(t.name)?i.methods.get(t.name):core_1.reflector.getter(t.name)(r)}else n=core_1.reflector.getter(t.name)(r);return n},t.prototype.visitReadKeyExpr=function(t,e){var n=t.receiver.visitExpression(this,e),r=t.index.visitExpression(this,e);return n[r]},t.prototype.visitLiteralArrayExpr=function(t,e){return this.visitAllExpressions(t.entries,e)},t.prototype.visitLiteralMapExpr=function(t,e){var n=this,r={};return t.entries.forEach(function(t){return r[t[0]]=t[1].visitExpression(n,e)}),r},t.prototype.visitAllExpressions=function(t,e){var n=this;return t.map(function(t){return t.visitExpression(n,e)})},t.prototype.visitAllStatements=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=r.visitStatement(this,e);if(i instanceof ReturnValue)return i}return null},t}(),CATCH_ERROR_VAR="error",CATCH_STACK_VAR="stack";

},{"101":101,"103":103,"107":107,"140":140,"85":85,"87":87,"89":89,"90":90}],105:[function(require,module,exports){
"use strict";function jitStatements(t,e,r){var i=new JitEmitterVisitor,a=abstract_emitter_1.EmitterVisitorContext.createRoot([r]);return i.visitAllStatements(e,a),lang_1.evalExpression(t,r,a.toSource(),i.getArgs())}var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},lang_1=require(90),abstract_emitter_1=require(99),abstract_js_emitter_1=require(100),util_1=require(122);exports.jitStatements=jitStatements;var JitEmitterVisitor=function(t){function e(){t.apply(this,arguments),this._evalArgNames=[],this._evalArgValues=[]}return __extends(e,t),e.prototype.getArgs=function(){for(var t={},e=0;e<this._evalArgNames.length;e++)t[this._evalArgNames[e]]=this._evalArgValues[e];return t},e.prototype.visitExternalExpr=function(t,e){var r=t.value.runtime,i=this._evalArgValues.indexOf(r);if(-1===i){i=this._evalArgValues.length,this._evalArgValues.push(r);var a=lang_1.isPresent(t.value.name)?util_1.sanitizeIdentifier(t.value.name):"val";this._evalArgNames.push(util_1.sanitizeIdentifier("jit_"+a+i))}return e.print(this._evalArgNames[i]),null},e}(abstract_js_emitter_1.AbstractJsEmitterVisitor);

},{"100":100,"122":122,"90":90,"99":99}],106:[function(require,module,exports){
"use strict";var exceptions_1=require(89),lang_1=require(90),_ASSET_URL_RE=/asset:([^\/]+)\/([^\/]+)\/(.+)/g,ImportGenerator=function(){function e(){}return e.parseAssetUrl=function(e){return AssetUrl.parse(e)},e}();exports.ImportGenerator=ImportGenerator;var AssetUrl=function(){function e(e,r,t){this.packageName=e,this.firstLevelDir=r,this.modulePath=t}return e.parse=function(r,t){void 0===t&&(t=!0);var s=lang_1.RegExpWrapper.firstMatch(_ASSET_URL_RE,r);if(lang_1.isPresent(s))return new e(s[1],s[2],s[3]);if(t)return null;throw new exceptions_1.BaseException("Url "+r+" is not a valid asset: url")},e}();exports.AssetUrl=AssetUrl;

},{"89":89,"90":90}],107:[function(require,module,exports){
"use strict";function debugOutputAstAsTypeScript(t){var i,e=new _TsEmitterVisitor(_debugModuleUrl),n=abstract_emitter_1.EmitterVisitorContext.createRoot([]);return i=lang_1.isArray(t)?t:[t],i.forEach(function(t){if(t instanceof o.Statement)t.visitStatement(e,n);else if(t instanceof o.Expression)t.visitExpression(e,n);else{if(!(t instanceof o.Type))throw new exceptions_1.BaseException("Don't know how to print debug info for "+t);t.visitType(e,n)}}),n.toSource()}var __extends=this&&this.__extends||function(t,i){function e(){this.constructor=t}for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n]);t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)},o=require(103),lang_1=require(90),exceptions_1=require(89),abstract_emitter_1=require(99),_debugModuleUrl="asset://debug/lib";exports.debugOutputAstAsTypeScript=debugOutputAstAsTypeScript;var TypeScriptEmitter=function(){function t(t){this._importGenerator=t}return t.prototype.emitStatements=function(t,i,e){var n=this,r=new _TsEmitterVisitor(t),s=abstract_emitter_1.EmitterVisitorContext.createRoot(e);r.visitAllStatements(i,s);var o=[];return r.importsWithPrefixes.forEach(function(i,e){o.push("imp"+("ort * as "+i+" from '"+n._importGenerator.getImportPath(t,e)+"';"))}),o.push(s.toSource()),o.join("\n")},t}();exports.TypeScriptEmitter=TypeScriptEmitter;var _TsEmitterVisitor=function(t){function i(i){t.call(this,!1),this._moduleUrl=i,this.importsWithPrefixes=new Map}return __extends(i,t),i.prototype.visitExternalExpr=function(t,i){return this._visitIdentifier(t.value,t.typeParams,i),null},i.prototype.visitDeclareVarStmt=function(t,i){return i.isExportedVar(t.name)&&i.print("export "),t.hasModifier(o.StmtModifier.Final)?i.print("const"):i.print("var"),i.print(" "+t.name),lang_1.isPresent(t.type)&&(i.print(":"),t.type.visitType(this,i)),i.print(" = "),t.value.visitExpression(this,i),i.println(";"),null},i.prototype.visitCastExpr=function(t,i){return i.print("(<"),t.type.visitType(this,i),i.print(">"),t.value.visitExpression(this,i),i.print(")"),null},i.prototype.visitDeclareClassStmt=function(t,i){var e=this;return i.pushClass(t),i.isExportedVar(t.name)&&i.print("export "),i.print("class "+t.name),lang_1.isPresent(t.parent)&&(i.print(" extends "),t.parent.visitExpression(this,i)),i.println(" {"),i.incIndent(),t.fields.forEach(function(t){return e._visitClassField(t,i)}),lang_1.isPresent(t.constructorMethod)&&this._visitClassConstructor(t,i),t.getters.forEach(function(t){return e._visitClassGetter(t,i)}),t.methods.forEach(function(t){return e._visitClassMethod(t,i)}),i.decIndent(),i.println("}"),i.popClass(),null},i.prototype._visitClassField=function(t,i){t.hasModifier(o.StmtModifier.Private)&&i.print("private "),i.print(t.name),lang_1.isPresent(t.type)?(i.print(":"),t.type.visitType(this,i)):i.print(": any"),i.println(";")},i.prototype._visitClassGetter=function(t,i){t.hasModifier(o.StmtModifier.Private)&&i.print("private "),i.print("get "+t.name+"()"),lang_1.isPresent(t.type)&&(i.print(":"),t.type.visitType(this,i)),i.println(" {"),i.incIndent(),this.visitAllStatements(t.body,i),i.decIndent(),i.println("}")},i.prototype._visitClassConstructor=function(t,i){i.print("constructor("),this._visitParams(t.constructorMethod.params,i),i.println(") {"),i.incIndent(),this.visitAllStatements(t.constructorMethod.body,i),i.decIndent(),i.println("}")},i.prototype._visitClassMethod=function(t,i){t.hasModifier(o.StmtModifier.Private)&&i.print("private "),i.print(t.name+"("),this._visitParams(t.params,i),i.print("):"),lang_1.isPresent(t.type)?t.type.visitType(this,i):i.print("void"),i.println(" {"),i.incIndent(),this.visitAllStatements(t.body,i),i.decIndent(),i.println("}")},i.prototype.visitFunctionExpr=function(t,i){return i.print("("),this._visitParams(t.params,i),i.print("):"),lang_1.isPresent(t.type)?t.type.visitType(this,i):i.print("void"),i.println(" => {"),i.incIndent(),this.visitAllStatements(t.statements,i),i.decIndent(),i.print("}"),null},i.prototype.visitDeclareFunctionStmt=function(t,i){return i.isExportedVar(t.name)&&i.print("export "),i.print("function "+t.name+"("),this._visitParams(t.params,i),i.print("):"),lang_1.isPresent(t.type)?t.type.visitType(this,i):i.print("void"),i.println(" {"),i.incIndent(),this.visitAllStatements(t.statements,i),i.decIndent(),i.println("}"),null},i.prototype.visitTryCatchStmt=function(t,i){i.println("try {"),i.incIndent(),this.visitAllStatements(t.bodyStmts,i),i.decIndent(),i.println("} catch ("+abstract_emitter_1.CATCH_ERROR_VAR.name+") {"),i.incIndent();var e=[abstract_emitter_1.CATCH_STACK_VAR.set(abstract_emitter_1.CATCH_ERROR_VAR.prop("stack")).toDeclStmt(null,[o.StmtModifier.Final])].concat(t.catchStmts);return this.visitAllStatements(e,i),i.decIndent(),i.println("}"),null},i.prototype.visitBuiltintType=function(t,i){var e;switch(t.name){case o.BuiltinTypeName.Bool:e="boolean";break;case o.BuiltinTypeName.Dynamic:e="any";break;case o.BuiltinTypeName.Function:e="Function";break;case o.BuiltinTypeName.Number:e="number";break;case o.BuiltinTypeName.Int:e="number";break;case o.BuiltinTypeName.String:e="string";break;default:throw new exceptions_1.BaseException("Unsupported builtin type "+t.name)}return i.print(e),null},i.prototype.visitExternalType=function(t,i){return this._visitIdentifier(t.value,t.typeParams,i),null},i.prototype.visitArrayType=function(t,i){return lang_1.isPresent(t.of)?t.of.visitType(this,i):i.print("any"),i.print("[]"),null},i.prototype.visitMapType=function(t,i){return i.print("{[key: string]:"),lang_1.isPresent(t.valueType)?t.valueType.visitType(this,i):i.print("any"),i.print("}"),null},i.prototype.getBuiltinMethodName=function(t){var i;switch(t){case o.BuiltinMethod.ConcatArray:i="concat";break;case o.BuiltinMethod.SubscribeObservable:i="subscribe";break;case o.BuiltinMethod.bind:i="bind";break;default:throw new exceptions_1.BaseException("Unknown builtin method: "+t)}return i},i.prototype._visitParams=function(t,i){var e=this;this.visitAllObjects(function(t){i.print(t.name),lang_1.isPresent(t.type)&&(i.print(":"),t.type.visitType(e,i))},t,i,",")},i.prototype._visitIdentifier=function(t,i,e){var n=this;if(lang_1.isBlank(t.name))throw new exceptions_1.BaseException("Internal error: unknown identifier "+t);if(lang_1.isPresent(t.moduleUrl)&&t.moduleUrl!=this._moduleUrl){var r=this.importsWithPrefixes.get(t.moduleUrl);lang_1.isBlank(r)&&(r="import"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(t.moduleUrl,r)),e.print(r+".")}e.print(t.name),lang_1.isPresent(i)&&i.length>0&&(e.print("<"),this.visitAllObjects(function(t){return t.visitType(n,e)},i,e,","),e.print(">"))},i}(abstract_emitter_1.AbstractEmitterVisitor);

},{"103":103,"89":89,"90":90,"99":99}],108:[function(require,module,exports){
"use strict";var ParseLocation=function(){function t(t,r,s,e){this.file=t,this.offset=r,this.line=s,this.col=e}return t.prototype.toString=function(){return this.file.url+"@"+this.line+":"+this.col},t}();exports.ParseLocation=ParseLocation;var ParseSourceFile=function(){function t(t,r){this.content=t,this.url=r}return t}();exports.ParseSourceFile=ParseSourceFile;var ParseSourceSpan=function(){function t(t,r){this.start=t,this.end=r}return t.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},t}();exports.ParseSourceSpan=ParseSourceSpan,function(t){t[t.WARNING=0]="WARNING",t[t.FATAL=1]="FATAL"}(exports.ParseErrorLevel||(exports.ParseErrorLevel={}));var ParseErrorLevel=exports.ParseErrorLevel,ParseError=function(){function t(t,r,s){void 0===s&&(s=ParseErrorLevel.FATAL),this.span=t,this.msg=r,this.level=s}return t.prototype.toString=function(){var t=this.span.start.file.content,r=this.span.start.offset;r>t.length-1&&(r=t.length-1);for(var s=r,e=0,n=0;100>e&&r>0&&(r--,e++,"\n"!=t[r]||3!=++n););for(e=0,n=0;100>e&&s<t.length-1&&(s++,e++,"\n"!=t[s]||3!=++n););var o=t.substring(r,this.span.start.offset)+"[ERROR ->]"+t.substring(this.span.start.offset,s+1);return this.msg+' ("'+o+'"): '+this.span.start},t}();exports.ParseError=ParseError;

},{}],109:[function(require,module,exports){
"use strict";function _isPipeMetadata(e){return e instanceof core_1.PipeMetadata}var core_1=require(140),core_private_1=require(72),lang_1=require(90),exceptions_1=require(89),PipeResolver=function(){function e(e){lang_1.isPresent(e)?this._reflector=e:this._reflector=core_1.reflector}return e.prototype.resolve=function(e){var r=this._reflector.annotations(core_1.resolveForwardRef(e));if(lang_1.isPresent(r)){var t=r.find(_isPipeMetadata);if(lang_1.isPresent(t))return t}throw new exceptions_1.BaseException("No Pipe decorator found on "+lang_1.stringify(e))},e.decorators=[{type:core_1.Injectable}],e.ctorParameters=[{type:core_private_1.ReflectorReader}],e}();exports.PipeResolver=PipeResolver,exports.CODEGEN_PIPE_RESOLVER=new PipeResolver(core_1.reflector);

},{"140":140,"72":72,"89":89,"90":90}],110:[function(require,module,exports){
"use strict";function _transformProvider(e,t){var r=t.useExisting,i=t.useValue,n=t.deps;return new compile_metadata_1.CompileProviderMetadata({token:e.token,useClass:e.useClass,useExisting:r,useFactory:e.useFactory,useValue:i,deps:n,multi:e.multi})}function _transformProviderAst(e,t){var r=t.eager,i=t.providers;return new template_ast_1.ProviderAst(e.token,e.multiProvider,e.eager||r,i,e.providerType,e.sourceSpan)}function _normalizeProviders(e,t,r,i){return void 0===i&&(i=null),lang_1.isBlank(i)&&(i=[]),lang_1.isPresent(e)&&e.forEach(function(e){if(lang_1.isArray(e))_normalizeProviders(e,t,r,i);else{var n;e instanceof compile_metadata_1.CompileProviderMetadata?n=e:e instanceof compile_metadata_1.CompileTypeMetadata?n=new compile_metadata_1.CompileProviderMetadata({token:new compile_metadata_1.CompileTokenMetadata({identifier:e}),useClass:e}):r.push(new ProviderError("Unknown provider type "+e,t)),lang_1.isPresent(n)&&i.push(n)}}),i}function _resolveProvidersFromDirectives(e,t,r){var i=new compile_metadata_1.CompileTokenMap;e.forEach(function(e){var n=new compile_metadata_1.CompileProviderMetadata({token:new compile_metadata_1.CompileTokenMetadata({identifier:e.type}),useClass:e.type});_resolveProviders([n],e.isComponent?template_ast_1.ProviderAstType.Component:template_ast_1.ProviderAstType.Directive,!0,t,r,i)});var n=e.filter(function(e){return e.isComponent}).concat(e.filter(function(e){return!e.isComponent}));return n.forEach(function(e){_resolveProviders(_normalizeProviders(e.providers,t,r),template_ast_1.ProviderAstType.PublicService,!1,t,r,i),_resolveProviders(_normalizeProviders(e.viewProviders,t,r),template_ast_1.ProviderAstType.PrivateService,!1,t,r,i)}),i}function _resolveProviders(e,t,r,i,n,o){e.forEach(function(e){var a=o.get(e.token);lang_1.isPresent(a)&&a.multiProvider!==e.multi&&n.push(new ProviderError("Mixing multi and non multi provider is not possible for token "+a.token.name,i)),lang_1.isBlank(a)?(a=new template_ast_1.ProviderAst(e.token,e.multi,r,[e],t,i),o.add(e.token,a)):(e.multi||collection_1.ListWrapper.clear(a.providers),a.providers.push(e))})}function _getViewQueries(e){var t=new compile_metadata_1.CompileTokenMap;return lang_1.isPresent(e.viewQueries)&&e.viewQueries.forEach(function(e){return _addQueryToTokenMap(t,e)}),e.type.diDeps.forEach(function(e){lang_1.isPresent(e.viewQuery)&&_addQueryToTokenMap(t,e.viewQuery)}),t}function _getContentQueries(e){var t=new compile_metadata_1.CompileTokenMap;return e.forEach(function(e){lang_1.isPresent(e.queries)&&e.queries.forEach(function(e){return _addQueryToTokenMap(t,e)}),e.type.diDeps.forEach(function(e){lang_1.isPresent(e.query)&&_addQueryToTokenMap(t,e.query)})}),t}function _addQueryToTokenMap(e,t){t.selectors.forEach(function(r){var i=e.get(r);lang_1.isBlank(i)&&(i=[],e.add(r,i)),i.push(t)})}var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},lang_1=require(90),collection_1=require(87),template_ast_1=require(118),compile_metadata_1=require(76),identifiers_1=require(96),parse_util_1=require(108),ProviderError=function(e){function t(t,r){e.call(this,r,t)}return __extends(t,e),t}(parse_util_1.ParseError);exports.ProviderError=ProviderError;var ProviderViewContext=function(){function e(e,t){var r=this;this.component=e,this.sourceSpan=t,this.errors=[],this.viewQueries=_getViewQueries(e),this.viewProviders=new compile_metadata_1.CompileTokenMap,_normalizeProviders(e.viewProviders,t,this.errors).forEach(function(e){lang_1.isBlank(r.viewProviders.get(e.token))&&r.viewProviders.add(e.token,!0)})}return e}();exports.ProviderViewContext=ProviderViewContext;var ProviderElementContext=function(){function e(e,t,r,i,n,o,a){var s=this;this._viewContext=e,this._parent=t,this._isViewRoot=r,this._directiveAsts=i,this._sourceSpan=a,this._transformedProviders=new compile_metadata_1.CompileTokenMap,this._seenProviders=new compile_metadata_1.CompileTokenMap,this._hasViewContainer=!1,this._attrs={},n.forEach(function(e){return s._attrs[e.name]=e.value});var l=i.map(function(e){return e.directive});this._allProviders=_resolveProvidersFromDirectives(l,a,e.errors),this._contentQueries=_getContentQueries(l);var d=new compile_metadata_1.CompileTokenMap;this._allProviders.values().forEach(function(e){s._addQueryReadsTo(e.token,d)}),o.forEach(function(e){s._addQueryReadsTo(new compile_metadata_1.CompileTokenMetadata({value:e.name}),d)}),lang_1.isPresent(d.get(identifiers_1.identifierToken(identifiers_1.Identifiers.ViewContainerRef)))&&(this._hasViewContainer=!0),this._allProviders.values().forEach(function(e){var t=e.eager||lang_1.isPresent(d.get(e.token));t&&s._getOrCreateLocalProvider(e.providerType,e.token,!0)})}return e.prototype.afterElement=function(){var e=this;this._allProviders.values().forEach(function(t){e._getOrCreateLocalProvider(t.providerType,t.token,!1)})},Object.defineProperty(e.prototype,"transformProviders",{get:function(){return this._transformedProviders.values()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transformedDirectiveAsts",{get:function(){var e=this._transformedProviders.values().map(function(e){return e.token.identifier}),t=collection_1.ListWrapper.clone(this._directiveAsts);return collection_1.ListWrapper.sort(t,function(t,r){return e.indexOf(t.directive.type)-e.indexOf(r.directive.type)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transformedHasViewContainer",{get:function(){return this._hasViewContainer},enumerable:!0,configurable:!0}),e.prototype._addQueryReadsTo=function(e,t){this._getQueriesFor(e).forEach(function(r){var i=lang_1.isPresent(r.read)?r.read:e;lang_1.isBlank(t.get(i))&&t.add(i,!0)})},e.prototype._getQueriesFor=function(e){for(var t,r=[],i=this,n=0;null!==i;)t=i._contentQueries.get(e),lang_1.isPresent(t)&&collection_1.ListWrapper.addAll(r,t.filter(function(e){return e.descendants||1>=n})),i._directiveAsts.length>0&&n++,i=i._parent;return t=this._viewContext.viewQueries.get(e),lang_1.isPresent(t)&&collection_1.ListWrapper.addAll(r,t),r},e.prototype._getOrCreateLocalProvider=function(e,t,r){var i=this,n=this._allProviders.get(t);if(lang_1.isBlank(n)||(e===template_ast_1.ProviderAstType.Directive||e===template_ast_1.ProviderAstType.PublicService)&&n.providerType===template_ast_1.ProviderAstType.PrivateService||(e===template_ast_1.ProviderAstType.PrivateService||e===template_ast_1.ProviderAstType.PublicService)&&n.providerType===template_ast_1.ProviderAstType.Builtin)return null;var o=this._transformedProviders.get(t);if(lang_1.isPresent(o))return o;if(lang_1.isPresent(this._seenProviders.get(t)))return this._viewContext.errors.push(new ProviderError("Cannot instantiate cyclic dependency! "+t.name,this._sourceSpan)),null;this._seenProviders.add(t,!0);var a=n.providers.map(function(e){var t,o=e.useValue,a=e.useExisting;if(lang_1.isPresent(e.useExisting)){var s=i._getDependency(n.providerType,new compile_metadata_1.CompileDiDependencyMetadata({token:e.useExisting}),r);lang_1.isPresent(s.token)?a=s.token:(a=null,o=s.value)}else if(lang_1.isPresent(e.useFactory)){var l=lang_1.isPresent(e.deps)?e.deps:e.useFactory.diDeps;t=l.map(function(e){return i._getDependency(n.providerType,e,r)})}else if(lang_1.isPresent(e.useClass)){var l=lang_1.isPresent(e.deps)?e.deps:e.useClass.diDeps;t=l.map(function(e){return i._getDependency(n.providerType,e,r)})}return _transformProvider(e,{useExisting:a,useValue:o,deps:t})});return o=_transformProviderAst(n,{eager:r,providers:a}),this._transformedProviders.add(t,o),o},e.prototype._getLocalDependency=function(e,t,r){if(void 0===r&&(r=null),t.isAttribute){var i=this._attrs[t.token.value];return new compile_metadata_1.CompileDiDependencyMetadata({isValue:!0,value:lang_1.normalizeBlank(i)})}if(lang_1.isPresent(t.query)||lang_1.isPresent(t.viewQuery))return t;if(lang_1.isPresent(t.token)){if(e===template_ast_1.ProviderAstType.Directive||e===template_ast_1.ProviderAstType.Component){if(t.token.equalsTo(identifiers_1.identifierToken(identifiers_1.Identifiers.Renderer))||t.token.equalsTo(identifiers_1.identifierToken(identifiers_1.Identifiers.ElementRef))||t.token.equalsTo(identifiers_1.identifierToken(identifiers_1.Identifiers.ChangeDetectorRef))||t.token.equalsTo(identifiers_1.identifierToken(identifiers_1.Identifiers.TemplateRef)))return t;t.token.equalsTo(identifiers_1.identifierToken(identifiers_1.Identifiers.ViewContainerRef))&&(this._hasViewContainer=!0)}if(t.token.equalsTo(identifiers_1.identifierToken(identifiers_1.Identifiers.Injector)))return t;if(lang_1.isPresent(this._getOrCreateLocalProvider(e,t.token,r)))return t}return null},e.prototype._getDependency=function(e,t,r){void 0===r&&(r=null);var i=this,n=r,o=null;if(t.isSkipSelf||(o=this._getLocalDependency(e,t,r)),t.isSelf)lang_1.isBlank(o)&&t.isOptional&&(o=new compile_metadata_1.CompileDiDependencyMetadata({isValue:!0,value:null}));else{for(;lang_1.isBlank(o)&&lang_1.isPresent(i._parent);){var a=i;i=i._parent,a._isViewRoot&&(n=!1),o=i._getLocalDependency(template_ast_1.ProviderAstType.PublicService,t,n)}lang_1.isBlank(o)&&(o=!t.isHost||this._viewContext.component.type.isHost||identifiers_1.identifierToken(this._viewContext.component.type).equalsTo(t.token)||lang_1.isPresent(this._viewContext.viewProviders.get(t.token))?t:t.isOptional?o=new compile_metadata_1.CompileDiDependencyMetadata({isValue:!0,value:null}):null)}return lang_1.isBlank(o)&&this._viewContext.errors.push(new ProviderError("No provider for "+t.token.name,this._sourceSpan)),o},e}();exports.ProviderElementContext=ProviderElementContext;

},{"108":108,"118":118,"76":76,"87":87,"90":90,"96":96}],111:[function(require,module,exports){
"use strict";function assertComponent(e){if(!e.isComponent)throw new exceptions_1.BaseException("Could not compile '"+e.type.name+"' because it is not a component.")}var core_1=require(140),lang_1=require(90),exceptions_1=require(89),collection_1=require(87),async_1=require(85),compile_metadata_1=require(76),style_compiler_1=require(116),view_compiler_1=require(137),template_parser_1=require(119),directive_normalizer_1=require(80),metadata_resolver_1=require(97),config_1=require(78),ir=require(103),output_jit_1=require(105),output_interpreter_1=require(104),interpretive_view_1=require(102),xhr_1=require(139),RuntimeCompiler=function(){function e(e,t,r,i,o,a,n){this._metadataResolver=e,this._templateNormalizer=t,this._templateParser=r,this._styleCompiler=i,this._viewCompiler=o,this._xhr=a,this._genConfig=n,this._styleCache=new Map,this._hostCacheKeys=new Map,this._compiledTemplateCache=new Map,this._compiledTemplateDone=new Map}return e.prototype.resolveComponent=function(e){var t=this._metadataResolver.getDirectiveMetadata(e),r=this._hostCacheKeys.get(e);if(lang_1.isBlank(r)){r=new Object,this._hostCacheKeys.set(e,r),assertComponent(t);var i=compile_metadata_1.createHostComponentMeta(t.type,t.selector);this._loadAndCompileComponent(r,i,[t],[],[])}return this._compiledTemplateDone.get(r).then(function(r){return new core_1.ComponentFactory(t.selector,r.viewFactory,e)})},e.prototype.clearCache=function(){this._styleCache.clear(),this._compiledTemplateCache.clear(),this._compiledTemplateDone.clear(),this._hostCacheKeys.clear()},e.prototype._loadAndCompileComponent=function(e,t,r,i,o){var a=this,n=this._compiledTemplateCache.get(e),p=this._compiledTemplateDone.get(e);return lang_1.isBlank(n)&&(n=new CompiledTemplate,this._compiledTemplateCache.set(e,n),p=async_1.PromiseWrapper.all([this._compileComponentStyles(t)].concat(r.map(function(e){return a._templateNormalizer.normalizeDirective(e)}))).then(function(e){var r=e.slice(1),p=e[0],l=a._templateParser.parse(t,t.template.template,r,i,t.type.name),s=[];return n.init(a._compileComponent(t,l,p,i,o,s)),async_1.PromiseWrapper.all(s).then(function(e){return n})}),this._compiledTemplateDone.set(e,p)),n},e.prototype._compileComponent=function(e,t,r,i,o,a){var n=this,p=this._viewCompiler.compileComponent(e,t,new ir.ExternalExpr(new compile_metadata_1.CompileIdentifierMetadata({runtime:r})),i);p.dependencies.forEach(function(e){var t=collection_1.ListWrapper.clone(o),r=e.comp.type.runtime,i=n._metadataResolver.getViewDirectivesMetadata(e.comp.type.runtime),p=n._metadataResolver.getViewPipesMetadata(e.comp.type.runtime),l=collection_1.ListWrapper.contains(t,r);t.push(r);var s=n._loadAndCompileComponent(e.comp.type.runtime,e.comp,i,p,t);e.factoryPlaceholder.runtime=s.proxyViewFactory,e.factoryPlaceholder.name="viewFactory_"+e.comp.type.name,l||a.push(n._compiledTemplateDone.get(r))});var l;return l=lang_1.IS_DART||!this._genConfig.useJit?output_interpreter_1.interpretStatements(p.statements,p.viewFactoryVar,new interpretive_view_1.InterpretiveAppViewInstanceFactory):output_jit_1.jitStatements(e.type.name+".template.js",p.statements,p.viewFactoryVar)},e.prototype._compileComponentStyles=function(e){var t=this._styleCompiler.compileComponent(e);return this._resolveStylesCompileResult(e.type.name,t)},e.prototype._resolveStylesCompileResult=function(e,t){var r=this,i=t.dependencies.map(function(e){return r._loadStylesheetDep(e)});return async_1.PromiseWrapper.all(i).then(function(e){for(var i=[],o=0;o<t.dependencies.length;o++){var a=t.dependencies[o],n=e[o],p=r._styleCompiler.compileStylesheet(a.moduleUrl,n,a.isShimmed);i.push(r._resolveStylesCompileResult(a.moduleUrl,p))}return async_1.PromiseWrapper.all(i)}).then(function(i){for(var o=0;o<t.dependencies.length;o++){var a=t.dependencies[o];a.valuePlaceholder.runtime=i[o],a.valuePlaceholder.name="importedStyles"+o}return lang_1.IS_DART||!r._genConfig.useJit?output_interpreter_1.interpretStatements(t.statements,t.stylesVar,new interpretive_view_1.InterpretiveAppViewInstanceFactory):output_jit_1.jitStatements(e+".css.js",t.statements,t.stylesVar)})},e.prototype._loadStylesheetDep=function(e){var t=""+e.moduleUrl+(e.isShimmed?".shim":""),r=this._styleCache.get(t);return lang_1.isBlank(r)&&(r=this._xhr.get(e.moduleUrl),this._styleCache.set(t,r)),r},e.decorators=[{type:core_1.Injectable}],e.ctorParameters=[{type:metadata_resolver_1.CompileMetadataResolver},{type:directive_normalizer_1.DirectiveNormalizer},{type:template_parser_1.TemplateParser},{type:style_compiler_1.StyleCompiler},{type:view_compiler_1.ViewCompiler},{type:xhr_1.XHR},{type:config_1.CompilerConfig}],e}();exports.RuntimeCompiler=RuntimeCompiler;var CompiledTemplate=function(){function e(){var e=this;this.viewFactory=null,this.proxyViewFactory=function(t,r,i){return e.viewFactory(t,r,i)}}return e.prototype.init=function(e){this.viewFactory=e},e}();

},{"102":102,"103":103,"104":104,"105":105,"116":116,"119":119,"137":137,"139":139,"140":140,"76":76,"78":78,"80":80,"85":85,"87":87,"89":89,"90":90,"97":97}],112:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)},core_1=require(140),core_private_1=require(72),lang_1=require(90),collection_1=require(87),element_schema_registry_1=require(113),EVENT="event",BOOLEAN="boolean",NUMBER="number",STRING="string",OBJECT="object",SCHEMA=["*|%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop","^*|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*autocomplete,*autocompleteerror,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","media|!autoplay,!controls,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,#playbackRate,preload,src,#volume","@svg:^*|*abort,*autocomplete,*autocompleteerror,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex","@svg:graphics^@svg:|","@svg:animation^@svg:|*begin,*end,*repeat","@svg:geometry^@svg:|","@svg:componentTransferFunction^@svg:|","@svg:gradient^@svg:|","@svg:textContent^@svg:graphics|","@svg:textPositioning^@svg:textContent|","a|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,rel,rev,search,shape,target,text,type,username","area|alt,coords,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,search,shape,target,username","audio^media|","br|clear","base|href,target","body|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas|#height,#width","content|select","dl|!compact","datalist|","details|!open","dialog|!open,returnValue","dir|!compact","div|align","embed|align,height,name,src,type,width","fieldset|!disabled,name","font|color,face,size","form|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr|align,color,!noShade,size,width","head|","h1,h2,h3,h4,h5,h6|align","html|version","iframe|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,%sandbox,scrolling,src,srcdoc,width","img|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,sizes,src,srcset,useMap,#vspace,#width","input|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","keygen|!autofocus,challenge,!disabled,keytype,name","li|type,#value","label|htmlFor","legend|align","link|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,rel,%relList,rev,%sizes,target,type","map|name","marquee|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu|!compact","meta|content,httpEquiv,name,scheme","meter|#high,#low,#max,#min,#optimum,#value","ins,del|cite,dateTime","ol|!compact,!reversed,#start,type","object|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup|!disabled,label","option|!defaultSelected,!disabled,label,!selected,text,value","output|defaultValue,%htmlFor,name,value","p|align","param|name,type,value,valueType","picture|","pre|#width","progress|#max,#value","q,blockquote,cite|","script|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow|","source|media,sizes,src,srcset,type","span|","style|!disabled,media,type","caption|align","th,td|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup|align,ch,chOff,#span,vAlign,width","table|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody|align,ch,chOff,vAlign","template|","textarea|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title|text","track|!default,kind,label,src,srclang","ul|!compact,type","unknown|","video^media|#height,poster,#width","@svg:a^@svg:graphics|","@svg:animate^@svg:animation|","@svg:animateMotion^@svg:animation|","@svg:animateTransform^@svg:animation|","@svg:circle^@svg:geometry|","@svg:clipPath^@svg:graphics|","@svg:cursor^@svg:|","@svg:defs^@svg:graphics|","@svg:desc^@svg:|","@svg:discard^@svg:|","@svg:ellipse^@svg:geometry|","@svg:feBlend^@svg:|","@svg:feColorMatrix^@svg:|","@svg:feComponentTransfer^@svg:|","@svg:feComposite^@svg:|","@svg:feConvolveMatrix^@svg:|","@svg:feDiffuseLighting^@svg:|","@svg:feDisplacementMap^@svg:|","@svg:feDistantLight^@svg:|","@svg:feDropShadow^@svg:|","@svg:feFlood^@svg:|","@svg:feFuncA^@svg:componentTransferFunction|","@svg:feFuncB^@svg:componentTransferFunction|","@svg:feFuncG^@svg:componentTransferFunction|","@svg:feFuncR^@svg:componentTransferFunction|","@svg:feGaussianBlur^@svg:|","@svg:feImage^@svg:|","@svg:feMerge^@svg:|","@svg:feMergeNode^@svg:|","@svg:feMorphology^@svg:|","@svg:feOffset^@svg:|","@svg:fePointLight^@svg:|","@svg:feSpecularLighting^@svg:|","@svg:feSpotLight^@svg:|","@svg:feTile^@svg:|","@svg:feTurbulence^@svg:|","@svg:filter^@svg:|","@svg:foreignObject^@svg:graphics|","@svg:g^@svg:graphics|","@svg:image^@svg:graphics|","@svg:line^@svg:geometry|","@svg:linearGradient^@svg:gradient|","@svg:mpath^@svg:|","@svg:marker^@svg:|","@svg:mask^@svg:|","@svg:metadata^@svg:|","@svg:path^@svg:geometry|","@svg:pattern^@svg:|","@svg:polygon^@svg:geometry|","@svg:polyline^@svg:geometry|","@svg:radialGradient^@svg:gradient|","@svg:rect^@svg:geometry|","@svg:svg^@svg:graphics|#currentScale,#zoomAndPan","@svg:script^@svg:|type","@svg:set^@svg:animation|","@svg:stop^@svg:|","@svg:style^@svg:|!disabled,media,title,type","@svg:switch^@svg:graphics|","@svg:symbol^@svg:|","@svg:tspan^@svg:textPositioning|","@svg:text^@svg:textPositioning|","@svg:textPath^@svg:textContent|","@svg:title^@svg:|","@svg:use^@svg:graphics|","@svg:view^@svg:|#zoomAndPan"],attrToPropMap={"class":"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},DomElementSchemaRegistry=function(e){function t(){var t=this;e.call(this),this.schema={},SCHEMA.forEach(function(e){var a=e.split("|"),s=a[1].split(","),r=(a[0]+"^").split("^"),o=r[0],n={};o.split(",").forEach(function(e){return t.schema[e]=n});var i=t.schema[r[1]];lang_1.isPresent(i)&&collection_1.StringMapWrapper.forEach(i,function(e,t){return n[t]=e}),s.forEach(function(e){""==e||e.startsWith("*")||(e.startsWith("!")?n[e.substring(1)]=BOOLEAN:e.startsWith("#")?n[e.substring(1)]=NUMBER:e.startsWith("%")?n[e.substring(1)]=OBJECT:n[e]=STRING)})})}return __extends(t,e),t.prototype.hasProperty=function(e,t){if(-1!==e.indexOf("-"))return!0;var a=this.schema[e.toLowerCase()];return lang_1.isPresent(a)||(a=this.schema.unknown),lang_1.isPresent(a[t])},t.prototype.securityContext=function(e,t){return"style"===t?core_private_1.SecurityContext.STYLE:"a"===e&&"href"===t?core_private_1.SecurityContext.URL:"innerHTML"===t?core_private_1.SecurityContext.HTML:core_private_1.SecurityContext.NONE},t.prototype.getMappedPropName=function(e){var t=collection_1.StringMapWrapper.get(attrToPropMap,e);return lang_1.isPresent(t)?t:e},t.decorators=[{type:core_1.Injectable}],t.ctorParameters=[],t}(element_schema_registry_1.ElementSchemaRegistry);exports.DomElementSchemaRegistry=DomElementSchemaRegistry;

},{"113":113,"140":140,"72":72,"87":87,"90":90}],113:[function(require,module,exports){
"use strict";var ElementSchemaRegistry=function(){function e(){}return e}();exports.ElementSchemaRegistry=ElementSchemaRegistry;

},{}],114:[function(require,module,exports){
"use strict";var collection_1=require(87),lang_1=require(90),exceptions_1=require(89),_EMPTY_ATTR_VALUE="",_SELECTOR_REGEXP=lang_1.RegExpWrapper.create("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-\\w*]+)(?:=([^\\]]*))?\\])|(\\))|(\\s*,\\s*)"),CssSelector=function(){function t(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return t.parse=function(e){for(var a,s=[],n=function(t,e){e.notSelectors.length>0&&lang_1.isBlank(e.element)&&collection_1.ListWrapper.isEmpty(e.classNames)&&collection_1.ListWrapper.isEmpty(e.attrs)&&(e.element="*"),t.push(e)},r=new t,l=lang_1.RegExpWrapper.matcher(_SELECTOR_REGEXP,e),i=r,o=!1;lang_1.isPresent(a=lang_1.RegExpMatcherWrapper.next(l));){if(lang_1.isPresent(a[1])){if(o)throw new exceptions_1.BaseException("Nesting :not is not allowed in a selector");o=!0,i=new t,r.notSelectors.push(i)}if(lang_1.isPresent(a[2])&&i.setElement(a[2]),lang_1.isPresent(a[3])&&i.addClassName(a[3]),lang_1.isPresent(a[4])&&i.addAttribute(a[4],a[5]),lang_1.isPresent(a[6])&&(o=!1,i=r),lang_1.isPresent(a[7])){if(o)throw new exceptions_1.BaseException("Multiple selectors in :not are not supported");n(s,r),r=i=new t}}return n(s,r),s},t.prototype.isElementSelector=function(){return lang_1.isPresent(this.element)&&collection_1.ListWrapper.isEmpty(this.classNames)&&collection_1.ListWrapper.isEmpty(this.attrs)&&0===this.notSelectors.length},t.prototype.setElement=function(t){void 0===t&&(t=null),this.element=t},t.prototype.getMatchingElementTemplate=function(){for(var t=lang_1.isPresent(this.element)?this.element:"div",e=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",a="",s=0;s<this.attrs.length;s+=2){var n=this.attrs[s],r=""!==this.attrs[s+1]?'="'+this.attrs[s+1]+'"':"";a+=" "+n+r}return"<"+t+e+a+"></"+t+">"},t.prototype.addAttribute=function(t,e){void 0===e&&(e=_EMPTY_ATTR_VALUE),this.attrs.push(t),e=lang_1.isPresent(e)?e.toLowerCase():_EMPTY_ATTR_VALUE,this.attrs.push(e)},t.prototype.addClassName=function(t){this.classNames.push(t.toLowerCase())},t.prototype.toString=function(){var t="";if(lang_1.isPresent(this.element)&&(t+=this.element),lang_1.isPresent(this.classNames))for(var e=0;e<this.classNames.length;e++)t+="."+this.classNames[e];if(lang_1.isPresent(this.attrs))for(var e=0;e<this.attrs.length;){var a=this.attrs[e++],s=this.attrs[e++];t+="["+a,s.length>0&&(t+="="+s),t+="]"}return this.notSelectors.forEach(function(e){return t+=":not("+e+")"}),t},t}();exports.CssSelector=CssSelector;var SelectorMatcher=function(){function t(){this._elementMap=new collection_1.Map,this._elementPartialMap=new collection_1.Map,this._classMap=new collection_1.Map,this._classPartialMap=new collection_1.Map,this._attrValueMap=new collection_1.Map,this._attrValuePartialMap=new collection_1.Map,this._listContexts=[]}return t.createNotMatcher=function(e){var a=new t;return a.addSelectables(e,null),a},t.prototype.addSelectables=function(t,e){var a=null;t.length>1&&(a=new SelectorListContext(t),this._listContexts.push(a));for(var s=0;s<t.length;s++)this._addSelectable(t[s],e,a)},t.prototype._addSelectable=function(t,e,a){var s=this,n=t.element,r=t.classNames,l=t.attrs,i=new SelectorContext(t,e,a);if(lang_1.isPresent(n)){var o=0===l.length&&0===r.length;o?this._addTerminal(s._elementMap,n,i):s=this._addPartial(s._elementPartialMap,n)}if(lang_1.isPresent(r))for(var c=0;c<r.length;c++){var o=0===l.length&&c===r.length-1,h=r[c];o?this._addTerminal(s._classMap,h,i):s=this._addPartial(s._classPartialMap,h)}if(lang_1.isPresent(l))for(var c=0;c<l.length;){var o=c===l.length-2,_=l[c++],p=l[c++];if(o){var g=s._attrValueMap,u=g.get(_);lang_1.isBlank(u)&&(u=new collection_1.Map,g.set(_,u)),this._addTerminal(u,p,i)}else{var m=s._attrValuePartialMap,f=m.get(_);lang_1.isBlank(f)&&(f=new collection_1.Map,m.set(_,f)),s=this._addPartial(f,p)}}},t.prototype._addTerminal=function(t,e,a){var s=t.get(e);lang_1.isBlank(s)&&(s=[],t.set(e,s)),s.push(a)},t.prototype._addPartial=function(e,a){var s=e.get(a);return lang_1.isBlank(s)&&(s=new t,e.set(a,s)),s},t.prototype.match=function(t,e){for(var a=!1,s=t.element,n=t.classNames,r=t.attrs,l=0;l<this._listContexts.length;l++)this._listContexts[l].alreadyMatched=!1;if(a=this._matchTerminal(this._elementMap,s,t,e)||a,a=this._matchPartial(this._elementPartialMap,s,t,e)||a,lang_1.isPresent(n))for(var i=0;i<n.length;i++){var o=n[i];a=this._matchTerminal(this._classMap,o,t,e)||a,a=this._matchPartial(this._classPartialMap,o,t,e)||a}if(lang_1.isPresent(r))for(var i=0;i<r.length;){var c=r[i++],h=r[i++],_=this._attrValueMap.get(c);lang_1.StringWrapper.equals(h,_EMPTY_ATTR_VALUE)||(a=this._matchTerminal(_,_EMPTY_ATTR_VALUE,t,e)||a),a=this._matchTerminal(_,h,t,e)||a;var p=this._attrValuePartialMap.get(c);lang_1.StringWrapper.equals(h,_EMPTY_ATTR_VALUE)||(a=this._matchPartial(p,_EMPTY_ATTR_VALUE,t,e)||a),a=this._matchPartial(p,h,t,e)||a}return a},t.prototype._matchTerminal=function(t,e,a,s){if(lang_1.isBlank(t)||lang_1.isBlank(e))return!1;var n=t.get(e),r=t.get("*");if(lang_1.isPresent(r)&&(n=n.concat(r)),lang_1.isBlank(n))return!1;for(var l,i=!1,o=0;o<n.length;o++)l=n[o],i=l.finalize(a,s)||i;return i},t.prototype._matchPartial=function(t,e,a,s){if(lang_1.isBlank(t)||lang_1.isBlank(e))return!1;var n=t.get(e);return lang_1.isBlank(n)?!1:n.match(a,s)},t}();exports.SelectorMatcher=SelectorMatcher;var SelectorListContext=function(){function t(t){this.selectors=t,this.alreadyMatched=!1}return t}();exports.SelectorListContext=SelectorListContext;var SelectorContext=function(){function t(t,e,a){this.selector=t,this.cbContext=e,this.listContext=a,this.notSelectors=t.notSelectors}return t.prototype.finalize=function(t,e){var a=!0;if(this.notSelectors.length>0&&(lang_1.isBlank(this.listContext)||!this.listContext.alreadyMatched)){var s=SelectorMatcher.createNotMatcher(this.notSelectors);a=!s.match(t,null)}return a&&lang_1.isPresent(e)&&(lang_1.isBlank(this.listContext)||!this.listContext.alreadyMatched)&&(lang_1.isPresent(this.listContext)&&(this.listContext.alreadyMatched=!0),e(this.selector,this.cbContext)),a},t}();exports.SelectorContext=SelectorContext;

},{"87":87,"89":89,"90":90}],115:[function(require,module,exports){
"use strict";function stripComments(e){return lang_1.StringWrapper.replaceAllMapped(e,_commentRe,function(e){return""})}function processRules(e,t){var r=escapeBlocks(e),o=0;return lang_1.StringWrapper.replaceAllMapped(r.escapedString,_ruleRe,function(e){var n=e[2],l="",s=e[4],p="";lang_1.isPresent(e[4])&&e[4].startsWith("{"+BLOCK_PLACEHOLDER)&&(l=r.blocks[o++],s=e[4].substring(BLOCK_PLACEHOLDER.length+1),p="{");var i=t(new CssRule(n,l));return""+e[1]+i.selector+e[3]+p+i.content+s})}function escapeBlocks(e){for(var t=lang_1.StringWrapper.split(e,_curlyRe),r=[],o=[],n=0,l=[],s=0;s<t.length;s++){var p=t[s];p==CLOSE_CURLY&&n--,n>0?l.push(p):(l.length>0&&(o.push(l.join("")),r.push(BLOCK_PLACEHOLDER),l=[]),r.push(p)),p==OPEN_CURLY&&n++}return l.length>0&&(o.push(l.join("")),r.push(BLOCK_PLACEHOLDER)),new StringWithEscapedBlocks(r.join(""),o)}var collection_1=require(87),lang_1=require(90),ShadowCss=function(){function e(){this.strictStyling=!0}return e.prototype.shimCssText=function(e,t,r){return void 0===r&&(r=""),e=stripComments(e),e=this._insertDirectives(e),this._scopeCssText(e,t,r)},e.prototype._insertDirectives=function(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)},e.prototype._insertPolyfillDirectivesInCssText=function(e){return lang_1.StringWrapper.replaceAllMapped(e,_cssContentNextSelectorRe,function(e){return e[1]+"{"})},e.prototype._insertPolyfillRulesInCssText=function(e){return lang_1.StringWrapper.replaceAllMapped(e,_cssContentRuleRe,function(e){var t=e[0];return t=lang_1.StringWrapper.replace(t,e[1],""),t=lang_1.StringWrapper.replace(t,e[2],""),e[3]+t})},e.prototype._scopeCssText=function(e,t,r){var o=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),lang_1.isPresent(t)&&(e=this._scopeSelectors(e,t,r)),e=e+"\n"+o,e.trim()},e.prototype._extractUnscopedRulesFromCssText=function(e){for(var t,r="",o=lang_1.RegExpWrapper.matcher(_cssContentUnscopedRuleRe,e);lang_1.isPresent(t=lang_1.RegExpMatcherWrapper.next(o));){var n=t[0];n=lang_1.StringWrapper.replace(n,t[2],""),n=lang_1.StringWrapper.replace(n,t[1],t[3]),r+=n+"\n\n"}return r},e.prototype._convertColonHost=function(e){return this._convertColonRule(e,_cssColonHostRe,this._colonHostPartReplacer)},e.prototype._convertColonHostContext=function(e){return this._convertColonRule(e,_cssColonHostContextRe,this._colonHostContextPartReplacer)},e.prototype._convertColonRule=function(e,t,r){return lang_1.StringWrapper.replaceAllMapped(e,t,function(e){if(lang_1.isPresent(e[2])){for(var t=e[2].split(","),o=[],n=0;n<t.length;n++){var l=t[n];if(lang_1.isBlank(l))break;l=l.trim(),o.push(r(_polyfillHostNoCombinator,l,e[3]))}return o.join(",")}return _polyfillHostNoCombinator+e[3]})},e.prototype._colonHostContextPartReplacer=function(e,t,r){return lang_1.StringWrapper.contains(t,_polyfillHost)?this._colonHostPartReplacer(e,t,r):e+t+r+", "+t+" "+e+r},e.prototype._colonHostPartReplacer=function(e,t,r){return e+lang_1.StringWrapper.replace(t,_polyfillHost,"")+r},e.prototype._convertShadowDOMSelectors=function(e){for(var t=0;t<_shadowDOMSelectorsRe.length;t++)e=lang_1.StringWrapper.replaceAll(e,_shadowDOMSelectorsRe[t]," ");return e},e.prototype._scopeSelectors=function(e,t,r){var o=this;return processRules(e,function(e){var n=e.selector,l=e.content;return"@"!=e.selector[0]||e.selector.startsWith("@page")?n=o._scopeSelector(e.selector,t,r,o.strictStyling):e.selector.startsWith("@media")&&(l=o._scopeSelectors(e.content,t,r)),new CssRule(n,l)})},e.prototype._scopeSelector=function(e,t,r,o){for(var n=[],l=e.split(","),s=0;s<l.length;s++){var p=l[s].trim(),i=lang_1.StringWrapper.split(p,_shadowDeepSelectors),c=i[0];this._selectorNeedsScoping(c,t)&&(i[0]=o&&!lang_1.StringWrapper.contains(c,_polyfillHostNoCombinator)?this._applyStrictSelectorScope(c,t):this._applySelectorScope(c,t,r)),n.push(i.join(" "))}return n.join(", ")},e.prototype._selectorNeedsScoping=function(e,t){var r=this._makeScopeMatcher(t);return!lang_1.isPresent(lang_1.RegExpWrapper.firstMatch(r,e))},e.prototype._makeScopeMatcher=function(e){var t=/\[/g,r=/\]/g;return e=lang_1.StringWrapper.replaceAll(e,t,"\\["),e=lang_1.StringWrapper.replaceAll(e,r,"\\]"),lang_1.RegExpWrapper.create("^("+e+")"+_selectorReSuffix,"m")},e.prototype._applySelectorScope=function(e,t,r){return this._applySimpleSelectorScope(e,t,r)},e.prototype._applySimpleSelectorScope=function(e,t,r){if(lang_1.isPresent(lang_1.RegExpWrapper.firstMatch(_polyfillHostRe,e))){var o=this.strictStyling?"["+r+"]":t;return e=lang_1.StringWrapper.replace(e,_polyfillHostNoCombinator,o),lang_1.StringWrapper.replaceAll(e,_polyfillHostRe,o+" ")}return t+" "+e},e.prototype._applyStrictSelectorScope=function(e,t){var r=/\[is=([^\]]*)\]/g;t=lang_1.StringWrapper.replaceAllMapped(t,r,function(e){return e[1]});for(var o=[" ",">","+","~"],n=e,l="["+t+"]",s=0;s<o.length;s++){var p=o[s],i=n.split(p);n=i.map(function(e){var t=lang_1.StringWrapper.replaceAll(e.trim(),_polyfillHostRe,"");if(t.length>0&&!collection_1.ListWrapper.contains(o,t)&&!lang_1.StringWrapper.contains(t,l)){var r=/([^:]*)(:*)(.*)/g,n=lang_1.RegExpWrapper.firstMatch(r,t);lang_1.isPresent(n)&&(e=n[1]+l+n[2]+n[3])}return e}).join(p)}return n},e.prototype._insertPolyfillHostInCssText=function(e){return e=lang_1.StringWrapper.replaceAll(e,_colonHostContextRe,_polyfillHostContext),e=lang_1.StringWrapper.replaceAll(e,_colonHostRe,_polyfillHost)},e}();exports.ShadowCss=ShadowCss;var _cssContentNextSelectorRe=/polyfill-next-selector[^}]*content:[\s]*?['"](.*?)['"][;\s]*}([^{]*?){/gim,_cssContentRuleRe=/(polyfill-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,_cssContentUnscopedRuleRe=/(polyfill-unscoped-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,_polyfillHost="-shadowcsshost",_polyfillHostContext="-shadowcsscontext",_parenSuffix=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",_cssColonHostRe=lang_1.RegExpWrapper.create("("+_polyfillHost+_parenSuffix,"im"),_cssColonHostContextRe=lang_1.RegExpWrapper.create("("+_polyfillHostContext+_parenSuffix,"im"),_polyfillHostNoCombinator=_polyfillHost+"-no-combinator",_shadowDOMSelectorsRe=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],_shadowDeepSelectors=/(?:>>>)|(?:\/deep\/)/g,_selectorReSuffix="([>\\s~+[.,{:][\\s\\S]*)?$",_polyfillHostRe=lang_1.RegExpWrapper.create(_polyfillHost,"im"),_colonHostRe=/:host/gim,_colonHostContextRe=/:host-context/gim,_commentRe=/\/\*[\s\S]*?\*\//g,_ruleRe=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,_curlyRe=/([{}])/g,OPEN_CURLY="{",CLOSE_CURLY="}",BLOCK_PLACEHOLDER="%BLOCK%",CssRule=function(){function e(e,t){this.selector=e,this.content=t}return e}();exports.CssRule=CssRule,exports.processRules=processRules;var StringWithEscapedBlocks=function(){function e(e,t){this.escapedString=e,this.blocks=t}return e}();

},{"87":87,"90":90}],116:[function(require,module,exports){
"use strict";function getStylesVarName(e){var t="styles";return lang_1.isPresent(e)&&(t+="_"+e.type.name),t}var core_1=require(140),compile_metadata_1=require(76),o=require(103),shadow_css_1=require(115),url_resolver_1=require(121),style_url_resolver_1=require(117),lang_1=require(90),COMPONENT_VARIABLE="%COMP%",HOST_ATTR="_nghost-"+COMPONENT_VARIABLE,CONTENT_ATTR="_ngcontent-"+COMPONENT_VARIABLE,StylesCompileDependency=function(){function e(e,t,r){this.moduleUrl=e,this.isShimmed=t,this.valuePlaceholder=r}return e}();exports.StylesCompileDependency=StylesCompileDependency;var StylesCompileResult=function(){function e(e,t,r){this.statements=e,this.stylesVar=t,this.dependencies=r}return e}();exports.StylesCompileResult=StylesCompileResult;var StyleCompiler=function(){function e(e){this._urlResolver=e,this._shadowCss=new shadow_css_1.ShadowCss}return e.prototype.compileComponent=function(e){var t=e.template.encapsulation===core_1.ViewEncapsulation.Emulated;return this._compileStyles(getStylesVarName(e),e.template.styles,e.template.styleUrls,t)},e.prototype.compileStylesheet=function(e,t,r){var l=style_url_resolver_1.extractStyleUrls(this._urlResolver,e,t);return this._compileStyles(getStylesVarName(null),[l.style],l.styleUrls,r)},e.prototype._compileStyles=function(e,t,r,l){for(var s=this,n=t.map(function(e){return o.literal(s._shimIfNeeded(e,l))}),i=[],a=0;a<r.length;a++){var u=new compile_metadata_1.CompileIdentifierMetadata({name:getStylesVarName(null)});i.push(new StylesCompileDependency(r[a],l,u)),n.push(new o.ExternalExpr(u))}var p=o.variable(e).set(o.literalArr(n,new o.ArrayType(o.DYNAMIC_TYPE,[o.TypeModifier.Const]))).toDeclStmt(null,[o.StmtModifier.Final]);return new StylesCompileResult([p],e,i)},e.prototype._shimIfNeeded=function(e,t){return t?this._shadowCss.shimCssText(e,CONTENT_ATTR,HOST_ATTR):e},e.decorators=[{type:core_1.Injectable}],e.ctorParameters=[{type:url_resolver_1.UrlResolver}],e}();exports.StyleCompiler=StyleCompiler;

},{"103":103,"115":115,"117":117,"121":121,"140":140,"76":76,"90":90}],117:[function(require,module,exports){
"use strict";function isStyleUrlResolvable(e){if(lang_1.isBlank(e)||0===e.length||"/"==e[0])return!1;var t=lang_1.RegExpWrapper.firstMatch(_urlWithSchemaRe,e);return lang_1.isBlank(t)||"package"==t[1]||"asset"==t[1]}function extractStyleUrls(e,t,r){var l=[],s=lang_1.StringWrapper.replaceAllMapped(r,_cssImportRe,function(r){var s=lang_1.isPresent(r[1])?r[1]:r[2];return isStyleUrlResolvable(s)?(l.push(e.resolve(t,s)),""):r[0]});return new StyleWithImports(s,l)}var lang_1=require(90),StyleWithImports=function(){function e(e,t){this.style=e,this.styleUrls=t}return e}();exports.StyleWithImports=StyleWithImports,exports.isStyleUrlResolvable=isStyleUrlResolvable,exports.extractStyleUrls=extractStyleUrls;var _cssImportRe=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,_urlWithSchemaRe=/^([a-zA-Z\-\+\.]+):/g;

},{"90":90}],118:[function(require,module,exports){
"use strict";function templateVisitAll(t,e,i){void 0===i&&(i=null);var n=[];return e.forEach(function(e){var r=e.visit(t,i);lang_1.isPresent(r)&&n.push(r)}),n}var lang_1=require(90),TextAst=function(){function t(t,e,i){this.value=t,this.ngContentIndex=e,this.sourceSpan=i}return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}();exports.TextAst=TextAst;var BoundTextAst=function(){function t(t,e,i){this.value=t,this.ngContentIndex=e,this.sourceSpan=i}return t.prototype.visit=function(t,e){return t.visitBoundText(this,e)},t}();exports.BoundTextAst=BoundTextAst;var AttrAst=function(){function t(t,e,i){this.name=t,this.value=e,this.sourceSpan=i}return t.prototype.visit=function(t,e){return t.visitAttr(this,e)},t}();exports.AttrAst=AttrAst;var BoundElementPropertyAst=function(){function t(t,e,i,n,r,s){this.name=t,this.type=e,this.securityContext=i,this.value=n,this.unit=r,this.sourceSpan=s}return t.prototype.visit=function(t,e){return t.visitElementProperty(this,e)},t}();exports.BoundElementPropertyAst=BoundElementPropertyAst;var BoundEventAst=function(){function t(t,e,i,n){this.name=t,this.target=e,this.handler=i,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitEvent(this,e)},Object.defineProperty(t.prototype,"fullName",{get:function(){return lang_1.isPresent(this.target)?this.target+":"+this.name:this.name},enumerable:!0,configurable:!0}),t}();exports.BoundEventAst=BoundEventAst;var ReferenceAst=function(){function t(t,e,i){this.name=t,this.value=e,this.sourceSpan=i}return t.prototype.visit=function(t,e){return t.visitReference(this,e)},t}();exports.ReferenceAst=ReferenceAst;var VariableAst=function(){function t(t,e,i){this.name=t,this.value=e,this.sourceSpan=i}return t.prototype.visit=function(t,e){return t.visitVariable(this,e)},t}();exports.VariableAst=VariableAst;var ElementAst=function(){function t(t,e,i,n,r,s,o,u,p,c,a){this.name=t,this.attrs=e,this.inputs=i,this.outputs=n,this.references=r,this.directives=s,this.providers=o,this.hasViewContainer=u,this.children=p,this.ngContentIndex=c,this.sourceSpan=a}return t.prototype.visit=function(t,e){return t.visitElement(this,e)},t}();exports.ElementAst=ElementAst;var EmbeddedTemplateAst=function(){function t(t,e,i,n,r,s,o,u,p,c){this.attrs=t,this.outputs=e,this.references=i,this.variables=n,this.directives=r,this.providers=s,this.hasViewContainer=o,this.children=u,this.ngContentIndex=p,this.sourceSpan=c}return t.prototype.visit=function(t,e){return t.visitEmbeddedTemplate(this,e)},t}();exports.EmbeddedTemplateAst=EmbeddedTemplateAst;var BoundDirectivePropertyAst=function(){function t(t,e,i,n){this.directiveName=t,this.templateName=e,this.value=i,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitDirectiveProperty(this,e)},t}();exports.BoundDirectivePropertyAst=BoundDirectivePropertyAst;var DirectiveAst=function(){function t(t,e,i,n,r){this.directive=t,this.inputs=e,this.hostProperties=i,this.hostEvents=n,this.sourceSpan=r}return t.prototype.visit=function(t,e){return t.visitDirective(this,e)},t}();exports.DirectiveAst=DirectiveAst;var ProviderAst=function(){function t(t,e,i,n,r,s){this.token=t,this.multiProvider=e,this.eager=i,this.providers=n,this.providerType=r,this.sourceSpan=s}return t.prototype.visit=function(t,e){return null},t}();exports.ProviderAst=ProviderAst,function(t){t[t.PublicService=0]="PublicService",t[t.PrivateService=1]="PrivateService",t[t.Component=2]="Component",t[t.Directive=3]="Directive",t[t.Builtin=4]="Builtin"}(exports.ProviderAstType||(exports.ProviderAstType={}));var ProviderAstType=exports.ProviderAstType,NgContentAst=function(){function t(t,e,i){this.index=t,this.ngContentIndex=e,this.sourceSpan=i}return t.prototype.visit=function(t,e){return t.visitNgContent(this,e)},t}();exports.NgContentAst=NgContentAst,function(t){t[t.Property=0]="Property",t[t.Attribute=1]="Attribute",t[t.Class=2]="Class",t[t.Style=3]="Style"}(exports.PropertyBindingType||(exports.PropertyBindingType={}));var PropertyBindingType=exports.PropertyBindingType;exports.templateVisitAll=templateVisitAll;

},{"90":90}],119:[function(require,module,exports){
"use strict";function splitClasses(e){return lang_1.StringWrapper.split(e.trim(),/\s+/g)}function createElementCssSelector(e,t){var r=new selector_1.CssSelector,n=html_tags_1.splitNsName(e)[1];r.setElement(n);for(var s=0;s<t.length;s++){var i=t[s][0],a=html_tags_1.splitNsName(i)[1],o=t[s][1];if(r.addAttribute(a,o),i.toLowerCase()==CLASS_ATTR){var p=splitClasses(o);p.forEach(function(e){return r.addClassName(e)})}}return r}function removeDuplicates(e){var t=[];return e.forEach(function(e){var r=t.filter(function(t){return t.type.name==e.type.name&&t.type.moduleUrl==e.type.moduleUrl&&t.type.runtime==e.type.runtime}).length>0;r||t.push(e)}),t}var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},core_1=require(140),core_private_1=require(72),collection_1=require(87),lang_1=require(90),exceptions_1=require(89),ast_1=require(82),parser_1=require(84),html_parser_1=require(94),html_tags_1=require(95),parse_util_1=require(108),template_ast_1=require(118),selector_1=require(114),element_schema_registry_1=require(113),template_preparser_1=require(120),style_url_resolver_1=require(117),html_ast_1=require(92),util_1=require(122),identifiers_1=require(96),provider_parser_1=require(110),BIND_NAME_REGEXP=/^(?:(?:(?:(bind-)|(var-)|(let-)|(ref-|#)|(on-)|(bindon-))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/g,TEMPLATE_ELEMENT="template",TEMPLATE_ATTR="template",TEMPLATE_ATTR_PREFIX="*",CLASS_ATTR="class",PROPERTY_PARTS_SEPARATOR=".",ATTRIBUTE_PREFIX="attr",CLASS_PREFIX="class",STYLE_PREFIX="style",TEXT_CSS_SELECTOR=selector_1.CssSelector.parse("*")[0];exports.TEMPLATE_TRANSFORMS=new core_1.OpaqueToken("TemplateTransforms");var TemplateParseError=function(e){function t(t,r,n){e.call(this,r,t,n)}return __extends(t,e),t}(parse_util_1.ParseError);exports.TemplateParseError=TemplateParseError;var TemplateParseResult=function(){function e(e,t){this.templateAst=e,this.errors=t}return e}();exports.TemplateParseResult=TemplateParseResult;var TemplateParser=function(){function e(e,t,r,n,s){this._exprParser=e,this._schemaRegistry=t,this._htmlParser=r,this._console=n,this.transforms=s}return e.prototype.parse=function(e,t,r,n,s){var i=this.tryParse(e,t,r,n,s),a=i.errors.filter(function(e){return e.level===parse_util_1.ParseErrorLevel.WARNING}),o=i.errors.filter(function(e){return e.level===parse_util_1.ParseErrorLevel.FATAL});if(a.length>0&&this._console.warn("Template parse warnings:\n"+a.join("\n")),o.length>0){var p=o.join("\n");throw new exceptions_1.BaseException("Template parse errors:\n"+p)}return i.templateAst},e.prototype.tryParse=function(e,t,r,n,s){var i,a=this._htmlParser.parse(t,s),o=a.errors;if(a.rootNodes.length>0){var p=removeDuplicates(r),l=removeDuplicates(n),c=new provider_parser_1.ProviderViewContext(e,a.rootNodes[0].sourceSpan),_=new TemplateParseVisitor(c,p,l,this._exprParser,this._schemaRegistry);i=html_ast_1.htmlVisitAll(_,a.rootNodes,EMPTY_ELEMENT_CONTEXT),o=o.concat(_.errors).concat(c.errors)}else i=[];return o.length>0?new TemplateParseResult(i,o):(lang_1.isPresent(this.transforms)&&this.transforms.forEach(function(e){i=template_ast_1.templateVisitAll(e,i)}),new TemplateParseResult(i,o))},e.decorators=[{type:core_1.Injectable}],e.ctorParameters=[{type:parser_1.Parser},{type:element_schema_registry_1.ElementSchemaRegistry},{type:html_parser_1.HtmlParser},{type:core_private_1.Console},{type:void 0,decorators:[{type:core_1.Optional},{type:core_1.Inject,args:[exports.TEMPLATE_TRANSFORMS]}]}],e}();exports.TemplateParser=TemplateParser;var TemplateParseVisitor=function(){function e(e,t,r,n,s){var i=this;this.providerViewContext=e,this._exprParser=n,this._schemaRegistry=s,this.errors=[],this.directivesIndex=new Map,this.ngContentCount=0,this.selectorMatcher=new selector_1.SelectorMatcher,collection_1.ListWrapper.forEachWithIndex(t,function(e,t){var r=selector_1.CssSelector.parse(e.selector);i.selectorMatcher.addSelectables(r,e),i.directivesIndex.set(e,t)}),this.pipesByName=new Map,r.forEach(function(e){return i.pipesByName.set(e.name,e)})}return e.prototype._reportError=function(e,t,r){void 0===r&&(r=parse_util_1.ParseErrorLevel.FATAL),this.errors.push(new TemplateParseError(e,t,r))},e.prototype._parseInterpolation=function(e,t){var r=t.start.toString();try{var n=this._exprParser.parseInterpolation(e,r);if(this._checkPipes(n,t),lang_1.isPresent(n)&&n.ast.expressions.length>core_private_1.MAX_INTERPOLATION_VALUES)throw new exceptions_1.BaseException("Only support at most "+core_private_1.MAX_INTERPOLATION_VALUES+" interpolation values!");return n}catch(s){return this._reportError(""+s,t),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},e.prototype._parseAction=function(e,t){var r=t.start.toString();try{var n=this._exprParser.parseAction(e,r);return this._checkPipes(n,t),n}catch(s){return this._reportError(""+s,t),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},e.prototype._parseBinding=function(e,t){var r=t.start.toString();try{var n=this._exprParser.parseBinding(e,r);return this._checkPipes(n,t),n}catch(s){return this._reportError(""+s,t),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},e.prototype._parseTemplateBindings=function(e,t){var r=this,n=t.start.toString();try{var s=this._exprParser.parseTemplateBindings(e,n);return s.templateBindings.forEach(function(e){lang_1.isPresent(e.expression)&&r._checkPipes(e.expression,t)}),s.warnings.forEach(function(e){r._reportError(e,t,parse_util_1.ParseErrorLevel.WARNING)}),s.templateBindings}catch(i){return this._reportError(""+i,t),[]}},e.prototype._checkPipes=function(e,t){var r=this;if(lang_1.isPresent(e)){var n=new PipeCollector;e.visit(n),n.pipes.forEach(function(e){r.pipesByName.has(e)||r._reportError("The pipe '"+e+"' could not be found",t)})}},e.prototype.visitExpansion=function(e,t){return null},e.prototype.visitExpansionCase=function(e,t){return null},e.prototype.visitText=function(e,t){var r=t.findNgContentIndex(TEXT_CSS_SELECTOR),n=this._parseInterpolation(e.value,e.sourceSpan);return lang_1.isPresent(n)?new template_ast_1.BoundTextAst(n,r,e.sourceSpan):new template_ast_1.TextAst(e.value,r,e.sourceSpan)},e.prototype.visitAttr=function(e,t){return new template_ast_1.AttrAst(e.name,e.value,e.sourceSpan)},e.prototype.visitComment=function(e,t){return null},e.prototype.visitElement=function(e,t){var r=this,n=e.name,s=template_preparser_1.preparseElement(e);if(s.type===template_preparser_1.PreparsedElementType.SCRIPT||s.type===template_preparser_1.PreparsedElementType.STYLE)return null;if(s.type===template_preparser_1.PreparsedElementType.STYLESHEET&&style_url_resolver_1.isStyleUrlResolvable(s.hrefAttr))return null;var i=[],a=[],o=[],p=[],l=[],c=[],_=[],u=[],m=!1,h=[],E=html_tags_1.splitNsName(n.toLowerCase())[1],v=E==TEMPLATE_ELEMENT;e.attrs.forEach(function(e){var t=r._parseAttr(v,e,i,a,l,o,p),n=r._parseInlineTemplateBinding(e,_,c,u);t||n||(h.push(r.visitAttr(e,null)),i.push([e.name,e.value])),n&&(m=!0)});var f=createElementCssSelector(n,i),d=this._parseDirectives(this.selectorMatcher,f),P=[],y=this._createDirectiveAsts(v,e.name,d,a,o,e.sourceSpan,P),g=this._createElementPropertyAsts(e.name,a,y),T=t.isTemplateElement||m,A=new provider_parser_1.ProviderElementContext(this.providerViewContext,t.providerContext,T,y,h,P,e.sourceSpan),S=html_ast_1.htmlVisitAll(s.nonBindable?NON_BINDABLE_VISITOR:this,e.children,ElementContext.create(v,y,v?t.providerContext:A));A.afterElement();var C,x=lang_1.isPresent(s.projectAs)?selector_1.CssSelector.parse(s.projectAs)[0]:f,R=t.findNgContentIndex(x);if(s.type===template_preparser_1.PreparsedElementType.NG_CONTENT)lang_1.isPresent(e.children)&&e.children.length>0&&this._reportError("<ng-content> element cannot have content. <ng-content> must be immediately followed by </ng-content>",e.sourceSpan),C=new template_ast_1.NgContentAst(this.ngContentCount++,m?null:R,e.sourceSpan);else if(v)this._assertAllEventsPublishedByDirectives(y,l),this._assertNoComponentsNorElementBindingsOnTemplate(y,g,e.sourceSpan),C=new template_ast_1.EmbeddedTemplateAst(h,l,P,p,A.transformedDirectiveAsts,A.transformProviders,A.transformedHasViewContainer,S,m?null:R,e.sourceSpan);else{this._assertOnlyOneComponent(y,e.sourceSpan);var N=m?null:t.findNgContentIndex(x);C=new template_ast_1.ElementAst(n,h,g,l,P,A.transformedDirectiveAsts,A.transformProviders,A.transformedHasViewContainer,S,m?null:N,e.sourceSpan)}if(m){var w=createElementCssSelector(TEMPLATE_ELEMENT,_),L=this._parseDirectives(this.selectorMatcher,w),I=this._createDirectiveAsts(!0,e.name,L,c,[],e.sourceSpan,[]),B=this._createElementPropertyAsts(e.name,c,I);this._assertNoComponentsNorElementBindingsOnTemplate(I,B,e.sourceSpan);var M=new provider_parser_1.ProviderElementContext(this.providerViewContext,t.providerContext,t.isTemplateElement,I,[],[],e.sourceSpan);M.afterElement(),C=new template_ast_1.EmbeddedTemplateAst([],[],[],u,M.transformedDirectiveAsts,M.transformProviders,M.transformedHasViewContainer,[C],R,e.sourceSpan)}return C},e.prototype._parseInlineTemplateBinding=function(e,t,r,n){var s=null;if(e.name==TEMPLATE_ATTR)s=e.value;else if(e.name.startsWith(TEMPLATE_ATTR_PREFIX)){var i=e.name.substring(TEMPLATE_ATTR_PREFIX.length);s=0==e.value.length?i:i+" "+e.value}if(lang_1.isPresent(s)){for(var a=this._parseTemplateBindings(s,e.sourceSpan),o=0;o<a.length;o++){var p=a[o];p.keyIsVar?n.push(new template_ast_1.VariableAst(p.key,p.name,e.sourceSpan)):lang_1.isPresent(p.expression)?this._parsePropertyAst(p.key,p.expression,e.sourceSpan,t,r):(t.push([p.key,""]),this._parseLiteralAttr(p.key,null,e.sourceSpan,r))}return!0}return!1},e.prototype._parseAttr=function(e,t,r,n,s,i,a){var o=this._normalizeAttributeName(t.name),p=t.value,l=lang_1.RegExpWrapper.firstMatch(BIND_NAME_REGEXP,o),c=!1;if(lang_1.isPresent(l))if(c=!0,lang_1.isPresent(l[1]))this._parseProperty(l[7],p,t.sourceSpan,r,n);else if(lang_1.isPresent(l[2])){var _=l[7];e?(this._reportError('"var-" on <template> elements is deprecated. Use "let-" instead!',t.sourceSpan,parse_util_1.ParseErrorLevel.WARNING),this._parseVariable(_,p,t.sourceSpan,a)):(this._reportError('"var-" on non <template> elements is deprecated. Use "ref-" instead!',t.sourceSpan,parse_util_1.ParseErrorLevel.WARNING),this._parseReference(_,p,t.sourceSpan,i))}else if(lang_1.isPresent(l[3]))if(e){var _=l[7];this._parseVariable(_,p,t.sourceSpan,a)}else this._reportError('"let-" is only supported on template elements.',t.sourceSpan);else if(lang_1.isPresent(l[4])){var _=l[7];this._parseReference(_,p,t.sourceSpan,i)}else lang_1.isPresent(l[5])?this._parseEvent(l[7],p,t.sourceSpan,r,s):lang_1.isPresent(l[6])?(this._parseProperty(l[7],p,t.sourceSpan,r,n),this._parseAssignmentEvent(l[7],p,t.sourceSpan,r,s)):lang_1.isPresent(l[8])?(this._parseProperty(l[8],p,t.sourceSpan,r,n),this._parseAssignmentEvent(l[8],p,t.sourceSpan,r,s)):lang_1.isPresent(l[9])?this._parseProperty(l[9],p,t.sourceSpan,r,n):lang_1.isPresent(l[10])&&this._parseEvent(l[10],p,t.sourceSpan,r,s);else c=this._parsePropertyInterpolation(o,p,t.sourceSpan,r,n);return c||this._parseLiteralAttr(o,p,t.sourceSpan,n),c},e.prototype._normalizeAttributeName=function(e){return e.toLowerCase().startsWith("data-")?e.substring(5):e},e.prototype._parseVariable=function(e,t,r,n){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',r),n.push(new template_ast_1.VariableAst(e,t,r))},e.prototype._parseReference=function(e,t,r,n){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',r),n.push(new ElementOrDirectiveRef(e,t,r))},e.prototype._parseProperty=function(e,t,r,n,s){this._parsePropertyAst(e,this._parseBinding(t,r),r,n,s)},e.prototype._parsePropertyInterpolation=function(e,t,r,n,s){var i=this._parseInterpolation(t,r);return lang_1.isPresent(i)?(this._parsePropertyAst(e,i,r,n,s),!0):!1},e.prototype._parsePropertyAst=function(e,t,r,n,s){n.push([e,t.source]),s.push(new BoundElementOrDirectiveProperty(e,t,!1,r))},e.prototype._parseAssignmentEvent=function(e,t,r,n,s){this._parseEvent(e+"Change",t+"=$event",r,n,s)},e.prototype._parseEvent=function(e,t,r,n,s){var i=util_1.splitAtColon(e,[null,e]),a=i[0],o=i[1],p=this._parseAction(t,r);n.push([e,p.source]),s.push(new template_ast_1.BoundEventAst(o,a,p,r))},e.prototype._parseLiteralAttr=function(e,t,r,n){n.push(new BoundElementOrDirectiveProperty(e,this._exprParser.wrapLiteralPrimitive(t,""),!0,r))},e.prototype._parseDirectives=function(e,t){var r=this,n=collection_1.ListWrapper.createFixedSize(this.directivesIndex.size);return e.match(t,function(e,t){n[r.directivesIndex.get(t)]=t}),n.filter(function(e){return lang_1.isPresent(e)})},e.prototype._createDirectiveAsts=function(e,t,r,n,s,i,a){var o=this,p=new Set,l=null,c=r.map(function(e){e.isComponent&&(l=e);var r=[],c=[],_=[];return o._createDirectiveHostPropertyAsts(t,e.hostProperties,i,r),o._createDirectiveHostEventAsts(e.hostListeners,i,c),o._createDirectivePropertyAsts(e.inputs,n,_),s.forEach(function(t){(0===t.value.length&&e.isComponent||e.exportAs==t.value)&&(a.push(new template_ast_1.ReferenceAst(t.name,identifiers_1.identifierToken(e.type),t.sourceSpan)),p.add(t.name))}),new template_ast_1.DirectiveAst(e,_,r,c,i)});return s.forEach(function(t){if(t.value.length>0)collection_1.SetWrapper.has(p,t.name)||o._reportError('There is no directive with "exportAs" set to "'+t.value+'"',t.sourceSpan);else if(lang_1.isBlank(l)){var r=null;e&&(r=identifiers_1.identifierToken(identifiers_1.Identifiers.TemplateRef)),a.push(new template_ast_1.ReferenceAst(t.name,r,t.sourceSpan))}}),c},e.prototype._createDirectiveHostPropertyAsts=function(e,t,r,n){var s=this;lang_1.isPresent(t)&&collection_1.StringMapWrapper.forEach(t,function(t,i){var a=s._parseBinding(t,r);n.push(s._createElementPropertyAst(e,i,a,r))})},e.prototype._createDirectiveHostEventAsts=function(e,t,r){var n=this;lang_1.isPresent(e)&&collection_1.StringMapWrapper.forEach(e,function(e,s){n._parseEvent(s,e,t,[],r)})},e.prototype._createDirectivePropertyAsts=function(e,t,r){if(lang_1.isPresent(e)){var n=new Map;t.forEach(function(e){var t=n.get(e.name);(lang_1.isBlank(t)||t.isLiteral)&&n.set(e.name,e)}),collection_1.StringMapWrapper.forEach(e,function(e,t){var s=n.get(e);lang_1.isPresent(s)&&r.push(new template_ast_1.BoundDirectivePropertyAst(t,s.name,s.expression,s.sourceSpan))})}},e.prototype._createElementPropertyAsts=function(e,t,r){var n=this,s=[],i=new Map;return r.forEach(function(e){e.inputs.forEach(function(e){i.set(e.templateName,e)})}),t.forEach(function(t){!t.isLiteral&&lang_1.isBlank(i.get(t.name))&&s.push(n._createElementPropertyAst(e,t.name,t.expression,t.sourceSpan))}),s},e.prototype._createElementPropertyAst=function(e,t,r,n){var s,i,a,o=null,p=t.split(PROPERTY_PARTS_SEPARATOR);if(1===p.length)i=this._schemaRegistry.getMappedPropName(p[0]),a=this._schemaRegistry.securityContext(e,i),s=template_ast_1.PropertyBindingType.Property,this._schemaRegistry.hasProperty(e,i)||this._reportError("Can't bind to '"+i+"' since it isn't a known native property",n);else if(p[0]==ATTRIBUTE_PREFIX){i=p[1],i.toLowerCase().startsWith("on")&&this._reportError("Binding to event attribute '"+i+"' is disallowed "+("for security reasons, please use ("+i.slice(2)+")=..."),n),a=this._schemaRegistry.securityContext(e,this._schemaRegistry.getMappedPropName(i));var l=i.indexOf(":");if(l>-1){var c=i.substring(0,l),_=i.substring(l+1);i=html_tags_1.mergeNsAndName(c,_)}s=template_ast_1.PropertyBindingType.Attribute}else p[0]==CLASS_PREFIX?(i=p[1],s=template_ast_1.PropertyBindingType.Class,a=core_private_1.SecurityContext.NONE):p[0]==STYLE_PREFIX?(o=p.length>2?p[2]:null,i=p[1],s=template_ast_1.PropertyBindingType.Style,a=core_private_1.SecurityContext.STYLE):(this._reportError("Invalid property name '"+t+"'",n),s=null,a=null);return new template_ast_1.BoundElementPropertyAst(i,s,a,r,o,n)},e.prototype._findComponentDirectiveNames=function(e){var t=[];return e.forEach(function(e){var r=e.directive.type.name;e.directive.isComponent&&t.push(r)}),t},e.prototype._assertOnlyOneComponent=function(e,t){var r=this._findComponentDirectiveNames(e);r.length>1&&this._reportError("More than one component: "+r.join(","),t)},e.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(e,t,r){var n=this,s=this._findComponentDirectiveNames(e);s.length>0&&this._reportError("Components on an embedded template: "+s.join(","),r),t.forEach(function(e){n._reportError("Property binding "+e.name+" not used by any directive on an embedded template",r)})},e.prototype._assertAllEventsPublishedByDirectives=function(e,t){var r=this,n=new Set;e.forEach(function(e){collection_1.StringMapWrapper.forEach(e.directive.outputs,function(e,t){n.add(e)})}),t.forEach(function(e){!lang_1.isPresent(e.target)&&collection_1.SetWrapper.has(n,e.name)||r._reportError("Event binding "+e.fullName+" not emitted by any directive on an embedded template",e.sourceSpan)})},e}(),NonBindableVisitor=function(){function e(){}return e.prototype.visitElement=function(e,t){var r=template_preparser_1.preparseElement(e);if(r.type===template_preparser_1.PreparsedElementType.SCRIPT||r.type===template_preparser_1.PreparsedElementType.STYLE||r.type===template_preparser_1.PreparsedElementType.STYLESHEET)return null;var n=e.attrs.map(function(e){return[e.name,e.value]}),s=createElementCssSelector(e.name,n),i=t.findNgContentIndex(s),a=html_ast_1.htmlVisitAll(this,e.children,EMPTY_ELEMENT_CONTEXT);return new template_ast_1.ElementAst(e.name,html_ast_1.htmlVisitAll(this,e.attrs),[],[],[],[],[],!1,a,i,e.sourceSpan)},e.prototype.visitComment=function(e,t){return null},e.prototype.visitAttr=function(e,t){return new template_ast_1.AttrAst(e.name,e.value,e.sourceSpan)},e.prototype.visitText=function(e,t){var r=t.findNgContentIndex(TEXT_CSS_SELECTOR);return new template_ast_1.TextAst(e.value,r,e.sourceSpan)},e.prototype.visitExpansion=function(e,t){return e},e.prototype.visitExpansionCase=function(e,t){return e},e}(),BoundElementOrDirectiveProperty=function(){function e(e,t,r,n){this.name=e,this.expression=t,this.isLiteral=r,this.sourceSpan=n}return e}(),ElementOrDirectiveRef=function(){function e(e,t,r){this.name=e,this.value=t,this.sourceSpan=r}return e}();exports.splitClasses=splitClasses;var ElementContext=function(){function e(e,t,r,n){this.isTemplateElement=e,this._ngContentIndexMatcher=t,this._wildcardNgContentIndex=r,this.providerContext=n}return e.create=function(t,r,n){var s=new selector_1.SelectorMatcher,i=null,a=r.find(function(e){return e.directive.isComponent});if(lang_1.isPresent(a))for(var o=a.directive.template.ngContentSelectors,p=0;p<o.length;p++){var l=o[p];lang_1.StringWrapper.equals(l,"*")?i=p:s.addSelectables(selector_1.CssSelector.parse(o[p]),p)}return new e(t,s,i,n)},e.prototype.findNgContentIndex=function(e){var t=[];return this._ngContentIndexMatcher.match(e,function(e,r){t.push(r)}),collection_1.ListWrapper.sort(t),lang_1.isPresent(this._wildcardNgContentIndex)&&t.push(this._wildcardNgContentIndex),t.length>0?t[0]:null},e}(),EMPTY_ELEMENT_CONTEXT=new ElementContext(!0,new selector_1.SelectorMatcher,null,null),NON_BINDABLE_VISITOR=new NonBindableVisitor,PipeCollector=function(e){function t(){e.apply(this,arguments),this.pipes=new Set}return __extends(t,e),t.prototype.visitPipe=function(e,t){return this.pipes.add(e.name),e.exp.visit(this),this.visitAll(e.args,t),null},t}(ast_1.RecursiveAstVisitor);exports.PipeCollector=PipeCollector;

},{"108":108,"110":110,"113":113,"114":114,"117":117,"118":118,"120":120,"122":122,"140":140,"72":72,"82":82,"84":84,"87":87,"89":89,"90":90,"92":92,"94":94,"95":95,"96":96}],120:[function(require,module,exports){
"use strict";function preparseElement(e){var E=null,T=null,t=null,r=!1,n=null;e.attrs.forEach(function(e){var _=e.name.toLowerCase();_==NG_CONTENT_SELECT_ATTR?E=e.value:_==LINK_STYLE_HREF_ATTR?T=e.value:_==LINK_STYLE_REL_ATTR?t=e.value:e.name==NG_NON_BINDABLE_ATTR?r=!0:e.name==NG_PROJECT_AS&&e.value.length>0&&(n=e.value)}),E=normalizeNgContentSelect(E);var _=e.name.toLowerCase(),N=PreparsedElementType.OTHER;return html_tags_1.splitNsName(_)[1]==NG_CONTENT_ELEMENT?N=PreparsedElementType.NG_CONTENT:_==STYLE_ELEMENT?N=PreparsedElementType.STYLE:_==SCRIPT_ELEMENT?N=PreparsedElementType.SCRIPT:_==LINK_ELEMENT&&t==LINK_STYLE_REL_VALUE&&(N=PreparsedElementType.STYLESHEET),new PreparsedElement(N,E,T,r,n)}function normalizeNgContentSelect(e){return lang_1.isBlank(e)||0===e.length?"*":e}var lang_1=require(90),html_tags_1=require(95),NG_CONTENT_SELECT_ATTR="select",NG_CONTENT_ELEMENT="ng-content",LINK_ELEMENT="link",LINK_STYLE_REL_ATTR="rel",LINK_STYLE_HREF_ATTR="href",LINK_STYLE_REL_VALUE="stylesheet",STYLE_ELEMENT="style",SCRIPT_ELEMENT="script",NG_NON_BINDABLE_ATTR="ngNonBindable",NG_PROJECT_AS="ngProjectAs";exports.preparseElement=preparseElement,function(e){e[e.NG_CONTENT=0]="NG_CONTENT",e[e.STYLE=1]="STYLE",e[e.STYLESHEET=2]="STYLESHEET",e[e.SCRIPT=3]="SCRIPT",e[e.OTHER=4]="OTHER"}(exports.PreparsedElementType||(exports.PreparsedElementType={}));var PreparsedElementType=exports.PreparsedElementType,PreparsedElement=function(){function e(e,E,T,t,r){this.type=e,this.selectAttr=E,this.hrefAttr=T,this.nonBindable=t,this.projectAs=r}return e}();exports.PreparsedElement=PreparsedElement;

},{"90":90,"95":95}],121:[function(require,module,exports){
"use strict";function createUrlResolverWithoutPackagePrefix(){return new UrlResolver}function createOfflineCompileUrlResolver(){return new UrlResolver(_ASSET_SCHEME)}function getUrlScheme(e){var n=_split(e);return n&&n[_ComponentIndex.Scheme]||""}function _buildFromEncodedParts(e,n,r,t,o,a,s){var i=[];return lang_1.isPresent(e)&&i.push(e+":"),lang_1.isPresent(r)&&(i.push("//"),lang_1.isPresent(n)&&i.push(n+"@"),i.push(r),lang_1.isPresent(t)&&i.push(":"+t)),lang_1.isPresent(o)&&i.push(o),lang_1.isPresent(a)&&i.push("?"+a),lang_1.isPresent(s)&&i.push("#"+s),i.join("")}function _split(e){return lang_1.RegExpWrapper.firstMatch(_splitRe,e)}function _removeDotSegments(e){if("/"==e)return"/";for(var n="/"==e[0]?"/":"",r="/"===e[e.length-1]?"/":"",t=e.split("/"),o=[],a=0,s=0;s<t.length;s++){var i=t[s];switch(i){case"":case".":break;case"..":o.length>0?o.pop():a++;break;default:o.push(i)}}if(""==n){for(;a-- >0;)o.unshift("..");0===o.length&&o.push(".")}return n+o.join("/")+r}function _joinAndCanonicalizePath(e){var n=e[_ComponentIndex.Path];return n=lang_1.isBlank(n)?"":_removeDotSegments(n),e[_ComponentIndex.Path]=n,_buildFromEncodedParts(e[_ComponentIndex.Scheme],e[_ComponentIndex.UserInfo],e[_ComponentIndex.Domain],e[_ComponentIndex.Port],n,e[_ComponentIndex.QueryData],e[_ComponentIndex.Fragment])}function _resolveUrl(e,n){var r=_split(encodeURI(n)),t=_split(e);if(lang_1.isPresent(r[_ComponentIndex.Scheme]))return _joinAndCanonicalizePath(r);r[_ComponentIndex.Scheme]=t[_ComponentIndex.Scheme];for(var o=_ComponentIndex.Scheme;o<=_ComponentIndex.Port;o++)lang_1.isBlank(r[o])&&(r[o]=t[o]);if("/"==r[_ComponentIndex.Path][0])return _joinAndCanonicalizePath(r);var a=t[_ComponentIndex.Path];lang_1.isBlank(a)&&(a="/");var s=a.lastIndexOf("/");return a=a.substring(0,s+1)+r[_ComponentIndex.Path],r[_ComponentIndex.Path]=a,_joinAndCanonicalizePath(r)}var core_1=require(140),lang_1=require(90),_ASSET_SCHEME="asset:";exports.createUrlResolverWithoutPackagePrefix=createUrlResolverWithoutPackagePrefix,exports.createOfflineCompileUrlResolver=createOfflineCompileUrlResolver,exports.DEFAULT_PACKAGE_URL_PROVIDER={provide:core_1.PACKAGE_ROOT_URL,useValue:"/"};var UrlResolver=function(){function e(e){void 0===e&&(e=null),this._packagePrefix=e}return e.prototype.resolve=function(e,n){var r=n;lang_1.isPresent(e)&&e.length>0&&(r=_resolveUrl(e,r));var t=_split(r),o=this._packagePrefix;if(lang_1.isPresent(o)&&lang_1.isPresent(t)&&"package"==t[_ComponentIndex.Scheme]){var a=t[_ComponentIndex.Path];if(this._packagePrefix!==_ASSET_SCHEME)return o=lang_1.StringWrapper.stripRight(o,"/"),a=lang_1.StringWrapper.stripLeft(a,"/"),o+"/"+a;var s=a.split(/\//);r="asset:"+s[0]+"/lib/"+s.slice(1).join("/")}return r},e.decorators=[{type:core_1.Injectable}],e.ctorParameters=[{type:void 0,decorators:[{type:core_1.Inject,args:[core_1.PACKAGE_ROOT_URL]}]}],e}();exports.UrlResolver=UrlResolver,exports.getUrlScheme=getUrlScheme;var _splitRe=lang_1.RegExpWrapper.create("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),_ComponentIndex;!function(e){e[e.Scheme=1]="Scheme",e[e.UserInfo=2]="UserInfo",e[e.Domain=3]="Domain",e[e.Port=4]="Port",e[e.Path=5]="Path",e[e.QueryData=6]="QueryData",e[e.Fragment=7]="Fragment"}(_ComponentIndex||(_ComponentIndex={}));

},{"140":140,"90":90}],122:[function(require,module,exports){
"use strict";function camelCaseToDashCase(r){return lang_1.StringWrapper.replaceAllMapped(r,CAMEL_CASE_REGEXP,function(r){return"-"+r[1].toLowerCase()})}function dashCaseToCamelCase(r){return lang_1.StringWrapper.replaceAllMapped(r,DASH_CASE_REGEXP,function(r){return r[1].toUpperCase()})}function splitAtColon(r,t){var e=lang_1.StringWrapper.split(r.trim(),/\s*:\s*/g);return e.length>1?e:t}function sanitizeIdentifier(r){return lang_1.StringWrapper.replaceAll(r,/\W/g,"_")}function visitValue(r,t,e){return lang_1.isArray(r)?t.visitArray(r,e):lang_1.isStrictStringMap(r)?t.visitStringMap(r,e):lang_1.isBlank(r)||lang_1.isPrimitive(r)?t.visitPrimitive(r,e):t.visitOther(r,e)}function assetUrl(r,t,e){return void 0===t&&(t=null),void 0===e&&(e="src"),lang_1.IS_DART?null==t?"asset:angular2/"+r+"/"+r+".dart":"asset:angular2/lib/"+r+"/src/"+t+".dart":null==t?"asset:@angular/lib/"+r+"/index":"asset:@angular/lib/"+r+"/src/"+t}var lang_1=require(90),collection_1=require(87);exports.MODULE_SUFFIX=lang_1.IS_DART?".dart":"";var CAMEL_CASE_REGEXP=/([A-Z])/g,DASH_CASE_REGEXP=/-([a-z])/g;exports.camelCaseToDashCase=camelCaseToDashCase,exports.dashCaseToCamelCase=dashCaseToCamelCase,exports.splitAtColon=splitAtColon,exports.sanitizeIdentifier=sanitizeIdentifier,exports.visitValue=visitValue;var ValueTransformer=function(){function r(){}return r.prototype.visitArray=function(r,t){var e=this;return r.map(function(r){return visitValue(r,e,t)})},r.prototype.visitStringMap=function(r,t){var e=this,a={};return collection_1.StringMapWrapper.forEach(r,function(r,i){a[i]=visitValue(r,e,t)}),a},r.prototype.visitPrimitive=function(r,t){return r},r.prototype.visitOther=function(r,t){return r},r}();exports.ValueTransformer=ValueTransformer,exports.assetUrl=assetUrl;

},{"87":87,"90":90}],123:[function(require,module,exports){
"use strict";var CompileBinding=function(){function i(i,n){this.node=i,this.sourceAst=n}return i}();exports.CompileBinding=CompileBinding;

},{}],124:[function(require,module,exports){
"use strict";function createInjectInternalCondition(e,t,i,n){var r;return r=t>0?o.literal(e).lowerEquals(constants_1.InjectMethodVars.requestNodeIndex).and(constants_1.InjectMethodVars.requestNodeIndex.lowerEquals(o.literal(e+t))):o.literal(e).identical(constants_1.InjectMethodVars.requestNodeIndex),new o.IfStmt(constants_1.InjectMethodVars.token.identical(util_1.createDiTokenExpression(i.token)).and(r),[new o.ReturnStatement(n)])}function createProviderProperty(e,t,i,n,r,s){var a,l,d=s.view;if(n?(a=o.literalArr(i),l=new o.ArrayType(o.DYNAMIC_TYPE)):(a=i[0],l=i[0].type),lang_1.isBlank(l)&&(l=o.DYNAMIC_TYPE),r)d.fields.push(new o.ClassField(e,l)),d.createMethod.addStmt(o.THIS_EXPR.prop(e).set(a).toStmt());else{var p="_"+e;d.fields.push(new o.ClassField(p,l));var u=new compile_method_1.CompileMethod(d);u.resetDebugInfo(s.nodeIndex,s.sourceAst),u.addStmt(new o.IfStmt(o.THIS_EXPR.prop(p).isBlank(),[o.THIS_EXPR.prop(p).set(a).toStmt()])),u.addStmt(new o.ReturnStatement(o.THIS_EXPR.prop(p))),d.getters.push(new o.ClassGetter(e,u.finish(),l))}return o.THIS_EXPR.prop(e)}function _convertValueToOutputAst(e){return util_2.visitValue(e,new _ValueOutputAstTransformer,null)}var __extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},core_1=require(140),lang_1=require(90),collection_1=require(87),o=require(103),identifiers_1=require(96),constants_1=require(129),template_ast_1=require(118),compile_metadata_1=require(76),util_1=require(134),compile_query_1=require(127),compile_method_1=require(125),util_2=require(122),CompileNode=function(){function e(e,t,i,n,r){this.parent=e,this.view=t,this.nodeIndex=i,this.renderNode=n,this.sourceAst=r}return e.prototype.isNull=function(){return lang_1.isBlank(this.renderNode)},e.prototype.isRootElement=function(){return this.view!=this.parent.view},e}();exports.CompileNode=CompileNode;var CompileElement=function(e){function t(t,i,n,r,s,a,l,d,p,u,c){var _=this;e.call(this,t,i,n,r,s),this.component=a,this._directives=l,this._resolvedProvidersArray=d,this.hasViewContainer=p,this.hasEmbeddedView=u,this._compViewExpr=null,this._instances=new compile_metadata_1.CompileTokenMap,this._queryCount=0,this._queries=new compile_metadata_1.CompileTokenMap,this._componentConstructorViewQueryLists=[],this.contentNodesByNgContentIndex=null,this.referenceTokens={},c.forEach(function(e){return _.referenceTokens[e.name]=e.value}),this.elementRef=o.importExpr(identifiers_1.Identifiers.ElementRef).instantiate([this.renderNode]),this._instances.add(identifiers_1.identifierToken(identifiers_1.Identifiers.ElementRef),this.elementRef),this.injector=o.THIS_EXPR.callMethod("injector",[o.literal(this.nodeIndex)]),this._instances.add(identifiers_1.identifierToken(identifiers_1.Identifiers.Injector),this.injector),this._instances.add(identifiers_1.identifierToken(identifiers_1.Identifiers.Renderer),o.THIS_EXPR.prop("renderer")),(this.hasViewContainer||this.hasEmbeddedView||lang_1.isPresent(this.component))&&this._createAppElement()}return __extends(t,e),t.createNull=function(){return new t(null,null,null,null,null,null,[],[],!1,!1,[])},t.prototype._createAppElement=function(){var e="_appEl_"+this.nodeIndex,t=this.isRootElement()?null:this.parent.nodeIndex;this.view.fields.push(new o.ClassField(e,o.importType(identifiers_1.Identifiers.AppElement),[o.StmtModifier.Private]));var i=o.THIS_EXPR.prop(e).set(o.importExpr(identifiers_1.Identifiers.AppElement).instantiate([o.literal(this.nodeIndex),o.literal(t),o.THIS_EXPR,this.renderNode])).toStmt();this.view.createMethod.addStmt(i),this.appElement=o.THIS_EXPR.prop(e),this._instances.add(identifiers_1.identifierToken(identifiers_1.Identifiers.AppElement),this.appElement)},t.prototype.setComponentView=function(e){this._compViewExpr=e,this.contentNodesByNgContentIndex=collection_1.ListWrapper.createFixedSize(this.component.template.ngContentSelectors.length);for(var t=0;t<this.contentNodesByNgContentIndex.length;t++)this.contentNodesByNgContentIndex[t]=[]},t.prototype.setEmbeddedView=function(e){if(this.embeddedView=e,lang_1.isPresent(e)){var t=o.importExpr(identifiers_1.Identifiers.TemplateRef_).instantiate([this.appElement,this.embeddedView.viewFactory]),i=new compile_metadata_1.CompileProviderMetadata({token:identifiers_1.identifierToken(identifiers_1.Identifiers.TemplateRef),useValue:t});this._resolvedProvidersArray.unshift(new template_ast_1.ProviderAst(i.token,!1,!0,[i],template_ast_1.ProviderAstType.Builtin,this.sourceAst.sourceSpan))}},t.prototype.beforeChildren=function(){var e=this;this.hasViewContainer&&this._instances.add(identifiers_1.identifierToken(identifiers_1.Identifiers.ViewContainerRef),this.appElement.prop("vcRef")),this._resolvedProviders=new compile_metadata_1.CompileTokenMap,this._resolvedProvidersArray.forEach(function(t){return e._resolvedProviders.add(t.token,t)}),this._resolvedProviders.values().forEach(function(t){var i=t.providers.map(function(i){if(lang_1.isPresent(i.useExisting))return e._getDependency(t.providerType,new compile_metadata_1.CompileDiDependencyMetadata({token:i.useExisting}));if(lang_1.isPresent(i.useFactory)){var n=lang_1.isPresent(i.deps)?i.deps:i.useFactory.diDeps,r=n.map(function(i){return e._getDependency(t.providerType,i)});return o.importExpr(i.useFactory).callFn(r)}if(lang_1.isPresent(i.useClass)){var n=lang_1.isPresent(i.deps)?i.deps:i.useClass.diDeps,r=n.map(function(i){return e._getDependency(t.providerType,i)});return o.importExpr(i.useClass).instantiate(r,o.importType(i.useClass))}return _convertValueToOutputAst(i.useValue)}),n="_"+t.token.name+"_"+e.nodeIndex+"_"+e._instances.size,r=createProviderProperty(n,t,i,t.multiProvider,t.eager,e);e._instances.add(t.token,r)}),this.directiveInstances=this._directives.map(function(t){return e._instances.get(identifiers_1.identifierToken(t.type))});for(var t=0;t<this.directiveInstances.length;t++){var i=this.directiveInstances[t],n=this._directives[t];n.queries.forEach(function(t){e._addQuery(t,i)})}var r=[];if(this._resolvedProviders.values().forEach(function(t){var i=e._getQueriesFor(t.token);collection_1.ListWrapper.addAll(r,i.map(function(e){return new _QueryWithRead(e,t.token)}))}),collection_1.StringMapWrapper.forEach(this.referenceTokens,function(t,i){var n,o=e.referenceTokens[i];n=lang_1.isPresent(o)?e._instances.get(o):e.renderNode,e.view.locals.set(i,n);var s=new compile_metadata_1.CompileTokenMetadata({value:i});collection_1.ListWrapper.addAll(r,e._getQueriesFor(s).map(function(e){return new _QueryWithRead(e,s)}))}),r.forEach(function(t){var i;if(lang_1.isPresent(t.read.identifier))i=e._instances.get(t.read);else{var n=e.referenceTokens[t.read.value];i=lang_1.isPresent(n)?e._instances.get(n):e.elementRef}lang_1.isPresent(i)&&t.query.addValue(i,e.view)}),lang_1.isPresent(this.component)){var s=lang_1.isPresent(this.component)?o.literalArr(this._componentConstructorViewQueryLists):o.NULL_EXPR,a=lang_1.isPresent(this.getComponent())?this.getComponent():o.NULL_EXPR;this.view.createMethod.addStmt(this.appElement.callMethod("initComponent",[a,s,this._compViewExpr]).toStmt())}},t.prototype.afterChildren=function(e){var t=this;this._resolvedProviders.values().forEach(function(i){var n=t._instances.get(i.token),r=i.providerType===template_ast_1.ProviderAstType.PrivateService?0:e;t.view.injectorGetMethod.addStmt(createInjectInternalCondition(t.nodeIndex,r,i,n))}),this._queries.values().forEach(function(e){return e.forEach(function(e){return e.afterChildren(t.view.updateContentQueriesMethod)})})},t.prototype.addContentNode=function(e,t){this.contentNodesByNgContentIndex[e].push(t)},t.prototype.getComponent=function(){return lang_1.isPresent(this.component)?this._instances.get(identifiers_1.identifierToken(this.component.type)):null},t.prototype.getProviderTokens=function(){return this._resolvedProviders.values().map(function(e){return util_1.createDiTokenExpression(e.token)})},t.prototype._getQueriesFor=function(e){for(var t,i=[],n=this,r=0;!n.isNull();)t=n._queries.get(e),lang_1.isPresent(t)&&collection_1.ListWrapper.addAll(i,t.filter(function(e){return e.meta.descendants||1>=r})),n._directives.length>0&&r++,n=n.parent;return t=this.view.componentView.viewQueries.get(e),lang_1.isPresent(t)&&collection_1.ListWrapper.addAll(i,t),i},t.prototype._addQuery=function(e,t){var i="_query_"+e.selectors[0].name+"_"+this.nodeIndex+"_"+this._queryCount++,n=compile_query_1.createQueryList(e,t,i,this.view),r=new compile_query_1.CompileQuery(e,n,t,this.view);return compile_query_1.addQueryToTokenMap(this._queries,r),r},t.prototype._getLocalDependency=function(e,t){var i=null;if(lang_1.isBlank(i)&&lang_1.isPresent(t.query)&&(i=this._addQuery(t.query,null).queryList),lang_1.isBlank(i)&&lang_1.isPresent(t.viewQuery)&&(i=compile_query_1.createQueryList(t.viewQuery,null,"_viewQuery_"+t.viewQuery.selectors[0].name+"_"+this.nodeIndex+"_"+this._componentConstructorViewQueryLists.length,this.view),this._componentConstructorViewQueryLists.push(i)),lang_1.isPresent(t.token)){if(lang_1.isBlank(i)&&t.token.equalsTo(identifiers_1.identifierToken(identifiers_1.Identifiers.ChangeDetectorRef)))return e===template_ast_1.ProviderAstType.Component?this._compViewExpr.prop("ref"):util_1.getPropertyInView(o.THIS_EXPR.prop("ref"),this.view,this.view.componentView);lang_1.isBlank(i)&&(i=this._instances.get(t.token))}return i},t.prototype._getDependency=function(e,t){var i=this,n=null;for(t.isValue&&(n=o.literal(t.value)),lang_1.isBlank(n)&&!t.isSkipSelf&&(n=this._getLocalDependency(e,t));lang_1.isBlank(n)&&!i.parent.isNull();)i=i.parent,n=i._getLocalDependency(template_ast_1.ProviderAstType.PublicService,new compile_metadata_1.CompileDiDependencyMetadata({token:t.token}));return lang_1.isBlank(n)&&(n=util_1.injectFromViewParentInjector(t.token,t.isOptional)),lang_1.isBlank(n)&&(n=o.NULL_EXPR),util_1.getPropertyInView(n,this.view,i.view)},t}(CompileNode);exports.CompileElement=CompileElement;var _QueryWithRead=function(){function e(e,t){this.query=e,this.read=lang_1.isPresent(e.meta.read)?e.meta.read:t}return e}(),_ValueOutputAstTransformer=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.visitArray=function(e,t){var i=this;return o.literalArr(e.map(function(e){return util_2.visitValue(e,i,t)}))},t.prototype.visitStringMap=function(e,t){var i=this,n=[];return collection_1.StringMapWrapper.forEach(e,function(e,r){n.push([r,util_2.visitValue(e,i,t)])}),o.literalMap(n)},t.prototype.visitPrimitive=function(e,t){return o.literal(e)},t.prototype.visitOther=function(e,t){if(e instanceof compile_metadata_1.CompileIdentifierMetadata)return o.importExpr(e);if(e instanceof o.Expression)return e;throw new core_1.BaseException("Illegal state: Don't now how to compile value "+e)},t}(util_2.ValueTransformer);

},{"103":103,"118":118,"122":122,"125":125,"127":127,"129":129,"134":134,"140":140,"76":76,"87":87,"90":90,"96":96}],125:[function(require,module,exports){
"use strict";var lang_1=require(90),collection_1=require(87),o=require(103),_DebugState=function(){function t(t,e){this.nodeIndex=t,this.sourceAst=e}return t}(),NULL_DEBUG_STATE=new _DebugState(null,null),CompileMethod=function(){function t(t){this._view=t,this._newState=NULL_DEBUG_STATE,this._currState=NULL_DEBUG_STATE,this._bodyStatements=[],this._debugEnabled=this._view.genConfig.genDebugInfo}return t.prototype._updateDebugContextIfNeeded=function(){if(this._newState.nodeIndex!==this._currState.nodeIndex||this._newState.sourceAst!==this._currState.sourceAst){var t=this._updateDebugContext(this._newState);lang_1.isPresent(t)&&this._bodyStatements.push(t.toStmt())}},t.prototype._updateDebugContext=function(t){if(this._currState=this._newState=t,this._debugEnabled){var e=lang_1.isPresent(t.sourceAst)?t.sourceAst.sourceSpan.start:null;return o.THIS_EXPR.callMethod("debug",[o.literal(t.nodeIndex),lang_1.isPresent(e)?o.literal(e.line):o.NULL_EXPR,lang_1.isPresent(e)?o.literal(e.col):o.NULL_EXPR])}return null},t.prototype.resetDebugInfoExpr=function(t,e){var n=this._updateDebugContext(new _DebugState(t,e));return lang_1.isPresent(n)?n:o.NULL_EXPR},t.prototype.resetDebugInfo=function(t,e){this._newState=new _DebugState(t,e)},t.prototype.addStmt=function(t){this._updateDebugContextIfNeeded(),this._bodyStatements.push(t)},t.prototype.addStmts=function(t){this._updateDebugContextIfNeeded(),collection_1.ListWrapper.addAll(this._bodyStatements,t)},t.prototype.finish=function(){return this._bodyStatements},t.prototype.isEmpty=function(){return 0===this._bodyStatements.length},t}();exports.CompileMethod=CompileMethod;

},{"103":103,"87":87,"90":90}],126:[function(require,module,exports){
"use strict";function _findPipeMeta(e,t){for(var i=null,n=e.pipeMetas.length-1;n>=0;n--){var r=e.pipeMetas[n];if(r.name==t){i=r;break}}if(lang_1.isBlank(i))throw new exceptions_1.BaseException("Illegal state: Could not find pipe "+t+" although the parser should have detected this error!");return i}var lang_1=require(90),exceptions_1=require(89),o=require(103),identifiers_1=require(96),util_1=require(134),_PurePipeProxy=function(){function e(e,t,i){this.view=e,this.instance=t,this.argCount=i}return e}(),CompilePipe=function(){function e(e,t){this.view=e,this.meta=t,this._purePipeProxies=[],this.instance=o.THIS_EXPR.prop("_pipe_"+t.name+"_"+e.pipeCount++)}return e.call=function(t,i,n){var r,o=t.componentView,p=_findPipeMeta(o,i);return p.pure?(r=o.purePipes.get(i),lang_1.isBlank(r)&&(r=new e(o,p),o.purePipes.set(i,r),o.pipes.push(r))):(r=new e(t,p),t.pipes.push(r)),r._call(t,n)},Object.defineProperty(e.prototype,"pure",{get:function(){return this.meta.pure},enumerable:!0,configurable:!0}),e.prototype.create=function(){var e=this,t=this.meta.type.diDeps.map(function(t){return t.token.equalsTo(identifiers_1.identifierToken(identifiers_1.Identifiers.ChangeDetectorRef))?util_1.getPropertyInView(o.THIS_EXPR.prop("ref"),e.view,e.view.componentView):util_1.injectFromViewParentInjector(t.token,!1)});this.view.fields.push(new o.ClassField(this.instance.name,o.importType(this.meta.type))),this.view.createMethod.resetDebugInfo(null,null),this.view.createMethod.addStmt(o.THIS_EXPR.prop(this.instance.name).set(o.importExpr(this.meta.type).instantiate(t)).toStmt()),this._purePipeProxies.forEach(function(t){var i=util_1.getPropertyInView(e.instance,t.view,e.view);util_1.createPureProxy(i.prop("transform").callMethod(o.BuiltinMethod.bind,[i]),t.argCount,t.instance,t.view)})},e.prototype._call=function(e,t){if(this.meta.pure){var i=new _PurePipeProxy(e,o.THIS_EXPR.prop(this.instance.name+"_"+this._purePipeProxies.length),t.length);return this._purePipeProxies.push(i),o.importExpr(identifiers_1.Identifiers.castByValue).callFn([i.instance,util_1.getPropertyInView(this.instance.prop("transform"),e,this.view)]).callFn(t)}return util_1.getPropertyInView(this.instance,e,this.view).callMethod("transform",t)},e}();exports.CompilePipe=CompilePipe;

},{"103":103,"134":134,"89":89,"90":90,"96":96}],127:[function(require,module,exports){
"use strict";function createQueryValues(e){return collection_1.ListWrapper.flatten(e.values.map(function(e){return e instanceof ViewQueryValues?mapNestedViews(e.view.declarationElement.appElement,e.view,createQueryValues(e)):e}))}function mapNestedViews(e,t,i){var r=i.map(function(e){return o.replaceVarInExpression(o.THIS_EXPR.name,o.variable("nestedView"),e)});return e.callMethod("mapNestedViews",[o.variable(t.className),o.fn([new o.FnParam("nestedView",t.classType)],[new o.ReturnStatement(o.literalArr(r))])])}function createQueryList(e,t,i,r){r.fields.push(new o.ClassField(i,o.importType(identifiers_1.Identifiers.QueryList)));var s=o.THIS_EXPR.prop(i);return r.createMethod.addStmt(o.THIS_EXPR.prop(i).set(o.importExpr(identifiers_1.Identifiers.QueryList).instantiate([])).toStmt()),s}function addQueryToTokenMap(e,t){t.meta.selectors.forEach(function(i){var r=e.get(i);lang_1.isBlank(r)&&(r=[],e.add(i,r)),r.push(t)})}var lang_1=require(90),collection_1=require(87),o=require(103),identifiers_1=require(96),util_1=require(134),ViewQueryValues=function(){function e(e,t){this.view=e,this.values=t}return e}(),CompileQuery=function(){function e(e,t,i,r){this.meta=e,this.queryList=t,this.ownerDirectiveExpression=i,this.view=r,this._values=new ViewQueryValues(r,[])}return e.prototype.addValue=function(e,t){for(var i=t,r=[];lang_1.isPresent(i)&&i!==this.view;){var s=i.declarationElement;r.unshift(s),i=s.view}var a=util_1.getPropertyInView(this.queryList,t,this.view),n=this._values;r.forEach(function(e){var t=n.values.length>0?n.values[n.values.length-1]:null;if(t instanceof ViewQueryValues&&t.view===e.embeddedView)n=t;else{var i=new ViewQueryValues(e.embeddedView,[]);n.values.push(i),n=i}}),n.values.push(e),r.length>0&&t.dirtyParentQueriesMethod.addStmt(a.callMethod("setDirty",[]).toStmt())},e.prototype.afterChildren=function(e){var t=createQueryValues(this._values),i=[this.queryList.callMethod("reset",[o.literalArr(t)]).toStmt()];if(lang_1.isPresent(this.ownerDirectiveExpression)){var r=this.meta.first?this.queryList.prop("first"):this.queryList;i.push(this.ownerDirectiveExpression.prop(this.meta.propertyName).set(r).toStmt())}this.meta.first||i.push(this.queryList.callMethod("notifyOnChanges",[]).toStmt()),e.addStmt(new o.IfStmt(this.queryList.prop("dirty"),i))},e}();exports.CompileQuery=CompileQuery,exports.createQueryList=createQueryList,exports.addQueryToTokenMap=addQueryToTokenMap;

},{"103":103,"134":134,"87":87,"90":90,"96":96}],128:[function(require,module,exports){
"use strict";function getViewType(e,t){return t>0?core_private_1.ViewType.EMBEDDED:e.type.isHost?core_private_1.ViewType.HOST:core_private_1.ViewType.COMPONENT}var core_private_1=require(72),lang_1=require(90),collection_1=require(87),o=require(103),constants_1=require(129),compile_query_1=require(127),compile_method_1=require(125),compile_pipe_1=require(126),compile_metadata_1=require(76),util_1=require(134),identifiers_1=require(96),CompileView=function(){function e(e,t,i,r,n,s,a){var p=this;this.component=e,this.genConfig=t,this.pipeMetas=i,this.styles=r,this.viewIndex=n,this.declarationElement=s,this.templateVariableBindings=a,this.nodes=[],this.rootNodesOrAppElements=[],this.bindings=[],this.classStatements=[],this.eventHandlerMethods=[],this.fields=[],this.getters=[],this.disposables=[],this.subscriptions=[],this.purePipes=new Map,this.pipes=[],this.locals=new Map,this.literalArrayCount=0,this.literalMapCount=0,this.pipeCount=0,this.createMethod=new compile_method_1.CompileMethod(this),this.injectorGetMethod=new compile_method_1.CompileMethod(this),this.updateContentQueriesMethod=new compile_method_1.CompileMethod(this),this.dirtyParentQueriesMethod=new compile_method_1.CompileMethod(this),this.updateViewQueriesMethod=new compile_method_1.CompileMethod(this),this.detectChangesInInputsMethod=new compile_method_1.CompileMethod(this),this.detectChangesRenderPropertiesMethod=new compile_method_1.CompileMethod(this),this.afterContentLifecycleCallbacksMethod=new compile_method_1.CompileMethod(this),this.afterViewLifecycleCallbacksMethod=new compile_method_1.CompileMethod(this),this.destroyMethod=new compile_method_1.CompileMethod(this),this.viewType=getViewType(e,n),this.className="_View_"+e.type.name+n,this.classType=o.importType(new compile_metadata_1.CompileIdentifierMetadata({name:this.className})),this.viewFactory=o.variable(util_1.getViewFactoryName(e,n)),this.viewType===core_private_1.ViewType.COMPONENT||this.viewType===core_private_1.ViewType.HOST?this.componentView=this:this.componentView=this.declarationElement.view.componentView,this.componentContext=util_1.getPropertyInView(o.THIS_EXPR.prop("context"),this,this.componentView);var l=new compile_metadata_1.CompileTokenMap;if(this.viewType===core_private_1.ViewType.COMPONENT){var h=o.THIS_EXPR.prop("context");collection_1.ListWrapper.forEachWithIndex(this.component.viewQueries,function(e,t){var i="_viewQuery_"+e.selectors[0].name+"_"+t,o=compile_query_1.createQueryList(e,h,i,p),r=new compile_query_1.CompileQuery(e,o,h,p);compile_query_1.addQueryToTokenMap(l,r)});var c=0;this.component.type.diDeps.forEach(function(e){if(lang_1.isPresent(e.viewQuery)){var t=o.THIS_EXPR.prop("declarationAppElement").prop("componentConstructorViewQueries").key(o.literal(c++)),i=new compile_query_1.CompileQuery(e.viewQuery,t,null,p);compile_query_1.addQueryToTokenMap(l,i)}})}this.viewQueries=l,a.forEach(function(e){p.locals.set(e[1],o.THIS_EXPR.prop("context").prop(e[0]))}),this.declarationElement.isNull()||this.declarationElement.setEmbeddedView(this)}return e.prototype.callPipe=function(e,t,i){return compile_pipe_1.CompilePipe.call(this,e,[t].concat(i))},e.prototype.getLocal=function(e){if(e==constants_1.EventHandlerVars.event.name)return constants_1.EventHandlerVars.event;for(var t=this,i=t.locals.get(e);lang_1.isBlank(i)&&lang_1.isPresent(t.declarationElement.view);)t=t.declarationElement.view,i=t.locals.get(e);return lang_1.isPresent(i)?util_1.getPropertyInView(i,this,t):null},e.prototype.createLiteralArray=function(e){if(0===e.length)return o.importExpr(identifiers_1.Identifiers.EMPTY_ARRAY);for(var t=o.THIS_EXPR.prop("_arr_"+this.literalArrayCount++),i=[],r=[],n=0;n<e.length;n++){var s="p"+n;i.push(new o.FnParam(s)),r.push(o.variable(s))}return util_1.createPureProxy(o.fn(i,[new o.ReturnStatement(o.literalArr(r))]),e.length,t,this),t.callFn(e)},e.prototype.createLiteralMap=function(e){if(0===e.length)return o.importExpr(identifiers_1.Identifiers.EMPTY_MAP);for(var t=o.THIS_EXPR.prop("_map_"+this.literalMapCount++),i=[],r=[],n=[],s=0;s<e.length;s++){var a="p"+s;i.push(new o.FnParam(a)),r.push([e[s][0],o.variable(a)]),n.push(e[s][1])}return util_1.createPureProxy(o.fn(i,[new o.ReturnStatement(o.literalMap(r))]),e.length,t,this),t.callFn(n)},e.prototype.afterNodes=function(){var e=this;this.pipes.forEach(function(e){return e.create()}),this.viewQueries.values().forEach(function(t){return t.forEach(function(t){return t.afterChildren(e.updateViewQueriesMethod)})})},e}();exports.CompileView=CompileView;

},{"103":103,"125":125,"126":126,"127":127,"129":129,"134":134,"72":72,"76":76,"87":87,"90":90,"96":96}],129:[function(require,module,exports){
"use strict";function _enumExpression(e,r){if(lang_1.isBlank(r))return o.NULL_EXPR;var t=lang_1.resolveEnumToken(e.runtime,r);return o.importExpr(new compile_metadata_1.CompileIdentifierMetadata({name:e.name+"."+t,moduleUrl:e.moduleUrl,runtime:r}))}var core_1=require(140),core_private_1=require(72),lang_1=require(90),compile_metadata_1=require(76),o=require(103),identifiers_1=require(96),ViewTypeEnum=function(){function e(){}return e.fromValue=function(e){return _enumExpression(identifiers_1.Identifiers.ViewType,e)},e.HOST=e.fromValue(core_private_1.ViewType.HOST),e.COMPONENT=e.fromValue(core_private_1.ViewType.COMPONENT),e.EMBEDDED=e.fromValue(core_private_1.ViewType.EMBEDDED),e}();exports.ViewTypeEnum=ViewTypeEnum;var ViewEncapsulationEnum=function(){function e(){}return e.fromValue=function(e){return _enumExpression(identifiers_1.Identifiers.ViewEncapsulation,e)},e.Emulated=e.fromValue(core_1.ViewEncapsulation.Emulated),e.Native=e.fromValue(core_1.ViewEncapsulation.Native),e.None=e.fromValue(core_1.ViewEncapsulation.None),e}();exports.ViewEncapsulationEnum=ViewEncapsulationEnum;var ChangeDetectorStateEnum=function(){function e(){}return e.fromValue=function(e){return _enumExpression(identifiers_1.Identifiers.ChangeDetectorState,e)},e.NeverChecked=e.fromValue(core_private_1.ChangeDetectorState.NeverChecked),e.CheckedBefore=e.fromValue(core_private_1.ChangeDetectorState.CheckedBefore),e.Errored=e.fromValue(core_private_1.ChangeDetectorState.Errored),e}();exports.ChangeDetectorStateEnum=ChangeDetectorStateEnum;var ChangeDetectionStrategyEnum=function(){function e(){}return e.fromValue=function(e){return _enumExpression(identifiers_1.Identifiers.ChangeDetectionStrategy,e)},e.CheckOnce=e.fromValue(core_1.ChangeDetectionStrategy.CheckOnce),e.Checked=e.fromValue(core_1.ChangeDetectionStrategy.Checked),e.CheckAlways=e.fromValue(core_1.ChangeDetectionStrategy.CheckAlways),e.Detached=e.fromValue(core_1.ChangeDetectionStrategy.Detached),e.OnPush=e.fromValue(core_1.ChangeDetectionStrategy.OnPush),e.Default=e.fromValue(core_1.ChangeDetectionStrategy.Default),e}();exports.ChangeDetectionStrategyEnum=ChangeDetectionStrategyEnum;var ViewConstructorVars=function(){function e(){}return e.viewUtils=o.variable("viewUtils"),e.parentInjector=o.variable("parentInjector"),e.declarationEl=o.variable("declarationEl"),e}();exports.ViewConstructorVars=ViewConstructorVars;var ViewProperties=function(){function e(){}return e.renderer=o.THIS_EXPR.prop("renderer"),e.projectableNodes=o.THIS_EXPR.prop("projectableNodes"),e.viewUtils=o.THIS_EXPR.prop("viewUtils"),e}();exports.ViewProperties=ViewProperties;var EventHandlerVars=function(){function e(){}return e.event=o.variable("$event"),e}();exports.EventHandlerVars=EventHandlerVars;var InjectMethodVars=function(){function e(){}return e.token=o.variable("token"),e.requestNodeIndex=o.variable("requestNodeIndex"),e.notFoundResult=o.variable("notFoundResult"),e}();exports.InjectMethodVars=InjectMethodVars;var DetectChangesVars=function(){function e(){}return e.throwOnChange=o.variable("throwOnChange"),e.changes=o.variable("changes"),e.changed=o.variable("changed"),e.valUnwrapper=o.variable("valUnwrapper"),e}();exports.DetectChangesVars=DetectChangesVars;

},{"103":103,"140":140,"72":72,"76":76,"90":90,"96":96}],130:[function(require,module,exports){
"use strict";function collectEventListeners(e,t,n){var i=[];return e.forEach(function(e){n.view.bindings.push(new compile_binding_1.CompileBinding(n,e));var t=CompileEventListener.getOrCreate(n,e.target,e.name,i);t.addAction(e,null,null)}),collection_1.ListWrapper.forEachWithIndex(t,function(e,t){var o=n.directiveInstances[t];e.hostEvents.forEach(function(t){n.view.bindings.push(new compile_binding_1.CompileBinding(n,t));var r=CompileEventListener.getOrCreate(n,t.target,t.name,i);r.addAction(t,e.directive,o)})}),i.forEach(function(e){return e.finishMethod()}),i}function bindDirectiveOutputs(e,t,n){collection_1.StringMapWrapper.forEach(e.directive.outputs,function(e,i){n.filter(function(t){return t.eventName==e}).forEach(function(e){e.listenToDirective(t,i)})})}function bindRenderOutputs(e){e.forEach(function(e){return e.listenToRenderer()})}function convertStmtIntoExpression(e){return e instanceof o.ExpressionStatement?e.expr:e instanceof o.ReturnStatement?e.value:null}function santitizeEventName(e){return lang_1.StringWrapper.replaceAll(e,/[^a-zA-Z_]/g,"_")}var lang_1=require(90),collection_1=require(87),constants_1=require(129),o=require(103),compile_method_1=require(125),expression_converter_1=require(131),compile_binding_1=require(123),CompileEventListener=function(){function e(e,t,n,i){this.compileElement=e,this.eventTarget=t,this.eventName=n,this._hasComponentHostListener=!1,this._actionResultExprs=[],this._method=new compile_method_1.CompileMethod(e.view),this._methodName="_handle_"+santitizeEventName(n)+"_"+e.nodeIndex+"_"+i,this._eventParam=new o.FnParam(constants_1.EventHandlerVars.event.name,o.importType(this.compileElement.view.genConfig.renderTypes.renderEvent))}return e.getOrCreate=function(t,n,i,o){var r=o.find(function(e){return e.eventTarget==n&&e.eventName==i});return lang_1.isBlank(r)&&(r=new e(t,n,i,o.length),o.push(r)),r},e.prototype.addAction=function(e,t,n){lang_1.isPresent(t)&&t.isComponent&&(this._hasComponentHostListener=!0),this._method.resetDebugInfo(this.compileElement.nodeIndex,e);var i=lang_1.isPresent(n)?n:this.compileElement.view.componentContext,r=expression_converter_1.convertCdStatementToIr(this.compileElement.view,i,e.handler),s=r.length-1;if(s>=0){var l=r[s],a=convertStmtIntoExpression(l),c=o.variable("pd_"+this._actionResultExprs.length);this._actionResultExprs.push(c),lang_1.isPresent(a)&&(r[s]=c.set(a.cast(o.DYNAMIC_TYPE).notIdentical(o.literal(!1))).toDeclStmt(null,[o.StmtModifier.Final]))}this._method.addStmts(r)},e.prototype.finishMethod=function(){var e=this._hasComponentHostListener?this.compileElement.appElement.prop("componentView"):o.THIS_EXPR,t=o.literal(!0);this._actionResultExprs.forEach(function(e){t=t.and(e)});var n=[e.callMethod("markPathToRootAsCheckOnce",[]).toStmt()].concat(this._method.finish()).concat([new o.ReturnStatement(t)]);this.compileElement.view.eventHandlerMethods.push(new o.ClassMethod(this._methodName,[this._eventParam],n,o.BOOL_TYPE,[o.StmtModifier.Private]))},e.prototype.listenToRenderer=function(){var e,t=o.THIS_EXPR.callMethod("eventHandler",[o.THIS_EXPR.prop(this._methodName).callMethod(o.BuiltinMethod.bind,[o.THIS_EXPR])]);e=lang_1.isPresent(this.eventTarget)?constants_1.ViewProperties.renderer.callMethod("listenGlobal",[o.literal(this.eventTarget),o.literal(this.eventName),t]):constants_1.ViewProperties.renderer.callMethod("listen",[this.compileElement.renderNode,o.literal(this.eventName),t]);var n=o.variable("disposable_"+this.compileElement.view.disposables.length);this.compileElement.view.disposables.push(n),this.compileElement.view.createMethod.addStmt(n.set(e).toDeclStmt(o.FUNCTION_TYPE,[o.StmtModifier.Private]))},e.prototype.listenToDirective=function(e,t){var n=o.variable("subscription_"+this.compileElement.view.subscriptions.length);this.compileElement.view.subscriptions.push(n);var i=o.THIS_EXPR.callMethod("eventHandler",[o.THIS_EXPR.prop(this._methodName).callMethod(o.BuiltinMethod.bind,[o.THIS_EXPR])]);this.compileElement.view.createMethod.addStmt(n.set(e.prop(t).callMethod(o.BuiltinMethod.SubscribeObservable,[i])).toDeclStmt(null,[o.StmtModifier.Final]))},e}();exports.CompileEventListener=CompileEventListener,exports.collectEventListeners=collectEventListeners,exports.bindDirectiveOutputs=bindDirectiveOutputs,exports.bindRenderOutputs=bindRenderOutputs;

},{"103":103,"123":123,"125":125,"129":129,"131":131,"87":87,"90":90}],131:[function(require,module,exports){
"use strict";function convertCdExpressionToIr(e,t,i,r){var o=new _AstToIrVisitor(e,t,r),n=i.visit(o,_Mode.Expression);return new ExpressionWithWrappedValueInfo(n,o.needsValueUnwrapper)}function convertCdStatementToIr(e,t,i){var r=new _AstToIrVisitor(e,t,null),o=[];return flattenStatements(i.visit(r,_Mode.Statement),o),o}function ensureStatementMode(e,t){if(e!==_Mode.Statement)throw new exceptions_1.BaseException("Expected a statement, but saw "+t)}function ensureExpressionMode(e,t){if(e!==_Mode.Expression)throw new exceptions_1.BaseException("Expected an expression, but saw "+t)}function convertToStatementIfNeeded(e,t){return e===_Mode.Statement?t.toStmt():t}function flattenStatements(e,t){lang_1.isArray(e)?e.forEach(function(e){return flattenStatements(e,t)}):t.push(e)}var exceptions_1=require(89),lang_1=require(90),o=require(103),identifiers_1=require(96),IMPLICIT_RECEIVER=o.variable("#implicit"),ExpressionWithWrappedValueInfo=function(){function e(e,t){this.expression=e,this.needsValueUnwrapper=t}return e}();exports.ExpressionWithWrappedValueInfo=ExpressionWithWrappedValueInfo,exports.convertCdExpressionToIr=convertCdExpressionToIr,exports.convertCdStatementToIr=convertCdStatementToIr;var _Mode;!function(e){e[e.Statement=0]="Statement",e[e.Expression=1]="Expression"}(_Mode||(_Mode={}));var _AstToIrVisitor=function(){function e(e,t,i){this._nameResolver=e,this._implicitReceiver=t,this._valueUnwrapper=i,this.needsValueUnwrapper=!1}return e.prototype.visitBinary=function(e,t){var i;switch(e.operation){case"+":i=o.BinaryOperator.Plus;break;case"-":i=o.BinaryOperator.Minus;break;case"*":i=o.BinaryOperator.Multiply;break;case"/":i=o.BinaryOperator.Divide;break;case"%":i=o.BinaryOperator.Modulo;break;case"&&":i=o.BinaryOperator.And;break;case"||":i=o.BinaryOperator.Or;break;case"==":i=o.BinaryOperator.Equals;break;case"!=":i=o.BinaryOperator.NotEquals;break;case"===":i=o.BinaryOperator.Identical;break;case"!==":i=o.BinaryOperator.NotIdentical;break;case"<":i=o.BinaryOperator.Lower;break;case">":i=o.BinaryOperator.Bigger;break;case"<=":i=o.BinaryOperator.LowerEquals;break;case">=":i=o.BinaryOperator.BiggerEquals;break;default:throw new exceptions_1.BaseException("Unsupported operation "+e.operation)}return convertToStatementIfNeeded(t,new o.BinaryOperatorExpr(i,e.left.visit(this,_Mode.Expression),e.right.visit(this,_Mode.Expression)))},e.prototype.visitChain=function(e,t){return ensureStatementMode(t,e),this.visitAll(e.expressions,t)},e.prototype.visitConditional=function(e,t){var i=e.condition.visit(this,_Mode.Expression);return convertToStatementIfNeeded(t,i.conditional(e.trueExp.visit(this,_Mode.Expression),e.falseExp.visit(this,_Mode.Expression)))},e.prototype.visitPipe=function(e,t){var i=e.exp.visit(this,_Mode.Expression),r=this.visitAll(e.args,_Mode.Expression),o=this._nameResolver.callPipe(e.name,i,r);return this.needsValueUnwrapper=!0,convertToStatementIfNeeded(t,this._valueUnwrapper.callMethod("unwrap",[o]))},e.prototype.visitFunctionCall=function(e,t){return convertToStatementIfNeeded(t,e.target.visit(this,_Mode.Expression).callFn(this.visitAll(e.args,_Mode.Expression)))},e.prototype.visitImplicitReceiver=function(e,t){return ensureExpressionMode(t,e),IMPLICIT_RECEIVER},e.prototype.visitInterpolation=function(e,t){ensureExpressionMode(t,e);for(var i=[o.literal(e.expressions.length)],r=0;r<e.strings.length-1;r++)i.push(o.literal(e.strings[r])),i.push(e.expressions[r].visit(this,_Mode.Expression));return i.push(o.literal(e.strings[e.strings.length-1])),o.importExpr(identifiers_1.Identifiers.interpolate).callFn(i)},e.prototype.visitKeyedRead=function(e,t){return convertToStatementIfNeeded(t,e.obj.visit(this,_Mode.Expression).key(e.key.visit(this,_Mode.Expression)))},e.prototype.visitKeyedWrite=function(e,t){var i=e.obj.visit(this,_Mode.Expression),r=e.key.visit(this,_Mode.Expression),o=e.value.visit(this,_Mode.Expression);return convertToStatementIfNeeded(t,i.key(r).set(o))},e.prototype.visitLiteralArray=function(e,t){return convertToStatementIfNeeded(t,this._nameResolver.createLiteralArray(this.visitAll(e.expressions,t)))},e.prototype.visitLiteralMap=function(e,t){for(var i=[],r=0;r<e.keys.length;r++)i.push([e.keys[r],e.values[r].visit(this,_Mode.Expression)]);return convertToStatementIfNeeded(t,this._nameResolver.createLiteralMap(i))},e.prototype.visitLiteralPrimitive=function(e,t){return convertToStatementIfNeeded(t,o.literal(e.value))},e.prototype.visitMethodCall=function(e,t){var i=this.visitAll(e.args,_Mode.Expression),r=null,o=e.receiver.visit(this,_Mode.Expression);if(o===IMPLICIT_RECEIVER){var n=this._nameResolver.getLocal(e.name);lang_1.isPresent(n)?r=n.callFn(i):o=this._implicitReceiver}return lang_1.isBlank(r)&&(r=o.callMethod(e.name,i)),convertToStatementIfNeeded(t,r)},e.prototype.visitPrefixNot=function(e,t){return convertToStatementIfNeeded(t,o.not(e.expression.visit(this,_Mode.Expression)))},e.prototype.visitPropertyRead=function(e,t){var i=null,r=e.receiver.visit(this,_Mode.Expression);return r===IMPLICIT_RECEIVER&&(i=this._nameResolver.getLocal(e.name),lang_1.isBlank(i)&&(r=this._implicitReceiver)),lang_1.isBlank(i)&&(i=r.prop(e.name)),convertToStatementIfNeeded(t,i)},e.prototype.visitPropertyWrite=function(e,t){var i=e.receiver.visit(this,_Mode.Expression);if(i===IMPLICIT_RECEIVER){var r=this._nameResolver.getLocal(e.name);if(lang_1.isPresent(r))throw new exceptions_1.BaseException("Cannot assign to a reference or variable!");i=this._implicitReceiver}return convertToStatementIfNeeded(t,i.prop(e.name).set(e.value.visit(this,_Mode.Expression)))},e.prototype.visitSafePropertyRead=function(e,t){var i=e.receiver.visit(this,_Mode.Expression);return convertToStatementIfNeeded(t,i.isBlank().conditional(o.NULL_EXPR,i.prop(e.name)))},e.prototype.visitSafeMethodCall=function(e,t){var i=e.receiver.visit(this,_Mode.Expression),r=this.visitAll(e.args,_Mode.Expression);return convertToStatementIfNeeded(t,i.isBlank().conditional(o.NULL_EXPR,i.callMethod(e.name,r)))},e.prototype.visitAll=function(e,t){var i=this;return e.map(function(e){return e.visit(i,t)})},e.prototype.visitQuote=function(e,t){throw new exceptions_1.BaseException("Quotes are not supported for evaluation!")},e}();

},{"103":103,"89":89,"90":90,"96":96}],132:[function(require,module,exports){
"use strict";function bindDirectiveDetectChangesLifecycleCallbacks(e,t,c){var i=c.view,n=i.detectChangesInInputsMethod,a=e.directive.lifecycleHooks;-1!==a.indexOf(core_private_1.LifecycleHooks.OnChanges)&&e.inputs.length>0&&n.addStmt(new o.IfStmt(constants_1.DetectChangesVars.changes.notIdentical(o.NULL_EXPR),[t.callMethod("ngOnChanges",[constants_1.DetectChangesVars.changes]).toStmt()])),-1!==a.indexOf(core_private_1.LifecycleHooks.OnInit)&&n.addStmt(new o.IfStmt(STATE_IS_NEVER_CHECKED.and(NOT_THROW_ON_CHANGES),[t.callMethod("ngOnInit",[]).toStmt()])),-1!==a.indexOf(core_private_1.LifecycleHooks.DoCheck)&&n.addStmt(new o.IfStmt(NOT_THROW_ON_CHANGES,[t.callMethod("ngDoCheck",[]).toStmt()]))}function bindDirectiveAfterContentLifecycleCallbacks(e,t,c){var i=c.view,n=e.lifecycleHooks,a=i.afterContentLifecycleCallbacksMethod;a.resetDebugInfo(c.nodeIndex,c.sourceAst),-1!==n.indexOf(core_private_1.LifecycleHooks.AfterContentInit)&&a.addStmt(new o.IfStmt(STATE_IS_NEVER_CHECKED,[t.callMethod("ngAfterContentInit",[]).toStmt()])),-1!==n.indexOf(core_private_1.LifecycleHooks.AfterContentChecked)&&a.addStmt(t.callMethod("ngAfterContentChecked",[]).toStmt())}function bindDirectiveAfterViewLifecycleCallbacks(e,t,c){var i=c.view,n=e.lifecycleHooks,a=i.afterViewLifecycleCallbacksMethod;a.resetDebugInfo(c.nodeIndex,c.sourceAst),-1!==n.indexOf(core_private_1.LifecycleHooks.AfterViewInit)&&a.addStmt(new o.IfStmt(STATE_IS_NEVER_CHECKED,[t.callMethod("ngAfterViewInit",[]).toStmt()])),-1!==n.indexOf(core_private_1.LifecycleHooks.AfterViewChecked)&&a.addStmt(t.callMethod("ngAfterViewChecked",[]).toStmt())}function bindDirectiveDestroyLifecycleCallbacks(e,t,c){var i=c.view.destroyMethod;i.resetDebugInfo(c.nodeIndex,c.sourceAst),-1!==e.lifecycleHooks.indexOf(core_private_1.LifecycleHooks.OnDestroy)&&i.addStmt(t.callMethod("ngOnDestroy",[]).toStmt())}function bindPipeDestroyLifecycleCallbacks(e,t,c){var i=c.destroyMethod;-1!==e.lifecycleHooks.indexOf(core_private_1.LifecycleHooks.OnDestroy)&&i.addStmt(t.callMethod("ngOnDestroy",[]).toStmt())}var core_private_1=require(72),o=require(103),constants_1=require(129),STATE_IS_NEVER_CHECKED=o.THIS_EXPR.prop("cdState").identical(constants_1.ChangeDetectorStateEnum.NeverChecked),NOT_THROW_ON_CHANGES=o.not(constants_1.DetectChangesVars.throwOnChange);exports.bindDirectiveDetectChangesLifecycleCallbacks=bindDirectiveDetectChangesLifecycleCallbacks,exports.bindDirectiveAfterContentLifecycleCallbacks=bindDirectiveAfterContentLifecycleCallbacks,exports.bindDirectiveAfterViewLifecycleCallbacks=bindDirectiveAfterViewLifecycleCallbacks,exports.bindDirectiveDestroyLifecycleCallbacks=bindDirectiveDestroyLifecycleCallbacks,exports.bindPipeDestroyLifecycleCallbacks=bindPipeDestroyLifecycleCallbacks;

},{"103":103,"129":129,"72":72}],133:[function(require,module,exports){
"use strict";function createBindFieldExpr(e){return o.THIS_EXPR.prop("_expr_"+e)}function createCurrValueExpr(e){return o.variable("currVal_"+e)}function bind(e,t,n,r,i,a,s){var d=expression_converter_1.convertCdExpressionToIr(e,i,r,constants_1.DetectChangesVars.valUnwrapper);if(!lang_1.isBlank(d.expression)){if(e.fields.push(new o.ClassField(n.name,null,[o.StmtModifier.Private])),e.createMethod.addStmt(o.THIS_EXPR.prop(n.name).set(o.importExpr(identifiers_1.Identifiers.uninitialized)).toStmt()),d.needsValueUnwrapper){var c=constants_1.DetectChangesVars.valUnwrapper.callMethod("reset",[]).toStmt();s.addStmt(c)}s.addStmt(t.set(d.expression).toDeclStmt(null,[o.StmtModifier.Final]));var p=o.importExpr(identifiers_1.Identifiers.checkBinding).callFn([constants_1.DetectChangesVars.throwOnChange,n,t]);d.needsValueUnwrapper&&(p=constants_1.DetectChangesVars.valUnwrapper.prop("hasWrappedValue").or(p)),s.addStmt(new o.IfStmt(p,a.concat([o.THIS_EXPR.prop(n.name).set(t).toStmt()])))}}function bindRenderText(e,t,n){var r=n.bindings.length;n.bindings.push(new compile_binding_1.CompileBinding(t,e));var i=createCurrValueExpr(r),a=createBindFieldExpr(r);n.detectChangesRenderPropertiesMethod.resetDebugInfo(t.nodeIndex,e),bind(n,i,a,e.value,n.componentContext,[o.THIS_EXPR.prop("renderer").callMethod("setText",[t.renderNode,i]).toStmt()],n.detectChangesRenderPropertiesMethod)}function bindAndWriteToRenderer(e,t,n){var r=n.view,i=n.renderNode;e.forEach(function(e){var a=r.bindings.length;r.bindings.push(new compile_binding_1.CompileBinding(n,e)),r.detectChangesRenderPropertiesMethod.resetDebugInfo(n.nodeIndex,e);var s,d=createBindFieldExpr(a),c=createCurrValueExpr(a),p=sanitizedValue(e,c),l=[];switch(e.type){case template_ast_1.PropertyBindingType.Property:s="setElementProperty",r.genConfig.logBindingUpdate&&l.push(logBindingUpdateStmt(i,e.name,c));break;case template_ast_1.PropertyBindingType.Attribute:s="setElementAttribute",p=p.isBlank().conditional(o.NULL_EXPR,p.callMethod("toString",[]));break;case template_ast_1.PropertyBindingType.Class:s="setElementClass";break;case template_ast_1.PropertyBindingType.Style:s="setElementStyle";var u=p.callMethod("toString",[]);lang_1.isPresent(e.unit)&&(u=u.plus(o.literal(e.unit))),p=p.isBlank().conditional(o.NULL_EXPR,u)}l.push(o.THIS_EXPR.prop("renderer").callMethod(s,[i,o.literal(e.name),p]).toStmt()),bind(r,c,d,e.value,t,l,r.detectChangesRenderPropertiesMethod)})}function sanitizedValue(e,t){var n;switch(e.securityContext){case core_private_1.SecurityContext.NONE:return t;case core_private_1.SecurityContext.HTML:n="HTML";break;case core_private_1.SecurityContext.STYLE:n="STYLE";break;case core_private_1.SecurityContext.SCRIPT:n="SCRIPT";break;case core_private_1.SecurityContext.URL:n="URL";break;case core_private_1.SecurityContext.RESOURCE_URL:n="RESOURCE_URL";break;default:throw new Error("internal error, unexpected SecurityContext "+e.securityContext+".")}var r=constants_1.ViewProperties.viewUtils.prop("sanitizer"),i=[o.importExpr(identifiers_1.Identifiers.SecurityContext).prop(n),t];return r.callMethod("sanitize",i)}function bindRenderInputs(e,t){bindAndWriteToRenderer(e,t.view.componentContext,t)}function bindDirectiveHostProps(e,t,n){bindAndWriteToRenderer(e.hostProperties,t,n)}function bindDirectiveInputs(e,t,n){if(0!==e.inputs.length){var r=n.view,i=r.detectChangesInInputsMethod;i.resetDebugInfo(n.nodeIndex,n.sourceAst);var a=e.directive.lifecycleHooks,s=-1!==a.indexOf(core_private_2.LifecycleHooks.OnChanges),d=e.directive.isComponent&&!core_private_2.isDefaultChangeDetectionStrategy(e.directive.changeDetection);s&&i.addStmt(constants_1.DetectChangesVars.changes.set(o.NULL_EXPR).toStmt()),d&&i.addStmt(constants_1.DetectChangesVars.changed.set(o.literal(!1)).toStmt()),e.inputs.forEach(function(e){var a=r.bindings.length;r.bindings.push(new compile_binding_1.CompileBinding(n,e)),i.resetDebugInfo(n.nodeIndex,e);var c=createBindFieldExpr(a),p=createCurrValueExpr(a),l=[t.prop(e.directiveName).set(p).toStmt()];s&&(l.push(new o.IfStmt(constants_1.DetectChangesVars.changes.identical(o.NULL_EXPR),[constants_1.DetectChangesVars.changes.set(o.literalMap([],new o.MapType(o.importType(identifiers_1.Identifiers.SimpleChange)))).toStmt()])),l.push(constants_1.DetectChangesVars.changes.key(o.literal(e.directiveName)).set(o.importExpr(identifiers_1.Identifiers.SimpleChange).instantiate([c,p])).toStmt())),d&&l.push(constants_1.DetectChangesVars.changed.set(o.literal(!0)).toStmt()),r.genConfig.logBindingUpdate&&l.push(logBindingUpdateStmt(n.renderNode,e.directiveName,p)),bind(r,p,c,e.value,r.componentContext,l,i)}),d&&i.addStmt(new o.IfStmt(constants_1.DetectChangesVars.changed,[n.appElement.prop("componentView").callMethod("markAsCheckOnce",[]).toStmt()]))}}function logBindingUpdateStmt(e,t,n){return o.THIS_EXPR.prop("renderer").callMethod("setBindingDebugInfo",[e,o.literal("ng-reflect-"+util_1.camelCaseToDashCase(t)),n.isBlank().conditional(o.NULL_EXPR,n.callMethod("toString",[]))]).toStmt()}var core_private_1=require(72),core_private_2=require(72),lang_1=require(90),o=require(103),identifiers_1=require(96),constants_1=require(129),template_ast_1=require(118),util_1=require(122),expression_converter_1=require(131),compile_binding_1=require(123);exports.bindRenderText=bindRenderText,exports.bindRenderInputs=bindRenderInputs,exports.bindDirectiveHostProps=bindDirectiveHostProps,exports.bindDirectiveInputs=bindDirectiveInputs;

},{"103":103,"118":118,"122":122,"123":123,"129":129,"131":131,"72":72,"90":90,"96":96}],134:[function(require,module,exports){
"use strict";function getPropertyInView(e,r,t){if(r===t)return e;for(var n=o.THIS_EXPR,i=r;i!==t&&lang_1.isPresent(i.declarationElement.view);)i=i.declarationElement.view,n=n.prop("parent");if(i!==t)throw new exceptions_1.BaseException("Internal error: Could not calculate a property in a parent view: "+e);if(e instanceof o.ReadPropExpr){var a=e;(t.fields.some(function(e){return e.name==a.name})||t.getters.some(function(e){return e.name==a.name}))&&(n=n.cast(t.classType))}return o.replaceVarInExpression(o.THIS_EXPR.name,n,e)}function injectFromViewParentInjector(e,r){var t=[createDiTokenExpression(e)];return r&&t.push(o.NULL_EXPR),o.THIS_EXPR.prop("parentInjector").callMethod("get",t)}function getViewFactoryName(e,r){return"viewFactory_"+e.type.name+r}function createDiTokenExpression(e){return lang_1.isPresent(e.value)?o.literal(e.value):e.identifierIsInstance?o.importExpr(e.identifier).instantiate([],o.importType(e.identifier,[],[o.TypeModifier.Const])):o.importExpr(e.identifier)}function createFlatArray(e){for(var r=[],t=o.literalArr([]),n=0;n<e.length;n++){var i=e[n];i.type instanceof o.ArrayType?(r.length>0&&(t=t.callMethod(o.BuiltinMethod.ConcatArray,[o.literalArr(r)]),r=[]),t=t.callMethod(o.BuiltinMethod.ConcatArray,[i])):r.push(i)}return r.length>0&&(t=t.callMethod(o.BuiltinMethod.ConcatArray,[o.literalArr(r)])),t}function createPureProxy(e,r,t,n){n.fields.push(new o.ClassField(t.name,null));var i=r<identifiers_1.Identifiers.pureProxies.length?identifiers_1.Identifiers.pureProxies[r]:null;if(lang_1.isBlank(i))throw new exceptions_1.BaseException("Unsupported number of argument for pure functions: "+r);n.createMethod.addStmt(o.THIS_EXPR.prop(t.name).set(o.importExpr(i).callFn([e])).toStmt())}var lang_1=require(90),exceptions_1=require(89),o=require(103),identifiers_1=require(96);exports.getPropertyInView=getPropertyInView,exports.injectFromViewParentInjector=injectFromViewParentInjector,exports.getViewFactoryName=getViewFactoryName,exports.createDiTokenExpression=createDiTokenExpression,exports.createFlatArray=createFlatArray,exports.createPureProxy=createPureProxy;

},{"103":103,"89":89,"90":90,"96":96}],135:[function(require,module,exports){
"use strict";function bindView(e,i){var t=new ViewBinderVisitor(e);template_ast_1.templateVisitAll(t,i),e.pipes.forEach(function(e){lifecycle_binder_1.bindPipeDestroyLifecycleCallbacks(e.meta,e.instance,e.view)})}var collection_1=require(87),template_ast_1=require(118),property_binder_1=require(133),event_binder_1=require(130),lifecycle_binder_1=require(132);exports.bindView=bindView;var ViewBinderVisitor=function(){function e(e){this.view=e,this._nodeIndex=0}return e.prototype.visitBoundText=function(e,i){var t=this.view.nodes[this._nodeIndex++];return property_binder_1.bindRenderText(e,t,this.view),null},e.prototype.visitText=function(e,i){return this._nodeIndex++,null},e.prototype.visitNgContent=function(e,i){return null},e.prototype.visitElement=function(e,i){var t=this.view.nodes[this._nodeIndex++],n=event_binder_1.collectEventListeners(e.outputs,e.directives,t);return property_binder_1.bindRenderInputs(e.inputs,t),event_binder_1.bindRenderOutputs(n),collection_1.ListWrapper.forEachWithIndex(e.directives,function(e,i){var r=t.directiveInstances[i];property_binder_1.bindDirectiveInputs(e,r,t),lifecycle_binder_1.bindDirectiveDetectChangesLifecycleCallbacks(e,r,t),property_binder_1.bindDirectiveHostProps(e,r,t),event_binder_1.bindDirectiveOutputs(e,r,n)}),template_ast_1.templateVisitAll(this,e.children,t),collection_1.ListWrapper.forEachWithIndex(e.directives,function(e,i){var n=t.directiveInstances[i];lifecycle_binder_1.bindDirectiveAfterContentLifecycleCallbacks(e.directive,n,t),lifecycle_binder_1.bindDirectiveAfterViewLifecycleCallbacks(e.directive,n,t),lifecycle_binder_1.bindDirectiveDestroyLifecycleCallbacks(e.directive,n,t)}),null},e.prototype.visitEmbeddedTemplate=function(e,i){var t=this.view.nodes[this._nodeIndex++],n=event_binder_1.collectEventListeners(e.outputs,e.directives,t);return collection_1.ListWrapper.forEachWithIndex(e.directives,function(e,i){var r=t.directiveInstances[i];property_binder_1.bindDirectiveInputs(e,r,t),lifecycle_binder_1.bindDirectiveDetectChangesLifecycleCallbacks(e,r,t),event_binder_1.bindDirectiveOutputs(e,r,n),lifecycle_binder_1.bindDirectiveAfterContentLifecycleCallbacks(e.directive,r,t),lifecycle_binder_1.bindDirectiveAfterViewLifecycleCallbacks(e.directive,r,t),lifecycle_binder_1.bindDirectiveDestroyLifecycleCallbacks(e.directive,r,t)}),bindView(t.embeddedView,e.children),null},e.prototype.visitAttr=function(e,i){return null},e.prototype.visitDirective=function(e,i){return null},e.prototype.visitEvent=function(e,i){return null},e.prototype.visitReference=function(e,i){return null},e.prototype.visitVariable=function(e,i){return null},e.prototype.visitDirectiveProperty=function(e,i){return null},e.prototype.visitElementProperty=function(e,i){return null},e}();

},{"118":118,"130":130,"132":132,"133":133,"87":87}],136:[function(require,module,exports){
"use strict";function buildView(e,t,n){var o=new ViewBuilderVisitor(e,n);return template_ast_1.templateVisitAll(o,t,e.declarationElement.isNull()?e.declarationElement:e.declarationElement.parent),o.nestedViewCount}function finishView(e,t){e.afterNodes(),createViewTopLevelStmts(e,t),e.nodes.forEach(function(e){e instanceof compile_element_1.CompileElement&&e.hasEmbeddedView&&finishView(e.embeddedView,t)})}function _mergeHtmlAndDirectiveAttrs(e,t){var n={};return collection_1.StringMapWrapper.forEach(e,function(e,t){n[t]=e}),t.forEach(function(e){collection_1.StringMapWrapper.forEach(e.hostAttributes,function(e,t){var o=n[t];n[t]=lang_1.isPresent(o)?mergeAttributeValue(t,o,e):e})}),mapToKeyValueArray(n)}function _readHtmlAttrs(e){var t={};return e.forEach(function(e){t[e.name]=e.value}),t}function mergeAttributeValue(e,t,n){return e==CLASS_ATTR||e==STYLE_ATTR?t+" "+n:n}function mapToKeyValueArray(e){var t=[];collection_1.StringMapWrapper.forEach(e,function(e,n){t.push([n,e])}),collection_1.ListWrapper.sort(t,function(e,t){return lang_1.StringWrapper.compare(e[0],t[0])});var n=[];return t.forEach(function(e){n.push([e[0],e[1]])}),n}function createViewTopLevelStmts(e,t){var n=o.NULL_EXPR;e.genConfig.genDebugInfo&&(n=o.variable("nodeDebugInfos_"+e.component.type.name+e.viewIndex),t.push(n.set(o.literalArr(e.nodes.map(createStaticNodeDebugInfo),new o.ArrayType(new o.ExternalType(identifiers_1.Identifiers.StaticNodeDebugInfo),[o.TypeModifier.Const]))).toDeclStmt(null,[o.StmtModifier.Final])));var r=o.variable("renderType_"+e.component.type.name);0===e.viewIndex&&t.push(r.set(o.NULL_EXPR).toDeclStmt(o.importType(identifiers_1.Identifiers.RenderComponentType)));var i=createViewClass(e,r,n);t.push(i),t.push(createViewFactory(e,i,r))}function createStaticNodeDebugInfo(e){var t=e instanceof compile_element_1.CompileElement?e:null,n=[],r=o.NULL_EXPR,i=[];return lang_1.isPresent(t)&&(n=t.getProviderTokens(),lang_1.isPresent(t.component)&&(r=util_1.createDiTokenExpression(identifiers_1.identifierToken(t.component.type))),collection_1.StringMapWrapper.forEach(t.referenceTokens,function(e,t){i.push([t,lang_1.isPresent(e)?util_1.createDiTokenExpression(e):o.NULL_EXPR])})),o.importExpr(identifiers_1.Identifiers.StaticNodeDebugInfo).instantiate([o.literalArr(n,new o.ArrayType(o.DYNAMIC_TYPE,[o.TypeModifier.Const])),r,o.literalMap(i,new o.MapType(o.DYNAMIC_TYPE,[o.TypeModifier.Const]))],o.importType(identifiers_1.Identifiers.StaticNodeDebugInfo,null,[o.TypeModifier.Const]))}function createViewClass(e,t,n){var r=[new o.FnParam(constants_1.ViewConstructorVars.viewUtils.name,o.importType(identifiers_1.Identifiers.ViewUtils)),new o.FnParam(constants_1.ViewConstructorVars.parentInjector.name,o.importType(identifiers_1.Identifiers.Injector)),new o.FnParam(constants_1.ViewConstructorVars.declarationEl.name,o.importType(identifiers_1.Identifiers.AppElement))],i=[o.variable(e.className),t,constants_1.ViewTypeEnum.fromValue(e.viewType),constants_1.ViewConstructorVars.viewUtils,constants_1.ViewConstructorVars.parentInjector,constants_1.ViewConstructorVars.declarationEl,constants_1.ChangeDetectionStrategyEnum.fromValue(getChangeDetectionMode(e))];e.genConfig.genDebugInfo&&i.push(n);var a=new o.ClassMethod(null,r,[o.SUPER_EXPR.callFn(i).toStmt()]),s=[new o.ClassMethod("createInternal",[new o.FnParam(rootSelectorVar.name,o.STRING_TYPE)],generateCreateMethod(e),o.importType(identifiers_1.Identifiers.AppElement)),new o.ClassMethod("injectorGetInternal",[new o.FnParam(constants_1.InjectMethodVars.token.name,o.DYNAMIC_TYPE),new o.FnParam(constants_1.InjectMethodVars.requestNodeIndex.name,o.NUMBER_TYPE),new o.FnParam(constants_1.InjectMethodVars.notFoundResult.name,o.DYNAMIC_TYPE)],addReturnValuefNotEmpty(e.injectorGetMethod.finish(),constants_1.InjectMethodVars.notFoundResult),o.DYNAMIC_TYPE),new o.ClassMethod("detectChangesInternal",[new o.FnParam(constants_1.DetectChangesVars.throwOnChange.name,o.BOOL_TYPE)],generateDetectChangesMethod(e)),new o.ClassMethod("dirtyParentQueriesInternal",[],e.dirtyParentQueriesMethod.finish()),new o.ClassMethod("destroyInternal",[],e.destroyMethod.finish())].concat(e.eventHandlerMethods),l=e.genConfig.genDebugInfo?identifiers_1.Identifiers.DebugAppView:identifiers_1.Identifiers.AppView,c=new o.ClassStmt(e.className,o.importExpr(l,[getContextType(e)]),e.fields,e.getters,a,s.filter(function(e){return e.body.length>0}));return c}function createViewFactory(e,t,n){var r,i=[new o.FnParam(constants_1.ViewConstructorVars.viewUtils.name,o.importType(identifiers_1.Identifiers.ViewUtils)),new o.FnParam(constants_1.ViewConstructorVars.parentInjector.name,o.importType(identifiers_1.Identifiers.Injector)),new o.FnParam(constants_1.ViewConstructorVars.declarationEl.name,o.importType(identifiers_1.Identifiers.AppElement))],a=[];return r=e.component.template.templateUrl==e.component.type.moduleUrl?e.component.type.moduleUrl+" class "+e.component.type.name+" - inline template":e.component.template.templateUrl,0===e.viewIndex&&(a=[new o.IfStmt(n.identical(o.NULL_EXPR),[n.set(constants_1.ViewConstructorVars.viewUtils.callMethod("createRenderComponentType",[o.literal(r),o.literal(e.component.template.ngContentSelectors.length),constants_1.ViewEncapsulationEnum.fromValue(e.component.template.encapsulation),e.styles])).toStmt()])]),o.fn(i,a.concat([new o.ReturnStatement(o.variable(t.name).instantiate(t.constructorMethod.params.map(function(e){return o.variable(e.name)})))]),o.importType(identifiers_1.Identifiers.AppView,[getContextType(e)])).toDeclStmt(e.viewFactory.name,[o.StmtModifier.Final])}function generateCreateMethod(e){var t=o.NULL_EXPR,n=[];e.viewType===core_private_1.ViewType.COMPONENT&&(t=constants_1.ViewProperties.renderer.callMethod("createViewRoot",[o.THIS_EXPR.prop("declarationAppElement").prop("nativeElement")]),n=[parentRenderNodeVar.set(t).toDeclStmt(o.importType(e.genConfig.renderTypes.renderNode),[o.StmtModifier.Final])]);var r;return r=e.viewType===core_private_1.ViewType.HOST?e.nodes[0].appElement:o.NULL_EXPR,n.concat(e.createMethod.finish()).concat([o.THIS_EXPR.callMethod("init",[util_1.createFlatArray(e.rootNodesOrAppElements),o.literalArr(e.nodes.map(function(e){return e.renderNode})),o.literalArr(e.disposables),o.literalArr(e.subscriptions)]).toStmt(),new o.ReturnStatement(r)])}function generateDetectChangesMethod(e){var t=[];if(e.detectChangesInInputsMethod.isEmpty()&&e.updateContentQueriesMethod.isEmpty()&&e.afterContentLifecycleCallbacksMethod.isEmpty()&&e.detectChangesRenderPropertiesMethod.isEmpty()&&e.updateViewQueriesMethod.isEmpty()&&e.afterViewLifecycleCallbacksMethod.isEmpty())return t;collection_1.ListWrapper.addAll(t,e.detectChangesInInputsMethod.finish()),t.push(o.THIS_EXPR.callMethod("detectContentChildrenChanges",[constants_1.DetectChangesVars.throwOnChange]).toStmt());var n=e.updateContentQueriesMethod.finish().concat(e.afterContentLifecycleCallbacksMethod.finish());n.length>0&&t.push(new o.IfStmt(o.not(constants_1.DetectChangesVars.throwOnChange),n)),collection_1.ListWrapper.addAll(t,e.detectChangesRenderPropertiesMethod.finish()),t.push(o.THIS_EXPR.callMethod("detectViewChildrenChanges",[constants_1.DetectChangesVars.throwOnChange]).toStmt());var r=e.updateViewQueriesMethod.finish().concat(e.afterViewLifecycleCallbacksMethod.finish());r.length>0&&t.push(new o.IfStmt(o.not(constants_1.DetectChangesVars.throwOnChange),r));var i=[],a=o.findReadVarNames(t);return collection_1.SetWrapper.has(a,constants_1.DetectChangesVars.changed.name)&&i.push(constants_1.DetectChangesVars.changed.set(o.literal(!0)).toDeclStmt(o.BOOL_TYPE)),collection_1.SetWrapper.has(a,constants_1.DetectChangesVars.changes.name)&&i.push(constants_1.DetectChangesVars.changes.set(o.NULL_EXPR).toDeclStmt(new o.MapType(o.importType(identifiers_1.Identifiers.SimpleChange)))),collection_1.SetWrapper.has(a,constants_1.DetectChangesVars.valUnwrapper.name)&&i.push(constants_1.DetectChangesVars.valUnwrapper.set(o.importExpr(identifiers_1.Identifiers.ValueUnwrapper).instantiate([])).toDeclStmt(null,[o.StmtModifier.Final])),i.concat(t)}function addReturnValuefNotEmpty(e,t){return e.length>0?e.concat([new o.ReturnStatement(t)]):e}function getContextType(e){return e.viewType===core_private_1.ViewType.COMPONENT?o.importType(e.component.type):o.DYNAMIC_TYPE}function getChangeDetectionMode(e){var t;return t=e.viewType===core_private_1.ViewType.COMPONENT?core_private_1.isDefaultChangeDetectionStrategy(e.component.changeDetection)?core_1.ChangeDetectionStrategy.CheckAlways:core_1.ChangeDetectionStrategy.CheckOnce:core_1.ChangeDetectionStrategy.CheckAlways}var core_1=require(140),core_private_1=require(72),lang_1=require(90),collection_1=require(87),o=require(103),identifiers_1=require(96),constants_1=require(129),compile_view_1=require(128),compile_element_1=require(124),template_ast_1=require(118),util_1=require(134),compile_metadata_1=require(76),IMPLICIT_TEMPLATE_VAR="$implicit",CLASS_ATTR="class",STYLE_ATTR="style",parentRenderNodeVar=o.variable("parentRenderNode"),rootSelectorVar=o.variable("rootSelector"),ViewCompileDependency=function(){function e(e,t){this.comp=e,this.factoryPlaceholder=t}return e}();exports.ViewCompileDependency=ViewCompileDependency,exports.buildView=buildView,exports.finishView=finishView;var ViewBuilderVisitor=function(){function e(e,t){this.view=e,this.targetDependencies=t,this.nestedViewCount=0}return e.prototype._isRootNode=function(e){return e.view!==this.view},e.prototype._addRootNodeAndProject=function(e,t,n){var o=e instanceof compile_element_1.CompileElement&&e.hasViewContainer?e.appElement:null;this._isRootNode(n)?this.view.viewType!==core_private_1.ViewType.COMPONENT&&this.view.rootNodesOrAppElements.push(lang_1.isPresent(o)?o:e.renderNode):lang_1.isPresent(n.component)&&lang_1.isPresent(t)&&n.addContentNode(t,lang_1.isPresent(o)?o:e.renderNode)},e.prototype._getParentRenderNode=function(e){return this._isRootNode(e)?this.view.viewType===core_private_1.ViewType.COMPONENT?parentRenderNodeVar:o.NULL_EXPR:lang_1.isPresent(e.component)&&e.component.template.encapsulation!==core_1.ViewEncapsulation.Native?o.NULL_EXPR:e.renderNode},e.prototype.visitBoundText=function(e,t){return this._visitText(e,"",e.ngContentIndex,t)},e.prototype.visitText=function(e,t){return this._visitText(e,e.value,e.ngContentIndex,t)},e.prototype._visitText=function(e,t,n,r){var i="_text_"+this.view.nodes.length;this.view.fields.push(new o.ClassField(i,o.importType(this.view.genConfig.renderTypes.renderText)));var a=o.THIS_EXPR.prop(i),s=new compile_element_1.CompileNode(r,this.view,this.view.nodes.length,a,e),l=o.THIS_EXPR.prop(i).set(constants_1.ViewProperties.renderer.callMethod("createText",[this._getParentRenderNode(r),o.literal(t),this.view.createMethod.resetDebugInfoExpr(this.view.nodes.length,e)])).toStmt();return this.view.nodes.push(s),this.view.createMethod.addStmt(l),this._addRootNodeAndProject(s,n,r),a},e.prototype.visitNgContent=function(e,t){this.view.createMethod.resetDebugInfo(null,e);var n=this._getParentRenderNode(t),r=constants_1.ViewProperties.projectableNodes.key(o.literal(e.index),new o.ArrayType(o.importType(this.view.genConfig.renderTypes.renderNode)));return n!==o.NULL_EXPR?this.view.createMethod.addStmt(constants_1.ViewProperties.renderer.callMethod("projectNodes",[n,o.importExpr(identifiers_1.Identifiers.flattenNestedViewRenderNodes).callFn([r])]).toStmt()):this._isRootNode(t)?this.view.viewType!==core_private_1.ViewType.COMPONENT&&this.view.rootNodesOrAppElements.push(r):lang_1.isPresent(t.component)&&lang_1.isPresent(e.ngContentIndex)&&t.addContentNode(e.ngContentIndex,r),null},e.prototype.visitElement=function(e,t){var n,r=this.view.nodes.length,i=this.view.createMethod.resetDebugInfoExpr(r,e);n=0===r&&this.view.viewType===core_private_1.ViewType.HOST?o.THIS_EXPR.callMethod("selectOrCreateHostElement",[o.literal(e.name),rootSelectorVar,i]):constants_1.ViewProperties.renderer.callMethod("createElement",[this._getParentRenderNode(t),o.literal(e.name),i]);var a="_el_"+r;this.view.fields.push(new o.ClassField(a,o.importType(this.view.genConfig.renderTypes.renderElement))),this.view.createMethod.addStmt(o.THIS_EXPR.prop(a).set(n).toStmt());for(var s=o.THIS_EXPR.prop(a),l=e.directives.map(function(e){return e.directive}),c=l.find(function(e){return e.isComponent}),p=_readHtmlAttrs(e.attrs),d=_mergeHtmlAndDirectiveAttrs(p,l),u=0;u<d.length;u++){var m=d[u][0],h=d[u][1];this.view.createMethod.addStmt(constants_1.ViewProperties.renderer.callMethod("setElementAttribute",[s,o.literal(m),o.literal(h)]).toStmt())}var _=new compile_element_1.CompileElement(t,this.view,r,s,e,c,l,e.providers,e.hasViewContainer,!1,e.references);this.view.nodes.push(_);var w=null;if(lang_1.isPresent(c)){var f=new compile_metadata_1.CompileIdentifierMetadata({name:util_1.getViewFactoryName(c,0)});this.targetDependencies.push(new ViewCompileDependency(c,f)),w=o.variable("compView_"+r),_.setComponentView(w),this.view.createMethod.addStmt(w.set(o.importExpr(f).callFn([constants_1.ViewProperties.viewUtils,_.injector,_.appElement])).toDeclStmt())}if(_.beforeChildren(),this._addRootNodeAndProject(_,e.ngContentIndex,t),template_ast_1.templateVisitAll(this,e.children,_),_.afterChildren(this.view.nodes.length-r-1),lang_1.isPresent(w)){var v;v=this.view.component.type.isHost?constants_1.ViewProperties.projectableNodes:o.literalArr(_.contentNodesByNgContentIndex.map(function(e){return util_1.createFlatArray(e)})),this.view.createMethod.addStmt(w.callMethod("create",[_.getComponent(),v,o.NULL_EXPR]).toStmt())}return null},e.prototype.visitEmbeddedTemplate=function(e,t){var n=this.view.nodes.length,r="_anchor_"+n;this.view.fields.push(new o.ClassField(r,o.importType(this.view.genConfig.renderTypes.renderComment))),this.view.createMethod.addStmt(o.THIS_EXPR.prop(r).set(constants_1.ViewProperties.renderer.callMethod("createTemplateAnchor",[this._getParentRenderNode(t),this.view.createMethod.resetDebugInfoExpr(n,e)])).toStmt());var i=o.THIS_EXPR.prop(r),a=e.variables.map(function(e){return[e.value.length>0?e.value:IMPLICIT_TEMPLATE_VAR,e.name]}),s=e.directives.map(function(e){return e.directive}),l=new compile_element_1.CompileElement(t,this.view,n,i,e,null,s,e.providers,e.hasViewContainer,!0,e.references);this.view.nodes.push(l),this.nestedViewCount++;var c=new compile_view_1.CompileView(this.view.component,this.view.genConfig,this.view.pipeMetas,o.NULL_EXPR,this.view.viewIndex+this.nestedViewCount,l,a);return this.nestedViewCount+=buildView(c,e.children,this.targetDependencies),l.beforeChildren(),this._addRootNodeAndProject(l,e.ngContentIndex,t),l.afterChildren(0),null},e.prototype.visitAttr=function(e,t){return null},e.prototype.visitDirective=function(e,t){return null},e.prototype.visitEvent=function(e,t){return null},e.prototype.visitReference=function(e,t){return null},e.prototype.visitVariable=function(e,t){return null},e.prototype.visitDirectiveProperty=function(e,t){return null},e.prototype.visitElementProperty=function(e,t){return null},e}();

},{"103":103,"118":118,"124":124,"128":128,"129":129,"134":134,"140":140,"72":72,"76":76,"87":87,"90":90,"96":96}],137:[function(require,module,exports){
"use strict";var core_1=require(140),compile_element_1=require(124),compile_view_1=require(128),view_builder_1=require(136),view_binder_1=require(135),config_1=require(78),ViewCompileResult=function(){function e(e,i,r){this.statements=e,this.viewFactoryVar=i,this.dependencies=r}return e}();exports.ViewCompileResult=ViewCompileResult;var ViewCompiler=function(){function e(e){this._genConfig=e}return e.prototype.compileComponent=function(e,i,r,o){var n=[],t=[],l=new compile_view_1.CompileView(e,this._genConfig,o,r,0,compile_element_1.CompileElement.createNull(),[]);return view_builder_1.buildView(l,i,t),view_binder_1.bindView(l,i),view_builder_1.finishView(l,n),new ViewCompileResult(n,l.viewFactory.name,t)},e.decorators=[{type:core_1.Injectable}],e.ctorParameters=[{type:config_1.CompilerConfig}],e}();exports.ViewCompiler=ViewCompiler;

},{"124":124,"128":128,"135":135,"136":136,"140":140,"78":78}],138:[function(require,module,exports){
"use strict";var core_1=require(140),core_private_1=require(72),lang_1=require(90),exceptions_1=require(89),collection_1=require(87),ViewResolver=function(){function e(e){this._cache=new collection_1.Map,lang_1.isPresent(e)?this._reflector=e:this._reflector=core_1.reflector}return e.prototype.resolve=function(e){var t=this._cache.get(e);return lang_1.isBlank(t)&&(t=this._resolve(e),this._cache.set(e,t)),t},e.prototype._resolve=function(e){var t,n;if(this._reflector.annotations(e).forEach(function(e){e instanceof core_1.ViewMetadata&&(n=e),e instanceof core_1.ComponentMetadata&&(t=e)}),!lang_1.isPresent(t)){if(lang_1.isBlank(n))throw new exceptions_1.BaseException("Could not compile '"+lang_1.stringify(e)+"' because it is not a component.");return n}if(lang_1.isBlank(t.template)&&lang_1.isBlank(t.templateUrl)&&lang_1.isBlank(n))throw new exceptions_1.BaseException("Component '"+lang_1.stringify(e)+"' must have either 'template' or 'templateUrl' set.");if(lang_1.isPresent(t.template)&&lang_1.isPresent(n))this._throwMixingViewAndComponent("template",e);else if(lang_1.isPresent(t.templateUrl)&&lang_1.isPresent(n))this._throwMixingViewAndComponent("templateUrl",e);else if(lang_1.isPresent(t.directives)&&lang_1.isPresent(n))this._throwMixingViewAndComponent("directives",e);else if(lang_1.isPresent(t.pipes)&&lang_1.isPresent(n))this._throwMixingViewAndComponent("pipes",e);else if(lang_1.isPresent(t.encapsulation)&&lang_1.isPresent(n))this._throwMixingViewAndComponent("encapsulation",e);else if(lang_1.isPresent(t.styles)&&lang_1.isPresent(n))this._throwMixingViewAndComponent("styles",e);else{if(!lang_1.isPresent(t.styleUrls)||!lang_1.isPresent(n))return lang_1.isPresent(n)?n:new core_1.ViewMetadata({templateUrl:t.templateUrl,template:t.template,directives:t.directives,pipes:t.pipes,encapsulation:t.encapsulation,styles:t.styles,styleUrls:t.styleUrls});this._throwMixingViewAndComponent("styleUrls",e)}return null},e.prototype._throwMixingViewAndComponent=function(e,t){throw new exceptions_1.BaseException("Component '"+lang_1.stringify(t)+"' cannot have both '"+e+"' and '@View' set at the same time\"")},e.decorators=[{type:core_1.Injectable}],e.ctorParameters=[{type:core_private_1.ReflectorReader}],e}();exports.ViewResolver=ViewResolver;

},{"140":140,"72":72,"87":87,"89":89,"90":90}],139:[function(require,module,exports){
"use strict";var XHR=function(){function t(){}return t.prototype.get=function(t){return null},t}();exports.XHR=XHR;

},{}],140:[function(require,module,exports){
"use strict";function __export(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}__export(require(192)),__export(require(210)),__export(require(157));var application_ref_1=require(143);exports.createPlatform=application_ref_1.createPlatform,exports.assertPlatform=application_ref_1.assertPlatform,exports.disposePlatform=application_ref_1.disposePlatform,exports.getPlatform=application_ref_1.getPlatform,exports.coreBootstrap=application_ref_1.coreBootstrap,exports.coreLoadAndBootstrap=application_ref_1.coreLoadAndBootstrap,exports.createNgZone=application_ref_1.createNgZone,exports.PlatformRef=application_ref_1.PlatformRef,exports.ApplicationRef=application_ref_1.ApplicationRef;var application_tokens_1=require(144);exports.APP_ID=application_tokens_1.APP_ID,exports.APP_INITIALIZER=application_tokens_1.APP_INITIALIZER,exports.PACKAGE_ROOT_URL=application_tokens_1.PACKAGE_ROOT_URL,exports.PLATFORM_INITIALIZER=application_tokens_1.PLATFORM_INITIALIZER,__export(require(212)),__export(require(206)),__export(require(176));var debug_node_1=require(155);exports.DebugElement=debug_node_1.DebugElement,exports.DebugNode=debug_node_1.DebugNode,exports.asNativeElements=debug_node_1.asNativeElements,exports.getDebugNode=debug_node_1.getDebugNode,__export(require(209)),__export(require(145)),__export(require(198)),__export(require(197)),__export(require(142)),__export(require(202));var profile_1=require(199);exports.wtfCreateScope=profile_1.wtfCreateScope,exports.wtfLeave=profile_1.wtfLeave,exports.wtfStartTimeRange=profile_1.wtfStartTimeRange,exports.wtfEndTimeRange=profile_1.wtfEndTimeRange;var lang_1=require(174);exports.Type=lang_1.Type,exports.enableProdMode=lang_1.enableProdMode;var async_1=require(169);exports.EventEmitter=async_1.EventEmitter;var exceptions_1=require(173);exports.ExceptionHandler=exceptions_1.ExceptionHandler,exports.WrappedException=exceptions_1.WrappedException,exports.BaseException=exceptions_1.BaseException,__export(require(141));

},{"141":141,"142":142,"143":143,"144":144,"145":145,"155":155,"157":157,"169":169,"173":173,"174":174,"176":176,"192":192,"197":197,"198":198,"199":199,"202":202,"206":206,"209":209,"210":210,"212":212}],141:[function(require,module,exports){
"use strict";var constants=require(149),security=require(208),reflective_provider=require(168),lifecycle_hooks=require(195),reflector_reader=require(205),component_resolver=require(178),element=require(181),view=require(187),view_type=require(190),view_utils=require(191),metadata_view=require(196),debug_context=require(179),change_detection_util=require(147),api=require(207),template_ref=require(186),wtf_init=require(201),reflection_capabilities=require(203),decorators=require(211),debug=require(156),provider_util=require(164),console=require(154);exports.__core_private__={isDefaultChangeDetectionStrategy:constants.isDefaultChangeDetectionStrategy,ChangeDetectorState:constants.ChangeDetectorState,CHANGE_DETECTION_STRATEGY_VALUES:constants.CHANGE_DETECTION_STRATEGY_VALUES,constructDependencies:reflective_provider.constructDependencies,LifecycleHooks:lifecycle_hooks.LifecycleHooks,LIFECYCLE_HOOKS_VALUES:lifecycle_hooks.LIFECYCLE_HOOKS_VALUES,ReflectorReader:reflector_reader.ReflectorReader,ReflectorComponentResolver:component_resolver.ReflectorComponentResolver,AppElement:element.AppElement,AppView:view.AppView,DebugAppView:view.DebugAppView,ViewType:view_type.ViewType,MAX_INTERPOLATION_VALUES:view_utils.MAX_INTERPOLATION_VALUES,checkBinding:view_utils.checkBinding,flattenNestedViewRenderNodes:view_utils.flattenNestedViewRenderNodes,interpolate:view_utils.interpolate,ViewUtils:view_utils.ViewUtils,VIEW_ENCAPSULATION_VALUES:metadata_view.VIEW_ENCAPSULATION_VALUES,DebugContext:debug_context.DebugContext,StaticNodeDebugInfo:debug_context.StaticNodeDebugInfo,devModeEqual:change_detection_util.devModeEqual,uninitialized:change_detection_util.uninitialized,ValueUnwrapper:change_detection_util.ValueUnwrapper,RenderDebugInfo:api.RenderDebugInfo,SecurityContext:security.SecurityContext,SanitizationService:security.SanitizationService,TemplateRef_:template_ref.TemplateRef_,wtfInit:wtf_init.wtfInit,ReflectionCapabilities:reflection_capabilities.ReflectionCapabilities,makeDecorator:decorators.makeDecorator,DebugDomRootRenderer:debug.DebugDomRootRenderer,createProvider:provider_util.createProvider,isProviderLiteral:provider_util.isProviderLiteral,EMPTY_ARRAY:view_utils.EMPTY_ARRAY,EMPTY_MAP:view_utils.EMPTY_MAP,pureProxy1:view_utils.pureProxy1,pureProxy2:view_utils.pureProxy2,pureProxy3:view_utils.pureProxy3,pureProxy4:view_utils.pureProxy4,pureProxy5:view_utils.pureProxy5,pureProxy6:view_utils.pureProxy6,pureProxy7:view_utils.pureProxy7,pureProxy8:view_utils.pureProxy8,pureProxy9:view_utils.pureProxy9,pureProxy10:view_utils.pureProxy10,castByValue:view_utils.castByValue,Console:console.Console};

},{"147":147,"149":149,"154":154,"156":156,"164":164,"168":168,"178":178,"179":179,"181":181,"186":186,"187":187,"190":190,"191":191,"195":195,"196":196,"201":201,"203":203,"205":205,"207":207,"208":208,"211":211}],142:[function(require,module,exports){
"use strict";var application_tokens_1=require(144),application_ref_1=require(143),change_detection_1=require(146),view_utils_1=require(191),component_resolver_1=require(178),dynamic_component_loader_1=require(180),__unused;exports.APPLICATION_COMMON_PROVIDERS=[application_ref_1.APPLICATION_CORE_PROVIDERS,{provide:component_resolver_1.ComponentResolver,useClass:component_resolver_1.ReflectorComponentResolver},application_tokens_1.APP_ID_RANDOM_PROVIDER,view_utils_1.ViewUtils,{provide:change_detection_1.IterableDiffers,useValue:change_detection_1.defaultIterableDiffers},{provide:change_detection_1.KeyValueDiffers,useValue:change_detection_1.defaultKeyValueDiffers},{provide:dynamic_component_loader_1.DynamicComponentLoader,useClass:dynamic_component_loader_1.DynamicComponentLoader_}];

},{"143":143,"144":144,"146":146,"178":178,"180":180,"191":191}],143:[function(require,module,exports){
"use strict";function createNgZone(){return new ng_zone_1.NgZone({enableLongStackTrace:lang_1.assertionsEnabled()})}function createPlatform(e){if(_inPlatformCreate)throw new exceptions_1.BaseException("Already creating a platform...");if(lang_1.isPresent(_platform)&&!_platform.disposed)throw new exceptions_1.BaseException("There can be only one platform. Destroy the previous one to create a new one.");lang_1.lockMode(),_inPlatformCreate=!0;try{_platform=e.get(PlatformRef)}finally{_inPlatformCreate=!1}return _platform}function assertPlatform(e){var t=getPlatform();if(lang_1.isBlank(t))throw new exceptions_1.BaseException("Not platform exists!");if(lang_1.isPresent(t)&&lang_1.isBlank(t.injector.get(e,null)))throw new exceptions_1.BaseException("A platform with a different configuration has been created. Please destroy it first.");return t}function disposePlatform(){lang_1.isPresent(_platform)&&!_platform.disposed&&_platform.dispose()}function getPlatform(){return lang_1.isPresent(_platform)&&!_platform.disposed?_platform:null}function coreBootstrap(e,t){var o=e.get(ApplicationRef);return o.bootstrap(t)}function coreLoadAndBootstrap(e,t){var o=e.get(ApplicationRef);return o.run(function(){var n=e.get(component_resolver_1.ComponentResolver);return async_1.PromiseWrapper.all([n.resolveComponent(t),o.waitForAsyncInitializers()]).then(function(e){return o.bootstrap(e[0])})})}var __extends=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},ng_zone_1=require(213),lang_1=require(174),di_1=require(157),application_tokens_1=require(144),async_1=require(169),collection_1=require(171),testability_1=require(209),component_resolver_1=require(178),exceptions_1=require(173),console_1=require(154),profile_1=require(199);exports.createNgZone=createNgZone;var _platform,_inPlatformCreate=!1;exports.createPlatform=createPlatform,exports.assertPlatform=assertPlatform,exports.disposePlatform=disposePlatform,exports.getPlatform=getPlatform,exports.coreBootstrap=coreBootstrap,exports.coreLoadAndBootstrap=coreLoadAndBootstrap;var PlatformRef=function(){function e(){}return Object.defineProperty(e.prototype,"injector",{get:function(){throw exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disposed",{get:function(){throw exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),e}();exports.PlatformRef=PlatformRef;var PlatformRef_=function(e){function t(t){if(e.call(this),this._injector=t,this._applications=[],this._disposeListeners=[],this._disposed=!1,!_inPlatformCreate)throw new exceptions_1.BaseException("Platforms have to be created via `createPlatform`!");var o=t.get(application_tokens_1.PLATFORM_INITIALIZER,null);lang_1.isPresent(o)&&o.forEach(function(e){return e()})}return __extends(t,e),t.prototype.registerDisposeListener=function(e){this._disposeListeners.push(e)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.addApplication=function(e){this._applications.push(e)},t.prototype.dispose=function(){collection_1.ListWrapper.clone(this._applications).forEach(function(e){return e.dispose()}),this._disposeListeners.forEach(function(e){return e()}),this._disposed=!0},t.prototype._applicationDisposed=function(e){collection_1.ListWrapper.remove(this._applications,e)},t.decorators=[{type:di_1.Injectable}],t.ctorParameters=[{type:di_1.Injector}],t}(PlatformRef);exports.PlatformRef_=PlatformRef_;var ApplicationRef=function(){function e(){}return Object.defineProperty(e.prototype,"injector",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zone",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentTypes",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),e}();exports.ApplicationRef=ApplicationRef;var ApplicationRef_=function(e){function t(t,o,n){var r=this;e.call(this),this._platform=t,this._zone=o,this._injector=n,this._bootstrapListeners=[],this._disposeListeners=[],this._rootComponents=[],this._rootComponentTypes=[],this._changeDetectorRefs=[],this._runningTick=!1,this._enforceNoNewChanges=!1;var i=n.get(ng_zone_1.NgZone);this._enforceNoNewChanges=lang_1.assertionsEnabled(),i.run(function(){r._exceptionHandler=n.get(exceptions_1.ExceptionHandler)}),this._asyncInitDonePromise=this.run(function(){var e,t=n.get(application_tokens_1.APP_INITIALIZER,null),o=[];if(lang_1.isPresent(t))for(var i=0;i<t.length;i++){var s=t[i]();lang_1.isPromise(s)&&o.push(s)}return o.length>0?(e=async_1.PromiseWrapper.all(o).then(function(e){return r._asyncInitDone=!0}),r._asyncInitDone=!1):(r._asyncInitDone=!0,e=async_1.PromiseWrapper.resolve(!0)),e}),async_1.ObservableWrapper.subscribe(i.onError,function(e){r._exceptionHandler.call(e.error,e.stackTrace)}),async_1.ObservableWrapper.subscribe(this._zone.onMicrotaskEmpty,function(e){r._zone.run(function(){r.tick()})})}return __extends(t,e),t.prototype.registerBootstrapListener=function(e){this._bootstrapListeners.push(e)},t.prototype.registerDisposeListener=function(e){this._disposeListeners.push(e)},t.prototype.registerChangeDetector=function(e){this._changeDetectorRefs.push(e)},t.prototype.unregisterChangeDetector=function(e){collection_1.ListWrapper.remove(this._changeDetectorRefs,e)},t.prototype.waitForAsyncInitializers=function(){return this._asyncInitDonePromise},t.prototype.run=function(e){var t,o=this,n=this.injector.get(ng_zone_1.NgZone),r=async_1.PromiseWrapper.completer();return n.run(function(){try{t=e(),lang_1.isPromise(t)&&async_1.PromiseWrapper.then(t,function(e){r.resolve(e)},function(e,t){r.reject(e,t),o._exceptionHandler.call(e,t)})}catch(n){throw o._exceptionHandler.call(n,n.stack),n}}),lang_1.isPromise(t)?r.promise:t},t.prototype.bootstrap=function(e){var t=this;if(!this._asyncInitDone)throw new exceptions_1.BaseException("Cannot bootstrap as there are still asynchronous initializers running. Wait for them using waitForAsyncInitializers().");return this.run(function(){t._rootComponentTypes.push(e.componentType);var o=e.create(t._injector,[],e.selector);o.onDestroy(function(){t._unloadComponent(o)});var n=o.injector.get(testability_1.Testability,null);lang_1.isPresent(n)&&o.injector.get(testability_1.TestabilityRegistry).registerApplication(o.location.nativeElement,n),t._loadComponent(o);var r=t._injector.get(console_1.Console);return lang_1.assertionsEnabled()&&r.log("Angular 2 is running in the development mode. Call enableProdMode() to enable the production mode."),o})},t.prototype._loadComponent=function(e){this._changeDetectorRefs.push(e.changeDetectorRef),this.tick(),this._rootComponents.push(e),this._bootstrapListeners.forEach(function(t){return t(e)})},t.prototype._unloadComponent=function(e){collection_1.ListWrapper.contains(this._rootComponents,e)&&(this.unregisterChangeDetector(e.changeDetectorRef),collection_1.ListWrapper.remove(this._rootComponents,e))},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zone",{get:function(){return this._zone},enumerable:!0,configurable:!0}),t.prototype.tick=function(){if(this._runningTick)throw new exceptions_1.BaseException("ApplicationRef.tick is called recursively");var e=t._tickScope();try{this._runningTick=!0,this._changeDetectorRefs.forEach(function(e){return e.detectChanges()}),this._enforceNoNewChanges&&this._changeDetectorRefs.forEach(function(e){return e.checkNoChanges()})}finally{this._runningTick=!1,profile_1.wtfLeave(e)}},t.prototype.dispose=function(){collection_1.ListWrapper.clone(this._rootComponents).forEach(function(e){return e.destroy()}),this._disposeListeners.forEach(function(e){return e()}),this._platform._applicationDisposed(this)},Object.defineProperty(t.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),t._tickScope=profile_1.wtfCreateScope("ApplicationRef#tick()"),t.decorators=[{type:di_1.Injectable}],t.ctorParameters=[{type:PlatformRef_},{type:ng_zone_1.NgZone},{type:di_1.Injector}],t}(ApplicationRef);exports.ApplicationRef_=ApplicationRef_,exports.PLATFORM_CORE_PROVIDERS=[PlatformRef_,{provide:PlatformRef,useExisting:PlatformRef_}],exports.APPLICATION_CORE_PROVIDERS=[{provide:ng_zone_1.NgZone,useFactory:createNgZone,deps:[]},ApplicationRef_,{provide:ApplicationRef,useExisting:ApplicationRef_}];

},{"144":144,"154":154,"157":157,"169":169,"171":171,"173":173,"174":174,"178":178,"199":199,"209":209,"213":213}],144:[function(require,module,exports){
"use strict";function _appIdRandomProviderFactory(){return""+_randomChar()+_randomChar()+_randomChar()}function _randomChar(){return lang_1.StringWrapper.fromCharCode(97+lang_1.Math.floor(25*lang_1.Math.random()))}var di_1=require(157),lang_1=require(174);exports.APP_ID=new di_1.OpaqueToken("AppId"),exports.APP_ID_RANDOM_PROVIDER={provide:exports.APP_ID,useFactory:_appIdRandomProviderFactory,deps:[]},exports.PLATFORM_INITIALIZER=new di_1.OpaqueToken("Platform Initializer"),exports.APP_INITIALIZER=new di_1.OpaqueToken("Application Initializer"),exports.PACKAGE_ROOT_URL=new di_1.OpaqueToken("Application Packages Root URL");

},{"157":157,"174":174}],145:[function(require,module,exports){
"use strict";var change_detection_1=require(146);exports.ChangeDetectionStrategy=change_detection_1.ChangeDetectionStrategy,exports.ChangeDetectorRef=change_detection_1.ChangeDetectorRef,exports.WrappedValue=change_detection_1.WrappedValue,exports.SimpleChange=change_detection_1.SimpleChange,exports.DefaultIterableDiffer=change_detection_1.DefaultIterableDiffer,exports.IterableDiffers=change_detection_1.IterableDiffers,exports.KeyValueDiffers=change_detection_1.KeyValueDiffers,exports.CollectionChangeRecord=change_detection_1.CollectionChangeRecord,exports.KeyValueChangeRecord=change_detection_1.KeyValueChangeRecord;

},{"146":146}],146:[function(require,module,exports){
"use strict";var iterable_differs_1=require(152),default_iterable_differ_1=require(150),keyvalue_differs_1=require(153),default_keyvalue_differ_1=require(151),default_keyvalue_differ_2=require(151);exports.DefaultKeyValueDifferFactory=default_keyvalue_differ_2.DefaultKeyValueDifferFactory,exports.KeyValueChangeRecord=default_keyvalue_differ_2.KeyValueChangeRecord;var default_iterable_differ_2=require(150);exports.DefaultIterableDifferFactory=default_iterable_differ_2.DefaultIterableDifferFactory,exports.CollectionChangeRecord=default_iterable_differ_2.CollectionChangeRecord;var constants_1=require(149);exports.ChangeDetectionStrategy=constants_1.ChangeDetectionStrategy,exports.CHANGE_DETECTION_STRATEGY_VALUES=constants_1.CHANGE_DETECTION_STRATEGY_VALUES,exports.ChangeDetectorState=constants_1.ChangeDetectorState,exports.CHANGE_DETECTOR_STATE_VALUES=constants_1.CHANGE_DETECTOR_STATE_VALUES,exports.isDefaultChangeDetectionStrategy=constants_1.isDefaultChangeDetectionStrategy;var change_detector_ref_1=require(148);exports.ChangeDetectorRef=change_detector_ref_1.ChangeDetectorRef;var iterable_differs_2=require(152);exports.IterableDiffers=iterable_differs_2.IterableDiffers;var keyvalue_differs_2=require(153);exports.KeyValueDiffers=keyvalue_differs_2.KeyValueDiffers;var default_iterable_differ_3=require(150);exports.DefaultIterableDiffer=default_iterable_differ_3.DefaultIterableDiffer;var change_detection_util_1=require(147);exports.WrappedValue=change_detection_util_1.WrappedValue,exports.ValueUnwrapper=change_detection_util_1.ValueUnwrapper,exports.SimpleChange=change_detection_util_1.SimpleChange,exports.devModeEqual=change_detection_util_1.devModeEqual,exports.looseIdentical=change_detection_util_1.looseIdentical,exports.uninitialized=change_detection_util_1.uninitialized,exports.keyValDiff=[new default_keyvalue_differ_1.DefaultKeyValueDifferFactory],exports.iterableDiff=[new default_iterable_differ_1.DefaultIterableDifferFactory],exports.defaultIterableDiffers=new iterable_differs_1.IterableDiffers(exports.iterableDiff),exports.defaultKeyValueDiffers=new keyvalue_differs_1.KeyValueDiffers(exports.keyValDiff);

},{"147":147,"148":148,"149":149,"150":150,"151":151,"152":152,"153":153}],147:[function(require,module,exports){
"use strict";function devModeEqual(e,a){return collection_1.isListLikeIterable(e)&&collection_1.isListLikeIterable(a)?collection_1.areIterablesEqual(e,a,devModeEqual):collection_1.isListLikeIterable(e)||lang_1.isPrimitive(e)||collection_1.isListLikeIterable(a)||lang_1.isPrimitive(a)?lang_1.looseIdentical(e,a):!0}var lang_1=require(174),collection_1=require(171),lang_2=require(174);exports.looseIdentical=lang_2.looseIdentical,exports.uninitialized=new Object,exports.devModeEqual=devModeEqual;var WrappedValue=function(){function e(e){this.wrapped=e}return e.wrap=function(a){return new e(a)},e}();exports.WrappedValue=WrappedValue;var ValueUnwrapper=function(){function e(){this.hasWrappedValue=!1}return e.prototype.unwrap=function(e){return e instanceof WrappedValue?(this.hasWrappedValue=!0,e.wrapped):e},e.prototype.reset=function(){this.hasWrappedValue=!1},e}();exports.ValueUnwrapper=ValueUnwrapper;var SimpleChange=function(){function e(e,a){this.previousValue=e,this.currentValue=a}return e.prototype.isFirstChange=function(){return this.previousValue===exports.uninitialized},e}();exports.SimpleChange=SimpleChange;

},{"171":171,"174":174}],148:[function(require,module,exports){
"use strict";var ChangeDetectorRef=function(){function e(){}return e}();exports.ChangeDetectorRef=ChangeDetectorRef;

},{}],149:[function(require,module,exports){
"use strict";function isDefaultChangeDetectionStrategy(e){return lang_1.isBlank(e)||e===ChangeDetectionStrategy.Default}var lang_1=require(174);!function(e){e[e.NeverChecked=0]="NeverChecked",e[e.CheckedBefore=1]="CheckedBefore",e[e.Errored=2]="Errored"}(exports.ChangeDetectorState||(exports.ChangeDetectorState={}));var ChangeDetectorState=exports.ChangeDetectorState;!function(e){e[e.CheckOnce=0]="CheckOnce",e[e.Checked=1]="Checked",e[e.CheckAlways=2]="CheckAlways",e[e.Detached=3]="Detached",e[e.OnPush=4]="OnPush",e[e.Default=5]="Default"}(exports.ChangeDetectionStrategy||(exports.ChangeDetectionStrategy={}));var ChangeDetectionStrategy=exports.ChangeDetectionStrategy;exports.CHANGE_DETECTION_STRATEGY_VALUES=[ChangeDetectionStrategy.CheckOnce,ChangeDetectionStrategy.Checked,ChangeDetectionStrategy.CheckAlways,ChangeDetectionStrategy.Detached,ChangeDetectionStrategy.OnPush,ChangeDetectionStrategy.Default],exports.CHANGE_DETECTOR_STATE_VALUES=[ChangeDetectorState.NeverChecked,ChangeDetectorState.CheckedBefore,ChangeDetectorState.Errored],exports.isDefaultChangeDetectionStrategy=isDefaultChangeDetectionStrategy;

},{"174":174}],150:[function(require,module,exports){
"use strict";var exceptions_1=require(173),collection_1=require(171),lang_1=require(174),DefaultIterableDifferFactory=function(){function t(){}return t.prototype.supports=function(t){return collection_1.isListLikeIterable(t)},t.prototype.create=function(t,e){return new DefaultIterableDiffer(e)},t}();exports.DefaultIterableDifferFactory=DefaultIterableDifferFactory;var trackByIdentity=function(t,e){return e},DefaultIterableDiffer=function(){function t(t){this._trackByFn=t,this._length=null,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=lang_1.isPresent(this._trackByFn)?this._trackByFn:trackByIdentity}return Object.defineProperty(t.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(lang_1.isBlank(t)&&(t=[]),!collection_1.isListLikeIterable(t))throw new exceptions_1.BaseException("Error trying to diff '"+t+"'");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,i,l,r=this._itHead,o=!1;if(lang_1.isArray(t)){var s=t;for(this._length=t.length,n=0;n<this._length;n++)i=s[n],l=this._trackByFn(n,i),null!==r&&lang_1.looseIdentical(r.trackById,l)?(o&&(r=this._verifyReinsertion(r,i,l,n)),lang_1.looseIdentical(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,l,n),o=!0),r=r._next}else n=0,collection_1.iterateListLike(t,function(t){l=e._trackByFn(n,t),null!==r&&lang_1.looseIdentical(r.trackById,l)?(o&&(r=e._verifyReinsertion(r,t,l,n)),lang_1.looseIdentical(r.item,t)||e._addIdentityChange(r,t)):(r=e._mismatch(r,t,l,n),o=!0),r=r._next,n++}),this._length=n;return this._truncate(r),this._collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,i){var l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),t=null===this._linkedRecords?null:this._linkedRecords.get(n,i),null!==t?(lang_1.looseIdentical(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,l,i)):(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n),null!==t?(lang_1.looseIdentical(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,l,i)):t=this._addAfter(new CollectionChangeRecord(e,n),l,i)),t},t.prototype._verifyReinsertion=function(t,e,n,i){var l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n);return null!==l?t=this._reinsertAfter(l,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var i=t._prevRemoved,l=t._nextRemoved;return null===i?this._removalsHead=l:i._nextRemoved=l,null===l?this._removalsTail=i:l._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),null===this._additionsTail?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new _DuplicateMap),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(null===this._movesTail?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _DuplicateMap),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t},t.prototype.toString=function(){var t=[];this.forEachItem(function(e){return t.push(e)});var e=[];this.forEachPreviousItem(function(t){return e.push(t)});var n=[];this.forEachAddedItem(function(t){return n.push(t)});var i=[];this.forEachMovedItem(function(t){return i.push(t)});var l=[];this.forEachRemovedItem(function(t){return l.push(t)});var r=[];return this.forEachIdentityChange(function(t){return r.push(t)}),"collection: "+t.join(", ")+"\nprevious: "+e.join(", ")+"\nadditions: "+n.join(", ")+"\nmoves: "+i.join(", ")+"\nremovals: "+l.join(", ")+"\nidentityChanges: "+r.join(", ")+"\n"},t}();exports.DefaultIterableDiffer=DefaultIterableDiffer;var CollectionChangeRecord=function(){function t(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return t.prototype.toString=function(){return this.previousIndex===this.currentIndex?lang_1.stringify(this.item):lang_1.stringify(this.item)+"["+lang_1.stringify(this.previousIndex)+"->"+lang_1.stringify(this.currentIndex)+"]"},t}();exports.CollectionChangeRecord=CollectionChangeRecord;var _DuplicateItemRecordList=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<n.currentIndex)&&lang_1.looseIdentical(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),_DuplicateMap=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=lang_1.getMapKey(t.trackById),n=this.map.get(e);lang_1.isPresent(n)||(n=new _DuplicateItemRecordList,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){void 0===e&&(e=null);var n=lang_1.getMapKey(t),i=this.map.get(n);return lang_1.isBlank(i)?null:i.get(t,e)},t.prototype.remove=function(t){var e=lang_1.getMapKey(t.trackById),n=this.map.get(e);return n.remove(t)&&this.map["delete"](e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t.prototype.toString=function(){return"_DuplicateMap("+lang_1.stringify(this.map)+")"},t}();

},{"171":171,"173":173,"174":174}],151:[function(require,module,exports){
"use strict";var collection_1=require(171),lang_1=require(174),exceptions_1=require(173),DefaultKeyValueDifferFactory=function(){function e(){}return e.prototype.supports=function(e){return e instanceof Map||lang_1.isJsObject(e)},e.prototype.create=function(e){return new DefaultKeyValueDiffer},e}();exports.DefaultKeyValueDifferFactory=DefaultKeyValueDifferFactory;var DefaultKeyValueDiffer=function(){function e(){this._records=new Map,this._mapHead=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),e.prototype.forEachItem=function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.diff=function(e){if(lang_1.isBlank(e)&&(e=collection_1.MapWrapper.createFromPairs([])),!(e instanceof Map||lang_1.isJsObject(e)))throw new exceptions_1.BaseException("Error trying to diff '"+e+"'");return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n=this._records,a=this._mapHead,i=null,o=null,l=!1;return this._forEach(e,function(e,r){var s;null!==a&&r===a.key?(s=a,lang_1.looseIdentical(e,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=e,t._addToChanges(a))):(l=!0,null!==a&&(a._next=null,t._removeFromSeq(i,a),t._addToRemovals(a)),n.has(r)?s=n.get(r):(s=new KeyValueChangeRecord(r),n.set(r,s),s.currentValue=e,t._addToAdditions(s))),l&&(t._isInRemovals(s)&&t._removeFromRemovals(s),null==o?t._mapHead=s:o._next=s),i=a,o=s,a=null===a?null:a._next}),this._truncate(i,a),this.isDirty},e.prototype._reset=function(){if(this.isDirty){var e;for(e=this._previousMapHead=this._mapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=this._removalsTail=null}},e.prototype._truncate=function(e,t){for(;null!==t;){null===e?this._mapHead=null:e._next=null;var n=t._next;this._addToRemovals(t),e=t,t=n}for(var a=this._removalsHead;null!==a;a=a._nextRemoved)a.previousValue=a.currentValue,a.currentValue=null,this._records["delete"](a.key)},e.prototype._isInRemovals=function(e){return e===this._removalsHead||null!==e._nextRemoved||null!==e._prevRemoved},e.prototype._addToRemovals=function(e){null===this._removalsHead?this._removalsHead=this._removalsTail=e:(this._removalsTail._nextRemoved=e,e._prevRemoved=this._removalsTail,this._removalsTail=e)},e.prototype._removeFromSeq=function(e,t){var n=t._next;null===e?this._mapHead=n:e._next=n},e.prototype._removeFromRemovals=function(e){var t=e._prevRemoved,n=e._nextRemoved;null===t?this._removalsHead=n:t._nextRemoved=n,null===n?this._removalsTail=t:n._prevRemoved=t,e._prevRemoved=e._nextRemoved=null},e.prototype._addToAdditions=function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)},e.prototype._addToChanges=function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)},e.prototype.toString=function(){var e,t=[],n=[],a=[],i=[],o=[];for(e=this._mapHead;null!==e;e=e._next)t.push(lang_1.stringify(e));for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n.push(lang_1.stringify(e));for(e=this._changesHead;null!==e;e=e._nextChanged)a.push(lang_1.stringify(e));for(e=this._additionsHead;null!==e;e=e._nextAdded)i.push(lang_1.stringify(e));for(e=this._removalsHead;null!==e;e=e._nextRemoved)o.push(lang_1.stringify(e));return"map: "+t.join(", ")+"\nprevious: "+n.join(", ")+"\nadditions: "+i.join(", ")+"\nchanges: "+a.join(", ")+"\nremovals: "+o.join(", ")+"\n"},e.prototype._forEach=function(e,t){e instanceof Map?e.forEach(t):collection_1.StringMapWrapper.forEach(e,t)},e}();exports.DefaultKeyValueDiffer=DefaultKeyValueDiffer;var KeyValueChangeRecord=function(){function e(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._nextAdded=null,this._nextRemoved=null,this._prevRemoved=null,this._nextChanged=null}return e.prototype.toString=function(){return lang_1.looseIdentical(this.previousValue,this.currentValue)?lang_1.stringify(this.key):lang_1.stringify(this.key)+"["+lang_1.stringify(this.previousValue)+"->"+lang_1.stringify(this.currentValue)+"]"},e}();exports.KeyValueChangeRecord=KeyValueChangeRecord;

},{"171":171,"173":173,"174":174}],152:[function(require,module,exports){
"use strict";var lang_1=require(174),exceptions_1=require(173),collection_1=require(171),di_1=require(157),IterableDiffers=function(){function e(e){this.factories=e}return e.create=function(t,n){if(lang_1.isPresent(n)){var r=collection_1.ListWrapper.clone(n.factories);return t=t.concat(r),new e(t)}return new e(t)},e.extend=function(t){return new di_1.Provider(e,{useFactory:function(n){if(lang_1.isBlank(n))throw new exceptions_1.BaseException("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new di_1.SkipSelfMetadata,new di_1.OptionalMetadata]]})},e.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(lang_1.isPresent(t))return t;throw new exceptions_1.BaseException("Cannot find a differ supporting object '"+e+"' of type '"+lang_1.getTypeNameForDebugging(e)+"'")},e}();exports.IterableDiffers=IterableDiffers;

},{"157":157,"171":171,"173":173,"174":174}],153:[function(require,module,exports){
"use strict";var lang_1=require(174),exceptions_1=require(173),collection_1=require(171),di_1=require(157),KeyValueDiffers=function(){function e(e){this.factories=e}return e.create=function(n,t){if(lang_1.isPresent(t)){var r=collection_1.ListWrapper.clone(t.factories);return n=n.concat(r),new e(n)}return new e(n)},e.extend=function(n){return new di_1.Provider(e,{useFactory:function(t){if(lang_1.isBlank(t))throw new exceptions_1.BaseException("Cannot extend KeyValueDiffers without a parent injector");return e.create(n,t)},deps:[[e,new di_1.SkipSelfMetadata,new di_1.OptionalMetadata]]})},e.prototype.find=function(e){var n=this.factories.find(function(n){return n.supports(e)});if(lang_1.isPresent(n))return n;throw new exceptions_1.BaseException("Cannot find a differ supporting object '"+e+"'")},e}();exports.KeyValueDiffers=KeyValueDiffers;

},{"157":157,"171":171,"173":173,"174":174}],154:[function(require,module,exports){
"use strict";var lang_1=require(174),decorators_1=require(158),_warnImpl=lang_1.warn,Console=function(){function o(){}return o.prototype.log=function(o){lang_1.print(o)},o.prototype.warn=function(o){_warnImpl(o)},o.decorators=[{type:decorators_1.Injectable}],o}();exports.Console=Console;

},{"158":158,"174":174}],155:[function(require,module,exports){
"use strict";function asNativeElements(e){return e.map(function(e){return e.nativeElement})}function _queryElementChildren(e,t,n){e.childNodes.forEach(function(e){e instanceof DebugElement&&(t(e)&&n.push(e),_queryElementChildren(e,t,n))})}function _queryNodeChildren(e,t,n){e instanceof DebugElement&&e.childNodes.forEach(function(e){t(e)&&n.push(e),e instanceof DebugElement&&_queryNodeChildren(e,t,n)})}function getDebugNode(e){return _nativeNodeToDebugNode.get(e)}function getAllDebugNodes(){return collection_1.MapWrapper.values(_nativeNodeToDebugNode)}function indexDebugNode(e){_nativeNodeToDebugNode.set(e.nativeNode,e)}function removeDebugNodeFromIndex(e){_nativeNodeToDebugNode["delete"](e.nativeNode)}var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},lang_1=require(174),collection_1=require(171),EventListener=function(){function e(e,t){this.name=e,this.callback=t}return e}();exports.EventListener=EventListener;var DebugNode=function(){function e(e,t,n){this._debugInfo=n,this.nativeNode=e,lang_1.isPresent(t)&&t instanceof DebugElement?t.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(e.prototype,"injector",{get:function(){return lang_1.isPresent(this._debugInfo)?this._debugInfo.injector:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentInstance",{get:function(){return lang_1.isPresent(this._debugInfo)?this._debugInfo.component:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return lang_1.isPresent(this._debugInfo)?this._debugInfo.context:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return lang_1.isPresent(this._debugInfo)?this._debugInfo.references:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){return lang_1.isPresent(this._debugInfo)?this._debugInfo.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return lang_1.isPresent(this._debugInfo)?this._debugInfo.source:null},enumerable:!0,configurable:!0}),e.prototype.inject=function(e){return this.injector.get(e)},e}();exports.DebugNode=DebugNode;var DebugElement=function(e){function t(t,n,o){e.call(this,t,n,o),this.properties={},this.attributes={},this.childNodes=[],this.nativeElement=t}return __extends(t,e),t.prototype.addChild=function(e){lang_1.isPresent(e)&&(this.childNodes.push(e),e.parent=this)},t.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))},t.prototype.insertChildrenAfter=function(e,t){var n=this.childNodes.indexOf(e);if(-1!==n){var o=this.childNodes.slice(0,n+1),r=this.childNodes.slice(n+1);this.childNodes=collection_1.ListWrapper.concat(collection_1.ListWrapper.concat(o,t),r);for(var i=0;i<t.length;++i){var u=t[i];lang_1.isPresent(u.parent)&&u.parent.removeChild(u),u.parent=this}}},t.prototype.query=function(e){var t=this.queryAll(e);return t.length>0?t[0]:null},t.prototype.queryAll=function(e){var t=[];return _queryElementChildren(this,e,t),t},t.prototype.queryAllNodes=function(e){var t=[];return _queryNodeChildren(this,e,t),t},Object.defineProperty(t.prototype,"children",{get:function(){var e=[];return this.childNodes.forEach(function(n){n instanceof t&&e.push(n)}),e},enumerable:!0,configurable:!0}),t.prototype.triggerEventHandler=function(e,t){this.listeners.forEach(function(n){n.name==e&&n.callback(t)})},t}(DebugNode);exports.DebugElement=DebugElement,exports.asNativeElements=asNativeElements;var _nativeNodeToDebugNode=new Map;exports.getDebugNode=getDebugNode,exports.getAllDebugNodes=getAllDebugNodes,exports.indexDebugNode=indexDebugNode,exports.removeDebugNodeFromIndex=removeDebugNodeFromIndex;

},{"171":171,"174":174}],156:[function(require,module,exports){
"use strict";var lang_1=require(174),debug_node_1=require(155),DebugDomRootRenderer=function(){function e(e){this._delegate=e}return e.prototype.renderComponent=function(e){return new DebugDomRenderer(this._delegate.renderComponent(e))},e}();exports.DebugDomRootRenderer=DebugDomRootRenderer;var DebugDomRenderer=function(){function e(e){this._delegate=e}return e.prototype.selectRootElement=function(e,t){var n=this._delegate.selectRootElement(e,t),o=new debug_node_1.DebugElement(n,null,t);return debug_node_1.indexDebugNode(o),n},e.prototype.createElement=function(e,t,n){var o=this._delegate.createElement(e,t,n),r=new debug_node_1.DebugElement(o,debug_node_1.getDebugNode(e),n);return r.name=t,debug_node_1.indexDebugNode(r),o},e.prototype.createViewRoot=function(e){return this._delegate.createViewRoot(e)},e.prototype.createTemplateAnchor=function(e,t){var n=this._delegate.createTemplateAnchor(e,t),o=new debug_node_1.DebugNode(n,debug_node_1.getDebugNode(e),t);return debug_node_1.indexDebugNode(o),n},e.prototype.createText=function(e,t,n){var o=this._delegate.createText(e,t,n),r=new debug_node_1.DebugNode(o,debug_node_1.getDebugNode(e),n);return debug_node_1.indexDebugNode(r),o},e.prototype.projectNodes=function(e,t){var n=debug_node_1.getDebugNode(e);if(lang_1.isPresent(n)&&n instanceof debug_node_1.DebugElement){var o=n;t.forEach(function(e){o.addChild(debug_node_1.getDebugNode(e))})}this._delegate.projectNodes(e,t)},e.prototype.attachViewAfter=function(e,t){var n=debug_node_1.getDebugNode(e);if(lang_1.isPresent(n)){var o=n.parent;if(t.length>0&&lang_1.isPresent(o)){var r=[];t.forEach(function(e){return r.push(debug_node_1.getDebugNode(e))}),o.insertChildrenAfter(n,r)}}this._delegate.attachViewAfter(e,t)},e.prototype.detachView=function(e){e.forEach(function(e){var t=debug_node_1.getDebugNode(e);lang_1.isPresent(t)&&lang_1.isPresent(t.parent)&&t.parent.removeChild(t)}),this._delegate.detachView(e)},e.prototype.destroyView=function(e,t){t.forEach(function(e){debug_node_1.removeDebugNodeFromIndex(debug_node_1.getDebugNode(e))}),this._delegate.destroyView(e,t)},e.prototype.listen=function(e,t,n){var o=debug_node_1.getDebugNode(e);return lang_1.isPresent(o)&&o.listeners.push(new debug_node_1.EventListener(t,n)),this._delegate.listen(e,t,n)},e.prototype.listenGlobal=function(e,t,n){return this._delegate.listenGlobal(e,t,n)},e.prototype.setElementProperty=function(e,t,n){var o=debug_node_1.getDebugNode(e);lang_1.isPresent(o)&&o instanceof debug_node_1.DebugElement&&(o.properties[t]=n),this._delegate.setElementProperty(e,t,n)},e.prototype.setElementAttribute=function(e,t,n){var o=debug_node_1.getDebugNode(e);lang_1.isPresent(o)&&o instanceof debug_node_1.DebugElement&&(o.attributes[t]=n),this._delegate.setElementAttribute(e,t,n)},e.prototype.setBindingDebugInfo=function(e,t,n){this._delegate.setBindingDebugInfo(e,t,n)},e.prototype.setElementClass=function(e,t,n){this._delegate.setElementClass(e,t,n)},e.prototype.setElementStyle=function(e,t,n){this._delegate.setElementStyle(e,t,n)},e.prototype.invokeElementMethod=function(e,t,n){this._delegate.invokeElementMethod(e,t,n)},e.prototype.setText=function(e,t){this._delegate.setText(e,t)},e}();exports.DebugDomRenderer=DebugDomRenderer;

},{"155":155,"174":174}],157:[function(require,module,exports){
"use strict";function __export(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}var metadata_1=require(161);exports.InjectMetadata=metadata_1.InjectMetadata,exports.OptionalMetadata=metadata_1.OptionalMetadata,exports.InjectableMetadata=metadata_1.InjectableMetadata,exports.SelfMetadata=metadata_1.SelfMetadata,exports.HostMetadata=metadata_1.HostMetadata,exports.SkipSelfMetadata=metadata_1.SkipSelfMetadata,exports.DependencyMetadata=metadata_1.DependencyMetadata,__export(require(158));var forward_ref_1=require(159);exports.forwardRef=forward_ref_1.forwardRef,exports.resolveForwardRef=forward_ref_1.resolveForwardRef;var injector_1=require(160);exports.Injector=injector_1.Injector;var reflective_injector_1=require(166);exports.ReflectiveInjector=reflective_injector_1.ReflectiveInjector;var provider_1=require(163);exports.Binding=provider_1.Binding,exports.ProviderBuilder=provider_1.ProviderBuilder,exports.bind=provider_1.bind,exports.Provider=provider_1.Provider,exports.provide=provider_1.provide;var reflective_provider_1=require(168);exports.ResolvedReflectiveFactory=reflective_provider_1.ResolvedReflectiveFactory,exports.ReflectiveDependency=reflective_provider_1.ReflectiveDependency;var reflective_key_1=require(167);exports.ReflectiveKey=reflective_key_1.ReflectiveKey;var reflective_exceptions_1=require(165);exports.NoProviderError=reflective_exceptions_1.NoProviderError,exports.AbstractProviderError=reflective_exceptions_1.AbstractProviderError,exports.CyclicDependencyError=reflective_exceptions_1.CyclicDependencyError,exports.InstantiationError=reflective_exceptions_1.InstantiationError,exports.InvalidProviderError=reflective_exceptions_1.InvalidProviderError,exports.NoAnnotationError=reflective_exceptions_1.NoAnnotationError,exports.OutOfBoundsError=reflective_exceptions_1.OutOfBoundsError;var opaque_token_1=require(162);exports.OpaqueToken=opaque_token_1.OpaqueToken;

},{"158":158,"159":159,"160":160,"161":161,"162":162,"163":163,"165":165,"166":166,"167":167,"168":168}],158:[function(require,module,exports){
"use strict";var metadata_1=require(161),decorators_1=require(211);exports.Inject=decorators_1.makeParamDecorator(metadata_1.InjectMetadata),exports.Optional=decorators_1.makeParamDecorator(metadata_1.OptionalMetadata),exports.Injectable=decorators_1.makeDecorator(metadata_1.InjectableMetadata),exports.Self=decorators_1.makeParamDecorator(metadata_1.SelfMetadata),exports.Host=decorators_1.makeParamDecorator(metadata_1.HostMetadata),exports.SkipSelf=decorators_1.makeParamDecorator(metadata_1.SkipSelfMetadata);

},{"161":161,"211":211}],159:[function(require,module,exports){
"use strict";function forwardRef(r){return r.__forward_ref__=forwardRef,r.toString=function(){return lang_1.stringify(this())},r}function resolveForwardRef(r){return lang_1.isFunction(r)&&r.hasOwnProperty("__forward_ref__")&&r.__forward_ref__===forwardRef?r():r}var lang_1=require(174);exports.forwardRef=forwardRef,exports.resolveForwardRef=resolveForwardRef;

},{"174":174}],160:[function(require,module,exports){
"use strict";var exceptions_1=require(173),_THROW_IF_NOT_FOUND=new Object;exports.THROW_IF_NOT_FOUND=_THROW_IF_NOT_FOUND;var Injector=function(){function e(){}return e.prototype.get=function(e,t){return exceptions_1.unimplemented()},e.THROW_IF_NOT_FOUND=_THROW_IF_NOT_FOUND,e}();exports.Injector=Injector;

},{"173":173}],161:[function(require,module,exports){
"use strict";var lang_1=require(174),InjectMetadata=function(){function t(t){this.token=t}return t.prototype.toString=function(){return"@Inject("+lang_1.stringify(this.token)+")"},t}();exports.InjectMetadata=InjectMetadata;var OptionalMetadata=function(){function t(){}return t.prototype.toString=function(){return"@Optional()"},t}();exports.OptionalMetadata=OptionalMetadata;var DependencyMetadata=function(){function t(){}return Object.defineProperty(t.prototype,"token",{get:function(){return null},enumerable:!0,configurable:!0}),t}();exports.DependencyMetadata=DependencyMetadata;var InjectableMetadata=function(){function t(){}return t}();exports.InjectableMetadata=InjectableMetadata;var SelfMetadata=function(){function t(){}return t.prototype.toString=function(){return"@Self()"},t}();exports.SelfMetadata=SelfMetadata;var SkipSelfMetadata=function(){function t(){}return t.prototype.toString=function(){return"@SkipSelf()"},t}();exports.SkipSelfMetadata=SkipSelfMetadata;var HostMetadata=function(){function t(){}return t.prototype.toString=function(){return"@Host()"},t}();exports.HostMetadata=HostMetadata;

},{"174":174}],162:[function(require,module,exports){
"use strict";var OpaqueToken=function(){function e(e){this._desc=e}return e.prototype.toString=function(){return"Token "+this._desc},e}();exports.OpaqueToken=OpaqueToken;

},{}],163:[function(require,module,exports){
"use strict";function bind(e){return new ProviderBuilder(e)}function provide(e,t){var r=t.useClass,n=t.useValue,i=t.useExisting,o=t.useFactory,s=t.deps,u=t.multi;return new Provider(e,{useClass:r,useValue:n,useExisting:i,useFactory:o,deps:s,multi:u})}var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},lang_1=require(174),exceptions_1=require(173),Provider=function(){function e(e,t){var r=t.useClass,n=t.useValue,i=t.useExisting,o=t.useFactory,s=t.deps,u=t.multi;this.token=e,this.useClass=r,this.useValue=n,this.useExisting=i,this.useFactory=o,this.dependencies=s,this._multi=u}return Object.defineProperty(e.prototype,"multi",{get:function(){return lang_1.normalizeBool(this._multi)},enumerable:!0,configurable:!0}),e}();exports.Provider=Provider;var Binding=function(e){function t(t,r){var n=r.toClass,i=r.toValue,o=r.toAlias,s=r.toFactory,u=r.deps,a=r.multi;e.call(this,t,{useClass:n,useValue:i,useExisting:o,useFactory:s,deps:u,multi:a})}return __extends(t,e),Object.defineProperty(t.prototype,"toClass",{get:function(){return this.useClass},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toAlias",{get:function(){return this.useExisting},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toFactory",{get:function(){return this.useFactory},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toValue",{get:function(){return this.useValue},enumerable:!0,configurable:!0}),t}(Provider);exports.Binding=Binding,exports.bind=bind;var ProviderBuilder=function(){function e(e){this.token=e}return e.prototype.toClass=function(e){if(!lang_1.isType(e))throw new exceptions_1.BaseException('Trying to create a class provider but "'+lang_1.stringify(e)+'" is not a class!');return new Provider(this.token,{useClass:e})},e.prototype.toValue=function(e){return new Provider(this.token,{useValue:e})},e.prototype.toAlias=function(e){if(lang_1.isBlank(e))throw new exceptions_1.BaseException("Can not alias "+lang_1.stringify(this.token)+" to a blank value!");return new Provider(this.token,{useExisting:e})},e.prototype.toFactory=function(e,t){if(!lang_1.isFunction(e))throw new exceptions_1.BaseException('Trying to create a factory provider but "'+lang_1.stringify(e)+'" is not a function!');return new Provider(this.token,{useFactory:e,deps:t})},e}();exports.ProviderBuilder=ProviderBuilder,exports.provide=provide;

},{"173":173,"174":174}],164:[function(require,module,exports){
"use strict";function isProviderLiteral(r){return r&&"object"==typeof r&&r.provide}function createProvider(r){return new provider_1.Provider(r.provide,r)}var provider_1=require(163);exports.isProviderLiteral=isProviderLiteral,exports.createProvider=createProvider;

},{"163":163}],165:[function(require,module,exports){
"use strict";function findFirstClosedCycle(r){for(var t=[],e=0;e<r.length;++e){if(collection_1.ListWrapper.contains(t,r[e]))return t.push(r[e]),t;t.push(r[e])}return t}function constructResolvingPath(r){if(r.length>1){var t=findFirstClosedCycle(collection_1.ListWrapper.reversed(r)),e=t.map(function(r){return lang_1.stringify(r.token)});return" ("+e.join(" -> ")+")"}return""}var __extends=this&&this.__extends||function(r,t){function e(){this.constructor=r}for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)},collection_1=require(171),lang_1=require(174),exceptions_1=require(173),AbstractProviderError=function(r){function t(t,e,n){r.call(this,"DI Exception"),this.keys=[e],this.injectors=[t],this.constructResolvingMessage=n,this.message=this.constructResolvingMessage(this.keys)}return __extends(t,r),t.prototype.addKey=function(r,t){this.injectors.push(r),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)},Object.defineProperty(t.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:!0,configurable:!0}),t}(exceptions_1.BaseException);exports.AbstractProviderError=AbstractProviderError;var NoProviderError=function(r){function t(t,e){r.call(this,t,e,function(r){var t=lang_1.stringify(collection_1.ListWrapper.first(r).token);return"No provider for "+t+"!"+constructResolvingPath(r)})}return __extends(t,r),t}(AbstractProviderError);exports.NoProviderError=NoProviderError;var CyclicDependencyError=function(r){function t(t,e){r.call(this,t,e,function(r){return"Cannot instantiate cyclic dependency!"+constructResolvingPath(r)})}return __extends(t,r),t}(AbstractProviderError);exports.CyclicDependencyError=CyclicDependencyError;var InstantiationError=function(r){function t(t,e,n,o){r.call(this,"DI Exception",e,n,null),this.keys=[o],this.injectors=[t]}return __extends(t,r),t.prototype.addKey=function(r,t){this.injectors.push(r),this.keys.push(t)},Object.defineProperty(t.prototype,"wrapperMessage",{get:function(){var r=lang_1.stringify(collection_1.ListWrapper.first(this.keys).token);return"Error during instantiation of "+r+"!"+constructResolvingPath(this.keys)+"."},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"causeKey",{get:function(){return this.keys[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:!0,configurable:!0}),t}(exceptions_1.WrappedException);exports.InstantiationError=InstantiationError;var InvalidProviderError=function(r){function t(t){r.call(this,"Invalid provider - only instances of Provider and Type are allowed, got: "+t.toString())}return __extends(t,r),t}(exceptions_1.BaseException);exports.InvalidProviderError=InvalidProviderError;var NoAnnotationError=function(r){function t(e,n){r.call(this,t._genMessage(e,n))}return __extends(t,r),t._genMessage=function(r,t){for(var e=[],n=0,o=t.length;o>n;n++){var i=t[n];lang_1.isBlank(i)||0==i.length?e.push("?"):e.push(i.map(lang_1.stringify).join(" "))}return"Cannot resolve all parameters for '"+lang_1.stringify(r)+"'("+e.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+lang_1.stringify(r)+"' is decorated with Injectable."},t}(exceptions_1.BaseException);exports.NoAnnotationError=NoAnnotationError;var OutOfBoundsError=function(r){function t(t){r.call(this,"Index "+t+" is out-of-bounds.")}return __extends(t,r),t}(exceptions_1.BaseException);exports.OutOfBoundsError=OutOfBoundsError;var MixingMultiProvidersWithRegularProvidersError=function(r){function t(t,e){r.call(this,"Cannot mix multi providers and regular providers, got: "+t.toString()+" "+e.toString())}return __extends(t,r),t}(exceptions_1.BaseException);exports.MixingMultiProvidersWithRegularProvidersError=MixingMultiProvidersWithRegularProvidersError;

},{"171":171,"173":173,"174":174}],166:[function(require,module,exports){
"use strict";function _mapProviders(e,t){for(var r=[],i=0;i<e._proto.numberOfProviders;++i)r.push(t(e._proto.getProviderAtIndex(i)));return r}var collection_1=require(171),reflective_provider_1=require(168),reflective_exceptions_1=require(165),exceptions_1=require(173),reflective_key_1=require(167),metadata_1=require(161),injector_1=require(160),__unused,_MAX_CONSTRUCTION_COUNTER=10,UNDEFINED=new Object,ReflectiveProtoInjectorInlineStrategy=function(){function e(e,t){this.provider0=null,this.provider1=null,this.provider2=null,this.provider3=null,this.provider4=null,this.provider5=null,this.provider6=null,this.provider7=null,this.provider8=null,this.provider9=null,this.keyId0=null,this.keyId1=null,this.keyId2=null,this.keyId3=null,this.keyId4=null,this.keyId5=null,this.keyId6=null,this.keyId7=null,this.keyId8=null,this.keyId9=null;var r=t.length;r>0&&(this.provider0=t[0],this.keyId0=t[0].key.id),r>1&&(this.provider1=t[1],this.keyId1=t[1].key.id),r>2&&(this.provider2=t[2],this.keyId2=t[2].key.id),r>3&&(this.provider3=t[3],this.keyId3=t[3].key.id),r>4&&(this.provider4=t[4],this.keyId4=t[4].key.id),r>5&&(this.provider5=t[5],this.keyId5=t[5].key.id),r>6&&(this.provider6=t[6],this.keyId6=t[6].key.id),r>7&&(this.provider7=t[7],this.keyId7=t[7].key.id),r>8&&(this.provider8=t[8],this.keyId8=t[8].key.id),r>9&&(this.provider9=t[9],this.keyId9=t[9].key.id)}return e.prototype.getProviderAtIndex=function(e){if(0==e)return this.provider0;if(1==e)return this.provider1;if(2==e)return this.provider2;if(3==e)return this.provider3;if(4==e)return this.provider4;if(5==e)return this.provider5;if(6==e)return this.provider6;if(7==e)return this.provider7;if(8==e)return this.provider8;if(9==e)return this.provider9;throw new reflective_exceptions_1.OutOfBoundsError(e)},e.prototype.createInjectorStrategy=function(e){return new ReflectiveInjectorInlineStrategy(e,this)},e}();exports.ReflectiveProtoInjectorInlineStrategy=ReflectiveProtoInjectorInlineStrategy;var ReflectiveProtoInjectorDynamicStrategy=function(){function e(e,t){this.providers=t;var r=t.length;this.keyIds=collection_1.ListWrapper.createFixedSize(r);for(var i=0;r>i;i++)this.keyIds[i]=t[i].key.id}return e.prototype.getProviderAtIndex=function(e){if(0>e||e>=this.providers.length)throw new reflective_exceptions_1.OutOfBoundsError(e);return this.providers[e]},e.prototype.createInjectorStrategy=function(e){return new ReflectiveInjectorDynamicStrategy(this,e)},e}();exports.ReflectiveProtoInjectorDynamicStrategy=ReflectiveProtoInjectorDynamicStrategy;var ReflectiveProtoInjector=function(){function e(e){this.numberOfProviders=e.length,this._strategy=e.length>_MAX_CONSTRUCTION_COUNTER?new ReflectiveProtoInjectorDynamicStrategy(this,e):new ReflectiveProtoInjectorInlineStrategy(this,e)}return e.fromResolvedProviders=function(t){return new e(t)},e.prototype.getProviderAtIndex=function(e){return this._strategy.getProviderAtIndex(e)},e}();exports.ReflectiveProtoInjector=ReflectiveProtoInjector;var ReflectiveInjectorInlineStrategy=function(){function e(e,t){this.injector=e,this.protoStrategy=t,this.obj0=UNDEFINED,this.obj1=UNDEFINED,this.obj2=UNDEFINED,this.obj3=UNDEFINED,this.obj4=UNDEFINED,this.obj5=UNDEFINED,this.obj6=UNDEFINED,this.obj7=UNDEFINED,this.obj8=UNDEFINED,this.obj9=UNDEFINED}return e.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},e.prototype.instantiateProvider=function(e){return this.injector._new(e)},e.prototype.getObjByKeyId=function(e){var t=this.protoStrategy,r=this.injector;return t.keyId0===e?(this.obj0===UNDEFINED&&(this.obj0=r._new(t.provider0)),this.obj0):t.keyId1===e?(this.obj1===UNDEFINED&&(this.obj1=r._new(t.provider1)),this.obj1):t.keyId2===e?(this.obj2===UNDEFINED&&(this.obj2=r._new(t.provider2)),this.obj2):t.keyId3===e?(this.obj3===UNDEFINED&&(this.obj3=r._new(t.provider3)),this.obj3):t.keyId4===e?(this.obj4===UNDEFINED&&(this.obj4=r._new(t.provider4)),this.obj4):t.keyId5===e?(this.obj5===UNDEFINED&&(this.obj5=r._new(t.provider5)),this.obj5):t.keyId6===e?(this.obj6===UNDEFINED&&(this.obj6=r._new(t.provider6)),this.obj6):t.keyId7===e?(this.obj7===UNDEFINED&&(this.obj7=r._new(t.provider7)),this.obj7):t.keyId8===e?(this.obj8===UNDEFINED&&(this.obj8=r._new(t.provider8)),this.obj8):t.keyId9===e?(this.obj9===UNDEFINED&&(this.obj9=r._new(t.provider9)),this.obj9):UNDEFINED},e.prototype.getObjAtIndex=function(e){if(0==e)return this.obj0;if(1==e)return this.obj1;if(2==e)return this.obj2;if(3==e)return this.obj3;if(4==e)return this.obj4;if(5==e)return this.obj5;if(6==e)return this.obj6;if(7==e)return this.obj7;if(8==e)return this.obj8;if(9==e)return this.obj9;throw new reflective_exceptions_1.OutOfBoundsError(e)},e.prototype.getMaxNumberOfObjects=function(){return _MAX_CONSTRUCTION_COUNTER},e}();exports.ReflectiveInjectorInlineStrategy=ReflectiveInjectorInlineStrategy;var ReflectiveInjectorDynamicStrategy=function(){function e(e,t){this.protoStrategy=e,this.injector=t,this.objs=collection_1.ListWrapper.createFixedSize(e.providers.length),collection_1.ListWrapper.fill(this.objs,UNDEFINED)}return e.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},e.prototype.instantiateProvider=function(e){return this.injector._new(e)},e.prototype.getObjByKeyId=function(e){for(var t=this.protoStrategy,r=0;r<t.keyIds.length;r++)if(t.keyIds[r]===e)return this.objs[r]===UNDEFINED&&(this.objs[r]=this.injector._new(t.providers[r])),this.objs[r];return UNDEFINED},e.prototype.getObjAtIndex=function(e){if(0>e||e>=this.objs.length)throw new reflective_exceptions_1.OutOfBoundsError(e);return this.objs[e]},e.prototype.getMaxNumberOfObjects=function(){return this.objs.length},e}();exports.ReflectiveInjectorDynamicStrategy=ReflectiveInjectorDynamicStrategy;var ReflectiveInjector=function(){function e(){}return e.resolve=function(e){return reflective_provider_1.resolveReflectiveProviders(e)},e.resolveAndCreate=function(t,r){void 0===r&&(r=null);var i=e.resolve(t);return e.fromResolvedProviders(i,r)},e.fromResolvedProviders=function(e,t){return void 0===t&&(t=null),new ReflectiveInjector_(ReflectiveProtoInjector.fromResolvedProviders(e),t)},e.fromResolvedBindings=function(t){return e.fromResolvedProviders(t)},Object.defineProperty(e.prototype,"parent",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),e.prototype.debugContext=function(){return null},e.prototype.resolveAndCreateChild=function(e){return exceptions_1.unimplemented()},e.prototype.createChildFromResolved=function(e){return exceptions_1.unimplemented()},e.prototype.resolveAndInstantiate=function(e){return exceptions_1.unimplemented()},e.prototype.instantiateResolved=function(e){return exceptions_1.unimplemented()},e}();exports.ReflectiveInjector=ReflectiveInjector;var ReflectiveInjector_=function(){function e(e,t,r){void 0===t&&(t=null),void 0===r&&(r=null),this._debugContext=r,this._constructionCounter=0,this._proto=e,this._parent=t,this._strategy=e._strategy.createInjectorStrategy(this)}return e.prototype.debugContext=function(){return this._debugContext()},e.prototype.get=function(e,t){return void 0===t&&(t=injector_1.THROW_IF_NOT_FOUND),this._getByKey(reflective_key_1.ReflectiveKey.get(e),null,null,t)},e.prototype.getAt=function(e){return this._strategy.getObjAtIndex(e)},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"internalStrategy",{get:function(){return this._strategy},enumerable:!0,configurable:!0}),e.prototype.resolveAndCreateChild=function(e){var t=ReflectiveInjector.resolve(e);return this.createChildFromResolved(t)},e.prototype.createChildFromResolved=function(t){var r=new ReflectiveProtoInjector(t),i=new e(r);return i._parent=this,i},e.prototype.resolveAndInstantiate=function(e){return this.instantiateResolved(ReflectiveInjector.resolve([e])[0])},e.prototype.instantiateResolved=function(e){return this._instantiateProvider(e)},e.prototype._new=function(e){if(this._constructionCounter++>this._strategy.getMaxNumberOfObjects())throw new reflective_exceptions_1.CyclicDependencyError(this,e.key);return this._instantiateProvider(e)},e.prototype._instantiateProvider=function(e){if(e.multiProvider){for(var t=collection_1.ListWrapper.createFixedSize(e.resolvedFactories.length),r=0;r<e.resolvedFactories.length;++r)t[r]=this._instantiate(e,e.resolvedFactories[r]);return t}return this._instantiate(e,e.resolvedFactories[0])},e.prototype._instantiate=function(e,t){var r,i,n,o,s,c,l,u,a,d,h,p,y,f,v,_,I,j,b,g,D=t.factory,N=t.dependencies,k=N.length;try{r=k>0?this._getByReflectiveDependency(e,N[0]):null,i=k>1?this._getByReflectiveDependency(e,N[1]):null,n=k>2?this._getByReflectiveDependency(e,N[2]):null,o=k>3?this._getByReflectiveDependency(e,N[3]):null,s=k>4?this._getByReflectiveDependency(e,N[4]):null,c=k>5?this._getByReflectiveDependency(e,N[5]):null,l=k>6?this._getByReflectiveDependency(e,N[6]):null,u=k>7?this._getByReflectiveDependency(e,N[7]):null,a=k>8?this._getByReflectiveDependency(e,N[8]):null,d=k>9?this._getByReflectiveDependency(e,N[9]):null,h=k>10?this._getByReflectiveDependency(e,N[10]):null,p=k>11?this._getByReflectiveDependency(e,N[11]):null,y=k>12?this._getByReflectiveDependency(e,N[12]):null,f=k>13?this._getByReflectiveDependency(e,N[13]):null,v=k>14?this._getByReflectiveDependency(e,N[14]):null,_=k>15?this._getByReflectiveDependency(e,N[15]):null,I=k>16?this._getByReflectiveDependency(e,N[16]):null,j=k>17?this._getByReflectiveDependency(e,N[17]):null,b=k>18?this._getByReflectiveDependency(e,N[18]):null,g=k>19?this._getByReflectiveDependency(e,N[19]):null}catch(R){throw(R instanceof reflective_exceptions_1.AbstractProviderError||R instanceof reflective_exceptions_1.InstantiationError)&&R.addKey(this,e.key),R}var E;try{switch(k){case 0:E=D();break;case 1:E=D(r);break;case 2:E=D(r,i);break;case 3:E=D(r,i,n);break;case 4:E=D(r,i,n,o);break;case 5:E=D(r,i,n,o,s);break;case 6:E=D(r,i,n,o,s,c);break;case 7:E=D(r,i,n,o,s,c,l);break;case 8:E=D(r,i,n,o,s,c,l,u);break;case 9:E=D(r,i,n,o,s,c,l,u,a);break;case 10:E=D(r,i,n,o,s,c,l,u,a,d);break;case 11:E=D(r,i,n,o,s,c,l,u,a,d,h);break;case 12:E=D(r,i,n,o,s,c,l,u,a,d,h,p);break;case 13:E=D(r,i,n,o,s,c,l,u,a,d,h,p,y);break;case 14:E=D(r,i,n,o,s,c,l,u,a,d,h,p,y,f);break;case 15:E=D(r,i,n,o,s,c,l,u,a,d,h,p,y,f,v);break;case 16:E=D(r,i,n,o,s,c,l,u,a,d,h,p,y,f,v,_);break;case 17:E=D(r,i,n,o,s,c,l,u,a,d,h,p,y,f,v,_,I);break;case 18:E=D(r,i,n,o,s,c,l,u,a,d,h,p,y,f,v,_,I,j);break;case 19:E=D(r,i,n,o,s,c,l,u,a,d,h,p,y,f,v,_,I,j,b);break;case 20:E=D(r,i,n,o,s,c,l,u,a,d,h,p,y,f,v,_,I,j,b,g);break;default:throw new exceptions_1.BaseException("Cannot instantiate '"+e.key.displayName+"' because it has more than 20 dependencies")}}catch(R){throw new reflective_exceptions_1.InstantiationError(this,R,R.stack,e.key)}return E},e.prototype._getByReflectiveDependency=function(e,t){return this._getByKey(t.key,t.lowerBoundVisibility,t.upperBoundVisibility,t.optional?null:injector_1.THROW_IF_NOT_FOUND)},e.prototype._getByKey=function(e,t,r,i){return e===INJECTOR_KEY?this:r instanceof metadata_1.SelfMetadata?this._getByKeySelf(e,i):this._getByKeyDefault(e,i,t)},e.prototype._throwOrNull=function(e,t){if(t!==injector_1.THROW_IF_NOT_FOUND)return t;throw new reflective_exceptions_1.NoProviderError(this,e)},e.prototype._getByKeySelf=function(e,t){var r=this._strategy.getObjByKeyId(e.id);return r!==UNDEFINED?r:this._throwOrNull(e,t)},e.prototype._getByKeyDefault=function(t,r,i){var n;for(n=i instanceof metadata_1.SkipSelfMetadata?this._parent:this;n instanceof e;){var o=n,s=o._strategy.getObjByKeyId(t.id);if(s!==UNDEFINED)return s;n=o._parent}return null!==n?n.get(t.token,r):this._throwOrNull(t,r)},Object.defineProperty(e.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+_mapProviders(this,function(e){return' "'+e.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.displayName},e}();exports.ReflectiveInjector_=ReflectiveInjector_;var INJECTOR_KEY=reflective_key_1.ReflectiveKey.get(injector_1.Injector);

},{"160":160,"161":161,"165":165,"167":167,"168":168,"171":171,"173":173}],167:[function(require,module,exports){
"use strict";var lang_1=require(174),exceptions_1=require(173),forward_ref_1=require(159),ReflectiveKey=function(){function e(e,r){if(this.token=e,this.id=r,lang_1.isBlank(e))throw new exceptions_1.BaseException("Token must be defined!")}return Object.defineProperty(e.prototype,"displayName",{get:function(){return lang_1.stringify(this.token)},enumerable:!0,configurable:!0}),e.get=function(e){return _globalKeyRegistry.get(forward_ref_1.resolveForwardRef(e))},Object.defineProperty(e,"numberOfKeys",{get:function(){return _globalKeyRegistry.numberOfKeys},enumerable:!0,configurable:!0}),e}();exports.ReflectiveKey=ReflectiveKey;var KeyRegistry=function(){function e(){this._allKeys=new Map}return e.prototype.get=function(e){if(e instanceof ReflectiveKey)return e;if(this._allKeys.has(e))return this._allKeys.get(e);var r=new ReflectiveKey(e,ReflectiveKey.numberOfKeys);return this._allKeys.set(e,r),r},Object.defineProperty(e.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),e}();exports.KeyRegistry=KeyRegistry;var _globalKeyRegistry=new KeyRegistry;

},{"159":159,"173":173,"174":174}],168:[function(require,module,exports){
"use strict";function resolveReflectiveFactory(e){var r,t;if(lang_1.isPresent(e.useClass)){var i=forward_ref_1.resolveForwardRef(e.useClass);r=reflection_1.reflector.factory(i),t=_dependenciesFor(i)}else lang_1.isPresent(e.useExisting)?(r=function(e){return e},t=[ReflectiveDependency.fromKey(reflective_key_1.ReflectiveKey.get(e.useExisting))]):lang_1.isPresent(e.useFactory)?(r=e.useFactory,t=constructDependencies(e.useFactory,e.dependencies)):(r=function(){return e.useValue},t=_EMPTY_LIST);return new ResolvedReflectiveFactory(r,t)}function resolveReflectiveProvider(e){return new ResolvedReflectiveProvider_(reflective_key_1.ReflectiveKey.get(e.token),[resolveReflectiveFactory(e)],e.multi)}function resolveReflectiveProviders(e){var r=_normalizeProviders(e,[]),t=r.map(resolveReflectiveProvider);return collection_1.MapWrapper.values(mergeResolvedReflectiveProviders(t,new Map))}function mergeResolvedReflectiveProviders(e,r){for(var t=0;t<e.length;t++){var i=e[t],n=r.get(i.key.id);if(lang_1.isPresent(n)){if(i.multiProvider!==n.multiProvider)throw new reflective_exceptions_1.MixingMultiProvidersWithRegularProvidersError(n,i);if(i.multiProvider)for(var o=0;o<i.resolvedFactories.length;o++)n.resolvedFactories.push(i.resolvedFactories[o]);else r.set(i.key.id,i)}else{var l;l=i.multiProvider?new ResolvedReflectiveProvider_(i.key,collection_1.ListWrapper.clone(i.resolvedFactories),i.multiProvider):i,r.set(i.key.id,l)}}return r}function _normalizeProviders(e,r){return e.forEach(function(e){if(e instanceof lang_1.Type)r.push(provider_1.provide(e,{useClass:e}));else if(e instanceof provider_1.Provider)r.push(e);else if(provider_util_1.isProviderLiteral(e))r.push(provider_util_1.createProvider(e));else{if(!(e instanceof Array))throw e instanceof provider_1.ProviderBuilder?new reflective_exceptions_1.InvalidProviderError(e.token):new reflective_exceptions_1.InvalidProviderError(e);_normalizeProviders(e,r)}}),r}function constructDependencies(e,r){if(lang_1.isBlank(r))return _dependenciesFor(e);var t=r.map(function(e){return[e]});return r.map(function(r){return _extractToken(e,r,t)})}function _dependenciesFor(e){var r=reflection_1.reflector.parameters(e);if(lang_1.isBlank(r))return[];if(r.some(lang_1.isBlank))throw new reflective_exceptions_1.NoAnnotationError(e,r);return r.map(function(t){return _extractToken(e,t,r)})}function _extractToken(e,r,t){var i=[],n=null,o=!1;if(!lang_1.isArray(r))return r instanceof metadata_1.InjectMetadata?_createDependency(r.token,o,null,null,i):_createDependency(r,o,null,null,i);for(var l=null,c=null,a=0;a<r.length;++a){var s=r[a];s instanceof lang_1.Type?n=s:s instanceof metadata_1.InjectMetadata?n=s.token:s instanceof metadata_1.OptionalMetadata?o=!0:s instanceof metadata_1.SelfMetadata?c=s:s instanceof metadata_1.HostMetadata?c=s:s instanceof metadata_1.SkipSelfMetadata?l=s:s instanceof metadata_1.DependencyMetadata&&(lang_1.isPresent(s.token)&&(n=s.token),i.push(s))}if(n=forward_ref_1.resolveForwardRef(n),lang_1.isPresent(n))return _createDependency(n,o,l,c,i);throw new reflective_exceptions_1.NoAnnotationError(e,t)}function _createDependency(e,r,t,i,n){return new ReflectiveDependency(reflective_key_1.ReflectiveKey.get(e),r,t,i,n)}var lang_1=require(174),collection_1=require(171),reflection_1=require(202),reflective_key_1=require(167),metadata_1=require(161),reflective_exceptions_1=require(165),forward_ref_1=require(159),provider_1=require(163),provider_util_1=require(164),ReflectiveDependency=function(){function e(e,r,t,i,n){this.key=e,this.optional=r,this.lowerBoundVisibility=t,this.upperBoundVisibility=i,this.properties=n}return e.fromKey=function(r){return new e(r,!1,null,null,[])},e}();exports.ReflectiveDependency=ReflectiveDependency;var _EMPTY_LIST=[],ResolvedReflectiveProvider_=function(){function e(e,r,t){this.key=e,this.resolvedFactories=r,this.multiProvider=t}return Object.defineProperty(e.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),e}();exports.ResolvedReflectiveProvider_=ResolvedReflectiveProvider_;var ResolvedReflectiveFactory=function(){function e(e,r){this.factory=e,this.dependencies=r}return e}();exports.ResolvedReflectiveFactory=ResolvedReflectiveFactory,exports.resolveReflectiveFactory=resolveReflectiveFactory,exports.resolveReflectiveProvider=resolveReflectiveProvider,exports.resolveReflectiveProviders=resolveReflectiveProviders,exports.mergeResolvedReflectiveProviders=mergeResolvedReflectiveProviders,exports.constructDependencies=constructDependencies;

},{"159":159,"161":161,"163":163,"164":164,"165":165,"167":167,"171":171,"174":174,"202":202}],169:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},lang_1=require(174),promise_1=require(175);exports.PromiseWrapper=promise_1.PromiseWrapper,exports.PromiseCompleter=promise_1.PromiseCompleter;var Subject_1=require(290),PromiseObservable_1=require(294),toPromise_1=require(295),Observable_1=require(288);exports.Observable=Observable_1.Observable;var Subject_2=require(290);exports.Subject=Subject_2.Subject;var TimerWrapper=function(){function e(){}return e.setTimeout=function(e,t){return lang_1.global.setTimeout(e,t)},e.clearTimeout=function(e){lang_1.global.clearTimeout(e)},e.setInterval=function(e,t){return lang_1.global.setInterval(e,t)},e.clearInterval=function(e){lang_1.global.clearInterval(e)},e}();exports.TimerWrapper=TimerWrapper;var ObservableWrapper=function(){function e(){}return e.subscribe=function(e,t,r,n){return void 0===n&&(n=function(){}),r="function"==typeof r&&r||lang_1.noop,n="function"==typeof n&&n||lang_1.noop,e.subscribe({next:t,error:r,complete:n})},e.isObservable=function(e){return!!e.subscribe},e.hasSubscribers=function(e){return e.observers.length>0},e.dispose=function(e){e.unsubscribe()},e.callNext=function(e,t){e.next(t)},e.callEmit=function(e,t){e.emit(t)},e.callError=function(e,t){e.error(t)},e.callComplete=function(e){e.complete()},e.fromPromise=function(e){return PromiseObservable_1.PromiseObservable.create(e)},e.toPromise=function(e){return toPromise_1.toPromise.call(e)},e}();exports.ObservableWrapper=ObservableWrapper;var EventEmitter=function(e){function t(t){void 0===t&&(t=!0),e.call(this),this._isAsync=t}return __extends(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.next=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,r,n){var o,i=function(e){return null},s=function(){return null};return t&&"object"==typeof t?(o=this._isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(i=this._isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(s=this._isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(o=this._isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},r&&(i=this._isAsync?function(e){setTimeout(function(){return r(e)})}:function(e){r(e)}),n&&(s=this._isAsync?function(){setTimeout(function(){return n()})}:function(){n()})),e.prototype.subscribe.call(this,o,i,s)},t}(Subject_1.Subject);exports.EventEmitter=EventEmitter;

},{"174":174,"175":175,"288":288,"290":290,"294":294,"295":295}],170:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},BaseWrappedException=function(e){function t(t){e.call(this,t)}return __extends(t,e),Object.defineProperty(t.prototype,"wrapperMessage",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalException",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return""},enumerable:!0,configurable:!0}),t}(Error);exports.BaseWrappedException=BaseWrappedException;

},{}],171:[function(require,module,exports){
"use strict";function _flattenArray(r,n){if(lang_1.isPresent(r))for(var e=0;e<r.length;e++){var t=r[e];lang_1.isArray(t)?_flattenArray(t,n):n.push(t)}return n}function isListLikeIterable(r){return lang_1.isJsObject(r)?lang_1.isArray(r)||!(r instanceof exports.Map)&&lang_1.getSymbolIterator()in r:!1}function areIterablesEqual(r,n,e){for(var t=r[lang_1.getSymbolIterator()](),a=n[lang_1.getSymbolIterator()]();;){var i=t.next(),o=a.next();if(i.done&&o.done)return!0;if(i.done||o.done)return!1;if(!e(i.value,o.value))return!1}}function iterateListLike(r,n){if(lang_1.isArray(r))for(var e=0;e<r.length;e++)n(r[e]);else for(var t,a=r[lang_1.getSymbolIterator()]();!(t=a.next()).done;)n(t.value)}var lang_1=require(174);exports.Map=lang_1.global.Map,exports.Set=lang_1.global.Set;var createMapFromPairs=function(){try{if(1===new exports.Map([[1,2]]).size)return function(r){return new exports.Map(r)}}catch(r){}return function(r){for(var n=new exports.Map,e=0;e<r.length;e++){var t=r[e];n.set(t[0],t[1])}return n}}(),createMapFromMap=function(){try{if(new exports.Map(new exports.Map))return function(r){return new exports.Map(r)}}catch(r){}return function(r){var n=new exports.Map;return r.forEach(function(r,e){n.set(e,r)}),n}}(),_clearValues=function(){return(new exports.Map).keys().next?function(r){for(var n,e=r.keys();!(n=e.next()).done;)r.set(n.value,null)}:function(r){r.forEach(function(n,e){r.set(e,null)})}}(),_arrayFromMap=function(){try{if((new exports.Map).values().next)return function(r,n){return n?Array.from(r.values()):Array.from(r.keys())}}catch(r){}return function(r,n){var e=ListWrapper.createFixedSize(r.size),t=0;return r.forEach(function(r,a){e[t]=n?r:a,t++}),e}}(),MapWrapper=function(){function r(){}return r.clone=function(r){return createMapFromMap(r)},r.createFromStringMap=function(r){var n=new exports.Map;for(var e in r)n.set(e,r[e]);return n},r.toStringMap=function(r){var n={};return r.forEach(function(r,e){return n[e]=r}),n},r.createFromPairs=function(r){return createMapFromPairs(r)},r.clearValues=function(r){_clearValues(r)},r.iterable=function(r){return r},r.keys=function(r){return _arrayFromMap(r,!1)},r.values=function(r){return _arrayFromMap(r,!0)},r}();exports.MapWrapper=MapWrapper;var StringMapWrapper=function(){function r(){}return r.create=function(){return{}},r.contains=function(r,n){return r.hasOwnProperty(n)},r.get=function(r,n){return r.hasOwnProperty(n)?r[n]:void 0},r.set=function(r,n,e){r[n]=e},r.keys=function(r){return Object.keys(r)},r.values=function(r){return Object.keys(r).reduce(function(n,e){return n.push(r[e]),n},[])},r.isEmpty=function(r){for(var n in r)return!1;return!0},r["delete"]=function(r,n){delete r[n]},r.forEach=function(r,n){for(var e in r)r.hasOwnProperty(e)&&n(r[e],e)},r.merge=function(r,n){var e={};for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e},r.equals=function(r,n){var e=Object.keys(r),t=Object.keys(n);if(e.length!=t.length)return!1;for(var a,i=0;i<e.length;i++)if(a=e[i],r[a]!==n[a])return!1;return!0},r}();exports.StringMapWrapper=StringMapWrapper;var ListWrapper=function(){function r(){}return r.createFixedSize=function(r){return new Array(r)},r.createGrowableSize=function(r){return new Array(r)},r.clone=function(r){return r.slice(0)},r.forEachWithIndex=function(r,n){for(var e=0;e<r.length;e++)n(r[e],e)},r.first=function(r){return r?r[0]:null},r.last=function(r){return r&&0!=r.length?r[r.length-1]:null},r.indexOf=function(r,n,e){return void 0===e&&(e=0),r.indexOf(n,e)},r.contains=function(r,n){return-1!==r.indexOf(n)},r.reversed=function(n){var e=r.clone(n);return e.reverse()},r.concat=function(r,n){return r.concat(n)},r.insert=function(r,n,e){r.splice(n,0,e)},r.removeAt=function(r,n){var e=r[n];return r.splice(n,1),e},r.removeAll=function(r,n){for(var e=0;e<n.length;++e){var t=r.indexOf(n[e]);r.splice(t,1)}},r.remove=function(r,n){var e=r.indexOf(n);return e>-1?(r.splice(e,1),!0):!1},r.clear=function(r){r.length=0},r.isEmpty=function(r){return 0==r.length},r.fill=function(r,n,e,t){void 0===e&&(e=0),void 0===t&&(t=null),r.fill(n,e,null===t?r.length:t)},r.equals=function(r,n){if(r.length!=n.length)return!1;for(var e=0;e<r.length;++e)if(r[e]!==n[e])return!1;return!0},r.slice=function(r,n,e){return void 0===n&&(n=0),void 0===e&&(e=null),r.slice(n,null===e?void 0:e)},r.splice=function(r,n,e){return r.splice(n,e)},r.sort=function(r,n){lang_1.isPresent(n)?r.sort(n):r.sort()},r.toString=function(r){return r.toString()},r.toJSON=function(r){return JSON.stringify(r)},r.maximum=function(r,n){if(0==r.length)return null;for(var e=null,t=-(1/0),a=0;a<r.length;a++){var i=r[a];if(!lang_1.isBlank(i)){var o=n(i);o>t&&(e=i,t=o)}}return e},r.flatten=function(r){var n=[];return _flattenArray(r,n),n},r.addAll=function(r,n){for(var e=0;e<n.length;e++)r.push(n[e])},r}();exports.ListWrapper=ListWrapper,exports.isListLikeIterable=isListLikeIterable,exports.areIterablesEqual=areIterablesEqual,exports.iterateListLike=iterateListLike;var createSetFromList=function(){var r=new exports.Set([1,2,3]);return 3===r.size?function(r){return new exports.Set(r)}:function(r){var n=new exports.Set(r);if(n.size!==r.length)for(var e=0;e<r.length;e++)n.add(r[e]);return n}}(),SetWrapper=function(){function r(){}return r.createFromList=function(r){return createSetFromList(r)},r.has=function(r,n){return r.has(n)},r["delete"]=function(r,n){r["delete"](n)},r}();exports.SetWrapper=SetWrapper;

},{"174":174}],172:[function(require,module,exports){
"use strict";var lang_1=require(174),base_wrapped_exception_1=require(170),collection_1=require(171),_ArrayLogger=function(){function e(){this.res=[]}return e.prototype.log=function(e){this.res.push(e)},e.prototype.logError=function(e){this.res.push(e)},e.prototype.logGroup=function(e){this.res.push(e)},e.prototype.logGroupEnd=function(){},e}(),ExceptionHandler=function(){function e(e,n){void 0===n&&(n=!0),this._logger=e,this._rethrowException=n}return e.exceptionToString=function(n,r,t){void 0===r&&(r=null),void 0===t&&(t=null);var o=new _ArrayLogger,i=new e(o,!1);return i.call(n,r,t),o.res.join("\n")},e.prototype.call=function(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var t=this._findOriginalException(e),o=this._findOriginalStack(e),i=this._findContext(e);if(this._logger.logGroup("EXCEPTION: "+this._extractMessage(e)),lang_1.isPresent(n)&&lang_1.isBlank(o)&&(this._logger.logError("STACKTRACE:"),this._logger.logError(this._longStackTrace(n))),lang_1.isPresent(r)&&this._logger.logError("REASON: "+r),lang_1.isPresent(t)&&this._logger.logError("ORIGINAL EXCEPTION: "+this._extractMessage(t)),lang_1.isPresent(o)&&(this._logger.logError("ORIGINAL STACKTRACE:"),this._logger.logError(this._longStackTrace(o))),lang_1.isPresent(i)&&(this._logger.logError("ERROR CONTEXT:"),this._logger.logError(i)),this._logger.logGroupEnd(),this._rethrowException)throw e},e.prototype._extractMessage=function(e){return e instanceof base_wrapped_exception_1.BaseWrappedException?e.wrapperMessage:e.toString()},e.prototype._longStackTrace=function(e){return collection_1.isListLikeIterable(e)?e.join("\n\n-----async gap-----\n"):e.toString()},e.prototype._findContext=function(e){try{return e instanceof base_wrapped_exception_1.BaseWrappedException?lang_1.isPresent(e.context)?e.context:this._findContext(e.originalException):null}catch(n){return null}},e.prototype._findOriginalException=function(e){if(!(e instanceof base_wrapped_exception_1.BaseWrappedException))return null;for(var n=e.originalException;n instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(n.originalException);)n=n.originalException;return n},e.prototype._findOriginalStack=function(e){if(!(e instanceof base_wrapped_exception_1.BaseWrappedException))return null;for(var n=e,r=e.originalStack;n instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(n.originalException);)n=n.originalException,n instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(n.originalException)&&(r=n.originalStack);return r},e}();exports.ExceptionHandler=ExceptionHandler;

},{"170":170,"171":171,"174":174}],173:[function(require,module,exports){
"use strict";function makeTypeError(e){return new TypeError(e)}function unimplemented(){throw new BaseException("unimplemented")}var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},base_wrapped_exception_1=require(170),exception_handler_1=require(172),exception_handler_2=require(172);exports.ExceptionHandler=exception_handler_2.ExceptionHandler;var BaseException=function(e){function t(t){void 0===t&&(t="--"),e.call(this,t),this.message=t,this.stack=new Error(t).stack}return __extends(t,e),t.prototype.toString=function(){return this.message},t}(Error);exports.BaseException=BaseException;var WrappedException=function(e){function t(t,r,n,o){e.call(this,t),this._wrapperMessage=t,this._originalException=r,this._originalStack=n,this._context=o,this._wrapperStack=new Error(t).stack}return __extends(t,e),Object.defineProperty(t.prototype,"wrapperMessage",{get:function(){return this._wrapperMessage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperStack",{get:function(){return this._wrapperStack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalException",{get:function(){return this._originalException},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalStack",{get:function(){return this._originalStack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return exception_handler_1.ExceptionHandler.exceptionToString(this)},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.message},t}(base_wrapped_exception_1.BaseWrappedException);exports.WrappedException=WrappedException,exports.makeTypeError=makeTypeError,exports.unimplemented=unimplemented;

},{"170":170,"172":172}],174:[function(require,module,exports){
(function (global){
"use strict";function scheduleMicroTask(e){Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function getTypeNameForDebugging(e){return e.name?e.name:typeof e}function lockMode(){_modeLocked=!0}function enableProdMode(){if(_modeLocked)throw"Cannot enable prod mode after platform setup.";_devMode=!1}function assertionsEnabled(){return _devMode}function isPresent(e){return void 0!==e&&null!==e}function isBlank(e){return void 0===e||null===e}function isBoolean(e){return"boolean"==typeof e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isFunction(e){return"function"==typeof e}function isType(e){return isFunction(e)}function isStringMap(e){return"object"==typeof e&&null!==e}function isStrictStringMap(e){return isStringMap(e)&&Object.getPrototypeOf(e)===STRING_MAP_PROTO}function isPromise(e){return e instanceof _global.Promise}function isArray(e){return Array.isArray(e)}function isDate(e){return e instanceof exports.Date&&!isNaN(e.valueOf())}function noop(){}function stringify(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.name)return e.name;if(e.overriddenName)return e.overriddenName;var r=e.toString(),n=r.indexOf("\n");return-1===n?r:r.substring(0,n)}function serializeEnum(e){return e}function deserializeEnum(e,r){return e}function resolveEnumToken(e,r){return e[r]}function looseIdentical(e,r){return e===r||"number"==typeof e&&"number"==typeof r&&isNaN(e)&&isNaN(r)}function getMapKey(e){return e}function normalizeBlank(e){return isBlank(e)?null:e}function normalizeBool(e){return isBlank(e)?!1:e}function isJsObject(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function print(e){console.log(e)}function warn(e){console.warn(e)}function setValueOnPath(e,r,n){for(var t=r.split("."),o=e;t.length>1;){var i=t.shift();o=o.hasOwnProperty(i)&&isPresent(o[i])?o[i]:o[i]={}}void 0!==o&&null!==o||(o={}),o[t.shift()]=n}function getSymbolIterator(){if(isBlank(_symbolIterator))if(isPresent(globalScope.Symbol)&&isPresent(Symbol.iterator))_symbolIterator=Symbol.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),r=0;r<e.length;++r){var n=e[r];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(_symbolIterator=n)}return _symbolIterator}function evalExpression(e,r,n,t){var o=n+"\nreturn "+r+"\n//# sourceURL="+e,i=[],s=[];for(var u in t)i.push(u),s.push(t[u]);return(new(Function.bind.apply(Function,[void 0].concat(i.concat(o))))).apply(void 0,s)}function isPrimitive(e){return!isJsObject(e)}function hasConstructor(e,r){return e.constructor===r}function bitWiseOr(e){return e.reduce(function(e,r){return e|r})}function bitWiseAnd(e){return e.reduce(function(e,r){return e&r})}function escape(e){return _global.encodeURI(e)}var __extends=this&&this.__extends||function(e,r){function n(){this.constructor=e}for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)},globalScope;globalScope="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window,exports.scheduleMicroTask=scheduleMicroTask,exports.IS_DART=!1;var _global=globalScope;exports.global=_global,exports.Type=Function,exports.getTypeNameForDebugging=getTypeNameForDebugging,exports.Math=_global.Math,exports.Date=_global.Date;var _devMode=!0,_modeLocked=!1;exports.lockMode=lockMode,exports.enableProdMode=enableProdMode,exports.assertionsEnabled=assertionsEnabled,_global.assert=function(e){},exports.isPresent=isPresent,exports.isBlank=isBlank,exports.isBoolean=isBoolean,exports.isNumber=isNumber,exports.isString=isString,exports.isFunction=isFunction,exports.isType=isType,exports.isStringMap=isStringMap;var STRING_MAP_PROTO=Object.getPrototypeOf({});exports.isStrictStringMap=isStrictStringMap,exports.isPromise=isPromise,exports.isArray=isArray,exports.isDate=isDate,exports.noop=noop,exports.stringify=stringify,exports.serializeEnum=serializeEnum,exports.deserializeEnum=deserializeEnum,exports.resolveEnumToken=resolveEnumToken;var StringWrapper=function(){function e(){}return e.fromCharCode=function(e){return String.fromCharCode(e)},e.charCodeAt=function(e,r){return e.charCodeAt(r)},e.split=function(e,r){return e.split(r)},e.equals=function(e,r){return e===r},e.stripLeft=function(e,r){if(e&&e.length){for(var n=0,t=0;t<e.length&&e[t]==r;t++)n++;e=e.substring(n)}return e},e.stripRight=function(e,r){if(e&&e.length){for(var n=e.length,t=e.length-1;t>=0&&e[t]==r;t--)n--;e=e.substring(0,n)}return e},e.replace=function(e,r,n){return e.replace(r,n)},e.replaceAll=function(e,r,n){return e.replace(r,n)},e.slice=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=null),e.slice(r,null===n?void 0:n)},e.replaceAllMapped=function(e,r,n){return e.replace(r,function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return e.splice(-2,2),n(e)})},e.contains=function(e,r){return-1!=e.indexOf(r)},e.compare=function(e,r){return r>e?-1:e>r?1:0},e}();exports.StringWrapper=StringWrapper;var StringJoiner=function(){function e(e){void 0===e&&(e=[]),this.parts=e}return e.prototype.add=function(e){this.parts.push(e)},e.prototype.toString=function(){return this.parts.join("")},e}();exports.StringJoiner=StringJoiner;var NumberParseError=function(e){function r(r){e.call(this),this.message=r}return __extends(r,e),r.prototype.toString=function(){return this.message},r}(Error);exports.NumberParseError=NumberParseError;var NumberWrapper=function(){function e(){}return e.toFixed=function(e,r){return e.toFixed(r)},e.equal=function(e,r){return e===r},e.parseIntAutoRadix=function(e){var r=parseInt(e);if(isNaN(r))throw new NumberParseError("Invalid integer literal when parsing "+e);return r},e.parseInt=function(e,r){if(10==r){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,r)}else if(16==r){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,r)}else{var n=parseInt(e,r);if(!isNaN(n))return n}throw new NumberParseError("Invalid integer literal when parsing "+e+" in base "+r)},e.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}();exports.NumberWrapper=NumberWrapper,exports.RegExp=_global.RegExp;var RegExpWrapper=function(){function e(){}return e.create=function(e,r){return void 0===r&&(r=""),r=r.replace(/g/g,""),new _global.RegExp(e,r+"g")},e.firstMatch=function(e,r){return e.lastIndex=0,e.exec(r)},e.test=function(e,r){return e.lastIndex=0,e.test(r)},e.matcher=function(e,r){return e.lastIndex=0,{re:e,input:r}},e.replaceAll=function(e,r,n){var t=e.exec(r),o="";e.lastIndex=0;for(var i=0;t;)o+=r.substring(i,t.index),o+=n(t),i=t.index+t[0].length,e.lastIndex=i,t=e.exec(r);return o+=r.substring(i)},e}();exports.RegExpWrapper=RegExpWrapper;var RegExpMatcherWrapper=function(){function e(){}return e.next=function(e){return e.re.exec(e.input)},e}();exports.RegExpMatcherWrapper=RegExpMatcherWrapper;var FunctionWrapper=function(){function e(){}return e.apply=function(e,r){return e.apply(null,r)},e}();exports.FunctionWrapper=FunctionWrapper,exports.looseIdentical=looseIdentical,exports.getMapKey=getMapKey,exports.normalizeBlank=normalizeBlank,exports.normalizeBool=normalizeBool,exports.isJsObject=isJsObject,exports.print=print,exports.warn=warn;var Json=function(){function e(){}return e.parse=function(e){return _global.JSON.parse(e)},e.stringify=function(e){return _global.JSON.stringify(e,null,2)},e}();exports.Json=Json;var DateWrapper=function(){function e(){}return e.create=function(e,r,n,t,o,i,s){return void 0===r&&(r=1),void 0===n&&(n=1),void 0===t&&(t=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===s&&(s=0),new exports.Date(e,r-1,n,t,o,i,s)},e.fromISOString=function(e){return new exports.Date(e)},e.fromMillis=function(e){return new exports.Date(e)},e.toMillis=function(e){return e.getTime()},e.now=function(){return new exports.Date},e.toJson=function(e){return e.toJSON()},e}();exports.DateWrapper=DateWrapper,exports.setValueOnPath=setValueOnPath;var _symbolIterator=null;exports.getSymbolIterator=getSymbolIterator,exports.evalExpression=evalExpression,exports.isPrimitive=isPrimitive,exports.hasConstructor=hasConstructor,exports.bitWiseOr=bitWiseOr,exports.bitWiseAnd=bitWiseAnd,exports.escape=escape;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],175:[function(require,module,exports){
"use strict";var PromiseCompleter=function(){function e(){var e=this;this.promise=new Promise(function(r,n){e.resolve=r,e.reject=n})}return e}();exports.PromiseCompleter=PromiseCompleter;var PromiseWrapper=function(){function e(){}return e.resolve=function(e){return Promise.resolve(e)},e.reject=function(e,r){return Promise.reject(e)},e.catchError=function(e,r){return e["catch"](r)},e.all=function(e){return 0==e.length?Promise.resolve([]):Promise.all(e)},e.then=function(e,r,n){return e.then(r,n)},e.wrap=function(e){return new Promise(function(r,n){try{r(e())}catch(t){n(t)}})},e.scheduleMicrotask=function(r){e.then(e.resolve(null),r,function(e){})},e.isPromise=function(e){return e instanceof Promise},e.completer=function(){return new PromiseCompleter},e}();exports.PromiseWrapper=PromiseWrapper;

},{}],176:[function(require,module,exports){
"use strict";var component_resolver_1=require(178);exports.ComponentResolver=component_resolver_1.ComponentResolver;var query_list_1=require(185);exports.QueryList=query_list_1.QueryList;var dynamic_component_loader_1=require(180);exports.DynamicComponentLoader=dynamic_component_loader_1.DynamicComponentLoader;var element_ref_1=require(183);exports.ElementRef=element_ref_1.ElementRef;var template_ref_1=require(186);exports.TemplateRef=template_ref_1.TemplateRef;var view_ref_1=require(189);exports.EmbeddedViewRef=view_ref_1.EmbeddedViewRef,exports.ViewRef=view_ref_1.ViewRef;var view_container_ref_1=require(188);exports.ViewContainerRef=view_container_ref_1.ViewContainerRef;var component_factory_1=require(177);exports.ComponentRef=component_factory_1.ComponentRef,exports.ComponentFactory=component_factory_1.ComponentFactory;var exceptions_1=require(184);exports.ExpressionChangedAfterItHasBeenCheckedException=exceptions_1.ExpressionChangedAfterItHasBeenCheckedException;

},{"177":177,"178":178,"180":180,"183":183,"184":184,"185":185,"186":186,"188":188,"189":189}],177:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},lang_1=require(174),exceptions_1=require(173),view_utils_1=require(191),ComponentRef=function(){function e(){}return Object.defineProperty(e.prototype,"location",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instance",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostView",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeDetectorRef",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),e}();exports.ComponentRef=ComponentRef;var ComponentRef_=function(e){function t(t,n){e.call(this),this._hostElement=t,this._componentType=n}return __extends(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return this._hostElement.elementRef},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return this._hostElement.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"instance",{get:function(){return this._hostElement.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostView",{get:function(){return this._hostElement.parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changeDetectorRef",{get:function(){return this._hostElement.parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentType",{get:function(){return this._componentType},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._hostElement.parentView.destroy()},t.prototype.onDestroy=function(e){this.hostView.onDestroy(e)},t}(ComponentRef);exports.ComponentRef_=ComponentRef_;var EMPTY_CONTEXT=new Object,ComponentFactory=function(){function e(e,t,n){this.selector=e,this._viewFactory=t,this._componentType=n}return Object.defineProperty(e.prototype,"componentType",{get:function(){return this._componentType},enumerable:!0,configurable:!0}),e.prototype.create=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var o=e.get(view_utils_1.ViewUtils);lang_1.isBlank(t)&&(t=[]);var r=this._viewFactory(o,e,null),i=r.create(EMPTY_CONTEXT,t,n);return new ComponentRef_(i,this._componentType)},e}();exports.ComponentFactory=ComponentFactory;

},{"173":173,"174":174,"191":191}],178:[function(require,module,exports){
"use strict";function _isComponentFactory(e){return e instanceof component_factory_1.ComponentFactory}var __extends=this&&this.__extends||function(e,o){function n(){this.constructor=e}for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t]);e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)},lang_1=require(174),exceptions_1=require(173),async_1=require(169),reflection_1=require(202),component_factory_1=require(177),decorators_1=require(158),ComponentResolver=function(){function e(){}return e}();exports.ComponentResolver=ComponentResolver;var ReflectorComponentResolver=function(e){function o(){e.apply(this,arguments)}return __extends(o,e),o.prototype.resolveComponent=function(e){var o=reflection_1.reflector.annotations(e),n=o.find(_isComponentFactory);if(lang_1.isBlank(n))throw new exceptions_1.BaseException("No precompiled component "+lang_1.stringify(e)+" found");return async_1.PromiseWrapper.resolve(n)},o.prototype.clearCache=function(){},o.decorators=[{type:decorators_1.Injectable}],o}(ComponentResolver);exports.ReflectorComponentResolver=ReflectorComponentResolver;

},{"158":158,"169":169,"173":173,"174":174,"177":177,"202":202}],179:[function(require,module,exports){
"use strict";var lang_1=require(174),collection_1=require(171),view_type_1=require(190),StaticNodeDebugInfo=function(){function e(e,t,n){this.providerTokens=e,this.componentToken=t,this.refTokens=n}return e}();exports.StaticNodeDebugInfo=StaticNodeDebugInfo;var DebugContext=function(){function e(e,t,n,o){this._view=e,this._nodeIndex=t,this._tplRow=n,this._tplCol=o}return Object.defineProperty(e.prototype,"_staticNodeInfo",{get:function(){return lang_1.isPresent(this._nodeIndex)?this._view.staticNodeDebugInfos[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){var e=this._staticNodeInfo;return lang_1.isPresent(e)&&lang_1.isPresent(e.componentToken)?this.injector.get(e.componentToken):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentRenderElement",{get:function(){for(var e=this._view;lang_1.isPresent(e.declarationAppElement)&&e.type!==view_type_1.ViewType.COMPONENT;)e=e.declarationAppElement.parentView;return lang_1.isPresent(e.declarationAppElement)?e.declarationAppElement.nativeElement:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return this._view.injector(this._nodeIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderNode",{get:function(){return lang_1.isPresent(this._nodeIndex)&&lang_1.isPresent(this._view.allNodes)?this._view.allNodes[this._nodeIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){var e=this._staticNodeInfo;return lang_1.isPresent(e)?e.providerTokens:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return this._view.componentType.templateUrl+":"+this._tplRow+":"+this._tplCol},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){var e=this,t={},n=this._staticNodeInfo;if(lang_1.isPresent(n)){var o=n.refTokens;collection_1.StringMapWrapper.forEach(o,function(n,o){var r;r=lang_1.isBlank(n)?lang_1.isPresent(e._view.allNodes)?e._view.allNodes[e._nodeIndex]:null:e._view.injectorGet(n,e._nodeIndex,null),t[o]=r})}return t},enumerable:!0,configurable:!0}),e}();exports.DebugContext=DebugContext;

},{"171":171,"174":174,"190":190}],180:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,o){function n(){this.constructor=e}for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t]);e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)},component_resolver_1=require(178),lang_1=require(174),reflective_injector_1=require(166),decorators_1=require(158),DynamicComponentLoader=function(){function e(){}return e}();exports.DynamicComponentLoader=DynamicComponentLoader;var DynamicComponentLoader_=function(e){function o(o){e.call(this),this._compiler=o}return __extends(o,e),o.prototype.loadAsRoot=function(e,o,n,t,r){return this._compiler.resolveComponent(e).then(function(e){var c=e.create(n,r,lang_1.isPresent(o)?o:e.selector);return lang_1.isPresent(t)&&c.onDestroy(t),c})},o.prototype.loadNextToLocation=function(e,o,n,t){return void 0===n&&(n=null),void 0===t&&(t=null),this._compiler.resolveComponent(e).then(function(e){var r=o.parentInjector,c=lang_1.isPresent(n)&&n.length>0?reflective_injector_1.ReflectiveInjector.fromResolvedProviders(n,r):r;return o.createComponent(e,o.length,c,t)})},o.decorators=[{type:decorators_1.Injectable}],o.ctorParameters=[{type:component_resolver_1.ComponentResolver}],o}(DynamicComponentLoader);exports.DynamicComponentLoader_=DynamicComponentLoader_;

},{"158":158,"166":166,"174":174,"178":178}],181:[function(require,module,exports){
"use strict";var lang_1=require(174),collection_1=require(171),exceptions_1=require(173),view_type_1=require(190),element_ref_1=require(183),view_container_ref_1=require(188),AppElement=function(){function e(e,t,n,i){this.index=e,this.parentIndex=t,this.parentView=n,this.nativeElement=i,this.nestedViews=null,this.componentView=null}return Object.defineProperty(e.prototype,"elementRef",{get:function(){return new element_ref_1.ElementRef(this.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vcRef",{get:function(){return new view_container_ref_1.ViewContainerRef_(this)},enumerable:!0,configurable:!0}),e.prototype.initComponent=function(e,t,n){this.component=e,this.componentConstructorViewQueries=t,this.componentView=n},Object.defineProperty(e.prototype,"parentInjector",{get:function(){return this.parentView.injector(this.parentIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return this.parentView.injector(this.index)},enumerable:!0,configurable:!0}),e.prototype.mapNestedViews=function(e,t){var n=[];return lang_1.isPresent(this.nestedViews)&&this.nestedViews.forEach(function(i){i.clazz===e&&n.push(t(i))}),n},e.prototype.attachView=function(e,t){if(e.type===view_type_1.ViewType.COMPONENT)throw new exceptions_1.BaseException("Component views can't be moved!");var n=this.nestedViews;null==n&&(n=[],this.nestedViews=n),collection_1.ListWrapper.insert(n,t,e);var i;if(t>0){var r=n[t-1];i=r.lastRootNode}else i=this.nativeElement;lang_1.isPresent(i)&&e.renderer.attachViewAfter(i,e.flatRootNodes),e.addToContentChildren(this)},e.prototype.detachView=function(e){var t=collection_1.ListWrapper.removeAt(this.nestedViews,e);if(t.type===view_type_1.ViewType.COMPONENT)throw new exceptions_1.BaseException("Component views can't be moved!");return t.renderer.detachView(t.flatRootNodes),t.removeFromContentChildren(this),t},e}();exports.AppElement=AppElement;

},{"171":171,"173":173,"174":174,"183":183,"188":188,"190":190}],182:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},injector_1=require(160),_UNDEFINED=new Object,ElementInjector=function(t){function e(e,n){t.call(this),this._view=e,this._nodeIndex=n}return __extends(e,t),e.prototype.get=function(t,e){void 0===e&&(e=injector_1.THROW_IF_NOT_FOUND);var n=_UNDEFINED;return n===_UNDEFINED&&(n=this._view.injectorGet(t,this._nodeIndex,_UNDEFINED)),n===_UNDEFINED&&(n=this._view.parentInjector.get(t,e)),n},e}(injector_1.Injector);exports.ElementInjector=ElementInjector;

},{"160":160}],183:[function(require,module,exports){
"use strict";var ElementRef=function(){function e(e){this.nativeElement=e}return e}();exports.ElementRef=ElementRef;

},{}],184:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},exceptions_1=require(173),ExpressionChangedAfterItHasBeenCheckedException=function(e){function t(t,n,o){e.call(this,"Expression has changed after it was checked. "+("Previous value: '"+t+"'. Current value: '"+n+"'"))}return __extends(t,e),t}(exceptions_1.BaseException);exports.ExpressionChangedAfterItHasBeenCheckedException=ExpressionChangedAfterItHasBeenCheckedException;var ViewWrappedException=function(e){function t(t,n,o){e.call(this,"Error in "+o.source,t,n,o)}return __extends(t,e),t}(exceptions_1.WrappedException);exports.ViewWrappedException=ViewWrappedException;var ViewDestroyedException=function(e){function t(t){e.call(this,"Attempt to use a destroyed view: "+t)}return __extends(t,e),t}(exceptions_1.BaseException);exports.ViewDestroyedException=ViewDestroyedException;

},{"173":173}],185:[function(require,module,exports){
"use strict";var collection_1=require(171),lang_1=require(174),async_1=require(169),QueryList=function(){function t(){this._dirty=!0,this._results=[],this._emitter=new async_1.EventEmitter}return Object.defineProperty(t.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return collection_1.ListWrapper.first(this._results)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return collection_1.ListWrapper.last(this._results)},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.toArray=function(){return collection_1.ListWrapper.clone(this._results)},t.prototype[lang_1.getSymbolIterator()]=function(){return this._results[lang_1.getSymbolIterator()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=collection_1.ListWrapper.flatten(t),this._dirty=!1},t.prototype.notifyOnChanges=function(){this._emitter.emit(this)},t.prototype.setDirty=function(){this._dirty=!0},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),t}();exports.QueryList=QueryList;

},{"169":169,"171":171,"174":174}],186:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},lang_1=require(174),EMPTY_CONTEXT=new Object,TemplateRef=function(){function e(){}return Object.defineProperty(e.prototype,"elementRef",{get:function(){return null},enumerable:!0,configurable:!0}),e}();exports.TemplateRef=TemplateRef;var TemplateRef_=function(e){function t(t,n){e.call(this),this._appElement=t,this._viewFactory=n}return __extends(t,e),t.prototype.createEmbeddedView=function(e){var t=this._viewFactory(this._appElement.parentView.viewUtils,this._appElement.parentInjector,this._appElement);return lang_1.isBlank(e)&&(e=EMPTY_CONTEXT),t.create(e,null,null),t.ref},Object.defineProperty(t.prototype,"elementRef",{get:function(){return this._appElement.elementRef},enumerable:!0,configurable:!0}),t}(TemplateRef);exports.TemplateRef_=TemplateRef_;

},{"174":174}],187:[function(require,module,exports){
"use strict";function _findLastRenderNode(e){var t;if(e instanceof element_1.AppElement){var n=e;if(t=n.nativeElement,lang_1.isPresent(n.nestedViews))for(var r=n.nestedViews.length-1;r>=0;r--){var i=n.nestedViews[r];i.rootNodesOrAppElements.length>0&&(t=_findLastRenderNode(i.rootNodesOrAppElements[i.rootNodesOrAppElements.length-1]))}}else t=e;return t}var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},collection_1=require(171),element_1=require(181),lang_1=require(174),async_1=require(169),view_ref_1=require(189),view_type_1=require(190),view_utils_1=require(191),change_detection_1=require(146),profile_1=require(199),exceptions_1=require(184),debug_context_1=require(179),element_injector_1=require(182),_scope_check=profile_1.wtfCreateScope("AppView#check(ascii id)"),AppView=function(){function e(e,t,n,r,i,o,s){this.clazz=e,this.componentType=t,this.type=n,this.viewUtils=r,this.parentInjector=i,this.declarationAppElement=o,this.cdMode=s,this.contentChildren=[],this.viewChildren=[],this.viewContainerElement=null,this.cdState=change_detection_1.ChangeDetectorState.NeverChecked,this.destroyed=!1,this.ref=new view_ref_1.ViewRef_(this),n===view_type_1.ViewType.COMPONENT||n===view_type_1.ViewType.HOST?this.renderer=r.renderComponent(t):this.renderer=o.parentView.renderer}return e.prototype.create=function(e,t,n){this.context=e;var r;switch(this.type){case view_type_1.ViewType.COMPONENT:r=view_utils_1.ensureSlotCount(t,this.componentType.slotCount);break;case view_type_1.ViewType.EMBEDDED:r=this.declarationAppElement.parentView.projectableNodes;break;case view_type_1.ViewType.HOST:r=t}return this._hasExternalHostElement=lang_1.isPresent(n),this.projectableNodes=r,this.createInternal(n)},e.prototype.createInternal=function(e){return null},e.prototype.init=function(e,t,n,r){this.rootNodesOrAppElements=e,this.allNodes=t,this.disposables=n,this.subscriptions=r,this.type===view_type_1.ViewType.COMPONENT&&(this.declarationAppElement.parentView.viewChildren.push(this),this.dirtyParentQueriesInternal())},e.prototype.selectOrCreateHostElement=function(e,t,n){var r;return r=lang_1.isPresent(t)?this.renderer.selectRootElement(t,n):this.renderer.createElement(null,e,n)},e.prototype.injectorGet=function(e,t,n){return this.injectorGetInternal(e,t,n)},e.prototype.injectorGetInternal=function(e,t,n){return n},e.prototype.injector=function(e){return lang_1.isPresent(e)?new element_injector_1.ElementInjector(this,e):this.parentInjector},e.prototype.destroy=function(){this._hasExternalHostElement?this.renderer.detachView(this.flatRootNodes):lang_1.isPresent(this.viewContainerElement)&&this.viewContainerElement.detachView(this.viewContainerElement.nestedViews.indexOf(this)),this._destroyRecurse()},e.prototype._destroyRecurse=function(){if(!this.destroyed){for(var e=this.contentChildren,t=0;t<e.length;t++)e[t]._destroyRecurse();e=this.viewChildren;for(var t=0;t<e.length;t++)e[t]._destroyRecurse();this.destroyLocal(),this.destroyed=!0}},e.prototype.destroyLocal=function(){for(var e=this.type===view_type_1.ViewType.COMPONENT?this.declarationAppElement.nativeElement:null,t=0;t<this.disposables.length;t++)this.disposables[t]();for(var t=0;t<this.subscriptions.length;t++)async_1.ObservableWrapper.dispose(this.subscriptions[t]);this.destroyInternal(),this._hasExternalHostElement?this.renderer.detachView(this.flatRootNodes):lang_1.isPresent(this.viewContainerElement)?this.viewContainerElement.detachView(this.viewContainerElement.nestedViews.indexOf(this)):this.dirtyParentQueriesInternal(),this.renderer.destroyView(e,this.allNodes)},e.prototype.destroyInternal=function(){},Object.defineProperty(e.prototype,"changeDetectorRef",{get:function(){return this.ref},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return lang_1.isPresent(this.declarationAppElement)?this.declarationAppElement.parentView:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flatRootNodes",{get:function(){return view_utils_1.flattenNestedViewRenderNodes(this.rootNodesOrAppElements)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastRootNode",{get:function(){var e=this.rootNodesOrAppElements.length>0?this.rootNodesOrAppElements[this.rootNodesOrAppElements.length-1]:null;return _findLastRenderNode(e)},enumerable:!0,configurable:!0}),e.prototype.dirtyParentQueriesInternal=function(){},e.prototype.detectChanges=function(e){var t=_scope_check(this.clazz);this.cdMode!==change_detection_1.ChangeDetectionStrategy.Detached&&this.cdMode!==change_detection_1.ChangeDetectionStrategy.Checked&&this.cdState!==change_detection_1.ChangeDetectorState.Errored&&(this.destroyed&&this.throwDestroyedError("detectChanges"),this.detectChangesInternal(e),this.cdMode===change_detection_1.ChangeDetectionStrategy.CheckOnce&&(this.cdMode=change_detection_1.ChangeDetectionStrategy.Checked),this.cdState=change_detection_1.ChangeDetectorState.CheckedBefore,profile_1.wtfLeave(t))},e.prototype.detectChangesInternal=function(e){this.detectContentChildrenChanges(e),this.detectViewChildrenChanges(e)},e.prototype.detectContentChildrenChanges=function(e){for(var t=0;t<this.contentChildren.length;++t)this.contentChildren[t].detectChanges(e)},e.prototype.detectViewChildrenChanges=function(e){for(var t=0;t<this.viewChildren.length;++t)this.viewChildren[t].detectChanges(e)},e.prototype.addToContentChildren=function(e){e.parentView.contentChildren.push(this),this.viewContainerElement=e,this.dirtyParentQueriesInternal()},e.prototype.removeFromContentChildren=function(e){collection_1.ListWrapper.remove(e.parentView.contentChildren,this),this.dirtyParentQueriesInternal(),this.viewContainerElement=null},e.prototype.markAsCheckOnce=function(){this.cdMode=change_detection_1.ChangeDetectionStrategy.CheckOnce},e.prototype.markPathToRootAsCheckOnce=function(){for(var e=this;lang_1.isPresent(e)&&e.cdMode!==change_detection_1.ChangeDetectionStrategy.Detached;){e.cdMode===change_detection_1.ChangeDetectionStrategy.Checked&&(e.cdMode=change_detection_1.ChangeDetectionStrategy.CheckOnce);var t=e.type===view_type_1.ViewType.COMPONENT?e.declarationAppElement:e.viewContainerElement;e=lang_1.isPresent(t)?t.parentView:null}},e.prototype.eventHandler=function(e){return e},e.prototype.throwDestroyedError=function(e){throw new exceptions_1.ViewDestroyedException(e)},e}();exports.AppView=AppView;var DebugAppView=function(e){function t(t,n,r,i,o,s,c,h){e.call(this,t,n,r,i,o,s,c),this.staticNodeDebugInfos=h,this._currentDebugContext=null}return __extends(t,e),t.prototype.create=function(t,n,r){this._resetDebug();try{return e.prototype.create.call(this,t,n,r)}catch(i){throw this._rethrowWithContext(i,i.stack),i}},t.prototype.injectorGet=function(t,n,r){this._resetDebug();try{return e.prototype.injectorGet.call(this,t,n,r)}catch(i){throw this._rethrowWithContext(i,i.stack),i}},t.prototype.destroyLocal=function(){this._resetDebug();try{e.prototype.destroyLocal.call(this)}catch(t){throw this._rethrowWithContext(t,t.stack),t}},t.prototype.detectChanges=function(t){this._resetDebug();try{e.prototype.detectChanges.call(this,t)}catch(n){throw this._rethrowWithContext(n,n.stack),n}},t.prototype._resetDebug=function(){this._currentDebugContext=null},t.prototype.debug=function(e,t,n){return this._currentDebugContext=new debug_context_1.DebugContext(this,e,t,n)},t.prototype._rethrowWithContext=function(e,t){if(!(e instanceof exceptions_1.ViewWrappedException)&&(e instanceof exceptions_1.ExpressionChangedAfterItHasBeenCheckedException||(this.cdState=change_detection_1.ChangeDetectorState.Errored),lang_1.isPresent(this._currentDebugContext)))throw new exceptions_1.ViewWrappedException(e,t,this._currentDebugContext)},t.prototype.eventHandler=function(t){var n=this,r=e.prototype.eventHandler.call(this,t);return function(e){n._resetDebug();try{return r(e)}catch(t){throw n._rethrowWithContext(t,t.stack),t}}},t}(AppView);exports.DebugAppView=DebugAppView;

},{"146":146,"169":169,"171":171,"174":174,"179":179,"181":181,"182":182,"184":184,"189":189,"190":190,"191":191,"199":199}],188:[function(require,module,exports){
"use strict";var collection_1=require(171),exceptions_1=require(173),lang_1=require(174),profile_1=require(199),ViewContainerRef=function(){function e(){}return Object.defineProperty(e.prototype,"element",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentInjector",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),e}();exports.ViewContainerRef=ViewContainerRef;var ViewContainerRef_=function(){function e(e){this._element=e,this._createComponentInContainerScope=profile_1.wtfCreateScope("ViewContainerRef#createComponent()"),this._insertScope=profile_1.wtfCreateScope("ViewContainerRef#insert()"),this._removeScope=profile_1.wtfCreateScope("ViewContainerRef#remove()"),this._detachScope=profile_1.wtfCreateScope("ViewContainerRef#detach()")}return e.prototype.get=function(e){return this._element.nestedViews[e].ref},Object.defineProperty(e.prototype,"length",{get:function(){var e=this._element.nestedViews;return lang_1.isPresent(e)?e.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._element.elementRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return this._element.injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentInjector",{get:function(){return this._element.parentInjector},enumerable:!0,configurable:!0}),e.prototype.createEmbeddedView=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=-1);var r=e.createEmbeddedView(t);return this.insert(r,n),r},e.prototype.createComponent=function(e,t,n,r){void 0===t&&(t=-1),void 0===n&&(n=null),void 0===r&&(r=null);var i=this._createComponentInContainerScope(),o=lang_1.isPresent(n)?n:this._element.parentInjector,c=e.create(o,r);return this.insert(c.hostView,t),profile_1.wtfLeave(i,c)},e.prototype.insert=function(e,t){void 0===t&&(t=-1);var n=this._insertScope();-1==t&&(t=this.length);var r=e;return this._element.attachView(r.internalView,t),profile_1.wtfLeave(n,r)},e.prototype.indexOf=function(e){return collection_1.ListWrapper.indexOf(this._element.nestedViews,e.internalView)},e.prototype.remove=function(e){void 0===e&&(e=-1);var t=this._removeScope();-1==e&&(e=this.length-1);var n=this._element.detachView(e);n.destroy(),profile_1.wtfLeave(t)},e.prototype.detach=function(e){void 0===e&&(e=-1);var t=this._detachScope();-1==e&&(e=this.length-1);var n=this._element.detachView(e);return profile_1.wtfLeave(t,n.ref)},e.prototype.clear=function(){for(var e=this.length-1;e>=0;e--)this.remove(e)},e}();exports.ViewContainerRef_=ViewContainerRef_;

},{"171":171,"173":173,"174":174,"199":199}],189:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},exceptions_1=require(173),constants_1=require(149),ViewRef=function(){function e(){}return Object.defineProperty(e.prototype,"destroyed",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),e}();exports.ViewRef=ViewRef;var EmbeddedViewRef=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),Object.defineProperty(t.prototype,"context",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootNodes",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),t}(ViewRef);exports.EmbeddedViewRef=EmbeddedViewRef;var ViewRef_=function(){function e(e){this._view=e,this._view=e}return Object.defineProperty(e.prototype,"internalView",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rootNodes",{get:function(){return this._view.flatRootNodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._view.destroyed},enumerable:!0,configurable:!0}),e.prototype.markForCheck=function(){this._view.markPathToRootAsCheckOnce()},e.prototype.detach=function(){this._view.cdMode=constants_1.ChangeDetectionStrategy.Detached},e.prototype.detectChanges=function(){this._view.detectChanges(!1)},e.prototype.checkNoChanges=function(){this._view.detectChanges(!0)},e.prototype.reattach=function(){this._view.cdMode=constants_1.ChangeDetectionStrategy.CheckAlways,this.markForCheck()},e.prototype.onDestroy=function(e){this._view.disposables.push(e)},e.prototype.destroy=function(){this._view.destroy()},e}();exports.ViewRef_=ViewRef_;

},{"149":149,"173":173}],190:[function(require,module,exports){
"use strict";!function(e){e[e.HOST=0]="HOST",e[e.COMPONENT=1]="COMPONENT",e[e.EMBEDDED=2]="EMBEDDED"}(exports.ViewType||(exports.ViewType={}));var ViewType=exports.ViewType;

},{}],191:[function(require,module,exports){
"use strict";function flattenNestedViewRenderNodes(e){return _flattenNestedViewRenderNodes(e,[])}function _flattenNestedViewRenderNodes(e,t){for(var n=0;n<e.length;n++){var o=e[n];if(o instanceof element_1.AppElement){var i=o;if(t.push(i.nativeElement),lang_1.isPresent(i.nestedViews))for(var l=0;l<i.nestedViews.length;l++)_flattenNestedViewRenderNodes(i.nestedViews[l].rootNodesOrAppElements,t)}else t.push(o)}return t}function ensureSlotCount(e,t){var n;if(lang_1.isBlank(e))n=EMPTY_ARR;else if(e.length<t){var o=e.length;n=collection_1.ListWrapper.createFixedSize(t);for(var i=0;t>i;i++)n[i]=o>i?e[i]:EMPTY_ARR}else n=e;return n}function interpolate(e,t,n,o,i,l,r,a,u,c,_,s,d,g,p,h,I,x,N,f){switch(e){case 1:return t+_toStringWithNull(n)+o;case 2:return t+_toStringWithNull(n)+o+_toStringWithNull(i)+l;case 3:return t+_toStringWithNull(n)+o+_toStringWithNull(i)+l+_toStringWithNull(r)+a;case 4:return t+_toStringWithNull(n)+o+_toStringWithNull(i)+l+_toStringWithNull(r)+a+_toStringWithNull(u)+c;case 5:return t+_toStringWithNull(n)+o+_toStringWithNull(i)+l+_toStringWithNull(r)+a+_toStringWithNull(u)+c+_toStringWithNull(_)+s;case 6:return t+_toStringWithNull(n)+o+_toStringWithNull(i)+l+_toStringWithNull(r)+a+_toStringWithNull(u)+c+_toStringWithNull(_)+s+_toStringWithNull(d)+g;case 7:return t+_toStringWithNull(n)+o+_toStringWithNull(i)+l+_toStringWithNull(r)+a+_toStringWithNull(u)+c+_toStringWithNull(_)+s+_toStringWithNull(d)+g+_toStringWithNull(p)+h;case 8:return t+_toStringWithNull(n)+o+_toStringWithNull(i)+l+_toStringWithNull(r)+a+_toStringWithNull(u)+c+_toStringWithNull(_)+s+_toStringWithNull(d)+g+_toStringWithNull(p)+h+_toStringWithNull(I)+x;case 9:return t+_toStringWithNull(n)+o+_toStringWithNull(i)+l+_toStringWithNull(r)+a+_toStringWithNull(u)+c+_toStringWithNull(_)+s+_toStringWithNull(d)+g+_toStringWithNull(p)+h+_toStringWithNull(I)+x+_toStringWithNull(N)+f;default:throw new exceptions_1.BaseException("Does not support more than 9 expressions")}}function _toStringWithNull(e){return null!=e?e.toString():""}function checkBinding(e,t,n){if(e){if(!change_detection_1.devModeEqual(t,n))throw new exceptions_2.ExpressionChangedAfterItHasBeenCheckedException(t,n,null);return!1}return!lang_1.looseIdentical(t,n)}function arrayLooseIdentical(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(!lang_1.looseIdentical(e[n],t[n]))return!1;return!0}function mapLooseIdentical(e,t){var n=collection_1.StringMapWrapper.keys(e),o=collection_1.StringMapWrapper.keys(t);if(n.length!=o.length)return!1;for(var i,l=0;l<n.length;l++)if(i=n[l],!lang_1.looseIdentical(e[i],t[i]))return!1;return!0}function castByValue(e,t){return e}function pureProxy1(e){var t,n;return n=change_detection_util_1.uninitialized,function(o){return lang_1.looseIdentical(n,o)||(n=o,t=e(o)),t}}function pureProxy2(e){var t,n,o;return n=o=change_detection_util_1.uninitialized,function(i,l){return lang_1.looseIdentical(n,i)&&lang_1.looseIdentical(o,l)||(n=i,o=l,t=e(i,l)),t}}function pureProxy3(e){var t,n,o,i;return n=o=i=change_detection_util_1.uninitialized,function(l,r,a){return lang_1.looseIdentical(n,l)&&lang_1.looseIdentical(o,r)&&lang_1.looseIdentical(i,a)||(n=l,o=r,i=a,t=e(l,r,a)),t}}function pureProxy4(e){var t,n,o,i,l;return n=o=i=l=change_detection_util_1.uninitialized,function(r,a,u,c){return lang_1.looseIdentical(n,r)&&lang_1.looseIdentical(o,a)&&lang_1.looseIdentical(i,u)&&lang_1.looseIdentical(l,c)||(n=r,o=a,i=u,l=c,t=e(r,a,u,c)),t}}function pureProxy5(e){var t,n,o,i,l,r;return n=o=i=l=r=change_detection_util_1.uninitialized,function(a,u,c,_,s){return lang_1.looseIdentical(n,a)&&lang_1.looseIdentical(o,u)&&lang_1.looseIdentical(i,c)&&lang_1.looseIdentical(l,_)&&lang_1.looseIdentical(r,s)||(n=a,o=u,i=c,l=_,r=s,t=e(a,u,c,_,s)),t}}function pureProxy6(e){var t,n,o,i,l,r,a;return n=o=i=l=r=a=change_detection_util_1.uninitialized,function(u,c,_,s,d,g){return lang_1.looseIdentical(n,u)&&lang_1.looseIdentical(o,c)&&lang_1.looseIdentical(i,_)&&lang_1.looseIdentical(l,s)&&lang_1.looseIdentical(r,d)&&lang_1.looseIdentical(a,g)||(n=u,o=c,i=_,l=s,r=d,a=g,t=e(u,c,_,s,d,g)),t}}function pureProxy7(e){var t,n,o,i,l,r,a,u;return n=o=i=l=r=a=u=change_detection_util_1.uninitialized,function(c,_,s,d,g,p,h){return lang_1.looseIdentical(n,c)&&lang_1.looseIdentical(o,_)&&lang_1.looseIdentical(i,s)&&lang_1.looseIdentical(l,d)&&lang_1.looseIdentical(r,g)&&lang_1.looseIdentical(a,p)&&lang_1.looseIdentical(u,h)||(n=c,o=_,i=s,l=d,r=g,a=p,u=h,t=e(c,_,s,d,g,p,h)),t}}function pureProxy8(e){var t,n,o,i,l,r,a,u,c;return n=o=i=l=r=a=u=c=change_detection_util_1.uninitialized,function(_,s,d,g,p,h,I,x){return lang_1.looseIdentical(n,_)&&lang_1.looseIdentical(o,s)&&lang_1.looseIdentical(i,d)&&lang_1.looseIdentical(l,g)&&lang_1.looseIdentical(r,p)&&lang_1.looseIdentical(a,h)&&lang_1.looseIdentical(u,I)&&lang_1.looseIdentical(c,x)||(n=_,o=s,i=d,l=g,r=p,a=h,u=I,c=x,t=e(_,s,d,g,p,h,I,x)),t}}function pureProxy9(e){var t,n,o,i,l,r,a,u,c,_;return n=o=i=l=r=a=u=c=_=change_detection_util_1.uninitialized,function(s,d,g,p,h,I,x,N,f){return lang_1.looseIdentical(n,s)&&lang_1.looseIdentical(o,d)&&lang_1.looseIdentical(i,g)&&lang_1.looseIdentical(l,p)&&lang_1.looseIdentical(r,h)&&lang_1.looseIdentical(a,I)&&lang_1.looseIdentical(u,x)&&lang_1.looseIdentical(c,N)&&lang_1.looseIdentical(_,f)||(n=s,o=d,i=g,l=p,r=h,a=I,u=x,c=N,_=f,t=e(s,d,g,p,h,I,x,N,f)),t}}function pureProxy10(e){var t,n,o,i,l,r,a,u,c,_,s;return n=o=i=l=r=a=u=c=_=s=change_detection_util_1.uninitialized,function(d,g,p,h,I,x,N,f,S,y){return lang_1.looseIdentical(n,d)&&lang_1.looseIdentical(o,g)&&lang_1.looseIdentical(i,p)&&lang_1.looseIdentical(l,h)&&lang_1.looseIdentical(r,I)&&lang_1.looseIdentical(a,x)&&lang_1.looseIdentical(u,N)&&lang_1.looseIdentical(c,f)&&lang_1.looseIdentical(_,S)&&lang_1.looseIdentical(s,y)||(n=d,o=g,i=p,l=h,r=I,a=x,u=N,c=f,_=S,s=y,t=e(d,g,p,h,I,x,N,f,S,y)),t}}var security_1=require(208),lang_1=require(174),collection_1=require(171),exceptions_1=require(173),element_1=require(181),exceptions_2=require(184),change_detection_1=require(146),api_1=require(207),application_tokens_1=require(144),decorators_1=require(158),change_detection_util_1=require(147),ViewUtils=function(){function e(e,t,n){this._renderer=e,this._appId=t,this._nextCompTypeId=0,this.sanitizer=n}return e.prototype.createRenderComponentType=function(e,t,n,o){return new api_1.RenderComponentType(this._appId+"-"+this._nextCompTypeId++,e,t,n,o)},e.prototype.renderComponent=function(e){return this._renderer.renderComponent(e)},e.decorators=[{type:decorators_1.Injectable}],e.ctorParameters=[{type:api_1.RootRenderer},{type:void 0,decorators:[{type:decorators_1.Inject,args:[application_tokens_1.APP_ID]}]},{type:security_1.SanitizationService}],e}();exports.ViewUtils=ViewUtils,exports.flattenNestedViewRenderNodes=flattenNestedViewRenderNodes;var EMPTY_ARR=[];exports.ensureSlotCount=ensureSlotCount,exports.MAX_INTERPOLATION_VALUES=9,exports.interpolate=interpolate,exports.checkBinding=checkBinding,exports.arrayLooseIdentical=arrayLooseIdentical,exports.mapLooseIdentical=mapLooseIdentical,exports.castByValue=castByValue,exports.EMPTY_ARRAY=[],exports.EMPTY_MAP={},exports.pureProxy1=pureProxy1,exports.pureProxy2=pureProxy2,exports.pureProxy3=pureProxy3,exports.pureProxy4=pureProxy4,exports.pureProxy5=pureProxy5,exports.pureProxy6=pureProxy6,exports.pureProxy7=pureProxy7,exports.pureProxy8=pureProxy8,exports.pureProxy9=pureProxy9,exports.pureProxy10=pureProxy10;

},{"144":144,"146":146,"147":147,"158":158,"171":171,"173":173,"174":174,"181":181,"184":184,"207":207,"208":208}],192:[function(require,module,exports){
"use strict";var di_1=require(193);exports.QueryMetadata=di_1.QueryMetadata,exports.ContentChildrenMetadata=di_1.ContentChildrenMetadata,exports.ContentChildMetadata=di_1.ContentChildMetadata,exports.ViewChildrenMetadata=di_1.ViewChildrenMetadata,exports.ViewQueryMetadata=di_1.ViewQueryMetadata,exports.ViewChildMetadata=di_1.ViewChildMetadata,exports.AttributeMetadata=di_1.AttributeMetadata;var directives_1=require(194);exports.ComponentMetadata=directives_1.ComponentMetadata,exports.DirectiveMetadata=directives_1.DirectiveMetadata,exports.PipeMetadata=directives_1.PipeMetadata,exports.InputMetadata=directives_1.InputMetadata,exports.OutputMetadata=directives_1.OutputMetadata,exports.HostBindingMetadata=directives_1.HostBindingMetadata,exports.HostListenerMetadata=directives_1.HostListenerMetadata;var view_1=require(196);exports.ViewMetadata=view_1.ViewMetadata,exports.ViewEncapsulation=view_1.ViewEncapsulation;var di_2=require(193),directives_2=require(194),view_2=require(196),decorators_1=require(211);exports.Component=decorators_1.makeDecorator(directives_2.ComponentMetadata,function(e){return e.View=View}),exports.Directive=decorators_1.makeDecorator(directives_2.DirectiveMetadata);var View=decorators_1.makeDecorator(view_2.ViewMetadata,function(e){return e.View=View});exports.Attribute=decorators_1.makeParamDecorator(di_2.AttributeMetadata),exports.Query=decorators_1.makeParamDecorator(di_2.QueryMetadata),exports.ContentChildren=decorators_1.makePropDecorator(di_2.ContentChildrenMetadata),exports.ContentChild=decorators_1.makePropDecorator(di_2.ContentChildMetadata),exports.ViewChildren=decorators_1.makePropDecorator(di_2.ViewChildrenMetadata),exports.ViewChild=decorators_1.makePropDecorator(di_2.ViewChildMetadata),exports.ViewQuery=decorators_1.makeParamDecorator(di_2.ViewQueryMetadata),exports.Pipe=decorators_1.makeDecorator(directives_2.PipeMetadata),exports.Input=decorators_1.makePropDecorator(directives_2.InputMetadata),exports.Output=decorators_1.makePropDecorator(directives_2.OutputMetadata),exports.HostBinding=decorators_1.makePropDecorator(directives_2.HostBindingMetadata),exports.HostListener=decorators_1.makePropDecorator(directives_2.HostListenerMetadata);

},{"193":193,"194":194,"196":196,"211":211}],193:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},lang_1=require(174),metadata_1=require(161),forward_ref_1=require(159),AttributeMetadata=function(e){function t(t){e.call(this),this.attributeName=t}return __extends(t,e),Object.defineProperty(t.prototype,"token",{get:function(){return this},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"@Attribute("+lang_1.stringify(this.attributeName)+")"},t}(metadata_1.DependencyMetadata);exports.AttributeMetadata=AttributeMetadata;var QueryMetadata=function(e){function t(t,r){var a=void 0===r?{}:r,n=a.descendants,i=void 0===n?!1:n,d=a.first,o=void 0===d?!1:d,u=a.read,s=void 0===u?null:u;e.call(this),this._selector=t,this.descendants=i,this.first=o,this.read=s}return __extends(t,e),Object.defineProperty(t.prototype,"isViewQuery",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selector",{get:function(){return forward_ref_1.resolveForwardRef(this._selector)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVarBindingQuery",{get:function(){return lang_1.isString(this.selector)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"varBindings",{get:function(){return this.selector.split(",")},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"@Query("+lang_1.stringify(this.selector)+")"},t}(metadata_1.DependencyMetadata);exports.QueryMetadata=QueryMetadata;var ContentChildrenMetadata=function(e){function t(t,r){var a=void 0===r?{}:r,n=a.descendants,i=void 0===n?!1:n,d=a.read,o=void 0===d?null:d;e.call(this,t,{descendants:i,read:o})}return __extends(t,e),t}(QueryMetadata);exports.ContentChildrenMetadata=ContentChildrenMetadata;var ContentChildMetadata=function(e){function t(t,r){var a=(void 0===r?{}:r).read,n=void 0===a?null:a;e.call(this,t,{descendants:!0,first:!0,read:n})}return __extends(t,e),t}(QueryMetadata);exports.ContentChildMetadata=ContentChildMetadata;var ViewQueryMetadata=function(e){function t(t,r){var a=void 0===r?{}:r,n=a.descendants,i=void 0===n?!1:n,d=a.first,o=void 0===d?!1:d,u=a.read,s=void 0===u?null:u;e.call(this,t,{descendants:i,first:o,read:s})}return __extends(t,e),Object.defineProperty(t.prototype,"isViewQuery",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"@ViewQuery("+lang_1.stringify(this.selector)+")"},t}(QueryMetadata);exports.ViewQueryMetadata=ViewQueryMetadata;var ViewChildrenMetadata=function(e){function t(t,r){var a=(void 0===r?{}:r).read,n=void 0===a?null:a;e.call(this,t,{descendants:!0,read:n})}return __extends(t,e),t}(ViewQueryMetadata);exports.ViewChildrenMetadata=ViewChildrenMetadata;var ViewChildMetadata=function(e){function t(t,r){var a=(void 0===r?{}:r).read,n=void 0===a?null:a;e.call(this,t,{descendants:!0,first:!0,read:n})}return __extends(t,e),t}(ViewQueryMetadata);exports.ViewChildMetadata=ViewChildMetadata;

},{"159":159,"161":161,"174":174}],194:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},lang_1=require(174),metadata_1=require(161),constants_1=require(149),DirectiveMetadata=function(t){function e(e){var i=void 0===e?{}:e,n=i.selector,r=i.inputs,s=i.outputs,a=i.properties,o=i.events,p=i.host,u=i.bindings,d=i.providers,c=i.exportAs,h=i.queries;t.call(this),this.selector=n,this._inputs=r,this._properties=a,this._outputs=s,this._events=o,this.host=p,this.exportAs=c,this.queries=h,this._providers=d,this._bindings=u}return __extends(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){return lang_1.isPresent(this._properties)&&this._properties.length>0?this._properties:this._inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"properties",{get:function(){return this.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return lang_1.isPresent(this._events)&&this._events.length>0?this._events:this._outputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){return this.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providers",{get:function(){return lang_1.isPresent(this._bindings)&&this._bindings.length>0?this._bindings:this._providers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bindings",{get:function(){return this.providers},enumerable:!0,configurable:!0}),e}(metadata_1.InjectableMetadata);exports.DirectiveMetadata=DirectiveMetadata;var ComponentMetadata=function(t){function e(e){var i=void 0===e?{}:e,n=i.selector,r=i.inputs,s=i.outputs,a=i.properties,o=i.events,p=i.host,u=i.exportAs,d=i.moduleId,c=i.bindings,h=i.providers,l=i.viewBindings,g=i.viewProviders,v=i.changeDetection,_=void 0===v?constants_1.ChangeDetectionStrategy.Default:v,f=i.queries,b=i.templateUrl,y=i.template,m=i.styleUrls,P=i.styles,M=i.directives,x=i.pipes,O=i.encapsulation;t.call(this,{selector:n,inputs:r,outputs:s,properties:a,events:o,host:p,exportAs:u,bindings:c,providers:h,queries:f}),this.changeDetection=_,this._viewProviders=g,this._viewBindings=l,this.templateUrl=b,this.template=y,this.styleUrls=m,this.styles=P,this.directives=M,this.pipes=x,this.encapsulation=O,this.moduleId=d}return __extends(e,t),Object.defineProperty(e.prototype,"viewProviders",{get:function(){return lang_1.isPresent(this._viewBindings)&&this._viewBindings.length>0?this._viewBindings:this._viewProviders},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewBindings",{get:function(){return this.viewProviders},enumerable:!0,configurable:!0}),e}(DirectiveMetadata);exports.ComponentMetadata=ComponentMetadata;var PipeMetadata=function(t){function e(e){var i=e.name,n=e.pure;t.call(this),this.name=i,this._pure=n}return __extends(e,t),Object.defineProperty(e.prototype,"pure",{get:function(){return lang_1.isPresent(this._pure)?this._pure:!0},enumerable:!0,configurable:!0}),e}(metadata_1.InjectableMetadata);exports.PipeMetadata=PipeMetadata;var InputMetadata=function(){function t(t){this.bindingPropertyName=t}return t}();exports.InputMetadata=InputMetadata;var OutputMetadata=function(){function t(t){this.bindingPropertyName=t}return t}();exports.OutputMetadata=OutputMetadata;var HostBindingMetadata=function(){function t(t){this.hostPropertyName=t}return t}();exports.HostBindingMetadata=HostBindingMetadata;var HostListenerMetadata=function(){function t(t,e){this.eventName=t,this.args=e}return t}();exports.HostListenerMetadata=HostListenerMetadata;

},{"149":149,"161":161,"174":174}],195:[function(require,module,exports){
"use strict";!function(e){e[e.OnInit=0]="OnInit",e[e.OnDestroy=1]="OnDestroy",e[e.DoCheck=2]="DoCheck",e[e.OnChanges=3]="OnChanges",e[e.AfterContentInit=4]="AfterContentInit",e[e.AfterContentChecked=5]="AfterContentChecked",e[e.AfterViewInit=6]="AfterViewInit",e[e.AfterViewChecked=7]="AfterViewChecked"}(exports.LifecycleHooks||(exports.LifecycleHooks={}));var LifecycleHooks=exports.LifecycleHooks;exports.LIFECYCLE_HOOKS_VALUES=[LifecycleHooks.OnInit,LifecycleHooks.OnDestroy,LifecycleHooks.DoCheck,LifecycleHooks.OnChanges,LifecycleHooks.AfterContentInit,LifecycleHooks.AfterContentChecked,LifecycleHooks.AfterViewInit,LifecycleHooks.AfterViewChecked];

},{}],196:[function(require,module,exports){
"use strict";!function(t){t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None"}(exports.ViewEncapsulation||(exports.ViewEncapsulation={}));var ViewEncapsulation=exports.ViewEncapsulation;exports.VIEW_ENCAPSULATION_VALUES=[ViewEncapsulation.Emulated,ViewEncapsulation.Native,ViewEncapsulation.None];var ViewMetadata=function(){function t(t){var e=void 0===t?{}:t,a=e.templateUrl,i=e.template,s=e.directives,n=e.pipes,l=e.encapsulation,p=e.styles,o=e.styleUrls;this.templateUrl=a,this.template=i,this.styleUrls=o,this.styles=p,this.directives=s,this.pipes=n,this.encapsulation=l}return t}();exports.ViewMetadata=ViewMetadata;

},{}],197:[function(require,module,exports){
"use strict";function _reflector(){return reflection_1.reflector}var console_1=require(154),reflection_1=require(202),reflector_reader_1=require(205),testability_1=require(209),application_ref_1=require(143),__unused;exports.PLATFORM_COMMON_PROVIDERS=[application_ref_1.PLATFORM_CORE_PROVIDERS,{provide:reflection_1.Reflector,useFactory:_reflector,deps:[]},{provide:reflector_reader_1.ReflectorReader,useExisting:reflection_1.Reflector},testability_1.TestabilityRegistry,console_1.Console];

},{"143":143,"154":154,"202":202,"205":205,"209":209}],198:[function(require,module,exports){
"use strict";var di_1=require(157);exports.PLATFORM_DIRECTIVES=new di_1.OpaqueToken("Platform Directives"),exports.PLATFORM_PIPES=new di_1.OpaqueToken("Platform Pipes");

},{"157":157}],199:[function(require,module,exports){
"use strict";function noopScope(e,t){return null}var impl=require(200);exports.wtfEnabled=impl.detectWTF(),exports.wtfCreateScope=exports.wtfEnabled?impl.createScope:function(e,t){return noopScope},exports.wtfLeave=exports.wtfEnabled?impl.leave:function(e,t){return t},exports.wtfStartTimeRange=exports.wtfEnabled?impl.startTimeRange:function(e,t){return null},exports.wtfEndTimeRange=exports.wtfEnabled?impl.endTimeRange:function(e){return null};

},{"200":200}],200:[function(require,module,exports){
"use strict";function detectWTF(){var e=lang_1.global.wtf;return e&&(trace=e.trace)?(events=trace.events,!0):!1}function createScope(e,t){return void 0===t&&(t=null),events.createScope(e,t)}function leave(e,t){return trace.leaveScope(e,t),t}function startTimeRange(e,t){return trace.beginTimeRange(e,t)}function endTimeRange(e){trace.endTimeRange(e)}var lang_1=require(174),trace,events;exports.detectWTF=detectWTF,exports.createScope=createScope,exports.leave=leave,exports.startTimeRange=startTimeRange,exports.endTimeRange=endTimeRange;

},{"174":174}],201:[function(require,module,exports){
"use strict";function wtfInit(){}exports.wtfInit=wtfInit;

},{}],202:[function(require,module,exports){
"use strict";var reflector_1=require(204),reflector_2=require(204);exports.Reflector=reflector_2.Reflector,exports.ReflectionInfo=reflector_2.ReflectionInfo;var reflection_capabilities_1=require(203);exports.reflector=new reflector_1.Reflector(new reflection_capabilities_1.ReflectionCapabilities);

},{"203":203,"204":204}],203:[function(require,module,exports){
"use strict";function convertTsickleDecoratorIntoMetadata(t){return t?t.map(function(t){var e=t.type,n=e.annotationCls,r=t.args?t.args:[],a=Object.create(n.prototype);return n.apply(a,r),a}):[]}var lang_1=require(174),exceptions_1=require(173),ReflectionCapabilities=function(){function t(t){this._reflect=lang_1.isPresent(t)?t:lang_1.global.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){switch(t.length){case 0:return function(){return new t};case 1:return function(e){return new t(e)};case 2:return function(e,n){return new t(e,n)};case 3:return function(e,n,r){return new t(e,n,r)};case 4:return function(e,n,r,a){return new t(e,n,r,a)};case 5:return function(e,n,r,a,o){return new t(e,n,r,a,o)};case 6:return function(e,n,r,a,o,i){return new t(e,n,r,a,o,i)};case 7:return function(e,n,r,a,o,i,s){return new t(e,n,r,a,o,i,s)};case 8:return function(e,n,r,a,o,i,s,c){return new t(e,n,r,a,o,i,s,c)};case 9:return function(e,n,r,a,o,i,s,c,u){return new t(e,n,r,a,o,i,s,c,u)};case 10:return function(e,n,r,a,o,i,s,c,u,f){return new t(e,n,r,a,o,i,s,c,u,f)};case 11:return function(e,n,r,a,o,i,s,c,u,f,p){return new t(e,n,r,a,o,i,s,c,u,f,p)};case 12:return function(e,n,r,a,o,i,s,c,u,f,p,l){return new t(e,n,r,a,o,i,s,c,u,f,p,l)};case 13:return function(e,n,r,a,o,i,s,c,u,f,p,l,g){return new t(e,n,r,a,o,i,s,c,u,f,p,l,g)};case 14:return function(e,n,r,a,o,i,s,c,u,f,p,l,g,_){return new t(e,n,r,a,o,i,s,c,u,f,p,l,g,_)};case 15:return function(e,n,r,a,o,i,s,c,u,f,p,l,g,_,d){return new t(e,n,r,a,o,i,s,c,u,f,p,l,g,_,d)};case 16:return function(e,n,r,a,o,i,s,c,u,f,p,l,g,_,d,w){return new t(e,n,r,a,o,i,s,c,u,f,p,l,g,_,d,w)};case 17:return function(e,n,r,a,o,i,s,c,u,f,p,l,g,_,d,w,y){return new t(e,n,r,a,o,i,s,c,u,f,p,l,g,_,d,w,y)};case 18:return function(e,n,r,a,o,i,s,c,u,f,p,l,g,_,d,w,y,h){return new t(e,n,r,a,o,i,s,c,u,f,p,l,g,_,d,w,y,h)};case 19:return function(e,n,r,a,o,i,s,c,u,f,p,l,g,_,d,w,y,h,v){return new t(e,n,r,a,o,i,s,c,u,f,p,l,g,_,d,w,y,h,v)};case 20:return function(e,n,r,a,o,i,s,c,u,f,p,l,g,_,d,w,y,h,v,P){return new t(e,n,r,a,o,i,s,c,u,f,p,l,g,_,d,w,y,h,v,P)}}throw new Error("Cannot create a factory for '"+lang_1.stringify(t)+"' because its constructor has more than 20 arguments")},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n="undefined"==typeof t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)"undefined"==typeof t?n[r]=[]:t[r]!=Object?n[r]=[t[r]]:n[r]=[],lang_1.isPresent(e)&&lang_1.isPresent(e[r])&&(n[r]=n[r].concat(e[r]));return n},t.prototype.parameters=function(t){if(lang_1.isPresent(t.parameters))return t.parameters;if(lang_1.isPresent(t.ctorParameters)){var e=t.ctorParameters,n=e.map(function(t){return t&&t.type}),r=e.map(function(t){return t&&convertTsickleDecoratorIntoMetadata(t.decorators)});return this._zipTypesAndAnnotations(n,r)}if(lang_1.isPresent(this._reflect)&&lang_1.isPresent(this._reflect.getMetadata)){var a=this._reflect.getMetadata("parameters",t),o=this._reflect.getMetadata("design:paramtypes",t);if(lang_1.isPresent(o)||lang_1.isPresent(a))return this._zipTypesAndAnnotations(o,a)}var i=new Array(t.length);return i.fill(void 0),i},t.prototype.annotations=function(t){if(lang_1.isPresent(t.annotations)){var e=t.annotations;return lang_1.isFunction(e)&&e.annotations&&(e=e.annotations),e}if(lang_1.isPresent(t.decorators))return convertTsickleDecoratorIntoMetadata(t.decorators);if(lang_1.isPresent(this._reflect)&&lang_1.isPresent(this._reflect.getMetadata)){var e=this._reflect.getMetadata("annotations",t);if(lang_1.isPresent(e))return e}return[]},t.prototype.propMetadata=function(t){if(lang_1.isPresent(t.propMetadata)){var e=t.propMetadata;return lang_1.isFunction(e)&&e.propMetadata&&(e=e.propMetadata),e}if(lang_1.isPresent(t.propDecorators)){var n=t.propDecorators,r={};return Object.keys(n).forEach(function(t){r[t]=convertTsickleDecoratorIntoMetadata(n[t])}),r}if(lang_1.isPresent(this._reflect)&&lang_1.isPresent(this._reflect.getMetadata)){var e=this._reflect.getMetadata("propMetadata",t);if(lang_1.isPresent(e))return e}return{}},t.prototype.interfaces=function(t){throw new exceptions_1.BaseException("JavaScript does not support interfaces")},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){var e="if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);";return new Function("o","args",e)},t.prototype.importUri=function(t){return"./"+lang_1.stringify(t)},t}();exports.ReflectionCapabilities=ReflectionCapabilities;

},{"173":173,"174":174}],204:[function(require,module,exports){
"use strict";function _mergeMaps(t,e){collection_1.StringMapWrapper.forEach(e,function(e,i){return t.set(i,e)})}var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},lang_1=require(174),exceptions_1=require(173),collection_1=require(171),reflector_reader_1=require(205),ReflectionInfo=function(){function t(t,e,i,n,r){this.annotations=t,this.parameters=e,this.factory=i,this.interfaces=n,this.propMetadata=r}return t}();exports.ReflectionInfo=ReflectionInfo;var Reflector=function(t){function e(e){t.call(this),this._injectableInfo=new collection_1.Map,this._getters=new collection_1.Map,this._setters=new collection_1.Map,this._methods=new collection_1.Map,this._usedKeys=null,this.reflectionCapabilities=e}return __extends(e,t),e.prototype.isReflectionEnabled=function(){return this.reflectionCapabilities.isReflectionEnabled()},e.prototype.trackUsage=function(){this._usedKeys=new collection_1.Set},e.prototype.listUnusedKeys=function(){var t=this;if(null==this._usedKeys)throw new exceptions_1.BaseException("Usage tracking is disabled");var e=collection_1.MapWrapper.keys(this._injectableInfo);return e.filter(function(e){return!collection_1.SetWrapper.has(t._usedKeys,e)})},e.prototype.registerFunction=function(t,e){this._injectableInfo.set(t,e)},e.prototype.registerType=function(t,e){this._injectableInfo.set(t,e)},e.prototype.registerGetters=function(t){_mergeMaps(this._getters,t)},e.prototype.registerSetters=function(t){_mergeMaps(this._setters,t)},e.prototype.registerMethods=function(t){_mergeMaps(this._methods,t)},e.prototype.factory=function(t){if(this._containsReflectionInfo(t)){var e=this._getReflectionInfo(t).factory;return lang_1.isPresent(e)?e:null}return this.reflectionCapabilities.factory(t)},e.prototype.parameters=function(t){if(this._injectableInfo.has(t)){var e=this._getReflectionInfo(t).parameters;return lang_1.isPresent(e)?e:[]}return this.reflectionCapabilities.parameters(t)},e.prototype.annotations=function(t){if(this._injectableInfo.has(t)){var e=this._getReflectionInfo(t).annotations;return lang_1.isPresent(e)?e:[]}return this.reflectionCapabilities.annotations(t)},e.prototype.propMetadata=function(t){if(this._injectableInfo.has(t)){var e=this._getReflectionInfo(t).propMetadata;return lang_1.isPresent(e)?e:{}}return this.reflectionCapabilities.propMetadata(t)},e.prototype.interfaces=function(t){if(this._injectableInfo.has(t)){var e=this._getReflectionInfo(t).interfaces;return lang_1.isPresent(e)?e:[]}return this.reflectionCapabilities.interfaces(t)},e.prototype.getter=function(t){return this._getters.has(t)?this._getters.get(t):this.reflectionCapabilities.getter(t)},e.prototype.setter=function(t){return this._setters.has(t)?this._setters.get(t):this.reflectionCapabilities.setter(t)},e.prototype.method=function(t){return this._methods.has(t)?this._methods.get(t):this.reflectionCapabilities.method(t)},e.prototype._getReflectionInfo=function(t){return lang_1.isPresent(this._usedKeys)&&this._usedKeys.add(t),this._injectableInfo.get(t)},e.prototype._containsReflectionInfo=function(t){return this._injectableInfo.has(t)},e.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},e}(reflector_reader_1.ReflectorReader);exports.Reflector=Reflector;

},{"171":171,"173":173,"174":174,"205":205}],205:[function(require,module,exports){
"use strict";var ReflectorReader=function(){function e(){}return e}();exports.ReflectorReader=ReflectorReader;

},{}],206:[function(require,module,exports){
"use strict";var api_1=require(207);exports.RootRenderer=api_1.RootRenderer,exports.Renderer=api_1.Renderer,exports.RenderComponentType=api_1.RenderComponentType;

},{"207":207}],207:[function(require,module,exports){
"use strict";var exceptions_1=require(173),RenderComponentType=function(){function e(e,n,t,r,o){this.id=e,this.templateUrl=n,this.slotCount=t,this.encapsulation=r,this.styles=o}return e}();exports.RenderComponentType=RenderComponentType;var RenderDebugInfo=function(){function e(){}return Object.defineProperty(e.prototype,"injector",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return exceptions_1.unimplemented()},enumerable:!0,configurable:!0}),e}();exports.RenderDebugInfo=RenderDebugInfo;var Renderer=function(){function e(){}return e}();exports.Renderer=Renderer;var RootRenderer=function(){function e(){}return e}();exports.RootRenderer=RootRenderer;

},{"173":173}],208:[function(require,module,exports){
"use strict";!function(t){t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL"}(exports.SecurityContext||(exports.SecurityContext={}));var SecurityContext=exports.SecurityContext,SanitizationService=function(){function t(){}return t}();exports.SanitizationService=SanitizationService;

},{}],209:[function(require,module,exports){
"use strict";function setTestabilityGetter(t){_testabilityGetter=t}var collection_1=require(171),lang_1=require(174),exceptions_1=require(173),ng_zone_1=require(213),async_1=require(169),decorators_1=require(158),Testability=function(){function t(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return t.prototype._watchAngularEvents=function(){var t=this;async_1.ObservableWrapper.subscribe(this._ngZone.onUnstable,function(e){t._didWork=!0,t._isZoneStable=!1}),this._ngZone.runOutsideAngular(function(){async_1.ObservableWrapper.subscribe(t._ngZone.onStable,function(e){ng_zone_1.NgZone.assertNotInAngularZone(),lang_1.scheduleMicroTask(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new exceptions_1.BaseException("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?lang_1.scheduleMicroTask(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findBindings=function(t,e,n){return[]},t.prototype.findProviders=function(t,e,n){return[]},t.decorators=[{type:decorators_1.Injectable}],t.ctorParameters=[{type:ng_zone_1.NgZone}],t}();exports.Testability=Testability;var TestabilityRegistry=function(){function t(){this._applications=new collection_1.Map,_testabilityGetter.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.getTestability=function(t){return this._applications.get(t)},t.prototype.getAllTestabilities=function(){return collection_1.MapWrapper.values(this._applications)},t.prototype.getAllRootElements=function(){return collection_1.MapWrapper.keys(this._applications)},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),_testabilityGetter.findTestabilityInTree(this,t,e)},t.decorators=[{type:decorators_1.Injectable}],t.ctorParameters=[],t}();exports.TestabilityRegistry=TestabilityRegistry;var _NoopGetTestability=function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}();exports.setTestabilityGetter=setTestabilityGetter;var _testabilityGetter=new _NoopGetTestability;

},{"158":158,"169":169,"171":171,"173":173,"174":174,"213":213}],210:[function(require,module,exports){
"use strict";var decorators_1=require(211);exports.Class=decorators_1.Class;

},{"211":211}],211:[function(require,module,exports){
"use strict";function extractAnnotation(t){return lang_1.isFunction(t)&&t.hasOwnProperty("annotation")&&(t=t.annotation),t}function applyParams(t,n){if(t===Object||t===String||t===Function||t===Number||t===Array)throw new Error("Can not use native "+lang_1.stringify(t)+" as constructor");if(lang_1.isFunction(t))return t;if(t instanceof Array){var a=t,e=t[t.length-1];if(!lang_1.isFunction(e))throw new Error("Last position of Class method array must be Function in key "+n+" was '"+lang_1.stringify(e)+"'");var r=a.length-1;if(r!=e.length)throw new Error("Number of annotations ("+r+") does not match number of arguments ("+e.length+") in the function: "+lang_1.stringify(e));for(var o=[],s=0,i=a.length-1;i>s;s++){var c=[];o.push(c);var f=a[s];if(f instanceof Array)for(var u=0;u<f.length;u++)c.push(extractAnnotation(f[u]));else lang_1.isFunction(f)?c.push(extractAnnotation(f)):c.push(f)}return Reflect.defineMetadata("parameters",o,e),e}throw new Error("Only Function or Array is supported in Class definition for key '"+n+"' is '"+lang_1.stringify(t)+"'")}function Class(t){var n=applyParams(t.hasOwnProperty("constructor")?t.constructor:void 0,"constructor"),a=n.prototype;if(t.hasOwnProperty("extends")){if(!lang_1.isFunction(t["extends"]))throw new Error("Class definition 'extends' property must be a constructor function was: "+lang_1.stringify(t["extends"]));n.prototype=a=Object.create(t["extends"].prototype)}for(var e in t)"extends"!=e&&"prototype"!=e&&t.hasOwnProperty(e)&&(a[e]=applyParams(t[e],e));return this&&this.annotations instanceof Array&&Reflect.defineMetadata("annotations",this.annotations,n),n.name||(n.overriddenName="class"+_nextClassId++),n}function makeDecorator(t,n){function a(a){var e=new t(a);if(this instanceof t)return e;var r=lang_1.isFunction(this)&&this.annotations instanceof Array?this.annotations:[];r.push(e);var o=function(t){var n=Reflect.getOwnMetadata("annotations",t);return n=n||[],n.push(e),Reflect.defineMetadata("annotations",n,t),t};return o.annotations=r,o.Class=Class,n&&n(o),o}return void 0===n&&(n=null),a.prototype=Object.create(t.prototype),a.annotationCls=t,a}function makeParamDecorator(t){function n(){function n(t,n,a){var e=Reflect.getMetadata("parameters",t);for(e=e||[];e.length<=a;)e.push(null);e[a]=e[a]||[];var o=e[a];return o.push(r),Reflect.defineMetadata("parameters",e,t),t}for(var a=[],e=0;e<arguments.length;e++)a[e-0]=arguments[e];var r=Object.create(t.prototype);return t.apply(r,a),this instanceof t?r:(n.annotation=r,n)}return n.prototype=Object.create(t.prototype),n.annotationCls=t,n}function makePropDecorator(t){function n(){for(var n=[],a=0;a<arguments.length;a++)n[a-0]=arguments[a];var e=Object.create(t.prototype);return t.apply(e,n),this instanceof t?e:function(t,n){var a=Reflect.getOwnMetadata("propMetadata",t.constructor);a=a||{},a[n]=a[n]||[],a[n].unshift(e),Reflect.defineMetadata("propMetadata",a,t.constructor)}}return n.prototype=Object.create(t.prototype),n.annotationCls=t,n}var lang_1=require(174),_nextClassId=0;exports.Class=Class;var Reflect=lang_1.global.Reflect;!function(){if(!Reflect||!Reflect.getMetadata)throw"reflect-metadata shim is required when using class decorators"}(),exports.makeDecorator=makeDecorator,exports.makeParamDecorator=makeParamDecorator,exports.makePropDecorator=makePropDecorator;

},{"174":174}],212:[function(require,module,exports){
"use strict";var ng_zone_1=require(213);exports.NgZone=ng_zone_1.NgZone,exports.NgZoneError=ng_zone_1.NgZoneError;

},{"213":213}],213:[function(require,module,exports){
"use strict";var async_1=require(169),ng_zone_impl_1=require(214),exceptions_1=require(173),ng_zone_impl_2=require(214);exports.NgZoneError=ng_zone_impl_2.NgZoneError;var NgZone=function(){function n(n){var e=this,t=n.enableLongStackTrace,r=void 0===t?!1:t;this._hasPendingMicrotasks=!1,this._hasPendingMacrotasks=!1,this._isStable=!0,this._nesting=0,this._onUnstable=new async_1.EventEmitter(!1),this._onMicrotaskEmpty=new async_1.EventEmitter(!1),this._onStable=new async_1.EventEmitter(!1),this._onErrorEvents=new async_1.EventEmitter(!1),this._zoneImpl=new ng_zone_impl_1.NgZoneImpl({trace:r,onEnter:function(){e._nesting++,e._isStable&&(e._isStable=!1,e._onUnstable.emit(null))},onLeave:function(){e._nesting--,e._checkStable()},setMicrotask:function(n){e._hasPendingMicrotasks=n,e._checkStable()},setMacrotask:function(n){e._hasPendingMacrotasks=n},onError:function(n){return e._onErrorEvents.emit(n)}})}return n.isInAngularZone=function(){return ng_zone_impl_1.NgZoneImpl.isInAngularZone()},n.assertInAngularZone=function(){if(!ng_zone_impl_1.NgZoneImpl.isInAngularZone())throw new exceptions_1.BaseException("Expected to be in Angular Zone, but it is not!")},n.assertNotInAngularZone=function(){if(ng_zone_impl_1.NgZoneImpl.isInAngularZone())throw new exceptions_1.BaseException("Expected to not be in Angular Zone, but it is!")},n.prototype._checkStable=function(){var n=this;if(0==this._nesting&&!this._hasPendingMicrotasks&&!this._isStable)try{this._nesting++,this._onMicrotaskEmpty.emit(null)}finally{if(this._nesting--,!this._hasPendingMicrotasks)try{this.runOutsideAngular(function(){return n._onStable.emit(null)})}finally{this._isStable=!0}}},Object.defineProperty(n.prototype,"onUnstable",{get:function(){return this._onUnstable},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onMicrotaskEmpty",{get:function(){return this._onMicrotaskEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onStable",{get:function(){return this._onStable},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onError",{get:function(){return this._onErrorEvents},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasPendingMicrotasks",{get:function(){return this._hasPendingMicrotasks},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasPendingMacrotasks",{get:function(){return this._hasPendingMacrotasks},enumerable:!0,configurable:!0}),n.prototype.run=function(n){return this._zoneImpl.runInner(n)},n.prototype.runGuarded=function(n){return this._zoneImpl.runInnerGuarded(n)},n.prototype.runOutsideAngular=function(n){return this._zoneImpl.runOuter(n)},n}();exports.NgZone=NgZone;

},{"169":169,"173":173,"214":214}],214:[function(require,module,exports){
"use strict";var NgZoneError=function(){function n(n,r){this.error=n,this.stackTrace=r}return n}();exports.NgZoneError=NgZoneError;var NgZoneImpl=function(){function n(n){var r=this,e=n.trace,o=n.onEnter,t=n.onLeave,i=n.setMicrotask,s=n.setMacrotask,a=n.onError;if(this.onEnter=o,this.onLeave=t,this.setMicrotask=i,this.setMacrotask=s,this.onError=a,!Zone)throw new Error("Angular requires Zone.js polyfill.");this.outer=this.inner=Zone.current,Zone.wtfZoneSpec&&(this.inner=this.inner.fork(Zone.wtfZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this.inner=this.inner.fork(Zone.longStackTraceZoneSpec)),this.inner=this.inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(n,e,o,t,i,s){try{return r.onEnter(),n.invokeTask(o,t,i,s)}finally{r.onLeave()}},onInvoke:function(n,e,o,t,i,s,a){try{return r.onEnter(),n.invoke(o,t,i,s,a)}finally{r.onLeave()}},onHasTask:function(n,e,o,t){n.hasTask(o,t),e==o&&("microTask"==t.change?r.setMicrotask(t.microTask):"macroTask"==t.change&&r.setMacrotask(t.macroTask))},onHandleError:function(n,e,o,t){return n.handleError(o,t),r.onError(new NgZoneError(t,t.stack)),!1}})}return n.isInAngularZone=function(){return Zone.current.get("isAngularZone")===!0},n.prototype.runInner=function(n){return this.inner.run(n)},n.prototype.runInnerGuarded=function(n){return this.inner.runGuarded(n)},n.prototype.runOuter=function(n){return this.outer.run(n)},n}();exports.NgZoneImpl=NgZoneImpl;

},{}],215:[function(require,module,exports){
"use strict";var core_1=require(140),http_1=require(230),xhr_backend_1=require(220),jsonp_backend_1=require(219),browser_xhr_1=require(218),browser_jsonp_1=require(217),base_request_options_1=require(221),base_response_options_1=require(222),static_request_1=require(233);exports.Request=static_request_1.Request;var static_response_1=require(234);exports.Response=static_response_1.Response;var interfaces_1=require(232);exports.Connection=interfaces_1.Connection,exports.ConnectionBackend=interfaces_1.ConnectionBackend;var browser_xhr_2=require(218);exports.BrowserXhr=browser_xhr_2.BrowserXhr;var base_request_options_2=require(221);exports.BaseRequestOptions=base_request_options_2.BaseRequestOptions,exports.RequestOptions=base_request_options_2.RequestOptions;var base_response_options_2=require(222);exports.BaseResponseOptions=base_response_options_2.BaseResponseOptions,exports.ResponseOptions=base_response_options_2.ResponseOptions;var xhr_backend_2=require(220);exports.XHRBackend=xhr_backend_2.XHRBackend,exports.XHRConnection=xhr_backend_2.XHRConnection;var jsonp_backend_2=require(219);exports.JSONPBackend=jsonp_backend_2.JSONPBackend,exports.JSONPConnection=jsonp_backend_2.JSONPConnection;var http_2=require(230);exports.Http=http_2.Http,exports.Jsonp=http_2.Jsonp;var headers_1=require(229);exports.Headers=headers_1.Headers;var enums_1=require(223);exports.ResponseType=enums_1.ResponseType,exports.ReadyState=enums_1.ReadyState,exports.RequestMethod=enums_1.RequestMethod;var url_search_params_1=require(235);exports.URLSearchParams=url_search_params_1.URLSearchParams,exports.HTTP_PROVIDERS=[core_1.provide(http_1.Http,{useFactory:function(e,s){return new http_1.Http(e,s)},deps:[xhr_backend_1.XHRBackend,base_request_options_1.RequestOptions]}),browser_xhr_1.BrowserXhr,core_1.provide(base_request_options_1.RequestOptions,{useClass:base_request_options_1.BaseRequestOptions}),core_1.provide(base_response_options_1.ResponseOptions,{useClass:base_response_options_1.BaseResponseOptions}),xhr_backend_1.XHRBackend],exports.HTTP_BINDINGS=exports.HTTP_PROVIDERS,exports.JSONP_PROVIDERS=[core_1.provide(http_1.Jsonp,{useFactory:function(e,s){return new http_1.Jsonp(e,s)},deps:[jsonp_backend_1.JSONPBackend,base_request_options_1.RequestOptions]}),browser_jsonp_1.BrowserJsonp,core_1.provide(base_request_options_1.RequestOptions,{useClass:base_request_options_1.BaseRequestOptions}),core_1.provide(base_response_options_1.ResponseOptions,{useClass:base_response_options_1.BaseResponseOptions}),core_1.provide(jsonp_backend_1.JSONPBackend,{useClass:jsonp_backend_1.JSONPBackend_})],exports.JSON_BINDINGS=exports.JSONP_PROVIDERS;

},{"140":140,"217":217,"218":218,"219":219,"220":220,"221":221,"222":222,"223":223,"229":229,"230":230,"232":232,"233":233,"234":234,"235":235}],216:[function(require,module,exports){
"use strict";function __export(r){for(var t in r)exports.hasOwnProperty(t)||(exports[t]=r[t])}__export(require(215));

},{"215":215}],217:[function(require,module,exports){
"use strict";function _getJsonpConnections(){return null===_jsonpConnections&&(_jsonpConnections=lang_1.global[exports.JSONP_HOME]={}),_jsonpConnections}var core_1=require(140),lang_1=require(228),_nextRequestId=0;exports.JSONP_HOME="__ng_jsonp__";var _jsonpConnections=null,BrowserJsonp=function(){function n(){}return n.prototype.build=function(n){var e=document.createElement("script");return e.src=n,e},n.prototype.nextRequestID=function(){return"__req"+_nextRequestId++},n.prototype.requestCallback=function(n){return exports.JSONP_HOME+"."+n+".finished"},n.prototype.exposeConnection=function(n,e){var o=_getJsonpConnections();o[n]=e},n.prototype.removeConnection=function(n){var e=_getJsonpConnections();e[n]=null},n.prototype.send=function(n){document.body.appendChild(n)},n.prototype.cleanup=function(n){n.parentNode&&n.parentNode.removeChild(n)},n.decorators=[{type:core_1.Injectable}],n}();exports.BrowserJsonp=BrowserJsonp;

},{"140":140,"228":228}],218:[function(require,module,exports){
"use strict";var core_1=require(140),BrowserXhr=function(){function r(){}return r.prototype.build=function(){return new XMLHttpRequest},r.decorators=[{type:core_1.Injectable}],r.ctorParameters=[],r}();exports.BrowserXhr=BrowserXhr;

},{"140":140}],219:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,n){function s(){this.constructor=e}for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)},interfaces_1=require(232),enums_1=require(223),static_response_1=require(234),base_response_options_1=require(222),core_1=require(140),browser_jsonp_1=require(217),exceptions_1=require(227),lang_1=require(228),Observable_1=require(288),JSONP_ERR_NO_CALLBACK="JSONP injected script did not invoke callback.",JSONP_ERR_WRONG_METHOD="JSONP requests must use GET request method.",JSONPConnection=function(){function e(){}return e}();exports.JSONPConnection=JSONPConnection;var JSONPConnection_=function(e){function n(n,s,t){var r=this;if(e.call(this),this._dom=s,this.baseResponseOptions=t,this._finished=!1,n.method!==enums_1.RequestMethod.Get)throw exceptions_1.makeTypeError(JSONP_ERR_WRONG_METHOD);this.request=n,this.response=new Observable_1.Observable(function(e){r.readyState=enums_1.ReadyState.Loading;var o=r._id=s.nextRequestID();s.exposeConnection(o,r);var i=s.requestCallback(r._id),a=n.url;a.indexOf("=JSONP_CALLBACK&")>-1?a=lang_1.StringWrapper.replace(a,"=JSONP_CALLBACK&","="+i+"&"):a.lastIndexOf("=JSONP_CALLBACK")===a.length-"=JSONP_CALLBACK".length&&(a=a.substring(0,a.length-"=JSONP_CALLBACK".length)+("="+i));var _=r._script=s.build(a),p=function(n){if(r.readyState!==enums_1.ReadyState.Cancelled){if(r.readyState=enums_1.ReadyState.Done,s.cleanup(_),!r._finished){var o=new base_response_options_1.ResponseOptions({body:JSONP_ERR_NO_CALLBACK,type:enums_1.ResponseType.Error,url:a});return lang_1.isPresent(t)&&(o=t.merge(o)),void e.error(new static_response_1.Response(o))}var i=new base_response_options_1.ResponseOptions({body:r._responseData,url:a});lang_1.isPresent(r.baseResponseOptions)&&(i=r.baseResponseOptions.merge(i)),e.next(new static_response_1.Response(i)),e.complete()}},c=function(n){if(r.readyState!==enums_1.ReadyState.Cancelled){r.readyState=enums_1.ReadyState.Done,s.cleanup(_);var o=new base_response_options_1.ResponseOptions({body:n.message,type:enums_1.ResponseType.Error});lang_1.isPresent(t)&&(o=t.merge(o)),e.error(new static_response_1.Response(o))}};return _.addEventListener("load",p),_.addEventListener("error",c),s.send(_),function(){r.readyState=enums_1.ReadyState.Cancelled,_.removeEventListener("load",p),_.removeEventListener("error",c),lang_1.isPresent(_)&&r._dom.cleanup(_)}})}return __extends(n,e),n.prototype.finished=function(e){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==enums_1.ReadyState.Cancelled&&(this._responseData=e)},n}(JSONPConnection);exports.JSONPConnection_=JSONPConnection_;var JSONPBackend=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n}(interfaces_1.ConnectionBackend);exports.JSONPBackend=JSONPBackend;var JSONPBackend_=function(e){function n(n,s){e.call(this),this._browserJSONP=n,this._baseResponseOptions=s}return __extends(n,e),n.prototype.createConnection=function(e){return new JSONPConnection_(e,this._browserJSONP,this._baseResponseOptions)},n.decorators=[{type:core_1.Injectable}],n.ctorParameters=[{type:browser_jsonp_1.BrowserJsonp},{type:base_response_options_1.ResponseOptions}],n}(JSONPBackend);exports.JSONPBackend_=JSONPBackend_;

},{"140":140,"217":217,"222":222,"223":223,"227":227,"228":228,"232":232,"234":234,"288":288}],220:[function(require,module,exports){
"use strict";var enums_1=require(223),static_response_1=require(234),headers_1=require(229),base_response_options_1=require(222),core_1=require(140),browser_xhr_1=require(218),lang_1=require(228),Observable_1=require(288),http_utils_1=require(231),XHRConnection=function(){function e(e,s,r){var n=this;this.request=e,this.response=new Observable_1.Observable(function(t){var o=s.build();o.open(enums_1.RequestMethod[e.method].toUpperCase(),e.url);var i=function(){var e=lang_1.isPresent(o.response)?o.response:o.responseText,s=headers_1.Headers.fromResponseHeaderString(o.getAllResponseHeaders()),n=http_utils_1.getResponseURL(o),i=1223===o.status?204:o.status;0===i&&(i=e?200:0);var a=new base_response_options_1.ResponseOptions({body:e,status:i,headers:s,url:n});lang_1.isPresent(r)&&(a=r.merge(a));var p=new static_response_1.Response(a);return http_utils_1.isSuccess(i)?(t.next(p),void t.complete()):void t.error(p)},a=function(e){var s=new base_response_options_1.ResponseOptions({body:e,type:enums_1.ResponseType.Error});lang_1.isPresent(r)&&(s=r.merge(s)),t.error(new static_response_1.Response(s))};return lang_1.isPresent(e.headers)&&e.headers.forEach(function(e,s){return o.setRequestHeader(s,e.join(","))}),o.addEventListener("load",i),o.addEventListener("error",a),o.send(n.request.text()),function(){o.removeEventListener("load",i),o.removeEventListener("error",a),o.abort()}})}return e}();exports.XHRConnection=XHRConnection;var XHRBackend=function(){function e(e,s){this._browserXHR=e,this._baseResponseOptions=s}return e.prototype.createConnection=function(e){return new XHRConnection(e,this._browserXHR,this._baseResponseOptions)},e.decorators=[{type:core_1.Injectable}],e.ctorParameters=[{type:browser_xhr_1.BrowserXhr},{type:base_response_options_1.ResponseOptions}],e}();exports.XHRBackend=XHRBackend;

},{"140":140,"218":218,"222":222,"223":223,"228":228,"229":229,"231":231,"234":234,"288":288}],221:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,s){function r(){this.constructor=e}for(var t in s)s.hasOwnProperty(t)&&(e[t]=s[t]);e.prototype=null===s?Object.create(s):(r.prototype=s.prototype,new r)},lang_1=require(228),headers_1=require(229),enums_1=require(223),core_1=require(140),url_search_params_1=require(235),http_utils_1=require(231),RequestOptions=function(){function e(e){var s=void 0===e?{}:e,r=s.method,t=s.headers,n=s.body,a=s.url,i=s.search;this.method=lang_1.isPresent(r)?http_utils_1.normalizeMethodName(r):null,this.headers=lang_1.isPresent(t)?t:null,this.body=lang_1.isPresent(n)?n:null,this.url=lang_1.isPresent(a)?a:null,this.search=lang_1.isPresent(i)?lang_1.isString(i)?new url_search_params_1.URLSearchParams(i):i:null}return e.prototype.merge=function(s){return new e({method:lang_1.isPresent(s)&&lang_1.isPresent(s.method)?s.method:this.method,headers:lang_1.isPresent(s)&&lang_1.isPresent(s.headers)?s.headers:this.headers,body:lang_1.isPresent(s)&&lang_1.isPresent(s.body)?s.body:this.body,url:lang_1.isPresent(s)&&lang_1.isPresent(s.url)?s.url:this.url,search:lang_1.isPresent(s)&&lang_1.isPresent(s.search)?lang_1.isString(s.search)?new url_search_params_1.URLSearchParams(s.search):s.search.clone():this.search})},e}();exports.RequestOptions=RequestOptions;var BaseRequestOptions=function(e){function s(){e.call(this,{method:enums_1.RequestMethod.Get,headers:new headers_1.Headers})}return __extends(s,e),s.decorators=[{type:core_1.Injectable}],s.ctorParameters=[],s}(RequestOptions);exports.BaseRequestOptions=BaseRequestOptions;

},{"140":140,"223":223,"228":228,"229":229,"231":231,"235":235}],222:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,s){function t(){this.constructor=e}for(var n in s)s.hasOwnProperty(n)&&(e[n]=s[n]);e.prototype=null===s?Object.create(s):(t.prototype=s.prototype,new t)},core_1=require(140),lang_1=require(228),headers_1=require(229),enums_1=require(223),ResponseOptions=function(){function e(e){var s=void 0===e?{}:e,t=s.body,n=s.status,r=s.headers,a=s.statusText,i=s.type,o=s.url;this.body=lang_1.isPresent(t)?t:null,this.status=lang_1.isPresent(n)?n:null,this.headers=lang_1.isPresent(r)?r:null,this.statusText=lang_1.isPresent(a)?a:null,this.type=lang_1.isPresent(i)?i:null,this.url=lang_1.isPresent(o)?o:null}return e.prototype.merge=function(s){return new e({body:lang_1.isPresent(s)&&lang_1.isPresent(s.body)?s.body:this.body,status:lang_1.isPresent(s)&&lang_1.isPresent(s.status)?s.status:this.status,headers:lang_1.isPresent(s)&&lang_1.isPresent(s.headers)?s.headers:this.headers,statusText:lang_1.isPresent(s)&&lang_1.isPresent(s.statusText)?s.statusText:this.statusText,type:lang_1.isPresent(s)&&lang_1.isPresent(s.type)?s.type:this.type,url:lang_1.isPresent(s)&&lang_1.isPresent(s.url)?s.url:this.url})},e}();exports.ResponseOptions=ResponseOptions;var BaseResponseOptions=function(e){function s(){e.call(this,{status:200,statusText:"Ok",type:enums_1.ResponseType.Default,headers:new headers_1.Headers})}return __extends(s,e),s.decorators=[{type:core_1.Injectable}],s.ctorParameters=[],s}(ResponseOptions);exports.BaseResponseOptions=BaseResponseOptions;

},{"140":140,"223":223,"228":228,"229":229}],223:[function(require,module,exports){
"use strict";!function(e){e[e.Get=0]="Get",e[e.Post=1]="Post",e[e.Put=2]="Put",e[e.Delete=3]="Delete",e[e.Options=4]="Options",e[e.Head=5]="Head",e[e.Patch=6]="Patch"}(exports.RequestMethod||(exports.RequestMethod={}));var RequestMethod=exports.RequestMethod;!function(e){e[e.Unsent=0]="Unsent",e[e.Open=1]="Open",e[e.HeadersReceived=2]="HeadersReceived",e[e.Loading=3]="Loading",e[e.Done=4]="Done",e[e.Cancelled=5]="Cancelled"}(exports.ReadyState||(exports.ReadyState={}));var ReadyState=exports.ReadyState;!function(e){e[e.Basic=0]="Basic",e[e.Cors=1]="Cors",e[e.Default=2]="Default",e[e.Error=3]="Error",e[e.Opaque=4]="Opaque"}(exports.ResponseType||(exports.ResponseType={}));var ResponseType=exports.ResponseType;

},{}],224:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},BaseWrappedException=function(e){function t(t){e.call(this,t)}return __extends(t,e),Object.defineProperty(t.prototype,"wrapperMessage",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalException",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return""},enumerable:!0,configurable:!0}),t}(Error);exports.BaseWrappedException=BaseWrappedException;

},{}],225:[function(require,module,exports){
"use strict";function _flattenArray(r,n){if(lang_1.isPresent(r))for(var e=0;e<r.length;e++){var t=r[e];lang_1.isArray(t)?_flattenArray(t,n):n.push(t)}return n}function isListLikeIterable(r){return lang_1.isJsObject(r)?lang_1.isArray(r)||!(r instanceof exports.Map)&&lang_1.getSymbolIterator()in r:!1}function areIterablesEqual(r,n,e){for(var t=r[lang_1.getSymbolIterator()](),a=n[lang_1.getSymbolIterator()]();;){var i=t.next(),o=a.next();if(i.done&&o.done)return!0;if(i.done||o.done)return!1;if(!e(i.value,o.value))return!1}}function iterateListLike(r,n){if(lang_1.isArray(r))for(var e=0;e<r.length;e++)n(r[e]);else for(var t,a=r[lang_1.getSymbolIterator()]();!(t=a.next()).done;)n(t.value)}var lang_1=require(228);exports.Map=lang_1.global.Map,exports.Set=lang_1.global.Set;var createMapFromPairs=function(){try{if(1===new exports.Map([[1,2]]).size)return function(r){return new exports.Map(r)}}catch(r){}return function(r){for(var n=new exports.Map,e=0;e<r.length;e++){var t=r[e];n.set(t[0],t[1])}return n}}(),createMapFromMap=function(){try{if(new exports.Map(new exports.Map))return function(r){return new exports.Map(r)}}catch(r){}return function(r){var n=new exports.Map;return r.forEach(function(r,e){n.set(e,r)}),n}}(),_clearValues=function(){return(new exports.Map).keys().next?function(r){for(var n,e=r.keys();!(n=e.next()).done;)r.set(n.value,null)}:function(r){r.forEach(function(n,e){r.set(e,null)})}}(),_arrayFromMap=function(){try{if((new exports.Map).values().next)return function(r,n){return n?Array.from(r.values()):Array.from(r.keys())}}catch(r){}return function(r,n){var e=ListWrapper.createFixedSize(r.size),t=0;return r.forEach(function(r,a){e[t]=n?r:a,t++}),e}}(),MapWrapper=function(){function r(){}return r.clone=function(r){return createMapFromMap(r)},r.createFromStringMap=function(r){var n=new exports.Map;for(var e in r)n.set(e,r[e]);return n},r.toStringMap=function(r){var n={};return r.forEach(function(r,e){return n[e]=r}),n},r.createFromPairs=function(r){return createMapFromPairs(r)},r.clearValues=function(r){_clearValues(r)},r.iterable=function(r){return r},r.keys=function(r){return _arrayFromMap(r,!1)},r.values=function(r){return _arrayFromMap(r,!0)},r}();exports.MapWrapper=MapWrapper;var StringMapWrapper=function(){function r(){}return r.create=function(){return{}},r.contains=function(r,n){return r.hasOwnProperty(n)},r.get=function(r,n){return r.hasOwnProperty(n)?r[n]:void 0},r.set=function(r,n,e){r[n]=e},r.keys=function(r){return Object.keys(r)},r.values=function(r){return Object.keys(r).reduce(function(n,e){return n.push(r[e]),n},[])},r.isEmpty=function(r){for(var n in r)return!1;return!0},r["delete"]=function(r,n){delete r[n]},r.forEach=function(r,n){for(var e in r)r.hasOwnProperty(e)&&n(r[e],e)},r.merge=function(r,n){var e={};for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e},r.equals=function(r,n){var e=Object.keys(r),t=Object.keys(n);if(e.length!=t.length)return!1;for(var a,i=0;i<e.length;i++)if(a=e[i],r[a]!==n[a])return!1;return!0},r}();exports.StringMapWrapper=StringMapWrapper;var ListWrapper=function(){function r(){}return r.createFixedSize=function(r){return new Array(r)},r.createGrowableSize=function(r){return new Array(r)},r.clone=function(r){return r.slice(0)},r.forEachWithIndex=function(r,n){for(var e=0;e<r.length;e++)n(r[e],e)},r.first=function(r){return r?r[0]:null},r.last=function(r){return r&&0!=r.length?r[r.length-1]:null},r.indexOf=function(r,n,e){return void 0===e&&(e=0),r.indexOf(n,e)},r.contains=function(r,n){return-1!==r.indexOf(n)},r.reversed=function(n){var e=r.clone(n);return e.reverse()},r.concat=function(r,n){return r.concat(n)},r.insert=function(r,n,e){r.splice(n,0,e)},r.removeAt=function(r,n){var e=r[n];return r.splice(n,1),e},r.removeAll=function(r,n){for(var e=0;e<n.length;++e){var t=r.indexOf(n[e]);r.splice(t,1)}},r.remove=function(r,n){var e=r.indexOf(n);return e>-1?(r.splice(e,1),!0):!1},r.clear=function(r){r.length=0},r.isEmpty=function(r){return 0==r.length},r.fill=function(r,n,e,t){void 0===e&&(e=0),void 0===t&&(t=null),r.fill(n,e,null===t?r.length:t)},r.equals=function(r,n){if(r.length!=n.length)return!1;for(var e=0;e<r.length;++e)if(r[e]!==n[e])return!1;return!0},r.slice=function(r,n,e){return void 0===n&&(n=0),void 0===e&&(e=null),r.slice(n,null===e?void 0:e)},r.splice=function(r,n,e){return r.splice(n,e)},r.sort=function(r,n){lang_1.isPresent(n)?r.sort(n):r.sort()},r.toString=function(r){return r.toString()},r.toJSON=function(r){return JSON.stringify(r)},r.maximum=function(r,n){if(0==r.length)return null;for(var e=null,t=-(1/0),a=0;a<r.length;a++){var i=r[a];if(!lang_1.isBlank(i)){var o=n(i);o>t&&(e=i,t=o)}}return e},r.flatten=function(r){var n=[];return _flattenArray(r,n),n},r.addAll=function(r,n){for(var e=0;e<n.length;e++)r.push(n[e])},r}();exports.ListWrapper=ListWrapper,exports.isListLikeIterable=isListLikeIterable,exports.areIterablesEqual=areIterablesEqual,exports.iterateListLike=iterateListLike;var createSetFromList=function(){var r=new exports.Set([1,2,3]);return 3===r.size?function(r){return new exports.Set(r)}:function(r){var n=new exports.Set(r);if(n.size!==r.length)for(var e=0;e<r.length;e++)n.add(r[e]);return n}}(),SetWrapper=function(){function r(){}return r.createFromList=function(r){return createSetFromList(r)},r.has=function(r,n){return r.has(n)},r["delete"]=function(r,n){r["delete"](n)},r}();exports.SetWrapper=SetWrapper;

},{"228":228}],226:[function(require,module,exports){
"use strict";var lang_1=require(228),base_wrapped_exception_1=require(224),collection_1=require(225),_ArrayLogger=function(){function e(){this.res=[]}return e.prototype.log=function(e){this.res.push(e)},e.prototype.logError=function(e){this.res.push(e)},e.prototype.logGroup=function(e){this.res.push(e)},e.prototype.logGroupEnd=function(){},e}(),ExceptionHandler=function(){function e(e,n){void 0===n&&(n=!0),this._logger=e,this._rethrowException=n}return e.exceptionToString=function(n,r,t){void 0===r&&(r=null),void 0===t&&(t=null);var o=new _ArrayLogger,i=new e(o,!1);return i.call(n,r,t),o.res.join("\n")},e.prototype.call=function(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var t=this._findOriginalException(e),o=this._findOriginalStack(e),i=this._findContext(e);if(this._logger.logGroup("EXCEPTION: "+this._extractMessage(e)),lang_1.isPresent(n)&&lang_1.isBlank(o)&&(this._logger.logError("STACKTRACE:"),this._logger.logError(this._longStackTrace(n))),lang_1.isPresent(r)&&this._logger.logError("REASON: "+r),lang_1.isPresent(t)&&this._logger.logError("ORIGINAL EXCEPTION: "+this._extractMessage(t)),lang_1.isPresent(o)&&(this._logger.logError("ORIGINAL STACKTRACE:"),this._logger.logError(this._longStackTrace(o))),lang_1.isPresent(i)&&(this._logger.logError("ERROR CONTEXT:"),this._logger.logError(i)),this._logger.logGroupEnd(),this._rethrowException)throw e},e.prototype._extractMessage=function(e){return e instanceof base_wrapped_exception_1.BaseWrappedException?e.wrapperMessage:e.toString()},e.prototype._longStackTrace=function(e){return collection_1.isListLikeIterable(e)?e.join("\n\n-----async gap-----\n"):e.toString()},e.prototype._findContext=function(e){try{return e instanceof base_wrapped_exception_1.BaseWrappedException?lang_1.isPresent(e.context)?e.context:this._findContext(e.originalException):null}catch(n){return null}},e.prototype._findOriginalException=function(e){if(!(e instanceof base_wrapped_exception_1.BaseWrappedException))return null;for(var n=e.originalException;n instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(n.originalException);)n=n.originalException;return n},e.prototype._findOriginalStack=function(e){if(!(e instanceof base_wrapped_exception_1.BaseWrappedException))return null;for(var n=e,r=e.originalStack;n instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(n.originalException);)n=n.originalException,n instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(n.originalException)&&(r=n.originalStack);return r},e}();exports.ExceptionHandler=ExceptionHandler;

},{"224":224,"225":225,"228":228}],227:[function(require,module,exports){
"use strict";function makeTypeError(e){return new TypeError(e)}function unimplemented(){throw new BaseException("unimplemented")}var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},base_wrapped_exception_1=require(224),exception_handler_1=require(226),exception_handler_2=require(226);exports.ExceptionHandler=exception_handler_2.ExceptionHandler;var BaseException=function(e){function t(t){void 0===t&&(t="--"),e.call(this,t),this.message=t,this.stack=new Error(t).stack}return __extends(t,e),t.prototype.toString=function(){return this.message},t}(Error);exports.BaseException=BaseException;var WrappedException=function(e){function t(t,r,n,o){e.call(this,t),this._wrapperMessage=t,this._originalException=r,this._originalStack=n,this._context=o,this._wrapperStack=new Error(t).stack}return __extends(t,e),Object.defineProperty(t.prototype,"wrapperMessage",{get:function(){return this._wrapperMessage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperStack",{get:function(){return this._wrapperStack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalException",{get:function(){return this._originalException},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalStack",{get:function(){return this._originalStack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return exception_handler_1.ExceptionHandler.exceptionToString(this)},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.message},t}(base_wrapped_exception_1.BaseWrappedException);exports.WrappedException=WrappedException,exports.makeTypeError=makeTypeError,exports.unimplemented=unimplemented;

},{"224":224,"226":226}],228:[function(require,module,exports){
(function (global){
"use strict";function scheduleMicroTask(e){Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function getTypeNameForDebugging(e){return e.name?e.name:typeof e}function lockMode(){_modeLocked=!0}function enableProdMode(){if(_modeLocked)throw"Cannot enable prod mode after platform setup.";_devMode=!1}function assertionsEnabled(){return _devMode}function isPresent(e){return void 0!==e&&null!==e}function isBlank(e){return void 0===e||null===e}function isBoolean(e){return"boolean"==typeof e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isFunction(e){return"function"==typeof e}function isType(e){return isFunction(e)}function isStringMap(e){return"object"==typeof e&&null!==e}function isStrictStringMap(e){return isStringMap(e)&&Object.getPrototypeOf(e)===STRING_MAP_PROTO}function isPromise(e){return e instanceof _global.Promise}function isArray(e){return Array.isArray(e)}function isDate(e){return e instanceof exports.Date&&!isNaN(e.valueOf())}function noop(){}function stringify(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.name)return e.name;if(e.overriddenName)return e.overriddenName;var r=e.toString(),n=r.indexOf("\n");return-1===n?r:r.substring(0,n)}function serializeEnum(e){return e}function deserializeEnum(e,r){return e}function resolveEnumToken(e,r){return e[r]}function looseIdentical(e,r){return e===r||"number"==typeof e&&"number"==typeof r&&isNaN(e)&&isNaN(r)}function getMapKey(e){return e}function normalizeBlank(e){return isBlank(e)?null:e}function normalizeBool(e){return isBlank(e)?!1:e}function isJsObject(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function print(e){console.log(e)}function warn(e){console.warn(e)}function setValueOnPath(e,r,n){for(var t=r.split("."),o=e;t.length>1;){var i=t.shift();o=o.hasOwnProperty(i)&&isPresent(o[i])?o[i]:o[i]={}}void 0!==o&&null!==o||(o={}),o[t.shift()]=n}function getSymbolIterator(){if(isBlank(_symbolIterator))if(isPresent(globalScope.Symbol)&&isPresent(Symbol.iterator))_symbolIterator=Symbol.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),r=0;r<e.length;++r){var n=e[r];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(_symbolIterator=n)}return _symbolIterator}function evalExpression(e,r,n,t){var o=n+"\nreturn "+r+"\n//# sourceURL="+e,i=[],s=[];for(var u in t)i.push(u),s.push(t[u]);return(new(Function.bind.apply(Function,[void 0].concat(i.concat(o))))).apply(void 0,s)}function isPrimitive(e){return!isJsObject(e)}function hasConstructor(e,r){return e.constructor===r}function bitWiseOr(e){return e.reduce(function(e,r){return e|r})}function bitWiseAnd(e){return e.reduce(function(e,r){return e&r})}function escape(e){return _global.encodeURI(e)}var __extends=this&&this.__extends||function(e,r){function n(){this.constructor=e}for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)},globalScope;globalScope="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window,exports.scheduleMicroTask=scheduleMicroTask,exports.IS_DART=!1;var _global=globalScope;exports.global=_global,exports.Type=Function,exports.getTypeNameForDebugging=getTypeNameForDebugging,exports.Math=_global.Math,exports.Date=_global.Date;var _devMode=!0,_modeLocked=!1;exports.lockMode=lockMode,exports.enableProdMode=enableProdMode,exports.assertionsEnabled=assertionsEnabled,_global.assert=function(e){},exports.isPresent=isPresent,exports.isBlank=isBlank,exports.isBoolean=isBoolean,exports.isNumber=isNumber,exports.isString=isString,exports.isFunction=isFunction,exports.isType=isType,exports.isStringMap=isStringMap;var STRING_MAP_PROTO=Object.getPrototypeOf({});exports.isStrictStringMap=isStrictStringMap,exports.isPromise=isPromise,exports.isArray=isArray,exports.isDate=isDate,exports.noop=noop,exports.stringify=stringify,exports.serializeEnum=serializeEnum,exports.deserializeEnum=deserializeEnum,exports.resolveEnumToken=resolveEnumToken;var StringWrapper=function(){function e(){}return e.fromCharCode=function(e){return String.fromCharCode(e)},e.charCodeAt=function(e,r){return e.charCodeAt(r)},e.split=function(e,r){return e.split(r)},e.equals=function(e,r){return e===r},e.stripLeft=function(e,r){if(e&&e.length){for(var n=0,t=0;t<e.length&&e[t]==r;t++)n++;e=e.substring(n)}return e},e.stripRight=function(e,r){if(e&&e.length){for(var n=e.length,t=e.length-1;t>=0&&e[t]==r;t--)n--;e=e.substring(0,n)}return e},e.replace=function(e,r,n){return e.replace(r,n)},e.replaceAll=function(e,r,n){return e.replace(r,n)},e.slice=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=null),e.slice(r,null===n?void 0:n)},e.replaceAllMapped=function(e,r,n){return e.replace(r,function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return e.splice(-2,2),n(e)})},e.contains=function(e,r){return-1!=e.indexOf(r)},e.compare=function(e,r){return r>e?-1:e>r?1:0},e}();exports.StringWrapper=StringWrapper;var StringJoiner=function(){function e(e){void 0===e&&(e=[]),this.parts=e}return e.prototype.add=function(e){this.parts.push(e)},e.prototype.toString=function(){return this.parts.join("")},e}();exports.StringJoiner=StringJoiner;var NumberParseError=function(e){function r(r){e.call(this),this.message=r}return __extends(r,e),r.prototype.toString=function(){return this.message},r}(Error);exports.NumberParseError=NumberParseError;var NumberWrapper=function(){function e(){}return e.toFixed=function(e,r){return e.toFixed(r)},e.equal=function(e,r){return e===r},e.parseIntAutoRadix=function(e){var r=parseInt(e);if(isNaN(r))throw new NumberParseError("Invalid integer literal when parsing "+e);return r},e.parseInt=function(e,r){if(10==r){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,r)}else if(16==r){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,r)}else{var n=parseInt(e,r);if(!isNaN(n))return n}throw new NumberParseError("Invalid integer literal when parsing "+e+" in base "+r)},e.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}();exports.NumberWrapper=NumberWrapper,exports.RegExp=_global.RegExp;var RegExpWrapper=function(){function e(){}return e.create=function(e,r){return void 0===r&&(r=""),r=r.replace(/g/g,""),new _global.RegExp(e,r+"g")},e.firstMatch=function(e,r){return e.lastIndex=0,e.exec(r)},e.test=function(e,r){return e.lastIndex=0,e.test(r)},e.matcher=function(e,r){return e.lastIndex=0,{re:e,input:r}},e.replaceAll=function(e,r,n){var t=e.exec(r),o="";e.lastIndex=0;for(var i=0;t;)o+=r.substring(i,t.index),o+=n(t),i=t.index+t[0].length,e.lastIndex=i,t=e.exec(r);return o+=r.substring(i)},e}();exports.RegExpWrapper=RegExpWrapper;var RegExpMatcherWrapper=function(){function e(){}return e.next=function(e){return e.re.exec(e.input)},e}();exports.RegExpMatcherWrapper=RegExpMatcherWrapper;var FunctionWrapper=function(){function e(){}return e.apply=function(e,r){return e.apply(null,r)},e}();exports.FunctionWrapper=FunctionWrapper,exports.looseIdentical=looseIdentical,exports.getMapKey=getMapKey,exports.normalizeBlank=normalizeBlank,exports.normalizeBool=normalizeBool,exports.isJsObject=isJsObject,exports.print=print,exports.warn=warn;var Json=function(){function e(){}return e.parse=function(e){return _global.JSON.parse(e)},e.stringify=function(e){return _global.JSON.stringify(e,null,2)},e}();exports.Json=Json;var DateWrapper=function(){function e(){}return e.create=function(e,r,n,t,o,i,s){return void 0===r&&(r=1),void 0===n&&(n=1),void 0===t&&(t=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===s&&(s=0),new exports.Date(e,r-1,n,t,o,i,s)},e.fromISOString=function(e){return new exports.Date(e)},e.fromMillis=function(e){return new exports.Date(e)},e.toMillis=function(e){return e.getTime()},e.now=function(){return new exports.Date},e.toJson=function(e){return e.toJSON()},e}();exports.DateWrapper=DateWrapper,exports.setValueOnPath=setValueOnPath;var _symbolIterator=null;exports.getSymbolIterator=getSymbolIterator,exports.evalExpression=evalExpression,exports.isPrimitive=isPrimitive,exports.hasConstructor=hasConstructor,exports.bitWiseOr=bitWiseOr,exports.bitWiseAnd=bitWiseAnd,exports.escape=escape;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],229:[function(require,module,exports){
"use strict";var lang_1=require(228),exceptions_1=require(227),collection_1=require(225),Headers=function(){function e(t){var r=this;return t instanceof e?void(this._headersMap=t._headersMap):(this._headersMap=new collection_1.Map,void(lang_1.isBlank(t)||collection_1.StringMapWrapper.forEach(t,function(e,t){r._headersMap.set(t,collection_1.isListLikeIterable(e)?e:[e])})))}return e.fromResponseHeaderString=function(t){return t.trim().split("\n").map(function(e){return e.split(":")}).map(function(e){var t=e[0],r=e.slice(1);return[t.trim(),r.join(":").trim()]}).reduce(function(e,t){var r=t[0],i=t[1];return!e.set(r,i)&&e},new e)},e.prototype.append=function(e,t){var r=this._headersMap.get(e),i=collection_1.isListLikeIterable(r)?r:[];i.push(t),this._headersMap.set(e,i)},e.prototype["delete"]=function(e){this._headersMap["delete"](e)},e.prototype.forEach=function(e){this._headersMap.forEach(e)},e.prototype.get=function(e){return collection_1.ListWrapper.first(this._headersMap.get(e))},e.prototype.has=function(e){return this._headersMap.has(e)},e.prototype.keys=function(){return collection_1.MapWrapper.keys(this._headersMap)},e.prototype.set=function(e,t){var r=[];if(collection_1.isListLikeIterable(t)){var i=t.join(",");r.push(i)}else r.push(t);this._headersMap.set(e,r)},e.prototype.values=function(){return collection_1.MapWrapper.values(this._headersMap)},e.prototype.toJSON=function(){var e={};return this._headersMap.forEach(function(t,r){var i=[];collection_1.iterateListLike(t,function(e){return i=collection_1.ListWrapper.concat(i,e.split(","))}),e[r]=i}),e},e.prototype.getAll=function(e){var t=this._headersMap.get(e);return collection_1.isListLikeIterable(t)?t:[]},e.prototype.entries=function(){throw new exceptions_1.BaseException('"entries" method is not implemented on Headers class')},e}();exports.Headers=Headers;

},{"225":225,"227":227,"228":228}],230:[function(require,module,exports){
"use strict";function httpRequest(e,t){return e.createConnection(t).response}function mergeOptions(e,t,s,n){var r=e;return lang_1.isPresent(t)?r.merge(new base_request_options_1.RequestOptions({method:t.method||s,url:t.url||n,search:t.search,headers:t.headers,body:t.body})):lang_1.isPresent(s)?r.merge(new base_request_options_1.RequestOptions({method:s,url:n})):r.merge(new base_request_options_1.RequestOptions({url:n}))}var __extends=this&&this.__extends||function(e,t){function s(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)},lang_1=require(228),exceptions_1=require(227),core_1=require(140),interfaces_1=require(232),static_request_1=require(233),base_request_options_1=require(221),enums_1=require(223),Http=function(){function e(e,t){this._backend=e,this._defaultOptions=t}return e.prototype.request=function(e,t){var s;if(lang_1.isString(e))s=httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,t,enums_1.RequestMethod.Get,e)));else{if(!(e instanceof static_request_1.Request))throw exceptions_1.makeTypeError("First argument must be a url string or Request instance.");s=httpRequest(this._backend,e)}return s},e.prototype.get=function(e,t){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,t,enums_1.RequestMethod.Get,e)))},e.prototype.post=function(e,t,s){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions.merge(new base_request_options_1.RequestOptions({body:t})),s,enums_1.RequestMethod.Post,e)))},e.prototype.put=function(e,t,s){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions.merge(new base_request_options_1.RequestOptions({body:t})),s,enums_1.RequestMethod.Put,e)))},e.prototype["delete"]=function(e,t){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,t,enums_1.RequestMethod.Delete,e)))},e.prototype.patch=function(e,t,s){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions.merge(new base_request_options_1.RequestOptions({body:t})),s,enums_1.RequestMethod.Patch,e)))},e.prototype.head=function(e,t){return httpRequest(this._backend,new static_request_1.Request(mergeOptions(this._defaultOptions,t,enums_1.RequestMethod.Head,e)))},e.decorators=[{type:core_1.Injectable}],e.ctorParameters=[{type:interfaces_1.ConnectionBackend},{type:base_request_options_1.RequestOptions}],e}();exports.Http=Http;var Jsonp=function(e){function t(t,s){e.call(this,t,s)}return __extends(t,e),t.prototype.request=function(e,t){var s;if(lang_1.isString(e)&&(e=new static_request_1.Request(mergeOptions(this._defaultOptions,t,enums_1.RequestMethod.Get,e))),!(e instanceof static_request_1.Request))throw exceptions_1.makeTypeError("First argument must be a url string or Request instance.");return e.method!==enums_1.RequestMethod.Get&&exceptions_1.makeTypeError("JSONP requests must use GET request method."),s=httpRequest(this._backend,e)},t.decorators=[{type:core_1.Injectable}],t.ctorParameters=[{type:interfaces_1.ConnectionBackend},{type:base_request_options_1.RequestOptions}],t}(Http);exports.Jsonp=Jsonp;

},{"140":140,"221":221,"223":223,"227":227,"228":228,"232":232,"233":233}],231:[function(require,module,exports){
"use strict";function normalizeMethodName(e){if(lang_1.isString(e)){var s=e;if(e=e.replace(/(\w)(\w*)/g,function(e,s,r){return s.toUpperCase()+r.toLowerCase()}),e=enums_1.RequestMethod[e],"number"!=typeof e)throw exceptions_1.makeTypeError('Invalid request method. The method "'+s+'" is not supported.')}return e}function getResponseURL(e){return"responseURL"in e?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):void 0}var lang_1=require(228),enums_1=require(223),exceptions_1=require(227);exports.normalizeMethodName=normalizeMethodName,exports.isSuccess=function(e){return e>=200&&300>e},exports.getResponseURL=getResponseURL;var lang_2=require(228);exports.isJsObject=lang_2.isJsObject;

},{"223":223,"227":227,"228":228}],232:[function(require,module,exports){
"use strict";var ConnectionBackend=function(){function n(){}return n}();exports.ConnectionBackend=ConnectionBackend;var Connection=function(){function n(){}return n}();exports.Connection=Connection;

},{}],233:[function(require,module,exports){
"use strict";var headers_1=require(229),http_utils_1=require(231),lang_1=require(228),Request=function(){function t(t){var e=t.url;if(this.url=t.url,lang_1.isPresent(t.search)){var r=t.search.toString();if(r.length>0){var s="?";lang_1.StringWrapper.contains(this.url,"?")&&(s="&"==this.url[this.url.length-1]?"":"&"),this.url=e+s+r}}this._body=t.body,this.method=http_utils_1.normalizeMethodName(t.method),this.headers=new headers_1.Headers(t.headers)}return t.prototype.text=function(){return lang_1.isPresent(this._body)?this._body.toString():""},t}();exports.Request=Request;

},{"228":228,"229":229,"231":231}],234:[function(require,module,exports){
"use strict";var lang_1=require(228),exceptions_1=require(227),http_utils_1=require(231),Response=function(){function t(t){this._body=t.body,this.status=t.status,this.ok=this.status>=200&&this.status<=299,this.statusText=t.statusText,this.headers=t.headers,this.type=t.type,this.url=t.url}return t.prototype.blob=function(){throw new exceptions_1.BaseException('"blob()" method not implemented on Response superclass')},t.prototype.json=function(){var t;return http_utils_1.isJsObject(this._body)?t=this._body:lang_1.isString(this._body)&&(t=lang_1.Json.parse(this._body)),t},t.prototype.text=function(){return this._body.toString()},t.prototype.arrayBuffer=function(){throw new exceptions_1.BaseException('"arrayBuffer()" method not implemented on Response superclass')},t}();exports.Response=Response;

},{"227":227,"228":228,"231":231}],235:[function(require,module,exports){
"use strict";function paramParser(a){void 0===a&&(a="");var t=new collection_1.Map;if(a.length>0){var r=a.split("&");r.forEach(function(a){var r=a.split("="),e=r[0],p=r[1],s=lang_1.isPresent(t.get(e))?t.get(e):[];s.push(p),t.set(e,s)})}return t}var lang_1=require(228),collection_1=require(225),URLSearchParams=function(){function a(a){void 0===a&&(a=""),this.rawParams=a,this.paramsMap=paramParser(a)}return a.prototype.clone=function(){var t=new a;return t.appendAll(this),t},a.prototype.has=function(a){return this.paramsMap.has(a)},a.prototype.get=function(a){var t=this.paramsMap.get(a);return collection_1.isListLikeIterable(t)?collection_1.ListWrapper.first(t):null},a.prototype.getAll=function(a){var t=this.paramsMap.get(a);return lang_1.isPresent(t)?t:[]},a.prototype.set=function(a,t){var r=this.paramsMap.get(a),e=lang_1.isPresent(r)?r:[];collection_1.ListWrapper.clear(e),e.push(t),this.paramsMap.set(a,e)},a.prototype.setAll=function(a){var t=this;a.paramsMap.forEach(function(a,r){var e=t.paramsMap.get(r),p=lang_1.isPresent(e)?e:[];collection_1.ListWrapper.clear(p),p.push(a[0]),t.paramsMap.set(r,p)})},a.prototype.append=function(a,t){var r=this.paramsMap.get(a),e=lang_1.isPresent(r)?r:[];e.push(t),this.paramsMap.set(a,e)},a.prototype.appendAll=function(a){var t=this;a.paramsMap.forEach(function(a,r){for(var e=t.paramsMap.get(r),p=lang_1.isPresent(e)?e:[],s=0;s<a.length;++s)p.push(a[s]);t.paramsMap.set(r,p)})},a.prototype.replaceAll=function(a){var t=this;a.paramsMap.forEach(function(a,r){var e=t.paramsMap.get(r),p=lang_1.isPresent(e)?e:[];collection_1.ListWrapper.clear(p);for(var s=0;s<a.length;++s)p.push(a[s]);t.paramsMap.set(r,p)})},a.prototype.toString=function(){var a=[];return this.paramsMap.forEach(function(t,r){t.forEach(function(t){return a.push(r+"="+t)})}),a.join("&")},a.prototype["delete"]=function(a){this.paramsMap["delete"](a)},a}();exports.URLSearchParams=URLSearchParams;

},{"225":225,"228":228}],236:[function(require,module,exports){
"use strict";var core_1=require(140);exports.ReflectionCapabilities=core_1.__core_private__.ReflectionCapabilities;

},{"140":140}],237:[function(require,module,exports){
"use strict";function __export(r){for(var e in r)exports.hasOwnProperty(e)||(exports[e]=r[e])}__export(require(238));

},{"238":238}],238:[function(require,module,exports){
"use strict";function bootstrap(r,e){core_1.reflector.reflectionCapabilities=new core_private_1.ReflectionCapabilities;var o=core_1.ReflectiveInjector.resolveAndCreate([exports.BROWSER_APP_DYNAMIC_PROVIDERS,lang_1.isPresent(e)?e:[]],platform_browser_1.browserPlatform().injector);return core_1.coreLoadAndBootstrap(o,r)}var compiler_1=require(73),xhr_cache_1=require(245),lang_1=require(243),xhr_impl_1=require(246),platform_browser_1=require(248),core_1=require(140),core_private_1=require(236);exports.CACHED_TEMPLATE_PROVIDER=[{provide:compiler_1.XHR,useClass:xhr_cache_1.CachedXHR}],exports.BROWSER_APP_DYNAMIC_PROVIDERS=[platform_browser_1.BROWSER_APP_COMMON_PROVIDERS,compiler_1.COMPILER_PROVIDERS,{provide:compiler_1.XHR,useClass:xhr_impl_1.XHRImpl}],exports.bootstrap=bootstrap;

},{"140":140,"236":236,"243":243,"245":245,"246":246,"248":248,"73":73}],239:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},BaseWrappedException=function(e){function t(t){e.call(this,t)}return __extends(t,e),Object.defineProperty(t.prototype,"wrapperMessage",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalException",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return""},enumerable:!0,configurable:!0}),t}(Error);exports.BaseWrappedException=BaseWrappedException;

},{}],240:[function(require,module,exports){
"use strict";function _flattenArray(r,n){if(lang_1.isPresent(r))for(var e=0;e<r.length;e++){var t=r[e];lang_1.isArray(t)?_flattenArray(t,n):n.push(t)}return n}function isListLikeIterable(r){return lang_1.isJsObject(r)?lang_1.isArray(r)||!(r instanceof exports.Map)&&lang_1.getSymbolIterator()in r:!1}function areIterablesEqual(r,n,e){for(var t=r[lang_1.getSymbolIterator()](),a=n[lang_1.getSymbolIterator()]();;){var i=t.next(),o=a.next();if(i.done&&o.done)return!0;if(i.done||o.done)return!1;if(!e(i.value,o.value))return!1}}function iterateListLike(r,n){if(lang_1.isArray(r))for(var e=0;e<r.length;e++)n(r[e]);else for(var t,a=r[lang_1.getSymbolIterator()]();!(t=a.next()).done;)n(t.value)}var lang_1=require(243);exports.Map=lang_1.global.Map,exports.Set=lang_1.global.Set;var createMapFromPairs=function(){try{if(1===new exports.Map([[1,2]]).size)return function(r){return new exports.Map(r)}}catch(r){}return function(r){for(var n=new exports.Map,e=0;e<r.length;e++){var t=r[e];n.set(t[0],t[1])}return n}}(),createMapFromMap=function(){try{if(new exports.Map(new exports.Map))return function(r){return new exports.Map(r)}}catch(r){}return function(r){var n=new exports.Map;return r.forEach(function(r,e){n.set(e,r)}),n}}(),_clearValues=function(){return(new exports.Map).keys().next?function(r){for(var n,e=r.keys();!(n=e.next()).done;)r.set(n.value,null)}:function(r){r.forEach(function(n,e){r.set(e,null)})}}(),_arrayFromMap=function(){try{if((new exports.Map).values().next)return function(r,n){return n?Array.from(r.values()):Array.from(r.keys())}}catch(r){}return function(r,n){var e=ListWrapper.createFixedSize(r.size),t=0;return r.forEach(function(r,a){e[t]=n?r:a,t++}),e}}(),MapWrapper=function(){function r(){}return r.clone=function(r){return createMapFromMap(r)},r.createFromStringMap=function(r){var n=new exports.Map;for(var e in r)n.set(e,r[e]);return n},r.toStringMap=function(r){var n={};return r.forEach(function(r,e){return n[e]=r}),n},r.createFromPairs=function(r){return createMapFromPairs(r)},r.clearValues=function(r){_clearValues(r)},r.iterable=function(r){return r},r.keys=function(r){return _arrayFromMap(r,!1)},r.values=function(r){return _arrayFromMap(r,!0)},r}();exports.MapWrapper=MapWrapper;var StringMapWrapper=function(){function r(){}return r.create=function(){return{}},r.contains=function(r,n){return r.hasOwnProperty(n)},r.get=function(r,n){return r.hasOwnProperty(n)?r[n]:void 0},r.set=function(r,n,e){r[n]=e},r.keys=function(r){return Object.keys(r)},r.values=function(r){return Object.keys(r).reduce(function(n,e){return n.push(r[e]),n},[])},r.isEmpty=function(r){for(var n in r)return!1;return!0},r["delete"]=function(r,n){delete r[n]},r.forEach=function(r,n){for(var e in r)r.hasOwnProperty(e)&&n(r[e],e)},r.merge=function(r,n){var e={};for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e},r.equals=function(r,n){var e=Object.keys(r),t=Object.keys(n);if(e.length!=t.length)return!1;for(var a,i=0;i<e.length;i++)if(a=e[i],r[a]!==n[a])return!1;return!0},r}();exports.StringMapWrapper=StringMapWrapper;var ListWrapper=function(){function r(){}return r.createFixedSize=function(r){return new Array(r)},r.createGrowableSize=function(r){return new Array(r)},r.clone=function(r){return r.slice(0)},r.forEachWithIndex=function(r,n){for(var e=0;e<r.length;e++)n(r[e],e)},r.first=function(r){return r?r[0]:null},r.last=function(r){return r&&0!=r.length?r[r.length-1]:null},r.indexOf=function(r,n,e){return void 0===e&&(e=0),r.indexOf(n,e)},r.contains=function(r,n){return-1!==r.indexOf(n)},r.reversed=function(n){var e=r.clone(n);return e.reverse()},r.concat=function(r,n){return r.concat(n)},r.insert=function(r,n,e){r.splice(n,0,e)},r.removeAt=function(r,n){var e=r[n];return r.splice(n,1),e},r.removeAll=function(r,n){for(var e=0;e<n.length;++e){var t=r.indexOf(n[e]);r.splice(t,1)}},r.remove=function(r,n){var e=r.indexOf(n);return e>-1?(r.splice(e,1),!0):!1},r.clear=function(r){r.length=0},r.isEmpty=function(r){return 0==r.length},r.fill=function(r,n,e,t){void 0===e&&(e=0),void 0===t&&(t=null),r.fill(n,e,null===t?r.length:t)},r.equals=function(r,n){if(r.length!=n.length)return!1;for(var e=0;e<r.length;++e)if(r[e]!==n[e])return!1;return!0},r.slice=function(r,n,e){return void 0===n&&(n=0),void 0===e&&(e=null),r.slice(n,null===e?void 0:e)},r.splice=function(r,n,e){return r.splice(n,e)},r.sort=function(r,n){lang_1.isPresent(n)?r.sort(n):r.sort()},r.toString=function(r){return r.toString()},r.toJSON=function(r){return JSON.stringify(r)},r.maximum=function(r,n){if(0==r.length)return null;for(var e=null,t=-(1/0),a=0;a<r.length;a++){var i=r[a];if(!lang_1.isBlank(i)){var o=n(i);o>t&&(e=i,t=o)}}return e},r.flatten=function(r){var n=[];return _flattenArray(r,n),n},r.addAll=function(r,n){for(var e=0;e<n.length;e++)r.push(n[e])},r}();exports.ListWrapper=ListWrapper,exports.isListLikeIterable=isListLikeIterable,exports.areIterablesEqual=areIterablesEqual,exports.iterateListLike=iterateListLike;var createSetFromList=function(){var r=new exports.Set([1,2,3]);return 3===r.size?function(r){return new exports.Set(r)}:function(r){var n=new exports.Set(r);if(n.size!==r.length)for(var e=0;e<r.length;e++)n.add(r[e]);return n}}(),SetWrapper=function(){function r(){}return r.createFromList=function(r){return createSetFromList(r)},r.has=function(r,n){return r.has(n)},r["delete"]=function(r,n){r["delete"](n)},r}();exports.SetWrapper=SetWrapper;

},{"243":243}],241:[function(require,module,exports){
"use strict";var lang_1=require(243),base_wrapped_exception_1=require(239),collection_1=require(240),_ArrayLogger=function(){function e(){this.res=[]}return e.prototype.log=function(e){this.res.push(e)},e.prototype.logError=function(e){this.res.push(e)},e.prototype.logGroup=function(e){this.res.push(e)},e.prototype.logGroupEnd=function(){},e}(),ExceptionHandler=function(){function e(e,n){void 0===n&&(n=!0),this._logger=e,this._rethrowException=n}return e.exceptionToString=function(n,r,t){void 0===r&&(r=null),void 0===t&&(t=null);var o=new _ArrayLogger,i=new e(o,!1);return i.call(n,r,t),o.res.join("\n")},e.prototype.call=function(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var t=this._findOriginalException(e),o=this._findOriginalStack(e),i=this._findContext(e);if(this._logger.logGroup("EXCEPTION: "+this._extractMessage(e)),lang_1.isPresent(n)&&lang_1.isBlank(o)&&(this._logger.logError("STACKTRACE:"),this._logger.logError(this._longStackTrace(n))),lang_1.isPresent(r)&&this._logger.logError("REASON: "+r),lang_1.isPresent(t)&&this._logger.logError("ORIGINAL EXCEPTION: "+this._extractMessage(t)),lang_1.isPresent(o)&&(this._logger.logError("ORIGINAL STACKTRACE:"),this._logger.logError(this._longStackTrace(o))),lang_1.isPresent(i)&&(this._logger.logError("ERROR CONTEXT:"),this._logger.logError(i)),this._logger.logGroupEnd(),this._rethrowException)throw e},e.prototype._extractMessage=function(e){return e instanceof base_wrapped_exception_1.BaseWrappedException?e.wrapperMessage:e.toString()},e.prototype._longStackTrace=function(e){return collection_1.isListLikeIterable(e)?e.join("\n\n-----async gap-----\n"):e.toString()},e.prototype._findContext=function(e){try{return e instanceof base_wrapped_exception_1.BaseWrappedException?lang_1.isPresent(e.context)?e.context:this._findContext(e.originalException):null}catch(n){return null}},e.prototype._findOriginalException=function(e){if(!(e instanceof base_wrapped_exception_1.BaseWrappedException))return null;for(var n=e.originalException;n instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(n.originalException);)n=n.originalException;return n},e.prototype._findOriginalStack=function(e){if(!(e instanceof base_wrapped_exception_1.BaseWrappedException))return null;for(var n=e,r=e.originalStack;n instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(n.originalException);)n=n.originalException,n instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(n.originalException)&&(r=n.originalStack);return r},e}();exports.ExceptionHandler=ExceptionHandler;

},{"239":239,"240":240,"243":243}],242:[function(require,module,exports){
"use strict";function makeTypeError(e){return new TypeError(e)}function unimplemented(){throw new BaseException("unimplemented")}var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},base_wrapped_exception_1=require(239),exception_handler_1=require(241),exception_handler_2=require(241);exports.ExceptionHandler=exception_handler_2.ExceptionHandler;var BaseException=function(e){function t(t){void 0===t&&(t="--"),e.call(this,t),this.message=t,this.stack=new Error(t).stack}return __extends(t,e),t.prototype.toString=function(){return this.message},t}(Error);exports.BaseException=BaseException;var WrappedException=function(e){function t(t,r,n,o){e.call(this,t),this._wrapperMessage=t,this._originalException=r,this._originalStack=n,this._context=o,this._wrapperStack=new Error(t).stack}return __extends(t,e),Object.defineProperty(t.prototype,"wrapperMessage",{get:function(){return this._wrapperMessage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperStack",{get:function(){return this._wrapperStack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalException",{get:function(){return this._originalException},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalStack",{get:function(){return this._originalStack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return exception_handler_1.ExceptionHandler.exceptionToString(this)},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.message},t}(base_wrapped_exception_1.BaseWrappedException);exports.WrappedException=WrappedException,exports.makeTypeError=makeTypeError,exports.unimplemented=unimplemented;

},{"239":239,"241":241}],243:[function(require,module,exports){
(function (global){
"use strict";function scheduleMicroTask(e){Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function getTypeNameForDebugging(e){return e.name?e.name:typeof e}function lockMode(){_modeLocked=!0}function enableProdMode(){if(_modeLocked)throw"Cannot enable prod mode after platform setup.";_devMode=!1}function assertionsEnabled(){return _devMode}function isPresent(e){return void 0!==e&&null!==e}function isBlank(e){return void 0===e||null===e}function isBoolean(e){return"boolean"==typeof e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isFunction(e){return"function"==typeof e}function isType(e){return isFunction(e)}function isStringMap(e){return"object"==typeof e&&null!==e}function isStrictStringMap(e){return isStringMap(e)&&Object.getPrototypeOf(e)===STRING_MAP_PROTO}function isPromise(e){return e instanceof _global.Promise}function isArray(e){return Array.isArray(e)}function isDate(e){return e instanceof exports.Date&&!isNaN(e.valueOf())}function noop(){}function stringify(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.name)return e.name;if(e.overriddenName)return e.overriddenName;var r=e.toString(),n=r.indexOf("\n");return-1===n?r:r.substring(0,n)}function serializeEnum(e){return e}function deserializeEnum(e,r){return e}function resolveEnumToken(e,r){return e[r]}function looseIdentical(e,r){return e===r||"number"==typeof e&&"number"==typeof r&&isNaN(e)&&isNaN(r)}function getMapKey(e){return e}function normalizeBlank(e){return isBlank(e)?null:e}function normalizeBool(e){return isBlank(e)?!1:e}function isJsObject(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function print(e){console.log(e)}function warn(e){console.warn(e)}function setValueOnPath(e,r,n){for(var t=r.split("."),o=e;t.length>1;){var i=t.shift();o=o.hasOwnProperty(i)&&isPresent(o[i])?o[i]:o[i]={}}void 0!==o&&null!==o||(o={}),o[t.shift()]=n}function getSymbolIterator(){if(isBlank(_symbolIterator))if(isPresent(globalScope.Symbol)&&isPresent(Symbol.iterator))_symbolIterator=Symbol.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),r=0;r<e.length;++r){var n=e[r];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(_symbolIterator=n)}return _symbolIterator}function evalExpression(e,r,n,t){var o=n+"\nreturn "+r+"\n//# sourceURL="+e,i=[],s=[];for(var u in t)i.push(u),s.push(t[u]);return(new(Function.bind.apply(Function,[void 0].concat(i.concat(o))))).apply(void 0,s)}function isPrimitive(e){return!isJsObject(e)}function hasConstructor(e,r){return e.constructor===r}function bitWiseOr(e){return e.reduce(function(e,r){return e|r})}function bitWiseAnd(e){return e.reduce(function(e,r){return e&r})}function escape(e){return _global.encodeURI(e)}var __extends=this&&this.__extends||function(e,r){function n(){this.constructor=e}for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)},globalScope;globalScope="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window,exports.scheduleMicroTask=scheduleMicroTask,exports.IS_DART=!1;var _global=globalScope;exports.global=_global,exports.Type=Function,exports.getTypeNameForDebugging=getTypeNameForDebugging,exports.Math=_global.Math,exports.Date=_global.Date;var _devMode=!0,_modeLocked=!1;exports.lockMode=lockMode,exports.enableProdMode=enableProdMode,exports.assertionsEnabled=assertionsEnabled,_global.assert=function(e){},exports.isPresent=isPresent,exports.isBlank=isBlank,exports.isBoolean=isBoolean,exports.isNumber=isNumber,exports.isString=isString,exports.isFunction=isFunction,exports.isType=isType,exports.isStringMap=isStringMap;var STRING_MAP_PROTO=Object.getPrototypeOf({});exports.isStrictStringMap=isStrictStringMap,exports.isPromise=isPromise,exports.isArray=isArray,exports.isDate=isDate,exports.noop=noop,exports.stringify=stringify,exports.serializeEnum=serializeEnum,exports.deserializeEnum=deserializeEnum,exports.resolveEnumToken=resolveEnumToken;var StringWrapper=function(){function e(){}return e.fromCharCode=function(e){return String.fromCharCode(e)},e.charCodeAt=function(e,r){return e.charCodeAt(r)},e.split=function(e,r){return e.split(r)},e.equals=function(e,r){return e===r},e.stripLeft=function(e,r){if(e&&e.length){for(var n=0,t=0;t<e.length&&e[t]==r;t++)n++;e=e.substring(n)}return e},e.stripRight=function(e,r){if(e&&e.length){for(var n=e.length,t=e.length-1;t>=0&&e[t]==r;t--)n--;e=e.substring(0,n)}return e},e.replace=function(e,r,n){return e.replace(r,n)},e.replaceAll=function(e,r,n){return e.replace(r,n)},e.slice=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=null),e.slice(r,null===n?void 0:n)},e.replaceAllMapped=function(e,r,n){return e.replace(r,function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return e.splice(-2,2),n(e)})},e.contains=function(e,r){return-1!=e.indexOf(r)},e.compare=function(e,r){return r>e?-1:e>r?1:0},e}();exports.StringWrapper=StringWrapper;var StringJoiner=function(){function e(e){void 0===e&&(e=[]),this.parts=e}return e.prototype.add=function(e){this.parts.push(e)},e.prototype.toString=function(){return this.parts.join("")},e}();exports.StringJoiner=StringJoiner;var NumberParseError=function(e){function r(r){e.call(this),this.message=r}return __extends(r,e),r.prototype.toString=function(){return this.message},r}(Error);exports.NumberParseError=NumberParseError;var NumberWrapper=function(){function e(){}return e.toFixed=function(e,r){return e.toFixed(r)},e.equal=function(e,r){return e===r},e.parseIntAutoRadix=function(e){var r=parseInt(e);if(isNaN(r))throw new NumberParseError("Invalid integer literal when parsing "+e);return r},e.parseInt=function(e,r){if(10==r){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,r)}else if(16==r){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,r)}else{var n=parseInt(e,r);if(!isNaN(n))return n}throw new NumberParseError("Invalid integer literal when parsing "+e+" in base "+r)},e.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}();exports.NumberWrapper=NumberWrapper,exports.RegExp=_global.RegExp;var RegExpWrapper=function(){function e(){}return e.create=function(e,r){return void 0===r&&(r=""),r=r.replace(/g/g,""),new _global.RegExp(e,r+"g")},e.firstMatch=function(e,r){return e.lastIndex=0,e.exec(r)},e.test=function(e,r){return e.lastIndex=0,e.test(r)},e.matcher=function(e,r){return e.lastIndex=0,{re:e,input:r}},e.replaceAll=function(e,r,n){var t=e.exec(r),o="";e.lastIndex=0;for(var i=0;t;)o+=r.substring(i,t.index),o+=n(t),i=t.index+t[0].length,e.lastIndex=i,t=e.exec(r);return o+=r.substring(i)},e}();exports.RegExpWrapper=RegExpWrapper;var RegExpMatcherWrapper=function(){function e(){}return e.next=function(e){return e.re.exec(e.input)},e}();exports.RegExpMatcherWrapper=RegExpMatcherWrapper;var FunctionWrapper=function(){function e(){}return e.apply=function(e,r){return e.apply(null,r)},e}();exports.FunctionWrapper=FunctionWrapper,exports.looseIdentical=looseIdentical,exports.getMapKey=getMapKey,exports.normalizeBlank=normalizeBlank,exports.normalizeBool=normalizeBool,exports.isJsObject=isJsObject,exports.print=print,exports.warn=warn;var Json=function(){function e(){}return e.parse=function(e){return _global.JSON.parse(e)},e.stringify=function(e){return _global.JSON.stringify(e,null,2)},e}();exports.Json=Json;var DateWrapper=function(){function e(){}return e.create=function(e,r,n,t,o,i,s){return void 0===r&&(r=1),void 0===n&&(n=1),void 0===t&&(t=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===s&&(s=0),new exports.Date(e,r-1,n,t,o,i,s)},e.fromISOString=function(e){return new exports.Date(e)},e.fromMillis=function(e){return new exports.Date(e)},e.toMillis=function(e){return e.getTime()},e.now=function(){return new exports.Date},e.toJson=function(e){return e.toJSON()},e}();exports.DateWrapper=DateWrapper,exports.setValueOnPath=setValueOnPath;var _symbolIterator=null;exports.getSymbolIterator=getSymbolIterator,exports.evalExpression=evalExpression,exports.isPrimitive=isPrimitive,exports.hasConstructor=hasConstructor,exports.bitWiseOr=bitWiseOr,exports.bitWiseAnd=bitWiseAnd,exports.escape=escape;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],244:[function(require,module,exports){
"use strict";var PromiseCompleter=function(){function e(){var e=this;this.promise=new Promise(function(r,n){e.resolve=r,e.reject=n})}return e}();exports.PromiseCompleter=PromiseCompleter;var PromiseWrapper=function(){function e(){}return e.resolve=function(e){return Promise.resolve(e)},e.reject=function(e,r){return Promise.reject(e)},e.catchError=function(e,r){return e["catch"](r)},e.all=function(e){return 0==e.length?Promise.resolve([]):Promise.all(e)},e.then=function(e,r,n){return e.then(r,n)},e.wrap=function(e){return new Promise(function(r,n){try{r(e())}catch(t){n(t)}})},e.scheduleMicrotask=function(r){e.then(e.resolve(null),r,function(e){})},e.isPromise=function(e){return e instanceof Promise},e.completer=function(){return new PromiseCompleter},e}();exports.PromiseWrapper=PromiseWrapper;

},{}],245:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var c in t)t.hasOwnProperty(c)&&(e[c]=t[c]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},compiler_1=require(73),exceptions_1=require(242),lang_1=require(243),promise_1=require(244),CachedXHR=function(e){function t(){if(e.call(this),this._cache=lang_1.global.$templateCache,null==this._cache)throw new exceptions_1.BaseException("CachedXHR: Template cache was not found in $templateCache.")}return __extends(t,e),t.prototype.get=function(e){return this._cache.hasOwnProperty(e)?promise_1.PromiseWrapper.resolve(this._cache[e]):promise_1.PromiseWrapper.reject("CachedXHR: Did not find cached template for "+e,null)},t}(compiler_1.XHR);exports.CachedXHR=CachedXHR;

},{"242":242,"243":243,"244":244,"73":73}],246:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},compiler_1=require(73),promise_1=require(244),lang_1=require(243),XHRImpl=function(e){function r(){e.apply(this,arguments)}return __extends(r,e),r.prototype.get=function(e){var r=promise_1.PromiseWrapper.completer(),t=new XMLHttpRequest;return t.open("GET",e,!0),t.responseType="text",t.onload=function(){var o=lang_1.isPresent(t.response)?t.response:t.responseText,n=1223===t.status?204:t.status;0===n&&(n=o?200:0),n>=200&&300>=n?r.resolve(o):r.reject("Failed to load "+e,null)},t.onerror=function(){r.reject("Failed to load "+e,null)},t.send(),r.promise},r}(compiler_1.XHR);exports.XHRImpl=XHRImpl;

},{"243":243,"244":244,"73":73}],247:[function(require,module,exports){
"use strict";var core_1=require(140);exports.RenderDebugInfo=core_1.__core_private__.RenderDebugInfo,exports.wtfInit=core_1.__core_private__.wtfInit,exports.ReflectionCapabilities=core_1.__core_private__.ReflectionCapabilities,exports.VIEW_ENCAPSULATION_VALUES=core_1.__core_private__.VIEW_ENCAPSULATION_VALUES,exports.DebugDomRootRenderer=core_1.__core_private__.DebugDomRootRenderer,exports.SecurityContext=core_1.__core_private__.SecurityContext,exports.SanitizationService=core_1.__core_private__.SanitizationService;

},{"140":140}],248:[function(require,module,exports){
"use strict";function __export(r){for(var e in r)exports.hasOwnProperty(e)||(exports[e]=r[e])}__export(require(282));

},{"282":282}],249:[function(require,module,exports){
"use strict";var animation_builder=require(251),css_animation_builder=require(253),browser_details=require(252),css_animation_options=require(254),animation=require(250),dom_adapter=require(265),browser_adapter=require(255),__platform_browser_private__;!function(r){function a(){return dom_adapter.getDOM()}function i(r){return dom_adapter.setDOM(r)}r.DomAdapter=dom_adapter.DomAdapter,r.getDOM=a,r.setDOM=i,r.setRootDomAdapter=dom_adapter.setRootDomAdapter,r.BrowserDomAdapter=browser_adapter.BrowserDomAdapter,r.AnimationBuilder=animation_builder.AnimationBuilder,r.CssAnimationBuilder=css_animation_builder.CssAnimationBuilder,r.CssAnimationOptions=css_animation_options.CssAnimationOptions,r.Animation=animation.Animation,r.BrowserDetails=browser_details.BrowserDetails}(__platform_browser_private__=exports.__platform_browser_private__||(exports.__platform_browser_private__={}));

},{"250":250,"251":251,"252":252,"253":253,"254":254,"255":255,"265":265}],250:[function(require,module,exports){
"use strict";var lang_1=require(280),math_1=require(281),collection_1=require(277),util_1=require(274),dom_adapter_1=require(265),Animation=function(){function t(t,e,a){var i=this;this.element=t,this.data=e,this.browserDetails=a,this.callbacks=[],this.eventClearFunctions=[],this.completed=!1,this._stringPrefix="",this.startTime=lang_1.DateWrapper.toMillis(lang_1.DateWrapper.now()),this._stringPrefix=dom_adapter_1.getDOM().getAnimationPrefix(),this.setup(),this.wait(function(t){return i.start()})}return Object.defineProperty(t.prototype,"totalTime",{get:function(){var t=null!=this.computedDelay?this.computedDelay:0,e=null!=this.computedDuration?this.computedDuration:0;return t+e},enumerable:!0,configurable:!0}),t.prototype.wait=function(t){this.browserDetails.raf(t,2)},t.prototype.setup=function(){null!=this.data.fromStyles&&this.applyStyles(this.data.fromStyles),null!=this.data.duration&&this.applyStyles({transitionDuration:this.data.duration.toString()+"ms"}),null!=this.data.delay&&this.applyStyles({transitionDelay:this.data.delay.toString()+"ms"})},t.prototype.start=function(){this.addClasses(this.data.classesToAdd),this.addClasses(this.data.animationClasses),this.removeClasses(this.data.classesToRemove),null!=this.data.toStyles&&this.applyStyles(this.data.toStyles);var t=dom_adapter_1.getDOM().getComputedStyle(this.element);this.computedDelay=math_1.Math.max(this.parseDurationString(t.getPropertyValue(this._stringPrefix+"transition-delay")),this.parseDurationString(this.element.style.getPropertyValue(this._stringPrefix+"transition-delay"))),this.computedDuration=math_1.Math.max(this.parseDurationString(t.getPropertyValue(this._stringPrefix+"transition-duration")),this.parseDurationString(this.element.style.getPropertyValue(this._stringPrefix+"transition-duration"))),this.addEvents()},t.prototype.applyStyles=function(t){var e=this;collection_1.StringMapWrapper.forEach(t,function(t,a){var i=util_1.camelCaseToDashCase(a);lang_1.isPresent(dom_adapter_1.getDOM().getStyle(e.element,i))?dom_adapter_1.getDOM().setStyle(e.element,i,t.toString()):dom_adapter_1.getDOM().setStyle(e.element,e._stringPrefix+i,t.toString())})},t.prototype.addClasses=function(t){for(var e=0,a=t.length;a>e;e++)dom_adapter_1.getDOM().addClass(this.element,t[e])},t.prototype.removeClasses=function(t){for(var e=0,a=t.length;a>e;e++)dom_adapter_1.getDOM().removeClass(this.element,t[e])},t.prototype.addEvents=function(){var t=this;this.totalTime>0?this.eventClearFunctions.push(dom_adapter_1.getDOM().onAndCancel(this.element,dom_adapter_1.getDOM().getTransitionEnd(),function(e){return t.handleAnimationEvent(e)})):this.handleAnimationCompleted()},t.prototype.handleAnimationEvent=function(t){var e=math_1.Math.round(1e3*t.elapsedTime);this.browserDetails.elapsedTimeIncludesDelay||(e+=this.computedDelay),t.stopPropagation(),e>=this.totalTime&&this.handleAnimationCompleted()},t.prototype.handleAnimationCompleted=function(){this.removeClasses(this.data.animationClasses),this.callbacks.forEach(function(t){return t()}),this.callbacks=[],this.eventClearFunctions.forEach(function(t){return t()}),this.eventClearFunctions=[],this.completed=!0},t.prototype.onComplete=function(t){return this.completed?t():this.callbacks.push(t),this},t.prototype.parseDurationString=function(t){var e=0;if(null==t||t.length<2)return e;if("ms"==t.substring(t.length-2)){var a=lang_1.NumberWrapper.parseInt(this.stripLetters(t),10);a>e&&(e=a)}else if("s"==t.substring(t.length-1)){var i=1e3*lang_1.NumberWrapper.parseFloat(this.stripLetters(t)),a=math_1.Math.floor(i);a>e&&(e=a)}return e},t.prototype.stripLetters=function(t){return lang_1.StringWrapper.replaceAll(t,lang_1.RegExpWrapper.create("[^0-9]+$",""),"")},t}();exports.Animation=Animation;

},{"265":265,"274":274,"277":277,"280":280,"281":281}],251:[function(require,module,exports){
"use strict";var core_1=require(140),css_animation_builder_1=require(253),browser_details_1=require(252),AnimationBuilder=function(){function r(r){this.browserDetails=r}return r.prototype.css=function(){return new css_animation_builder_1.CssAnimationBuilder(this.browserDetails)},r.decorators=[{type:core_1.Injectable}],r.ctorParameters=[{type:browser_details_1.BrowserDetails}],r}();exports.AnimationBuilder=AnimationBuilder;

},{"140":140,"252":252,"253":253}],252:[function(require,module,exports){
"use strict";var core_1=require(140),math_1=require(281),dom_adapter_1=require(265),BrowserDetails=function(){function e(){this.elapsedTimeIncludesDelay=!1,this.doesElapsedTimeIncludesDelay()}return e.prototype.doesElapsedTimeIncludesDelay=function(){var e=this,t=dom_adapter_1.getDOM().createElement("div");dom_adapter_1.getDOM().setAttribute(t,"style","position: absolute; top: -9999px; left: -9999px; width: 1px;\n      height: 1px; transition: all 1ms linear 1ms;"),this.raf(function(r){dom_adapter_1.getDOM().on(t,"transitionend",function(r){var a=math_1.Math.round(1e3*r.elapsedTime);e.elapsedTimeIncludesDelay=2==a,dom_adapter_1.getDOM().remove(t)}),dom_adapter_1.getDOM().setStyle(t,"width","2px")},2)},e.prototype.raf=function(e,t){void 0===t&&(t=1);var r=new RafQueue(e,t);return function(){return r.cancel()}},e.decorators=[{type:core_1.Injectable}],e.ctorParameters=[],e}();exports.BrowserDetails=BrowserDetails;var RafQueue=function(){function e(e,t){this.callback=e,this.frames=t,this._raf()}return e.prototype._raf=function(){var e=this;this.currentFrameId=dom_adapter_1.getDOM().requestAnimationFrame(function(t){return e._nextFrame(t)})},e.prototype._nextFrame=function(e){this.frames--,this.frames>0?this._raf():this.callback(e)},e.prototype.cancel=function(){dom_adapter_1.getDOM().cancelAnimationFrame(this.currentFrameId),this.currentFrameId=null},e}();

},{"140":140,"265":265,"281":281}],253:[function(require,module,exports){
"use strict";var css_animation_options_1=require(254),animation_1=require(250),CssAnimationBuilder=function(){function t(t){this.browserDetails=t,this.data=new css_animation_options_1.CssAnimationOptions}return t.prototype.addAnimationClass=function(t){return this.data.animationClasses.push(t),this},t.prototype.addClass=function(t){return this.data.classesToAdd.push(t),this},t.prototype.removeClass=function(t){return this.data.classesToRemove.push(t),this},t.prototype.setDuration=function(t){return this.data.duration=t,this},t.prototype.setDelay=function(t){return this.data.delay=t,this},t.prototype.setStyles=function(t,s){return this.setFromStyles(t).setToStyles(s)},t.prototype.setFromStyles=function(t){return this.data.fromStyles=t,this},t.prototype.setToStyles=function(t){return this.data.toStyles=t,this},t.prototype.start=function(t){return new animation_1.Animation(t,this.data,this.browserDetails)},t}();exports.CssAnimationBuilder=CssAnimationBuilder;

},{"250":250,"254":254}],254:[function(require,module,exports){
"use strict";var CssAnimationOptions=function(){function s(){this.classesToAdd=[],this.classesToRemove=[],this.animationClasses=[]}return s}();exports.CssAnimationOptions=CssAnimationOptions;

},{}],255:[function(require,module,exports){
"use strict";function getBaseElementHref(){return lang_1.isBlank(baseElement)&&(baseElement=document.querySelector("base"),lang_1.isBlank(baseElement))?null:baseElement.getAttribute("href")}function relativePath(t){return lang_1.isBlank(urlParsingNode)&&(urlParsingNode=document.createElement("a")),urlParsingNode.setAttribute("href",t),"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}var __extends=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},collection_1=require(277),lang_1=require(280),generic_browser_adapter_1=require(256),dom_adapter_1=require(265),_attrToPropMap={"class":"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},DOM_KEY_LOCATION_NUMPAD=3,_keyMap={"\b":"Backspace","	":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_chromeNumKeyPadMap={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},BrowserDomAdapter=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){dom_adapter_1.setRootDomAdapter(new e)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,o){t[e]=o},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,o){t[e].apply(t,o)},e.prototype.logError=function(t){window.console.error?window.console.error(t):window.console.log(t)},e.prototype.log=function(t){window.console.log(t)},e.prototype.logGroup=function(t){window.console.group?(window.console.group(t),this.logError(t)):window.console.log(t)},e.prototype.logGroupEnd=function(){window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return _attrToPropMap},enumerable:!0,configurable:!0}),e.prototype.query=function(t){return document.querySelector(t)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,o){t.addEventListener(e,o,!1)},e.prototype.onAndCancel=function(t,e,o){return t.addEventListener(e,o,!1),function(){t.removeEventListener(e,o,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=document.createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||lang_1.isPresent(t.returnValue)&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,o=collection_1.ListWrapper.createFixedSize(e.length),n=0;n<e.length;n++)o[n]=e[n];return o},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,o){t.replaceChild(e,o)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e){t.parentNode.insertBefore(e,t)},e.prototype.insertAllBefore=function(t,e){e.forEach(function(e){return t.parentNode.insertBefore(e,t)})},e.prototype.insertAfter=function(t,e){t.parentNode.insertBefore(e,t.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return document.createComment(t)},e.prototype.createTemplate=function(t){var e=document.createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return void 0===e&&(e=document),e.createElement(t)},e.prototype.createElementNS=function(t,e,o){return void 0===o&&(o=document),o.createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return void 0===e&&(e=document),e.createTextNode(t)},e.prototype.createScriptTag=function(t,e,o){void 0===o&&(o=document);var n=o.createElement("SCRIPT");return n.setAttribute(t,e),n},e.prototype.createStyleElement=function(t,e){void 0===e&&(e=document);var o=e.createElement("style");return this.appendChild(o,this.createTextNode(t)),o},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,o){t.style[e]=o},e.prototype.removeStyle=function(t,e){t.style[e]=null},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,o){void 0===o&&(o=null);var n=this.getStyle(t,e)||"";return o?n==o:n.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,o=t.attributes,n=0;n<o.length;n++){var r=o[n];e.set(r.name,r.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,o){return t.hasAttributeNS(e,o)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,o){return t.getAttributeNS(e,o)},e.prototype.setAttribute=function(t,e,o){t.setAttribute(e,o)},e.prototype.setAttributeNS=function(t,e,o,n){t.setAttributeNS(e,o,n)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,o){t.removeAttributeNS(e,o)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.defaultDoc=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(){return document.title},e.prototype.setTitle=function(t){document.title=t||""},e.prototype.elementMatches=function(t,e){var o=!1;return t instanceof HTMLElement&&(t.matches?o=t.matches(e):t.msMatchesSelector?o=t.msMatchesSelector(e):t.webkitMatchesSelector&&(o=t.webkitMatchesSelector(e))),o},e.prototype.isTemplateElement=function(t){return t instanceof HTMLElement&&"TEMPLATE"==t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return t instanceof HTMLElement&&lang_1.isPresent(t.shadowRoot)},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){var e=t;return this.isTemplateElement(t)&&(e=this.content(t)),document.importNode(e,!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.href},e.prototype.getEventKey=function(t){var e=t.key;if(lang_1.isBlank(e)){if(e=t.keyIdentifier,lang_1.isBlank(e))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===DOM_KEY_LOCATION_NUMPAD&&_chromeNumKeyPadMap.hasOwnProperty(e)&&(e=_chromeNumKeyPadMap[e]))}return _keyMap.hasOwnProperty(e)&&(e=_keyMap[e]),e},e.prototype.getGlobalEventTarget=function(t){return"window"==t?window:"document"==t?document:"body"==t?document.body:void 0},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(){var t=getBaseElementHref();return lang_1.isBlank(t)?null:relativePath(t)},e.prototype.resetBaseElement=function(){baseElement=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,o){this.setAttribute(t,"data-"+e,o)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.setGlobalVar=function(t,e){lang_1.setValueOnPath(lang_1.global,t,e)},e.prototype.requestAnimationFrame=function(t){return window.requestAnimationFrame(t)},e.prototype.cancelAnimationFrame=function(t){window.cancelAnimationFrame(t)},e.prototype.performanceNow=function(){return lang_1.isPresent(window.performance)&&lang_1.isPresent(window.performance.now)?window.performance.now():lang_1.DateWrapper.toMillis(lang_1.DateWrapper.now())},e}(generic_browser_adapter_1.GenericBrowserDomAdapter);exports.BrowserDomAdapter=BrowserDomAdapter;var baseElement=null,urlParsingNode=null;

},{"256":256,"265":265,"277":277,"280":280}],256:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(t,n){function i(){this.constructor=t}for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)},collection_1=require(277),lang_1=require(280),dom_adapter_1=require(265),GenericBrowserDomAdapter=function(t){function n(){var n=this;t.call(this),this._animationPrefix=null,this._transitionEnd=null;try{var i=this.createElement("div",this.defaultDoc());if(lang_1.isPresent(this.getStyle(i,"animationName")))this._animationPrefix="";else for(var e=["Webkit","Moz","O","ms"],r=0;r<e.length;r++)if(lang_1.isPresent(this.getStyle(i,e[r]+"AnimationName"))){this._animationPrefix="-"+e[r].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};collection_1.StringMapWrapper.forEach(o,function(t,e){lang_1.isPresent(n.getStyle(i,e))&&(n._transitionEnd=t)})}catch(a){this._animationPrefix=null,this._transitionEnd=null}}return __extends(n,t),n.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},n.prototype.resolveAndSetHref=function(t,n,i){t.href=null==i?n:n+"/../"+i},n.prototype.supportsDOMEvents=function(){return!0},n.prototype.supportsNativeShadowDOM=function(){return lang_1.isFunction(this.defaultDoc().body.createShadowRoot)},n.prototype.getAnimationPrefix=function(){return lang_1.isPresent(this._animationPrefix)?this._animationPrefix:""},n.prototype.getTransitionEnd=function(){return lang_1.isPresent(this._transitionEnd)?this._transitionEnd:""},n.prototype.supportsAnimation=function(){return lang_1.isPresent(this._animationPrefix)&&lang_1.isPresent(this._transitionEnd)},n}(dom_adapter_1.DomAdapter);exports.GenericBrowserDomAdapter=GenericBrowserDomAdapter;

},{"265":265,"277":277,"280":280}],257:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},core_1=require(140),common_1=require(8),dom_adapter_1=require(265),BrowserPlatformLocation=function(t){function e(){t.call(this),this._init()}return __extends(e,t),e.prototype._init=function(){this._location=dom_adapter_1.getDOM().getLocation(),this._history=dom_adapter_1.getDOM().getHistory()},Object.defineProperty(e.prototype,"location",{get:function(){return this._location},enumerable:!0,configurable:!0}),e.prototype.getBaseHrefFromDOM=function(){return dom_adapter_1.getDOM().getBaseHref()},e.prototype.onPopState=function(t){dom_adapter_1.getDOM().getGlobalEventTarget("window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){dom_adapter_1.getDOM().getGlobalEventTarget("window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this._location.pathname},set:function(t){this._location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this._location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,o){this._history.pushState(t,e,o)},e.prototype.replaceState=function(t,e,o){this._history.replaceState(t,e,o)},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.decorators=[{type:core_1.Injectable}],e.ctorParameters=[],e}(common_1.PlatformLocation);exports.BrowserPlatformLocation=BrowserPlatformLocation;

},{"140":140,"265":265,"8":8}],258:[function(require,module,exports){
"use strict";var core_1=require(140),collection_1=require(277),lang_1=require(280),dom_adapter_1=require(265),PublicTestability=function(){function t(t){this._testability=t}return t.prototype.isStable=function(){return this._testability.isStable()},t.prototype.whenStable=function(t){this._testability.whenStable(t)},t.prototype.findBindings=function(t,e,i){return this.findProviders(t,e,i)},t.prototype.findProviders=function(t,e,i){return this._testability.findBindings(t,e,i)},t}(),BrowserGetTestability=function(){function t(){}return t.init=function(){core_1.setTestabilityGetter(new t)},t.prototype.addToWindow=function(t){lang_1.global.getAngularTestability=function(e,i){void 0===i&&(i=!0);var n=t.findTestabilityInTree(e,i);if(null==n)throw new Error("Could not find testability for element.");return new PublicTestability(n)},lang_1.global.getAllAngularTestabilities=function(){var e=t.getAllTestabilities();return e.map(function(t){return new PublicTestability(t)})},lang_1.global.getAllAngularRootElements=function(){return t.getAllRootElements()};var e=function(t){var e=lang_1.global.getAllAngularTestabilities(),i=e.length,n=!1,r=function(e){n=n||e,i--,0==i&&t(n)};e.forEach(function(t){t.whenStable(r)})};lang_1.global.frameworkStabilizers||(lang_1.global.frameworkStabilizers=collection_1.ListWrapper.createGrowableSize(0)),lang_1.global.frameworkStabilizers.push(e)},t.prototype.findTestabilityInTree=function(t,e,i){if(null==e)return null;var n=t.getTestability(e);return lang_1.isPresent(n)?n:i?dom_adapter_1.getDOM().isShadowRoot(e)?this.findTestabilityInTree(t,dom_adapter_1.getDOM().getHost(e),!0):this.findTestabilityInTree(t,dom_adapter_1.getDOM().parentElement(e),!0):null},t}();exports.BrowserGetTestability=BrowserGetTestability;

},{"140":140,"265":265,"277":277,"280":280}],259:[function(require,module,exports){
"use strict";var dom_adapter_1=require(265),Title=function(){function t(){}return t.prototype.getTitle=function(){return dom_adapter_1.getDOM().getTitle()},t.prototype.setTitle=function(t){dom_adapter_1.getDOM().setTitle(t)},t}();exports.Title=Title;

},{"265":265}],260:[function(require,module,exports){
"use strict";var core_1=require(140),lang_1=require(280),browser_1=require(276),dom_adapter_1=require(265),ChangeDetectionPerfRecord=function(){function e(e,r){this.msPerTick=e,this.numTicks=r}return e}();exports.ChangeDetectionPerfRecord=ChangeDetectionPerfRecord;var AngularTools=function(){function e(e){this.profiler=new AngularProfiler(e)}return e}();exports.AngularTools=AngularTools;var AngularProfiler=function(){function e(e){this.appRef=e.injector.get(core_1.ApplicationRef)}return e.prototype.timeChangeDetection=function(e){var r=lang_1.isPresent(e)&&e.record,o="Change Detection",n=lang_1.isPresent(browser_1.window.console.profile);r&&n&&browser_1.window.console.profile(o);for(var t=dom_adapter_1.getDOM().performanceNow(),a=0;5>a||dom_adapter_1.getDOM().performanceNow()-t<500;)this.appRef.tick(),a++;var i=dom_adapter_1.getDOM().performanceNow();r&&n&&browser_1.window.console.profileEnd(o);var c=(i-t)/a;return browser_1.window.console.log("ran "+a+" change detection cycles"),browser_1.window.console.log(lang_1.NumberWrapper.toFixed(c,2)+" ms per check"),new ChangeDetectionPerfRecord(c,a)},e}();exports.AngularProfiler=AngularProfiler;

},{"140":140,"265":265,"276":276,"280":280}],261:[function(require,module,exports){
"use strict";function enableDebugTools(o){context.ng=new common_tools_1.AngularTools(o)}function disableDebugTools(){delete context.ng}var lang_1=require(280),common_tools_1=require(260),context=lang_1.global;exports.enableDebugTools=enableDebugTools,exports.disableDebugTools=disableDebugTools;

},{"260":260,"280":280}],262:[function(require,module,exports){
"use strict";function _exceptionHandler(){return new core_1.ExceptionHandler(dom_adapter_1.getDOM(),!lang_1.IS_DART)}function _document(){return dom_adapter_1.getDOM().defaultDoc()}function initDomAdapter(){browser_adapter_1.BrowserDomAdapter.makeCurrent(),core_private_1.wtfInit(),testability_1.BrowserGetTestability.init()}var core_1=require(140),core_private_1=require(247),common_1=require(8),dom_sanitization_service_1=require(284),lang_1=require(280),browser_adapter_1=require(255),testability_1=require(258),dom_adapter_1=require(265),dom_tokens_1=require(267),event_manager_1=require(269),dom_renderer_1=require(266),shared_styles_host_1=require(273),key_events_1=require(272),ng_probe_1=require(264),dom_events_1=require(268),hammer_gestures_1=require(271),shared_styles_host_2=require(273),animation_builder_1=require(251),browser_details_1=require(252),title_1=require(259);exports.Title=title_1.Title;var browser_adapter_2=require(255);exports.BrowserDomAdapter=browser_adapter_2.BrowserDomAdapter;var tools_1=require(261);exports.enableDebugTools=tools_1.enableDebugTools,exports.disableDebugTools=tools_1.disableDebugTools;var by_1=require(263);exports.By=by_1.By,exports.BROWSER_PLATFORM_MARKER=new core_1.OpaqueToken("BrowserPlatformMarker"),exports.BROWSER_PROVIDERS=[{provide:exports.BROWSER_PLATFORM_MARKER,useValue:!0},core_1.PLATFORM_COMMON_PROVIDERS,{provide:core_1.PLATFORM_INITIALIZER,useValue:initDomAdapter,multi:!0}],exports.BROWSER_SANITIZATION_PROVIDERS=[{provide:core_private_1.SanitizationService,useExisting:dom_sanitization_service_1.DomSanitizationService},{provide:dom_sanitization_service_1.DomSanitizationService,useClass:dom_sanitization_service_1.DomSanitizationServiceImpl}],exports.BROWSER_APP_COMMON_PROVIDERS=[core_1.APPLICATION_COMMON_PROVIDERS,common_1.FORM_PROVIDERS,exports.BROWSER_SANITIZATION_PROVIDERS,{provide:core_1.PLATFORM_PIPES,useValue:common_1.COMMON_PIPES,multi:!0},{provide:core_1.PLATFORM_DIRECTIVES,useValue:common_1.COMMON_DIRECTIVES,multi:!0},{provide:core_1.ExceptionHandler,useFactory:_exceptionHandler,deps:[]},{provide:dom_tokens_1.DOCUMENT,useFactory:_document,deps:[]},{provide:event_manager_1.EVENT_MANAGER_PLUGINS,useClass:dom_events_1.DomEventsPlugin,multi:!0},{provide:event_manager_1.EVENT_MANAGER_PLUGINS,useClass:key_events_1.KeyEventsPlugin,multi:!0},{provide:event_manager_1.EVENT_MANAGER_PLUGINS,useClass:hammer_gestures_1.HammerGesturesPlugin,multi:!0},{provide:hammer_gestures_1.HAMMER_GESTURE_CONFIG,useClass:hammer_gestures_1.HammerGestureConfig},{provide:dom_renderer_1.DomRootRenderer,useClass:dom_renderer_1.DomRootRenderer_},{provide:core_1.RootRenderer,useExisting:dom_renderer_1.DomRootRenderer},{provide:shared_styles_host_1.SharedStylesHost,useExisting:shared_styles_host_2.DomSharedStylesHost},shared_styles_host_2.DomSharedStylesHost,core_1.Testability,browser_details_1.BrowserDetails,animation_builder_1.AnimationBuilder,event_manager_1.EventManager,ng_probe_1.ELEMENT_PROBE_PROVIDERS];var hammer_gestures_2=require(271);exports.HAMMER_GESTURE_CONFIG=hammer_gestures_2.HAMMER_GESTURE_CONFIG,exports.HammerGestureConfig=hammer_gestures_2.HammerGestureConfig,exports.initDomAdapter=initDomAdapter;

},{"140":140,"247":247,"251":251,"252":252,"255":255,"258":258,"259":259,"261":261,"263":263,"264":264,"265":265,"266":266,"267":267,"268":268,"269":269,"271":271,"272":272,"273":273,"280":280,"284":284,"8":8}],263:[function(require,module,exports){
"use strict";var lang_1=require(280),dom_adapter_1=require(265),By=function(){function e(){}return e.all=function(){return function(e){return!0}},e.css=function(e){return function(n){return lang_1.isPresent(n.nativeElement)?dom_adapter_1.getDOM().elementMatches(n.nativeElement,e):!1}},e.directive=function(e){return function(n){return-1!==n.providerTokens.indexOf(e)}},e}();exports.By=By;

},{"265":265,"280":280}],264:[function(require,module,exports){
"use strict";function inspectNativeElement(e){return core_1.getDebugNode(e)}function _createConditionalRootRenderer(e){return lang_1.assertionsEnabled()?_createRootRenderer(e):e}function _createRootRenderer(e){return dom_adapter_1.getDOM().setGlobalVar(INSPECT_GLOBAL_NAME,inspectNativeElement),dom_adapter_1.getDOM().setGlobalVar(CORE_TOKENS_GLOBAL_NAME,CORE_TOKENS),new core_private_1.DebugDomRootRenderer(e)}var core_1=require(140),core_private_1=require(247),lang_1=require(280),dom_adapter_1=require(265),dom_renderer_1=require(266),CORE_TOKENS={ApplicationRef:core_1.ApplicationRef,NgZone:core_1.NgZone},INSPECT_GLOBAL_NAME="ng.probe",CORE_TOKENS_GLOBAL_NAME="ng.coreTokens";exports.inspectNativeElement=inspectNativeElement,exports.ELEMENT_PROBE_PROVIDERS=[{provide:core_1.RootRenderer,useFactory:_createConditionalRootRenderer,deps:[dom_renderer_1.DomRootRenderer]}],exports.ELEMENT_PROBE_PROVIDERS_PROD_MODE=[{provide:core_1.RootRenderer,useFactory:_createRootRenderer,deps:[dom_renderer_1.DomRootRenderer]}];

},{"140":140,"247":247,"265":265,"266":266,"280":280}],265:[function(require,module,exports){
"use strict";function getDOM(){return _DOM}function setDOM(t){_DOM=t}function setRootDomAdapter(t){lang_1.isBlank(_DOM)&&(_DOM=t)}var lang_1=require(280),_DOM=null;exports.getDOM=getDOM,exports.setDOM=setDOM,exports.setRootDomAdapter=setRootDomAdapter;var DomAdapter=function(){function t(){this.xhrType=null}return t.prototype.getXHR=function(){return this.xhrType},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}();exports.DomAdapter=DomAdapter;

},{"280":280}],266:[function(require,module,exports){
"use strict";function moveNodesAfterSibling(e,t){var r=dom_adapter_1.getDOM().parentElement(e);if(t.length>0&&lang_1.isPresent(r)){var n=dom_adapter_1.getDOM().nextSibling(e);if(lang_1.isPresent(n))for(var o=0;o<t.length;o++)dom_adapter_1.getDOM().insertBefore(n,t[o]);else for(var o=0;o<t.length;o++)dom_adapter_1.getDOM().appendChild(r,t[o])}}function appendNodes(e,t){for(var r=0;r<t.length;r++)dom_adapter_1.getDOM().appendChild(e,t[r])}function decoratePreventDefault(e){return function(t){var r=e(t);r===!1&&dom_adapter_1.getDOM().preventDefault(t)}}function _shimContentAttribute(e){return lang_1.StringWrapper.replaceAll(exports.CONTENT_ATTR,COMPONENT_REGEX,e)}function _shimHostAttribute(e){return lang_1.StringWrapper.replaceAll(exports.HOST_ATTR,COMPONENT_REGEX,e)}function _flattenStyles(e,t,r){for(var n=0;n<t.length;n++){var o=t[n];lang_1.isArray(o)?_flattenStyles(e,o,r):(o=lang_1.StringWrapper.replaceAll(o,COMPONENT_REGEX,e),r.push(o))}return r}function splitNamespace(e){if("@"!=e[0])return[null,e];var t=lang_1.RegExpWrapper.firstMatch(NS_PREFIX_RE,e);return[t[1],t[2]]}var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},core_1=require(140),animation_builder_1=require(251),lang_1=require(280),exceptions_1=require(279),shared_styles_host_1=require(273),event_manager_1=require(269),dom_tokens_1=require(267),dom_adapter_1=require(265),util_1=require(274),NAMESPACE_URIS={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"},TEMPLATE_COMMENT_TEXT="template bindings={}",TEMPLATE_BINDINGS_EXP=/^template bindings=(.*)$/g,DomRootRenderer=function(){function e(e,t,r,n){this.document=e,this.eventManager=t,this.sharedStylesHost=r,this.animate=n,this._registeredComponents=new Map}return e.prototype.renderComponent=function(e){var t=this._registeredComponents.get(e.id);return lang_1.isBlank(t)&&(t=new DomRenderer(this,e),this._registeredComponents.set(e.id,t)),t},e}();exports.DomRootRenderer=DomRootRenderer;var DomRootRenderer_=function(e){function t(t,r,n,o){e.call(this,t,r,n,o)}return __extends(t,e),t.decorators=[{type:core_1.Injectable}],t.ctorParameters=[{type:void 0,decorators:[{type:core_1.Inject,args:[dom_tokens_1.DOCUMENT]}]},{type:event_manager_1.EventManager},{type:shared_styles_host_1.DomSharedStylesHost},{type:animation_builder_1.AnimationBuilder}],t}(DomRootRenderer);exports.DomRootRenderer_=DomRootRenderer_;var DomRenderer=function(){function e(e,t){this._rootRenderer=e,this.componentProto=t,this._styles=_flattenStyles(t.id,t.styles,[]),t.encapsulation!==core_1.ViewEncapsulation.Native&&this._rootRenderer.sharedStylesHost.addStyles(this._styles),this.componentProto.encapsulation===core_1.ViewEncapsulation.Emulated?(this._contentAttr=_shimContentAttribute(t.id),this._hostAttr=_shimHostAttribute(t.id)):(this._contentAttr=null,this._hostAttr=null)}return e.prototype.selectRootElement=function(e,t){var r;if(lang_1.isString(e)){if(r=dom_adapter_1.getDOM().querySelector(this._rootRenderer.document,e),lang_1.isBlank(r))throw new exceptions_1.BaseException('The selector "'+e+'" did not match any elements')}else r=e;return dom_adapter_1.getDOM().clearNodes(r),r},e.prototype.createElement=function(e,t,r){var n=splitNamespace(t),o=lang_1.isPresent(n[0])?dom_adapter_1.getDOM().createElementNS(NAMESPACE_URIS[n[0]],n[1]):dom_adapter_1.getDOM().createElement(n[1]);return lang_1.isPresent(this._contentAttr)&&dom_adapter_1.getDOM().setAttribute(o,this._contentAttr,""),lang_1.isPresent(e)&&dom_adapter_1.getDOM().appendChild(e,o),o},e.prototype.createViewRoot=function(e){var t;if(this.componentProto.encapsulation===core_1.ViewEncapsulation.Native){t=dom_adapter_1.getDOM().createShadowRoot(e),this._rootRenderer.sharedStylesHost.addHost(t);for(var r=0;r<this._styles.length;r++)dom_adapter_1.getDOM().appendChild(t,dom_adapter_1.getDOM().createStyleElement(this._styles[r]))}else lang_1.isPresent(this._hostAttr)&&dom_adapter_1.getDOM().setAttribute(e,this._hostAttr,""),t=e;return t},e.prototype.createTemplateAnchor=function(e,t){var r=dom_adapter_1.getDOM().createComment(TEMPLATE_COMMENT_TEXT);return lang_1.isPresent(e)&&dom_adapter_1.getDOM().appendChild(e,r),r},e.prototype.createText=function(e,t,r){var n=dom_adapter_1.getDOM().createTextNode(t);return lang_1.isPresent(e)&&dom_adapter_1.getDOM().appendChild(e,n),n},e.prototype.projectNodes=function(e,t){lang_1.isBlank(e)||appendNodes(e,t)},e.prototype.attachViewAfter=function(e,t){moveNodesAfterSibling(e,t);for(var r=0;r<t.length;r++)this.animateNodeEnter(t[r])},e.prototype.detachView=function(e){for(var t=0;t<e.length;t++){var r=e[t];dom_adapter_1.getDOM().remove(r),this.animateNodeLeave(r)}},e.prototype.destroyView=function(e,t){this.componentProto.encapsulation===core_1.ViewEncapsulation.Native&&lang_1.isPresent(e)&&this._rootRenderer.sharedStylesHost.removeHost(dom_adapter_1.getDOM().getShadowRoot(e))},e.prototype.listen=function(e,t,r){return this._rootRenderer.eventManager.addEventListener(e,t,decoratePreventDefault(r))},e.prototype.listenGlobal=function(e,t,r){return this._rootRenderer.eventManager.addGlobalEventListener(e,t,decoratePreventDefault(r))},e.prototype.setElementProperty=function(e,t,r){dom_adapter_1.getDOM().setProperty(e,t,r)},e.prototype.setElementAttribute=function(e,t,r){var n,o=splitNamespace(t);lang_1.isPresent(o[0])&&(t=o[0]+":"+o[1],n=NAMESPACE_URIS[o[0]]),lang_1.isPresent(r)?lang_1.isPresent(n)?dom_adapter_1.getDOM().setAttributeNS(e,n,t,r):dom_adapter_1.getDOM().setAttribute(e,t,r):lang_1.isPresent(n)?dom_adapter_1.getDOM().removeAttributeNS(e,n,o[1]):dom_adapter_1.getDOM().removeAttribute(e,t)},e.prototype.setBindingDebugInfo=function(e,t,r){var n=util_1.camelCaseToDashCase(t);if(dom_adapter_1.getDOM().isCommentNode(e)){var o=lang_1.RegExpWrapper.firstMatch(TEMPLATE_BINDINGS_EXP,lang_1.StringWrapper.replaceAll(dom_adapter_1.getDOM().getText(e),/\n/g,"")),a=lang_1.Json.parse(o[1]);a[n]=r,dom_adapter_1.getDOM().setText(e,lang_1.StringWrapper.replace(TEMPLATE_COMMENT_TEXT,"{}",lang_1.Json.stringify(a)))}else this.setElementAttribute(e,t,r)},e.prototype.setElementClass=function(e,t,r){r?dom_adapter_1.getDOM().addClass(e,t):dom_adapter_1.getDOM().removeClass(e,t)},e.prototype.setElementStyle=function(e,t,r){lang_1.isPresent(r)?dom_adapter_1.getDOM().setStyle(e,t,lang_1.stringify(r)):dom_adapter_1.getDOM().removeStyle(e,t)},e.prototype.invokeElementMethod=function(e,t,r){dom_adapter_1.getDOM().invoke(e,t,r)},e.prototype.setText=function(e,t){dom_adapter_1.getDOM().setText(e,t)},e.prototype.animateNodeEnter=function(e){dom_adapter_1.getDOM().isElementNode(e)&&dom_adapter_1.getDOM().hasClass(e,"ng-animate")&&(dom_adapter_1.getDOM().addClass(e,"ng-enter"),this._rootRenderer.animate.css().addAnimationClass("ng-enter-active").start(e).onComplete(function(){dom_adapter_1.getDOM().removeClass(e,"ng-enter")}))},e.prototype.animateNodeLeave=function(e){dom_adapter_1.getDOM().isElementNode(e)&&dom_adapter_1.getDOM().hasClass(e,"ng-animate")?(dom_adapter_1.getDOM().addClass(e,"ng-leave"),this._rootRenderer.animate.css().addAnimationClass("ng-leave-active").start(e).onComplete(function(){dom_adapter_1.getDOM().removeClass(e,"ng-leave"),dom_adapter_1.getDOM().remove(e)})):dom_adapter_1.getDOM().remove(e)},e}();exports.DomRenderer=DomRenderer;var COMPONENT_REGEX=/%COMP%/g;exports.COMPONENT_VARIABLE="%COMP%",exports.HOST_ATTR="_nghost-"+exports.COMPONENT_VARIABLE,exports.CONTENT_ATTR="_ngcontent-"+exports.COMPONENT_VARIABLE;var NS_PREFIX_RE=/^@([^:]+):(.+)/g;

},{"140":140,"251":251,"265":265,"267":267,"269":269,"273":273,"274":274,"279":279,"280":280}],267:[function(require,module,exports){
"use strict";var core_1=require(140);exports.DOCUMENT=new core_1.OpaqueToken("DocumentToken");

},{"140":140}],268:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},core_1=require(140),dom_adapter_1=require(265),event_manager_1=require(269),DomEventsPlugin=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype.supports=function(e){return!0},n.prototype.addEventListener=function(e,n,t){var r=this.manager.getZone(),o=function(e){return r.runGuarded(function(){return t(e)})};return this.manager.getZone().runOutsideAngular(function(){return dom_adapter_1.getDOM().onAndCancel(e,n,o)})},n.prototype.addGlobalEventListener=function(e,n,t){var r=dom_adapter_1.getDOM().getGlobalEventTarget(e),o=this.manager.getZone(),a=function(e){return o.runGuarded(function(){return t(e)})};return this.manager.getZone().runOutsideAngular(function(){return dom_adapter_1.getDOM().onAndCancel(r,n,a)})},n.decorators=[{type:core_1.Injectable}],n}(event_manager_1.EventManagerPlugin);exports.DomEventsPlugin=DomEventsPlugin;

},{"140":140,"265":265,"269":269}],269:[function(require,module,exports){
"use strict";var core_1=require(140),exceptions_1=require(279),collection_1=require(277);exports.EVENT_MANAGER_PLUGINS=new core_1.OpaqueToken("EventManagerPlugins");var EventManager=function(){function e(e,n){var t=this;this._zone=n,e.forEach(function(e){return e.manager=t}),this._plugins=collection_1.ListWrapper.reversed(e)}return e.prototype.addEventListener=function(e,n,t){var r=this._findPluginFor(n);return r.addEventListener(e,n,t)},e.prototype.addGlobalEventListener=function(e,n,t){var r=this._findPluginFor(n);return r.addGlobalEventListener(e,n,t)},e.prototype.getZone=function(){return this._zone},e.prototype._findPluginFor=function(e){for(var n=this._plugins,t=0;t<n.length;t++){var r=n[t];if(r.supports(e))return r}throw new exceptions_1.BaseException("No event manager plugin found for event "+e)},e.decorators=[{type:core_1.Injectable}],e.ctorParameters=[{type:void 0,decorators:[{type:core_1.Inject,args:[exports.EVENT_MANAGER_PLUGINS]}]},{type:core_1.NgZone}],e}();exports.EventManager=EventManager;var EventManagerPlugin=function(){function e(){}return e.prototype.supports=function(e){return!1},e.prototype.addEventListener=function(e,n,t){throw"not implemented"},e.prototype.addGlobalEventListener=function(e,n,t){throw"not implemented"},e}();exports.EventManagerPlugin=EventManagerPlugin;

},{"140":140,"277":277,"279":279}],270:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,n){function t(){this.constructor=e}for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)},event_manager_1=require(269),collection_1=require(277),_eventNames={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},HammerGesturesPluginCommon=function(e){function n(){e.call(this)}return __extends(n,e),n.prototype.supports=function(e){return e=e.toLowerCase(),collection_1.StringMapWrapper.contains(_eventNames,e)},n}(event_manager_1.EventManagerPlugin);exports.HammerGesturesPluginCommon=HammerGesturesPluginCommon;

},{"269":269,"277":277}],271:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},core_1=require(140),lang_1=require(280),exceptions_1=require(279),hammer_common_1=require(270);exports.HAMMER_GESTURE_CONFIG=new core_1.OpaqueToken("HammerGestureConfig");var HammerGestureConfig=function(){function e(){this.events=[],this.overrides={}}return e.prototype.buildHammer=function(e){var t=new Hammer(e);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(var r in this.overrides)t.get(r).set(this.overrides[r]);return t},e.decorators=[{type:core_1.Injectable}],e}();exports.HammerGestureConfig=HammerGestureConfig;var HammerGesturesPlugin=function(e){function t(t){e.call(this),this._config=t}return __extends(t,e),t.prototype.supports=function(t){if(!e.prototype.supports.call(this,t)&&!this.isCustomEvent(t))return!1;if(!lang_1.isPresent(window.Hammer))throw new exceptions_1.BaseException("Hammer.js is not loaded, can not bind "+t+" event");return!0},t.prototype.addEventListener=function(e,t,r){var n=this,o=this.manager.getZone();return t=t.toLowerCase(),o.runOutsideAngular(function(){var s=n._config.buildHammer(e),i=function(e){o.runGuarded(function(){r(e)})};return s.on(t,i),function(){s.off(t,i)}})},t.prototype.isCustomEvent=function(e){return this._config.events.indexOf(e)>-1},t.decorators=[{type:core_1.Injectable}],t.ctorParameters=[{type:HammerGestureConfig,decorators:[{type:core_1.Inject,args:[exports.HAMMER_GESTURE_CONFIG]}]}],t}(hammer_common_1.HammerGesturesPluginCommon);exports.HammerGesturesPlugin=HammerGesturesPlugin;

},{"140":140,"270":270,"279":279,"280":280}],272:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},core_1=require(140),lang_1=require(280),collection_1=require(277),dom_adapter_1=require(265),event_manager_1=require(269),modifierKeys=["alt","control","meta","shift"],modifierKeyGetters={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},KeyEventsPlugin=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.supports=function(e){return lang_1.isPresent(t.parseEventName(e))},t.prototype.addEventListener=function(e,r,n){var a=t.parseEventName(r),o=t.eventCallback(e,collection_1.StringMapWrapper.get(a,"fullKey"),n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return dom_adapter_1.getDOM().onAndCancel(e,collection_1.StringMapWrapper.get(a,"domEventName"),o)})},t.parseEventName=function(e){var r=e.toLowerCase().split("."),n=r.shift();if(0===r.length||!lang_1.StringWrapper.equals(n,"keydown")&&!lang_1.StringWrapper.equals(n,"keyup"))return null;var a=t._normalizeKey(r.pop()),o="";if(modifierKeys.forEach(function(e){collection_1.ListWrapper.contains(r,e)&&(collection_1.ListWrapper.remove(r,e),o+=e+".")}),o+=a,0!=r.length||0===a.length)return null;var i=collection_1.StringMapWrapper.create();return collection_1.StringMapWrapper.set(i,"domEventName",n),collection_1.StringMapWrapper.set(i,"fullKey",o),i},t.getEventFullKey=function(e){var t="",r=dom_adapter_1.getDOM().getEventKey(e);return r=r.toLowerCase(),lang_1.StringWrapper.equals(r," ")?r="space":lang_1.StringWrapper.equals(r,".")&&(r="dot"),modifierKeys.forEach(function(n){if(n!=r){var a=collection_1.StringMapWrapper.get(modifierKeyGetters,n);a(e)&&(t+=n+".")}}),t+=r},t.eventCallback=function(e,r,n,a){return function(e){lang_1.StringWrapper.equals(t.getEventFullKey(e),r)&&a.runGuarded(function(){return n(e)})}},t._normalizeKey=function(e){switch(e){case"esc":return"escape";default:return e}},t.decorators=[{type:core_1.Injectable}],t.ctorParameters=[],t}(event_manager_1.EventManagerPlugin);exports.KeyEventsPlugin=KeyEventsPlugin;

},{"140":140,"265":265,"269":269,"277":277,"280":280}],273:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(t,e){function o(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},core_1=require(140),collection_1=require(277),dom_adapter_1=require(265),dom_tokens_1=require(267),SharedStylesHost=function(){function t(){this._styles=[],this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,o=[];t.forEach(function(t){collection_1.SetWrapper.has(e._stylesSet,t)||(e._stylesSet.add(t),e._styles.push(t),o.push(t))}),this.onStylesAdded(o)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return this._styles},t.decorators=[{type:core_1.Injectable}],t.ctorParameters=[],t}();exports.SharedStylesHost=SharedStylesHost;var DomSharedStylesHost=function(t){function e(e){t.call(this),this._hostNodes=new Set,this._hostNodes.add(e.head)}return __extends(e,t),e.prototype._addStylesToHost=function(t,e){for(var o=0;o<t.length;o++){var s=t[o];dom_adapter_1.getDOM().appendChild(e,dom_adapter_1.getDOM().createStyleElement(s))}},e.prototype.addHost=function(t){this._addStylesToHost(this._styles,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){collection_1.SetWrapper["delete"](this._hostNodes,t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(o){e._addStylesToHost(t,o)})},e.decorators=[{type:core_1.Injectable}],e.ctorParameters=[{type:void 0,decorators:[{type:core_1.Inject,args:[dom_tokens_1.DOCUMENT]}]}],e}(SharedStylesHost);exports.DomSharedStylesHost=DomSharedStylesHost;

},{"140":140,"265":265,"267":267,"277":277}],274:[function(require,module,exports){
"use strict";function camelCaseToDashCase(a){return lang_1.StringWrapper.replaceAllMapped(a,CAMEL_CASE_REGEXP,function(a){return"-"+a[1].toLowerCase()})}function dashCaseToCamelCase(a){return lang_1.StringWrapper.replaceAllMapped(a,DASH_CASE_REGEXP,function(a){return a[1].toUpperCase()})}var lang_1=require(280),CAMEL_CASE_REGEXP=/([A-Z])/g,DASH_CASE_REGEXP=/-([a-z])/g;exports.camelCaseToDashCase=camelCaseToDashCase,exports.dashCaseToCamelCase=dashCaseToCamelCase;

},{"280":280}],275:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},BaseWrappedException=function(e){function t(t){e.call(this,t)}return __extends(t,e),Object.defineProperty(t.prototype,"wrapperMessage",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalException",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return""},enumerable:!0,configurable:!0}),t}(Error);exports.BaseWrappedException=BaseWrappedException;

},{}],276:[function(require,module,exports){
"use strict";var win="undefined"!=typeof window&&window||{};exports.window=win,exports.document=win.document,exports.location=win.location,exports.gc=win.gc?function(){return win.gc()}:function(){return null},exports.performance=win.performance?win.performance:null,exports.Event=win.Event,exports.MouseEvent=win.MouseEvent,exports.KeyboardEvent=win.KeyboardEvent,exports.EventTarget=win.EventTarget,exports.History=win.History,exports.Location=win.Location,exports.EventListener=win.EventListener;

},{}],277:[function(require,module,exports){
"use strict";function _flattenArray(r,n){if(lang_1.isPresent(r))for(var e=0;e<r.length;e++){var t=r[e];lang_1.isArray(t)?_flattenArray(t,n):n.push(t)}return n}function isListLikeIterable(r){return lang_1.isJsObject(r)?lang_1.isArray(r)||!(r instanceof exports.Map)&&lang_1.getSymbolIterator()in r:!1}function areIterablesEqual(r,n,e){for(var t=r[lang_1.getSymbolIterator()](),a=n[lang_1.getSymbolIterator()]();;){var i=t.next(),o=a.next();if(i.done&&o.done)return!0;if(i.done||o.done)return!1;if(!e(i.value,o.value))return!1}}function iterateListLike(r,n){if(lang_1.isArray(r))for(var e=0;e<r.length;e++)n(r[e]);else for(var t,a=r[lang_1.getSymbolIterator()]();!(t=a.next()).done;)n(t.value)}var lang_1=require(280);exports.Map=lang_1.global.Map,exports.Set=lang_1.global.Set;var createMapFromPairs=function(){try{if(1===new exports.Map([[1,2]]).size)return function(r){return new exports.Map(r)}}catch(r){}return function(r){for(var n=new exports.Map,e=0;e<r.length;e++){var t=r[e];n.set(t[0],t[1])}return n}}(),createMapFromMap=function(){try{if(new exports.Map(new exports.Map))return function(r){return new exports.Map(r)}}catch(r){}return function(r){var n=new exports.Map;return r.forEach(function(r,e){n.set(e,r)}),n}}(),_clearValues=function(){return(new exports.Map).keys().next?function(r){for(var n,e=r.keys();!(n=e.next()).done;)r.set(n.value,null)}:function(r){r.forEach(function(n,e){r.set(e,null)})}}(),_arrayFromMap=function(){try{if((new exports.Map).values().next)return function(r,n){return n?Array.from(r.values()):Array.from(r.keys())}}catch(r){}return function(r,n){var e=ListWrapper.createFixedSize(r.size),t=0;return r.forEach(function(r,a){e[t]=n?r:a,t++}),e}}(),MapWrapper=function(){function r(){}return r.clone=function(r){return createMapFromMap(r)},r.createFromStringMap=function(r){var n=new exports.Map;for(var e in r)n.set(e,r[e]);return n},r.toStringMap=function(r){var n={};return r.forEach(function(r,e){return n[e]=r}),n},r.createFromPairs=function(r){return createMapFromPairs(r)},r.clearValues=function(r){_clearValues(r)},r.iterable=function(r){return r},r.keys=function(r){return _arrayFromMap(r,!1)},r.values=function(r){return _arrayFromMap(r,!0)},r}();exports.MapWrapper=MapWrapper;var StringMapWrapper=function(){function r(){}return r.create=function(){return{}},r.contains=function(r,n){return r.hasOwnProperty(n)},r.get=function(r,n){return r.hasOwnProperty(n)?r[n]:void 0},r.set=function(r,n,e){r[n]=e},r.keys=function(r){return Object.keys(r)},r.values=function(r){return Object.keys(r).reduce(function(n,e){return n.push(r[e]),n},[])},r.isEmpty=function(r){for(var n in r)return!1;return!0},r["delete"]=function(r,n){delete r[n]},r.forEach=function(r,n){for(var e in r)r.hasOwnProperty(e)&&n(r[e],e)},r.merge=function(r,n){var e={};for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e},r.equals=function(r,n){var e=Object.keys(r),t=Object.keys(n);if(e.length!=t.length)return!1;for(var a,i=0;i<e.length;i++)if(a=e[i],r[a]!==n[a])return!1;return!0},r}();exports.StringMapWrapper=StringMapWrapper;var ListWrapper=function(){function r(){}return r.createFixedSize=function(r){return new Array(r)},r.createGrowableSize=function(r){return new Array(r)},r.clone=function(r){return r.slice(0)},r.forEachWithIndex=function(r,n){for(var e=0;e<r.length;e++)n(r[e],e)},r.first=function(r){return r?r[0]:null},r.last=function(r){return r&&0!=r.length?r[r.length-1]:null},r.indexOf=function(r,n,e){return void 0===e&&(e=0),r.indexOf(n,e)},r.contains=function(r,n){return-1!==r.indexOf(n)},r.reversed=function(n){var e=r.clone(n);return e.reverse()},r.concat=function(r,n){return r.concat(n)},r.insert=function(r,n,e){r.splice(n,0,e)},r.removeAt=function(r,n){var e=r[n];return r.splice(n,1),e},r.removeAll=function(r,n){for(var e=0;e<n.length;++e){var t=r.indexOf(n[e]);r.splice(t,1)}},r.remove=function(r,n){var e=r.indexOf(n);return e>-1?(r.splice(e,1),!0):!1},r.clear=function(r){r.length=0},r.isEmpty=function(r){return 0==r.length},r.fill=function(r,n,e,t){void 0===e&&(e=0),void 0===t&&(t=null),r.fill(n,e,null===t?r.length:t)},r.equals=function(r,n){if(r.length!=n.length)return!1;for(var e=0;e<r.length;++e)if(r[e]!==n[e])return!1;return!0},r.slice=function(r,n,e){return void 0===n&&(n=0),void 0===e&&(e=null),r.slice(n,null===e?void 0:e)},r.splice=function(r,n,e){return r.splice(n,e)},r.sort=function(r,n){lang_1.isPresent(n)?r.sort(n):r.sort()},r.toString=function(r){return r.toString()},r.toJSON=function(r){return JSON.stringify(r)},r.maximum=function(r,n){if(0==r.length)return null;for(var e=null,t=-(1/0),a=0;a<r.length;a++){var i=r[a];if(!lang_1.isBlank(i)){var o=n(i);o>t&&(e=i,t=o)}}return e},r.flatten=function(r){var n=[];return _flattenArray(r,n),n},r.addAll=function(r,n){for(var e=0;e<n.length;e++)r.push(n[e])},r}();exports.ListWrapper=ListWrapper,exports.isListLikeIterable=isListLikeIterable,exports.areIterablesEqual=areIterablesEqual,exports.iterateListLike=iterateListLike;var createSetFromList=function(){var r=new exports.Set([1,2,3]);return 3===r.size?function(r){return new exports.Set(r)}:function(r){var n=new exports.Set(r);if(n.size!==r.length)for(var e=0;e<r.length;e++)n.add(r[e]);return n}}(),SetWrapper=function(){function r(){}return r.createFromList=function(r){return createSetFromList(r)},r.has=function(r,n){return r.has(n)},r["delete"]=function(r,n){r["delete"](n)},r}();exports.SetWrapper=SetWrapper;

},{"280":280}],278:[function(require,module,exports){
"use strict";var lang_1=require(280),base_wrapped_exception_1=require(275),collection_1=require(277),_ArrayLogger=function(){function e(){this.res=[]}return e.prototype.log=function(e){this.res.push(e)},e.prototype.logError=function(e){this.res.push(e)},e.prototype.logGroup=function(e){this.res.push(e)},e.prototype.logGroupEnd=function(){},e}(),ExceptionHandler=function(){function e(e,n){void 0===n&&(n=!0),this._logger=e,this._rethrowException=n}return e.exceptionToString=function(n,r,t){void 0===r&&(r=null),void 0===t&&(t=null);var o=new _ArrayLogger,i=new e(o,!1);return i.call(n,r,t),o.res.join("\n")},e.prototype.call=function(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var t=this._findOriginalException(e),o=this._findOriginalStack(e),i=this._findContext(e);if(this._logger.logGroup("EXCEPTION: "+this._extractMessage(e)),lang_1.isPresent(n)&&lang_1.isBlank(o)&&(this._logger.logError("STACKTRACE:"),this._logger.logError(this._longStackTrace(n))),lang_1.isPresent(r)&&this._logger.logError("REASON: "+r),lang_1.isPresent(t)&&this._logger.logError("ORIGINAL EXCEPTION: "+this._extractMessage(t)),lang_1.isPresent(o)&&(this._logger.logError("ORIGINAL STACKTRACE:"),this._logger.logError(this._longStackTrace(o))),lang_1.isPresent(i)&&(this._logger.logError("ERROR CONTEXT:"),this._logger.logError(i)),this._logger.logGroupEnd(),this._rethrowException)throw e},e.prototype._extractMessage=function(e){return e instanceof base_wrapped_exception_1.BaseWrappedException?e.wrapperMessage:e.toString()},e.prototype._longStackTrace=function(e){return collection_1.isListLikeIterable(e)?e.join("\n\n-----async gap-----\n"):e.toString()},e.prototype._findContext=function(e){try{return e instanceof base_wrapped_exception_1.BaseWrappedException?lang_1.isPresent(e.context)?e.context:this._findContext(e.originalException):null}catch(n){return null}},e.prototype._findOriginalException=function(e){if(!(e instanceof base_wrapped_exception_1.BaseWrappedException))return null;for(var n=e.originalException;n instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(n.originalException);)n=n.originalException;return n},e.prototype._findOriginalStack=function(e){if(!(e instanceof base_wrapped_exception_1.BaseWrappedException))return null;for(var n=e,r=e.originalStack;n instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(n.originalException);)n=n.originalException,n instanceof base_wrapped_exception_1.BaseWrappedException&&lang_1.isPresent(n.originalException)&&(r=n.originalStack);return r},e}();exports.ExceptionHandler=ExceptionHandler;

},{"275":275,"277":277,"280":280}],279:[function(require,module,exports){
"use strict";function makeTypeError(e){return new TypeError(e)}function unimplemented(){throw new BaseException("unimplemented")}var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},base_wrapped_exception_1=require(275),exception_handler_1=require(278),exception_handler_2=require(278);exports.ExceptionHandler=exception_handler_2.ExceptionHandler;var BaseException=function(e){function t(t){void 0===t&&(t="--"),e.call(this,t),this.message=t,this.stack=new Error(t).stack}return __extends(t,e),t.prototype.toString=function(){return this.message},t}(Error);exports.BaseException=BaseException;var WrappedException=function(e){function t(t,r,n,o){e.call(this,t),this._wrapperMessage=t,this._originalException=r,this._originalStack=n,this._context=o,this._wrapperStack=new Error(t).stack}return __extends(t,e),Object.defineProperty(t.prototype,"wrapperMessage",{get:function(){return this._wrapperMessage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapperStack",{get:function(){return this._wrapperStack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalException",{get:function(){return this._originalException},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalStack",{get:function(){return this._originalStack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return exception_handler_1.ExceptionHandler.exceptionToString(this)},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.message},t}(base_wrapped_exception_1.BaseWrappedException);exports.WrappedException=WrappedException,exports.makeTypeError=makeTypeError,exports.unimplemented=unimplemented;

},{"275":275,"278":278}],280:[function(require,module,exports){
(function (global){
"use strict";function scheduleMicroTask(e){Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function getTypeNameForDebugging(e){return e.name?e.name:typeof e}function lockMode(){_modeLocked=!0}function enableProdMode(){if(_modeLocked)throw"Cannot enable prod mode after platform setup.";_devMode=!1}function assertionsEnabled(){return _devMode}function isPresent(e){return void 0!==e&&null!==e}function isBlank(e){return void 0===e||null===e}function isBoolean(e){return"boolean"==typeof e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isFunction(e){return"function"==typeof e}function isType(e){return isFunction(e)}function isStringMap(e){return"object"==typeof e&&null!==e}function isStrictStringMap(e){return isStringMap(e)&&Object.getPrototypeOf(e)===STRING_MAP_PROTO}function isPromise(e){return e instanceof _global.Promise}function isArray(e){return Array.isArray(e)}function isDate(e){return e instanceof exports.Date&&!isNaN(e.valueOf())}function noop(){}function stringify(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.name)return e.name;if(e.overriddenName)return e.overriddenName;var r=e.toString(),n=r.indexOf("\n");return-1===n?r:r.substring(0,n)}function serializeEnum(e){return e}function deserializeEnum(e,r){return e}function resolveEnumToken(e,r){return e[r]}function looseIdentical(e,r){return e===r||"number"==typeof e&&"number"==typeof r&&isNaN(e)&&isNaN(r)}function getMapKey(e){return e}function normalizeBlank(e){return isBlank(e)?null:e}function normalizeBool(e){return isBlank(e)?!1:e}function isJsObject(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function print(e){console.log(e)}function warn(e){console.warn(e)}function setValueOnPath(e,r,n){for(var t=r.split("."),o=e;t.length>1;){var i=t.shift();o=o.hasOwnProperty(i)&&isPresent(o[i])?o[i]:o[i]={}}void 0!==o&&null!==o||(o={}),o[t.shift()]=n}function getSymbolIterator(){if(isBlank(_symbolIterator))if(isPresent(globalScope.Symbol)&&isPresent(Symbol.iterator))_symbolIterator=Symbol.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),r=0;r<e.length;++r){var n=e[r];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(_symbolIterator=n)}return _symbolIterator}function evalExpression(e,r,n,t){var o=n+"\nreturn "+r+"\n//# sourceURL="+e,i=[],s=[];for(var u in t)i.push(u),s.push(t[u]);return(new(Function.bind.apply(Function,[void 0].concat(i.concat(o))))).apply(void 0,s)}function isPrimitive(e){return!isJsObject(e)}function hasConstructor(e,r){return e.constructor===r}function bitWiseOr(e){return e.reduce(function(e,r){return e|r})}function bitWiseAnd(e){return e.reduce(function(e,r){return e&r})}function escape(e){return _global.encodeURI(e)}var __extends=this&&this.__extends||function(e,r){function n(){this.constructor=e}for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)},globalScope;globalScope="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window,exports.scheduleMicroTask=scheduleMicroTask,exports.IS_DART=!1;var _global=globalScope;exports.global=_global,exports.Type=Function,exports.getTypeNameForDebugging=getTypeNameForDebugging,exports.Math=_global.Math,exports.Date=_global.Date;var _devMode=!0,_modeLocked=!1;exports.lockMode=lockMode,exports.enableProdMode=enableProdMode,exports.assertionsEnabled=assertionsEnabled,_global.assert=function(e){},exports.isPresent=isPresent,exports.isBlank=isBlank,exports.isBoolean=isBoolean,exports.isNumber=isNumber,exports.isString=isString,exports.isFunction=isFunction,exports.isType=isType,exports.isStringMap=isStringMap;var STRING_MAP_PROTO=Object.getPrototypeOf({});exports.isStrictStringMap=isStrictStringMap,exports.isPromise=isPromise,exports.isArray=isArray,exports.isDate=isDate,exports.noop=noop,exports.stringify=stringify,exports.serializeEnum=serializeEnum,exports.deserializeEnum=deserializeEnum,exports.resolveEnumToken=resolveEnumToken;var StringWrapper=function(){function e(){}return e.fromCharCode=function(e){return String.fromCharCode(e)},e.charCodeAt=function(e,r){return e.charCodeAt(r)},e.split=function(e,r){return e.split(r)},e.equals=function(e,r){return e===r},e.stripLeft=function(e,r){if(e&&e.length){for(var n=0,t=0;t<e.length&&e[t]==r;t++)n++;e=e.substring(n)}return e},e.stripRight=function(e,r){if(e&&e.length){for(var n=e.length,t=e.length-1;t>=0&&e[t]==r;t--)n--;e=e.substring(0,n)}return e},e.replace=function(e,r,n){return e.replace(r,n)},e.replaceAll=function(e,r,n){return e.replace(r,n)},e.slice=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=null),e.slice(r,null===n?void 0:n)},e.replaceAllMapped=function(e,r,n){return e.replace(r,function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return e.splice(-2,2),n(e)})},e.contains=function(e,r){return-1!=e.indexOf(r)},e.compare=function(e,r){return r>e?-1:e>r?1:0},e}();exports.StringWrapper=StringWrapper;var StringJoiner=function(){function e(e){void 0===e&&(e=[]),this.parts=e}return e.prototype.add=function(e){this.parts.push(e)},e.prototype.toString=function(){return this.parts.join("")},e}();exports.StringJoiner=StringJoiner;var NumberParseError=function(e){function r(r){e.call(this),this.message=r}return __extends(r,e),r.prototype.toString=function(){return this.message},r}(Error);exports.NumberParseError=NumberParseError;var NumberWrapper=function(){function e(){}return e.toFixed=function(e,r){return e.toFixed(r)},e.equal=function(e,r){return e===r},e.parseIntAutoRadix=function(e){var r=parseInt(e);if(isNaN(r))throw new NumberParseError("Invalid integer literal when parsing "+e);return r},e.parseInt=function(e,r){if(10==r){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,r)}else if(16==r){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,r)}else{var n=parseInt(e,r);if(!isNaN(n))return n}throw new NumberParseError("Invalid integer literal when parsing "+e+" in base "+r)},e.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}();exports.NumberWrapper=NumberWrapper,exports.RegExp=_global.RegExp;var RegExpWrapper=function(){function e(){}return e.create=function(e,r){return void 0===r&&(r=""),r=r.replace(/g/g,""),new _global.RegExp(e,r+"g")},e.firstMatch=function(e,r){return e.lastIndex=0,e.exec(r)},e.test=function(e,r){return e.lastIndex=0,e.test(r)},e.matcher=function(e,r){return e.lastIndex=0,{re:e,input:r}},e.replaceAll=function(e,r,n){var t=e.exec(r),o="";e.lastIndex=0;for(var i=0;t;)o+=r.substring(i,t.index),o+=n(t),i=t.index+t[0].length,e.lastIndex=i,t=e.exec(r);return o+=r.substring(i)},e}();exports.RegExpWrapper=RegExpWrapper;var RegExpMatcherWrapper=function(){function e(){}return e.next=function(e){return e.re.exec(e.input)},e}();exports.RegExpMatcherWrapper=RegExpMatcherWrapper;var FunctionWrapper=function(){function e(){}return e.apply=function(e,r){return e.apply(null,r)},e}();exports.FunctionWrapper=FunctionWrapper,exports.looseIdentical=looseIdentical,exports.getMapKey=getMapKey,exports.normalizeBlank=normalizeBlank,exports.normalizeBool=normalizeBool,exports.isJsObject=isJsObject,exports.print=print,exports.warn=warn;var Json=function(){function e(){}return e.parse=function(e){return _global.JSON.parse(e)},e.stringify=function(e){return _global.JSON.stringify(e,null,2)},e}();exports.Json=Json;var DateWrapper=function(){function e(){}return e.create=function(e,r,n,t,o,i,s){return void 0===r&&(r=1),void 0===n&&(n=1),void 0===t&&(t=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===s&&(s=0),new exports.Date(e,r-1,n,t,o,i,s)},e.fromISOString=function(e){return new exports.Date(e)},e.fromMillis=function(e){return new exports.Date(e)},e.toMillis=function(e){return e.getTime()},e.now=function(){return new exports.Date},e.toJson=function(e){return e.toJSON()},e}();exports.DateWrapper=DateWrapper,exports.setValueOnPath=setValueOnPath;var _symbolIterator=null;exports.getSymbolIterator=getSymbolIterator,exports.evalExpression=evalExpression,exports.isPrimitive=isPrimitive,exports.hasConstructor=hasConstructor,exports.bitWiseOr=bitWiseOr,exports.bitWiseAnd=bitWiseAnd,exports.escape=escape;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],281:[function(require,module,exports){
"use strict";var lang_1=require(280);exports.Math=lang_1.global.Math,exports.NaN=typeof exports.NaN;

},{"280":280}],282:[function(require,module,exports){
"use strict";function __export(r){for(var e in r)exports.hasOwnProperty(e)||(exports[e]=r[e])}function browserPlatform(){return lang_1.isBlank(core_1.getPlatform())&&core_1.createPlatform(core_1.ReflectiveInjector.resolveAndCreate(browser_common_1.BROWSER_PROVIDERS)),core_1.assertPlatform(browser_common_1.BROWSER_PLATFORM_MARKER)}var core_1=require(140),lang_1=require(280),browser_common_1=require(262),dom_events_1=require(268);exports.DomEventsPlugin=dom_events_1.DomEventsPlugin;var event_manager_1=require(269);exports.EventManager=event_manager_1.EventManager,exports.EVENT_MANAGER_PLUGINS=event_manager_1.EVENT_MANAGER_PLUGINS;var ng_probe_1=require(264);exports.ELEMENT_PROBE_PROVIDERS=ng_probe_1.ELEMENT_PROBE_PROVIDERS;var browser_common_2=require(262);exports.BROWSER_APP_COMMON_PROVIDERS=browser_common_2.BROWSER_APP_COMMON_PROVIDERS,exports.BROWSER_SANITIZATION_PROVIDERS=browser_common_2.BROWSER_SANITIZATION_PROVIDERS,exports.BROWSER_PROVIDERS=browser_common_2.BROWSER_PROVIDERS,exports.By=browser_common_2.By,exports.Title=browser_common_2.Title,exports.enableDebugTools=browser_common_2.enableDebugTools,exports.disableDebugTools=browser_common_2.disableDebugTools,exports.HAMMER_GESTURE_CONFIG=browser_common_2.HAMMER_GESTURE_CONFIG,exports.HammerGestureConfig=browser_common_2.HammerGestureConfig,__export(require(249));var dom_tokens_1=require(267);exports.DOCUMENT=dom_tokens_1.DOCUMENT;var dom_sanitization_service_1=require(284);exports.DomSanitizationService=dom_sanitization_service_1.DomSanitizationService,exports.SecurityContext=dom_sanitization_service_1.SecurityContext;var platform_browser_static_1=require(283);exports.bootstrapStatic=platform_browser_static_1.bootstrapStatic,exports.browserStaticPlatform=platform_browser_static_1.browserStaticPlatform,exports.BROWSER_APP_STATIC_PROVIDERS=platform_browser_static_1.BROWSER_APP_STATIC_PROVIDERS,exports.BrowserPlatformLocation=platform_browser_static_1.BrowserPlatformLocation,exports.browserPlatform=browserPlatform;

},{"140":140,"249":249,"262":262,"264":264,"267":267,"268":268,"269":269,"280":280,"283":283,"284":284}],283:[function(require,module,exports){
"use strict";function browserStaticPlatform(){return lang_1.isBlank(core_1.getPlatform())&&core_1.createPlatform(core_1.ReflectiveInjector.resolveAndCreate(browser_common_1.BROWSER_PROVIDERS)),core_1.assertPlatform(browser_common_1.BROWSER_PLATFORM_MARKER)}function bootstrapStatic(o,r,e){lang_1.isPresent(e)&&e();var t=lang_1.isPresent(r)?[exports.BROWSER_APP_STATIC_PROVIDERS,r]:exports.BROWSER_APP_STATIC_PROVIDERS,_=core_1.ReflectiveInjector.resolveAndCreate(t,browserStaticPlatform().injector);return core_1.coreLoadAndBootstrap(_,o)}var core_1=require(140),lang_1=require(280),browser_common_1=require(262),ng_probe_1=require(264);exports.ELEMENT_PROBE_PROVIDERS=ng_probe_1.ELEMENT_PROBE_PROVIDERS;var browser_platform_location_1=require(257);exports.BrowserPlatformLocation=browser_platform_location_1.BrowserPlatformLocation;var browser_common_2=require(262);exports.BROWSER_PROVIDERS=browser_common_2.BROWSER_PROVIDERS,exports.By=browser_common_2.By,exports.Title=browser_common_2.Title,exports.enableDebugTools=browser_common_2.enableDebugTools,exports.disableDebugTools=browser_common_2.disableDebugTools,exports.BROWSER_APP_STATIC_PROVIDERS=browser_common_1.BROWSER_APP_COMMON_PROVIDERS,exports.browserStaticPlatform=browserStaticPlatform,exports.bootstrapStatic=bootstrapStatic;

},{"140":140,"257":257,"262":262,"264":264,"280":280}],284:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},url_sanitizer_1=require(286),style_sanitizer_1=require(285),core_private_1=require(247);exports.SecurityContext=core_private_1.SecurityContext;var core_1=require(140),DomSanitizationService=function(){function e(){}return e}();exports.DomSanitizationService=DomSanitizationService;var DomSanitizationServiceImpl=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.sanitize=function(e,t){if(null==t)return null;switch(e){case core_private_1.SecurityContext.NONE:return t;case core_private_1.SecurityContext.HTML:return t instanceof SafeHtmlImpl?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),this.sanitizeHtml(String(t)));case core_private_1.SecurityContext.STYLE:return t instanceof SafeStyleImpl?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),style_sanitizer_1.sanitizeStyle(t));case core_private_1.SecurityContext.SCRIPT:if(t instanceof SafeScriptImpl)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case core_private_1.SecurityContext.URL:return t instanceof SafeUrlImpl?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),url_sanitizer_1.sanitizeUrl(String(t)));case core_private_1.SecurityContext.RESOURCE_URL:if(t instanceof SafeResourceUrlImpl)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context");default:throw new Error("Unexpected SecurityContext "+e)}},t.prototype.checkNotSafeValue=function(e,t){if(e instanceof SafeValueImpl)throw new Error("Required a safe "+t+", got a "+e.getTypeName())},t.prototype.sanitizeHtml=function(e){return e},t.prototype.bypassSecurityTrustHtml=function(e){return new SafeHtmlImpl(e)},t.prototype.bypassSecurityTrustStyle=function(e){return new SafeStyleImpl(e)},t.prototype.bypassSecurityTrustScript=function(e){return new SafeScriptImpl(e)},t.prototype.bypassSecurityTrustUrl=function(e){return new SafeUrlImpl(e)},t.prototype.bypassSecurityTrustResourceUrl=function(e){return new SafeResourceUrlImpl(e)},t.decorators=[{type:core_1.Injectable}],t}(DomSanitizationService);exports.DomSanitizationServiceImpl=DomSanitizationServiceImpl;var SafeValueImpl=function(){function e(e){this.changingThisBreaksApplicationSecurity=e}return e}(),SafeHtmlImpl=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getTypeName=function(){return"HTML"},t}(SafeValueImpl),SafeStyleImpl=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getTypeName=function(){return"Style"},t}(SafeValueImpl),SafeScriptImpl=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getTypeName=function(){return"Script"},t}(SafeValueImpl),SafeUrlImpl=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getTypeName=function(){return"URL"},t}(SafeValueImpl),SafeResourceUrlImpl=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.getTypeName=function(){return"ResourceURL"},t}(SafeValueImpl);

},{"140":140,"247":247,"285":285,"286":286}],285:[function(require,module,exports){
"use strict";function hasBalancedQuotes(t){for(var a=!0,e=!0,n=0;n<t.length;n++){var r=t.charAt(n);"'"===r&&e?a=!a:'"'===r&&a&&(e=!e)}return a&&e}function sanitizeStyle(t){return String(t).match(SAFE_STYLE_VALUE)&&hasBalancedQuotes(t)?t:"unsafe"}var SAFE_STYLE_VALUE=/^([-,."'%_!# a-zA-Z0-9]+|(?:rgb|hsl)a?\([0-9.%, ]+\))$/;exports.sanitizeStyle=sanitizeStyle;

},{}],286:[function(require,module,exports){
"use strict";function sanitizeUrl(t){return String(t).match(SAFE_URL_PATTERN)?t:"unsafe:"+t}var SAFE_URL_PATTERN=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi;exports.sanitizeUrl=sanitizeUrl;

},{}],287:[function(require,module,exports){
!function(e,n){"undefined"!=typeof module?module.exports=n():"function"==typeof define&&"object"==typeof define.amd?define(n):this[e]=n()}("ical",function(){var e=function(e){return e=e||"",e.replace(/\\\,/g,",").replace(/\\\;/g,";").replace(/\\[nN]/g,"\n").replace(/\\\\/g,"\\")},n=function(e){for(var n={},t=0;t<e.length;t++)if(e[t].indexOf("=")>-1){var a=e[t].split("=");n[a[0]]=r(a.slice(1).join("="))}return n||sp},r=function(e){if("TRUE"===e)return!0;if("FALSE"===e)return!1;var n=Number(e);return isNaN(n)?e:n},t=function(r){return function(t,a,u){var i;i=a&&a.length&&(1!=a.length||"CHARSET=utf-8"!==a[0])?{params:n(a),val:e(t)}:e(t);var s=u[r];return Array.isArray(s)?(s.push(i),u):null!=s?(u[r]=[s,i],u):(u[r]=i,u)}},a=function(e,r,t){var a=n(t);return t&&a&&(e[r].tz=a.TZID),e},u=function(e){return function(n,r,u){if(t(e)(n,void 0,u),r&&"VALUE=DATE"===r[0]){var i=/^(\d{4})(\d{2})(\d{2})$/.exec(n);if(null!==i)return u[e]=new Date(i[1],parseInt(i[2],10)-1,i[3]),a(u,e,r)}var i=/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})(Z)?$/.exec(n);return null!==i&&("Z"==i[7]?u[e]=new Date(Date.UTC(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10),parseInt(i[6],10))):u[e]=new Date(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10),parseInt(i[6],10))),a(u,e,r)}},i=function(e){return function(n,r,a){t(n,r,a);var u=n.split(";");return a[e]={lat:Number(u[0]),lon:Number(u[1])},a}},s=function(e){var n=/\s*,\s*/g;return function(r,a,u){return t(r,a,u),u[e]=r?r.split(n):[],u}},o=function(e,r){var t=n(r);return r&&t&&(e.type=t.FBTYPE||"BUSY"),e},c=function(e){return function(n,r,a){var i=o({},r);a[e]=a[e]||[],a[e].push(i),t(n,r,i);var s=n.split("/");return["start","end"].forEach(function(e,n){u(e)(s[n],r,i)}),a}};return{objectHandlers:{BEGIN:function(e,n,r,t){return t.push(r),{type:e,params:n}},END:function(e,n,r,t){if("VCALENDAR"===e){var a,u;for(a in r)r.hasOwnProperty(a)&&(u=r[a],"string"==typeof u&&delete r[a]);return r}var i=t.pop();return r.uid?i[r.uid]=r:i[1e5*Math.random()]=r,i},SUMMARY:t("summary"),DESCRIPTION:t("description"),URL:t("url"),UID:t("uid"),LOCATION:t("location"),DTSTART:u("start"),DTEND:u("end")," CLASS":t("class"),TRANSP:t("transparency"),GEO:i("geo"),"PERCENT-COMPLETE":t("completion"),COMPLETED:u("completed"),CATEGORIES:s("categories"),FREEBUSY:c("freebusy")},handleObject:function(e,n,r,a,u,i){var s=this;return s.objectHandlers[e]?s.objectHandlers[e](n,r,a,u,i):e.match(/X\-[\w\-]+/)&&u.length>0?(e=e.substring(2),t(e)(n,r,a,u,i)):t(e.toLowerCase())(n,r,a)},parseICS:function(e){for(var n=this,r=e.split(/\r?\n/),t={},a=[],u=0,i=r.length,s=r[0];i>u;u++,s=r[u]){for(;r[u+1]&&/[ \t]/.test(r[u+1][0]);)s+=r[u+1].slice(1),u+=1;var o=s.split(":");if(!(o.length<2)){var c=o.slice(1).join(":"),p=o[0].split(";"),f=p[0],l=p.slice(1);t=n.handleObject(f,c,l,t,a,s)||{}}}return delete t.type,delete t.params,t}}});

},{}],288:[function(require,module,exports){
"use strict";var root_1=require(303),toSubscriber_1=require(304),$$observable=require(306),Observable=function(){function r(r){this._isScalar=!1,r&&(this._subscribe=r)}return r.prototype.lift=function(o){var t=new r;return t.source=this,t.operator=o,t},r.prototype.subscribe=function(r,o,t){var e=this.operator,i=toSubscriber_1.toSubscriber(r,o,t);if(e?e.call(i,this):i.add(this._subscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},r.prototype.forEach=function(r,o){var t=this;if(o||(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise?o=root_1.root.Rx.config.Promise:root_1.root.Promise&&(o=root_1.root.Promise)),!o)throw new Error("no Promise impl found");return new o(function(o,e){var i=t.subscribe(function(o){if(i)try{r(o)}catch(t){e(t),i.unsubscribe()}else r(o)},e,o)})},r.prototype._subscribe=function(r){return this.source.subscribe(r)},r.prototype[$$observable]=function(){return this},r.create=function(o){return new r(o)},r}();exports.Observable=Observable;

},{"303":303,"304":304,"306":306}],289:[function(require,module,exports){
"use strict";exports.empty={isUnsubscribed:!0,next:function(t){},error:function(t){throw t},complete:function(){}};

},{}],290:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(r,t){function e(){this.constructor=r}for(var s in t)t.hasOwnProperty(s)&&(r[s]=t[s]);r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)},Observable_1=require(288),Subscriber_1=require(292),Subscription_1=require(293),ObjectUnsubscribedError_1=require(297),SubjectSubscription_1=require(291),rxSubscriber_1=require(296),SubjectSubscriber=function(r){function t(t){r.call(this,t),this.destination=t}return __extends(t,r),t}(Subscriber_1.Subscriber);exports.SubjectSubscriber=SubjectSubscriber;var Subject=function(r){function t(){r.call(this),this.observers=[],this.isUnsubscribed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return __extends(t,r),t.prototype[rxSubscriber_1.$$rxSubscriber]=function(){return new SubjectSubscriber(this)},t.prototype.lift=function(r){var t=new AnonymousSubject(this,this);return t.operator=r,t},t.prototype.next=function(r){if(this.isUnsubscribed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,e=t.length,s=t.slice(),i=0;e>i;i++)s[i].next(r)},t.prototype.error=function(r){if(this.isUnsubscribed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var t=this.observers,e=t.length,s=t.slice(),i=0;e>i;i++)s[i].error(r);this.observers.length=0},t.prototype.complete=function(){if(this.isUnsubscribed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;this.isStopped=!0;for(var r=this.observers,t=r.length,e=r.slice(),s=0;t>s;s++)e[s].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.isUnsubscribed=!0,this.observers=null},t.prototype._subscribe=function(r){if(this.isUnsubscribed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;return this.hasError?(r.error(this.thrownError),Subscription_1.Subscription.EMPTY):this.isStopped?(r.complete(),Subscription_1.Subscription.EMPTY):(this.observers.push(r),new SubjectSubscription_1.SubjectSubscription(this,r))},t.prototype.asObservable=function(){var r=new Observable_1.Observable;return r.source=this,r},t.create=function(r,t){return new AnonymousSubject(r,t)},t}(Observable_1.Observable);exports.Subject=Subject;var AnonymousSubject=function(r){function t(t,e){r.call(this),this.destination=t,this.source=e}return __extends(t,r),t.prototype.next=function(r){var t=this.destination;t&&t.next&&t.next(r)},t.prototype.error=function(r){var t=this.destination;t&&t.error&&this.destination.error(r)},t.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},t.prototype._subscribe=function(r){var t=this.source;return t?this.source.subscribe(r):Subscription_1.Subscription.EMPTY},t}(Subject);exports.AnonymousSubject=AnonymousSubject;

},{"288":288,"291":291,"292":292,"293":293,"296":296,"297":297}],291:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(s,t){function i(){this.constructor=s}for(var e in t)t.hasOwnProperty(e)&&(s[e]=t[e]);s.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},Subscription_1=require(293),SubjectSubscription=function(s){function t(t,i){s.call(this),this.subject=t,this.subscriber=i,this.isUnsubscribed=!1}return __extends(t,s),t.prototype.unsubscribe=function(){if(!this.isUnsubscribed){this.isUnsubscribed=!0;var s=this.subject,t=s.observers;if(this.subject=null,t&&0!==t.length&&!s.isStopped&&!s.isUnsubscribed){var i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}},t}(Subscription_1.Subscription);exports.SubjectSubscription=SubjectSubscription;

},{"293":293}],292:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(t,r){function i(){this.constructor=t}for(var s in r)r.hasOwnProperty(s)&&(t[s]=r[s]);t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)},isFunction_1=require(301),Subscription_1=require(293),Observer_1=require(289),rxSubscriber_1=require(296),Subscriber=function(t){function r(i,s,e){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Observer_1.empty;break;case 1:if(!i){this.destination=Observer_1.empty;break}if("object"==typeof i){i instanceof r?(this.destination=i,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,i));break}default:this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,i,s,e)}}return __extends(r,t),r.prototype[rxSubscriber_1.$$rxSubscriber]=function(){return this},r.create=function(t,i,s){var e=new r(t,i,s);return e.syncErrorThrowable=!1,e},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.isUnsubscribed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r}(Subscription_1.Subscription);exports.Subscriber=Subscriber;var SafeSubscriber=function(t){function r(r,i,s,e){t.call(this),this._parent=r;var n,o=this;isFunction_1.isFunction(i)?n=i:i&&(o=i,n=i.next,s=i.error,e=i.complete,isFunction_1.isFunction(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this)),this._context=o,this._next=n,this._error=s,this._complete=e}return __extends(r,t),r.prototype.next=function(t){if(!this.isStopped&&this._next){var r=this._parent;r.syncErrorThrowable?this.__tryOrSetError(r,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var r=this._parent;if(this._error)r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!r.syncErrorThrowable)throw this.unsubscribe(),t;r.syncErrorValue=t,r.syncErrorThrown=!0,this.unsubscribe()}}},r.prototype.complete=function(){if(!this.isStopped){var t=this._parent;this._complete?t.syncErrorThrowable?(this.__tryOrSetError(t,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,r){try{t.call(this._context,r)}catch(i){throw this.unsubscribe(),i}},r.prototype.__tryOrSetError=function(t,r,i){try{r.call(this._context,i)}catch(s){return t.syncErrorValue=s,t.syncErrorThrown=!0,!0}return!1},r.prototype._unsubscribe=function(){var t=this._parent;this._context=null,this._parent=null,t.unsubscribe()},r}(Subscriber);

},{"289":289,"293":293,"296":296,"301":301}],293:[function(require,module,exports){
"use strict";var isArray_1=require(300),isObject_1=require(302),isFunction_1=require(301),tryCatch_1=require(305),errorObject_1=require(299),UnsubscriptionError_1=require(298),Subscription=function(){function r(r){this.isUnsubscribed=!1,r&&(this._unsubscribe=r)}return r.prototype.unsubscribe=function(){var r,i=!1;if(!this.isUnsubscribed){this.isUnsubscribed=!0;var s=this,t=s._unsubscribe,e=s._subscriptions;if(this._subscriptions=null,isFunction_1.isFunction(t)){var n=tryCatch_1.tryCatch(t).call(this);n===errorObject_1.errorObject&&(i=!0,(r=r||[]).push(errorObject_1.errorObject.e))}if(isArray_1.isArray(e))for(var c=-1,u=e.length;++c<u;){var o=e[c];if(isObject_1.isObject(o)){var n=tryCatch_1.tryCatch(o.unsubscribe).call(o);if(n===errorObject_1.errorObject){i=!0,r=r||[];var b=errorObject_1.errorObject.e;b instanceof UnsubscriptionError_1.UnsubscriptionError?r=r.concat(b.errors):r.push(b)}}}if(i)throw new UnsubscriptionError_1.UnsubscriptionError(r)}},r.prototype.add=function(i){if(i&&i!==this&&i!==r.EMPTY){var s=i;switch(typeof i){case"function":s=new r(i);case"object":if(s.isUnsubscribed||"function"!=typeof s.unsubscribe)break;this.isUnsubscribed?s.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(s);break;default:throw new Error("Unrecognized teardown "+i+" added to Subscription.")}return s}},r.prototype.remove=function(i){if(null!=i&&i!==this&&i!==r.EMPTY){var s=this._subscriptions;if(s){var t=s.indexOf(i);-1!==t&&s.splice(t,1)}}},r.EMPTY=function(r){return r.isUnsubscribed=!0,r}(new r),r}();exports.Subscription=Subscription;

},{"298":298,"299":299,"300":300,"301":301,"302":302,"305":305}],294:[function(require,module,exports){
"use strict";function dispatchNext(e){var r=e.value,s=e.subscriber;s.isUnsubscribed||(s.next(r),s.complete())}function dispatchError(e){var r=e.err,s=e.subscriber;s.isUnsubscribed||s.error(r)}var __extends=this&&this.__extends||function(e,r){function s(){this.constructor=e}for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);e.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)},root_1=require(303),Observable_1=require(288),PromiseObservable=function(e){function r(r,s){void 0===s&&(s=null),e.call(this),this.promise=r,this.scheduler=s}return __extends(r,e),r.create=function(e,s){return void 0===s&&(s=null),new r(e,s)},r.prototype._subscribe=function(e){var r=this,s=this.promise,t=this.scheduler;if(null==t)this._isScalar?e.isUnsubscribed||(e.next(this.value),e.complete()):s.then(function(s){r.value=s,r._isScalar=!0,e.isUnsubscribed||(e.next(s),e.complete())},function(r){e.isUnsubscribed||e.error(r)}).then(null,function(e){root_1.root.setTimeout(function(){throw e})});else if(this._isScalar){if(!e.isUnsubscribed)return t.schedule(dispatchNext,0,{value:this.value,subscriber:e})}else s.then(function(s){r.value=s,r._isScalar=!0,e.isUnsubscribed||e.add(t.schedule(dispatchNext,0,{value:s,subscriber:e}))},function(r){e.isUnsubscribed||e.add(t.schedule(dispatchError,0,{err:r,subscriber:e}))}).then(null,function(e){root_1.root.setTimeout(function(){throw e})})},r}(Observable_1.Observable);exports.PromiseObservable=PromiseObservable;

},{"288":288,"303":303}],295:[function(require,module,exports){
"use strict";function toPromise(o){var r=this;if(o||(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise?o=root_1.root.Rx.config.Promise:root_1.root.Promise&&(o=root_1.root.Promise)),!o)throw new Error("no Promise impl found");return new o(function(o,t){var i;r.subscribe(function(o){return i=o},function(o){return t(o)},function(){return o(i)})})}var root_1=require(303);exports.toPromise=toPromise;

},{"303":303}],296:[function(require,module,exports){
"use strict";var root_1=require(303),Symbol=root_1.root.Symbol;exports.$$rxSubscriber="function"==typeof Symbol&&"function"==typeof Symbol["for"]?Symbol["for"]("rxSubscriber"):"@@rxSubscriber";

},{"303":303}],297:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(r,t){function e(){this.constructor=r}for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)},ObjectUnsubscribedError=function(r){function t(){r.call(this,"object unsubscribed"),this.name="ObjectUnsubscribedError"}return __extends(t,r),t}(Error);exports.ObjectUnsubscribedError=ObjectUnsubscribedError;

},{}],298:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(r,t){function n(){this.constructor=r}for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},UnsubscriptionError=function(r){function t(t){r.call(this),this.errors=t,this.name="UnsubscriptionError",this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(r,t){return t+1+") "+r.toString()}).join("\n"):""}return __extends(t,r),t}(Error);exports.UnsubscriptionError=UnsubscriptionError;

},{}],299:[function(require,module,exports){
"use strict";exports.errorObject={e:{}};

},{}],300:[function(require,module,exports){
"use strict";exports.isArray=Array.isArray||function(r){return r&&"number"==typeof r.length};

},{}],301:[function(require,module,exports){
"use strict";function isFunction(n){return"function"==typeof n}exports.isFunction=isFunction;

},{}],302:[function(require,module,exports){
"use strict";function isObject(t){return null!=t&&"object"==typeof t}exports.isObject=isObject;

},{}],303:[function(require,module,exports){
(function (global){
"use strict";var objectTypes={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};exports.root=objectTypes[typeof self]&&self||objectTypes[typeof window]&&window;var freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=objectTypes[typeof global]&&global;!freeGlobal||freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal||(exports.root=freeGlobal);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],304:[function(require,module,exports){
"use strict";function toSubscriber(r,b,e){if(r){if(r instanceof Subscriber_1.Subscriber)return r;if(r[rxSubscriber_1.$$rxSubscriber])return r[rxSubscriber_1.$$rxSubscriber]()}return r||b||e?new Subscriber_1.Subscriber(r,b,e):new Subscriber_1.Subscriber}var Subscriber_1=require(292),rxSubscriber_1=require(296);exports.toSubscriber=toSubscriber;

},{"292":292,"296":296}],305:[function(require,module,exports){
"use strict";function tryCatcher(){try{return tryCatchTarget.apply(this,arguments)}catch(r){return errorObject_1.errorObject.e=r,errorObject_1.errorObject}}function tryCatch(r){return tryCatchTarget=r,tryCatcher}var errorObject_1=require(299),tryCatchTarget;exports.tryCatch=tryCatch;

},{"299":299}],306:[function(require,module,exports){
(function (global){
"use strict";module.exports=require(307)(global||window||this);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"307":307}],307:[function(require,module,exports){
"use strict";module.exports=function(e){var b,o=e.Symbol;return"function"==typeof o?o.observable?b=o.observable:(b=o("observable"),o.observable=b):b="@@observable",b};

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9nYWxlcGgvbGFuZC9zcmMvc2NyaXB0L2FwcC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL2dhbGVwaC9sYW5kL3NyYy9zY3JpcHQvY29tcG9uZW50L2FwcC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL2dhbGVwaC9sYW5kL3NyYy9zY3JpcHQvY29tcG9uZW50L2xpc3QuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9nYWxlcGgvbGFuZC9zcmMvc2NyaXB0L2NvbXBvbmVudC9zZXJ2aWNlLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3MvZ2FsZXBoL2xhbmQvc3JjL3NjcmlwdC9jb21wb25lbnQvc2hhcmUuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9nYWxlcGgvbGFuZC9zcmMvc2NyaXB0L3BpcGUvc2VhcmNoLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3MvZ2FsZXBoL2xhbmQvc3JjL3NjcmlwdC9waXBlL3RpbWUuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL2luZGV4LmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbW1vbi9zcmMvY29tbW9uX2RpcmVjdGl2ZXMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9kaXJlY3RpdmVzLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbW1vbi9zcmMvZGlyZWN0aXZlcy9jb3JlX2RpcmVjdGl2ZXMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9kaXJlY3RpdmVzL25nX2NsYXNzLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbW1vbi9zcmMvZGlyZWN0aXZlcy9uZ19mb3IuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9kaXJlY3RpdmVzL25nX2lmLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbW1vbi9zcmMvZGlyZWN0aXZlcy9uZ19wbHVyYWwuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9kaXJlY3RpdmVzL25nX3N0eWxlLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbW1vbi9zcmMvZGlyZWN0aXZlcy9uZ19zd2l0Y2guanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9kaXJlY3RpdmVzL25nX3RlbXBsYXRlX291dGxldC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21tb24vc3JjL2RpcmVjdGl2ZXMvb2JzZXJ2YWJsZV9saXN0X2RpZmYuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9mYWNhZGUvYXN5bmMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9mYWNhZGUvYmFzZV93cmFwcGVkX2V4Y2VwdGlvbi5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21tb24vc3JjL2ZhY2FkZS9jb2xsZWN0aW9uLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbW1vbi9zcmMvZmFjYWRlL2V4Y2VwdGlvbl9oYW5kbGVyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbW1vbi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9mYWNhZGUvaW50bC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21tb24vc3JjL2ZhY2FkZS9sYW5nLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbW1vbi9zcmMvZmFjYWRlL3Byb21pc2UuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9mb3Jtcy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21tb24vc3JjL2Zvcm1zL2RpcmVjdGl2ZXMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9mb3Jtcy9kaXJlY3RpdmVzL2Fic3RyYWN0X2NvbnRyb2xfZGlyZWN0aXZlLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbW1vbi9zcmMvZm9ybXMvZGlyZWN0aXZlcy9jaGVja2JveF92YWx1ZV9hY2Nlc3Nvci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21tb24vc3JjL2Zvcm1zL2RpcmVjdGl2ZXMvY29udHJvbF9jb250YWluZXIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9mb3Jtcy9kaXJlY3RpdmVzL2NvbnRyb2xfdmFsdWVfYWNjZXNzb3IuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9mb3Jtcy9kaXJlY3RpdmVzL2RlZmF1bHRfdmFsdWVfYWNjZXNzb3IuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9mb3Jtcy9kaXJlY3RpdmVzL25nX2NvbnRyb2wuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9mb3Jtcy9kaXJlY3RpdmVzL25nX2NvbnRyb2xfZ3JvdXAuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9mb3Jtcy9kaXJlY3RpdmVzL25nX2NvbnRyb2xfbmFtZS5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21tb24vc3JjL2Zvcm1zL2RpcmVjdGl2ZXMvbmdfY29udHJvbF9zdGF0dXMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9mb3Jtcy9kaXJlY3RpdmVzL25nX2Zvcm0uanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9mb3Jtcy9kaXJlY3RpdmVzL25nX2Zvcm1fY29udHJvbC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21tb24vc3JjL2Zvcm1zL2RpcmVjdGl2ZXMvbmdfZm9ybV9tb2RlbC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21tb24vc3JjL2Zvcm1zL2RpcmVjdGl2ZXMvbmdfbW9kZWwuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9mb3Jtcy9kaXJlY3RpdmVzL25vcm1hbGl6ZV92YWxpZGF0b3IuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9mb3Jtcy9kaXJlY3RpdmVzL251bWJlcl92YWx1ZV9hY2Nlc3Nvci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21tb24vc3JjL2Zvcm1zL2RpcmVjdGl2ZXMvcmFkaW9fY29udHJvbF92YWx1ZV9hY2Nlc3Nvci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21tb24vc3JjL2Zvcm1zL2RpcmVjdGl2ZXMvc2VsZWN0X2NvbnRyb2xfdmFsdWVfYWNjZXNzb3IuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9mb3Jtcy9kaXJlY3RpdmVzL3NoYXJlZC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21tb24vc3JjL2Zvcm1zL2RpcmVjdGl2ZXMvdmFsaWRhdG9ycy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21tb24vc3JjL2Zvcm1zL2Zvcm1fYnVpbGRlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21tb24vc3JjL2Zvcm1zL21vZGVsLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbW1vbi9zcmMvZm9ybXMvdmFsaWRhdG9ycy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21tb24vc3JjL2xvY2F0aW9uLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbW1vbi9zcmMvbG9jYXRpb24vaGFzaF9sb2NhdGlvbl9zdHJhdGVneS5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21tb24vc3JjL2xvY2F0aW9uL2xvY2F0aW9uLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbW1vbi9zcmMvbG9jYXRpb24vbG9jYXRpb25fc3RyYXRlZ3kuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9sb2NhdGlvbi9wYXRoX2xvY2F0aW9uX3N0cmF0ZWd5LmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbW1vbi9zcmMvbG9jYXRpb24vcGxhdGZvcm1fbG9jYXRpb24uanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9waXBlcy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21tb24vc3JjL3BpcGVzL2FzeW5jX3BpcGUuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9waXBlcy9jb21tb25fcGlwZXMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9waXBlcy9kYXRlX3BpcGUuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9waXBlcy9pMThuX3BsdXJhbF9waXBlLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbW1vbi9zcmMvcGlwZXMvaTE4bl9zZWxlY3RfcGlwZS5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21tb24vc3JjL3BpcGVzL2ludmFsaWRfcGlwZV9hcmd1bWVudF9leGNlcHRpb24uanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9waXBlcy9qc29uX3BpcGUuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tbW9uL3NyYy9waXBlcy9sb3dlcmNhc2VfcGlwZS5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21tb24vc3JjL3BpcGVzL251bWJlcl9waXBlLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbW1vbi9zcmMvcGlwZXMvcmVwbGFjZV9waXBlLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbW1vbi9zcmMvcGlwZXMvc2xpY2VfcGlwZS5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21tb24vc3JjL3BpcGVzL3VwcGVyY2FzZV9waXBlLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbXBpbGVyL2NvbXBpbGVyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbXBpbGVyL2NvcmVfcHJpdmF0ZS5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9pbmRleC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9wcml2YXRlX2V4cG9ydC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvYXNzZXJ0aW9ucy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvY29tcGlsZV9tZXRhZGF0YS5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvY29tcGlsZXIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL2NvbmZpZy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvZGlyZWN0aXZlX2xpZmVjeWNsZV9yZWZsZWN0b3IuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL2RpcmVjdGl2ZV9ub3JtYWxpemVyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbXBpbGVyL3NyYy9kaXJlY3RpdmVfcmVzb2x2ZXIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL2V4cHJlc3Npb25fcGFyc2VyL2FzdC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvZXhwcmVzc2lvbl9wYXJzZXIvbGV4ZXIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL2V4cHJlc3Npb25fcGFyc2VyL3BhcnNlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvZmFjYWRlL2FzeW5jLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbXBpbGVyL3NyYy9mYWNhZGUvYmFzZV93cmFwcGVkX2V4Y2VwdGlvbi5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvZmFjYWRlL2NvbGxlY3Rpb24uanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL2ZhY2FkZS9leGNlcHRpb25faGFuZGxlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL2ZhY2FkZS9sYW5nLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbXBpbGVyL3NyYy9mYWNhZGUvcHJvbWlzZS5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvaHRtbF9hc3QuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL2h0bWxfbGV4ZXIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL2h0bWxfcGFyc2VyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbXBpbGVyL3NyYy9odG1sX3RhZ3MuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL2lkZW50aWZpZXJzLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbXBpbGVyL3NyYy9tZXRhZGF0YV9yZXNvbHZlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvb2ZmbGluZV9jb21waWxlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvb3V0cHV0L2Fic3RyYWN0X2VtaXR0ZXIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL291dHB1dC9hYnN0cmFjdF9qc19lbWl0dGVyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbXBpbGVyL3NyYy9vdXRwdXQvZGFydF9lbWl0dGVyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbXBpbGVyL3NyYy9vdXRwdXQvaW50ZXJwcmV0aXZlX3ZpZXcuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL291dHB1dC9vdXRwdXRfYXN0LmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbXBpbGVyL3NyYy9vdXRwdXQvb3V0cHV0X2ludGVycHJldGVyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbXBpbGVyL3NyYy9vdXRwdXQvb3V0cHV0X2ppdC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvb3V0cHV0L3BhdGhfdXRpbC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvb3V0cHV0L3RzX2VtaXR0ZXIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL3BhcnNlX3V0aWwuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL3BpcGVfcmVzb2x2ZXIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL3Byb3ZpZGVyX3BhcnNlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvcnVudGltZV9jb21waWxlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvc2NoZW1hL2RvbV9lbGVtZW50X3NjaGVtYV9yZWdpc3RyeS5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvc2NoZW1hL2VsZW1lbnRfc2NoZW1hX3JlZ2lzdHJ5LmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbXBpbGVyL3NyYy9zZWxlY3Rvci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvc2hhZG93X2Nzcy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvc3R5bGVfY29tcGlsZXIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL3N0eWxlX3VybF9yZXNvbHZlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvdGVtcGxhdGVfYXN0LmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbXBpbGVyL3NyYy90ZW1wbGF0ZV9wYXJzZXIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL3RlbXBsYXRlX3ByZXBhcnNlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvdXJsX3Jlc29sdmVyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbXBpbGVyL3NyYy91dGlsLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbXBpbGVyL3NyYy92aWV3X2NvbXBpbGVyL2NvbXBpbGVfYmluZGluZy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvdmlld19jb21waWxlci9jb21waWxlX2VsZW1lbnQuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL3ZpZXdfY29tcGlsZXIvY29tcGlsZV9tZXRob2QuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL3ZpZXdfY29tcGlsZXIvY29tcGlsZV9waXBlLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbXBpbGVyL3NyYy92aWV3X2NvbXBpbGVyL2NvbXBpbGVfcXVlcnkuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL3ZpZXdfY29tcGlsZXIvY29tcGlsZV92aWV3LmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvbXBpbGVyL3NyYy92aWV3X2NvbXBpbGVyL2NvbnN0YW50cy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvdmlld19jb21waWxlci9ldmVudF9iaW5kZXIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL3ZpZXdfY29tcGlsZXIvZXhwcmVzc2lvbl9jb252ZXJ0ZXIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL3ZpZXdfY29tcGlsZXIvbGlmZWN5Y2xlX2JpbmRlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvdmlld19jb21waWxlci9wcm9wZXJ0eV9iaW5kZXIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL3ZpZXdfY29tcGlsZXIvdXRpbC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvdmlld19jb21waWxlci92aWV3X2JpbmRlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvdmlld19jb21waWxlci92aWV3X2J1aWxkZXIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29tcGlsZXIvc3JjL3ZpZXdfY29tcGlsZXIvdmlld19jb21waWxlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMvdmlld19yZXNvbHZlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb21waWxlci9zcmMveGhyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvaW5kZXguanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9wcml2YXRlX2V4cG9ydC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL3NyYy9hcHBsaWNhdGlvbl9jb21tb25fcHJvdmlkZXJzLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL2FwcGxpY2F0aW9uX3JlZi5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL3NyYy9hcHBsaWNhdGlvbl90b2tlbnMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvY2hhbmdlX2RldGVjdGlvbi5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL3NyYy9jaGFuZ2VfZGV0ZWN0aW9uL2NoYW5nZV9kZXRlY3Rpb24uanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvY2hhbmdlX2RldGVjdGlvbi9jaGFuZ2VfZGV0ZWN0aW9uX3V0aWwuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvY2hhbmdlX2RldGVjdGlvbi9jaGFuZ2VfZGV0ZWN0b3JfcmVmLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL2NoYW5nZV9kZXRlY3Rpb24vY29uc3RhbnRzLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL2NoYW5nZV9kZXRlY3Rpb24vZGlmZmVycy9kZWZhdWx0X2l0ZXJhYmxlX2RpZmZlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL3NyYy9jaGFuZ2VfZGV0ZWN0aW9uL2RpZmZlcnMvZGVmYXVsdF9rZXl2YWx1ZV9kaWZmZXIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvY2hhbmdlX2RldGVjdGlvbi9kaWZmZXJzL2l0ZXJhYmxlX2RpZmZlcnMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvY2hhbmdlX2RldGVjdGlvbi9kaWZmZXJzL2tleXZhbHVlX2RpZmZlcnMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvY29uc29sZS5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL3NyYy9kZWJ1Zy9kZWJ1Z19ub2RlLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL2RlYnVnL2RlYnVnX3JlbmRlcmVyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL2RpLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL2RpL2RlY29yYXRvcnMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvZGkvZm9yd2FyZF9yZWYuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvZGkvaW5qZWN0b3IuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvZGkvbWV0YWRhdGEuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvZGkvb3BhcXVlX3Rva2VuLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL2RpL3Byb3ZpZGVyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL2RpL3Byb3ZpZGVyX3V0aWwuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvZGkvcmVmbGVjdGl2ZV9leGNlcHRpb25zLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL2RpL3JlZmxlY3RpdmVfaW5qZWN0b3IuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvZGkvcmVmbGVjdGl2ZV9rZXkuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvZGkvcmVmbGVjdGl2ZV9wcm92aWRlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL3NyYy9mYWNhZGUvYXN5bmMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvZmFjYWRlL2Jhc2Vfd3JhcHBlZF9leGNlcHRpb24uanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvZmFjYWRlL2NvbGxlY3Rpb24uanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvZmFjYWRlL2V4Y2VwdGlvbl9oYW5kbGVyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL2ZhY2FkZS9leGNlcHRpb25zLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL2ZhY2FkZS9sYW5nLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL2ZhY2FkZS9wcm9taXNlLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL2xpbmtlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL3NyYy9saW5rZXIvY29tcG9uZW50X2ZhY3RvcnkuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvbGlua2VyL2NvbXBvbmVudF9yZXNvbHZlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL3NyYy9saW5rZXIvZGVidWdfY29udGV4dC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL3NyYy9saW5rZXIvZHluYW1pY19jb21wb25lbnRfbG9hZGVyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL2xpbmtlci9lbGVtZW50LmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL2xpbmtlci9lbGVtZW50X2luamVjdG9yLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL2xpbmtlci9lbGVtZW50X3JlZi5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL3NyYy9saW5rZXIvZXhjZXB0aW9ucy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL3NyYy9saW5rZXIvcXVlcnlfbGlzdC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL3NyYy9saW5rZXIvdGVtcGxhdGVfcmVmLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL2xpbmtlci92aWV3LmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL2xpbmtlci92aWV3X2NvbnRhaW5lcl9yZWYuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvbGlua2VyL3ZpZXdfcmVmLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL2xpbmtlci92aWV3X3R5cGUuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvbGlua2VyL3ZpZXdfdXRpbHMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvbWV0YWRhdGEuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvbWV0YWRhdGEvZGkuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvbWV0YWRhdGEvZGlyZWN0aXZlcy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL3NyYy9tZXRhZGF0YS9saWZlY3ljbGVfaG9va3MuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvbWV0YWRhdGEvdmlldy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL3NyYy9wbGF0Zm9ybV9jb21tb25fcHJvdmlkZXJzLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL3BsYXRmb3JtX2RpcmVjdGl2ZXNfYW5kX3BpcGVzLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL3Byb2ZpbGUvcHJvZmlsZS5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL3NyYy9wcm9maWxlL3d0Zl9pbXBsLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL3Byb2ZpbGUvd3RmX2luaXQuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvcmVmbGVjdGlvbi9yZWZsZWN0aW9uLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL3JlZmxlY3Rpb24vcmVmbGVjdGlvbl9jYXBhYmlsaXRpZXMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvcmVmbGVjdGlvbi9yZWZsZWN0b3IuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvcmVmbGVjdGlvbi9yZWZsZWN0b3JfcmVhZGVyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL3JlbmRlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL3NyYy9yZW5kZXIvYXBpLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL3NlY3VyaXR5LmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL3Rlc3RhYmlsaXR5L3Rlc3RhYmlsaXR5LmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL3V0aWwuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvdXRpbC9kZWNvcmF0b3JzLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL3pvbmUuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9zcmMvem9uZS9uZ196b25lLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2NvcmUvc3JjL3pvbmUvbmdfem9uZV9pbXBsLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2h0dHAvaHR0cC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9odHRwL2luZGV4LmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2h0dHAvc3JjL2JhY2tlbmRzL2Jyb3dzZXJfanNvbnAuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvaHR0cC9zcmMvYmFja2VuZHMvYnJvd3Nlcl94aHIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvaHR0cC9zcmMvYmFja2VuZHMvanNvbnBfYmFja2VuZC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9odHRwL3NyYy9iYWNrZW5kcy94aHJfYmFja2VuZC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9odHRwL3NyYy9iYXNlX3JlcXVlc3Rfb3B0aW9ucy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9odHRwL3NyYy9iYXNlX3Jlc3BvbnNlX29wdGlvbnMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvaHR0cC9zcmMvZW51bXMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvaHR0cC9zcmMvZmFjYWRlL2Jhc2Vfd3JhcHBlZF9leGNlcHRpb24uanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvaHR0cC9zcmMvZmFjYWRlL2NvbGxlY3Rpb24uanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvaHR0cC9zcmMvZmFjYWRlL2V4Y2VwdGlvbl9oYW5kbGVyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2h0dHAvc3JjL2ZhY2FkZS9leGNlcHRpb25zLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2h0dHAvc3JjL2ZhY2FkZS9sYW5nLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2h0dHAvc3JjL2hlYWRlcnMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvaHR0cC9zcmMvaHR0cC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9odHRwL3NyYy9odHRwX3V0aWxzLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2h0dHAvc3JjL2ludGVyZmFjZXMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvaHR0cC9zcmMvc3RhdGljX3JlcXVlc3QuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvaHR0cC9zcmMvc3RhdGljX3Jlc3BvbnNlLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL2h0dHAvc3JjL3VybF9zZWFyY2hfcGFyYW1zLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYy9jb3JlX3ByaXZhdGUuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci1keW5hbWljL2luZGV4LmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYy9wbGF0Zm9ybV9icm93c2VyX2R5bmFtaWMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci1keW5hbWljL3NyYy9mYWNhZGUvYmFzZV93cmFwcGVkX2V4Y2VwdGlvbi5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyLWR5bmFtaWMvc3JjL2ZhY2FkZS9jb2xsZWN0aW9uLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYy9zcmMvZmFjYWRlL2V4Y2VwdGlvbl9oYW5kbGVyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYy9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci1keW5hbWljL3NyYy9mYWNhZGUvbGFuZy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyLWR5bmFtaWMvc3JjL2ZhY2FkZS9wcm9taXNlLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYy9zcmMveGhyL3hocl9jYWNoZS5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyLWR5bmFtaWMvc3JjL3hoci94aHJfaW1wbC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL2NvcmVfcHJpdmF0ZS5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL2luZGV4LmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXIvcHJpdmF0ZV9leHBvcnQuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci9zcmMvYW5pbWF0ZS9hbmltYXRpb24uanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci9zcmMvYW5pbWF0ZS9hbmltYXRpb25fYnVpbGRlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL3NyYy9hbmltYXRlL2Jyb3dzZXJfZGV0YWlscy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL3NyYy9hbmltYXRlL2Nzc19hbmltYXRpb25fYnVpbGRlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL3NyYy9hbmltYXRlL2Nzc19hbmltYXRpb25fb3B0aW9ucy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL3NyYy9icm93c2VyL2Jyb3dzZXJfYWRhcHRlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL3NyYy9icm93c2VyL2dlbmVyaWNfYnJvd3Nlcl9hZGFwdGVyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXIvc3JjL2Jyb3dzZXIvbG9jYXRpb24vYnJvd3Nlcl9wbGF0Zm9ybV9sb2NhdGlvbi5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL3NyYy9icm93c2VyL3Rlc3RhYmlsaXR5LmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXIvc3JjL2Jyb3dzZXIvdGl0bGUuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci9zcmMvYnJvd3Nlci90b29scy9jb21tb25fdG9vbHMuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci9zcmMvYnJvd3Nlci90b29scy90b29scy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL3NyYy9icm93c2VyX2NvbW1vbi5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL3NyYy9kb20vZGVidWcvYnkuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci9zcmMvZG9tL2RlYnVnL25nX3Byb2JlLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXIvc3JjL2RvbS9kb21fYWRhcHRlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL3NyYy9kb20vZG9tX3JlbmRlcmVyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXIvc3JjL2RvbS9kb21fdG9rZW5zLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXIvc3JjL2RvbS9ldmVudHMvZG9tX2V2ZW50cy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL3NyYy9kb20vZXZlbnRzL2V2ZW50X21hbmFnZXIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci9zcmMvZG9tL2V2ZW50cy9oYW1tZXJfY29tbW9uLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXIvc3JjL2RvbS9ldmVudHMvaGFtbWVyX2dlc3R1cmVzLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXIvc3JjL2RvbS9ldmVudHMva2V5X2V2ZW50cy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL3NyYy9kb20vc2hhcmVkX3N0eWxlc19ob3N0LmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXIvc3JjL2RvbS91dGlsLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXIvc3JjL2ZhY2FkZS9iYXNlX3dyYXBwZWRfZXhjZXB0aW9uLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXIvc3JjL2ZhY2FkZS9icm93c2VyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXIvc3JjL2ZhY2FkZS9jb2xsZWN0aW9uLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXIvc3JjL2ZhY2FkZS9leGNlcHRpb25faGFuZGxlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL3NyYy9mYWNhZGUvZXhjZXB0aW9ucy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL3NyYy9mYWNhZGUvbGFuZy5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL3NyYy9mYWNhZGUvbWF0aC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL3NyYy9wbGF0Zm9ybV9icm93c2VyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXIvc3JjL3BsYXRmb3JtX2Jyb3dzZXJfc3RhdGljLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXIvc3JjL3NlY3VyaXR5L2RvbV9zYW5pdGl6YXRpb25fc2VydmljZS5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9AYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL3NyYy9zZWN1cml0eS9zdHlsZV9zYW5pdGl6ZXIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci9zcmMvc2VjdXJpdHkvdXJsX3Nhbml0aXplci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9pY2FsL2ljYWwuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvcnhqcy9PYnNlcnZhYmxlLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL3J4anMvT2JzZXJ2ZXIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvcnhqcy9TdWJqZWN0LmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL3J4anMvU3ViamVjdFN1YnNjcmlwdGlvbi5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9yeGpzL1N1YnNjcmliZXIuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvcnhqcy9TdWJzY3JpcHRpb24uanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvcnhqcy9vYnNlcnZhYmxlL1Byb21pc2VPYnNlcnZhYmxlLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL3J4anMvb3BlcmF0b3IvdG9Qcm9taXNlLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL3J4anMvc3ltYm9sL3J4U3Vic2NyaWJlci5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9yeGpzL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvcnhqcy91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCIvVXNlcnMvYWxlam9uZXh0L1Byb3llY3Rvcy9ub2RlX21vZHVsZXMvcnhqcy91dGlsL2Vycm9yT2JqZWN0LmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL3J4anMvdXRpbC9pc0FycmF5LmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL3J4anMvdXRpbC9pc0Z1bmN0aW9uLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL3J4anMvdXRpbC9pc09iamVjdC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9yeGpzL3V0aWwvcm9vdC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9yeGpzL3V0aWwvdG9TdWJzY3JpYmVyLmpzIiwiL1VzZXJzL2FsZWpvbmV4dC9Qcm95ZWN0b3Mvbm9kZV9tb2R1bGVzL3J4anMvdXRpbC90cnlDYXRjaC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9pbmRleC5qcyIsIi9Vc2Vycy9hbGVqb25leHQvUHJveWVjdG9zL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9wb255ZmlsbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtZQ0FBLElBQUEsT0FBQSxRQUFBLGlCQUNBLHdCQUFBLFFBQUEscUNBQ0EsUUFBQSxRQUFBLG1CQUNBLE1BQUEsUUFBQSxpQkFDQSxLQUFBLFFBQUEsb0JBRUEsRUFBQSxNQUFBLG1CQUNBLEVBQUEsd0JBQUEsV0FBQSxLQUFBLEtBQWUsTUFBQSxnQkFFZCxFQUFBLE1BQUEsU0FBQSxNQUFBLFlBQXFCLFNBQUEsTUFBQSxzQkFDckIsRUFBQSxNQUFBLFNBQUEsUUFBQSxrQkFBNEIsU0FBQSxRQUFBOzs7bWRDVjdCLFFBQUEsUUFBQSxtQkFDQSxNQUFBLFFBQUEsaUJBQ0EsTUFBQSxRQUFBLGlCQUNBLE1BQUEsUUFBQSxVQUNBLE9BQUEsUUFBQSxXQVNhLFlBQUEsV0FQWixFQUFBLE1BQUEsWUFDQSxTQUFVLE9BQ1YsZUFBZSxNQUFBLGdCQUNmLFlBQVksUUFBQSxnQkFBQSxRQUFBLGdCQUFBLE1BQUEsTUFDWixZQUFhLE9BQU8sSUFBSSxNQUFRLFlBQ2hDLE9BQVEsUUFBQSx1Q0FVUixRQUFBLEdBQWEsR0FBWSxnQkFBQSxLQUFBLEdBQUEsS0FQekIsV0FDQyxLQUFPLEdBQ1AsTUFBUSxLQUNSLE9BQVMsR0FDVCxNQUFPLEdBSVAsS0FBSyxLQUFPLEVBQ1osS0FBSyxLQUFLLGdCQUFnQixJQUFNLE9BQU8sSUFBSSxpRUFHbEMsR0FBQSxHQUFBLElBQ1QsU0FBUSxJQUFSLE1BQUEsTUFDRyxLQUFLLFVBQVUsT0FDakIsS0FBSyxVQUFVLE1BQVEsS0FDdkIsS0FBSyxLQUNILEtBQUssT0FBTyxJQUFJLFNBQVUsS0FBSyxVQUFVLEtBQUssWUFDOUMsVUFBVSxT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LElBQ1IsS0FBUSxJQUNSLE9BQVUsSUFDVixPQUFVLElBQ1YsT0FBVSxJQUNWLE9BQVUsSUFDVixNQUFTLElBQ1QsTUFBUyxJQUNULE1BQVMsSUFDVCxPQUFVLElBQ1YsT0FBVSxJQUNWLE1BQVMsSUFDVCxNQUFTLElBQ1QsTUFBTyxJQUNQLEtBQVEsSUFDUixLQUFRLElBQ1IsT0FBVSxJQUNWLEtBQVEsSUFDUixLQUFRLElBQ1IsS0FBUSxJQUNSLE1BQVMsSUFDVCxNQUFTLElBQ1QsT0FBVSxJQUNWLE9BQVUsSUFDVixLQUFRLElBQ1IsTUFBUyxJQUNULEtBQVEsSUFDUixLQUFRLElBQ1IsTUFBUyxJQUNULE1BQVMsSUFDVCxHQUFNLElBQ04sT0FBVSxJQUNWLE9BQVUsSUFDVixJQUFPLElBQ1AsSUFBTyxJQUNQLE9BQVUsSUFDVixNQUFTLElBQ1QsR0FBTSxJQUNOLEtBQVEsSUFDUixNQUFTLElBQ1QsTUFBUyxJQUNULE9BQVUsSUFDVixNQUFTLElBQ1QsR0FBTSxJQUNOLEdBQU0sSUFDTixNQUFTLElBQ1QsS0FBUSxJQUNSLE1BQVMsSUFDVCxHQUFNLElBQ04sR0FBTSxJQUNOLElBQU8sSUFDUCxNQUFTLElBQ1QsS0FBUSxJQUNSLE9BQVUsSUFDVixPQUFVLElBQ1YsR0FBTSxJQUNOLEdBQU0sSUFDTixPQUFVLElBQ1YsT0FBVSxJQUNWLE1BQVMsSUFDVCxNQUFTLElBQ1QsTUFBUyxJQUNULE1BQVMsSUFDVCxPQUFVLElBQ1YsT0FBVSxJQUNWLE1BQVMsSUFDVCxNQUFTLElBQ1QsTUFBUyxJQUNULFFBQVcsSUFDWCxRQUFXLElBQ1gsTUFBUyxJQUNULEdBQU0sSUFDTixLQUFRLElBQ1IsS0FBUSxJQUNSLE9BQVUsSUFDVixPQUFVLElBQ1YsT0FBVSxJQUNWLE9BQVUsSUFDVixPQUFVLElBQ1YsS0FBUSxJQUNSLEtBQVEsSUFDUixLQUFRLElBQ1IsT0FBVSxJQUNWLEtBQVEsSUFDUixJQUFPLElBQ1AsSUFBTyxJQUNQLEdBQU0sSUFDTixHQUFNLElBQ04sSUFBTyxJQUNQLE9BQVUsSUFDVixNQUFT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QUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUM5QyxNQUNKLEtBQUssSUFDRCxFQUFNLEVBQVEsRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFDbEQsTUFDSixLQUFLLElBQ0QsRUFBTSxFQUFRLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFDdEQsTUFDSixLQUFLLElBQ0QsRUFBTSxFQUFRLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSyxFQUMzRCxNQUNKLEtBQUssSUFDRCxFQUFNLEVBQVEsRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFLLEVBQUssRUFDaEUsTUFDSixLQUFLLElBQ0QsRUFBTSxFQUFRLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSyxFQUFLLEVBQUssRUFDckUsTUFDSixLQUFLLElBQ0QsRUFBTSxFQUFRLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSyxFQUFLLEVBQUssRUFBSyxFQUMxRSxNQUNKLEtBQUssSUFDRCxFQUFNLEVBQVEsRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFLLEVBQUssRUFBSyxFQUFLLEVBQUssRUFDL0UsTUFDSixLQUFLLElBQ0QsRUFBTSxFQUFRLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSyxFQUFLLEVBQUssRUFBSyxFQUFLLEVBQUssRUFDcEYsTUFDSixLQUFLLElBQ0QsRUFBTSxFQUFRLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSyxFQUFLLEVBQUssRUFBSyxFQUFLLEVBQUssRUFBSyxFQUN6RixNQUNKLEtB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LFVBQVUsUUFBVSxTQUFVLEdBQ2pELE9BQVEsRUFBRSxRQUNOLElBQUssR0FDRCxNQUFPLFlBQWMsTUFBTyxJQUFJLEdBQ3BDLEtBQUssR0FDRCxNQUFPLFVBQVUsR0FBTSxNQUFPLElBQUksR0FBRSxHQUN4QyxLQUFLLEdBQ0QsTUFBTyxVQUFVLEVBQUksR0FBTSxNQUFPLElBQUksR0FBRSxFQUFJLEdBQ2hELEtBQUssR0FDRCxNQUFPLFVBQVUsRUFBSSxFQUFJLEdBQU0sTUFBTyxJQUFJLEdBQUUsRUFBSSxFQUFJLEdBQ3hELEtBQUssR0FDRCxNQUFPLFVBQVUsRUFBSSxFQUFJLEVBQUksR0FBTSxNQUFPLElBQUksR0FBRSxFQUFJLEVBQUksRUFBSSxHQUNoRSxLQUFLLEdBQ0QsTUFBTyxVQUFVLEVBQUksRUFBSSxFQUFJLEVBQUksR0FBTSxNQUFPLElBQUksR0FBRSxFQUFJLEVBQUksRUFBSSxFQUFJLEdBQ3hFLEtBQUssR0FDRCxNQUFPLFVBQVUsRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEdBQ2pDLE1BQU8sSUFBSSxHQUFFLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxHQUV6QyxLQUFLLEdBQ0QsTUFBTyxVQUFVLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEdBQ3JDLE1BQU8sSUFBSSxHQUFFLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEdBRTdDLEtBQUssR0FDRCxNQUFPLFVBQVUsRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxHQUN6QyxNQUFPLElBQUksR0FBRSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEdBRWpELEtBQUssR0FDRCxNQUFPLFVBQVUsRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEdBQzdDLE1BQU8sSUFBSSxHQUFFLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxHQUVyRCxLQUFLLElBQ0QsTUFBTyxVQUFVLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEdBQ2pELE1BQU8sSUFBSSxHQUFFLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEdBRXpELEtBQUssSUFDRCxNQUFPLFVBQVUsRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSyxHQUN0RCxNQUFPLElBQUksR0FBRSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFLLEdBRTlELEtBQUssSUFDRCxNQUFPLFVBQVUsRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSyxFQUFLLEdBQzNELE1BQU8sSUFBSSxHQUFFLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUssRUFBSyxHQUVuRSxLQUFLLElBQ0QsTUFBTyxVQUFVLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUssRUFBSyxFQUFLLEdBQ2hFLE1BQU8sSUFBSSxHQUFFLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUssRUFBSyxFQUFLLEdBRXhFLEtBQUssSUFDRCxNQUFPLFVBQVUsRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSyxFQUFLLEVBQUssRUFBSyxHQUNyRSxNQUFPLElBQUksR0FBRSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFLLEVBQUssRUFBSyxFQUFLLEdBRTdFLEtBQUssSUFDRCxNQUFPLFVBQVUsRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSyxFQUFLLEVBQUssRUFBSyxFQUFLLEdBQzFFLE1BQU8sSUFBSSxHQUFFLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUssRUFBSyxFQUFLLEVBQUssRUFBSyxHQUVsRixLQUFLLElBQ0QsTUFBTyxVQUFVLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUssRUFBSyxFQUFLLEVBQUssRUFBSyxFQUFLLEdBQy9FLE1BQU8sSUFBSSxHQUFFLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUssRUFBSyxFQUFLLEVBQUssRUFBSyxFQUFLLEdBRXZGLEtBQUssSUFDRCxNQUFPLFVBQVUsRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSyxFQUFLLEVBQUssRUFBSyxFQUFLLEVBQUssRUFBSyxHQUNwRixNQUFPLElBQUksR0FBRSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFLLEVBQUssRUFBSyxFQUFLLEVBQUssRUFBSyxFQUFLLEdBRTVGLEtBQUssSUFDRCxNQUFPLFVBQVUsRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSyxFQUFLLEVBQUssRUFBSyxFQUFLLEVBQUssRUFBSyxFQUFLLEdBQ3pGLE1BQU8sSUFBSSxHQUFFLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUssRUFBSyxFQUFLLEVBQUssRUFBSyxFQUFLLEVBQUssRUFBSyxHQUVqRyxLQUFLLElBQ0QsTUFBTyxVQUFVLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUssRUFBSyxFQUFLLEVBQUssRUFBSyxFQUFLLEVBQUssRUFBSyxFQUFLLEdBQzlGLE1BQU8sSUFBSSxHQUFFLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUssRUFBSyxFQUFLLEVBQUssRUFBSyxFQUFLLEVBQUssRUFBSyxFQUFLLEdBRXRHLEtBQUssSUFDRCxNQUFPLFVBQVUsRUFBSSxFQUFJ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QUFTLEVBQU8sWUFFaEIsRUFBUyxFQUFPLGNBQ2hCLEVBQU8sV0FBYSxHQUdyQixFQUFTLGVBR0giLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiaW1wb3J0IHtwcm92aWRlLCBlbmFibGVQcm9kTW9kZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge2Jvb3RzdHJhcH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci1keW5hbWljJztcbmltcG9ydCB7TG9jYXRpb25TdHJhdGVneSwgSGFzaExvY2F0aW9uU3RyYXRlZ3l9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge0hUVFBfUFJPVklERVJTLCBIdHRwLCBCYXNlUmVxdWVzdE9wdGlvbnMsIFhIUkJhY2tlbmR9IGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHthcHB9IGZyb20gJy4vY29tcG9uZW50L2FwcCc7XG5cbmVuYWJsZVByb2RNb2RlKCk7XG5ib290c3RyYXAoYXBwLCBbXG5cdEhUVFBfUFJPVklERVJTLFxuXHRwcm92aWRlKFhIUkJhY2tlbmQsIHt1c2VDbGFzczogQmFzZVJlcXVlc3RPcHRpb25zfSksXG5cdHByb3ZpZGUoTG9jYXRpb25TdHJhdGVneSwgeyB1c2VDbGFzczogSGFzaExvY2F0aW9uU3RyYXRlZ3kgfSlcbl0pO1xuIiwiaW1wb3J0IHtDT1JFX0RJUkVDVElWRVMsIEZPUk1fRElSRUNUSVZFUywgQ09NTU9OX1BJUEVTfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtDb21wb25lbnR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtIVFRQX1BST1ZJREVSUywgSHR0cH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQge2xpc3R9IGZyb20gJy4vbGlzdCc7XG5pbXBvcnQge3NoYXJlfSBmcm9tICcuL3NoYXJlJztcblxuQENvbXBvbmVudCh7XG5cdHNlbGVjdG9yOiAnYm9keScsXG5cdHZpZXdQcm92aWRlcnM6IFtIVFRQX1BST1ZJREVSU10sXG5cdGRpcmVjdGl2ZXM6IFsgQ09SRV9ESVJFQ1RJVkVTLCBGT1JNX0RJUkVDVElWRVMsIGxpc3RdLFxuXHR0ZW1wbGF0ZVVybDogd2luZG93LmVudi5TSEFSRSArICdob21lLmh0bWwnLFxuXHRwaXBlcyA6IFsgQ09NTU9OX1BJUEVTIF1cbn0pXG5leHBvcnQgY2xhc3MgYXBwIHtcblx0c3VzY3JpYmVyID0ge1xuXHRcdG1haWwgOiAnJyxcblx0XHRlcnJvciA6IG51bGwsXG5cdFx0c2VhcmNoIDogJycsXG5cdFx0c2VuZCA6IGZhbHNlXG5cdH1cblxuXHRjb25zdHJ1Y3RvciggaHR0cDogSHR0cCkge1xuXHRcdHRoaXMuaHR0cCA9IGh0dHA7XG5cdFx0dGhpcy5odHRwLl9kZWZhdWx0T3B0aW9ucy51cmwgPSB3aW5kb3cuZW52LlNVU0NSSUJFO1xuXHR9XG5cblx0c3VzY3JpYmUoKXtcblx0XHRjb25zb2xlLmxvZyhIdHRwKVxuXHRcdGlmKHRoaXMuc3VzY3JpYmVyLm1haWwpe1xuXHRcdFx0dGhpcy5zdXNjcmliZXIuZXJyb3IgPSBudWxsXG5cdFx0XHR0aGlzLmh0dHBcblx0XHRcdFx0LnBvc3Qod2luZG93LmVudi5TVVNDUklCRSwgSlNPTi5zdHJpbmdpZnkodGhpcy5zdXNjcmliZXIpIClcblx0XHRcdFx0LnN1YnNjcmliZShyZXMgPT4ge1xuXHRcdFx0XHRcdGxldCBydCA9IHJlcy5qc29uKCk7XG5cdFx0XHRcdFx0aWYocnQuZXJyb3Ipe1xuXHRcdFx0XHRcdFx0dGhpcy5zdXNjcmliZXIuZXJyb3IgPSBydC5lcnJvcjtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dGhpcy5zdXNjcmliZXIubWFpbCA9ICcnO1xuXHRcdFx0XHRcdFx0dGhpcy5zdXNjcmliZXIuc2VuZCA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcdFxuXHRcdH1cblx0XHRcblx0fVxufVxuIiwiaW1wb3J0IHtDT1JFX0RJUkVDVElWRVMsIEZPUk1fRElSRUNUSVZFUywgQ09NTU9OX1BJUEVTfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtDb21wb25lbnQsIElucHV0LCBPbkluaXR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtsaXZlc30gZnJvbSAnLi9zZXJ2aWNlJztcbmltcG9ydCB7c2hhcmV9IGZyb20gJy4vc2hhcmUnO1xuaW1wb3J0IHtzZWFyY2h9IGZyb20gJy4uL3BpcGUvc2VhcmNoJztcbmltcG9ydCB7dGltZX0gZnJvbSAnLi4vcGlwZS90aW1lJztcblxuLy8gMjAyNjUgMzUzNzNcbkBDb21wb25lbnQoe1xuXHRzZWxlY3RvcjogJ2xpc3QnLFxuXHRwcm92aWRlcnM6IFsgbGl2ZXMgXSxcblx0ZGlyZWN0aXZlczogW3NoYXJlLCBDT1JFX0RJUkVDVElWRVNdLFxuXHR0ZW1wbGF0ZVVybDogd2luZG93LmVudi5TSEFSRSArICcuL2xpc3QuaHRtbCcsXG5cdHBpcGVzIDogWyBzZWFyY2gsIHRpbWUsIENPTU1PTl9QSVBFUyBdXG59KVxuZXhwb3J0IGNsYXNzIGxpc3QgaW1wbGVtZW50cyBPbkluaXQge1xuXHRASW5wdXQoKSBxdWVyeTtcblxuXHRjb25zdHJ1Y3RvcihsOiBsaXZlcykge1xuXHRcdHRoaXMubGl2ZSA9IGw7XG5cdH1cblxuXHRuZ09uSW5pdCgpe1xuXHRcdHRoaXMubGl2ZS5nZXRBbGwoKTtcblx0fVxufSIsImltcG9ydCB7SW5qZWN0YWJsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge2ljYWx9IGZyb20gJ2ljYWwvaWNhbC5qcydcbmltcG9ydCB7SHR0cH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBsaXZlcyB7XG5cdGV2ZW50cyA9IFtdO1xuXHRjb25zdHJ1Y3RvciggaHR0cDogSHR0cCkge1xuXHRcdHRoaXMuaHR0cCA9IGh0dHA7XG5cdFx0dGhpcy5odHRwLl9kZWZhdWx0T3B0aW9ucy51cmwgPSB3aW5kb3cuZW52LkNBTDtcblx0fVxuXG5cdGdldEFsbCgpOiBQcm9taXNlIHtcblx0XHRyZXR1cm4gdGhpcy5odHRwLmdldCgpLnN1YnNjcmliZShyZXMgPT4gdGhpcy5ldmVudHMgPSByZXMuanNvbigpLmV2ZW50KTtcblx0fVxuXG5cdGhhbmRsZUVycm9yKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcignQW4gZXJyb3Igb2NjdXJyZWQnLCBlcnJvcik7XG5cdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yLm1lc3NhZ2UgfHwgZXJyb3IpO1xuXHR9XG59IiwiaW1wb3J0IHtDT1JFX0RJUkVDVElWRVMsIENPTU1PTl9QSVBFU30gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7Q29tcG9uZW50LCAgSW5wdXQsIEF0dHJpYnV0ZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0hUVFBfUFJPVklERVJTLCBIdHRwfSBmcm9tICdAYW5ndWxhci9odHRwJztcblxuLyoqXG4gKiAgXCJVbmV4cGVjdGVkIGRpcmVjdGl2ZSB2YWx1ZSAndW5kZWZpbmVkJyBvbiB0aGUgVmlldyBvZiBjb21wb25lbnQgJ2FwcCdcIlxuICogPHNoYXJlIGlzPSd0d2l0dGVyJyB0ZXh0PSdTaGFyZSB0aGlzIHRleHQnIHZpYT0nQGFsZWpvbmV4dCcgfHwgb3B0aW9uYWwgLT4gd2lkdGg9MzAwIGhlaWdodD02MDAgbmFtZT0naGVsbG8nIC8+XG4gKi9cbkBDb21wb25lbnQoe1xuXHRzZWxlY3RvcjogJ3NoYXJlJyxcblx0dmlld1Byb3ZpZGVyczogW0hUVFBfUFJPVklERVJTXSxcblx0dGVtcGxhdGVVcmw6IHdpbmRvdy5lbnYuU0hBUkUgKyAnc2hhcmUuaHRtbCcsXG5cdGRpcmVjdGl2ZXM6IFsgQ09SRV9ESVJFQ1RJVkVTIF0sXG5cdHBpcGVzIDogWyBDT01NT05fUElQRVMgXVxufSlcbmV4cG9ydCBjbGFzcyBzaGFyZSB7XG5cblx0c3RhdGljIGZhY2Vib29rID0ge1xuXHRcdGljb24gOiAnZmFjZWJvb2snLFxuXHRcdHNoYXJlIChhYnNVcmwpIHtcblx0XHRcdHJldHVybiAnaHR0cDovL3d3dy5mYWNlYm9vay5jb20vc2hhcmVyLnBocD91PScgKyBhYnNVcmw7XG5cdFx0fSxcblx0XHRjb3VudCAoYWJzVXJsKSB7XG5cdFx0XHRyZXR1cm4gJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLz9jYWxsYmFjaz1KU09OX0NBTExCQUNLJmlkPScrIGFic1VybDtcblx0XHR9LFxuXHRcdGdldCAoZGF0YSkge1xuXHRcdFx0cmV0dXJuIGRhdGEuc2hhcmVzO1xuXHRcdH1cblx0fTtcblx0c3RhdGljIHR3aXR0ZXIgPSB7XG5cdFx0aWNvbiA6ICd0d2l0dGVyJyxcblx0XHRzaGFyZSAoYWJzVXJsLCB0ZXh0LCB2aWEpIHtcblx0XHRcdHJldHVybiAnaHR0cDovL3R3aXR0ZXIuY29tL3NoYXJlP3RleHQ9JyArIHRleHQgKyAnJnVybD0nICsgYWJzVXJsICsgJyZ2aWE9JyArIHZpYTtcblx0XHR9LFxuXHRcdGNvdW50IChhYnNVcmwpIHtcblx0XHRcdHJldHVybiAnaHR0cHM6Ly9jZG4uYXBpLnR3aXR0ZXIuY29tLzEvdXJscy9jb3VudC5qc29uP2NhbGxiYWNrPUpTT05fQ0FMTEJBQ0smdXJsPScrIGFic1VybDtcblx0XHR9LFxuXHRcdGdldCAoZGF0YSkge1xuXHRcdFx0cmV0dXJuIGRhdGEuY291bnQ7XG5cdFx0fVxuXHR9O1xuXHRzdGF0aWMgZ29vZ2xlID0ge1xuXHRcdGljb24gOiAnZ29vZ2xlLXBsdXMnLFxuXHRcdHNoYXJlKGFic1VybCkge1xuXHRcdFx0cmV0dXJuICdodHRwczovL3BsdXMuZ29vZ2xlLmNvbS9zaGFyZT91cmw9JysgYWJzVXJsO1xuXHRcdH1cblx0fTtcblx0c3RhdGljIHR1bWJsciA9IHtcblx0XHRpY29uIDogJ3R1bWJscicsXG5cdFx0c2hhcmUoYWJzVXJsKSB7XG5cdFx0XHRyZXR1cm4gJ2h0dHBzOi8vd3d3LnR1bWJsci5jb20vd2lkZ2V0cy9zaGFyZS90b29sP3NoYXJlU291cmNlPWxlZ2FjeSZjYW5vbmljYWxVcmw9JnVybD0nICsgYWJzVXJsO1xuXHRcdH1cblx0fTtcblx0c3RhdGljIHJlZGRpdCA9IHtcblx0XHRpY29uIDogJ3JlZGRpdC1hbGllbicsXG5cdFx0c2hhcmUgKGFic1VybCkge1xuXHRcdFx0cmV0dXJuICdodHRwczovL3d3dy5yZWRkaXQuY29tL3N1Ym1pdD91cmw9JyArIGFic1VybDtcblx0XHR9XG5cdH07XG5cdHN0YXRpYyBsaW5rZWRpbiA9IHtcblx0XHRpY29uIDogJ2xpbmtlZGluJyxcblx0XHRzaGFyZSAoYWJzVXJsKSB7XG5cdFx0XHRyZXR1cm4gJ2h0dHBzOi8vd3d3LmxpbmtlZGluLmNvbS9zaGFyZUFydGljbGU/bWluaT10cnVlJnVybD0nICsgYWJzVXJsO1xuXHRcdH0sXG5cdFx0Y291bnQgKGFic1VybCkge1xuXHRcdFx0cmV0dXJuICdodHRwczovL3d3dy5saW5rZWRpbi5jb20vY291bnRzZXJ2L2NvdW50L3NoYXJlP2NhbGxiYWNrPUpTT05fQ0FMTEJBQ0smZm9ybWF0PWpzb25wJnVybD0nKyBhYnNVcmw7XG5cdFx0fSxcblx0XHRnZXQgKGRhdGEpIHtcblx0XHRcdHJldHVybiBkYXRhLmNvdW50O1xuXHRcdH1cblx0fTtcblx0c3RhdGljIHBpbnRlcmVzdCA9IHtcblx0XHRpY29uIDogJ3BpbnRlcmVzdC1wJyxcblx0XHRzaGFyZSAoYWJzVXJsLCB0ZXh0LCB2aWEpIHtcblx0XHRcdHJldHVybiAnaHR0cDovL3BpbnRlcmVzdC5jb20vcGluL2NyZWF0ZS9idXR0b24vP3VybD0nICsgYWJzVXJsICsgJyZkZXNjcmlwdGlvbj0nICsgdGV4dCArICcmbWVkaWE9JyArIHZpYSA7XG5cdFx0fSxcblx0XHRjb3VudCAoYWJzVXJsKSB7XG5cdFx0XHRyZXR1cm4gJ2h0dHBzOi8vYXBpLnBpbnRlcmVzdC5jb20vdjEvdXJscy9jb3VudC5qc29uP2NhbGxiYWNrPUpTT05fQ0FMTEJBQ0smdXJsPScrIGFic1VybDtcblx0XHR9LFxuXHRcdGdldCAoZGF0YSkge1xuXHRcdFx0cmV0dXJuIGRhdGEuY291bnQ7XG5cdFx0fVxuXHR9O1xuXHRzdGF0aWMgeGluZyA9IHtcblx0XHRpY29uIDogJ3hpbmcnLFxuXHRcdHNoYXJlKGFic1VybCkge1xuXHRcdFx0cmV0dXJuICdodHRwczovL3d3dy54aW5nLXNoYXJlLmNvbS9hcHAvdXNlcj9vcD1zaGFyZTtzY19wPXhpbmctc2hhcmU7dXJsPScgKyBhYnNVcmw7XG5cdFx0fVxuXHR9O1xuXHRzdGF0aWMgZW1haWwgPSB7XG5cdFx0aWNvbiA6ICdlbnZlbG9wZS1vJyxcblx0XHRzaGFyZSAoYWJzVXJsLCB0ZXh0KSB7XG5cdFx0XHRyZXR1cm4gJ21haWx0bzo/c3ViamVjdD0nICsgdGV4dCArICcmYm9keT0nICsgYWJzVXJsO1xuXHRcdH1cblx0fTtcblxuXHRzdGF0aWMgQ0hBTkdFID0gWyAnaycsICdNJywgJ0InIF07XG5cdHN0YXRpYyBNVUxUSSA9IDEwMDA7XG5cdHN0YXRpYyBERUMgPSAxMDA7XG5cdFxuXHRASW5wdXQoKSBpcztcblx0QElucHV0KCkgdmlhO1xuXHRASW5wdXQoKSB0ZXh0O1xuXG5cdHN5c3RlbSA9IHt9O1xuXHR1cmwgPSAgd2luZG93LmVudi5TSEFSRTtcblx0bW9yZSA9ICcnO1xuXHRjb3VudCA9IDA7XG5cblx0bmdPbkluaXQoQEF0dHJpYnV0ZSgnaGVpZ2h0JykgaGVpZ2h0LCBAQXR0cmlidXRlKCd3aWR0aCcpIHdpZHRoLCBAQXR0cmlidXRlKCduYW1lJykgbmFtZSApe1xuXHRcdHRoaXMubmFtZSA9IG5hbWUgfHwgJ1NoYXJlJztcblx0XHR0aGlzLnN5c3RlbSA9IHNoYXJlW3RoaXMuaXNdO1xuXHRcdHRoaXMuc2V0dGluZyA9IHRoaXMud2luZG93cyh3aWR0aCwgaGVpZ2h0KTtcblx0fVxuXG5cdHBvc3QoKXtcblx0XHR2YXIgaHJlZiA9IHRoaXMuc3lzdGVtLnNoYXJlKHRoaXMudXJsLCBlbmNvZGVVUkkodGhpcy50ZXh0KSwgdGhpcy52aWEpO1xuXHRcdHZhciBuZXd3ID0gd2luZG93Lm9wZW4oaHJlZiwgdGhpcy5uYW1lLCB0aGlzLnNldHRpbmcpO1xuXHRcdGlmICh3aW5kb3cuZm9jdXMpIG5ld3cuZm9jdXMoKTtcblx0fVxuXG5cdHdpbmRvd3MgKHdpZHRoOiBOdW1iZXIgPSA2MDAsIGhlaWdodDogTnVtYmVyID0gMzAwKXtcblx0XHRsZXQgc2V0dGluZyA9ICdsb2NhdGlvbj0xLHN0YXR1cz0xLHNjcm9sbGJhcnM9MSc7XG5cdFx0c2V0dGluZyArPSAnLGhlaWdodD0nICsgaGVpZ2h0O1xuXHRcdHNldHRpbmcgKz0gJyx3aWR0aD0nICsgd2lkdGg7XG5cdFx0c2V0dGluZyArPSAnLHRvcD0nICsgKChzY3JlZW4uaGVpZ2h0IC8gMikgLSAgKCBoZWlnaHQgLyAyICkpO1xuXHRcdHNldHRpbmcgKz0gJyxsZWZ0PScgKyAoKHNjcmVlbi53aWR0aCAvIDIpIC0gKCB3aWR0aCAvIDIgKSk7XG5cdFx0cmV0dXJuIHNldHRpbmdcblx0fVxuXG59XG4iLCJpbXBvcnQge1BpcGUsIFBpcGVUcmFuc2Zvcm0sIEluamVjdGFibGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG4vKipcbiAqXG4gKiAgPGlucHV0IFsobW9kZWwpXT1cInF1ZXJ5XCIgdHlwZT1cInRleHRcIiAvPlxuICogIDx1bD5cbiAqIFx0XHQ8bGkgKm5nRm9yPVwibGV0IGhlcm8gb2YgaGVyb2VzIHwgc2VhcmNoOnF1ZXJ5XCIgPnt7aGVyby5uYW1lfX08L2xpPlxuICogIDwvdWw+XG4gKi9cblxuQFBpcGUoe1xuXHRuYW1lOiAnc2VhcmNoJyxcblx0cHVyZTogZmFsc2Vcbn0pXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3Mgc2VhcmNoIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XG5cdHN0YXRpYyB0aW1lIChhLCBiKXtcblx0XHRyZXR1cm4gTWF0aC5zaWduKG1vbWVudChhLnN0YXJ0KS5kaWZmKG1vbWVudChiLnN0YXJ0KSkpO1xuXHR9XG5cblx0dHJhbnNmb3JtKGl0ZW1zLCBhcmdzKSB7XG5cdFx0XG5cdFx0dmFyIGlzU2VhcmNoID0gZGF0YSA9PiB7XG5cdFx0XHR2YXIgaXNBbGwgPSBmYWxzZTtcblxuXHRcdFx0aWYodHlwZW9mIGRhdGEgPT09ICdvYmplY3QnICl7XG5cdFx0XHRcdGZvciAodmFyIHogaW4gZGF0YSkge1xuXHRcdFx0XHRcdGlmKGlzQWxsID0gaXNTZWFyY2goZGF0YVt6XSkgKXtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYodHlwZW9mIGFyZ3MgPT09ICdudW1iZXInKXtcblx0XHRcdFx0XHRpc0FsbCA9IGRhdGEgPT09IGFyZ3M7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aXNBbGwgPSBkYXRhLnRvU3RyaW5nKCkubWF0Y2goIG5ldyBSZWdFeHAoYXJncywgJ2knKSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IFxuXG5cdFx0XHRyZXR1cm4gaXNBbGw7XG5cdFx0fTtcblx0XHRcblx0XHRyZXR1cm4gaXRlbXMuZmlsdGVyKGlzU2VhcmNoKS5zb3J0KHNlYXJjaC50aW1lKTtcblx0fVxufVxuIiwiaW1wb3J0IHtQaXBlLCBQaXBlVHJhbnNmb3JtLCBJbmplY3RhYmxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuLyoqXG4gKlxuICogIDxpbnB1dCBbKG1vZGVsKV09XCJxdWVyeVwiIHR5cGU9XCJ0ZXh0XCIgLz5cbiAqICA8dWw+XG4gKiBcdFx0PGxpICpuZ0Zvcj1cImxldCBoZXJvIG9mIGhlcm9lcyB8IHNlYXJjaDpxdWVyeVwiID57e2hlcm8ubmFtZX19PC9saT5cbiAqICA8L3VsPlxuICovXG5cbkBQaXBlKHtcblx0bmFtZTogJ3RpbWUnLFxuXHRwdXJlOiBmYWxzZVxufSlcbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyB0aW1lIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XG5cdHRyYW5zZm9ybShkYXRlLCBhcmdzKSB7XG5cdFx0cmV0dXJuXHRtb21lbnQoZGF0ZSkuZm9ybWF0KGFyZ3MpO1xuXHR9XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5fX2V4cG9ydChyZXF1aXJlKCcuL3NyYy9waXBlcycpKTtcbl9fZXhwb3J0KHJlcXVpcmUoJy4vc3JjL2RpcmVjdGl2ZXMnKSk7XG5fX2V4cG9ydChyZXF1aXJlKCcuL3NyYy9mb3JtcycpKTtcbl9fZXhwb3J0KHJlcXVpcmUoJy4vc3JjL2NvbW1vbl9kaXJlY3RpdmVzJykpO1xuX19leHBvcnQocmVxdWlyZSgnLi9zcmMvbG9jYXRpb24nKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBmb3Jtc18xID0gcmVxdWlyZSgnLi9mb3JtcycpO1xudmFyIGRpcmVjdGl2ZXNfMSA9IHJlcXVpcmUoJy4vZGlyZWN0aXZlcycpO1xuLyoqXG4gKiBBIGNvbGxlY3Rpb24gb2YgQW5ndWxhciBjb3JlIGRpcmVjdGl2ZXMgdGhhdCBhcmUgbGlrZWx5IHRvIGJlIHVzZWQgaW4gZWFjaCBhbmQgZXZlcnkgQW5ndWxhclxuICogYXBwbGljYXRpb24uIFRoaXMgaW5jbHVkZXMgY29yZSBkaXJlY3RpdmVzIChlLmcuLCBOZ0lmIGFuZCBOZ0ZvciksIGFuZCBmb3JtcyBkaXJlY3RpdmVzIChlLmcuLFxuICogTmdNb2RlbCkuXG4gKlxuICogVGhpcyBjb2xsZWN0aW9uIGNhbiBiZSB1c2VkIHRvIHF1aWNrbHkgZW51bWVyYXRlIGFsbCB0aGUgYnVpbHQtaW4gZGlyZWN0aXZlcyBpbiB0aGUgYGRpcmVjdGl2ZXNgXG4gKiBwcm9wZXJ0eSBvZiB0aGUgYEBDb21wb25lbnRgIGRlY29yYXRvci5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIEluc3RlYWQgb2Ygd3JpdGluZzpcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge05nQ2xhc3MsIE5nSWYsIE5nRm9yLCBOZ1N3aXRjaCwgTmdTd2l0Y2hXaGVuLCBOZ1N3aXRjaERlZmF1bHQsIE5nTW9kZWwsIE5nRm9ybX0gZnJvbVxuICogJ0Bhbmd1bGFyL2NvbW1vbic7XG4gKiBpbXBvcnQge090aGVyRGlyZWN0aXZlfSBmcm9tICcuL215RGlyZWN0aXZlcyc7XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnbXktY29tcG9uZW50JyxcbiAqICAgdGVtcGxhdGVVcmw6ICdteUNvbXBvbmVudC5odG1sJyxcbiAqICAgZGlyZWN0aXZlczogW05nQ2xhc3MsIE5nSWYsIE5nRm9yLCBOZ1N3aXRjaCwgTmdTd2l0Y2hXaGVuLCBOZ1N3aXRjaERlZmF1bHQsIE5nTW9kZWwsIE5nRm9ybSxcbiAqIE90aGVyRGlyZWN0aXZlXVxuICogfSlcbiAqIGV4cG9ydCBjbGFzcyBNeUNvbXBvbmVudCB7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKiBvbmUgY291bGQgaW1wb3J0IGFsbCB0aGUgY29tbW9uIGRpcmVjdGl2ZXMgYXQgb25jZTpcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge0NPTU1PTl9ESVJFQ1RJVkVTfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuICogaW1wb3J0IHtPdGhlckRpcmVjdGl2ZX0gZnJvbSAnLi9teURpcmVjdGl2ZXMnO1xuICpcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ215LWNvbXBvbmVudCcsXG4gKiAgIHRlbXBsYXRlVXJsOiAnbXlDb21wb25lbnQuaHRtbCcsXG4gKiAgIGRpcmVjdGl2ZXM6IFtDT01NT05fRElSRUNUSVZFUywgT3RoZXJEaXJlY3RpdmVdXG4gKiB9KVxuICogZXhwb3J0IGNsYXNzIE15Q29tcG9uZW50IHtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0cy5DT01NT05fRElSRUNUSVZFUyA9IFtkaXJlY3RpdmVzXzEuQ09SRV9ESVJFQ1RJVkVTLCBmb3Jtc18xLkZPUk1fRElSRUNUSVZFU107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21tb25fZGlyZWN0aXZlcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG4vKipcbiogQG1vZHVsZVxuKiBAZGVzY3JpcHRpb25cbiogQ29tbW9uIGRpcmVjdGl2ZXMgc2hpcHBlZCB3aXRoIEFuZ3VsYXIuXG4qL1xudmFyIG5nX2NsYXNzXzEgPSByZXF1aXJlKCcuL2RpcmVjdGl2ZXMvbmdfY2xhc3MnKTtcbmV4cG9ydHMuTmdDbGFzcyA9IG5nX2NsYXNzXzEuTmdDbGFzcztcbnZhciBuZ19mb3JfMSA9IHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9uZ19mb3InKTtcbmV4cG9ydHMuTmdGb3IgPSBuZ19mb3JfMS5OZ0ZvcjtcbnZhciBuZ19pZl8xID0gcmVxdWlyZSgnLi9kaXJlY3RpdmVzL25nX2lmJyk7XG5leHBvcnRzLk5nSWYgPSBuZ19pZl8xLk5nSWY7XG52YXIgbmdfdGVtcGxhdGVfb3V0bGV0XzEgPSByZXF1aXJlKCcuL2RpcmVjdGl2ZXMvbmdfdGVtcGxhdGVfb3V0bGV0Jyk7XG5leHBvcnRzLk5nVGVtcGxhdGVPdXRsZXQgPSBuZ190ZW1wbGF0ZV9vdXRsZXRfMS5OZ1RlbXBsYXRlT3V0bGV0O1xudmFyIG5nX3N0eWxlXzEgPSByZXF1aXJlKCcuL2RpcmVjdGl2ZXMvbmdfc3R5bGUnKTtcbmV4cG9ydHMuTmdTdHlsZSA9IG5nX3N0eWxlXzEuTmdTdHlsZTtcbnZhciBuZ19zd2l0Y2hfMSA9IHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9uZ19zd2l0Y2gnKTtcbmV4cG9ydHMuTmdTd2l0Y2ggPSBuZ19zd2l0Y2hfMS5OZ1N3aXRjaDtcbmV4cG9ydHMuTmdTd2l0Y2hXaGVuID0gbmdfc3dpdGNoXzEuTmdTd2l0Y2hXaGVuO1xuZXhwb3J0cy5OZ1N3aXRjaERlZmF1bHQgPSBuZ19zd2l0Y2hfMS5OZ1N3aXRjaERlZmF1bHQ7XG52YXIgbmdfcGx1cmFsXzEgPSByZXF1aXJlKCcuL2RpcmVjdGl2ZXMvbmdfcGx1cmFsJyk7XG5leHBvcnRzLk5nUGx1cmFsID0gbmdfcGx1cmFsXzEuTmdQbHVyYWw7XG5leHBvcnRzLk5nUGx1cmFsQ2FzZSA9IG5nX3BsdXJhbF8xLk5nUGx1cmFsQ2FzZTtcbmV4cG9ydHMuTmdMb2NhbGl6YXRpb24gPSBuZ19wbHVyYWxfMS5OZ0xvY2FsaXphdGlvbjtcbl9fZXhwb3J0KHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9vYnNlcnZhYmxlX2xpc3RfZGlmZicpKTtcbnZhciBjb3JlX2RpcmVjdGl2ZXNfMSA9IHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9jb3JlX2RpcmVjdGl2ZXMnKTtcbmV4cG9ydHMuQ09SRV9ESVJFQ1RJVkVTID0gY29yZV9kaXJlY3RpdmVzXzEuQ09SRV9ESVJFQ1RJVkVTO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlyZWN0aXZlcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBuZ19jbGFzc18xID0gcmVxdWlyZSgnLi9uZ19jbGFzcycpO1xudmFyIG5nX2Zvcl8xID0gcmVxdWlyZSgnLi9uZ19mb3InKTtcbnZhciBuZ19pZl8xID0gcmVxdWlyZSgnLi9uZ19pZicpO1xudmFyIG5nX3RlbXBsYXRlX291dGxldF8xID0gcmVxdWlyZSgnLi9uZ190ZW1wbGF0ZV9vdXRsZXQnKTtcbnZhciBuZ19zdHlsZV8xID0gcmVxdWlyZSgnLi9uZ19zdHlsZScpO1xudmFyIG5nX3N3aXRjaF8xID0gcmVxdWlyZSgnLi9uZ19zd2l0Y2gnKTtcbnZhciBuZ19wbHVyYWxfMSA9IHJlcXVpcmUoJy4vbmdfcGx1cmFsJyk7XG4vKipcbiAqIEEgY29sbGVjdGlvbiBvZiBBbmd1bGFyIGNvcmUgZGlyZWN0aXZlcyB0aGF0IGFyZSBsaWtlbHkgdG8gYmUgdXNlZCBpbiBlYWNoIGFuZCBldmVyeSBBbmd1bGFyXG4gKiBhcHBsaWNhdGlvbi5cbiAqXG4gKiBUaGlzIGNvbGxlY3Rpb24gY2FuIGJlIHVzZWQgdG8gcXVpY2tseSBlbnVtZXJhdGUgYWxsIHRoZSBidWlsdC1pbiBkaXJlY3RpdmVzIGluIHRoZSBgZGlyZWN0aXZlc2BcbiAqIHByb3BlcnR5IG9mIHRoZSBgQENvbXBvbmVudGAgYW5ub3RhdGlvbi5cbiAqXG4gKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQveWFrR3dwQ2RVa2cwcWZ6WDVtOGc/cD1wcmV2aWV3KSlcbiAqXG4gKiBJbnN0ZWFkIG9mIHdyaXRpbmc6XG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtOZ0NsYXNzLCBOZ0lmLCBOZ0ZvciwgTmdTd2l0Y2gsIE5nU3dpdGNoV2hlbiwgTmdTd2l0Y2hEZWZhdWx0fSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuICogaW1wb3J0IHtPdGhlckRpcmVjdGl2ZX0gZnJvbSAnLi9teURpcmVjdGl2ZXMnO1xuICpcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ215LWNvbXBvbmVudCcsXG4gKiAgIHRlbXBsYXRlVXJsOiAnbXlDb21wb25lbnQuaHRtbCcsXG4gKiAgIGRpcmVjdGl2ZXM6IFtOZ0NsYXNzLCBOZ0lmLCBOZ0ZvciwgTmdTd2l0Y2gsIE5nU3dpdGNoV2hlbiwgTmdTd2l0Y2hEZWZhdWx0LCBPdGhlckRpcmVjdGl2ZV1cbiAqIH0pXG4gKiBleHBvcnQgY2xhc3MgTXlDb21wb25lbnQge1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICogb25lIGNvdWxkIGltcG9ydCBhbGwgdGhlIGNvcmUgZGlyZWN0aXZlcyBhdCBvbmNlOlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7Q09SRV9ESVJFQ1RJVkVTfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuICogaW1wb3J0IHtPdGhlckRpcmVjdGl2ZX0gZnJvbSAnLi9teURpcmVjdGl2ZXMnO1xuICpcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ215LWNvbXBvbmVudCcsXG4gKiAgIHRlbXBsYXRlVXJsOiAnbXlDb21wb25lbnQuaHRtbCcsXG4gKiAgIGRpcmVjdGl2ZXM6IFtDT1JFX0RJUkVDVElWRVMsIE90aGVyRGlyZWN0aXZlXVxuICogfSlcbiAqIGV4cG9ydCBjbGFzcyBNeUNvbXBvbmVudCB7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydHMuQ09SRV9ESVJFQ1RJVkVTID0gW1xuICAgIG5nX2NsYXNzXzEuTmdDbGFzcyxcbiAgICBuZ19mb3JfMS5OZ0ZvcixcbiAgICBuZ19pZl8xLk5nSWYsXG4gICAgbmdfdGVtcGxhdGVfb3V0bGV0XzEuTmdUZW1wbGF0ZU91dGxldCxcbiAgICBuZ19zdHlsZV8xLk5nU3R5bGUsXG4gICAgbmdfc3dpdGNoXzEuTmdTd2l0Y2gsXG4gICAgbmdfc3dpdGNoXzEuTmdTd2l0Y2hXaGVuLFxuICAgIG5nX3N3aXRjaF8xLk5nU3dpdGNoRGVmYXVsdCxcbiAgICBuZ19wbHVyYWxfMS5OZ1BsdXJhbCxcbiAgICBuZ19wbHVyYWxfMS5OZ1BsdXJhbENhc2Vcbl07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3JlX2RpcmVjdGl2ZXMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIE5nQ2xhc3MgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5nQ2xhc3MoX2l0ZXJhYmxlRGlmZmVycywgX2tleVZhbHVlRGlmZmVycywgX25nRWwsIF9yZW5kZXJlcikge1xuICAgICAgICB0aGlzLl9pdGVyYWJsZURpZmZlcnMgPSBfaXRlcmFibGVEaWZmZXJzO1xuICAgICAgICB0aGlzLl9rZXlWYWx1ZURpZmZlcnMgPSBfa2V5VmFsdWVEaWZmZXJzO1xuICAgICAgICB0aGlzLl9uZ0VsID0gX25nRWw7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gX3JlbmRlcmVyO1xuICAgICAgICB0aGlzLl9pbml0aWFsQ2xhc3NlcyA9IFtdO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdDbGFzcy5wcm90b3R5cGUsIFwiaW5pdGlhbENsYXNzZXNcIiwge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICB0aGlzLl9hcHBseUluaXRpYWxDbGFzc2VzKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5faW5pdGlhbENsYXNzZXMgPSBsYW5nXzEuaXNQcmVzZW50KHYpICYmIGxhbmdfMS5pc1N0cmluZyh2KSA/IHYuc3BsaXQoJyAnKSA6IFtdO1xuICAgICAgICAgICAgdGhpcy5fYXBwbHlJbml0aWFsQ2xhc3NlcyhmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLl9hcHBseUNsYXNzZXModGhpcy5fcmF3Q2xhc3MsIGZhbHNlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nQ2xhc3MucHJvdG90eXBlLCBcInJhd0NsYXNzXCIsIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgdGhpcy5fY2xlYW51cENsYXNzZXModGhpcy5fcmF3Q2xhc3MpO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1N0cmluZyh2KSkge1xuICAgICAgICAgICAgICAgIHYgPSB2LnNwbGl0KCcgJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yYXdDbGFzcyA9IHY7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYWJsZURpZmZlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9rZXlWYWx1ZURpZmZlciA9IG51bGw7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh2KSkge1xuICAgICAgICAgICAgICAgIGlmIChjb2xsZWN0aW9uXzEuaXNMaXN0TGlrZUl0ZXJhYmxlKHYpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2l0ZXJhYmxlRGlmZmVyID0gdGhpcy5faXRlcmFibGVEaWZmZXJzLmZpbmQodikuY3JlYXRlKG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5VmFsdWVEaWZmZXIgPSB0aGlzLl9rZXlWYWx1ZURpZmZlcnMuZmluZCh2KS5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBOZ0NsYXNzLnByb3RvdHlwZS5uZ0RvQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHRoaXMuX2l0ZXJhYmxlRGlmZmVyKSkge1xuICAgICAgICAgICAgdmFyIGNoYW5nZXMgPSB0aGlzLl9pdGVyYWJsZURpZmZlci5kaWZmKHRoaXMuX3Jhd0NsYXNzKTtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGNoYW5nZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXBwbHlJdGVyYWJsZUNoYW5nZXMoY2hhbmdlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGhpcy5fa2V5VmFsdWVEaWZmZXIpKSB7XG4gICAgICAgICAgICB2YXIgY2hhbmdlcyA9IHRoaXMuX2tleVZhbHVlRGlmZmVyLmRpZmYodGhpcy5fcmF3Q2xhc3MpO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoY2hhbmdlcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hcHBseUtleVZhbHVlQ2hhbmdlcyhjaGFuZ2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTmdDbGFzcy5wcm90b3R5cGUubmdPbkRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7IHRoaXMuX2NsZWFudXBDbGFzc2VzKHRoaXMuX3Jhd0NsYXNzKTsgfTtcbiAgICBOZ0NsYXNzLnByb3RvdHlwZS5fY2xlYW51cENsYXNzZXMgPSBmdW5jdGlvbiAocmF3Q2xhc3NWYWwpIHtcbiAgICAgICAgdGhpcy5fYXBwbHlDbGFzc2VzKHJhd0NsYXNzVmFsLCB0cnVlKTtcbiAgICAgICAgdGhpcy5fYXBwbHlJbml0aWFsQ2xhc3NlcyhmYWxzZSk7XG4gICAgfTtcbiAgICBOZ0NsYXNzLnByb3RvdHlwZS5fYXBwbHlLZXlWYWx1ZUNoYW5nZXMgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBjaGFuZ2VzLmZvckVhY2hBZGRlZEl0ZW0oZnVuY3Rpb24gKHJlY29yZCkgeyBfdGhpcy5fdG9nZ2xlQ2xhc3MocmVjb3JkLmtleSwgcmVjb3JkLmN1cnJlbnRWYWx1ZSk7IH0pO1xuICAgICAgICBjaGFuZ2VzLmZvckVhY2hDaGFuZ2VkSXRlbShmdW5jdGlvbiAocmVjb3JkKSB7IF90aGlzLl90b2dnbGVDbGFzcyhyZWNvcmQua2V5LCByZWNvcmQuY3VycmVudFZhbHVlKTsgfSk7XG4gICAgICAgIGNoYW5nZXMuZm9yRWFjaFJlbW92ZWRJdGVtKGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgICAgIGlmIChyZWNvcmQucHJldmlvdXNWYWx1ZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLl90b2dnbGVDbGFzcyhyZWNvcmQua2V5LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTmdDbGFzcy5wcm90b3R5cGUuX2FwcGx5SXRlcmFibGVDaGFuZ2VzID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgY2hhbmdlcy5mb3JFYWNoQWRkZWRJdGVtKGZ1bmN0aW9uIChyZWNvcmQpIHsgX3RoaXMuX3RvZ2dsZUNsYXNzKHJlY29yZC5pdGVtLCB0cnVlKTsgfSk7XG4gICAgICAgIGNoYW5nZXMuZm9yRWFjaFJlbW92ZWRJdGVtKGZ1bmN0aW9uIChyZWNvcmQpIHsgX3RoaXMuX3RvZ2dsZUNsYXNzKHJlY29yZC5pdGVtLCBmYWxzZSk7IH0pO1xuICAgIH07XG4gICAgTmdDbGFzcy5wcm90b3R5cGUuX2FwcGx5SW5pdGlhbENsYXNzZXMgPSBmdW5jdGlvbiAoaXNDbGVhbnVwKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX2luaXRpYWxDbGFzc2VzLmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZSkgeyByZXR1cm4gX3RoaXMuX3RvZ2dsZUNsYXNzKGNsYXNzTmFtZSwgIWlzQ2xlYW51cCk7IH0pO1xuICAgIH07XG4gICAgTmdDbGFzcy5wcm90b3R5cGUuX2FwcGx5Q2xhc3NlcyA9IGZ1bmN0aW9uIChyYXdDbGFzc1ZhbCwgaXNDbGVhbnVwKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHJhd0NsYXNzVmFsKSkge1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0FycmF5KHJhd0NsYXNzVmFsKSkge1xuICAgICAgICAgICAgICAgIHJhd0NsYXNzVmFsLmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZSkgeyByZXR1cm4gX3RoaXMuX3RvZ2dsZUNsYXNzKGNsYXNzTmFtZSwgIWlzQ2xlYW51cCk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmF3Q2xhc3NWYWwgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgICAgICAgICByYXdDbGFzc1ZhbC5mb3JFYWNoKGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIF90aGlzLl90b2dnbGVDbGFzcyhjbGFzc05hbWUsICFpc0NsZWFudXApOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25fMS5TdHJpbmdNYXBXcmFwcGVyLmZvckVhY2gocmF3Q2xhc3NWYWwsIGZ1bmN0aW9uIChleHBWYWwsIGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChleHBWYWwpKVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3RvZ2dsZUNsYXNzKGNsYXNzTmFtZSwgIWlzQ2xlYW51cCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5nQ2xhc3MucHJvdG90eXBlLl90b2dnbGVDbGFzcyA9IGZ1bmN0aW9uIChjbGFzc05hbWUsIGVuYWJsZWQpIHtcbiAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnRyaW0oKTtcbiAgICAgICAgaWYgKGNsYXNzTmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAoY2xhc3NOYW1lLmluZGV4T2YoJyAnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsYXNzZXMgPSBjbGFzc05hbWUuc3BsaXQoL1xccysvZyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNsYXNzZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIuc2V0RWxlbWVudENsYXNzKHRoaXMuX25nRWwubmF0aXZlRWxlbWVudCwgY2xhc3Nlc1tpXSwgZW5hYmxlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIuc2V0RWxlbWVudENsYXNzKHRoaXMuX25nRWwubmF0aXZlRWxlbWVudCwgY2xhc3NOYW1lLCBlbmFibGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTmdDbGFzcy5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5EaXJlY3RpdmUsIGFyZ3M6IFt7IHNlbGVjdG9yOiAnW25nQ2xhc3NdJywgaW5wdXRzOiBbJ3Jhd0NsYXNzOiBuZ0NsYXNzJywgJ2luaXRpYWxDbGFzc2VzOiBjbGFzcyddIH0sXSB9LFxuICAgIF07XG4gICAgTmdDbGFzcy5jdG9yUGFyYW1ldGVycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuSXRlcmFibGVEaWZmZXJzLCB9LFxuICAgICAgICB7IHR5cGU6IGNvcmVfMS5LZXlWYWx1ZURpZmZlcnMsIH0sXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkVsZW1lbnRSZWYsIH0sXG4gICAgICAgIHsgdHlwZTogY29yZV8xLlJlbmRlcmVyLCB9LFxuICAgIF07XG4gICAgcmV0dXJuIE5nQ2xhc3M7XG59KCkpO1xuZXhwb3J0cy5OZ0NsYXNzID0gTmdDbGFzcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5nX2NsYXNzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBOZ0ZvclJvdyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTmdGb3JSb3coJGltcGxpY2l0LCBpbmRleCwgY291bnQpIHtcbiAgICAgICAgdGhpcy4kaW1wbGljaXQgPSAkaW1wbGljaXQ7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5jb3VudCA9IGNvdW50O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdGb3JSb3cucHJvdG90eXBlLCBcImZpcnN0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmluZGV4ID09PSAwOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdGb3JSb3cucHJvdG90eXBlLCBcImxhc3RcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuaW5kZXggPT09IHRoaXMuY291bnQgLSAxOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdGb3JSb3cucHJvdG90eXBlLCBcImV2ZW5cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuaW5kZXggJSAyID09PSAwOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdGb3JSb3cucHJvdG90eXBlLCBcIm9kZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gIXRoaXMuZXZlbjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIE5nRm9yUm93O1xufSgpKTtcbmV4cG9ydHMuTmdGb3JSb3cgPSBOZ0ZvclJvdztcbnZhciBOZ0ZvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTmdGb3IoX3ZpZXdDb250YWluZXIsIF90ZW1wbGF0ZVJlZiwgX2l0ZXJhYmxlRGlmZmVycywgX2Nkcikge1xuICAgICAgICB0aGlzLl92aWV3Q29udGFpbmVyID0gX3ZpZXdDb250YWluZXI7XG4gICAgICAgIHRoaXMuX3RlbXBsYXRlUmVmID0gX3RlbXBsYXRlUmVmO1xuICAgICAgICB0aGlzLl9pdGVyYWJsZURpZmZlcnMgPSBfaXRlcmFibGVEaWZmZXJzO1xuICAgICAgICB0aGlzLl9jZHIgPSBfY2RyO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdGb3IucHJvdG90eXBlLCBcIm5nRm9yT2ZcIiwge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbmdGb3JPZiA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHRoaXMuX2RpZmZlcikgJiYgbGFuZ18xLmlzUHJlc2VudCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaWZmZXIgPSB0aGlzLl9pdGVyYWJsZURpZmZlcnMuZmluZCh2YWx1ZSkuY3JlYXRlKHRoaXMuX2NkciwgdGhpcy5fbmdGb3JUcmFja0J5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiQ2Fubm90IGZpbmQgYSBkaWZmZXIgc3VwcG9ydGluZyBvYmplY3QgJ1wiICsgdmFsdWUgKyBcIicgb2YgdHlwZSAnXCIgKyBsYW5nXzEuZ2V0VHlwZU5hbWVGb3JEZWJ1Z2dpbmcodmFsdWUpICsgXCInLiBOZ0ZvciBvbmx5IHN1cHBvcnRzIGJpbmRpbmcgdG8gSXRlcmFibGVzIHN1Y2ggYXMgQXJyYXlzLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOZ0Zvci5wcm90b3R5cGUsIFwibmdGb3JUZW1wbGF0ZVwiLCB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZVJlZiA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdGb3IucHJvdG90eXBlLCBcIm5nRm9yVHJhY2tCeVwiLCB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IHRoaXMuX25nRm9yVHJhY2tCeSA9IHZhbHVlOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBOZ0Zvci5wcm90b3R5cGUubmdEb0NoZWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLl9kaWZmZXIpKSB7XG4gICAgICAgICAgICB2YXIgY2hhbmdlcyA9IHRoaXMuX2RpZmZlci5kaWZmKHRoaXMuX25nRm9yT2YpO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoY2hhbmdlcykpXG4gICAgICAgICAgICAgICAgdGhpcy5fYXBwbHlDaGFuZ2VzKGNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBOZ0Zvci5wcm90b3R5cGUuX2FwcGx5Q2hhbmdlcyA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFRPRE8ocmFkbyk6IGNoZWNrIGlmIGNoYW5nZSBkZXRlY3Rpb24gY2FuIHByb2R1Y2UgYSBjaGFuZ2UgcmVjb3JkIHRoYXQgaXNcbiAgICAgICAgLy8gZWFzaWVyIHRvIGNvbnN1bWUgdGhhbiBjdXJyZW50LlxuICAgICAgICB2YXIgcmVjb3JkVmlld1R1cGxlcyA9IFtdO1xuICAgICAgICBjaGFuZ2VzLmZvckVhY2hSZW1vdmVkSXRlbShmdW5jdGlvbiAocmVtb3ZlZFJlY29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlY29yZFZpZXdUdXBsZXMucHVzaChuZXcgUmVjb3JkVmlld1R1cGxlKHJlbW92ZWRSZWNvcmQsIG51bGwpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNoYW5nZXMuZm9yRWFjaE1vdmVkSXRlbShmdW5jdGlvbiAobW92ZWRSZWNvcmQpIHtcbiAgICAgICAgICAgIHJldHVybiByZWNvcmRWaWV3VHVwbGVzLnB1c2gobmV3IFJlY29yZFZpZXdUdXBsZShtb3ZlZFJlY29yZCwgbnVsbCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGluc2VydFR1cGxlcyA9IHRoaXMuX2J1bGtSZW1vdmUocmVjb3JkVmlld1R1cGxlcyk7XG4gICAgICAgIGNoYW5nZXMuZm9yRWFjaEFkZGVkSXRlbShmdW5jdGlvbiAoYWRkZWRSZWNvcmQpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnNlcnRUdXBsZXMucHVzaChuZXcgUmVjb3JkVmlld1R1cGxlKGFkZGVkUmVjb3JkLCBudWxsKSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9idWxrSW5zZXJ0KGluc2VydFR1cGxlcyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5zZXJ0VHVwbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9wZXJWaWV3Q2hhbmdlKGluc2VydFR1cGxlc1tpXS52aWV3LCBpbnNlcnRUdXBsZXNbaV0ucmVjb3JkKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWxlbiA9IHRoaXMuX3ZpZXdDb250YWluZXIubGVuZ3RoOyBpIDwgaWxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdmlld1JlZiA9IHRoaXMuX3ZpZXdDb250YWluZXIuZ2V0KGkpO1xuICAgICAgICAgICAgdmlld1JlZi5jb250ZXh0LmluZGV4ID0gaTtcbiAgICAgICAgICAgIHZpZXdSZWYuY29udGV4dC5jb3VudCA9IGlsZW47XG4gICAgICAgIH1cbiAgICAgICAgY2hhbmdlcy5mb3JFYWNoSWRlbnRpdHlDaGFuZ2UoZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgICAgICAgdmFyIHZpZXdSZWYgPSBfdGhpcy5fdmlld0NvbnRhaW5lci5nZXQocmVjb3JkLmN1cnJlbnRJbmRleCk7XG4gICAgICAgICAgICB2aWV3UmVmLmNvbnRleHQuJGltcGxpY2l0ID0gcmVjb3JkLml0ZW07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTmdGb3IucHJvdG90eXBlLl9wZXJWaWV3Q2hhbmdlID0gZnVuY3Rpb24gKHZpZXcsIHJlY29yZCkge1xuICAgICAgICB2aWV3LmNvbnRleHQuJGltcGxpY2l0ID0gcmVjb3JkLml0ZW07XG4gICAgfTtcbiAgICBOZ0Zvci5wcm90b3R5cGUuX2J1bGtSZW1vdmUgPSBmdW5jdGlvbiAodHVwbGVzKSB7XG4gICAgICAgIHR1cGxlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYS5yZWNvcmQucHJldmlvdXNJbmRleCAtIGIucmVjb3JkLnByZXZpb3VzSW5kZXg7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgbW92ZWRUdXBsZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHR1cGxlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIHR1cGxlID0gdHVwbGVzW2ldO1xuICAgICAgICAgICAgLy8gc2VwYXJhdGUgbW92ZWQgdmlld3MgZnJvbSByZW1vdmVkIHZpZXdzLlxuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodHVwbGUucmVjb3JkLmN1cnJlbnRJbmRleCkpIHtcbiAgICAgICAgICAgICAgICB0dXBsZS52aWV3ID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmlld0NvbnRhaW5lci5kZXRhY2godHVwbGUucmVjb3JkLnByZXZpb3VzSW5kZXgpO1xuICAgICAgICAgICAgICAgIG1vdmVkVHVwbGVzLnB1c2godHVwbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld0NvbnRhaW5lci5yZW1vdmUodHVwbGUucmVjb3JkLnByZXZpb3VzSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtb3ZlZFR1cGxlcztcbiAgICB9O1xuICAgIE5nRm9yLnByb3RvdHlwZS5fYnVsa0luc2VydCA9IGZ1bmN0aW9uICh0dXBsZXMpIHtcbiAgICAgICAgdHVwbGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEucmVjb3JkLmN1cnJlbnRJbmRleCAtIGIucmVjb3JkLmN1cnJlbnRJbmRleDsgfSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHVwbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdHVwbGUgPSB0dXBsZXNbaV07XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0dXBsZS52aWV3KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdDb250YWluZXIuaW5zZXJ0KHR1cGxlLnZpZXcsIHR1cGxlLnJlY29yZC5jdXJyZW50SW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdHVwbGUudmlldyA9IHRoaXMuX3ZpZXdDb250YWluZXIuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMuX3RlbXBsYXRlUmVmLCBuZXcgTmdGb3JSb3cobnVsbCwgbnVsbCwgbnVsbCksIHR1cGxlLnJlY29yZC5jdXJyZW50SW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0dXBsZXM7XG4gICAgfTtcbiAgICBOZ0Zvci5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5EaXJlY3RpdmUsIGFyZ3M6IFt7IHNlbGVjdG9yOiAnW25nRm9yXVtuZ0Zvck9mXScsIGlucHV0czogWyduZ0ZvclRyYWNrQnknLCAnbmdGb3JPZicsICduZ0ZvclRlbXBsYXRlJ10gfSxdIH0sXG4gICAgXTtcbiAgICBOZ0Zvci5jdG9yUGFyYW1ldGVycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuVmlld0NvbnRhaW5lclJlZiwgfSxcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuVGVtcGxhdGVSZWYsIH0sXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkl0ZXJhYmxlRGlmZmVycywgfSxcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuQ2hhbmdlRGV0ZWN0b3JSZWYsIH0sXG4gICAgXTtcbiAgICByZXR1cm4gTmdGb3I7XG59KCkpO1xuZXhwb3J0cy5OZ0ZvciA9IE5nRm9yO1xudmFyIFJlY29yZFZpZXdUdXBsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVjb3JkVmlld1R1cGxlKHJlY29yZCwgdmlldykge1xuICAgICAgICB0aGlzLnJlY29yZCA9IHJlY29yZDtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICB9XG4gICAgcmV0dXJuIFJlY29yZFZpZXdUdXBsZTtcbn0oKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uZ19mb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIE5nSWYgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5nSWYoX3ZpZXdDb250YWluZXIsIF90ZW1wbGF0ZVJlZikge1xuICAgICAgICB0aGlzLl92aWV3Q29udGFpbmVyID0gX3ZpZXdDb250YWluZXI7XG4gICAgICAgIHRoaXMuX3RlbXBsYXRlUmVmID0gX3RlbXBsYXRlUmVmO1xuICAgICAgICB0aGlzLl9wcmV2Q29uZGl0aW9uID0gbnVsbDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nSWYucHJvdG90eXBlLCBcIm5nSWZcIiwge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdDb25kaXRpb24gLyogYm9vbGVhbiAqLykge1xuICAgICAgICAgICAgaWYgKG5ld0NvbmRpdGlvbiAmJiAobGFuZ18xLmlzQmxhbmsodGhpcy5fcHJldkNvbmRpdGlvbikgfHwgIXRoaXMuX3ByZXZDb25kaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJldkNvbmRpdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld0NvbnRhaW5lci5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy5fdGVtcGxhdGVSZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIW5ld0NvbmRpdGlvbiAmJiAobGFuZ18xLmlzQmxhbmsodGhpcy5fcHJldkNvbmRpdGlvbikgfHwgdGhpcy5fcHJldkNvbmRpdGlvbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcmV2Q29uZGl0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld0NvbnRhaW5lci5jbGVhcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBOZ0lmLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkRpcmVjdGl2ZSwgYXJnczogW3sgc2VsZWN0b3I6ICdbbmdJZl0nLCBpbnB1dHM6IFsnbmdJZiddIH0sXSB9LFxuICAgIF07XG4gICAgTmdJZi5jdG9yUGFyYW1ldGVycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuVmlld0NvbnRhaW5lclJlZiwgfSxcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuVGVtcGxhdGVSZWYsIH0sXG4gICAgXTtcbiAgICByZXR1cm4gTmdJZjtcbn0oKSk7XG5leHBvcnRzLk5nSWYgPSBOZ0lmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmdfaWYuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIG5nX3N3aXRjaF8xID0gcmVxdWlyZSgnLi9uZ19zd2l0Y2gnKTtcbnZhciBfQ0FURUdPUllfREVGQVVMVCA9ICdvdGhlcic7XG52YXIgTmdMb2NhbGl6YXRpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5nTG9jYWxpemF0aW9uKCkge1xuICAgIH1cbiAgICByZXR1cm4gTmdMb2NhbGl6YXRpb247XG59KCkpO1xuZXhwb3J0cy5OZ0xvY2FsaXphdGlvbiA9IE5nTG9jYWxpemF0aW9uO1xudmFyIE5nUGx1cmFsQ2FzZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTmdQbHVyYWxDYXNlKHZhbHVlLCB0ZW1wbGF0ZSwgdmlld0NvbnRhaW5lcikge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3ZpZXcgPSBuZXcgbmdfc3dpdGNoXzEuU3dpdGNoVmlldyh2aWV3Q29udGFpbmVyLCB0ZW1wbGF0ZSk7XG4gICAgfVxuICAgIE5nUGx1cmFsQ2FzZS5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5EaXJlY3RpdmUsIGFyZ3M6IFt7IHNlbGVjdG9yOiAnW25nUGx1cmFsQ2FzZV0nIH0sXSB9LFxuICAgIF07XG4gICAgTmdQbHVyYWxDYXNlLmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3sgdHlwZTogY29yZV8xLkF0dHJpYnV0ZSwgYXJnczogWyduZ1BsdXJhbENhc2UnLF0gfSxdIH0sXG4gICAgICAgIHsgdHlwZTogY29yZV8xLlRlbXBsYXRlUmVmLCB9LFxuICAgICAgICB7IHR5cGU6IGNvcmVfMS5WaWV3Q29udGFpbmVyUmVmLCB9LFxuICAgIF07XG4gICAgcmV0dXJuIE5nUGx1cmFsQ2FzZTtcbn0oKSk7XG5leHBvcnRzLk5nUGx1cmFsQ2FzZSA9IE5nUGx1cmFsQ2FzZTtcbnZhciBOZ1BsdXJhbCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTmdQbHVyYWwoX2xvY2FsaXphdGlvbikge1xuICAgICAgICB0aGlzLl9sb2NhbGl6YXRpb24gPSBfbG9jYWxpemF0aW9uO1xuICAgICAgICB0aGlzLl9jYXNlVmlld3MgPSBuZXcgY29sbGVjdGlvbl8xLk1hcCgpO1xuICAgICAgICB0aGlzLmNhc2VzID0gbnVsbDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nUGx1cmFsLnByb3RvdHlwZSwgXCJuZ1BsdXJhbFwiLCB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9zd2l0Y2hWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlVmlldygpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBOZ1BsdXJhbC5wcm90b3R5cGUubmdBZnRlckNvbnRlbnRJbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNhc2VzLmZvckVhY2goZnVuY3Rpb24gKHBsdXJhbENhc2UpIHtcbiAgICAgICAgICAgIF90aGlzLl9jYXNlVmlld3Muc2V0KF90aGlzLl9mb3JtYXRWYWx1ZShwbHVyYWxDYXNlKSwgcGx1cmFsQ2FzZS5fdmlldyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl91cGRhdGVWaWV3KCk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgTmdQbHVyYWwucHJvdG90eXBlLl91cGRhdGVWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9jbGVhclZpZXdzKCk7XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcy5fY2FzZVZpZXdzLmdldCh0aGlzLl9zd2l0Y2hWYWx1ZSk7XG4gICAgICAgIGlmICghbGFuZ18xLmlzUHJlc2VudCh2aWV3KSlcbiAgICAgICAgICAgIHZpZXcgPSB0aGlzLl9nZXRDYXRlZ29yeVZpZXcodGhpcy5fc3dpdGNoVmFsdWUpO1xuICAgICAgICB0aGlzLl9hY3RpdmF0ZVZpZXcodmlldyk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgTmdQbHVyYWwucHJvdG90eXBlLl9jbGVhclZpZXdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLl9hY3RpdmVWaWV3KSlcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVZpZXcuZGVzdHJveSgpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIE5nUGx1cmFsLnByb3RvdHlwZS5fYWN0aXZhdGVWaWV3ID0gZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgICAgaWYgKCFsYW5nXzEuaXNQcmVzZW50KHZpZXcpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLl9hY3RpdmVWaWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5fYWN0aXZlVmlldy5jcmVhdGUoKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBOZ1BsdXJhbC5wcm90b3R5cGUuX2dldENhdGVnb3J5VmlldyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgY2F0ZWdvcnkgPSB0aGlzLl9sb2NhbGl6YXRpb24uZ2V0UGx1cmFsQ2F0ZWdvcnkodmFsdWUpO1xuICAgICAgICB2YXIgY2F0ZWdvcnlWaWV3ID0gdGhpcy5fY2FzZVZpZXdzLmdldChjYXRlZ29yeSk7XG4gICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KGNhdGVnb3J5VmlldykgPyBjYXRlZ29yeVZpZXcgOiB0aGlzLl9jYXNlVmlld3MuZ2V0KF9DQVRFR09SWV9ERUZBVUxUKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBOZ1BsdXJhbC5wcm90b3R5cGUuX2lzVmFsdWVWaWV3ID0gZnVuY3Rpb24gKHBsdXJhbENhc2UpIHsgcmV0dXJuIHBsdXJhbENhc2UudmFsdWVbMF0gPT09IFwiPVwiOyB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBOZ1BsdXJhbC5wcm90b3R5cGUuX2Zvcm1hdFZhbHVlID0gZnVuY3Rpb24gKHBsdXJhbENhc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVmFsdWVWaWV3KHBsdXJhbENhc2UpID8gdGhpcy5fc3RyaXBWYWx1ZShwbHVyYWxDYXNlLnZhbHVlKSA6IHBsdXJhbENhc2UudmFsdWU7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgTmdQbHVyYWwucHJvdG90eXBlLl9zdHJpcFZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBsYW5nXzEuTnVtYmVyV3JhcHBlci5wYXJzZUludCh2YWx1ZS5zdWJzdHJpbmcoMSksIDEwKTsgfTtcbiAgICBOZ1BsdXJhbC5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5EaXJlY3RpdmUsIGFyZ3M6IFt7IHNlbGVjdG9yOiAnW25nUGx1cmFsXScgfSxdIH0sXG4gICAgXTtcbiAgICBOZ1BsdXJhbC5jdG9yUGFyYW1ldGVycyA9IFtcbiAgICAgICAgeyB0eXBlOiBOZ0xvY2FsaXphdGlvbiwgfSxcbiAgICBdO1xuICAgIE5nUGx1cmFsLnByb3BEZWNvcmF0b3JzID0ge1xuICAgICAgICAnY2FzZXMnOiBbeyB0eXBlOiBjb3JlXzEuQ29udGVudENoaWxkcmVuLCBhcmdzOiBbTmdQbHVyYWxDYXNlLF0gfSxdLFxuICAgICAgICAnbmdQbHVyYWwnOiBbeyB0eXBlOiBjb3JlXzEuSW5wdXQgfSxdLFxuICAgIH07XG4gICAgcmV0dXJuIE5nUGx1cmFsO1xufSgpKTtcbmV4cG9ydHMuTmdQbHVyYWwgPSBOZ1BsdXJhbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5nX3BsdXJhbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgTmdTdHlsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTmdTdHlsZShfZGlmZmVycywgX25nRWwsIF9yZW5kZXJlcikge1xuICAgICAgICB0aGlzLl9kaWZmZXJzID0gX2RpZmZlcnM7XG4gICAgICAgIHRoaXMuX25nRWwgPSBfbmdFbDtcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSBfcmVuZGVyZXI7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOZ1N0eWxlLnByb3RvdHlwZSwgXCJyYXdTdHlsZVwiLCB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jhd1N0eWxlID0gdjtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayh0aGlzLl9kaWZmZXIpICYmIGxhbmdfMS5pc1ByZXNlbnQodikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaWZmZXIgPSB0aGlzLl9kaWZmZXJzLmZpbmQodGhpcy5fcmF3U3R5bGUpLmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTmdTdHlsZS5wcm90b3R5cGUubmdEb0NoZWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLl9kaWZmZXIpKSB7XG4gICAgICAgICAgICB2YXIgY2hhbmdlcyA9IHRoaXMuX2RpZmZlci5kaWZmKHRoaXMuX3Jhd1N0eWxlKTtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGNoYW5nZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYXBwbHlDaGFuZ2VzKGNoYW5nZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBOZ1N0eWxlLnByb3RvdHlwZS5fYXBwbHlDaGFuZ2VzID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgY2hhbmdlcy5mb3JFYWNoQWRkZWRJdGVtKGZ1bmN0aW9uIChyZWNvcmQpIHsgX3RoaXMuX3NldFN0eWxlKHJlY29yZC5rZXksIHJlY29yZC5jdXJyZW50VmFsdWUpOyB9KTtcbiAgICAgICAgY2hhbmdlcy5mb3JFYWNoQ2hhbmdlZEl0ZW0oZnVuY3Rpb24gKHJlY29yZCkgeyBfdGhpcy5fc2V0U3R5bGUocmVjb3JkLmtleSwgcmVjb3JkLmN1cnJlbnRWYWx1ZSk7IH0pO1xuICAgICAgICBjaGFuZ2VzLmZvckVhY2hSZW1vdmVkSXRlbShmdW5jdGlvbiAocmVjb3JkKSB7IF90aGlzLl9zZXRTdHlsZShyZWNvcmQua2V5LCBudWxsKTsgfSk7XG4gICAgfTtcbiAgICBOZ1N0eWxlLnByb3RvdHlwZS5fc2V0U3R5bGUgPSBmdW5jdGlvbiAobmFtZSwgdmFsKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLnNldEVsZW1lbnRTdHlsZSh0aGlzLl9uZ0VsLm5hdGl2ZUVsZW1lbnQsIG5hbWUsIHZhbCk7XG4gICAgfTtcbiAgICBOZ1N0eWxlLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkRpcmVjdGl2ZSwgYXJnczogW3sgc2VsZWN0b3I6ICdbbmdTdHlsZV0nLCBpbnB1dHM6IFsncmF3U3R5bGU6IG5nU3R5bGUnXSB9LF0gfSxcbiAgICBdO1xuICAgIE5nU3R5bGUuY3RvclBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLktleVZhbHVlRGlmZmVycywgfSxcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuRWxlbWVudFJlZiwgfSxcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuUmVuZGVyZXIsIH0sXG4gICAgXTtcbiAgICByZXR1cm4gTmdTdHlsZTtcbn0oKSk7XG5leHBvcnRzLk5nU3R5bGUgPSBOZ1N0eWxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmdfc3R5bGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIF9XSEVOX0RFRkFVTFQgPSBuZXcgT2JqZWN0KCk7XG52YXIgU3dpdGNoVmlldyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3dpdGNoVmlldyhfdmlld0NvbnRhaW5lclJlZiwgX3RlbXBsYXRlUmVmKSB7XG4gICAgICAgIHRoaXMuX3ZpZXdDb250YWluZXJSZWYgPSBfdmlld0NvbnRhaW5lclJlZjtcbiAgICAgICAgdGhpcy5fdGVtcGxhdGVSZWYgPSBfdGVtcGxhdGVSZWY7XG4gICAgfVxuICAgIFN3aXRjaFZpZXcucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHsgdGhpcy5fdmlld0NvbnRhaW5lclJlZi5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy5fdGVtcGxhdGVSZWYpOyB9O1xuICAgIFN3aXRjaFZpZXcucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7IHRoaXMuX3ZpZXdDb250YWluZXJSZWYuY2xlYXIoKTsgfTtcbiAgICByZXR1cm4gU3dpdGNoVmlldztcbn0oKSk7XG5leHBvcnRzLlN3aXRjaFZpZXcgPSBTd2l0Y2hWaWV3O1xudmFyIE5nU3dpdGNoID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZ1N3aXRjaCgpIHtcbiAgICAgICAgdGhpcy5fdXNlRGVmYXVsdCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl92YWx1ZVZpZXdzID0gbmV3IGNvbGxlY3Rpb25fMS5NYXAoKTtcbiAgICAgICAgdGhpcy5fYWN0aXZlVmlld3MgPSBbXTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nU3dpdGNoLnByb3RvdHlwZSwgXCJuZ1N3aXRjaFwiLCB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAvLyBFbXB0eSB0aGUgY3VycmVudGx5IGFjdGl2ZSBWaWV3Q29udGFpbmVyc1xuICAgICAgICAgICAgdGhpcy5fZW1wdHlBbGxBY3RpdmVWaWV3cygpO1xuICAgICAgICAgICAgLy8gQWRkIHRoZSBWaWV3Q29udGFpbmVycyBtYXRjaGluZyB0aGUgdmFsdWUgKHdpdGggYSBmYWxsYmFjayB0byBkZWZhdWx0KVxuICAgICAgICAgICAgdGhpcy5fdXNlRGVmYXVsdCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHZpZXdzID0gdGhpcy5fdmFsdWVWaWV3cy5nZXQodmFsdWUpO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHZpZXdzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VzZURlZmF1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZpZXdzID0gbGFuZ18xLm5vcm1hbGl6ZUJsYW5rKHRoaXMuX3ZhbHVlVmlld3MuZ2V0KF9XSEVOX0RFRkFVTFQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2FjdGl2YXRlVmlld3Modmlld3MpO1xuICAgICAgICAgICAgdGhpcy5fc3dpdGNoVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIE5nU3dpdGNoLnByb3RvdHlwZS5fb25XaGVuVmFsdWVDaGFuZ2VkID0gZnVuY3Rpb24gKG9sZFdoZW4sIG5ld1doZW4sIHZpZXcpIHtcbiAgICAgICAgdGhpcy5fZGVyZWdpc3RlclZpZXcob2xkV2hlbiwgdmlldyk7XG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyVmlldyhuZXdXaGVuLCB2aWV3KTtcbiAgICAgICAgaWYgKG9sZFdoZW4gPT09IHRoaXMuX3N3aXRjaFZhbHVlKSB7XG4gICAgICAgICAgICB2aWV3LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5yZW1vdmUodGhpcy5fYWN0aXZlVmlld3MsIHZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5ld1doZW4gPT09IHRoaXMuX3N3aXRjaFZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdXNlRGVmYXVsdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VzZURlZmF1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbXB0eUFsbEFjdGl2ZVZpZXdzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2aWV3LmNyZWF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlVmlld3MucHVzaCh2aWV3KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTd2l0Y2ggdG8gZGVmYXVsdCB3aGVuIHRoZXJlIGlzIG5vIG1vcmUgYWN0aXZlIFZpZXdDb250YWluZXJzXG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVWaWV3cy5sZW5ndGggPT09IDAgJiYgIXRoaXMuX3VzZURlZmF1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZURlZmF1bHQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZhdGVWaWV3cyh0aGlzLl92YWx1ZVZpZXdzLmdldChfV0hFTl9ERUZBVUxUKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBOZ1N3aXRjaC5wcm90b3R5cGUuX2VtcHR5QWxsQWN0aXZlVmlld3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhY3RpdmVDb250YWluZXJzID0gdGhpcy5fYWN0aXZlVmlld3M7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWN0aXZlQ29udGFpbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYWN0aXZlQ29udGFpbmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYWN0aXZlVmlld3MgPSBbXTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBOZ1N3aXRjaC5wcm90b3R5cGUuX2FjdGl2YXRlVmlld3MgPSBmdW5jdGlvbiAodmlld3MpIHtcbiAgICAgICAgLy8gVE9ETyh2aWNiKTogYXNzZXJ0KHRoaXMuX2FjdGl2ZVZpZXdzLmxlbmd0aCA9PT0gMCk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHZpZXdzKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZpZXdzW2ldLmNyZWF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYWN0aXZlVmlld3MgPSB2aWV3cztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIE5nU3dpdGNoLnByb3RvdHlwZS5fcmVnaXN0ZXJWaWV3ID0gZnVuY3Rpb24gKHZhbHVlLCB2aWV3KSB7XG4gICAgICAgIHZhciB2aWV3cyA9IHRoaXMuX3ZhbHVlVmlld3MuZ2V0KHZhbHVlKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHZpZXdzKSkge1xuICAgICAgICAgICAgdmlld3MgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlVmlld3Muc2V0KHZhbHVlLCB2aWV3cyk7XG4gICAgICAgIH1cbiAgICAgICAgdmlld3MucHVzaCh2aWV3KTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBOZ1N3aXRjaC5wcm90b3R5cGUuX2RlcmVnaXN0ZXJWaWV3ID0gZnVuY3Rpb24gKHZhbHVlLCB2aWV3KSB7XG4gICAgICAgIC8vIGBfV0hFTl9ERUZBVUxUYCBpcyB1c2VkIGEgbWFya2VyIGZvciBub24tcmVnaXN0ZXJlZCB3aGVuc1xuICAgICAgICBpZiAodmFsdWUgPT09IF9XSEVOX0RFRkFVTFQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciB2aWV3cyA9IHRoaXMuX3ZhbHVlVmlld3MuZ2V0KHZhbHVlKTtcbiAgICAgICAgaWYgKHZpZXdzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLl92YWx1ZVZpZXdzLmRlbGV0ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIucmVtb3ZlKHZpZXdzLCB2aWV3KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTmdTd2l0Y2guZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuRGlyZWN0aXZlLCBhcmdzOiBbeyBzZWxlY3RvcjogJ1tuZ1N3aXRjaF0nLCBpbnB1dHM6IFsnbmdTd2l0Y2gnXSB9LF0gfSxcbiAgICBdO1xuICAgIHJldHVybiBOZ1N3aXRjaDtcbn0oKSk7XG5leHBvcnRzLk5nU3dpdGNoID0gTmdTd2l0Y2g7XG52YXIgTmdTd2l0Y2hXaGVuID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZ1N3aXRjaFdoZW4odmlld0NvbnRhaW5lciwgdGVtcGxhdGVSZWYsIG5nU3dpdGNoKSB7XG4gICAgICAgIC8vIGBfV0hFTl9ERUZBVUxUYCBpcyB1c2VkIGFzIGEgbWFya2VyIGZvciBhIG5vdCB5ZXQgaW5pdGlhbGl6ZWQgdmFsdWVcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl92YWx1ZSA9IF9XSEVOX0RFRkFVTFQ7XG4gICAgICAgIHRoaXMuX3N3aXRjaCA9IG5nU3dpdGNoO1xuICAgICAgICB0aGlzLl92aWV3ID0gbmV3IFN3aXRjaFZpZXcodmlld0NvbnRhaW5lciwgdGVtcGxhdGVSZWYpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdTd2l0Y2hXaGVuLnByb3RvdHlwZSwgXCJuZ1N3aXRjaFdoZW5cIiwge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fc3dpdGNoLl9vbldoZW5WYWx1ZUNoYW5nZWQodGhpcy5fdmFsdWUsIHZhbHVlLCB0aGlzLl92aWV3KTtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE5nU3dpdGNoV2hlbi5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5EaXJlY3RpdmUsIGFyZ3M6IFt7IHNlbGVjdG9yOiAnW25nU3dpdGNoV2hlbl0nLCBpbnB1dHM6IFsnbmdTd2l0Y2hXaGVuJ10gfSxdIH0sXG4gICAgXTtcbiAgICBOZ1N3aXRjaFdoZW4uY3RvclBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLlZpZXdDb250YWluZXJSZWYsIH0sXG4gICAgICAgIHsgdHlwZTogY29yZV8xLlRlbXBsYXRlUmVmLCB9LFxuICAgICAgICB7IHR5cGU6IE5nU3dpdGNoLCBkZWNvcmF0b3JzOiBbeyB0eXBlOiBjb3JlXzEuSG9zdCB9LF0gfSxcbiAgICBdO1xuICAgIHJldHVybiBOZ1N3aXRjaFdoZW47XG59KCkpO1xuZXhwb3J0cy5OZ1N3aXRjaFdoZW4gPSBOZ1N3aXRjaFdoZW47XG52YXIgTmdTd2l0Y2hEZWZhdWx0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZ1N3aXRjaERlZmF1bHQodmlld0NvbnRhaW5lciwgdGVtcGxhdGVSZWYsIHNzd2l0Y2gpIHtcbiAgICAgICAgc3N3aXRjaC5fcmVnaXN0ZXJWaWV3KF9XSEVOX0RFRkFVTFQsIG5ldyBTd2l0Y2hWaWV3KHZpZXdDb250YWluZXIsIHRlbXBsYXRlUmVmKSk7XG4gICAgfVxuICAgIE5nU3dpdGNoRGVmYXVsdC5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5EaXJlY3RpdmUsIGFyZ3M6IFt7IHNlbGVjdG9yOiAnW25nU3dpdGNoRGVmYXVsdF0nIH0sXSB9LFxuICAgIF07XG4gICAgTmdTd2l0Y2hEZWZhdWx0LmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5WaWV3Q29udGFpbmVyUmVmLCB9LFxuICAgICAgICB7IHR5cGU6IGNvcmVfMS5UZW1wbGF0ZVJlZiwgfSxcbiAgICAgICAgeyB0eXBlOiBOZ1N3aXRjaCwgZGVjb3JhdG9yczogW3sgdHlwZTogY29yZV8xLkhvc3QgfSxdIH0sXG4gICAgXTtcbiAgICByZXR1cm4gTmdTd2l0Y2hEZWZhdWx0O1xufSgpKTtcbmV4cG9ydHMuTmdTd2l0Y2hEZWZhdWx0ID0gTmdTd2l0Y2hEZWZhdWx0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmdfc3dpdGNoLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBOZ1RlbXBsYXRlT3V0bGV0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZ1RlbXBsYXRlT3V0bGV0KF92aWV3Q29udGFpbmVyUmVmKSB7XG4gICAgICAgIHRoaXMuX3ZpZXdDb250YWluZXJSZWYgPSBfdmlld0NvbnRhaW5lclJlZjtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nVGVtcGxhdGVPdXRsZXQucHJvdG90eXBlLCBcIm5nVGVtcGxhdGVPdXRsZXRcIiwge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0ZW1wbGF0ZVJlZikge1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGhpcy5faW5zZXJ0ZWRWaWV3UmVmKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdDb250YWluZXJSZWYucmVtb3ZlKHRoaXMuX3ZpZXdDb250YWluZXJSZWYuaW5kZXhPZih0aGlzLl9pbnNlcnRlZFZpZXdSZWYpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHRlbXBsYXRlUmVmKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luc2VydGVkVmlld1JlZiA9IHRoaXMuX3ZpZXdDb250YWluZXJSZWYuY3JlYXRlRW1iZWRkZWRWaWV3KHRlbXBsYXRlUmVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTmdUZW1wbGF0ZU91dGxldC5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5EaXJlY3RpdmUsIGFyZ3M6IFt7IHNlbGVjdG9yOiAnW25nVGVtcGxhdGVPdXRsZXRdJyB9LF0gfSxcbiAgICBdO1xuICAgIE5nVGVtcGxhdGVPdXRsZXQuY3RvclBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLlZpZXdDb250YWluZXJSZWYsIH0sXG4gICAgXTtcbiAgICBOZ1RlbXBsYXRlT3V0bGV0LnByb3BEZWNvcmF0b3JzID0ge1xuICAgICAgICAnbmdUZW1wbGF0ZU91dGxldCc6IFt7IHR5cGU6IGNvcmVfMS5JbnB1dCB9LF0sXG4gICAgfTtcbiAgICByZXR1cm4gTmdUZW1wbGF0ZU91dGxldDtcbn0oKSk7XG5leHBvcnRzLk5nVGVtcGxhdGVPdXRsZXQgPSBOZ1RlbXBsYXRlT3V0bGV0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmdfdGVtcGxhdGVfb3V0bGV0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2YWJsZV9saXN0X2RpZmYuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuL2xhbmcnKTtcbnZhciBwcm9taXNlXzEgPSByZXF1aXJlKCcuL3Byb21pc2UnKTtcbmV4cG9ydHMuUHJvbWlzZVdyYXBwZXIgPSBwcm9taXNlXzEuUHJvbWlzZVdyYXBwZXI7XG5leHBvcnRzLlByb21pc2VDb21wbGV0ZXIgPSBwcm9taXNlXzEuUHJvbWlzZUNvbXBsZXRlcjtcbnZhciBTdWJqZWN0XzEgPSByZXF1aXJlKCdyeGpzL1N1YmplY3QnKTtcbnZhciBQcm9taXNlT2JzZXJ2YWJsZV8xID0gcmVxdWlyZSgncnhqcy9vYnNlcnZhYmxlL1Byb21pc2VPYnNlcnZhYmxlJyk7XG52YXIgdG9Qcm9taXNlXzEgPSByZXF1aXJlKCdyeGpzL29wZXJhdG9yL3RvUHJvbWlzZScpO1xudmFyIE9ic2VydmFibGVfMSA9IHJlcXVpcmUoJ3J4anMvT2JzZXJ2YWJsZScpO1xuZXhwb3J0cy5PYnNlcnZhYmxlID0gT2JzZXJ2YWJsZV8xLk9ic2VydmFibGU7XG52YXIgU3ViamVjdF8yID0gcmVxdWlyZSgncnhqcy9TdWJqZWN0Jyk7XG5leHBvcnRzLlN1YmplY3QgPSBTdWJqZWN0XzIuU3ViamVjdDtcbnZhciBUaW1lcldyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRpbWVyV3JhcHBlcigpIHtcbiAgICB9XG4gICAgVGltZXJXcmFwcGVyLnNldFRpbWVvdXQgPSBmdW5jdGlvbiAoZm4sIG1pbGxpcykge1xuICAgICAgICByZXR1cm4gbGFuZ18xLmdsb2JhbC5zZXRUaW1lb3V0KGZuLCBtaWxsaXMpO1xuICAgIH07XG4gICAgVGltZXJXcmFwcGVyLmNsZWFyVGltZW91dCA9IGZ1bmN0aW9uIChpZCkgeyBsYW5nXzEuZ2xvYmFsLmNsZWFyVGltZW91dChpZCk7IH07XG4gICAgVGltZXJXcmFwcGVyLnNldEludGVydmFsID0gZnVuY3Rpb24gKGZuLCBtaWxsaXMpIHtcbiAgICAgICAgcmV0dXJuIGxhbmdfMS5nbG9iYWwuc2V0SW50ZXJ2YWwoZm4sIG1pbGxpcyk7XG4gICAgfTtcbiAgICBUaW1lcldyYXBwZXIuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uIChpZCkgeyBsYW5nXzEuZ2xvYmFsLmNsZWFySW50ZXJ2YWwoaWQpOyB9O1xuICAgIHJldHVybiBUaW1lcldyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5UaW1lcldyYXBwZXIgPSBUaW1lcldyYXBwZXI7XG52YXIgT2JzZXJ2YWJsZVdyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGVXcmFwcGVyKCkge1xuICAgIH1cbiAgICAvLyBUT0RPKHZzYXZraW4pOiB3aGVuIHdlIHVzZSByeG5leHQsIHRyeSBpbmZlcnJpbmcgdGhlIGdlbmVyaWMgdHlwZSBmcm9tIHRoZSBmaXJzdCBhcmdcbiAgICBPYnNlcnZhYmxlV3JhcHBlci5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoZW1pdHRlciwgb25OZXh0LCBvbkVycm9yLCBvbkNvbXBsZXRlKSB7XG4gICAgICAgIGlmIChvbkNvbXBsZXRlID09PSB2b2lkIDApIHsgb25Db21wbGV0ZSA9IGZ1bmN0aW9uICgpIHsgfTsgfVxuICAgICAgICBvbkVycm9yID0gKHR5cGVvZiBvbkVycm9yID09PSBcImZ1bmN0aW9uXCIpICYmIG9uRXJyb3IgfHwgbGFuZ18xLm5vb3A7XG4gICAgICAgIG9uQ29tcGxldGUgPSAodHlwZW9mIG9uQ29tcGxldGUgPT09IFwiZnVuY3Rpb25cIikgJiYgb25Db21wbGV0ZSB8fCBsYW5nXzEubm9vcDtcbiAgICAgICAgcmV0dXJuIGVtaXR0ZXIuc3Vic2NyaWJlKHsgbmV4dDogb25OZXh0LCBlcnJvcjogb25FcnJvciwgY29tcGxldGU6IG9uQ29tcGxldGUgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlV3JhcHBlci5pc09ic2VydmFibGUgPSBmdW5jdGlvbiAob2JzKSB7IHJldHVybiAhIW9icy5zdWJzY3JpYmU7IH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIGBvYnNgIGhhcyBhbnkgc3Vic2NyaWJlcnMgbGlzdGVuaW5nIHRvIGV2ZW50cy5cbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlV3JhcHBlci5oYXNTdWJzY3JpYmVycyA9IGZ1bmN0aW9uIChvYnMpIHsgcmV0dXJuIG9icy5vYnNlcnZlcnMubGVuZ3RoID4gMDsgfTtcbiAgICBPYnNlcnZhYmxlV3JhcHBlci5kaXNwb3NlID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikgeyBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTsgfTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCAtIHVzZSBjYWxsRW1pdCgpIGluc3RlYWRcbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlV3JhcHBlci5jYWxsTmV4dCA9IGZ1bmN0aW9uIChlbWl0dGVyLCB2YWx1ZSkgeyBlbWl0dGVyLm5leHQodmFsdWUpOyB9O1xuICAgIE9ic2VydmFibGVXcmFwcGVyLmNhbGxFbWl0ID0gZnVuY3Rpb24gKGVtaXR0ZXIsIHZhbHVlKSB7IGVtaXR0ZXIuZW1pdCh2YWx1ZSk7IH07XG4gICAgT2JzZXJ2YWJsZVdyYXBwZXIuY2FsbEVycm9yID0gZnVuY3Rpb24gKGVtaXR0ZXIsIGVycm9yKSB7IGVtaXR0ZXIuZXJyb3IoZXJyb3IpOyB9O1xuICAgIE9ic2VydmFibGVXcmFwcGVyLmNhbGxDb21wbGV0ZSA9IGZ1bmN0aW9uIChlbWl0dGVyKSB7IGVtaXR0ZXIuY29tcGxldGUoKTsgfTtcbiAgICBPYnNlcnZhYmxlV3JhcHBlci5mcm9tUHJvbWlzZSA9IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlT2JzZXJ2YWJsZV8xLlByb21pc2VPYnNlcnZhYmxlLmNyZWF0ZShwcm9taXNlKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVXcmFwcGVyLnRvUHJvbWlzZSA9IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHRvUHJvbWlzZV8xLnRvUHJvbWlzZS5jYWxsKG9iaik7IH07XG4gICAgcmV0dXJuIE9ic2VydmFibGVXcmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuT2JzZXJ2YWJsZVdyYXBwZXIgPSBPYnNlcnZhYmxlV3JhcHBlcjtcbi8qKlxuICogVXNlIGJ5IGRpcmVjdGl2ZXMgYW5kIGNvbXBvbmVudHMgdG8gZW1pdCBjdXN0b20gRXZlbnRzLlxuICpcbiAqICMjIyBFeGFtcGxlc1xuICpcbiAqIEluIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSwgYFppcHB5YCBhbHRlcm5hdGl2ZWx5IGVtaXRzIGBvcGVuYCBhbmQgYGNsb3NlYCBldmVudHMgd2hlbiBpdHNcbiAqIHRpdGxlIGdldHMgY2xpY2tlZDpcbiAqXG4gKiBgYGBcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ3ppcHB5JyxcbiAqICAgdGVtcGxhdGU6IGBcbiAqICAgPGRpdiBjbGFzcz1cInppcHB5XCI+XG4gKiAgICAgPGRpdiAoY2xpY2spPVwidG9nZ2xlKClcIj5Ub2dnbGU8L2Rpdj5cbiAqICAgICA8ZGl2IFtoaWRkZW5dPVwiIXZpc2libGVcIj5cbiAqICAgICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cbiAqICAgICA8L2Rpdj5cbiAqICA8L2Rpdj5gfSlcbiAqIGV4cG9ydCBjbGFzcyBaaXBweSB7XG4gKiAgIHZpc2libGU6IGJvb2xlYW4gPSB0cnVlO1xuICogICBAT3V0cHV0KCkgb3BlbjogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gKiAgIEBPdXRwdXQoKSBjbG9zZTogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gKlxuICogICB0b2dnbGUoKSB7XG4gKiAgICAgdGhpcy52aXNpYmxlID0gIXRoaXMudmlzaWJsZTtcbiAqICAgICBpZiAodGhpcy52aXNpYmxlKSB7XG4gKiAgICAgICB0aGlzLm9wZW4uZW1pdChudWxsKTtcbiAqICAgICB9IGVsc2Uge1xuICogICAgICAgdGhpcy5jbG9zZS5lbWl0KG51bGwpO1xuICogICAgIH1cbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogVXNlIFJ4Lk9ic2VydmFibGUgYnV0IHByb3ZpZGVzIGFuIGFkYXB0ZXIgdG8gbWFrZSBpdCB3b3JrIGFzIHNwZWNpZmllZCBoZXJlOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2podXNhaW4vb2JzZXJ2YWJsZS1zcGVjXG4gKlxuICogT25jZSBhIHJlZmVyZW5jZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgc3BlYyBpcyBhdmFpbGFibGUsIHN3aXRjaCB0byBpdC5cbiAqL1xudmFyIEV2ZW50RW1pdHRlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEV2ZW50RW1pdHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIFtFdmVudEVtaXR0ZXJdLCB3aGljaCBkZXBlbmRpbmcgb24gW2lzQXN5bmNdLFxuICAgICAqIGRlbGl2ZXJzIGV2ZW50cyBzeW5jaHJvbm91c2x5IG9yIGFzeW5jaHJvbm91c2x5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcihpc0FzeW5jKSB7XG4gICAgICAgIGlmIChpc0FzeW5jID09PSB2b2lkIDApIHsgaXNBc3luYyA9IHRydWU7IH1cbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX2lzQXN5bmMgPSBpc0FzeW5jO1xuICAgIH1cbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiAodmFsdWUpIHsgX3N1cGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcywgdmFsdWUpOyB9O1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIC0gdXNlIC5lbWl0KHZhbHVlKSBpbnN0ZWFkXG4gICAgICovXG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7IF9zdXBlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsIHZhbHVlKTsgfTtcbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChnZW5lcmF0b3JPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgc2NoZWR1bGVyRm47XG4gICAgICAgIHZhciBlcnJvckZuID0gZnVuY3Rpb24gKGVycikgeyByZXR1cm4gbnVsbDsgfTtcbiAgICAgICAgdmFyIGNvbXBsZXRlRm4gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9O1xuICAgICAgICBpZiAoZ2VuZXJhdG9yT3JOZXh0ICYmIHR5cGVvZiBnZW5lcmF0b3JPck5leHQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBzY2hlZHVsZXJGbiA9IHRoaXMuX2lzQXN5bmMgPyBmdW5jdGlvbiAodmFsdWUpIHsgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBnZW5lcmF0b3JPck5leHQubmV4dCh2YWx1ZSk7IH0pOyB9IDpcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHsgZ2VuZXJhdG9yT3JOZXh0Lm5leHQodmFsdWUpOyB9O1xuICAgICAgICAgICAgaWYgKGdlbmVyYXRvck9yTmV4dC5lcnJvcikge1xuICAgICAgICAgICAgICAgIGVycm9yRm4gPSB0aGlzLl9pc0FzeW5jID8gZnVuY3Rpb24gKGVycikgeyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdlbmVyYXRvck9yTmV4dC5lcnJvcihlcnIpOyB9KTsgfSA6XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnIpIHsgZ2VuZXJhdG9yT3JOZXh0LmVycm9yKGVycik7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2VuZXJhdG9yT3JOZXh0LmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVGbiA9IHRoaXMuX2lzQXN5bmMgPyBmdW5jdGlvbiAoKSB7IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2VuZXJhdG9yT3JOZXh0LmNvbXBsZXRlKCk7IH0pOyB9IDpcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyBnZW5lcmF0b3JPck5leHQuY29tcGxldGUoKTsgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNjaGVkdWxlckZuID0gdGhpcy5faXNBc3luYyA/IGZ1bmN0aW9uICh2YWx1ZSkgeyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdlbmVyYXRvck9yTmV4dCh2YWx1ZSk7IH0pOyB9IDpcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHsgZ2VuZXJhdG9yT3JOZXh0KHZhbHVlKTsgfTtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGVycm9yRm4gPVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0FzeW5jID8gZnVuY3Rpb24gKGVycikgeyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVycm9yKGVycik7IH0pOyB9IDogZnVuY3Rpb24gKGVycikgeyBlcnJvcihlcnIpOyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVGbiA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQXN5bmMgPyBmdW5jdGlvbiAoKSB7IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gY29tcGxldGUoKTsgfSk7IH0gOiBmdW5jdGlvbiAoKSB7IGNvbXBsZXRlKCk7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuc3Vic2NyaWJlLmNhbGwodGhpcywgc2NoZWR1bGVyRm4sIGVycm9yRm4sIGNvbXBsZXRlRm4pO1xuICAgIH07XG4gICAgcmV0dXJuIEV2ZW50RW1pdHRlcjtcbn0oU3ViamVjdF8xLlN1YmplY3QpKTtcbmV4cG9ydHMuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN5bmMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbi8qKlxuKiBBIGJhc2UgY2xhc3MgZm9yIHRoZSBXcmFwcGVkRXhjZXB0aW9uIHRoYXQgY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnlcbiogYSBXcmFwcGVkRXhjZXB0aW9uIGZyb20gRXhjZXB0aW9uSGFuZGxlciB3aXRob3V0IGFkZGluZyBjaXJjdWxhclxuKiBkZXBlbmRlbmN5LlxuKi9cbnZhciBCYXNlV3JhcHBlZEV4Y2VwdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VXcmFwcGVkRXhjZXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJhc2VXcmFwcGVkRXhjZXB0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwid3JhcHBlck1lc3NhZ2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcnOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZVdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcIndyYXBwZXJTdGFja1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJvcmlnaW5hbEV4Y2VwdGlvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJvcmlnaW5hbFN0YWNrXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZVdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcImNvbnRleHRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwibWVzc2FnZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gJyc7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCYXNlV3JhcHBlZEV4Y2VwdGlvbjtcbn0oRXJyb3IpKTtcbmV4cG9ydHMuQmFzZVdyYXBwZWRFeGNlcHRpb24gPSBCYXNlV3JhcHBlZEV4Y2VwdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2Vfd3JhcHBlZF9leGNlcHRpb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi9sYW5nJyk7XG5leHBvcnRzLk1hcCA9IGxhbmdfMS5nbG9iYWwuTWFwO1xuZXhwb3J0cy5TZXQgPSBsYW5nXzEuZ2xvYmFsLlNldDtcbi8vIFNhZmFyaSBhbmQgSW50ZXJuZXQgRXhwbG9yZXIgZG8gbm90IHN1cHBvcnQgdGhlIGl0ZXJhYmxlIHBhcmFtZXRlciB0byB0aGVcbi8vIE1hcCBjb25zdHJ1Y3Rvci4gIFdlIHdvcmsgYXJvdW5kIHRoYXQgYnkgbWFudWFsbHkgYWRkaW5nIHRoZSBpdGVtcy5cbnZhciBjcmVhdGVNYXBGcm9tUGFpcnMgPSAoZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChuZXcgZXhwb3J0cy5NYXAoW1sxLCAyXV0pLnNpemUgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVNYXBGcm9tUGFpcnMocGFpcnMpIHsgcmV0dXJuIG5ldyBleHBvcnRzLk1hcChwYWlycyk7IH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZU1hcEFuZFBvcHVsYXRlRnJvbVBhaXJzKHBhaXJzKSB7XG4gICAgICAgIHZhciBtYXAgPSBuZXcgZXhwb3J0cy5NYXAoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpXTtcbiAgICAgICAgICAgIG1hcC5zZXQocGFpclswXSwgcGFpclsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICB9O1xufSkoKTtcbnZhciBjcmVhdGVNYXBGcm9tTWFwID0gKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAobmV3IGV4cG9ydHMuTWFwKG5ldyBleHBvcnRzLk1hcCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZU1hcEZyb21NYXAobSkgeyByZXR1cm4gbmV3IGV4cG9ydHMuTWFwKG0pOyB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVNYXBBbmRQb3B1bGF0ZUZyb21NYXAobSkge1xuICAgICAgICB2YXIgbWFwID0gbmV3IGV4cG9ydHMuTWFwKCk7XG4gICAgICAgIG0uZm9yRWFjaChmdW5jdGlvbiAodiwgaykgeyBtYXAuc2V0KGssIHYpOyB9KTtcbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICB9O1xufSkoKTtcbnZhciBfY2xlYXJWYWx1ZXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGlmICgobmV3IGV4cG9ydHMuTWFwKCkpLmtleXMoKS5uZXh0KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfY2xlYXJWYWx1ZXMobSkge1xuICAgICAgICAgICAgdmFyIGtleUl0ZXJhdG9yID0gbS5rZXlzKCk7XG4gICAgICAgICAgICB2YXIgaztcbiAgICAgICAgICAgIHdoaWxlICghKChrID0ga2V5SXRlcmF0b3IubmV4dCgpKS5kb25lKSkge1xuICAgICAgICAgICAgICAgIG0uc2V0KGsudmFsdWUsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9jbGVhclZhbHVlc1dpdGhGb3JlRWFjaChtKSB7XG4gICAgICAgICAgICBtLmZvckVhY2goZnVuY3Rpb24gKHYsIGspIHsgbS5zZXQoaywgbnVsbCk7IH0pO1xuICAgICAgICB9O1xuICAgIH1cbn0pKCk7XG4vLyBTYWZhcmkgZG9lc24ndCBpbXBsZW1lbnQgTWFwSXRlcmF0b3IubmV4dCgpLCB3aGljaCBpcyB1c2VkIGlzIFRyYWNldXIncyBwb2x5ZmlsbCBvZiBBcnJheS5mcm9tXG4vLyBUT0RPKG1sYXZhbCk6IHJlbW92ZSB0aGUgd29yayBhcm91bmQgb25jZSB3ZSBoYXZlIGEgd29ya2luZyBwb2x5ZmlsbCBvZiBBcnJheS5mcm9tXG52YXIgX2FycmF5RnJvbU1hcCA9IChmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKChuZXcgZXhwb3J0cy5NYXAoKSkudmFsdWVzKCkubmV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUFycmF5RnJvbU1hcChtLCBnZXRWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VmFsdWVzID8gQXJyYXkuZnJvbShtLnZhbHVlcygpKSA6IEFycmF5LmZyb20obS5rZXlzKCkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlQXJyYXlGcm9tTWFwV2l0aEZvcmVhY2gobSwgZ2V0VmFsdWVzKSB7XG4gICAgICAgIHZhciByZXMgPSBMaXN0V3JhcHBlci5jcmVhdGVGaXhlZFNpemUobS5zaXplKSwgaSA9IDA7XG4gICAgICAgIG0uZm9yRWFjaChmdW5jdGlvbiAodiwgaykge1xuICAgICAgICAgICAgcmVzW2ldID0gZ2V0VmFsdWVzID8gdiA6IGs7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG59KSgpO1xudmFyIE1hcFdyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1hcFdyYXBwZXIoKSB7XG4gICAgfVxuICAgIE1hcFdyYXBwZXIuY2xvbmUgPSBmdW5jdGlvbiAobSkgeyByZXR1cm4gY3JlYXRlTWFwRnJvbU1hcChtKTsgfTtcbiAgICBNYXBXcmFwcGVyLmNyZWF0ZUZyb21TdHJpbmdNYXAgPSBmdW5jdGlvbiAoc3RyaW5nTWFwKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgZXhwb3J0cy5NYXAoKTtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzdHJpbmdNYXApIHtcbiAgICAgICAgICAgIHJlc3VsdC5zZXQocHJvcCwgc3RyaW5nTWFwW3Byb3BdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgTWFwV3JhcHBlci50b1N0cmluZ01hcCA9IGZ1bmN0aW9uIChtKSB7XG4gICAgICAgIHZhciByID0ge307XG4gICAgICAgIG0uZm9yRWFjaChmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gcltrXSA9IHY7IH0pO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9O1xuICAgIE1hcFdyYXBwZXIuY3JlYXRlRnJvbVBhaXJzID0gZnVuY3Rpb24gKHBhaXJzKSB7IHJldHVybiBjcmVhdGVNYXBGcm9tUGFpcnMocGFpcnMpOyB9O1xuICAgIE1hcFdyYXBwZXIuY2xlYXJWYWx1ZXMgPSBmdW5jdGlvbiAobSkgeyBfY2xlYXJWYWx1ZXMobSk7IH07XG4gICAgTWFwV3JhcHBlci5pdGVyYWJsZSA9IGZ1bmN0aW9uIChtKSB7IHJldHVybiBtOyB9O1xuICAgIE1hcFdyYXBwZXIua2V5cyA9IGZ1bmN0aW9uIChtKSB7IHJldHVybiBfYXJyYXlGcm9tTWFwKG0sIGZhbHNlKTsgfTtcbiAgICBNYXBXcmFwcGVyLnZhbHVlcyA9IGZ1bmN0aW9uIChtKSB7IHJldHVybiBfYXJyYXlGcm9tTWFwKG0sIHRydWUpOyB9O1xuICAgIHJldHVybiBNYXBXcmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuTWFwV3JhcHBlciA9IE1hcFdyYXBwZXI7XG4vKipcbiAqIFdyYXBzIEphdmFzY3JpcHQgT2JqZWN0c1xuICovXG52YXIgU3RyaW5nTWFwV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RyaW5nTWFwV3JhcHBlcigpIHtcbiAgICB9XG4gICAgU3RyaW5nTWFwV3JhcHBlci5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIE5vdGU6IFdlIGFyZSBub3QgdXNpbmcgT2JqZWN0LmNyZWF0ZShudWxsKSBoZXJlIGR1ZSB0b1xuICAgICAgICAvLyBwZXJmb3JtYW5jZSFcbiAgICAgICAgLy8gaHR0cDovL2pzcGVyZi5jb20vbmcyLW9iamVjdC1jcmVhdGUtbnVsbFxuICAgICAgICByZXR1cm4ge307XG4gICAgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLmNvbnRhaW5zID0gZnVuY3Rpb24gKG1hcCwga2V5KSB7XG4gICAgICAgIHJldHVybiBtYXAuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgICB9O1xuICAgIFN0cmluZ01hcFdyYXBwZXIuZ2V0ID0gZnVuY3Rpb24gKG1hcCwga2V5KSB7XG4gICAgICAgIHJldHVybiBtYXAuaGFzT3duUHJvcGVydHkoa2V5KSA/IG1hcFtrZXldIDogdW5kZWZpbmVkO1xuICAgIH07XG4gICAgU3RyaW5nTWFwV3JhcHBlci5zZXQgPSBmdW5jdGlvbiAobWFwLCBrZXksIHZhbHVlKSB7IG1hcFtrZXldID0gdmFsdWU7IH07XG4gICAgU3RyaW5nTWFwV3JhcHBlci5rZXlzID0gZnVuY3Rpb24gKG1hcCkgeyByZXR1cm4gT2JqZWN0LmtleXMobWFwKTsgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLnZhbHVlcyA9IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG1hcCkucmVkdWNlKGZ1bmN0aW9uIChyLCBhKSB7XG4gICAgICAgICAgICByLnB1c2gobWFwW2FdKTtcbiAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICB9LCBbXSk7XG4gICAgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLmlzRW1wdHkgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gbWFwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLmRlbGV0ZSA9IGZ1bmN0aW9uIChtYXAsIGtleSkgeyBkZWxldGUgbWFwW2tleV07IH07XG4gICAgU3RyaW5nTWFwV3JhcHBlci5mb3JFYWNoID0gZnVuY3Rpb24gKG1hcCwgY2FsbGJhY2spIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBtYXApIHtcbiAgICAgICAgICAgIGlmIChtYXAuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhtYXBbcHJvcF0sIHByb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLm1lcmdlID0gZnVuY3Rpb24gKG0xLCBtMikge1xuICAgICAgICB2YXIgbSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBhdHRyIGluIG0xKSB7XG4gICAgICAgICAgICBpZiAobTEuaGFzT3duUHJvcGVydHkoYXR0cikpIHtcbiAgICAgICAgICAgICAgICBtW2F0dHJdID0gbTFbYXR0cl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBtMikge1xuICAgICAgICAgICAgaWYgKG0yLmhhc093blByb3BlcnR5KGF0dHIpKSB7XG4gICAgICAgICAgICAgICAgbVthdHRyXSA9IG0yW2F0dHJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtO1xuICAgIH07XG4gICAgU3RyaW5nTWFwV3JhcHBlci5lcXVhbHMgPSBmdW5jdGlvbiAobTEsIG0yKSB7XG4gICAgICAgIHZhciBrMSA9IE9iamVjdC5rZXlzKG0xKTtcbiAgICAgICAgdmFyIGsyID0gT2JqZWN0LmtleXMobTIpO1xuICAgICAgICBpZiAoazEubGVuZ3RoICE9IGsyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgazEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGtleSA9IGsxW2ldO1xuICAgICAgICAgICAgaWYgKG0xW2tleV0gIT09IG0yW2tleV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gU3RyaW5nTWFwV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLlN0cmluZ01hcFdyYXBwZXIgPSBTdHJpbmdNYXBXcmFwcGVyO1xudmFyIExpc3RXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMaXN0V3JhcHBlcigpIHtcbiAgICB9XG4gICAgLy8gSlMgaGFzIG5vIHdheSB0byBleHByZXNzIGEgc3RhdGljYWxseSBmaXhlZCBzaXplIGxpc3QsIGJ1dCBkYXJ0IGRvZXMgc28gd2VcbiAgICAvLyBrZWVwIGJvdGggbWV0aG9kcy5cbiAgICBMaXN0V3JhcHBlci5jcmVhdGVGaXhlZFNpemUgPSBmdW5jdGlvbiAoc2l6ZSkgeyByZXR1cm4gbmV3IEFycmF5KHNpemUpOyB9O1xuICAgIExpc3RXcmFwcGVyLmNyZWF0ZUdyb3dhYmxlU2l6ZSA9IGZ1bmN0aW9uIChzaXplKSB7IHJldHVybiBuZXcgQXJyYXkoc2l6ZSk7IH07XG4gICAgTGlzdFdyYXBwZXIuY2xvbmUgPSBmdW5jdGlvbiAoYXJyYXkpIHsgcmV0dXJuIGFycmF5LnNsaWNlKDApOyB9O1xuICAgIExpc3RXcmFwcGVyLmZvckVhY2hXaXRoSW5kZXggPSBmdW5jdGlvbiAoYXJyYXksIGZuKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZuKGFycmF5W2ldLCBpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuZmlyc3QgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgaWYgKCFhcnJheSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gYXJyYXlbMF07XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5sYXN0ID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgIGlmICghYXJyYXkgfHwgYXJyYXkubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuaW5kZXhPZiA9IGZ1bmN0aW9uIChhcnJheSwgdmFsdWUsIHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgaWYgKHN0YXJ0SW5kZXggPT09IHZvaWQgMCkgeyBzdGFydEluZGV4ID0gMDsgfVxuICAgICAgICByZXR1cm4gYXJyYXkuaW5kZXhPZih2YWx1ZSwgc3RhcnRJbmRleCk7XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5jb250YWlucyA9IGZ1bmN0aW9uIChsaXN0LCBlbCkgeyByZXR1cm4gbGlzdC5pbmRleE9mKGVsKSAhPT0gLTE7IH07XG4gICAgTGlzdFdyYXBwZXIucmV2ZXJzZWQgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgdmFyIGEgPSBMaXN0V3JhcHBlci5jbG9uZShhcnJheSk7XG4gICAgICAgIHJldHVybiBhLnJldmVyc2UoKTtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLmNvbmNhdCA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmNvbmNhdChiKTsgfTtcbiAgICBMaXN0V3JhcHBlci5pbnNlcnQgPSBmdW5jdGlvbiAobGlzdCwgaW5kZXgsIHZhbHVlKSB7IGxpc3Quc3BsaWNlKGluZGV4LCAwLCB2YWx1ZSk7IH07XG4gICAgTGlzdFdyYXBwZXIucmVtb3ZlQXQgPSBmdW5jdGlvbiAobGlzdCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIHJlcyA9IGxpc3RbaW5kZXhdO1xuICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5yZW1vdmVBbGwgPSBmdW5jdGlvbiAobGlzdCwgaXRlbXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdC5pbmRleE9mKGl0ZW1zW2ldKTtcbiAgICAgICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGlzdFdyYXBwZXIucmVtb3ZlID0gZnVuY3Rpb24gKGxpc3QsIGVsKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGxpc3QuaW5kZXhPZihlbCk7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5jbGVhciA9IGZ1bmN0aW9uIChsaXN0KSB7IGxpc3QubGVuZ3RoID0gMDsgfTtcbiAgICBMaXN0V3JhcHBlci5pc0VtcHR5ID0gZnVuY3Rpb24gKGxpc3QpIHsgcmV0dXJuIGxpc3QubGVuZ3RoID09IDA7IH07XG4gICAgTGlzdFdyYXBwZXIuZmlsbCA9IGZ1bmN0aW9uIChsaXN0LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgICBpZiAoc3RhcnQgPT09IHZvaWQgMCkgeyBzdGFydCA9IDA7IH1cbiAgICAgICAgaWYgKGVuZCA9PT0gdm9pZCAwKSB7IGVuZCA9IG51bGw7IH1cbiAgICAgICAgbGlzdC5maWxsKHZhbHVlLCBzdGFydCwgZW5kID09PSBudWxsID8gbGlzdC5sZW5ndGggOiBlbmQpO1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuZXF1YWxzID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoICE9IGIubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChhW2ldICE9PSBiW2ldKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLnNsaWNlID0gZnVuY3Rpb24gKGwsIGZyb20sIHRvKSB7XG4gICAgICAgIGlmIChmcm9tID09PSB2b2lkIDApIHsgZnJvbSA9IDA7IH1cbiAgICAgICAgaWYgKHRvID09PSB2b2lkIDApIHsgdG8gPSBudWxsOyB9XG4gICAgICAgIHJldHVybiBsLnNsaWNlKGZyb20sIHRvID09PSBudWxsID8gdW5kZWZpbmVkIDogdG8pO1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuc3BsaWNlID0gZnVuY3Rpb24gKGwsIGZyb20sIGxlbmd0aCkgeyByZXR1cm4gbC5zcGxpY2UoZnJvbSwgbGVuZ3RoKTsgfTtcbiAgICBMaXN0V3JhcHBlci5zb3J0ID0gZnVuY3Rpb24gKGwsIGNvbXBhcmVGbikge1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChjb21wYXJlRm4pKSB7XG4gICAgICAgICAgICBsLnNvcnQoY29tcGFyZUZuKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGwuc29ydCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci50b1N0cmluZyA9IGZ1bmN0aW9uIChsKSB7IHJldHVybiBsLnRvU3RyaW5nKCk7IH07XG4gICAgTGlzdFdyYXBwZXIudG9KU09OID0gZnVuY3Rpb24gKGwpIHsgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGwpOyB9O1xuICAgIExpc3RXcmFwcGVyLm1heGltdW0gPSBmdW5jdGlvbiAobGlzdCwgcHJlZGljYXRlKSB7XG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc29sdXRpb24gPSBudWxsO1xuICAgICAgICB2YXIgbWF4VmFsdWUgPSAtSW5maW5pdHk7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IGxpc3RbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKGNhbmRpZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjYW5kaWRhdGVWYWx1ZSA9IHByZWRpY2F0ZShjYW5kaWRhdGUpO1xuICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZVZhbHVlID4gbWF4VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzb2x1dGlvbiA9IGNhbmRpZGF0ZTtcbiAgICAgICAgICAgICAgICBtYXhWYWx1ZSA9IGNhbmRpZGF0ZVZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb2x1dGlvbjtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLmZsYXR0ZW4gPSBmdW5jdGlvbiAobGlzdCkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gW107XG4gICAgICAgIF9mbGF0dGVuQXJyYXkobGlzdCwgdGFyZ2V0KTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLmFkZEFsbCA9IGZ1bmN0aW9uIChsaXN0LCBzb3VyY2UpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxpc3QucHVzaChzb3VyY2VbaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTGlzdFdyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5MaXN0V3JhcHBlciA9IExpc3RXcmFwcGVyO1xuZnVuY3Rpb24gX2ZsYXR0ZW5BcnJheShzb3VyY2UsIHRhcmdldCkge1xuICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHNvdXJjZSkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gc291cmNlW2ldO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgX2ZsYXR0ZW5BcnJheShpdGVtLCB0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIGlzTGlzdExpa2VJdGVyYWJsZShvYmopIHtcbiAgICBpZiAoIWxhbmdfMS5pc0pzT2JqZWN0KG9iaikpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gbGFuZ18xLmlzQXJyYXkob2JqKSB8fFxuICAgICAgICAoIShvYmogaW5zdGFuY2VvZiBleHBvcnRzLk1hcCkgJiZcbiAgICAgICAgICAgIGxhbmdfMS5nZXRTeW1ib2xJdGVyYXRvcigpIGluIG9iaik7IC8vIEpTIEl0ZXJhYmxlIGhhdmUgYSBTeW1ib2wuaXRlcmF0b3IgcHJvcFxufVxuZXhwb3J0cy5pc0xpc3RMaWtlSXRlcmFibGUgPSBpc0xpc3RMaWtlSXRlcmFibGU7XG5mdW5jdGlvbiBhcmVJdGVyYWJsZXNFcXVhbChhLCBiLCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGl0ZXJhdG9yMSA9IGFbbGFuZ18xLmdldFN5bWJvbEl0ZXJhdG9yKCldKCk7XG4gICAgdmFyIGl0ZXJhdG9yMiA9IGJbbGFuZ18xLmdldFN5bWJvbEl0ZXJhdG9yKCldKCk7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGl0ZW0xID0gaXRlcmF0b3IxLm5leHQoKTtcbiAgICAgICAgdmFyIGl0ZW0yID0gaXRlcmF0b3IyLm5leHQoKTtcbiAgICAgICAgaWYgKGl0ZW0xLmRvbmUgJiYgaXRlbTIuZG9uZSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoaXRlbTEuZG9uZSB8fCBpdGVtMi5kb25lKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIWNvbXBhcmF0b3IoaXRlbTEudmFsdWUsIGl0ZW0yLnZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5leHBvcnRzLmFyZUl0ZXJhYmxlc0VxdWFsID0gYXJlSXRlcmFibGVzRXF1YWw7XG5mdW5jdGlvbiBpdGVyYXRlTGlzdExpa2Uob2JqLCBmbikge1xuICAgIGlmIChsYW5nXzEuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmbihvYmpbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBvYmpbbGFuZ18xLmdldFN5bWJvbEl0ZXJhdG9yKCldKCk7XG4gICAgICAgIHZhciBpdGVtO1xuICAgICAgICB3aGlsZSAoISgoaXRlbSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkpIHtcbiAgICAgICAgICAgIGZuKGl0ZW0udmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5pdGVyYXRlTGlzdExpa2UgPSBpdGVyYXRlTGlzdExpa2U7XG4vLyBTYWZhcmkgYW5kIEludGVybmV0IEV4cGxvcmVyIGRvIG5vdCBzdXBwb3J0IHRoZSBpdGVyYWJsZSBwYXJhbWV0ZXIgdG8gdGhlXG4vLyBTZXQgY29uc3RydWN0b3IuICBXZSB3b3JrIGFyb3VuZCB0aGF0IGJ5IG1hbnVhbGx5IGFkZGluZyB0aGUgaXRlbXMuXG52YXIgY3JlYXRlU2V0RnJvbUxpc3QgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciB0ZXN0ID0gbmV3IGV4cG9ydHMuU2V0KFsxLCAyLCAzXSk7XG4gICAgaWYgKHRlc3Quc2l6ZSA9PT0gMykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlU2V0RnJvbUxpc3QobHN0KSB7IHJldHVybiBuZXcgZXhwb3J0cy5TZXQobHN0KTsgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVTZXRBbmRQb3B1bGF0ZUZyb21MaXN0KGxzdCkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IG5ldyBleHBvcnRzLlNldChsc3QpO1xuICAgICAgICAgICAgaWYgKHJlcy5zaXplICE9PSBsc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmFkZChsc3RbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcbnZhciBTZXRXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZXRXcmFwcGVyKCkge1xuICAgIH1cbiAgICBTZXRXcmFwcGVyLmNyZWF0ZUZyb21MaXN0ID0gZnVuY3Rpb24gKGxzdCkgeyByZXR1cm4gY3JlYXRlU2V0RnJvbUxpc3QobHN0KTsgfTtcbiAgICBTZXRXcmFwcGVyLmhhcyA9IGZ1bmN0aW9uIChzLCBrZXkpIHsgcmV0dXJuIHMuaGFzKGtleSk7IH07XG4gICAgU2V0V3JhcHBlci5kZWxldGUgPSBmdW5jdGlvbiAobSwgaykgeyBtLmRlbGV0ZShrKTsgfTtcbiAgICByZXR1cm4gU2V0V3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLlNldFdyYXBwZXIgPSBTZXRXcmFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sbGVjdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuL2xhbmcnKTtcbnZhciBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEgPSByZXF1aXJlKCcuL2Jhc2Vfd3JhcHBlZF9leGNlcHRpb24nKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuL2NvbGxlY3Rpb24nKTtcbnZhciBfQXJyYXlMb2dnZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIF9BcnJheUxvZ2dlcigpIHtcbiAgICAgICAgdGhpcy5yZXMgPSBbXTtcbiAgICB9XG4gICAgX0FycmF5TG9nZ2VyLnByb3RvdHlwZS5sb2cgPSBmdW5jdGlvbiAocykgeyB0aGlzLnJlcy5wdXNoKHMpOyB9O1xuICAgIF9BcnJheUxvZ2dlci5wcm90b3R5cGUubG9nRXJyb3IgPSBmdW5jdGlvbiAocykgeyB0aGlzLnJlcy5wdXNoKHMpOyB9O1xuICAgIF9BcnJheUxvZ2dlci5wcm90b3R5cGUubG9nR3JvdXAgPSBmdW5jdGlvbiAocykgeyB0aGlzLnJlcy5wdXNoKHMpOyB9O1xuICAgIF9BcnJheUxvZ2dlci5wcm90b3R5cGUubG9nR3JvdXBFbmQgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgO1xuICAgIHJldHVybiBfQXJyYXlMb2dnZXI7XG59KCkpO1xuLyoqXG4gKiBQcm92aWRlcyBhIGhvb2sgZm9yIGNlbnRyYWxpemVkIGV4Y2VwdGlvbiBoYW5kbGluZy5cbiAqXG4gKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiBgRXhjZXB0aW9uSGFuZGxlcmAgcHJpbnRzIGVycm9yIG1lc3NhZ2VzIHRvIHRoZSBgQ29uc29sZWAuIFRvXG4gKiBpbnRlcmNlcHQgZXJyb3IgaGFuZGxpbmcsXG4gKiB3cml0ZSBhIGN1c3RvbSBleGNlcHRpb24gaGFuZGxlciB0aGF0IHJlcGxhY2VzIHRoaXMgZGVmYXVsdCBhcyBhcHByb3ByaWF0ZSBmb3IgeW91ciBhcHAuXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKlxuICogY2xhc3MgTXlFeGNlcHRpb25IYW5kbGVyIGltcGxlbWVudHMgRXhjZXB0aW9uSGFuZGxlciB7XG4gKiAgIGNhbGwoZXJyb3IsIHN0YWNrVHJhY2UgPSBudWxsLCByZWFzb24gPSBudWxsKSB7XG4gKiAgICAgLy8gZG8gc29tZXRoaW5nIHdpdGggdGhlIGV4Y2VwdGlvblxuICogICB9XG4gKiB9XG4gKlxuICogYm9vdHN0cmFwKE15QXBwLCBbcHJvdmlkZShFeGNlcHRpb25IYW5kbGVyLCB7dXNlQ2xhc3M6IE15RXhjZXB0aW9uSGFuZGxlcn0pXSlcbiAqXG4gKiBgYGBcbiAqL1xudmFyIEV4Y2VwdGlvbkhhbmRsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbkhhbmRsZXIoX2xvZ2dlciwgX3JldGhyb3dFeGNlcHRpb24pIHtcbiAgICAgICAgaWYgKF9yZXRocm93RXhjZXB0aW9uID09PSB2b2lkIDApIHsgX3JldGhyb3dFeGNlcHRpb24gPSB0cnVlOyB9XG4gICAgICAgIHRoaXMuX2xvZ2dlciA9IF9sb2dnZXI7XG4gICAgICAgIHRoaXMuX3JldGhyb3dFeGNlcHRpb24gPSBfcmV0aHJvd0V4Y2VwdGlvbjtcbiAgICB9XG4gICAgRXhjZXB0aW9uSGFuZGxlci5leGNlcHRpb25Ub1N0cmluZyA9IGZ1bmN0aW9uIChleGNlcHRpb24sIHN0YWNrVHJhY2UsIHJlYXNvbikge1xuICAgICAgICBpZiAoc3RhY2tUcmFjZSA9PT0gdm9pZCAwKSB7IHN0YWNrVHJhY2UgPSBudWxsOyB9XG4gICAgICAgIGlmIChyZWFzb24gPT09IHZvaWQgMCkgeyByZWFzb24gPSBudWxsOyB9XG4gICAgICAgIHZhciBsID0gbmV3IF9BcnJheUxvZ2dlcigpO1xuICAgICAgICB2YXIgZSA9IG5ldyBFeGNlcHRpb25IYW5kbGVyKGwsIGZhbHNlKTtcbiAgICAgICAgZS5jYWxsKGV4Y2VwdGlvbiwgc3RhY2tUcmFjZSwgcmVhc29uKTtcbiAgICAgICAgcmV0dXJuIGwucmVzLmpvaW4oXCJcXG5cIik7XG4gICAgfTtcbiAgICBFeGNlcHRpb25IYW5kbGVyLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKGV4Y2VwdGlvbiwgc3RhY2tUcmFjZSwgcmVhc29uKSB7XG4gICAgICAgIGlmIChzdGFja1RyYWNlID09PSB2b2lkIDApIHsgc3RhY2tUcmFjZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKHJlYXNvbiA9PT0gdm9pZCAwKSB7IHJlYXNvbiA9IG51bGw7IH1cbiAgICAgICAgdmFyIG9yaWdpbmFsRXhjZXB0aW9uID0gdGhpcy5fZmluZE9yaWdpbmFsRXhjZXB0aW9uKGV4Y2VwdGlvbik7XG4gICAgICAgIHZhciBvcmlnaW5hbFN0YWNrID0gdGhpcy5fZmluZE9yaWdpbmFsU3RhY2soZXhjZXB0aW9uKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLl9maW5kQ29udGV4dChleGNlcHRpb24pO1xuICAgICAgICB0aGlzLl9sb2dnZXIubG9nR3JvdXAoXCJFWENFUFRJT046IFwiICsgdGhpcy5fZXh0cmFjdE1lc3NhZ2UoZXhjZXB0aW9uKSk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHN0YWNrVHJhY2UpICYmIGxhbmdfMS5pc0JsYW5rKG9yaWdpbmFsU3RhY2spKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nRXJyb3IoXCJTVEFDS1RSQUNFOlwiKTtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2dFcnJvcih0aGlzLl9sb25nU3RhY2tUcmFjZShzdGFja1RyYWNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocmVhc29uKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZ0Vycm9yKFwiUkVBU09OOiBcIiArIHJlYXNvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQob3JpZ2luYWxFeGNlcHRpb24pKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nRXJyb3IoXCJPUklHSU5BTCBFWENFUFRJT046IFwiICsgdGhpcy5fZXh0cmFjdE1lc3NhZ2Uob3JpZ2luYWxFeGNlcHRpb24pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChvcmlnaW5hbFN0YWNrKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZ0Vycm9yKFwiT1JJR0lOQUwgU1RBQ0tUUkFDRTpcIik7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nRXJyb3IodGhpcy5fbG9uZ1N0YWNrVHJhY2Uob3JpZ2luYWxTdGFjaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGNvbnRleHQpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nRXJyb3IoXCJFUlJPUiBDT05URVhUOlwiKTtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2dFcnJvcihjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2dnZXIubG9nR3JvdXBFbmQoKTtcbiAgICAgICAgLy8gV2UgcmV0aHJvdyBleGNlcHRpb25zLCBzbyBvcGVyYXRpb25zIGxpa2UgJ2Jvb3RzdHJhcCcgd2lsbCByZXN1bHQgaW4gYW4gZXJyb3JcbiAgICAgICAgLy8gd2hlbiBhbiBleGNlcHRpb24gaGFwcGVucy4gSWYgd2UgZG8gbm90IHJldGhyb3csIGJvb3RzdHJhcCB3aWxsIGFsd2F5cyBzdWNjZWVkLlxuICAgICAgICBpZiAodGhpcy5fcmV0aHJvd0V4Y2VwdGlvbilcbiAgICAgICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBFeGNlcHRpb25IYW5kbGVyLnByb3RvdHlwZS5fZXh0cmFjdE1lc3NhZ2UgPSBmdW5jdGlvbiAoZXhjZXB0aW9uKSB7XG4gICAgICAgIHJldHVybiBleGNlcHRpb24gaW5zdGFuY2VvZiBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEuQmFzZVdyYXBwZWRFeGNlcHRpb24gPyBleGNlcHRpb24ud3JhcHBlck1lc3NhZ2UgOlxuICAgICAgICAgICAgZXhjZXB0aW9uLnRvU3RyaW5nKCk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRXhjZXB0aW9uSGFuZGxlci5wcm90b3R5cGUuX2xvbmdTdGFja1RyYWNlID0gZnVuY3Rpb24gKHN0YWNrVHJhY2UpIHtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb25fMS5pc0xpc3RMaWtlSXRlcmFibGUoc3RhY2tUcmFjZSkgPyBzdGFja1RyYWNlLmpvaW4oXCJcXG5cXG4tLS0tLWFzeW5jIGdhcC0tLS0tXFxuXCIpIDpcbiAgICAgICAgICAgIHN0YWNrVHJhY2UudG9TdHJpbmcoKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBFeGNlcHRpb25IYW5kbGVyLnByb3RvdHlwZS5fZmluZENvbnRleHQgPSBmdW5jdGlvbiAoZXhjZXB0aW9uKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIShleGNlcHRpb24gaW5zdGFuY2VvZiBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEuQmFzZVdyYXBwZWRFeGNlcHRpb24pKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQoZXhjZXB0aW9uLmNvbnRleHQpID8gZXhjZXB0aW9uLmNvbnRleHQgOlxuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbmRDb250ZXh0KGV4Y2VwdGlvbi5vcmlnaW5hbEV4Y2VwdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIGV4Y2VwdGlvbi5jb250ZXh0IGNhbiB0aHJvdyBhbiBleGNlcHRpb24uIGlmIGl0IGhhcHBlbnMsIHdlIGlnbm9yZSB0aGUgY29udGV4dC5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRXhjZXB0aW9uSGFuZGxlci5wcm90b3R5cGUuX2ZpbmRPcmlnaW5hbEV4Y2VwdGlvbiA9IGZ1bmN0aW9uIChleGNlcHRpb24pIHtcbiAgICAgICAgaWYgKCEoZXhjZXB0aW9uIGluc3RhbmNlb2YgYmFzZV93cmFwcGVkX2V4Y2VwdGlvbl8xLkJhc2VXcmFwcGVkRXhjZXB0aW9uKSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB2YXIgZSA9IGV4Y2VwdGlvbi5vcmlnaW5hbEV4Y2VwdGlvbjtcbiAgICAgICAgd2hpbGUgKGUgaW5zdGFuY2VvZiBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEuQmFzZVdyYXBwZWRFeGNlcHRpb24gJiYgbGFuZ18xLmlzUHJlc2VudChlLm9yaWdpbmFsRXhjZXB0aW9uKSkge1xuICAgICAgICAgICAgZSA9IGUub3JpZ2luYWxFeGNlcHRpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRXhjZXB0aW9uSGFuZGxlci5wcm90b3R5cGUuX2ZpbmRPcmlnaW5hbFN0YWNrID0gZnVuY3Rpb24gKGV4Y2VwdGlvbikge1xuICAgICAgICBpZiAoIShleGNlcHRpb24gaW5zdGFuY2VvZiBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEuQmFzZVdyYXBwZWRFeGNlcHRpb24pKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBlID0gZXhjZXB0aW9uO1xuICAgICAgICB2YXIgc3RhY2sgPSBleGNlcHRpb24ub3JpZ2luYWxTdGFjaztcbiAgICAgICAgd2hpbGUgKGUgaW5zdGFuY2VvZiBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEuQmFzZVdyYXBwZWRFeGNlcHRpb24gJiYgbGFuZ18xLmlzUHJlc2VudChlLm9yaWdpbmFsRXhjZXB0aW9uKSkge1xuICAgICAgICAgICAgZSA9IGUub3JpZ2luYWxFeGNlcHRpb247XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMS5CYXNlV3JhcHBlZEV4Y2VwdGlvbiAmJiBsYW5nXzEuaXNQcmVzZW50KGUub3JpZ2luYWxFeGNlcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgc3RhY2sgPSBlLm9yaWdpbmFsU3RhY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YWNrO1xuICAgIH07XG4gICAgcmV0dXJuIEV4Y2VwdGlvbkhhbmRsZXI7XG59KCkpO1xuZXhwb3J0cy5FeGNlcHRpb25IYW5kbGVyID0gRXhjZXB0aW9uSGFuZGxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4Y2VwdGlvbl9oYW5kbGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgYmFzZV93cmFwcGVkX2V4Y2VwdGlvbl8xID0gcmVxdWlyZSgnLi9iYXNlX3dyYXBwZWRfZXhjZXB0aW9uJyk7XG52YXIgZXhjZXB0aW9uX2hhbmRsZXJfMSA9IHJlcXVpcmUoJy4vZXhjZXB0aW9uX2hhbmRsZXInKTtcbnZhciBleGNlcHRpb25faGFuZGxlcl8yID0gcmVxdWlyZSgnLi9leGNlcHRpb25faGFuZGxlcicpO1xuZXhwb3J0cy5FeGNlcHRpb25IYW5kbGVyID0gZXhjZXB0aW9uX2hhbmRsZXJfMi5FeGNlcHRpb25IYW5kbGVyO1xudmFyIEJhc2VFeGNlcHRpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlRXhjZXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJhc2VFeGNlcHRpb24obWVzc2FnZSkge1xuICAgICAgICBpZiAobWVzc2FnZSA9PT0gdm9pZCAwKSB7IG1lc3NhZ2UgPSBcIi0tXCI7IH1cbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKG1lc3NhZ2UpKS5zdGFjaztcbiAgICB9XG4gICAgQmFzZUV4Y2VwdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1lc3NhZ2U7IH07XG4gICAgcmV0dXJuIEJhc2VFeGNlcHRpb247XG59KEVycm9yKSk7XG5leHBvcnRzLkJhc2VFeGNlcHRpb24gPSBCYXNlRXhjZXB0aW9uO1xuLyoqXG4gKiBXcmFwcyBhbiBleGNlcHRpb24gYW5kIHByb3ZpZGVzIGFkZGl0aW9uYWwgY29udGV4dCBvciBpbmZvcm1hdGlvbi5cbiAqL1xudmFyIFdyYXBwZWRFeGNlcHRpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhXcmFwcGVkRXhjZXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFdyYXBwZWRFeGNlcHRpb24oX3dyYXBwZXJNZXNzYWdlLCBfb3JpZ2luYWxFeGNlcHRpb24sIF9vcmlnaW5hbFN0YWNrLCBfY29udGV4dCkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBfd3JhcHBlck1lc3NhZ2UpO1xuICAgICAgICB0aGlzLl93cmFwcGVyTWVzc2FnZSA9IF93cmFwcGVyTWVzc2FnZTtcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxFeGNlcHRpb24gPSBfb3JpZ2luYWxFeGNlcHRpb247XG4gICAgICAgIHRoaXMuX29yaWdpbmFsU3RhY2sgPSBfb3JpZ2luYWxTdGFjaztcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IF9jb250ZXh0O1xuICAgICAgICB0aGlzLl93cmFwcGVyU3RhY2sgPSAobmV3IEVycm9yKF93cmFwcGVyTWVzc2FnZSkpLnN0YWNrO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwid3JhcHBlck1lc3NhZ2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3dyYXBwZXJNZXNzYWdlOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwid3JhcHBlclN0YWNrXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl93cmFwcGVyU3RhY2s7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJvcmlnaW5hbEV4Y2VwdGlvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fb3JpZ2luYWxFeGNlcHRpb247IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJvcmlnaW5hbFN0YWNrXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9vcmlnaW5hbFN0YWNrOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwiY29udGV4dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fY29udGV4dDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcIm1lc3NhZ2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4Y2VwdGlvbl9oYW5kbGVyXzEuRXhjZXB0aW9uSGFuZGxlci5leGNlcHRpb25Ub1N0cmluZyh0aGlzKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1lc3NhZ2U7IH07XG4gICAgcmV0dXJuIFdyYXBwZWRFeGNlcHRpb247XG59KGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMS5CYXNlV3JhcHBlZEV4Y2VwdGlvbikpO1xuZXhwb3J0cy5XcmFwcGVkRXhjZXB0aW9uID0gV3JhcHBlZEV4Y2VwdGlvbjtcbmZ1bmN0aW9uIG1ha2VUeXBlRXJyb3IobWVzc2FnZSkge1xuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKG1lc3NhZ2UpO1xufVxuZXhwb3J0cy5tYWtlVHlwZUVycm9yID0gbWFrZVR5cGVFcnJvcjtcbmZ1bmN0aW9uIHVuaW1wbGVtZW50ZWQoKSB7XG4gICAgdGhyb3cgbmV3IEJhc2VFeGNlcHRpb24oJ3VuaW1wbGVtZW50ZWQnKTtcbn1cbmV4cG9ydHMudW5pbXBsZW1lbnRlZCA9IHVuaW1wbGVtZW50ZWQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGNlcHRpb25zLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuKGZ1bmN0aW9uIChOdW1iZXJGb3JtYXRTdHlsZSkge1xuICAgIE51bWJlckZvcm1hdFN0eWxlW051bWJlckZvcm1hdFN0eWxlW1wiRGVjaW1hbFwiXSA9IDBdID0gXCJEZWNpbWFsXCI7XG4gICAgTnVtYmVyRm9ybWF0U3R5bGVbTnVtYmVyRm9ybWF0U3R5bGVbXCJQZXJjZW50XCJdID0gMV0gPSBcIlBlcmNlbnRcIjtcbiAgICBOdW1iZXJGb3JtYXRTdHlsZVtOdW1iZXJGb3JtYXRTdHlsZVtcIkN1cnJlbmN5XCJdID0gMl0gPSBcIkN1cnJlbmN5XCI7XG59KShleHBvcnRzLk51bWJlckZvcm1hdFN0eWxlIHx8IChleHBvcnRzLk51bWJlckZvcm1hdFN0eWxlID0ge30pKTtcbnZhciBOdW1iZXJGb3JtYXRTdHlsZSA9IGV4cG9ydHMuTnVtYmVyRm9ybWF0U3R5bGU7XG52YXIgTnVtYmVyRm9ybWF0dGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOdW1iZXJGb3JtYXR0ZXIoKSB7XG4gICAgfVxuICAgIE51bWJlckZvcm1hdHRlci5mb3JtYXQgPSBmdW5jdGlvbiAobnVtLCBsb2NhbGUsIHN0eWxlLCBfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgX2MgPSBfYi5taW5pbXVtSW50ZWdlckRpZ2l0cywgbWluaW11bUludGVnZXJEaWdpdHMgPSBfYyA9PT0gdm9pZCAwID8gMSA6IF9jLCBfZCA9IF9iLm1pbmltdW1GcmFjdGlvbkRpZ2l0cywgbWluaW11bUZyYWN0aW9uRGlnaXRzID0gX2QgPT09IHZvaWQgMCA/IDAgOiBfZCwgX2UgPSBfYi5tYXhpbXVtRnJhY3Rpb25EaWdpdHMsIG1heGltdW1GcmFjdGlvbkRpZ2l0cyA9IF9lID09PSB2b2lkIDAgPyAzIDogX2UsIGN1cnJlbmN5ID0gX2IuY3VycmVuY3ksIF9mID0gX2IuY3VycmVuY3lBc1N5bWJvbCwgY3VycmVuY3lBc1N5bWJvbCA9IF9mID09PSB2b2lkIDAgPyBmYWxzZSA6IF9mO1xuICAgICAgICB2YXIgaW50bE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBtaW5pbXVtSW50ZWdlckRpZ2l0czogbWluaW11bUludGVnZXJEaWdpdHMsXG4gICAgICAgICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IG1pbmltdW1GcmFjdGlvbkRpZ2l0cyxcbiAgICAgICAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogbWF4aW11bUZyYWN0aW9uRGlnaXRzXG4gICAgICAgIH07XG4gICAgICAgIGludGxPcHRpb25zLnN0eWxlID0gTnVtYmVyRm9ybWF0U3R5bGVbc3R5bGVdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChzdHlsZSA9PSBOdW1iZXJGb3JtYXRTdHlsZS5DdXJyZW5jeSkge1xuICAgICAgICAgICAgaW50bE9wdGlvbnMuY3VycmVuY3kgPSBjdXJyZW5jeTtcbiAgICAgICAgICAgIGludGxPcHRpb25zLmN1cnJlbmN5RGlzcGxheSA9IGN1cnJlbmN5QXNTeW1ib2wgPyAnc3ltYm9sJyA6ICdjb2RlJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KGxvY2FsZSwgaW50bE9wdGlvbnMpLmZvcm1hdChudW0pO1xuICAgIH07XG4gICAgcmV0dXJuIE51bWJlckZvcm1hdHRlcjtcbn0oKSk7XG5leHBvcnRzLk51bWJlckZvcm1hdHRlciA9IE51bWJlckZvcm1hdHRlcjtcbmZ1bmN0aW9uIGRpZ2l0Q29uZGl0aW9uKGxlbikge1xuICAgIHJldHVybiBsZW4gPT0gMiA/ICcyLWRpZ2l0JyA6ICdudW1lcmljJztcbn1cbmZ1bmN0aW9uIG5hbWVDb25kaXRpb24obGVuKSB7XG4gICAgcmV0dXJuIGxlbiA8IDQgPyAnc2hvcnQnIDogJ2xvbmcnO1xufVxuZnVuY3Rpb24gZXh0cmFjdENvbXBvbmVudHMocGF0dGVybikge1xuICAgIHZhciByZXQgPSB7fTtcbiAgICB2YXIgaSA9IDAsIGo7XG4gICAgd2hpbGUgKGkgPCBwYXR0ZXJuLmxlbmd0aCkge1xuICAgICAgICBqID0gaTtcbiAgICAgICAgd2hpbGUgKGogPCBwYXR0ZXJuLmxlbmd0aCAmJiBwYXR0ZXJuW2pdID09IHBhdHRlcm5baV0pXG4gICAgICAgICAgICBqKys7XG4gICAgICAgIHZhciBsZW4gPSBqIC0gaTtcbiAgICAgICAgc3dpdGNoIChwYXR0ZXJuW2ldKSB7XG4gICAgICAgICAgICBjYXNlICdHJzpcbiAgICAgICAgICAgICAgICByZXQuZXJhID0gbmFtZUNvbmRpdGlvbihsZW4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAneSc6XG4gICAgICAgICAgICAgICAgcmV0LnllYXIgPSBkaWdpdENvbmRpdGlvbihsZW4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgICAgICAgaWYgKGxlbiA+PSAzKVxuICAgICAgICAgICAgICAgICAgICByZXQubW9udGggPSBuYW1lQ29uZGl0aW9uKGxlbik7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXQubW9udGggPSBkaWdpdENvbmRpdGlvbihsZW4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZCc6XG4gICAgICAgICAgICAgICAgcmV0LmRheSA9IGRpZ2l0Q29uZGl0aW9uKGxlbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICAgICAgICByZXQud2Vla2RheSA9IG5hbWVDb25kaXRpb24obGVuKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2onOlxuICAgICAgICAgICAgICAgIHJldC5ob3VyID0gZGlnaXRDb25kaXRpb24obGVuKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2gnOlxuICAgICAgICAgICAgICAgIHJldC5ob3VyID0gZGlnaXRDb25kaXRpb24obGVuKTtcbiAgICAgICAgICAgICAgICByZXQuaG91cjEyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0gnOlxuICAgICAgICAgICAgICAgIHJldC5ob3VyID0gZGlnaXRDb25kaXRpb24obGVuKTtcbiAgICAgICAgICAgICAgICByZXQuaG91cjEyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtJzpcbiAgICAgICAgICAgICAgICByZXQubWludXRlID0gZGlnaXRDb25kaXRpb24obGVuKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3MnOlxuICAgICAgICAgICAgICAgIHJldC5zZWNvbmQgPSBkaWdpdENvbmRpdGlvbihsZW4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAneic6XG4gICAgICAgICAgICAgICAgcmV0LnRpbWVab25lTmFtZSA9ICdsb25nJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1onOlxuICAgICAgICAgICAgICAgIHJldC50aW1lWm9uZU5hbWUgPSAnc2hvcnQnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGkgPSBqO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxudmFyIGRhdGVGb3JtYXR0ZXJDYWNoZSA9IG5ldyBNYXAoKTtcbnZhciBEYXRlRm9ybWF0dGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEYXRlRm9ybWF0dGVyKCkge1xuICAgIH1cbiAgICBEYXRlRm9ybWF0dGVyLmZvcm1hdCA9IGZ1bmN0aW9uIChkYXRlLCBsb2NhbGUsIHBhdHRlcm4pIHtcbiAgICAgICAgdmFyIGtleSA9IGxvY2FsZSArIHBhdHRlcm47XG4gICAgICAgIGlmIChkYXRlRm9ybWF0dGVyQ2FjaGUuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRlRm9ybWF0dGVyQ2FjaGUuZ2V0KGtleSkuZm9ybWF0KGRhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmb3JtYXR0ZXIgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChsb2NhbGUsIGV4dHJhY3RDb21wb25lbnRzKHBhdHRlcm4pKTtcbiAgICAgICAgZGF0ZUZvcm1hdHRlckNhY2hlLnNldChrZXksIGZvcm1hdHRlcik7XG4gICAgICAgIHJldHVybiBmb3JtYXR0ZXIuZm9ybWF0KGRhdGUpO1xuICAgIH07XG4gICAgcmV0dXJuIERhdGVGb3JtYXR0ZXI7XG59KCkpO1xuZXhwb3J0cy5EYXRlRm9ybWF0dGVyID0gRGF0ZUZvcm1hdHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBnbG9iYWxTY29wZTtcbmlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSkge1xuICAgICAgICAvLyBUT0RPOiBSZXBsYWNlIGFueSB3aXRoIFdvcmtlckdsb2JhbFNjb3BlIGZyb20gbGliLndlYndvcmtlci5kLnRzICMzNDkyXG4gICAgICAgIGdsb2JhbFNjb3BlID0gc2VsZjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGdsb2JhbFNjb3BlID0gZ2xvYmFsO1xuICAgIH1cbn1cbmVsc2Uge1xuICAgIGdsb2JhbFNjb3BlID0gd2luZG93O1xufVxuZnVuY3Rpb24gc2NoZWR1bGVNaWNyb1Rhc2soZm4pIHtcbiAgICBab25lLmN1cnJlbnQuc2NoZWR1bGVNaWNyb1Rhc2soJ3NjaGVkdWxlTWljcm90YXNrJywgZm4pO1xufVxuZXhwb3J0cy5zY2hlZHVsZU1pY3JvVGFzayA9IHNjaGVkdWxlTWljcm9UYXNrO1xuZXhwb3J0cy5JU19EQVJUID0gZmFsc2U7XG4vLyBOZWVkIHRvIGRlY2xhcmUgYSBuZXcgdmFyaWFibGUgZm9yIGdsb2JhbCBoZXJlIHNpbmNlIFR5cGVTY3JpcHRcbi8vIGV4cG9ydHMgdGhlIG9yaWdpbmFsIHZhbHVlIG9mIHRoZSBzeW1ib2wuXG52YXIgX2dsb2JhbCA9IGdsb2JhbFNjb3BlO1xuZXhwb3J0cy5nbG9iYWwgPSBfZ2xvYmFsO1xuZXhwb3J0cy5UeXBlID0gRnVuY3Rpb247XG5mdW5jdGlvbiBnZXRUeXBlTmFtZUZvckRlYnVnZ2luZyh0eXBlKSB7XG4gICAgaWYgKHR5cGVbJ25hbWUnXSkge1xuICAgICAgICByZXR1cm4gdHlwZVsnbmFtZSddO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZW9mIHR5cGU7XG59XG5leHBvcnRzLmdldFR5cGVOYW1lRm9yRGVidWdnaW5nID0gZ2V0VHlwZU5hbWVGb3JEZWJ1Z2dpbmc7XG5leHBvcnRzLk1hdGggPSBfZ2xvYmFsLk1hdGg7XG5leHBvcnRzLkRhdGUgPSBfZ2xvYmFsLkRhdGU7XG52YXIgX2Rldk1vZGUgPSB0cnVlO1xudmFyIF9tb2RlTG9ja2VkID0gZmFsc2U7XG5mdW5jdGlvbiBsb2NrTW9kZSgpIHtcbiAgICBfbW9kZUxvY2tlZCA9IHRydWU7XG59XG5leHBvcnRzLmxvY2tNb2RlID0gbG9ja01vZGU7XG4vKipcbiAqIERpc2FibGUgQW5ndWxhcidzIGRldmVsb3BtZW50IG1vZGUsIHdoaWNoIHR1cm5zIG9mZiBhc3NlcnRpb25zIGFuZCBvdGhlclxuICogY2hlY2tzIHdpdGhpbiB0aGUgZnJhbWV3b3JrLlxuICpcbiAqIE9uZSBpbXBvcnRhbnQgYXNzZXJ0aW9uIHRoaXMgZGlzYWJsZXMgdmVyaWZpZXMgdGhhdCBhIGNoYW5nZSBkZXRlY3Rpb24gcGFzc1xuICogZG9lcyBub3QgcmVzdWx0IGluIGFkZGl0aW9uYWwgY2hhbmdlcyB0byBhbnkgYmluZGluZ3MgKGFsc28ga25vd24gYXNcbiAqIHVuaWRpcmVjdGlvbmFsIGRhdGEgZmxvdykuXG4gKi9cbmZ1bmN0aW9uIGVuYWJsZVByb2RNb2RlKCkge1xuICAgIGlmIChfbW9kZUxvY2tlZCkge1xuICAgICAgICAvLyBDYW5ub3QgdXNlIEJhc2VFeGNlcHRpb24gYXMgdGhhdCBlbmRzIHVwIGltcG9ydGluZyBmcm9tIGZhY2FkZS9sYW5nLlxuICAgICAgICB0aHJvdyAnQ2Fubm90IGVuYWJsZSBwcm9kIG1vZGUgYWZ0ZXIgcGxhdGZvcm0gc2V0dXAuJztcbiAgICB9XG4gICAgX2Rldk1vZGUgPSBmYWxzZTtcbn1cbmV4cG9ydHMuZW5hYmxlUHJvZE1vZGUgPSBlbmFibGVQcm9kTW9kZTtcbmZ1bmN0aW9uIGFzc2VydGlvbnNFbmFibGVkKCkge1xuICAgIHJldHVybiBfZGV2TW9kZTtcbn1cbmV4cG9ydHMuYXNzZXJ0aW9uc0VuYWJsZWQgPSBhc3NlcnRpb25zRW5hYmxlZDtcbi8vIFRPRE86IHJlbW92ZSBjYWxscyB0byBhc3NlcnQgaW4gcHJvZHVjdGlvbiBlbnZpcm9ubWVudFxuLy8gTm90ZTogQ2FuJ3QganVzdCBleHBvcnQgdGhpcyBhbmQgaW1wb3J0IGluIGluIG90aGVyIGZpbGVzXG4vLyBhcyBgYXNzZXJ0YCBpcyBhIHJlc2VydmVkIGtleXdvcmQgaW4gRGFydFxuX2dsb2JhbC5hc3NlcnQgPSBmdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uKSB7XG4gICAgLy8gVE9ETzogdG8gYmUgZml4ZWQgcHJvcGVybHkgdmlhICMyODMwLCBub29wIGZvciBub3dcbn07XG5mdW5jdGlvbiBpc1ByZXNlbnQob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAhPT0gdW5kZWZpbmVkICYmIG9iaiAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNQcmVzZW50ID0gaXNQcmVzZW50O1xuZnVuY3Rpb24gaXNCbGFuayhvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB1bmRlZmluZWQgfHwgb2JqID09PSBudWxsO1xufVxuZXhwb3J0cy5pc0JsYW5rID0gaXNCbGFuaztcbmZ1bmN0aW9uIGlzQm9vbGVhbihvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJib29sZWFuXCI7XG59XG5leHBvcnRzLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcbmZ1bmN0aW9uIGlzTnVtYmVyKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm51bWJlclwiO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuZnVuY3Rpb24gaXNTdHJpbmcob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwic3RyaW5nXCI7XG59XG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5mdW5jdGlvbiBpc0Z1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCI7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuZnVuY3Rpb24gaXNUeXBlKG9iaikge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKG9iaik7XG59XG5leHBvcnRzLmlzVHlwZSA9IGlzVHlwZTtcbmZ1bmN0aW9uIGlzU3RyaW5nTWFwKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGw7XG59XG5leHBvcnRzLmlzU3RyaW5nTWFwID0gaXNTdHJpbmdNYXA7XG52YXIgU1RSSU5HX01BUF9QUk9UTyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih7fSk7XG5mdW5jdGlvbiBpc1N0cmljdFN0cmluZ01hcChvYmopIHtcbiAgICByZXR1cm4gaXNTdHJpbmdNYXAob2JqKSAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gU1RSSU5HX01BUF9QUk9UTztcbn1cbmV4cG9ydHMuaXNTdHJpY3RTdHJpbmdNYXAgPSBpc1N0cmljdFN0cmluZ01hcDtcbmZ1bmN0aW9uIGlzUHJvbWlzZShvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgX2dsb2JhbC5Qcm9taXNlO1xufVxuZXhwb3J0cy5pc1Byb21pc2UgPSBpc1Byb21pc2U7XG5mdW5jdGlvbiBpc0FycmF5KG9iaikge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KG9iaik7XG59XG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuZnVuY3Rpb24gaXNEYXRlKG9iaikge1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBleHBvcnRzLkRhdGUgJiYgIWlzTmFOKG9iai52YWx1ZU9mKCkpO1xufVxuZXhwb3J0cy5pc0RhdGUgPSBpc0RhdGU7XG5mdW5jdGlvbiBub29wKCkgeyB9XG5leHBvcnRzLm5vb3AgPSBub29wO1xuZnVuY3Rpb24gc3RyaW5naWZ5KHRva2VuKSB7XG4gICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgICBpZiAodG9rZW4gPT09IHVuZGVmaW5lZCB8fCB0b2tlbiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJycgKyB0b2tlbjtcbiAgICB9XG4gICAgaWYgKHRva2VuLm5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuLm5hbWU7XG4gICAgfVxuICAgIGlmICh0b2tlbi5vdmVycmlkZGVuTmFtZSkge1xuICAgICAgICByZXR1cm4gdG9rZW4ub3ZlcnJpZGRlbk5hbWU7XG4gICAgfVxuICAgIHZhciByZXMgPSB0b2tlbi50b1N0cmluZygpO1xuICAgIHZhciBuZXdMaW5lSW5kZXggPSByZXMuaW5kZXhPZihcIlxcblwiKTtcbiAgICByZXR1cm4gKG5ld0xpbmVJbmRleCA9PT0gLTEpID8gcmVzIDogcmVzLnN1YnN0cmluZygwLCBuZXdMaW5lSW5kZXgpO1xufVxuZXhwb3J0cy5zdHJpbmdpZnkgPSBzdHJpbmdpZnk7XG4vLyBzZXJpYWxpemUgLyBkZXNlcmlhbGl6ZSBlbnVtIGV4aXN0IG9ubHkgZm9yIGNvbnNpc3RlbmN5IHdpdGggZGFydCBBUElcbi8vIGVudW1zIGluIHR5cGVzY3JpcHQgZG9uJ3QgbmVlZCB0byBiZSBzZXJpYWxpemVkXG5mdW5jdGlvbiBzZXJpYWxpemVFbnVtKHZhbCkge1xuICAgIHJldHVybiB2YWw7XG59XG5leHBvcnRzLnNlcmlhbGl6ZUVudW0gPSBzZXJpYWxpemVFbnVtO1xuZnVuY3Rpb24gZGVzZXJpYWxpemVFbnVtKHZhbCwgdmFsdWVzKSB7XG4gICAgcmV0dXJuIHZhbDtcbn1cbmV4cG9ydHMuZGVzZXJpYWxpemVFbnVtID0gZGVzZXJpYWxpemVFbnVtO1xuZnVuY3Rpb24gcmVzb2x2ZUVudW1Ub2tlbihlbnVtVmFsdWUsIHZhbCkge1xuICAgIHJldHVybiBlbnVtVmFsdWVbdmFsXTtcbn1cbmV4cG9ydHMucmVzb2x2ZUVudW1Ub2tlbiA9IHJlc29sdmVFbnVtVG9rZW47XG52YXIgU3RyaW5nV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RyaW5nV3JhcHBlcigpIHtcbiAgICB9XG4gICAgU3RyaW5nV3JhcHBlci5mcm9tQ2hhckNvZGUgPSBmdW5jdGlvbiAoY29kZSkgeyByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTsgfTtcbiAgICBTdHJpbmdXcmFwcGVyLmNoYXJDb2RlQXQgPSBmdW5jdGlvbiAocywgaW5kZXgpIHsgcmV0dXJuIHMuY2hhckNvZGVBdChpbmRleCk7IH07XG4gICAgU3RyaW5nV3JhcHBlci5zcGxpdCA9IGZ1bmN0aW9uIChzLCByZWdFeHApIHsgcmV0dXJuIHMuc3BsaXQocmVnRXhwKTsgfTtcbiAgICBTdHJpbmdXcmFwcGVyLmVxdWFscyA9IGZ1bmN0aW9uIChzLCBzMikgeyByZXR1cm4gcyA9PT0gczI7IH07XG4gICAgU3RyaW5nV3JhcHBlci5zdHJpcExlZnQgPSBmdW5jdGlvbiAocywgY2hhclZhbCkge1xuICAgICAgICBpZiAocyAmJiBzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHBvcyA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoc1tpXSAhPSBjaGFyVmFsKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMgPSBzLnN1YnN0cmluZyhwb3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzO1xuICAgIH07XG4gICAgU3RyaW5nV3JhcHBlci5zdHJpcFJpZ2h0ID0gZnVuY3Rpb24gKHMsIGNoYXJWYWwpIHtcbiAgICAgICAgaWYgKHMgJiYgcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBwb3MgPSBzLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNbaV0gIT0gY2hhclZhbClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgcG9zLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzID0gcy5zdWJzdHJpbmcoMCwgcG9zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9O1xuICAgIFN0cmluZ1dyYXBwZXIucmVwbGFjZSA9IGZ1bmN0aW9uIChzLCBmcm9tLCByZXBsYWNlKSB7XG4gICAgICAgIHJldHVybiBzLnJlcGxhY2UoZnJvbSwgcmVwbGFjZSk7XG4gICAgfTtcbiAgICBTdHJpbmdXcmFwcGVyLnJlcGxhY2VBbGwgPSBmdW5jdGlvbiAocywgZnJvbSwgcmVwbGFjZSkge1xuICAgICAgICByZXR1cm4gcy5yZXBsYWNlKGZyb20sIHJlcGxhY2UpO1xuICAgIH07XG4gICAgU3RyaW5nV3JhcHBlci5zbGljZSA9IGZ1bmN0aW9uIChzLCBmcm9tLCB0bykge1xuICAgICAgICBpZiAoZnJvbSA9PT0gdm9pZCAwKSB7IGZyb20gPSAwOyB9XG4gICAgICAgIGlmICh0byA9PT0gdm9pZCAwKSB7IHRvID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gcy5zbGljZShmcm9tLCB0byA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IHRvKTtcbiAgICB9O1xuICAgIFN0cmluZ1dyYXBwZXIucmVwbGFjZUFsbE1hcHBlZCA9IGZ1bmN0aW9uIChzLCBmcm9tLCBjYikge1xuICAgICAgICByZXR1cm4gcy5yZXBsYWNlKGZyb20sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIG1hdGNoZXNbX2kgLSAwXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZW1vdmUgb2Zmc2V0ICYgc3RyaW5nIGZyb20gdGhlIHJlc3VsdCBhcnJheVxuICAgICAgICAgICAgbWF0Y2hlcy5zcGxpY2UoLTIsIDIpO1xuICAgICAgICAgICAgLy8gVGhlIGNhbGxiYWNrIHJlY2VpdmVzIG1hdGNoLCBwMSwgLi4uLCBwblxuICAgICAgICAgICAgcmV0dXJuIGNiKG1hdGNoZXMpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFN0cmluZ1dyYXBwZXIuY29udGFpbnMgPSBmdW5jdGlvbiAocywgc3Vic3RyKSB7IHJldHVybiBzLmluZGV4T2Yoc3Vic3RyKSAhPSAtMTsgfTtcbiAgICBTdHJpbmdXcmFwcGVyLmNvbXBhcmUgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBpZiAoYSA8IGIpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhID4gYikge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN0cmluZ1dyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5TdHJpbmdXcmFwcGVyID0gU3RyaW5nV3JhcHBlcjtcbnZhciBTdHJpbmdKb2luZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0cmluZ0pvaW5lcihwYXJ0cykge1xuICAgICAgICBpZiAocGFydHMgPT09IHZvaWQgMCkgeyBwYXJ0cyA9IFtdOyB9XG4gICAgICAgIHRoaXMucGFydHMgPSBwYXJ0cztcbiAgICB9XG4gICAgU3RyaW5nSm9pbmVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAocGFydCkgeyB0aGlzLnBhcnRzLnB1c2gocGFydCk7IH07XG4gICAgU3RyaW5nSm9pbmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMucGFydHMuam9pbihcIlwiKTsgfTtcbiAgICByZXR1cm4gU3RyaW5nSm9pbmVyO1xufSgpKTtcbmV4cG9ydHMuU3RyaW5nSm9pbmVyID0gU3RyaW5nSm9pbmVyO1xudmFyIE51bWJlclBhcnNlRXJyb3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOdW1iZXJQYXJzZUVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE51bWJlclBhcnNlRXJyb3IobWVzc2FnZSkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG4gICAgTnVtYmVyUGFyc2VFcnJvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1lc3NhZ2U7IH07XG4gICAgcmV0dXJuIE51bWJlclBhcnNlRXJyb3I7XG59KEVycm9yKSk7XG5leHBvcnRzLk51bWJlclBhcnNlRXJyb3IgPSBOdW1iZXJQYXJzZUVycm9yO1xudmFyIE51bWJlcldyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE51bWJlcldyYXBwZXIoKSB7XG4gICAgfVxuICAgIE51bWJlcldyYXBwZXIudG9GaXhlZCA9IGZ1bmN0aW9uIChuLCBmcmFjdGlvbkRpZ2l0cykgeyByZXR1cm4gbi50b0ZpeGVkKGZyYWN0aW9uRGlnaXRzKTsgfTtcbiAgICBOdW1iZXJXcmFwcGVyLmVxdWFsID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgPT09IGI7IH07XG4gICAgTnVtYmVyV3JhcHBlci5wYXJzZUludEF1dG9SYWRpeCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBwYXJzZUludCh0ZXh0KTtcbiAgICAgICAgaWYgKGlzTmFOKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOdW1iZXJQYXJzZUVycm9yKFwiSW52YWxpZCBpbnRlZ2VyIGxpdGVyYWwgd2hlbiBwYXJzaW5nIFwiICsgdGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIE51bWJlcldyYXBwZXIucGFyc2VJbnQgPSBmdW5jdGlvbiAodGV4dCwgcmFkaXgpIHtcbiAgICAgICAgaWYgKHJhZGl4ID09IDEwKSB7XG4gICAgICAgICAgICBpZiAoL14oXFwtfFxcKyk/WzAtOV0rJC8udGVzdCh0ZXh0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0ZXh0LCByYWRpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmFkaXggPT0gMTYpIHtcbiAgICAgICAgICAgIGlmICgvXihcXC18XFwrKT9bMC05QUJDREVGYWJjZGVmXSskLy50ZXN0KHRleHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRleHQsIHJhZGl4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBwYXJzZUludCh0ZXh0LCByYWRpeCk7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBOdW1iZXJQYXJzZUVycm9yKFwiSW52YWxpZCBpbnRlZ2VyIGxpdGVyYWwgd2hlbiBwYXJzaW5nIFwiICsgdGV4dCArIFwiIGluIGJhc2UgXCIgK1xuICAgICAgICAgICAgcmFkaXgpO1xuICAgIH07XG4gICAgLy8gVE9ETzogTmFOIGlzIGEgdmFsaWQgbGl0ZXJhbCBidXQgaXMgcmV0dXJuZWQgYnkgcGFyc2VGbG9hdCB0byBpbmRpY2F0ZSBhbiBlcnJvci5cbiAgICBOdW1iZXJXcmFwcGVyLnBhcnNlRmxvYXQgPSBmdW5jdGlvbiAodGV4dCkgeyByZXR1cm4gcGFyc2VGbG9hdCh0ZXh0KTsgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTnVtYmVyV3JhcHBlciwgXCJOYU5cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE5hTjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTnVtYmVyV3JhcHBlci5pc05hTiA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gaXNOYU4odmFsdWUpOyB9O1xuICAgIE51bWJlcldyYXBwZXIuaXNJbnRlZ2VyID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlKTsgfTtcbiAgICByZXR1cm4gTnVtYmVyV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLk51bWJlcldyYXBwZXIgPSBOdW1iZXJXcmFwcGVyO1xuZXhwb3J0cy5SZWdFeHAgPSBfZ2xvYmFsLlJlZ0V4cDtcbnZhciBSZWdFeHBXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWdFeHBXcmFwcGVyKCkge1xuICAgIH1cbiAgICBSZWdFeHBXcmFwcGVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChyZWdFeHBTdHIsIGZsYWdzKSB7XG4gICAgICAgIGlmIChmbGFncyA9PT0gdm9pZCAwKSB7IGZsYWdzID0gJyc7IH1cbiAgICAgICAgZmxhZ3MgPSBmbGFncy5yZXBsYWNlKC9nL2csICcnKTtcbiAgICAgICAgcmV0dXJuIG5ldyBfZ2xvYmFsLlJlZ0V4cChyZWdFeHBTdHIsIGZsYWdzICsgJ2cnKTtcbiAgICB9O1xuICAgIFJlZ0V4cFdyYXBwZXIuZmlyc3RNYXRjaCA9IGZ1bmN0aW9uIChyZWdFeHAsIGlucHV0KSB7XG4gICAgICAgIC8vIFJlc2V0IG11bHRpbWF0Y2ggcmVnZXggc3RhdGVcbiAgICAgICAgcmVnRXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHJldHVybiByZWdFeHAuZXhlYyhpbnB1dCk7XG4gICAgfTtcbiAgICBSZWdFeHBXcmFwcGVyLnRlc3QgPSBmdW5jdGlvbiAocmVnRXhwLCBpbnB1dCkge1xuICAgICAgICByZWdFeHAubGFzdEluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIHJlZ0V4cC50ZXN0KGlucHV0KTtcbiAgICB9O1xuICAgIFJlZ0V4cFdyYXBwZXIubWF0Y2hlciA9IGZ1bmN0aW9uIChyZWdFeHAsIGlucHV0KSB7XG4gICAgICAgIC8vIFJlc2V0IHJlZ2V4IHN0YXRlIGZvciB0aGUgY2FzZVxuICAgICAgICAvLyBzb21lb25lIGRpZCBub3QgbG9vcCBvdmVyIGFsbCBtYXRjaGVzXG4gICAgICAgIC8vIGxhc3QgdGltZS5cbiAgICAgICAgcmVnRXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHJldHVybiB7IHJlOiByZWdFeHAsIGlucHV0OiBpbnB1dCB9O1xuICAgIH07XG4gICAgUmVnRXhwV3JhcHBlci5yZXBsYWNlQWxsID0gZnVuY3Rpb24gKHJlZ0V4cCwgaW5wdXQsIHJlcGxhY2UpIHtcbiAgICAgICAgdmFyIGMgPSByZWdFeHAuZXhlYyhpbnB1dCk7XG4gICAgICAgIHZhciByZXMgPSAnJztcbiAgICAgICAgcmVnRXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHZhciBwcmV2ID0gMDtcbiAgICAgICAgd2hpbGUgKGMpIHtcbiAgICAgICAgICAgIHJlcyArPSBpbnB1dC5zdWJzdHJpbmcocHJldiwgYy5pbmRleCk7XG4gICAgICAgICAgICByZXMgKz0gcmVwbGFjZShjKTtcbiAgICAgICAgICAgIHByZXYgPSBjLmluZGV4ICsgY1swXS5sZW5ndGg7XG4gICAgICAgICAgICByZWdFeHAubGFzdEluZGV4ID0gcHJldjtcbiAgICAgICAgICAgIGMgPSByZWdFeHAuZXhlYyhpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzICs9IGlucHV0LnN1YnN0cmluZyhwcmV2KTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIHJldHVybiBSZWdFeHBXcmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuUmVnRXhwV3JhcHBlciA9IFJlZ0V4cFdyYXBwZXI7XG52YXIgUmVnRXhwTWF0Y2hlcldyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlZ0V4cE1hdGNoZXJXcmFwcGVyKCkge1xuICAgIH1cbiAgICBSZWdFeHBNYXRjaGVyV3JhcHBlci5uZXh0ID0gZnVuY3Rpb24gKG1hdGNoZXIpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXIucmUuZXhlYyhtYXRjaGVyLmlucHV0KTtcbiAgICB9O1xuICAgIHJldHVybiBSZWdFeHBNYXRjaGVyV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLlJlZ0V4cE1hdGNoZXJXcmFwcGVyID0gUmVnRXhwTWF0Y2hlcldyYXBwZXI7XG52YXIgRnVuY3Rpb25XcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGdW5jdGlvbldyYXBwZXIoKSB7XG4gICAgfVxuICAgIEZ1bmN0aW9uV3JhcHBlci5hcHBseSA9IGZ1bmN0aW9uIChmbiwgcG9zQXJncykgeyByZXR1cm4gZm4uYXBwbHkobnVsbCwgcG9zQXJncyk7IH07XG4gICAgcmV0dXJuIEZ1bmN0aW9uV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLkZ1bmN0aW9uV3JhcHBlciA9IEZ1bmN0aW9uV3JhcHBlcjtcbi8vIEpTIGhhcyBOYU4gIT09IE5hTlxuZnVuY3Rpb24gbG9vc2VJZGVudGljYWwoYSwgYikge1xuICAgIHJldHVybiBhID09PSBiIHx8IHR5cGVvZiBhID09PSBcIm51bWJlclwiICYmIHR5cGVvZiBiID09PSBcIm51bWJlclwiICYmIGlzTmFOKGEpICYmIGlzTmFOKGIpO1xufVxuZXhwb3J0cy5sb29zZUlkZW50aWNhbCA9IGxvb3NlSWRlbnRpY2FsO1xuLy8gSlMgY29uc2lkZXJzIE5hTiBpcyB0aGUgc2FtZSBhcyBOYU4gZm9yIG1hcCBLZXkgKHdoaWxlIE5hTiAhPT0gTmFOIG90aGVyd2lzZSlcbi8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXBcbmZ1bmN0aW9uIGdldE1hcEtleSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbn1cbmV4cG9ydHMuZ2V0TWFwS2V5ID0gZ2V0TWFwS2V5O1xuZnVuY3Rpb24gbm9ybWFsaXplQmxhbmsob2JqKSB7XG4gICAgcmV0dXJuIGlzQmxhbmsob2JqKSA/IG51bGwgOiBvYmo7XG59XG5leHBvcnRzLm5vcm1hbGl6ZUJsYW5rID0gbm9ybWFsaXplQmxhbms7XG5mdW5jdGlvbiBub3JtYWxpemVCb29sKG9iaikge1xuICAgIHJldHVybiBpc0JsYW5rKG9iaikgPyBmYWxzZSA6IG9iajtcbn1cbmV4cG9ydHMubm9ybWFsaXplQm9vbCA9IG5vcm1hbGl6ZUJvb2w7XG5mdW5jdGlvbiBpc0pzT2JqZWN0KG8pIHtcbiAgICByZXR1cm4gbyAhPT0gbnVsbCAmJiAodHlwZW9mIG8gPT09IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2YgbyA9PT0gXCJvYmplY3RcIik7XG59XG5leHBvcnRzLmlzSnNPYmplY3QgPSBpc0pzT2JqZWN0O1xuZnVuY3Rpb24gcHJpbnQob2JqKSB7XG4gICAgY29uc29sZS5sb2cob2JqKTtcbn1cbmV4cG9ydHMucHJpbnQgPSBwcmludDtcbmZ1bmN0aW9uIHdhcm4ob2JqKSB7XG4gICAgY29uc29sZS53YXJuKG9iaik7XG59XG5leHBvcnRzLndhcm4gPSB3YXJuO1xuLy8gQ2FuJ3QgYmUgYWxsIHVwcGVyY2FzZSBhcyBvdXIgdHJhbnNwaWxlciB3b3VsZCB0aGluayBpdCBpcyBhIHNwZWNpYWwgZGlyZWN0aXZlLi4uXG52YXIgSnNvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSnNvbigpIHtcbiAgICB9XG4gICAgSnNvbi5wYXJzZSA9IGZ1bmN0aW9uIChzKSB7IHJldHVybiBfZ2xvYmFsLkpTT04ucGFyc2Uocyk7IH07XG4gICAgSnNvbi5zdHJpbmdpZnkgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBEYXJ0IGRvZXNuJ3QgdGFrZSAzIGFyZ3VtZW50c1xuICAgICAgICByZXR1cm4gX2dsb2JhbC5KU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKTtcbiAgICB9O1xuICAgIHJldHVybiBKc29uO1xufSgpKTtcbmV4cG9ydHMuSnNvbiA9IEpzb247XG52YXIgRGF0ZVdyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERhdGVXcmFwcGVyKCkge1xuICAgIH1cbiAgICBEYXRlV3JhcHBlci5jcmVhdGUgPSBmdW5jdGlvbiAoeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlcywgc2Vjb25kcywgbWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIGlmIChtb250aCA9PT0gdm9pZCAwKSB7IG1vbnRoID0gMTsgfVxuICAgICAgICBpZiAoZGF5ID09PSB2b2lkIDApIHsgZGF5ID0gMTsgfVxuICAgICAgICBpZiAoaG91ciA9PT0gdm9pZCAwKSB7IGhvdXIgPSAwOyB9XG4gICAgICAgIGlmIChtaW51dGVzID09PSB2b2lkIDApIHsgbWludXRlcyA9IDA7IH1cbiAgICAgICAgaWYgKHNlY29uZHMgPT09IHZvaWQgMCkgeyBzZWNvbmRzID0gMDsgfVxuICAgICAgICBpZiAobWlsbGlzZWNvbmRzID09PSB2b2lkIDApIHsgbWlsbGlzZWNvbmRzID0gMDsgfVxuICAgICAgICByZXR1cm4gbmV3IGV4cG9ydHMuRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRheSwgaG91ciwgbWludXRlcywgc2Vjb25kcywgbWlsbGlzZWNvbmRzKTtcbiAgICB9O1xuICAgIERhdGVXcmFwcGVyLmZyb21JU09TdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7IHJldHVybiBuZXcgZXhwb3J0cy5EYXRlKHN0cik7IH07XG4gICAgRGF0ZVdyYXBwZXIuZnJvbU1pbGxpcyA9IGZ1bmN0aW9uIChtcykgeyByZXR1cm4gbmV3IGV4cG9ydHMuRGF0ZShtcyk7IH07XG4gICAgRGF0ZVdyYXBwZXIudG9NaWxsaXMgPSBmdW5jdGlvbiAoZGF0ZSkgeyByZXR1cm4gZGF0ZS5nZXRUaW1lKCk7IH07XG4gICAgRGF0ZVdyYXBwZXIubm93ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IGV4cG9ydHMuRGF0ZSgpOyB9O1xuICAgIERhdGVXcmFwcGVyLnRvSnNvbiA9IGZ1bmN0aW9uIChkYXRlKSB7IHJldHVybiBkYXRlLnRvSlNPTigpOyB9O1xuICAgIHJldHVybiBEYXRlV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLkRhdGVXcmFwcGVyID0gRGF0ZVdyYXBwZXI7XG5mdW5jdGlvbiBzZXRWYWx1ZU9uUGF0aChnbG9iYWwsIHBhdGgsIHZhbHVlKSB7XG4gICAgdmFyIHBhcnRzID0gcGF0aC5zcGxpdCgnLicpO1xuICAgIHZhciBvYmogPSBnbG9iYWw7XG4gICAgd2hpbGUgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KG5hbWUpICYmIGlzUHJlc2VudChvYmpbbmFtZV0pKSB7XG4gICAgICAgICAgICBvYmogPSBvYmpbbmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmogPSBvYmpbbmFtZV0gPSB7fTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAob2JqID09PSB1bmRlZmluZWQgfHwgb2JqID09PSBudWxsKSB7XG4gICAgICAgIG9iaiA9IHt9O1xuICAgIH1cbiAgICBvYmpbcGFydHMuc2hpZnQoKV0gPSB2YWx1ZTtcbn1cbmV4cG9ydHMuc2V0VmFsdWVPblBhdGggPSBzZXRWYWx1ZU9uUGF0aDtcbnZhciBfc3ltYm9sSXRlcmF0b3IgPSBudWxsO1xuZnVuY3Rpb24gZ2V0U3ltYm9sSXRlcmF0b3IoKSB7XG4gICAgaWYgKGlzQmxhbmsoX3N5bWJvbEl0ZXJhdG9yKSkge1xuICAgICAgICBpZiAoaXNQcmVzZW50KGdsb2JhbFNjb3BlLlN5bWJvbCkgJiYgaXNQcmVzZW50KFN5bWJvbC5pdGVyYXRvcikpIHtcbiAgICAgICAgICAgIF9zeW1ib2xJdGVyYXRvciA9IFN5bWJvbC5pdGVyYXRvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVzNi1zaGltIHNwZWNpZmljIGxvZ2ljXG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE1hcC5wcm90b3R5cGUpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gJ2VudHJpZXMnICYmIGtleSAhPT0gJ3NpemUnICYmXG4gICAgICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGVba2V5XSA9PT0gTWFwLnByb3RvdHlwZVsnZW50cmllcyddKSB7XG4gICAgICAgICAgICAgICAgICAgIF9zeW1ib2xJdGVyYXRvciA9IGtleTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIF9zeW1ib2xJdGVyYXRvcjtcbn1cbmV4cG9ydHMuZ2V0U3ltYm9sSXRlcmF0b3IgPSBnZXRTeW1ib2xJdGVyYXRvcjtcbmZ1bmN0aW9uIGV2YWxFeHByZXNzaW9uKHNvdXJjZVVybCwgZXhwciwgZGVjbGFyYXRpb25zLCB2YXJzKSB7XG4gICAgdmFyIGZuQm9keSA9IGRlY2xhcmF0aW9ucyArIFwiXFxucmV0dXJuIFwiICsgZXhwciArIFwiXFxuLy8jIHNvdXJjZVVSTD1cIiArIHNvdXJjZVVybDtcbiAgICB2YXIgZm5BcmdOYW1lcyA9IFtdO1xuICAgIHZhciBmbkFyZ1ZhbHVlcyA9IFtdO1xuICAgIGZvciAodmFyIGFyZ05hbWUgaW4gdmFycykge1xuICAgICAgICBmbkFyZ05hbWVzLnB1c2goYXJnTmFtZSk7XG4gICAgICAgIGZuQXJnVmFsdWVzLnB1c2godmFyc1thcmdOYW1lXSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLmJpbmQuYXBwbHkoRnVuY3Rpb24sIFt2b2lkIDBdLmNvbmNhdChmbkFyZ05hbWVzLmNvbmNhdChmbkJvZHkpKSkpKCkuYXBwbHkodm9pZCAwLCBmbkFyZ1ZhbHVlcyk7XG59XG5leHBvcnRzLmV2YWxFeHByZXNzaW9uID0gZXZhbEV4cHJlc3Npb247XG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShvYmopIHtcbiAgICByZXR1cm4gIWlzSnNPYmplY3Qob2JqKTtcbn1cbmV4cG9ydHMuaXNQcmltaXRpdmUgPSBpc1ByaW1pdGl2ZTtcbmZ1bmN0aW9uIGhhc0NvbnN0cnVjdG9yKHZhbHVlLCB0eXBlKSB7XG4gICAgcmV0dXJuIHZhbHVlLmNvbnN0cnVjdG9yID09PSB0eXBlO1xufVxuZXhwb3J0cy5oYXNDb25zdHJ1Y3RvciA9IGhhc0NvbnN0cnVjdG9yO1xuZnVuY3Rpb24gYml0V2lzZU9yKHZhbHVlcykge1xuICAgIHJldHVybiB2YWx1ZXMucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhIHwgYjsgfSk7XG59XG5leHBvcnRzLmJpdFdpc2VPciA9IGJpdFdpc2VPcjtcbmZ1bmN0aW9uIGJpdFdpc2VBbmQodmFsdWVzKSB7XG4gICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgJiBiOyB9KTtcbn1cbmV4cG9ydHMuYml0V2lzZUFuZCA9IGJpdFdpc2VBbmQ7XG5mdW5jdGlvbiBlc2NhcGUocykge1xuICAgIHJldHVybiBfZ2xvYmFsLmVuY29kZVVSSShzKTtcbn1cbmV4cG9ydHMuZXNjYXBlID0gZXNjYXBlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGFuZy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBQcm9taXNlQ29tcGxldGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQcm9taXNlQ29tcGxldGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcbiAgICAgICAgICAgIF90aGlzLnJlc29sdmUgPSByZXM7XG4gICAgICAgICAgICBfdGhpcy5yZWplY3QgPSByZWo7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZUNvbXBsZXRlcjtcbn0oKSk7XG5leHBvcnRzLlByb21pc2VDb21wbGV0ZXIgPSBQcm9taXNlQ29tcGxldGVyO1xudmFyIFByb21pc2VXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQcm9taXNlV3JhcHBlcigpIHtcbiAgICB9XG4gICAgUHJvbWlzZVdyYXBwZXIucmVzb2x2ZSA9IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZShvYmopOyB9O1xuICAgIFByb21pc2VXcmFwcGVyLnJlamVjdCA9IGZ1bmN0aW9uIChvYmosIF8pIHsgcmV0dXJuIFByb21pc2UucmVqZWN0KG9iaik7IH07XG4gICAgLy8gTm90ZTogV2UgY2FuJ3QgcmVuYW1lIHRoaXMgbWV0aG9kIGludG8gYGNhdGNoYCwgYXMgdGhpcyBpcyBub3QgYSB2YWxpZFxuICAgIC8vIG1ldGhvZCBuYW1lIGluIERhcnQuXG4gICAgUHJvbWlzZVdyYXBwZXIuY2F0Y2hFcnJvciA9IGZ1bmN0aW9uIChwcm9taXNlLCBvbkVycm9yKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlLmNhdGNoKG9uRXJyb3IpO1xuICAgIH07XG4gICAgUHJvbWlzZVdyYXBwZXIuYWxsID0gZnVuY3Rpb24gKHByb21pc2VzKSB7XG4gICAgICAgIGlmIChwcm9taXNlcy5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIH07XG4gICAgUHJvbWlzZVdyYXBwZXIudGhlbiA9IGZ1bmN0aW9uIChwcm9taXNlLCBzdWNjZXNzLCByZWplY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbihzdWNjZXNzLCByZWplY3Rpb24pO1xuICAgIH07XG4gICAgUHJvbWlzZVdyYXBwZXIud3JhcCA9IGZ1bmN0aW9uIChjb21wdXRhdGlvbikge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlcyhjb21wdXRhdGlvbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmVqKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFByb21pc2VXcmFwcGVyLnNjaGVkdWxlTWljcm90YXNrID0gZnVuY3Rpb24gKGNvbXB1dGF0aW9uKSB7XG4gICAgICAgIFByb21pc2VXcmFwcGVyLnRoZW4oUHJvbWlzZVdyYXBwZXIucmVzb2x2ZShudWxsKSwgY29tcHV0YXRpb24sIGZ1bmN0aW9uIChfKSB7IH0pO1xuICAgIH07XG4gICAgUHJvbWlzZVdyYXBwZXIuaXNQcm9taXNlID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqIGluc3RhbmNlb2YgUHJvbWlzZTsgfTtcbiAgICBQcm9taXNlV3JhcHBlci5jb21wbGV0ZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgUHJvbWlzZUNvbXBsZXRlcigpOyB9O1xuICAgIHJldHVybiBQcm9taXNlV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLlByb21pc2VXcmFwcGVyID0gUHJvbWlzZVdyYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9taXNlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4qIEBtb2R1bGVcbiogQGRlc2NyaXB0aW9uXG4qIFRoaXMgbW9kdWxlIGlzIHVzZWQgZm9yIGhhbmRsaW5nIHVzZXIgaW5wdXQsIGJ5IGRlZmluaW5nIGFuZCBidWlsZGluZyBhIHtAbGluayBDb250cm9sR3JvdXB9IHRoYXRcbiogY29uc2lzdHMgb2Zcbioge0BsaW5rIENvbnRyb2x9IG9iamVjdHMsIGFuZCBtYXBwaW5nIHRoZW0gb250byB0aGUgRE9NLiB7QGxpbmsgQ29udHJvbH0gb2JqZWN0cyBjYW4gdGhlbiBiZSB1c2VkXG4qIHRvIHJlYWQgaW5mb3JtYXRpb25cbiogZnJvbSB0aGUgZm9ybSBET00gZWxlbWVudHMuXG4qXG4qIEZvcm1zIHByb3ZpZGVycyBhcmUgbm90IGluY2x1ZGVkIGluIGRlZmF1bHQgcHJvdmlkZXJzOyB5b3UgbXVzdCBpbXBvcnQgdGhlc2UgcHJvdmlkZXJzXG4qIGV4cGxpY2l0bHkuXG4qL1xudmFyIG1vZGVsXzEgPSByZXF1aXJlKCcuL2Zvcm1zL21vZGVsJyk7XG5leHBvcnRzLkFic3RyYWN0Q29udHJvbCA9IG1vZGVsXzEuQWJzdHJhY3RDb250cm9sO1xuZXhwb3J0cy5Db250cm9sID0gbW9kZWxfMS5Db250cm9sO1xuZXhwb3J0cy5Db250cm9sR3JvdXAgPSBtb2RlbF8xLkNvbnRyb2xHcm91cDtcbmV4cG9ydHMuQ29udHJvbEFycmF5ID0gbW9kZWxfMS5Db250cm9sQXJyYXk7XG52YXIgYWJzdHJhY3RfY29udHJvbF9kaXJlY3RpdmVfMSA9IHJlcXVpcmUoJy4vZm9ybXMvZGlyZWN0aXZlcy9hYnN0cmFjdF9jb250cm9sX2RpcmVjdGl2ZScpO1xuZXhwb3J0cy5BYnN0cmFjdENvbnRyb2xEaXJlY3RpdmUgPSBhYnN0cmFjdF9jb250cm9sX2RpcmVjdGl2ZV8xLkFic3RyYWN0Q29udHJvbERpcmVjdGl2ZTtcbnZhciBjb250cm9sX2NvbnRhaW5lcl8xID0gcmVxdWlyZSgnLi9mb3Jtcy9kaXJlY3RpdmVzL2NvbnRyb2xfY29udGFpbmVyJyk7XG5leHBvcnRzLkNvbnRyb2xDb250YWluZXIgPSBjb250cm9sX2NvbnRhaW5lcl8xLkNvbnRyb2xDb250YWluZXI7XG52YXIgbmdfY29udHJvbF9uYW1lXzEgPSByZXF1aXJlKCcuL2Zvcm1zL2RpcmVjdGl2ZXMvbmdfY29udHJvbF9uYW1lJyk7XG5leHBvcnRzLk5nQ29udHJvbE5hbWUgPSBuZ19jb250cm9sX25hbWVfMS5OZ0NvbnRyb2xOYW1lO1xudmFyIG5nX2Zvcm1fY29udHJvbF8xID0gcmVxdWlyZSgnLi9mb3Jtcy9kaXJlY3RpdmVzL25nX2Zvcm1fY29udHJvbCcpO1xuZXhwb3J0cy5OZ0Zvcm1Db250cm9sID0gbmdfZm9ybV9jb250cm9sXzEuTmdGb3JtQ29udHJvbDtcbnZhciBuZ19tb2RlbF8xID0gcmVxdWlyZSgnLi9mb3Jtcy9kaXJlY3RpdmVzL25nX21vZGVsJyk7XG5leHBvcnRzLk5nTW9kZWwgPSBuZ19tb2RlbF8xLk5nTW9kZWw7XG52YXIgbmdfY29udHJvbF8xID0gcmVxdWlyZSgnLi9mb3Jtcy9kaXJlY3RpdmVzL25nX2NvbnRyb2wnKTtcbmV4cG9ydHMuTmdDb250cm9sID0gbmdfY29udHJvbF8xLk5nQ29udHJvbDtcbnZhciBuZ19jb250cm9sX2dyb3VwXzEgPSByZXF1aXJlKCcuL2Zvcm1zL2RpcmVjdGl2ZXMvbmdfY29udHJvbF9ncm91cCcpO1xuZXhwb3J0cy5OZ0NvbnRyb2xHcm91cCA9IG5nX2NvbnRyb2xfZ3JvdXBfMS5OZ0NvbnRyb2xHcm91cDtcbnZhciBuZ19mb3JtX21vZGVsXzEgPSByZXF1aXJlKCcuL2Zvcm1zL2RpcmVjdGl2ZXMvbmdfZm9ybV9tb2RlbCcpO1xuZXhwb3J0cy5OZ0Zvcm1Nb2RlbCA9IG5nX2Zvcm1fbW9kZWxfMS5OZ0Zvcm1Nb2RlbDtcbnZhciBuZ19mb3JtXzEgPSByZXF1aXJlKCcuL2Zvcm1zL2RpcmVjdGl2ZXMvbmdfZm9ybScpO1xuZXhwb3J0cy5OZ0Zvcm0gPSBuZ19mb3JtXzEuTmdGb3JtO1xudmFyIGNvbnRyb2xfdmFsdWVfYWNjZXNzb3JfMSA9IHJlcXVpcmUoJy4vZm9ybXMvZGlyZWN0aXZlcy9jb250cm9sX3ZhbHVlX2FjY2Vzc29yJyk7XG5leHBvcnRzLk5HX1ZBTFVFX0FDQ0VTU09SID0gY29udHJvbF92YWx1ZV9hY2Nlc3Nvcl8xLk5HX1ZBTFVFX0FDQ0VTU09SO1xudmFyIGRlZmF1bHRfdmFsdWVfYWNjZXNzb3JfMSA9IHJlcXVpcmUoJy4vZm9ybXMvZGlyZWN0aXZlcy9kZWZhdWx0X3ZhbHVlX2FjY2Vzc29yJyk7XG5leHBvcnRzLkRlZmF1bHRWYWx1ZUFjY2Vzc29yID0gZGVmYXVsdF92YWx1ZV9hY2Nlc3Nvcl8xLkRlZmF1bHRWYWx1ZUFjY2Vzc29yO1xudmFyIG5nX2NvbnRyb2xfc3RhdHVzXzEgPSByZXF1aXJlKCcuL2Zvcm1zL2RpcmVjdGl2ZXMvbmdfY29udHJvbF9zdGF0dXMnKTtcbmV4cG9ydHMuTmdDb250cm9sU3RhdHVzID0gbmdfY29udHJvbF9zdGF0dXNfMS5OZ0NvbnRyb2xTdGF0dXM7XG52YXIgY2hlY2tib3hfdmFsdWVfYWNjZXNzb3JfMSA9IHJlcXVpcmUoJy4vZm9ybXMvZGlyZWN0aXZlcy9jaGVja2JveF92YWx1ZV9hY2Nlc3NvcicpO1xuZXhwb3J0cy5DaGVja2JveENvbnRyb2xWYWx1ZUFjY2Vzc29yID0gY2hlY2tib3hfdmFsdWVfYWNjZXNzb3JfMS5DaGVja2JveENvbnRyb2xWYWx1ZUFjY2Vzc29yO1xudmFyIHNlbGVjdF9jb250cm9sX3ZhbHVlX2FjY2Vzc29yXzEgPSByZXF1aXJlKCcuL2Zvcm1zL2RpcmVjdGl2ZXMvc2VsZWN0X2NvbnRyb2xfdmFsdWVfYWNjZXNzb3InKTtcbmV4cG9ydHMuTmdTZWxlY3RPcHRpb24gPSBzZWxlY3RfY29udHJvbF92YWx1ZV9hY2Nlc3Nvcl8xLk5nU2VsZWN0T3B0aW9uO1xuZXhwb3J0cy5TZWxlY3RDb250cm9sVmFsdWVBY2Nlc3NvciA9IHNlbGVjdF9jb250cm9sX3ZhbHVlX2FjY2Vzc29yXzEuU2VsZWN0Q29udHJvbFZhbHVlQWNjZXNzb3I7XG52YXIgZGlyZWN0aXZlc18xID0gcmVxdWlyZSgnLi9mb3Jtcy9kaXJlY3RpdmVzJyk7XG5leHBvcnRzLkZPUk1fRElSRUNUSVZFUyA9IGRpcmVjdGl2ZXNfMS5GT1JNX0RJUkVDVElWRVM7XG5leHBvcnRzLlJhZGlvQnV0dG9uU3RhdGUgPSBkaXJlY3RpdmVzXzEuUmFkaW9CdXR0b25TdGF0ZTtcbnZhciB2YWxpZGF0b3JzXzEgPSByZXF1aXJlKCcuL2Zvcm1zL3ZhbGlkYXRvcnMnKTtcbmV4cG9ydHMuTkdfVkFMSURBVE9SUyA9IHZhbGlkYXRvcnNfMS5OR19WQUxJREFUT1JTO1xuZXhwb3J0cy5OR19BU1lOQ19WQUxJREFUT1JTID0gdmFsaWRhdG9yc18xLk5HX0FTWU5DX1ZBTElEQVRPUlM7XG5leHBvcnRzLlZhbGlkYXRvcnMgPSB2YWxpZGF0b3JzXzEuVmFsaWRhdG9ycztcbnZhciB2YWxpZGF0b3JzXzIgPSByZXF1aXJlKCcuL2Zvcm1zL2RpcmVjdGl2ZXMvdmFsaWRhdG9ycycpO1xuZXhwb3J0cy5SZXF1aXJlZFZhbGlkYXRvciA9IHZhbGlkYXRvcnNfMi5SZXF1aXJlZFZhbGlkYXRvcjtcbmV4cG9ydHMuTWluTGVuZ3RoVmFsaWRhdG9yID0gdmFsaWRhdG9yc18yLk1pbkxlbmd0aFZhbGlkYXRvcjtcbmV4cG9ydHMuTWF4TGVuZ3RoVmFsaWRhdG9yID0gdmFsaWRhdG9yc18yLk1heExlbmd0aFZhbGlkYXRvcjtcbmV4cG9ydHMuUGF0dGVyblZhbGlkYXRvciA9IHZhbGlkYXRvcnNfMi5QYXR0ZXJuVmFsaWRhdG9yO1xudmFyIGZvcm1fYnVpbGRlcl8xID0gcmVxdWlyZSgnLi9mb3Jtcy9mb3JtX2J1aWxkZXInKTtcbmV4cG9ydHMuRm9ybUJ1aWxkZXIgPSBmb3JtX2J1aWxkZXJfMS5Gb3JtQnVpbGRlcjtcbnZhciBmb3JtX2J1aWxkZXJfMiA9IHJlcXVpcmUoJy4vZm9ybXMvZm9ybV9idWlsZGVyJyk7XG52YXIgcmFkaW9fY29udHJvbF92YWx1ZV9hY2Nlc3Nvcl8xID0gcmVxdWlyZSgnLi9mb3Jtcy9kaXJlY3RpdmVzL3JhZGlvX2NvbnRyb2xfdmFsdWVfYWNjZXNzb3InKTtcbi8qKlxuICogU2hvcnRoYW5kIHNldCBvZiBwcm92aWRlcnMgdXNlZCBmb3IgYnVpbGRpbmcgQW5ndWxhciBmb3Jtcy5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGJvb3RzdHJhcChNeUFwcCwgW0ZPUk1fUFJPVklERVJTXSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0cy5GT1JNX1BST1ZJREVSUyA9IFtmb3JtX2J1aWxkZXJfMi5Gb3JtQnVpbGRlciwgcmFkaW9fY29udHJvbF92YWx1ZV9hY2Nlc3Nvcl8xLlJhZGlvQ29udHJvbFJlZ2lzdHJ5XTtcbi8qKlxuICogU2VlIHtAbGluayBGT1JNX1BST1ZJREVSU30gaW5zdGVhZC5cbiAqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnRzLkZPUk1fQklORElOR1MgPSBleHBvcnRzLkZPUk1fUFJPVklERVJTO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9ybXMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgbmdfY29udHJvbF9uYW1lXzEgPSByZXF1aXJlKCcuL2RpcmVjdGl2ZXMvbmdfY29udHJvbF9uYW1lJyk7XG52YXIgbmdfZm9ybV9jb250cm9sXzEgPSByZXF1aXJlKCcuL2RpcmVjdGl2ZXMvbmdfZm9ybV9jb250cm9sJyk7XG52YXIgbmdfbW9kZWxfMSA9IHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9uZ19tb2RlbCcpO1xudmFyIG5nX2NvbnRyb2xfZ3JvdXBfMSA9IHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9uZ19jb250cm9sX2dyb3VwJyk7XG52YXIgbmdfZm9ybV9tb2RlbF8xID0gcmVxdWlyZSgnLi9kaXJlY3RpdmVzL25nX2Zvcm1fbW9kZWwnKTtcbnZhciBuZ19mb3JtXzEgPSByZXF1aXJlKCcuL2RpcmVjdGl2ZXMvbmdfZm9ybScpO1xudmFyIGRlZmF1bHRfdmFsdWVfYWNjZXNzb3JfMSA9IHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9kZWZhdWx0X3ZhbHVlX2FjY2Vzc29yJyk7XG52YXIgY2hlY2tib3hfdmFsdWVfYWNjZXNzb3JfMSA9IHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9jaGVja2JveF92YWx1ZV9hY2Nlc3NvcicpO1xudmFyIG51bWJlcl92YWx1ZV9hY2Nlc3Nvcl8xID0gcmVxdWlyZSgnLi9kaXJlY3RpdmVzL251bWJlcl92YWx1ZV9hY2Nlc3NvcicpO1xudmFyIHJhZGlvX2NvbnRyb2xfdmFsdWVfYWNjZXNzb3JfMSA9IHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9yYWRpb19jb250cm9sX3ZhbHVlX2FjY2Vzc29yJyk7XG52YXIgbmdfY29udHJvbF9zdGF0dXNfMSA9IHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9uZ19jb250cm9sX3N0YXR1cycpO1xudmFyIHNlbGVjdF9jb250cm9sX3ZhbHVlX2FjY2Vzc29yXzEgPSByZXF1aXJlKCcuL2RpcmVjdGl2ZXMvc2VsZWN0X2NvbnRyb2xfdmFsdWVfYWNjZXNzb3InKTtcbnZhciB2YWxpZGF0b3JzXzEgPSByZXF1aXJlKCcuL2RpcmVjdGl2ZXMvdmFsaWRhdG9ycycpO1xudmFyIG5nX2NvbnRyb2xfbmFtZV8yID0gcmVxdWlyZSgnLi9kaXJlY3RpdmVzL25nX2NvbnRyb2xfbmFtZScpO1xuZXhwb3J0cy5OZ0NvbnRyb2xOYW1lID0gbmdfY29udHJvbF9uYW1lXzIuTmdDb250cm9sTmFtZTtcbnZhciBuZ19mb3JtX2NvbnRyb2xfMiA9IHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9uZ19mb3JtX2NvbnRyb2wnKTtcbmV4cG9ydHMuTmdGb3JtQ29udHJvbCA9IG5nX2Zvcm1fY29udHJvbF8yLk5nRm9ybUNvbnRyb2w7XG52YXIgbmdfbW9kZWxfMiA9IHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9uZ19tb2RlbCcpO1xuZXhwb3J0cy5OZ01vZGVsID0gbmdfbW9kZWxfMi5OZ01vZGVsO1xudmFyIG5nX2NvbnRyb2xfZ3JvdXBfMiA9IHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9uZ19jb250cm9sX2dyb3VwJyk7XG5leHBvcnRzLk5nQ29udHJvbEdyb3VwID0gbmdfY29udHJvbF9ncm91cF8yLk5nQ29udHJvbEdyb3VwO1xudmFyIG5nX2Zvcm1fbW9kZWxfMiA9IHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9uZ19mb3JtX21vZGVsJyk7XG5leHBvcnRzLk5nRm9ybU1vZGVsID0gbmdfZm9ybV9tb2RlbF8yLk5nRm9ybU1vZGVsO1xudmFyIG5nX2Zvcm1fMiA9IHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9uZ19mb3JtJyk7XG5leHBvcnRzLk5nRm9ybSA9IG5nX2Zvcm1fMi5OZ0Zvcm07XG52YXIgZGVmYXVsdF92YWx1ZV9hY2Nlc3Nvcl8yID0gcmVxdWlyZSgnLi9kaXJlY3RpdmVzL2RlZmF1bHRfdmFsdWVfYWNjZXNzb3InKTtcbmV4cG9ydHMuRGVmYXVsdFZhbHVlQWNjZXNzb3IgPSBkZWZhdWx0X3ZhbHVlX2FjY2Vzc29yXzIuRGVmYXVsdFZhbHVlQWNjZXNzb3I7XG52YXIgY2hlY2tib3hfdmFsdWVfYWNjZXNzb3JfMiA9IHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9jaGVja2JveF92YWx1ZV9hY2Nlc3NvcicpO1xuZXhwb3J0cy5DaGVja2JveENvbnRyb2xWYWx1ZUFjY2Vzc29yID0gY2hlY2tib3hfdmFsdWVfYWNjZXNzb3JfMi5DaGVja2JveENvbnRyb2xWYWx1ZUFjY2Vzc29yO1xudmFyIHJhZGlvX2NvbnRyb2xfdmFsdWVfYWNjZXNzb3JfMiA9IHJlcXVpcmUoJy4vZGlyZWN0aXZlcy9yYWRpb19jb250cm9sX3ZhbHVlX2FjY2Vzc29yJyk7XG5leHBvcnRzLlJhZGlvQ29udHJvbFZhbHVlQWNjZXNzb3IgPSByYWRpb19jb250cm9sX3ZhbHVlX2FjY2Vzc29yXzIuUmFkaW9Db250cm9sVmFsdWVBY2Nlc3NvcjtcbmV4cG9ydHMuUmFkaW9CdXR0b25TdGF0ZSA9IHJhZGlvX2NvbnRyb2xfdmFsdWVfYWNjZXNzb3JfMi5SYWRpb0J1dHRvblN0YXRlO1xudmFyIG51bWJlcl92YWx1ZV9hY2Nlc3Nvcl8yID0gcmVxdWlyZSgnLi9kaXJlY3RpdmVzL251bWJlcl92YWx1ZV9hY2Nlc3NvcicpO1xuZXhwb3J0cy5OdW1iZXJWYWx1ZUFjY2Vzc29yID0gbnVtYmVyX3ZhbHVlX2FjY2Vzc29yXzIuTnVtYmVyVmFsdWVBY2Nlc3NvcjtcbnZhciBuZ19jb250cm9sX3N0YXR1c18yID0gcmVxdWlyZSgnLi9kaXJlY3RpdmVzL25nX2NvbnRyb2xfc3RhdHVzJyk7XG5leHBvcnRzLk5nQ29udHJvbFN0YXR1cyA9IG5nX2NvbnRyb2xfc3RhdHVzXzIuTmdDb250cm9sU3RhdHVzO1xudmFyIHNlbGVjdF9jb250cm9sX3ZhbHVlX2FjY2Vzc29yXzIgPSByZXF1aXJlKCcuL2RpcmVjdGl2ZXMvc2VsZWN0X2NvbnRyb2xfdmFsdWVfYWNjZXNzb3InKTtcbmV4cG9ydHMuU2VsZWN0Q29udHJvbFZhbHVlQWNjZXNzb3IgPSBzZWxlY3RfY29udHJvbF92YWx1ZV9hY2Nlc3Nvcl8yLlNlbGVjdENvbnRyb2xWYWx1ZUFjY2Vzc29yO1xuZXhwb3J0cy5OZ1NlbGVjdE9wdGlvbiA9IHNlbGVjdF9jb250cm9sX3ZhbHVlX2FjY2Vzc29yXzIuTmdTZWxlY3RPcHRpb247XG52YXIgdmFsaWRhdG9yc18yID0gcmVxdWlyZSgnLi9kaXJlY3RpdmVzL3ZhbGlkYXRvcnMnKTtcbmV4cG9ydHMuUmVxdWlyZWRWYWxpZGF0b3IgPSB2YWxpZGF0b3JzXzIuUmVxdWlyZWRWYWxpZGF0b3I7XG5leHBvcnRzLk1pbkxlbmd0aFZhbGlkYXRvciA9IHZhbGlkYXRvcnNfMi5NaW5MZW5ndGhWYWxpZGF0b3I7XG5leHBvcnRzLk1heExlbmd0aFZhbGlkYXRvciA9IHZhbGlkYXRvcnNfMi5NYXhMZW5ndGhWYWxpZGF0b3I7XG5leHBvcnRzLlBhdHRlcm5WYWxpZGF0b3IgPSB2YWxpZGF0b3JzXzIuUGF0dGVyblZhbGlkYXRvcjtcbnZhciBuZ19jb250cm9sXzEgPSByZXF1aXJlKCcuL2RpcmVjdGl2ZXMvbmdfY29udHJvbCcpO1xuZXhwb3J0cy5OZ0NvbnRyb2wgPSBuZ19jb250cm9sXzEuTmdDb250cm9sO1xuLyoqXG4gKlxuICogQSBsaXN0IG9mIGFsbCB0aGUgZm9ybSBkaXJlY3RpdmVzIHVzZWQgYXMgcGFydCBvZiBhIGBAQ29tcG9uZW50YCBhbm5vdGF0aW9uLlxuICpcbiAqICBUaGlzIGlzIGEgc2hvcnRoYW5kIGZvciBpbXBvcnRpbmcgdGhlbSBlYWNoIGluZGl2aWR1YWxseS5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ215LWFwcCcsXG4gKiAgIGRpcmVjdGl2ZXM6IFtGT1JNX0RJUkVDVElWRVNdXG4gKiB9KVxuICogY2xhc3MgTXlBcHAge31cbiAqIGBgYFxuICovXG5leHBvcnRzLkZPUk1fRElSRUNUSVZFUyA9IFtcbiAgICBuZ19jb250cm9sX25hbWVfMS5OZ0NvbnRyb2xOYW1lLFxuICAgIG5nX2NvbnRyb2xfZ3JvdXBfMS5OZ0NvbnRyb2xHcm91cCxcbiAgICBuZ19mb3JtX2NvbnRyb2xfMS5OZ0Zvcm1Db250cm9sLFxuICAgIG5nX21vZGVsXzEuTmdNb2RlbCxcbiAgICBuZ19mb3JtX21vZGVsXzEuTmdGb3JtTW9kZWwsXG4gICAgbmdfZm9ybV8xLk5nRm9ybSxcbiAgICBzZWxlY3RfY29udHJvbF92YWx1ZV9hY2Nlc3Nvcl8xLk5nU2VsZWN0T3B0aW9uLFxuICAgIGRlZmF1bHRfdmFsdWVfYWNjZXNzb3JfMS5EZWZhdWx0VmFsdWVBY2Nlc3NvcixcbiAgICBudW1iZXJfdmFsdWVfYWNjZXNzb3JfMS5OdW1iZXJWYWx1ZUFjY2Vzc29yLFxuICAgIGNoZWNrYm94X3ZhbHVlX2FjY2Vzc29yXzEuQ2hlY2tib3hDb250cm9sVmFsdWVBY2Nlc3NvcixcbiAgICBzZWxlY3RfY29udHJvbF92YWx1ZV9hY2Nlc3Nvcl8xLlNlbGVjdENvbnRyb2xWYWx1ZUFjY2Vzc29yLFxuICAgIHJhZGlvX2NvbnRyb2xfdmFsdWVfYWNjZXNzb3JfMS5SYWRpb0NvbnRyb2xWYWx1ZUFjY2Vzc29yLFxuICAgIG5nX2NvbnRyb2xfc3RhdHVzXzEuTmdDb250cm9sU3RhdHVzLFxuICAgIHZhbGlkYXRvcnNfMS5SZXF1aXJlZFZhbGlkYXRvcixcbiAgICB2YWxpZGF0b3JzXzEuTWluTGVuZ3RoVmFsaWRhdG9yLFxuICAgIHZhbGlkYXRvcnNfMS5NYXhMZW5ndGhWYWxpZGF0b3IsXG4gICAgdmFsaWRhdG9yc18xLlBhdHRlcm5WYWxpZGF0b3Jcbl07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXJlY3RpdmVzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9mYWNhZGUvZXhjZXB0aW9ucycpO1xuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBjb250cm9sIGRpcmVjdGl2ZXMuXG4gKlxuICogT25seSB1c2VkIGludGVybmFsbHkgaW4gdGhlIGZvcm1zIG1vZHVsZS5cbiAqL1xudmFyIEFic3RyYWN0Q29udHJvbERpcmVjdGl2ZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RDb250cm9sRGlyZWN0aXZlKCkge1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RDb250cm9sRGlyZWN0aXZlLnByb3RvdHlwZSwgXCJjb250cm9sXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleGNlcHRpb25zXzEudW5pbXBsZW1lbnRlZCgpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RDb250cm9sRGlyZWN0aXZlLnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbGFuZ18xLmlzUHJlc2VudCh0aGlzLmNvbnRyb2wpID8gdGhpcy5jb250cm9sLnZhbHVlIDogbnVsbDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0Q29udHJvbERpcmVjdGl2ZS5wcm90b3R5cGUsIFwidmFsaWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQodGhpcy5jb250cm9sKSA/IHRoaXMuY29udHJvbC52YWxpZCA6IG51bGw7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdENvbnRyb2xEaXJlY3RpdmUucHJvdG90eXBlLCBcImVycm9yc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQodGhpcy5jb250cm9sKSA/IHRoaXMuY29udHJvbC5lcnJvcnMgOiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RDb250cm9sRGlyZWN0aXZlLnByb3RvdHlwZSwgXCJwcmlzdGluZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbGFuZ18xLmlzUHJlc2VudCh0aGlzLmNvbnRyb2wpID8gdGhpcy5jb250cm9sLnByaXN0aW5lIDogbnVsbDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0Q29udHJvbERpcmVjdGl2ZS5wcm90b3R5cGUsIFwiZGlydHlcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQodGhpcy5jb250cm9sKSA/IHRoaXMuY29udHJvbC5kaXJ0eSA6IG51bGw7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdENvbnRyb2xEaXJlY3RpdmUucHJvdG90eXBlLCBcInRvdWNoZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQodGhpcy5jb250cm9sKSA/IHRoaXMuY29udHJvbC50b3VjaGVkIDogbnVsbDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0Q29udHJvbERpcmVjdGl2ZS5wcm90b3R5cGUsIFwidW50b3VjaGVkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHRoaXMuY29udHJvbCkgPyB0aGlzLmNvbnRyb2wudW50b3VjaGVkIDogbnVsbDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0Q29udHJvbERpcmVjdGl2ZS5wcm90b3R5cGUsIFwicGF0aFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEFic3RyYWN0Q29udHJvbERpcmVjdGl2ZTtcbn0oKSk7XG5leHBvcnRzLkFic3RyYWN0Q29udHJvbERpcmVjdGl2ZSA9IEFic3RyYWN0Q29udHJvbERpcmVjdGl2ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFic3RyYWN0X2NvbnRyb2xfZGlyZWN0aXZlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBjb250cm9sX3ZhbHVlX2FjY2Vzc29yXzEgPSByZXF1aXJlKCcuL2NvbnRyb2xfdmFsdWVfYWNjZXNzb3InKTtcbmV4cG9ydHMuQ0hFQ0tCT1hfVkFMVUVfQUNDRVNTT1IgPSB7XG4gICAgcHJvdmlkZTogY29udHJvbF92YWx1ZV9hY2Nlc3Nvcl8xLk5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgIHVzZUV4aXN0aW5nOiBjb3JlXzEuZm9yd2FyZFJlZihmdW5jdGlvbiAoKSB7IHJldHVybiBDaGVja2JveENvbnRyb2xWYWx1ZUFjY2Vzc29yOyB9KSxcbiAgICBtdWx0aTogdHJ1ZVxufTtcbnZhciBDaGVja2JveENvbnRyb2xWYWx1ZUFjY2Vzc29yID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDaGVja2JveENvbnRyb2xWYWx1ZUFjY2Vzc29yKF9yZW5kZXJlciwgX2VsZW1lbnRSZWYpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSBfcmVuZGVyZXI7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRSZWYgPSBfZWxlbWVudFJlZjtcbiAgICAgICAgdGhpcy5vbkNoYW5nZSA9IGZ1bmN0aW9uIChfKSB7IH07XG4gICAgICAgIHRoaXMub25Ub3VjaGVkID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIH1cbiAgICBDaGVja2JveENvbnRyb2xWYWx1ZUFjY2Vzc29yLnByb3RvdHlwZS53cml0ZVZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLnNldEVsZW1lbnRQcm9wZXJ0eSh0aGlzLl9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsICdjaGVja2VkJywgdmFsdWUpO1xuICAgIH07XG4gICAgQ2hlY2tib3hDb250cm9sVmFsdWVBY2Nlc3Nvci5wcm90b3R5cGUucmVnaXN0ZXJPbkNoYW5nZSA9IGZ1bmN0aW9uIChmbikgeyB0aGlzLm9uQ2hhbmdlID0gZm47IH07XG4gICAgQ2hlY2tib3hDb250cm9sVmFsdWVBY2Nlc3Nvci5wcm90b3R5cGUucmVnaXN0ZXJPblRvdWNoZWQgPSBmdW5jdGlvbiAoZm4pIHsgdGhpcy5vblRvdWNoZWQgPSBmbjsgfTtcbiAgICBDaGVja2JveENvbnRyb2xWYWx1ZUFjY2Vzc29yLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkRpcmVjdGl2ZSwgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdpbnB1dFt0eXBlPWNoZWNrYm94XVtuZ0NvbnRyb2xdLGlucHV0W3R5cGU9Y2hlY2tib3hdW25nRm9ybUNvbnRyb2xdLGlucHV0W3R5cGU9Y2hlY2tib3hdW25nTW9kZWxdJyxcbiAgICAgICAgICAgICAgICAgICAgaG9zdDogeyAnKGNoYW5nZSknOiAnb25DaGFuZ2UoJGV2ZW50LnRhcmdldC5jaGVja2VkKScsICcoYmx1ciknOiAnb25Ub3VjaGVkKCknIH0sXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW2V4cG9ydHMuQ0hFQ0tCT1hfVkFMVUVfQUNDRVNTT1JdXG4gICAgICAgICAgICAgICAgfSxdIH0sXG4gICAgXTtcbiAgICBDaGVja2JveENvbnRyb2xWYWx1ZUFjY2Vzc29yLmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5SZW5kZXJlciwgfSxcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuRWxlbWVudFJlZiwgfSxcbiAgICBdO1xuICAgIHJldHVybiBDaGVja2JveENvbnRyb2xWYWx1ZUFjY2Vzc29yO1xufSgpKTtcbmV4cG9ydHMuQ2hlY2tib3hDb250cm9sVmFsdWVBY2Nlc3NvciA9IENoZWNrYm94Q29udHJvbFZhbHVlQWNjZXNzb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGVja2JveF92YWx1ZV9hY2Nlc3Nvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGFic3RyYWN0X2NvbnRyb2xfZGlyZWN0aXZlXzEgPSByZXF1aXJlKCcuL2Fic3RyYWN0X2NvbnRyb2xfZGlyZWN0aXZlJyk7XG4vKipcbiAqIEEgZGlyZWN0aXZlIHRoYXQgY29udGFpbnMgbXVsdGlwbGUge0BsaW5rIE5nQ29udHJvbH1zLlxuICpcbiAqIE9ubHkgdXNlZCBieSB0aGUgZm9ybXMgbW9kdWxlLlxuICovXG52YXIgQ29udHJvbENvbnRhaW5lciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbnRyb2xDb250YWluZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29udHJvbENvbnRhaW5lcigpIHtcbiAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb250cm9sQ29udGFpbmVyLnByb3RvdHlwZSwgXCJmb3JtRGlyZWN0aXZlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgZm9ybSB0byB3aGljaCB0aGlzIGNvbnRhaW5lciBiZWxvbmdzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29udHJvbENvbnRhaW5lci5wcm90b3R5cGUsIFwicGF0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHBhdGggdG8gdGhpcyBjb250YWluZXIuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBDb250cm9sQ29udGFpbmVyO1xufShhYnN0cmFjdF9jb250cm9sX2RpcmVjdGl2ZV8xLkFic3RyYWN0Q29udHJvbERpcmVjdGl2ZSkpO1xuZXhwb3J0cy5Db250cm9sQ29udGFpbmVyID0gQ29udHJvbENvbnRhaW5lcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRyb2xfY29udGFpbmVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbi8qKlxuICogVXNlZCB0byBwcm92aWRlIGEge0BsaW5rIENvbnRyb2xWYWx1ZUFjY2Vzc29yfSBmb3IgZm9ybSBjb250cm9scy5cbiAqXG4gKiBTZWUge0BsaW5rIERlZmF1bHRWYWx1ZUFjY2Vzc29yfSBmb3IgaG93IHRvIGltcGxlbWVudCBvbmUuXG4gKi9cbmV4cG9ydHMuTkdfVkFMVUVfQUNDRVNTT1IgPSBcbi8qQHRzMmRhcnRfY29uc3QqLyBuZXcgY29yZV8xLk9wYXF1ZVRva2VuKFwiTmdWYWx1ZUFjY2Vzc29yXCIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udHJvbF92YWx1ZV9hY2Nlc3Nvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgY29udHJvbF92YWx1ZV9hY2Nlc3Nvcl8xID0gcmVxdWlyZSgnLi9jb250cm9sX3ZhbHVlX2FjY2Vzc29yJyk7XG5leHBvcnRzLkRFRkFVTFRfVkFMVUVfQUNDRVNTT1IgPSBcbi8qIEB0czJkYXJ0X1Byb3ZpZGVyICovIHtcbiAgICBwcm92aWRlOiBjb250cm9sX3ZhbHVlX2FjY2Vzc29yXzEuTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGNvcmVfMS5mb3J3YXJkUmVmKGZ1bmN0aW9uICgpIHsgcmV0dXJuIERlZmF1bHRWYWx1ZUFjY2Vzc29yOyB9KSxcbiAgICBtdWx0aTogdHJ1ZVxufTtcbnZhciBEZWZhdWx0VmFsdWVBY2Nlc3NvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVmYXVsdFZhbHVlQWNjZXNzb3IoX3JlbmRlcmVyLCBfZWxlbWVudFJlZikge1xuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IF9yZW5kZXJlcjtcbiAgICAgICAgdGhpcy5fZWxlbWVudFJlZiA9IF9lbGVtZW50UmVmO1xuICAgICAgICB0aGlzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKF8pIHsgfTtcbiAgICAgICAgdGhpcy5vblRvdWNoZWQgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgfVxuICAgIERlZmF1bHRWYWx1ZUFjY2Vzc29yLnByb3RvdHlwZS53cml0ZVZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkVmFsdWUgPSBsYW5nXzEuaXNCbGFuayh2YWx1ZSkgPyAnJyA6IHZhbHVlO1xuICAgICAgICB0aGlzLl9yZW5kZXJlci5zZXRFbGVtZW50UHJvcGVydHkodGhpcy5fZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LCAndmFsdWUnLCBub3JtYWxpemVkVmFsdWUpO1xuICAgIH07XG4gICAgRGVmYXVsdFZhbHVlQWNjZXNzb3IucHJvdG90eXBlLnJlZ2lzdGVyT25DaGFuZ2UgPSBmdW5jdGlvbiAoZm4pIHsgdGhpcy5vbkNoYW5nZSA9IGZuOyB9O1xuICAgIERlZmF1bHRWYWx1ZUFjY2Vzc29yLnByb3RvdHlwZS5yZWdpc3Rlck9uVG91Y2hlZCA9IGZ1bmN0aW9uIChmbikgeyB0aGlzLm9uVG91Y2hlZCA9IGZuOyB9O1xuICAgIERlZmF1bHRWYWx1ZUFjY2Vzc29yLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkRpcmVjdGl2ZSwgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdpbnB1dDpub3QoW3R5cGU9Y2hlY2tib3hdKVtuZ0NvbnRyb2xdLHRleHRhcmVhW25nQ29udHJvbF0saW5wdXQ6bm90KFt0eXBlPWNoZWNrYm94XSlbbmdGb3JtQ29udHJvbF0sdGV4dGFyZWFbbmdGb3JtQ29udHJvbF0saW5wdXQ6bm90KFt0eXBlPWNoZWNrYm94XSlbbmdNb2RlbF0sdGV4dGFyZWFbbmdNb2RlbF0sW25nRGVmYXVsdENvbnRyb2xdJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogdnNhdmtpbiByZXBsYWNlIHRoZSBhYm92ZSBzZWxlY3RvciB3aXRoIHRoZSBvbmUgYmVsb3cgaXQgb25jZVxuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8zMDExIGlzIGltcGxlbWVudGVkXG4gICAgICAgICAgICAgICAgICAgIC8vIHNlbGVjdG9yOiAnW25nQ29udHJvbF0sW25nTW9kZWxdLFtuZ0Zvcm1Db250cm9sXScsXG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IHsgJyhpbnB1dCknOiAnb25DaGFuZ2UoJGV2ZW50LnRhcmdldC52YWx1ZSknLCAnKGJsdXIpJzogJ29uVG91Y2hlZCgpJyB9LFxuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nczogW2V4cG9ydHMuREVGQVVMVF9WQUxVRV9BQ0NFU1NPUl1cbiAgICAgICAgICAgICAgICB9LF0gfSxcbiAgICBdO1xuICAgIERlZmF1bHRWYWx1ZUFjY2Vzc29yLmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5SZW5kZXJlciwgfSxcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuRWxlbWVudFJlZiwgfSxcbiAgICBdO1xuICAgIHJldHVybiBEZWZhdWx0VmFsdWVBY2Nlc3Nvcjtcbn0oKSk7XG5leHBvcnRzLkRlZmF1bHRWYWx1ZUFjY2Vzc29yID0gRGVmYXVsdFZhbHVlQWNjZXNzb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0X3ZhbHVlX2FjY2Vzc29yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG52YXIgYWJzdHJhY3RfY29udHJvbF9kaXJlY3RpdmVfMSA9IHJlcXVpcmUoJy4vYWJzdHJhY3RfY29udHJvbF9kaXJlY3RpdmUnKTtcbi8qKlxuICogQSBiYXNlIGNsYXNzIHRoYXQgYWxsIGNvbnRyb2wgZGlyZWN0aXZlIGV4dGVuZC5cbiAqIEl0IGJpbmRzIGEge0BsaW5rIENvbnRyb2x9IG9iamVjdCB0byBhIERPTSBlbGVtZW50LlxuICpcbiAqIFVzZWQgaW50ZXJuYWxseSBieSBBbmd1bGFyIGZvcm1zLlxuICovXG52YXIgTmdDb250cm9sID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTmdDb250cm9sLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE5nQ29udHJvbCgpIHtcbiAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMudmFsdWVBY2Nlc3NvciA9IG51bGw7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOZ0NvbnRyb2wucHJvdG90eXBlLCBcInZhbGlkYXRvclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhjZXB0aW9uc18xLnVuaW1wbGVtZW50ZWQoKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nQ29udHJvbC5wcm90b3R5cGUsIFwiYXN5bmNWYWxpZGF0b3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4Y2VwdGlvbnNfMS51bmltcGxlbWVudGVkKCk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBOZ0NvbnRyb2w7XG59KGFic3RyYWN0X2NvbnRyb2xfZGlyZWN0aXZlXzEuQWJzdHJhY3RDb250cm9sRGlyZWN0aXZlKSk7XG5leHBvcnRzLk5nQ29udHJvbCA9IE5nQ29udHJvbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5nX2NvbnRyb2wuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgY29udHJvbF9jb250YWluZXJfMSA9IHJlcXVpcmUoJy4vY29udHJvbF9jb250YWluZXInKTtcbnZhciBzaGFyZWRfMSA9IHJlcXVpcmUoJy4vc2hhcmVkJyk7XG52YXIgdmFsaWRhdG9yc18xID0gcmVxdWlyZSgnLi4vdmFsaWRhdG9ycycpO1xuZXhwb3J0cy5jb250cm9sR3JvdXBQcm92aWRlciA9IFxuLypAdHMyZGFydF9jb25zdCovIC8qIEB0czJkYXJ0X1Byb3ZpZGVyICovIHtcbiAgICBwcm92aWRlOiBjb250cm9sX2NvbnRhaW5lcl8xLkNvbnRyb2xDb250YWluZXIsXG4gICAgdXNlRXhpc3Rpbmc6IGNvcmVfMS5mb3J3YXJkUmVmKGZ1bmN0aW9uICgpIHsgcmV0dXJuIE5nQ29udHJvbEdyb3VwOyB9KVxufTtcbnZhciBOZ0NvbnRyb2xHcm91cCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE5nQ29udHJvbEdyb3VwLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE5nQ29udHJvbEdyb3VwKHBhcmVudCwgX3ZhbGlkYXRvcnMsIF9hc3luY1ZhbGlkYXRvcnMpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRvcnMgPSBfdmFsaWRhdG9ycztcbiAgICAgICAgdGhpcy5fYXN5bmNWYWxpZGF0b3JzID0gX2FzeW5jVmFsaWRhdG9ycztcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuICAgIH1cbiAgICBOZ0NvbnRyb2xHcm91cC5wcm90b3R5cGUubmdPbkluaXQgPSBmdW5jdGlvbiAoKSB7IHRoaXMuZm9ybURpcmVjdGl2ZS5hZGRDb250cm9sR3JvdXAodGhpcyk7IH07XG4gICAgTmdDb250cm9sR3JvdXAucHJvdG90eXBlLm5nT25EZXN0cm95ID0gZnVuY3Rpb24gKCkgeyB0aGlzLmZvcm1EaXJlY3RpdmUucmVtb3ZlQ29udHJvbEdyb3VwKHRoaXMpOyB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOZ0NvbnRyb2xHcm91cC5wcm90b3R5cGUsIFwiY29udHJvbFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHtAbGluayBDb250cm9sR3JvdXB9IGJhY2tpbmcgdGhpcyBiaW5kaW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmZvcm1EaXJlY3RpdmUuZ2V0Q29udHJvbEdyb3VwKHRoaXMpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdDb250cm9sR3JvdXAucHJvdG90eXBlLCBcInBhdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBwYXRoIHRvIHRoaXMgY29udHJvbCBncm91cC5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2hhcmVkXzEuY29udHJvbFBhdGgodGhpcy5uYW1lLCB0aGlzLl9wYXJlbnQpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdDb250cm9sR3JvdXAucHJvdG90eXBlLCBcImZvcm1EaXJlY3RpdmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSB7QGxpbmsgRm9ybX0gdG8gd2hpY2ggdGhpcyBncm91cCBiZWxvbmdzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9wYXJlbnQuZm9ybURpcmVjdGl2ZTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nQ29udHJvbEdyb3VwLnByb3RvdHlwZSwgXCJ2YWxpZGF0b3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNoYXJlZF8xLmNvbXBvc2VWYWxpZGF0b3JzKHRoaXMuX3ZhbGlkYXRvcnMpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdDb250cm9sR3JvdXAucHJvdG90eXBlLCBcImFzeW5jVmFsaWRhdG9yXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzaGFyZWRfMS5jb21wb3NlQXN5bmNWYWxpZGF0b3JzKHRoaXMuX2FzeW5jVmFsaWRhdG9ycyk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE5nQ29udHJvbEdyb3VwLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkRpcmVjdGl2ZSwgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdbbmdDb250cm9sR3JvdXBdJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbZXhwb3J0cy5jb250cm9sR3JvdXBQcm92aWRlcl0sXG4gICAgICAgICAgICAgICAgICAgIGlucHV0czogWyduYW1lOiBuZ0NvbnRyb2xHcm91cCddLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRBczogJ25nRm9ybSdcbiAgICAgICAgICAgICAgICB9LF0gfSxcbiAgICBdO1xuICAgIE5nQ29udHJvbEdyb3VwLmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IGNvbnRyb2xfY29udGFpbmVyXzEuQ29udHJvbENvbnRhaW5lciwgZGVjb3JhdG9yczogW3sgdHlwZTogY29yZV8xLkhvc3QgfSwgeyB0eXBlOiBjb3JlXzEuU2tpcFNlbGYgfSxdIH0sXG4gICAgICAgIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbeyB0eXBlOiBjb3JlXzEuT3B0aW9uYWwgfSwgeyB0eXBlOiBjb3JlXzEuU2VsZiB9LCB7IHR5cGU6IGNvcmVfMS5JbmplY3QsIGFyZ3M6IFt2YWxpZGF0b3JzXzEuTkdfVkFMSURBVE9SUyxdIH0sXSB9LFxuICAgICAgICB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3sgdHlwZTogY29yZV8xLk9wdGlvbmFsIH0sIHsgdHlwZTogY29yZV8xLlNlbGYgfSwgeyB0eXBlOiBjb3JlXzEuSW5qZWN0LCBhcmdzOiBbdmFsaWRhdG9yc18xLk5HX0FTWU5DX1ZBTElEQVRPUlMsXSB9LF0gfSxcbiAgICBdO1xuICAgIHJldHVybiBOZ0NvbnRyb2xHcm91cDtcbn0oY29udHJvbF9jb250YWluZXJfMS5Db250cm9sQ29udGFpbmVyKSk7XG5leHBvcnRzLk5nQ29udHJvbEdyb3VwID0gTmdDb250cm9sR3JvdXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uZ19jb250cm9sX2dyb3VwLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGFzeW5jXzEgPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvZmFjYWRlL2FzeW5jJyk7XG52YXIgY29udHJvbF9jb250YWluZXJfMSA9IHJlcXVpcmUoJy4vY29udHJvbF9jb250YWluZXInKTtcbnZhciBuZ19jb250cm9sXzEgPSByZXF1aXJlKCcuL25nX2NvbnRyb2wnKTtcbnZhciBjb250cm9sX3ZhbHVlX2FjY2Vzc29yXzEgPSByZXF1aXJlKCcuL2NvbnRyb2xfdmFsdWVfYWNjZXNzb3InKTtcbnZhciBzaGFyZWRfMSA9IHJlcXVpcmUoJy4vc2hhcmVkJyk7XG52YXIgdmFsaWRhdG9yc18xID0gcmVxdWlyZSgnLi4vdmFsaWRhdG9ycycpO1xuZXhwb3J0cy5jb250cm9sTmFtZUJpbmRpbmcgPSBcbi8qQHRzMmRhcnRfY29uc3QqLyAvKiBAdHMyZGFydF9Qcm92aWRlciAqLyB7XG4gICAgcHJvdmlkZTogbmdfY29udHJvbF8xLk5nQ29udHJvbCxcbiAgICB1c2VFeGlzdGluZzogY29yZV8xLmZvcndhcmRSZWYoZnVuY3Rpb24gKCkgeyByZXR1cm4gTmdDb250cm9sTmFtZTsgfSlcbn07XG52YXIgTmdDb250cm9sTmFtZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE5nQ29udHJvbE5hbWUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTmdDb250cm9sTmFtZShfcGFyZW50LCBfdmFsaWRhdG9ycywgX2FzeW5jVmFsaWRhdG9ycywgdmFsdWVBY2Nlc3NvcnMpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX3BhcmVudCA9IF9wYXJlbnQ7XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRvcnMgPSBfdmFsaWRhdG9ycztcbiAgICAgICAgdGhpcy5fYXN5bmNWYWxpZGF0b3JzID0gX2FzeW5jVmFsaWRhdG9ycztcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLnVwZGF0ZSA9IG5ldyBhc3luY18xLkV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLl9hZGRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnZhbHVlQWNjZXNzb3IgPSBzaGFyZWRfMS5zZWxlY3RWYWx1ZUFjY2Vzc29yKHRoaXMsIHZhbHVlQWNjZXNzb3JzKTtcbiAgICB9XG4gICAgTmdDb250cm9sTmFtZS5wcm90b3R5cGUubmdPbkNoYW5nZXMgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICBpZiAoIXRoaXMuX2FkZGVkKSB7XG4gICAgICAgICAgICB0aGlzLmZvcm1EaXJlY3RpdmUuYWRkQ29udHJvbCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2FkZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hhcmVkXzEuaXNQcm9wZXJ0eVVwZGF0ZWQoY2hhbmdlcywgdGhpcy52aWV3TW9kZWwpKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdNb2RlbCA9IHRoaXMubW9kZWw7XG4gICAgICAgICAgICB0aGlzLmZvcm1EaXJlY3RpdmUudXBkYXRlTW9kZWwodGhpcywgdGhpcy5tb2RlbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5nQ29udHJvbE5hbWUucHJvdG90eXBlLm5nT25EZXN0cm95ID0gZnVuY3Rpb24gKCkgeyB0aGlzLmZvcm1EaXJlY3RpdmUucmVtb3ZlQ29udHJvbCh0aGlzKTsgfTtcbiAgICBOZ0NvbnRyb2xOYW1lLnByb3RvdHlwZS52aWV3VG9Nb2RlbFVwZGF0ZSA9IGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICB0aGlzLnZpZXdNb2RlbCA9IG5ld1ZhbHVlO1xuICAgICAgICBhc3luY18xLk9ic2VydmFibGVXcmFwcGVyLmNhbGxFbWl0KHRoaXMudXBkYXRlLCBuZXdWYWx1ZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdDb250cm9sTmFtZS5wcm90b3R5cGUsIFwicGF0aFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2hhcmVkXzEuY29udHJvbFBhdGgodGhpcy5uYW1lLCB0aGlzLl9wYXJlbnQpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdDb250cm9sTmFtZS5wcm90b3R5cGUsIFwiZm9ybURpcmVjdGl2ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fcGFyZW50LmZvcm1EaXJlY3RpdmU7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOZ0NvbnRyb2xOYW1lLnByb3RvdHlwZSwgXCJ2YWxpZGF0b3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNoYXJlZF8xLmNvbXBvc2VWYWxpZGF0b3JzKHRoaXMuX3ZhbGlkYXRvcnMpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdDb250cm9sTmFtZS5wcm90b3R5cGUsIFwiYXN5bmNWYWxpZGF0b3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNoYXJlZF8xLmNvbXBvc2VBc3luY1ZhbGlkYXRvcnModGhpcy5fYXN5bmNWYWxpZGF0b3JzKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nQ29udHJvbE5hbWUucHJvdG90eXBlLCBcImNvbnRyb2xcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZm9ybURpcmVjdGl2ZS5nZXRDb250cm9sKHRoaXMpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBOZ0NvbnRyb2xOYW1lLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkRpcmVjdGl2ZSwgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdbbmdDb250cm9sXScsXG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmdzOiBbZXhwb3J0cy5jb250cm9sTmFtZUJpbmRpbmddLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dHM6IFsnbmFtZTogbmdDb250cm9sJywgJ21vZGVsOiBuZ01vZGVsJ10sXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dHM6IFsndXBkYXRlOiBuZ01vZGVsQ2hhbmdlJ10sXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydEFzOiAnbmdGb3JtJ1xuICAgICAgICAgICAgICAgIH0sXSB9LFxuICAgIF07XG4gICAgTmdDb250cm9sTmFtZS5jdG9yUGFyYW1ldGVycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb250cm9sX2NvbnRhaW5lcl8xLkNvbnRyb2xDb250YWluZXIsIGRlY29yYXRvcnM6IFt7IHR5cGU6IGNvcmVfMS5Ib3N0IH0sIHsgdHlwZTogY29yZV8xLlNraXBTZWxmIH0sXSB9LFxuICAgICAgICB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3sgdHlwZTogY29yZV8xLk9wdGlvbmFsIH0sIHsgdHlwZTogY29yZV8xLlNlbGYgfSwgeyB0eXBlOiBjb3JlXzEuSW5qZWN0LCBhcmdzOiBbdmFsaWRhdG9yc18xLk5HX1ZBTElEQVRPUlMsXSB9LF0gfSxcbiAgICAgICAgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7IHR5cGU6IGNvcmVfMS5PcHRpb25hbCB9LCB7IHR5cGU6IGNvcmVfMS5TZWxmIH0sIHsgdHlwZTogY29yZV8xLkluamVjdCwgYXJnczogW3ZhbGlkYXRvcnNfMS5OR19BU1lOQ19WQUxJREFUT1JTLF0gfSxdIH0sXG4gICAgICAgIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbeyB0eXBlOiBjb3JlXzEuT3B0aW9uYWwgfSwgeyB0eXBlOiBjb3JlXzEuU2VsZiB9LCB7IHR5cGU6IGNvcmVfMS5JbmplY3QsIGFyZ3M6IFtjb250cm9sX3ZhbHVlX2FjY2Vzc29yXzEuTkdfVkFMVUVfQUNDRVNTT1IsXSB9LF0gfSxcbiAgICBdO1xuICAgIHJldHVybiBOZ0NvbnRyb2xOYW1lO1xufShuZ19jb250cm9sXzEuTmdDb250cm9sKSk7XG5leHBvcnRzLk5nQ29udHJvbE5hbWUgPSBOZ0NvbnRyb2xOYW1lO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmdfY29udHJvbF9uYW1lLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBuZ19jb250cm9sXzEgPSByZXF1aXJlKCcuL25nX2NvbnRyb2wnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBOZ0NvbnRyb2xTdGF0dXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5nQ29udHJvbFN0YXR1cyhjZCkge1xuICAgICAgICB0aGlzLl9jZCA9IGNkO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdDb250cm9sU3RhdHVzLnByb3RvdHlwZSwgXCJuZ0NsYXNzVW50b3VjaGVkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFuZ18xLmlzUHJlc2VudCh0aGlzLl9jZC5jb250cm9sKSA/IHRoaXMuX2NkLmNvbnRyb2wudW50b3VjaGVkIDogZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOZ0NvbnRyb2xTdGF0dXMucHJvdG90eXBlLCBcIm5nQ2xhc3NUb3VjaGVkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFuZ18xLmlzUHJlc2VudCh0aGlzLl9jZC5jb250cm9sKSA/IHRoaXMuX2NkLmNvbnRyb2wudG91Y2hlZCA6IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdDb250cm9sU3RhdHVzLnByb3RvdHlwZSwgXCJuZ0NsYXNzUHJpc3RpbmVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHRoaXMuX2NkLmNvbnRyb2wpID8gdGhpcy5fY2QuY29udHJvbC5wcmlzdGluZSA6IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdDb250cm9sU3RhdHVzLnByb3RvdHlwZSwgXCJuZ0NsYXNzRGlydHlcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHRoaXMuX2NkLmNvbnRyb2wpID8gdGhpcy5fY2QuY29udHJvbC5kaXJ0eSA6IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdDb250cm9sU3RhdHVzLnByb3RvdHlwZSwgXCJuZ0NsYXNzVmFsaWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHRoaXMuX2NkLmNvbnRyb2wpID8gdGhpcy5fY2QuY29udHJvbC52YWxpZCA6IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdDb250cm9sU3RhdHVzLnByb3RvdHlwZSwgXCJuZ0NsYXNzSW52YWxpZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQodGhpcy5fY2QuY29udHJvbCkgPyAhdGhpcy5fY2QuY29udHJvbC52YWxpZCA6IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBOZ0NvbnRyb2xTdGF0dXMuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuRGlyZWN0aXZlLCBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1tuZ0NvbnRyb2xdLFtuZ01vZGVsXSxbbmdGb3JtQ29udHJvbF0nLFxuICAgICAgICAgICAgICAgICAgICBob3N0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnW2NsYXNzLm5nLXVudG91Y2hlZF0nOiAnbmdDbGFzc1VudG91Y2hlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnW2NsYXNzLm5nLXRvdWNoZWRdJzogJ25nQ2xhc3NUb3VjaGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdbY2xhc3MubmctcHJpc3RpbmVdJzogJ25nQ2xhc3NQcmlzdGluZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnW2NsYXNzLm5nLWRpcnR5XSc6ICduZ0NsYXNzRGlydHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1tjbGFzcy5uZy12YWxpZF0nOiAnbmdDbGFzc1ZhbGlkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdbY2xhc3MubmctaW52YWxpZF0nOiAnbmdDbGFzc0ludmFsaWQnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LF0gfSxcbiAgICBdO1xuICAgIE5nQ29udHJvbFN0YXR1cy5jdG9yUGFyYW1ldGVycyA9IFtcbiAgICAgICAgeyB0eXBlOiBuZ19jb250cm9sXzEuTmdDb250cm9sLCBkZWNvcmF0b3JzOiBbeyB0eXBlOiBjb3JlXzEuU2VsZiB9LF0gfSxcbiAgICBdO1xuICAgIHJldHVybiBOZ0NvbnRyb2xTdGF0dXM7XG59KCkpO1xuZXhwb3J0cy5OZ0NvbnRyb2xTdGF0dXMgPSBOZ0NvbnRyb2xTdGF0dXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uZ19jb250cm9sX3N0YXR1cy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBhc3luY18xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9hc3luYycpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGNvbnRyb2xfY29udGFpbmVyXzEgPSByZXF1aXJlKCcuL2NvbnRyb2xfY29udGFpbmVyJyk7XG52YXIgbW9kZWxfMSA9IHJlcXVpcmUoJy4uL21vZGVsJyk7XG52YXIgc2hhcmVkXzEgPSByZXF1aXJlKCcuL3NoYXJlZCcpO1xudmFyIHZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoJy4uL3ZhbGlkYXRvcnMnKTtcbmV4cG9ydHMuZm9ybURpcmVjdGl2ZVByb3ZpZGVyID0gXG4vKkB0czJkYXJ0X2NvbnN0Ki8geyBwcm92aWRlOiBjb250cm9sX2NvbnRhaW5lcl8xLkNvbnRyb2xDb250YWluZXIsIHVzZUV4aXN0aW5nOiBjb3JlXzEuZm9yd2FyZFJlZihmdW5jdGlvbiAoKSB7IHJldHVybiBOZ0Zvcm07IH0pIH07XG52YXIgTmdGb3JtID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTmdGb3JtLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE5nRm9ybSh2YWxpZGF0b3JzLCBhc3luY1ZhbGlkYXRvcnMpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubmdTdWJtaXQgPSBuZXcgYXN5bmNfMS5FdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5mb3JtID0gbmV3IG1vZGVsXzEuQ29udHJvbEdyb3VwKHt9LCBudWxsLCBzaGFyZWRfMS5jb21wb3NlVmFsaWRhdG9ycyh2YWxpZGF0b3JzKSwgc2hhcmVkXzEuY29tcG9zZUFzeW5jVmFsaWRhdG9ycyhhc3luY1ZhbGlkYXRvcnMpKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nRm9ybS5wcm90b3R5cGUsIFwiZm9ybURpcmVjdGl2ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nRm9ybS5wcm90b3R5cGUsIFwiY29udHJvbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5mb3JtOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdGb3JtLnByb3RvdHlwZSwgXCJwYXRoXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBbXTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nRm9ybS5wcm90b3R5cGUsIFwiY29udHJvbHNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZm9ybS5jb250cm9sczsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTmdGb3JtLnByb3RvdHlwZS5hZGRDb250cm9sID0gZnVuY3Rpb24gKGRpcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBhc3luY18xLlByb21pc2VXcmFwcGVyLnNjaGVkdWxlTWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBfdGhpcy5fZmluZENvbnRhaW5lcihkaXIucGF0aCk7XG4gICAgICAgICAgICB2YXIgY3RybCA9IG5ldyBtb2RlbF8xLkNvbnRyb2woKTtcbiAgICAgICAgICAgIHNoYXJlZF8xLnNldFVwQ29udHJvbChjdHJsLCBkaXIpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFkZENvbnRyb2woZGlyLm5hbWUsIGN0cmwpO1xuICAgICAgICAgICAgY3RybC51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHsgZW1pdEV2ZW50OiBmYWxzZSB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBOZ0Zvcm0ucHJvdG90eXBlLmdldENvbnRyb2wgPSBmdW5jdGlvbiAoZGlyKSB7IHJldHVybiB0aGlzLmZvcm0uZmluZChkaXIucGF0aCk7IH07XG4gICAgTmdGb3JtLnByb3RvdHlwZS5yZW1vdmVDb250cm9sID0gZnVuY3Rpb24gKGRpcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBhc3luY18xLlByb21pc2VXcmFwcGVyLnNjaGVkdWxlTWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBfdGhpcy5fZmluZENvbnRhaW5lcihkaXIucGF0aCk7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChjb250YWluZXIpKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNvbnRyb2woZGlyLm5hbWUpO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHsgZW1pdEV2ZW50OiBmYWxzZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBOZ0Zvcm0ucHJvdG90eXBlLmFkZENvbnRyb2xHcm91cCA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgYXN5bmNfMS5Qcm9taXNlV3JhcHBlci5zY2hlZHVsZU1pY3JvdGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gX3RoaXMuX2ZpbmRDb250YWluZXIoZGlyLnBhdGgpO1xuICAgICAgICAgICAgdmFyIGdyb3VwID0gbmV3IG1vZGVsXzEuQ29udHJvbEdyb3VwKHt9KTtcbiAgICAgICAgICAgIHNoYXJlZF8xLnNldFVwQ29udHJvbEdyb3VwKGdyb3VwLCBkaXIpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFkZENvbnRyb2woZGlyLm5hbWUsIGdyb3VwKTtcbiAgICAgICAgICAgIGdyb3VwLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoeyBlbWl0RXZlbnQ6IGZhbHNlIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE5nRm9ybS5wcm90b3R5cGUucmVtb3ZlQ29udHJvbEdyb3VwID0gZnVuY3Rpb24gKGRpcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBhc3luY18xLlByb21pc2VXcmFwcGVyLnNjaGVkdWxlTWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBfdGhpcy5fZmluZENvbnRhaW5lcihkaXIucGF0aCk7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChjb250YWluZXIpKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNvbnRyb2woZGlyLm5hbWUpO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHsgZW1pdEV2ZW50OiBmYWxzZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBOZ0Zvcm0ucHJvdG90eXBlLmdldENvbnRyb2xHcm91cCA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybS5maW5kKGRpci5wYXRoKTtcbiAgICB9O1xuICAgIE5nRm9ybS5wcm90b3R5cGUudXBkYXRlTW9kZWwgPSBmdW5jdGlvbiAoZGlyLCB2YWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBhc3luY18xLlByb21pc2VXcmFwcGVyLnNjaGVkdWxlTWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjdHJsID0gX3RoaXMuZm9ybS5maW5kKGRpci5wYXRoKTtcbiAgICAgICAgICAgIGN0cmwudXBkYXRlVmFsdWUodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE5nRm9ybS5wcm90b3R5cGUub25TdWJtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFzeW5jXzEuT2JzZXJ2YWJsZVdyYXBwZXIuY2FsbEVtaXQodGhpcy5uZ1N1Ym1pdCwgbnVsbCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBOZ0Zvcm0ucHJvdG90eXBlLl9maW5kQ29udGFpbmVyID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgcGF0aC5wb3AoKTtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5pc0VtcHR5KHBhdGgpID8gdGhpcy5mb3JtIDogdGhpcy5mb3JtLmZpbmQocGF0aCk7XG4gICAgfTtcbiAgICBOZ0Zvcm0uZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuRGlyZWN0aXZlLCBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ2Zvcm06bm90KFtuZ05vRm9ybV0pOm5vdChbbmdGb3JtTW9kZWxdKSxuZ0Zvcm0sW25nRm9ybV0nLFxuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nczogW2V4cG9ydHMuZm9ybURpcmVjdGl2ZVByb3ZpZGVyXSxcbiAgICAgICAgICAgICAgICAgICAgaG9zdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJyhzdWJtaXQpJzogJ29uU3VibWl0KCknLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRzOiBbJ25nU3VibWl0J10sXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydEFzOiAnbmdGb3JtJ1xuICAgICAgICAgICAgICAgIH0sXSB9LFxuICAgIF07XG4gICAgTmdGb3JtLmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3sgdHlwZTogY29yZV8xLk9wdGlvbmFsIH0sIHsgdHlwZTogY29yZV8xLlNlbGYgfSwgeyB0eXBlOiBjb3JlXzEuSW5qZWN0LCBhcmdzOiBbdmFsaWRhdG9yc18xLk5HX1ZBTElEQVRPUlMsXSB9LF0gfSxcbiAgICAgICAgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7IHR5cGU6IGNvcmVfMS5PcHRpb25hbCB9LCB7IHR5cGU6IGNvcmVfMS5TZWxmIH0sIHsgdHlwZTogY29yZV8xLkluamVjdCwgYXJnczogW3ZhbGlkYXRvcnNfMS5OR19BU1lOQ19WQUxJREFUT1JTLF0gfSxdIH0sXG4gICAgXTtcbiAgICByZXR1cm4gTmdGb3JtO1xufShjb250cm9sX2NvbnRhaW5lcl8xLkNvbnRyb2xDb250YWluZXIpKTtcbmV4cG9ydHMuTmdGb3JtID0gTmdGb3JtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmdfZm9ybS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBhc3luY18xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9hc3luYycpO1xudmFyIG5nX2NvbnRyb2xfMSA9IHJlcXVpcmUoJy4vbmdfY29udHJvbCcpO1xudmFyIHZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoJy4uL3ZhbGlkYXRvcnMnKTtcbnZhciBjb250cm9sX3ZhbHVlX2FjY2Vzc29yXzEgPSByZXF1aXJlKCcuL2NvbnRyb2xfdmFsdWVfYWNjZXNzb3InKTtcbnZhciBzaGFyZWRfMSA9IHJlcXVpcmUoJy4vc2hhcmVkJyk7XG5leHBvcnRzLmZvcm1Db250cm9sQmluZGluZyA9IFxuLypAdHMyZGFydF9jb25zdCovIC8qIEB0czJkYXJ0X1Byb3ZpZGVyICovIHtcbiAgICBwcm92aWRlOiBuZ19jb250cm9sXzEuTmdDb250cm9sLFxuICAgIHVzZUV4aXN0aW5nOiBjb3JlXzEuZm9yd2FyZFJlZihmdW5jdGlvbiAoKSB7IHJldHVybiBOZ0Zvcm1Db250cm9sOyB9KVxufTtcbnZhciBOZ0Zvcm1Db250cm9sID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTmdGb3JtQ29udHJvbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBOZ0Zvcm1Db250cm9sKF92YWxpZGF0b3JzLCBfYXN5bmNWYWxpZGF0b3JzLCB2YWx1ZUFjY2Vzc29ycykge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fdmFsaWRhdG9ycyA9IF92YWxpZGF0b3JzO1xuICAgICAgICB0aGlzLl9hc3luY1ZhbGlkYXRvcnMgPSBfYXN5bmNWYWxpZGF0b3JzO1xuICAgICAgICB0aGlzLnVwZGF0ZSA9IG5ldyBhc3luY18xLkV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLnZhbHVlQWNjZXNzb3IgPSBzaGFyZWRfMS5zZWxlY3RWYWx1ZUFjY2Vzc29yKHRoaXMsIHZhbHVlQWNjZXNzb3JzKTtcbiAgICB9XG4gICAgTmdGb3JtQ29udHJvbC5wcm90b3R5cGUubmdPbkNoYW5nZXMgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICBpZiAodGhpcy5faXNDb250cm9sQ2hhbmdlZChjaGFuZ2VzKSkge1xuICAgICAgICAgICAgc2hhcmVkXzEuc2V0VXBDb250cm9sKHRoaXMuZm9ybSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmZvcm0udXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7IGVtaXRFdmVudDogZmFsc2UgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNoYXJlZF8xLmlzUHJvcGVydHlVcGRhdGVkKGNoYW5nZXMsIHRoaXMudmlld01vZGVsKSkge1xuICAgICAgICAgICAgdGhpcy5mb3JtLnVwZGF0ZVZhbHVlKHRoaXMubW9kZWwpO1xuICAgICAgICAgICAgdGhpcy52aWV3TW9kZWwgPSB0aGlzLm1vZGVsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdGb3JtQ29udHJvbC5wcm90b3R5cGUsIFwicGF0aFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gW107IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOZ0Zvcm1Db250cm9sLnByb3RvdHlwZSwgXCJ2YWxpZGF0b3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNoYXJlZF8xLmNvbXBvc2VWYWxpZGF0b3JzKHRoaXMuX3ZhbGlkYXRvcnMpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdGb3JtQ29udHJvbC5wcm90b3R5cGUsIFwiYXN5bmNWYWxpZGF0b3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNoYXJlZF8xLmNvbXBvc2VBc3luY1ZhbGlkYXRvcnModGhpcy5fYXN5bmNWYWxpZGF0b3JzKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nRm9ybUNvbnRyb2wucHJvdG90eXBlLCBcImNvbnRyb2xcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZm9ybTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTmdGb3JtQ29udHJvbC5wcm90b3R5cGUudmlld1RvTW9kZWxVcGRhdGUgPSBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgdGhpcy52aWV3TW9kZWwgPSBuZXdWYWx1ZTtcbiAgICAgICAgYXN5bmNfMS5PYnNlcnZhYmxlV3JhcHBlci5jYWxsRW1pdCh0aGlzLnVwZGF0ZSwgbmV3VmFsdWUpO1xuICAgIH07XG4gICAgTmdGb3JtQ29udHJvbC5wcm90b3R5cGUuX2lzQ29udHJvbENoYW5nZWQgPSBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIuY29udGFpbnMoY2hhbmdlcywgXCJmb3JtXCIpO1xuICAgIH07XG4gICAgTmdGb3JtQ29udHJvbC5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5EaXJlY3RpdmUsIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnW25nRm9ybUNvbnRyb2xdJyxcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZ3M6IFtleHBvcnRzLmZvcm1Db250cm9sQmluZGluZ10sXG4gICAgICAgICAgICAgICAgICAgIGlucHV0czogWydmb3JtOiBuZ0Zvcm1Db250cm9sJywgJ21vZGVsOiBuZ01vZGVsJ10sXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dHM6IFsndXBkYXRlOiBuZ01vZGVsQ2hhbmdlJ10sXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydEFzOiAnbmdGb3JtJ1xuICAgICAgICAgICAgICAgIH0sXSB9LFxuICAgIF07XG4gICAgTmdGb3JtQ29udHJvbC5jdG9yUGFyYW1ldGVycyA9IFtcbiAgICAgICAgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7IHR5cGU6IGNvcmVfMS5PcHRpb25hbCB9LCB7IHR5cGU6IGNvcmVfMS5TZWxmIH0sIHsgdHlwZTogY29yZV8xLkluamVjdCwgYXJnczogW3ZhbGlkYXRvcnNfMS5OR19WQUxJREFUT1JTLF0gfSxdIH0sXG4gICAgICAgIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbeyB0eXBlOiBjb3JlXzEuT3B0aW9uYWwgfSwgeyB0eXBlOiBjb3JlXzEuU2VsZiB9LCB7IHR5cGU6IGNvcmVfMS5JbmplY3QsIGFyZ3M6IFt2YWxpZGF0b3JzXzEuTkdfQVNZTkNfVkFMSURBVE9SUyxdIH0sXSB9LFxuICAgICAgICB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3sgdHlwZTogY29yZV8xLk9wdGlvbmFsIH0sIHsgdHlwZTogY29yZV8xLlNlbGYgfSwgeyB0eXBlOiBjb3JlXzEuSW5qZWN0LCBhcmdzOiBbY29udHJvbF92YWx1ZV9hY2Nlc3Nvcl8xLk5HX1ZBTFVFX0FDQ0VTU09SLF0gfSxdIH0sXG4gICAgXTtcbiAgICByZXR1cm4gTmdGb3JtQ29udHJvbDtcbn0obmdfY29udHJvbF8xLk5nQ29udHJvbCkpO1xuZXhwb3J0cy5OZ0Zvcm1Db250cm9sID0gTmdGb3JtQ29udHJvbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5nX2Zvcm1fY29udHJvbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBhc3luY18xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9hc3luYycpO1xudmFyIGNvbnRyb2xfY29udGFpbmVyXzEgPSByZXF1aXJlKCcuL2NvbnRyb2xfY29udGFpbmVyJyk7XG52YXIgc2hhcmVkXzEgPSByZXF1aXJlKCcuL3NoYXJlZCcpO1xudmFyIHZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoJy4uL3ZhbGlkYXRvcnMnKTtcbmV4cG9ydHMuZm9ybURpcmVjdGl2ZVByb3ZpZGVyID0gXG4vKkB0czJkYXJ0X2NvbnN0Ki8gLyogQHRzMmRhcnRfUHJvdmlkZXIgKi8ge1xuICAgIHByb3ZpZGU6IGNvbnRyb2xfY29udGFpbmVyXzEuQ29udHJvbENvbnRhaW5lcixcbiAgICB1c2VFeGlzdGluZzogY29yZV8xLmZvcndhcmRSZWYoZnVuY3Rpb24gKCkgeyByZXR1cm4gTmdGb3JtTW9kZWw7IH0pXG59O1xudmFyIE5nRm9ybU1vZGVsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTmdGb3JtTW9kZWwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTmdGb3JtTW9kZWwoX3ZhbGlkYXRvcnMsIF9hc3luY1ZhbGlkYXRvcnMpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRvcnMgPSBfdmFsaWRhdG9ycztcbiAgICAgICAgdGhpcy5fYXN5bmNWYWxpZGF0b3JzID0gX2FzeW5jVmFsaWRhdG9ycztcbiAgICAgICAgdGhpcy5mb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy5kaXJlY3RpdmVzID0gW107XG4gICAgICAgIHRoaXMubmdTdWJtaXQgPSBuZXcgYXN5bmNfMS5FdmVudEVtaXR0ZXIoKTtcbiAgICB9XG4gICAgTmdGb3JtTW9kZWwucHJvdG90eXBlLm5nT25DaGFuZ2VzID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tGb3JtUHJlc2VudCgpO1xuICAgICAgICBpZiAoY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIuY29udGFpbnMoY2hhbmdlcywgXCJmb3JtXCIpKSB7XG4gICAgICAgICAgICB2YXIgc3luYyA9IHNoYXJlZF8xLmNvbXBvc2VWYWxpZGF0b3JzKHRoaXMuX3ZhbGlkYXRvcnMpO1xuICAgICAgICAgICAgdGhpcy5mb3JtLnZhbGlkYXRvciA9IHZhbGlkYXRvcnNfMS5WYWxpZGF0b3JzLmNvbXBvc2UoW3RoaXMuZm9ybS52YWxpZGF0b3IsIHN5bmNdKTtcbiAgICAgICAgICAgIHZhciBhc3luYyA9IHNoYXJlZF8xLmNvbXBvc2VBc3luY1ZhbGlkYXRvcnModGhpcy5fYXN5bmNWYWxpZGF0b3JzKTtcbiAgICAgICAgICAgIHRoaXMuZm9ybS5hc3luY1ZhbGlkYXRvciA9IHZhbGlkYXRvcnNfMS5WYWxpZGF0b3JzLmNvbXBvc2VBc3luYyhbdGhpcy5mb3JtLmFzeW5jVmFsaWRhdG9yLCBhc3luY10pO1xuICAgICAgICAgICAgdGhpcy5mb3JtLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoeyBvbmx5U2VsZjogdHJ1ZSwgZW1pdEV2ZW50OiBmYWxzZSB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVEb21WYWx1ZSgpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nRm9ybU1vZGVsLnByb3RvdHlwZSwgXCJmb3JtRGlyZWN0aXZlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdGb3JtTW9kZWwucHJvdG90eXBlLCBcImNvbnRyb2xcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZm9ybTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nRm9ybU1vZGVsLnByb3RvdHlwZSwgXCJwYXRoXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBbXTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTmdGb3JtTW9kZWwucHJvdG90eXBlLmFkZENvbnRyb2wgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgICAgIHZhciBjdHJsID0gdGhpcy5mb3JtLmZpbmQoZGlyLnBhdGgpO1xuICAgICAgICBzaGFyZWRfMS5zZXRVcENvbnRyb2woY3RybCwgZGlyKTtcbiAgICAgICAgY3RybC51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHsgZW1pdEV2ZW50OiBmYWxzZSB9KTtcbiAgICAgICAgdGhpcy5kaXJlY3RpdmVzLnB1c2goZGlyKTtcbiAgICB9O1xuICAgIE5nRm9ybU1vZGVsLnByb3RvdHlwZS5nZXRDb250cm9sID0gZnVuY3Rpb24gKGRpcikgeyByZXR1cm4gdGhpcy5mb3JtLmZpbmQoZGlyLnBhdGgpOyB9O1xuICAgIE5nRm9ybU1vZGVsLnByb3RvdHlwZS5yZW1vdmVDb250cm9sID0gZnVuY3Rpb24gKGRpcikgeyBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIucmVtb3ZlKHRoaXMuZGlyZWN0aXZlcywgZGlyKTsgfTtcbiAgICBOZ0Zvcm1Nb2RlbC5wcm90b3R5cGUuYWRkQ29udHJvbEdyb3VwID0gZnVuY3Rpb24gKGRpcikge1xuICAgICAgICB2YXIgY3RybCA9IHRoaXMuZm9ybS5maW5kKGRpci5wYXRoKTtcbiAgICAgICAgc2hhcmVkXzEuc2V0VXBDb250cm9sR3JvdXAoY3RybCwgZGlyKTtcbiAgICAgICAgY3RybC51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHsgZW1pdEV2ZW50OiBmYWxzZSB9KTtcbiAgICB9O1xuICAgIE5nRm9ybU1vZGVsLnByb3RvdHlwZS5yZW1vdmVDb250cm9sR3JvdXAgPSBmdW5jdGlvbiAoZGlyKSB7IH07XG4gICAgTmdGb3JtTW9kZWwucHJvdG90eXBlLmdldENvbnRyb2xHcm91cCA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybS5maW5kKGRpci5wYXRoKTtcbiAgICB9O1xuICAgIE5nRm9ybU1vZGVsLnByb3RvdHlwZS51cGRhdGVNb2RlbCA9IGZ1bmN0aW9uIChkaXIsIHZhbHVlKSB7XG4gICAgICAgIHZhciBjdHJsID0gdGhpcy5mb3JtLmZpbmQoZGlyLnBhdGgpO1xuICAgICAgICBjdHJsLnVwZGF0ZVZhbHVlKHZhbHVlKTtcbiAgICB9O1xuICAgIE5nRm9ybU1vZGVsLnByb3RvdHlwZS5vblN1Ym1pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYXN5bmNfMS5PYnNlcnZhYmxlV3JhcHBlci5jYWxsRW1pdCh0aGlzLm5nU3VibWl0LCBudWxsKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIE5nRm9ybU1vZGVsLnByb3RvdHlwZS5fdXBkYXRlRG9tVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuZGlyZWN0aXZlcy5mb3JFYWNoKGZ1bmN0aW9uIChkaXIpIHtcbiAgICAgICAgICAgIHZhciBjdHJsID0gX3RoaXMuZm9ybS5maW5kKGRpci5wYXRoKTtcbiAgICAgICAgICAgIGRpci52YWx1ZUFjY2Vzc29yLndyaXRlVmFsdWUoY3RybC52YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTmdGb3JtTW9kZWwucHJvdG90eXBlLl9jaGVja0Zvcm1QcmVzZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsodGhpcy5mb3JtKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwibmdGb3JtTW9kZWwgZXhwZWN0cyBhIGZvcm0uIFBsZWFzZSBwYXNzIG9uZSBpbi4gRXhhbXBsZTogPGZvcm0gW25nRm9ybU1vZGVsXT1cXFwibXlDb29sRm9ybVxcXCI+XCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBOZ0Zvcm1Nb2RlbC5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5EaXJlY3RpdmUsIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnW25nRm9ybU1vZGVsXScsXG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmdzOiBbZXhwb3J0cy5mb3JtRGlyZWN0aXZlUHJvdmlkZXJdLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dHM6IFsnZm9ybTogbmdGb3JtTW9kZWwnXSxcbiAgICAgICAgICAgICAgICAgICAgaG9zdDogeyAnKHN1Ym1pdCknOiAnb25TdWJtaXQoKScgfSxcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0czogWyduZ1N1Ym1pdCddLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRBczogJ25nRm9ybSdcbiAgICAgICAgICAgICAgICB9LF0gfSxcbiAgICBdO1xuICAgIE5nRm9ybU1vZGVsLmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3sgdHlwZTogY29yZV8xLk9wdGlvbmFsIH0sIHsgdHlwZTogY29yZV8xLlNlbGYgfSwgeyB0eXBlOiBjb3JlXzEuSW5qZWN0LCBhcmdzOiBbdmFsaWRhdG9yc18xLk5HX1ZBTElEQVRPUlMsXSB9LF0gfSxcbiAgICAgICAgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7IHR5cGU6IGNvcmVfMS5PcHRpb25hbCB9LCB7IHR5cGU6IGNvcmVfMS5TZWxmIH0sIHsgdHlwZTogY29yZV8xLkluamVjdCwgYXJnczogW3ZhbGlkYXRvcnNfMS5OR19BU1lOQ19WQUxJREFUT1JTLF0gfSxdIH0sXG4gICAgXTtcbiAgICByZXR1cm4gTmdGb3JtTW9kZWw7XG59KGNvbnRyb2xfY29udGFpbmVyXzEuQ29udHJvbENvbnRhaW5lcikpO1xuZXhwb3J0cy5OZ0Zvcm1Nb2RlbCA9IE5nRm9ybU1vZGVsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmdfZm9ybV9tb2RlbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBhc3luY18xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9hc3luYycpO1xudmFyIGNvbnRyb2xfdmFsdWVfYWNjZXNzb3JfMSA9IHJlcXVpcmUoJy4vY29udHJvbF92YWx1ZV9hY2Nlc3NvcicpO1xudmFyIG5nX2NvbnRyb2xfMSA9IHJlcXVpcmUoJy4vbmdfY29udHJvbCcpO1xudmFyIG1vZGVsXzEgPSByZXF1aXJlKCcuLi9tb2RlbCcpO1xudmFyIHZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoJy4uL3ZhbGlkYXRvcnMnKTtcbnZhciBzaGFyZWRfMSA9IHJlcXVpcmUoJy4vc2hhcmVkJyk7XG5leHBvcnRzLmZvcm1Db250cm9sQmluZGluZyA9IFxuLypAdHMyZGFydF9jb25zdCovIC8qIEB0czJkYXJ0X1Byb3ZpZGVyICovIHtcbiAgICBwcm92aWRlOiBuZ19jb250cm9sXzEuTmdDb250cm9sLFxuICAgIHVzZUV4aXN0aW5nOiBjb3JlXzEuZm9yd2FyZFJlZihmdW5jdGlvbiAoKSB7IHJldHVybiBOZ01vZGVsOyB9KVxufTtcbnZhciBOZ01vZGVsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTmdNb2RlbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBOZ01vZGVsKF92YWxpZGF0b3JzLCBfYXN5bmNWYWxpZGF0b3JzLCB2YWx1ZUFjY2Vzc29ycykge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fdmFsaWRhdG9ycyA9IF92YWxpZGF0b3JzO1xuICAgICAgICB0aGlzLl9hc3luY1ZhbGlkYXRvcnMgPSBfYXN5bmNWYWxpZGF0b3JzO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX2NvbnRyb2wgPSBuZXcgbW9kZWxfMS5Db250cm9sKCk7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fYWRkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy51cGRhdGUgPSBuZXcgYXN5bmNfMS5FdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy52YWx1ZUFjY2Vzc29yID0gc2hhcmVkXzEuc2VsZWN0VmFsdWVBY2Nlc3Nvcih0aGlzLCB2YWx1ZUFjY2Vzc29ycyk7XG4gICAgfVxuICAgIE5nTW9kZWwucHJvdG90eXBlLm5nT25DaGFuZ2VzID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hZGRlZCkge1xuICAgICAgICAgICAgc2hhcmVkXzEuc2V0VXBDb250cm9sKHRoaXMuX2NvbnRyb2wsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fY29udHJvbC51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHsgZW1pdEV2ZW50OiBmYWxzZSB9KTtcbiAgICAgICAgICAgIHRoaXMuX2FkZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hhcmVkXzEuaXNQcm9wZXJ0eVVwZGF0ZWQoY2hhbmdlcywgdGhpcy52aWV3TW9kZWwpKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250cm9sLnVwZGF0ZVZhbHVlKHRoaXMubW9kZWwpO1xuICAgICAgICAgICAgdGhpcy52aWV3TW9kZWwgPSB0aGlzLm1vZGVsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdNb2RlbC5wcm90b3R5cGUsIFwiY29udHJvbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fY29udHJvbDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nTW9kZWwucHJvdG90eXBlLCBcInBhdGhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtdOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdNb2RlbC5wcm90b3R5cGUsIFwidmFsaWRhdG9yXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzaGFyZWRfMS5jb21wb3NlVmFsaWRhdG9ycyh0aGlzLl92YWxpZGF0b3JzKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nTW9kZWwucHJvdG90eXBlLCBcImFzeW5jVmFsaWRhdG9yXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzaGFyZWRfMS5jb21wb3NlQXN5bmNWYWxpZGF0b3JzKHRoaXMuX2FzeW5jVmFsaWRhdG9ycyk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE5nTW9kZWwucHJvdG90eXBlLnZpZXdUb01vZGVsVXBkYXRlID0gZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgIHRoaXMudmlld01vZGVsID0gbmV3VmFsdWU7XG4gICAgICAgIGFzeW5jXzEuT2JzZXJ2YWJsZVdyYXBwZXIuY2FsbEVtaXQodGhpcy51cGRhdGUsIG5ld1ZhbHVlKTtcbiAgICB9O1xuICAgIE5nTW9kZWwuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuRGlyZWN0aXZlLCBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1tuZ01vZGVsXTpub3QoW25nQ29udHJvbF0pOm5vdChbbmdGb3JtQ29udHJvbF0pJyxcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZ3M6IFtleHBvcnRzLmZvcm1Db250cm9sQmluZGluZ10sXG4gICAgICAgICAgICAgICAgICAgIGlucHV0czogWydtb2RlbDogbmdNb2RlbCddLFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRzOiBbJ3VwZGF0ZTogbmdNb2RlbENoYW5nZSddLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRBczogJ25nRm9ybSdcbiAgICAgICAgICAgICAgICB9LF0gfSxcbiAgICBdO1xuICAgIE5nTW9kZWwuY3RvclBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbeyB0eXBlOiBjb3JlXzEuT3B0aW9uYWwgfSwgeyB0eXBlOiBjb3JlXzEuU2VsZiB9LCB7IHR5cGU6IGNvcmVfMS5JbmplY3QsIGFyZ3M6IFt2YWxpZGF0b3JzXzEuTkdfVkFMSURBVE9SUyxdIH0sXSB9LFxuICAgICAgICB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3sgdHlwZTogY29yZV8xLk9wdGlvbmFsIH0sIHsgdHlwZTogY29yZV8xLlNlbGYgfSwgeyB0eXBlOiBjb3JlXzEuSW5qZWN0LCBhcmdzOiBbdmFsaWRhdG9yc18xLk5HX0FTWU5DX1ZBTElEQVRPUlMsXSB9LF0gfSxcbiAgICAgICAgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7IHR5cGU6IGNvcmVfMS5PcHRpb25hbCB9LCB7IHR5cGU6IGNvcmVfMS5TZWxmIH0sIHsgdHlwZTogY29yZV8xLkluamVjdCwgYXJnczogW2NvbnRyb2xfdmFsdWVfYWNjZXNzb3JfMS5OR19WQUxVRV9BQ0NFU1NPUixdIH0sXSB9LFxuICAgIF07XG4gICAgcmV0dXJuIE5nTW9kZWw7XG59KG5nX2NvbnRyb2xfMS5OZ0NvbnRyb2wpKTtcbmV4cG9ydHMuTmdNb2RlbCA9IE5nTW9kZWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uZ19tb2RlbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbGlkYXRvcih2YWxpZGF0b3IpIHtcbiAgICBpZiAodmFsaWRhdG9yLnZhbGlkYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjKSB7IHJldHVybiB2YWxpZGF0b3IudmFsaWRhdGUoYyk7IH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsaWRhdG9yO1xuICAgIH1cbn1cbmV4cG9ydHMubm9ybWFsaXplVmFsaWRhdG9yID0gbm9ybWFsaXplVmFsaWRhdG9yO1xuZnVuY3Rpb24gbm9ybWFsaXplQXN5bmNWYWxpZGF0b3IodmFsaWRhdG9yKSB7XG4gICAgaWYgKHZhbGlkYXRvci52YWxpZGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYykgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbGlkYXRvci52YWxpZGF0ZShjKSk7IH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsaWRhdG9yO1xuICAgIH1cbn1cbmV4cG9ydHMubm9ybWFsaXplQXN5bmNWYWxpZGF0b3IgPSBub3JtYWxpemVBc3luY1ZhbGlkYXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vcm1hbGl6ZV92YWxpZGF0b3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGNvbnRyb2xfdmFsdWVfYWNjZXNzb3JfMSA9IHJlcXVpcmUoJy4vY29udHJvbF92YWx1ZV9hY2Nlc3NvcicpO1xuZXhwb3J0cy5OVU1CRVJfVkFMVUVfQUNDRVNTT1IgPSB7XG4gICAgcHJvdmlkZTogY29udHJvbF92YWx1ZV9hY2Nlc3Nvcl8xLk5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgIHVzZUV4aXN0aW5nOiBjb3JlXzEuZm9yd2FyZFJlZihmdW5jdGlvbiAoKSB7IHJldHVybiBOdW1iZXJWYWx1ZUFjY2Vzc29yOyB9KSxcbiAgICBtdWx0aTogdHJ1ZVxufTtcbnZhciBOdW1iZXJWYWx1ZUFjY2Vzc29yID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOdW1iZXJWYWx1ZUFjY2Vzc29yKF9yZW5kZXJlciwgX2VsZW1lbnRSZWYpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSBfcmVuZGVyZXI7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRSZWYgPSBfZWxlbWVudFJlZjtcbiAgICAgICAgdGhpcy5vbkNoYW5nZSA9IGZ1bmN0aW9uIChfKSB7IH07XG4gICAgICAgIHRoaXMub25Ub3VjaGVkID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIH1cbiAgICBOdW1iZXJWYWx1ZUFjY2Vzc29yLnByb3RvdHlwZS53cml0ZVZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVyLnNldEVsZW1lbnRQcm9wZXJ0eSh0aGlzLl9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsICd2YWx1ZScsIHZhbHVlKTtcbiAgICB9O1xuICAgIE51bWJlclZhbHVlQWNjZXNzb3IucHJvdG90eXBlLnJlZ2lzdGVyT25DaGFuZ2UgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdGhpcy5vbkNoYW5nZSA9IGZ1bmN0aW9uICh2YWx1ZSkgeyBmbih2YWx1ZSA9PSAnJyA/IG51bGwgOiBsYW5nXzEuTnVtYmVyV3JhcHBlci5wYXJzZUZsb2F0KHZhbHVlKSk7IH07XG4gICAgfTtcbiAgICBOdW1iZXJWYWx1ZUFjY2Vzc29yLnByb3RvdHlwZS5yZWdpc3Rlck9uVG91Y2hlZCA9IGZ1bmN0aW9uIChmbikgeyB0aGlzLm9uVG91Y2hlZCA9IGZuOyB9O1xuICAgIE51bWJlclZhbHVlQWNjZXNzb3IuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuRGlyZWN0aXZlLCBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ2lucHV0W3R5cGU9bnVtYmVyXVtuZ0NvbnRyb2xdLGlucHV0W3R5cGU9bnVtYmVyXVtuZ0Zvcm1Db250cm9sXSxpbnB1dFt0eXBlPW51bWJlcl1bbmdNb2RlbF0nLFxuICAgICAgICAgICAgICAgICAgICBob3N0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnKGNoYW5nZSknOiAnb25DaGFuZ2UoJGV2ZW50LnRhcmdldC52YWx1ZSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJyhpbnB1dCknOiAnb25DaGFuZ2UoJGV2ZW50LnRhcmdldC52YWx1ZSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJyhibHVyKSc6ICdvblRvdWNoZWQoKSdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZ3M6IFtleHBvcnRzLk5VTUJFUl9WQUxVRV9BQ0NFU1NPUl1cbiAgICAgICAgICAgICAgICB9LF0gfSxcbiAgICBdO1xuICAgIE51bWJlclZhbHVlQWNjZXNzb3IuY3RvclBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLlJlbmRlcmVyLCB9LFxuICAgICAgICB7IHR5cGU6IGNvcmVfMS5FbGVtZW50UmVmLCB9LFxuICAgIF07XG4gICAgcmV0dXJuIE51bWJlclZhbHVlQWNjZXNzb3I7XG59KCkpO1xuZXhwb3J0cy5OdW1iZXJWYWx1ZUFjY2Vzc29yID0gTnVtYmVyVmFsdWVBY2Nlc3Nvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW51bWJlcl92YWx1ZV9hY2Nlc3Nvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9jb2xsZWN0aW9uJyk7XG52YXIgY29udHJvbF92YWx1ZV9hY2Nlc3Nvcl8xID0gcmVxdWlyZSgnLi9jb250cm9sX3ZhbHVlX2FjY2Vzc29yJyk7XG52YXIgbmdfY29udHJvbF8xID0gcmVxdWlyZSgnLi9uZ19jb250cm9sJyk7XG5leHBvcnRzLlJBRElPX1ZBTFVFX0FDQ0VTU09SID0ge1xuICAgIHByb3ZpZGU6IGNvbnRyb2xfdmFsdWVfYWNjZXNzb3JfMS5OR19WQUxVRV9BQ0NFU1NPUixcbiAgICB1c2VFeGlzdGluZzogY29yZV8xLmZvcndhcmRSZWYoZnVuY3Rpb24gKCkgeyByZXR1cm4gUmFkaW9Db250cm9sVmFsdWVBY2Nlc3NvcjsgfSksXG4gICAgbXVsdGk6IHRydWVcbn07XG52YXIgUmFkaW9Db250cm9sUmVnaXN0cnkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJhZGlvQ29udHJvbFJlZ2lzdHJ5KCkge1xuICAgICAgICB0aGlzLl9hY2Nlc3NvcnMgPSBbXTtcbiAgICB9XG4gICAgUmFkaW9Db250cm9sUmVnaXN0cnkucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChjb250cm9sLCBhY2Nlc3Nvcikge1xuICAgICAgICB0aGlzLl9hY2Nlc3NvcnMucHVzaChbY29udHJvbCwgYWNjZXNzb3JdKTtcbiAgICB9O1xuICAgIFJhZGlvQ29udHJvbFJlZ2lzdHJ5LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoYWNjZXNzb3IpIHtcbiAgICAgICAgdmFyIGluZGV4VG9SZW1vdmUgPSAtMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9hY2Nlc3NvcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hY2Nlc3NvcnNbaV1bMV0gPT09IGFjY2Vzc29yKSB7XG4gICAgICAgICAgICAgICAgaW5kZXhUb1JlbW92ZSA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLnJlbW92ZUF0KHRoaXMuX2FjY2Vzc29ycywgaW5kZXhUb1JlbW92ZSk7XG4gICAgfTtcbiAgICBSYWRpb0NvbnRyb2xSZWdpc3RyeS5wcm90b3R5cGUuc2VsZWN0ID0gZnVuY3Rpb24gKGFjY2Vzc29yKSB7XG4gICAgICAgIHRoaXMuX2FjY2Vzc29ycy5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICBpZiAoY1swXS5jb250cm9sLnJvb3QgPT09IGFjY2Vzc29yLl9jb250cm9sLmNvbnRyb2wucm9vdCAmJiBjWzFdICE9PSBhY2Nlc3Nvcikge1xuICAgICAgICAgICAgICAgIGNbMV0uZmlyZVVuY2hlY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSYWRpb0NvbnRyb2xSZWdpc3RyeS5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICByZXR1cm4gUmFkaW9Db250cm9sUmVnaXN0cnk7XG59KCkpO1xuZXhwb3J0cy5SYWRpb0NvbnRyb2xSZWdpc3RyeSA9IFJhZGlvQ29udHJvbFJlZ2lzdHJ5O1xuLyoqXG4gKiBUaGUgdmFsdWUgcHJvdmlkZWQgYnkgdGhlIGZvcm1zIEFQSSBmb3IgcmFkaW8gYnV0dG9ucy5cbiAqL1xudmFyIFJhZGlvQnV0dG9uU3RhdGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJhZGlvQnV0dG9uU3RhdGUoY2hlY2tlZCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5jaGVja2VkID0gY2hlY2tlZDtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gUmFkaW9CdXR0b25TdGF0ZTtcbn0oKSk7XG5leHBvcnRzLlJhZGlvQnV0dG9uU3RhdGUgPSBSYWRpb0J1dHRvblN0YXRlO1xudmFyIFJhZGlvQ29udHJvbFZhbHVlQWNjZXNzb3IgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJhZGlvQ29udHJvbFZhbHVlQWNjZXNzb3IoX3JlbmRlcmVyLCBfZWxlbWVudFJlZiwgX3JlZ2lzdHJ5LCBfaW5qZWN0b3IpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSBfcmVuZGVyZXI7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRSZWYgPSBfZWxlbWVudFJlZjtcbiAgICAgICAgdGhpcy5fcmVnaXN0cnkgPSBfcmVnaXN0cnk7XG4gICAgICAgIHRoaXMuX2luamVjdG9yID0gX2luamVjdG9yO1xuICAgICAgICB0aGlzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICB0aGlzLm9uVG91Y2hlZCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICB9XG4gICAgUmFkaW9Db250cm9sVmFsdWVBY2Nlc3Nvci5wcm90b3R5cGUubmdPbkluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2NvbnRyb2wgPSB0aGlzLl9pbmplY3Rvci5nZXQobmdfY29udHJvbF8xLk5nQ29udHJvbCk7XG4gICAgICAgIHRoaXMuX3JlZ2lzdHJ5LmFkZCh0aGlzLl9jb250cm9sLCB0aGlzKTtcbiAgICB9O1xuICAgIFJhZGlvQ29udHJvbFZhbHVlQWNjZXNzb3IucHJvdG90eXBlLm5nT25EZXN0cm95ID0gZnVuY3Rpb24gKCkgeyB0aGlzLl9yZWdpc3RyeS5yZW1vdmUodGhpcyk7IH07XG4gICAgUmFkaW9Db250cm9sVmFsdWVBY2Nlc3Nvci5wcm90b3R5cGUud3JpdGVWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IHZhbHVlO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh2YWx1ZSkgJiYgdmFsdWUuY2hlY2tlZCkge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIuc2V0RWxlbWVudFByb3BlcnR5KHRoaXMuX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudCwgJ2NoZWNrZWQnLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmFkaW9Db250cm9sVmFsdWVBY2Nlc3Nvci5wcm90b3R5cGUucmVnaXN0ZXJPbkNoYW5nZSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9mbiA9IGZuO1xuICAgICAgICB0aGlzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZm4obmV3IFJhZGlvQnV0dG9uU3RhdGUodHJ1ZSwgX3RoaXMuX3N0YXRlLnZhbHVlKSk7XG4gICAgICAgICAgICBfdGhpcy5fcmVnaXN0cnkuc2VsZWN0KF90aGlzKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFJhZGlvQ29udHJvbFZhbHVlQWNjZXNzb3IucHJvdG90eXBlLmZpcmVVbmNoZWNrID0gZnVuY3Rpb24gKCkgeyB0aGlzLl9mbihuZXcgUmFkaW9CdXR0b25TdGF0ZShmYWxzZSwgdGhpcy5fc3RhdGUudmFsdWUpKTsgfTtcbiAgICBSYWRpb0NvbnRyb2xWYWx1ZUFjY2Vzc29yLnByb3RvdHlwZS5yZWdpc3Rlck9uVG91Y2hlZCA9IGZ1bmN0aW9uIChmbikgeyB0aGlzLm9uVG91Y2hlZCA9IGZuOyB9O1xuICAgIFJhZGlvQ29udHJvbFZhbHVlQWNjZXNzb3IuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuRGlyZWN0aXZlLCBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ2lucHV0W3R5cGU9cmFkaW9dW25nQ29udHJvbF0saW5wdXRbdHlwZT1yYWRpb11bbmdGb3JtQ29udHJvbF0saW5wdXRbdHlwZT1yYWRpb11bbmdNb2RlbF0nLFxuICAgICAgICAgICAgICAgICAgICBob3N0OiB7ICcoY2hhbmdlKSc6ICdvbkNoYW5nZSgpJywgJyhibHVyKSc6ICdvblRvdWNoZWQoKScgfSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbZXhwb3J0cy5SQURJT19WQUxVRV9BQ0NFU1NPUl1cbiAgICAgICAgICAgICAgICB9LF0gfSxcbiAgICBdO1xuICAgIFJhZGlvQ29udHJvbFZhbHVlQWNjZXNzb3IuY3RvclBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLlJlbmRlcmVyLCB9LFxuICAgICAgICB7IHR5cGU6IGNvcmVfMS5FbGVtZW50UmVmLCB9LFxuICAgICAgICB7IHR5cGU6IFJhZGlvQ29udHJvbFJlZ2lzdHJ5LCB9LFxuICAgICAgICB7IHR5cGU6IGNvcmVfMS5JbmplY3RvciwgfSxcbiAgICBdO1xuICAgIFJhZGlvQ29udHJvbFZhbHVlQWNjZXNzb3IucHJvcERlY29yYXRvcnMgPSB7XG4gICAgICAgICduYW1lJzogW3sgdHlwZTogY29yZV8xLklucHV0IH0sXSxcbiAgICB9O1xuICAgIHJldHVybiBSYWRpb0NvbnRyb2xWYWx1ZUFjY2Vzc29yO1xufSgpKTtcbmV4cG9ydHMuUmFkaW9Db250cm9sVmFsdWVBY2Nlc3NvciA9IFJhZGlvQ29udHJvbFZhbHVlQWNjZXNzb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yYWRpb19jb250cm9sX3ZhbHVlX2FjY2Vzc29yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBjb250cm9sX3ZhbHVlX2FjY2Vzc29yXzEgPSByZXF1aXJlKCcuL2NvbnRyb2xfdmFsdWVfYWNjZXNzb3InKTtcbmV4cG9ydHMuU0VMRUNUX1ZBTFVFX0FDQ0VTU09SID0ge1xuICAgIHByb3ZpZGU6IGNvbnRyb2xfdmFsdWVfYWNjZXNzb3JfMS5OR19WQUxVRV9BQ0NFU1NPUixcbiAgICB1c2VFeGlzdGluZzogY29yZV8xLmZvcndhcmRSZWYoZnVuY3Rpb24gKCkgeyByZXR1cm4gU2VsZWN0Q29udHJvbFZhbHVlQWNjZXNzb3I7IH0pLFxuICAgIG11bHRpOiB0cnVlXG59O1xuZnVuY3Rpb24gX2J1aWxkVmFsdWVTdHJpbmcoaWQsIHZhbHVlKSB7XG4gICAgaWYgKGxhbmdfMS5pc0JsYW5rKGlkKSlcbiAgICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICBpZiAoIWxhbmdfMS5pc1ByaW1pdGl2ZSh2YWx1ZSkpXG4gICAgICAgIHZhbHVlID0gXCJPYmplY3RcIjtcbiAgICByZXR1cm4gbGFuZ18xLlN0cmluZ1dyYXBwZXIuc2xpY2UoaWQgKyBcIjogXCIgKyB2YWx1ZSwgMCwgNTApO1xufVxuZnVuY3Rpb24gX2V4dHJhY3RJZCh2YWx1ZVN0cmluZykge1xuICAgIHJldHVybiB2YWx1ZVN0cmluZy5zcGxpdChcIjpcIilbMF07XG59XG52YXIgU2VsZWN0Q29udHJvbFZhbHVlQWNjZXNzb3IgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNlbGVjdENvbnRyb2xWYWx1ZUFjY2Vzc29yKF9yZW5kZXJlciwgX2VsZW1lbnRSZWYpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSBfcmVuZGVyZXI7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRSZWYgPSBfZWxlbWVudFJlZjtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9vcHRpb25NYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5faWRDb3VudGVyID0gMDtcbiAgICAgICAgdGhpcy5vbkNoYW5nZSA9IGZ1bmN0aW9uIChfKSB7IH07XG4gICAgICAgIHRoaXMub25Ub3VjaGVkID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIH1cbiAgICBTZWxlY3RDb250cm9sVmFsdWVBY2Nlc3Nvci5wcm90b3R5cGUud3JpdGVWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHZhciB2YWx1ZVN0cmluZyA9IF9idWlsZFZhbHVlU3RyaW5nKHRoaXMuX2dldE9wdGlvbklkKHZhbHVlKSwgdmFsdWUpO1xuICAgICAgICB0aGlzLl9yZW5kZXJlci5zZXRFbGVtZW50UHJvcGVydHkodGhpcy5fZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LCAndmFsdWUnLCB2YWx1ZVN0cmluZyk7XG4gICAgfTtcbiAgICBTZWxlY3RDb250cm9sVmFsdWVBY2Nlc3Nvci5wcm90b3R5cGUucmVnaXN0ZXJPbkNoYW5nZSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKHZhbHVlU3RyaW5nKSB7IGZuKF90aGlzLl9nZXRPcHRpb25WYWx1ZSh2YWx1ZVN0cmluZykpOyB9O1xuICAgIH07XG4gICAgU2VsZWN0Q29udHJvbFZhbHVlQWNjZXNzb3IucHJvdG90eXBlLnJlZ2lzdGVyT25Ub3VjaGVkID0gZnVuY3Rpb24gKGZuKSB7IHRoaXMub25Ub3VjaGVkID0gZm47IH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIFNlbGVjdENvbnRyb2xWYWx1ZUFjY2Vzc29yLnByb3RvdHlwZS5fcmVnaXN0ZXJPcHRpb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAodGhpcy5faWRDb3VudGVyKyspLnRvU3RyaW5nKCk7IH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIFNlbGVjdENvbnRyb2xWYWx1ZUFjY2Vzc29yLnByb3RvdHlwZS5fZ2V0T3B0aW9uSWQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IGNvbGxlY3Rpb25fMS5NYXBXcmFwcGVyLmtleXModGhpcy5fb3B0aW9uTWFwKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBpZCA9IF9hW19pXTtcbiAgICAgICAgICAgIGlmIChsYW5nXzEubG9vc2VJZGVudGljYWwodGhpcy5fb3B0aW9uTWFwLmdldChpZCksIHZhbHVlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgU2VsZWN0Q29udHJvbFZhbHVlQWNjZXNzb3IucHJvdG90eXBlLl9nZXRPcHRpb25WYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZVN0cmluZykge1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl9vcHRpb25NYXAuZ2V0KF9leHRyYWN0SWQodmFsdWVTdHJpbmcpKTtcbiAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQodmFsdWUpID8gdmFsdWUgOiB2YWx1ZVN0cmluZztcbiAgICB9O1xuICAgIFNlbGVjdENvbnRyb2xWYWx1ZUFjY2Vzc29yLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkRpcmVjdGl2ZSwgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdzZWxlY3RbbmdDb250cm9sXSxzZWxlY3RbbmdGb3JtQ29udHJvbF0sc2VsZWN0W25nTW9kZWxdJyxcbiAgICAgICAgICAgICAgICAgICAgaG9zdDogeyAnKGNoYW5nZSknOiAnb25DaGFuZ2UoJGV2ZW50LnRhcmdldC52YWx1ZSknLCAnKGJsdXIpJzogJ29uVG91Y2hlZCgpJyB9LFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtleHBvcnRzLlNFTEVDVF9WQUxVRV9BQ0NFU1NPUl1cbiAgICAgICAgICAgICAgICB9LF0gfSxcbiAgICBdO1xuICAgIFNlbGVjdENvbnRyb2xWYWx1ZUFjY2Vzc29yLmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5SZW5kZXJlciwgfSxcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuRWxlbWVudFJlZiwgfSxcbiAgICBdO1xuICAgIHJldHVybiBTZWxlY3RDb250cm9sVmFsdWVBY2Nlc3Nvcjtcbn0oKSk7XG5leHBvcnRzLlNlbGVjdENvbnRyb2xWYWx1ZUFjY2Vzc29yID0gU2VsZWN0Q29udHJvbFZhbHVlQWNjZXNzb3I7XG52YXIgTmdTZWxlY3RPcHRpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5nU2VsZWN0T3B0aW9uKF9lbGVtZW50LCBfcmVuZGVyZXIsIF9zZWxlY3QpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IF9lbGVtZW50O1xuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IF9yZW5kZXJlcjtcbiAgICAgICAgdGhpcy5fc2VsZWN0ID0gX3NlbGVjdDtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGhpcy5fc2VsZWN0KSlcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLl9zZWxlY3QuX3JlZ2lzdGVyT3B0aW9uKCk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOZ1NlbGVjdE9wdGlvbi5wcm90b3R5cGUsIFwibmdWYWx1ZVwiLCB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0ID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5fc2VsZWN0Ll9vcHRpb25NYXAuc2V0KHRoaXMuaWQsIHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuX3NldEVsZW1lbnRWYWx1ZShfYnVpbGRWYWx1ZVN0cmluZyh0aGlzLmlkLCB2YWx1ZSkpO1xuICAgICAgICAgICAgdGhpcy5fc2VsZWN0LndyaXRlVmFsdWUodGhpcy5fc2VsZWN0LnZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nU2VsZWN0T3B0aW9uLnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRFbGVtZW50VmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGhpcy5fc2VsZWN0KSlcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3Qud3JpdGVWYWx1ZSh0aGlzLl9zZWxlY3QudmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgTmdTZWxlY3RPcHRpb24ucHJvdG90eXBlLl9zZXRFbGVtZW50VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIuc2V0RWxlbWVudFByb3BlcnR5KHRoaXMuX2VsZW1lbnQubmF0aXZlRWxlbWVudCwgJ3ZhbHVlJywgdmFsdWUpO1xuICAgIH07XG4gICAgTmdTZWxlY3RPcHRpb24ucHJvdG90eXBlLm5nT25EZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLl9zZWxlY3QpKSB7XG4gICAgICAgICAgICB0aGlzLl9zZWxlY3QuX29wdGlvbk1hcC5kZWxldGUodGhpcy5pZCk7XG4gICAgICAgICAgICB0aGlzLl9zZWxlY3Qud3JpdGVWYWx1ZSh0aGlzLl9zZWxlY3QudmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBOZ1NlbGVjdE9wdGlvbi5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5EaXJlY3RpdmUsIGFyZ3M6IFt7IHNlbGVjdG9yOiAnb3B0aW9uJyB9LF0gfSxcbiAgICBdO1xuICAgIE5nU2VsZWN0T3B0aW9uLmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5FbGVtZW50UmVmLCB9LFxuICAgICAgICB7IHR5cGU6IGNvcmVfMS5SZW5kZXJlciwgfSxcbiAgICAgICAgeyB0eXBlOiBTZWxlY3RDb250cm9sVmFsdWVBY2Nlc3NvciwgZGVjb3JhdG9yczogW3sgdHlwZTogY29yZV8xLk9wdGlvbmFsIH0sIHsgdHlwZTogY29yZV8xLkhvc3QgfSxdIH0sXG4gICAgXTtcbiAgICBOZ1NlbGVjdE9wdGlvbi5wcm9wRGVjb3JhdG9ycyA9IHtcbiAgICAgICAgJ25nVmFsdWUnOiBbeyB0eXBlOiBjb3JlXzEuSW5wdXQsIGFyZ3M6IFsnbmdWYWx1ZScsXSB9LF0sXG4gICAgICAgICd2YWx1ZSc6IFt7IHR5cGU6IGNvcmVfMS5JbnB1dCwgYXJnczogWyd2YWx1ZScsXSB9LF0sXG4gICAgfTtcbiAgICByZXR1cm4gTmdTZWxlY3RPcHRpb247XG59KCkpO1xuZXhwb3J0cy5OZ1NlbGVjdE9wdGlvbiA9IE5nU2VsZWN0T3B0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VsZWN0X2NvbnRyb2xfdmFsdWVfYWNjZXNzb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9jb2xsZWN0aW9uJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG52YXIgdmFsaWRhdG9yc18xID0gcmVxdWlyZSgnLi4vdmFsaWRhdG9ycycpO1xudmFyIGRlZmF1bHRfdmFsdWVfYWNjZXNzb3JfMSA9IHJlcXVpcmUoJy4vZGVmYXVsdF92YWx1ZV9hY2Nlc3NvcicpO1xudmFyIG51bWJlcl92YWx1ZV9hY2Nlc3Nvcl8xID0gcmVxdWlyZSgnLi9udW1iZXJfdmFsdWVfYWNjZXNzb3InKTtcbnZhciBjaGVja2JveF92YWx1ZV9hY2Nlc3Nvcl8xID0gcmVxdWlyZSgnLi9jaGVja2JveF92YWx1ZV9hY2Nlc3NvcicpO1xudmFyIHNlbGVjdF9jb250cm9sX3ZhbHVlX2FjY2Vzc29yXzEgPSByZXF1aXJlKCcuL3NlbGVjdF9jb250cm9sX3ZhbHVlX2FjY2Vzc29yJyk7XG52YXIgcmFkaW9fY29udHJvbF92YWx1ZV9hY2Nlc3Nvcl8xID0gcmVxdWlyZSgnLi9yYWRpb19jb250cm9sX3ZhbHVlX2FjY2Vzc29yJyk7XG52YXIgbm9ybWFsaXplX3ZhbGlkYXRvcl8xID0gcmVxdWlyZSgnLi9ub3JtYWxpemVfdmFsaWRhdG9yJyk7XG5mdW5jdGlvbiBjb250cm9sUGF0aChuYW1lLCBwYXJlbnQpIHtcbiAgICB2YXIgcCA9IGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5jbG9uZShwYXJlbnQucGF0aCk7XG4gICAgcC5wdXNoKG5hbWUpO1xuICAgIHJldHVybiBwO1xufVxuZXhwb3J0cy5jb250cm9sUGF0aCA9IGNvbnRyb2xQYXRoO1xuZnVuY3Rpb24gc2V0VXBDb250cm9sKGNvbnRyb2wsIGRpcikge1xuICAgIGlmIChsYW5nXzEuaXNCbGFuayhjb250cm9sKSlcbiAgICAgICAgX3Rocm93RXJyb3IoZGlyLCBcIkNhbm5vdCBmaW5kIGNvbnRyb2xcIik7XG4gICAgaWYgKGxhbmdfMS5pc0JsYW5rKGRpci52YWx1ZUFjY2Vzc29yKSlcbiAgICAgICAgX3Rocm93RXJyb3IoZGlyLCBcIk5vIHZhbHVlIGFjY2Vzc29yIGZvclwiKTtcbiAgICBjb250cm9sLnZhbGlkYXRvciA9IHZhbGlkYXRvcnNfMS5WYWxpZGF0b3JzLmNvbXBvc2UoW2NvbnRyb2wudmFsaWRhdG9yLCBkaXIudmFsaWRhdG9yXSk7XG4gICAgY29udHJvbC5hc3luY1ZhbGlkYXRvciA9IHZhbGlkYXRvcnNfMS5WYWxpZGF0b3JzLmNvbXBvc2VBc3luYyhbY29udHJvbC5hc3luY1ZhbGlkYXRvciwgZGlyLmFzeW5jVmFsaWRhdG9yXSk7XG4gICAgZGlyLnZhbHVlQWNjZXNzb3Iud3JpdGVWYWx1ZShjb250cm9sLnZhbHVlKTtcbiAgICAvLyB2aWV3IC0+IG1vZGVsXG4gICAgZGlyLnZhbHVlQWNjZXNzb3IucmVnaXN0ZXJPbkNoYW5nZShmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgZGlyLnZpZXdUb01vZGVsVXBkYXRlKG5ld1ZhbHVlKTtcbiAgICAgICAgY29udHJvbC51cGRhdGVWYWx1ZShuZXdWYWx1ZSwgeyBlbWl0TW9kZWxUb1ZpZXdDaGFuZ2U6IGZhbHNlIH0pO1xuICAgICAgICBjb250cm9sLm1hcmtBc0RpcnR5KCk7XG4gICAgfSk7XG4gICAgLy8gbW9kZWwgLT4gdmlld1xuICAgIGNvbnRyb2wucmVnaXN0ZXJPbkNoYW5nZShmdW5jdGlvbiAobmV3VmFsdWUpIHsgcmV0dXJuIGRpci52YWx1ZUFjY2Vzc29yLndyaXRlVmFsdWUobmV3VmFsdWUpOyB9KTtcbiAgICAvLyB0b3VjaGVkXG4gICAgZGlyLnZhbHVlQWNjZXNzb3IucmVnaXN0ZXJPblRvdWNoZWQoZnVuY3Rpb24gKCkgeyByZXR1cm4gY29udHJvbC5tYXJrQXNUb3VjaGVkKCk7IH0pO1xufVxuZXhwb3J0cy5zZXRVcENvbnRyb2wgPSBzZXRVcENvbnRyb2w7XG5mdW5jdGlvbiBzZXRVcENvbnRyb2xHcm91cChjb250cm9sLCBkaXIpIHtcbiAgICBpZiAobGFuZ18xLmlzQmxhbmsoY29udHJvbCkpXG4gICAgICAgIF90aHJvd0Vycm9yKGRpciwgXCJDYW5ub3QgZmluZCBjb250cm9sXCIpO1xuICAgIGNvbnRyb2wudmFsaWRhdG9yID0gdmFsaWRhdG9yc18xLlZhbGlkYXRvcnMuY29tcG9zZShbY29udHJvbC52YWxpZGF0b3IsIGRpci52YWxpZGF0b3JdKTtcbiAgICBjb250cm9sLmFzeW5jVmFsaWRhdG9yID0gdmFsaWRhdG9yc18xLlZhbGlkYXRvcnMuY29tcG9zZUFzeW5jKFtjb250cm9sLmFzeW5jVmFsaWRhdG9yLCBkaXIuYXN5bmNWYWxpZGF0b3JdKTtcbn1cbmV4cG9ydHMuc2V0VXBDb250cm9sR3JvdXAgPSBzZXRVcENvbnRyb2xHcm91cDtcbmZ1bmN0aW9uIF90aHJvd0Vycm9yKGRpciwgbWVzc2FnZSkge1xuICAgIHZhciBwYXRoID0gZGlyLnBhdGguam9pbihcIiAtPiBcIik7XG4gICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKG1lc3NhZ2UgKyBcIiAnXCIgKyBwYXRoICsgXCInXCIpO1xufVxuZnVuY3Rpb24gY29tcG9zZVZhbGlkYXRvcnModmFsaWRhdG9ycykge1xuICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHZhbGlkYXRvcnMpID8gdmFsaWRhdG9yc18xLlZhbGlkYXRvcnMuY29tcG9zZSh2YWxpZGF0b3JzLm1hcChub3JtYWxpemVfdmFsaWRhdG9yXzEubm9ybWFsaXplVmFsaWRhdG9yKSkgOiBudWxsO1xufVxuZXhwb3J0cy5jb21wb3NlVmFsaWRhdG9ycyA9IGNvbXBvc2VWYWxpZGF0b3JzO1xuZnVuY3Rpb24gY29tcG9zZUFzeW5jVmFsaWRhdG9ycyh2YWxpZGF0b3JzKSB7XG4gICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQodmFsaWRhdG9ycykgPyB2YWxpZGF0b3JzXzEuVmFsaWRhdG9ycy5jb21wb3NlQXN5bmModmFsaWRhdG9ycy5tYXAobm9ybWFsaXplX3ZhbGlkYXRvcl8xLm5vcm1hbGl6ZUFzeW5jVmFsaWRhdG9yKSkgOlxuICAgICAgICBudWxsO1xufVxuZXhwb3J0cy5jb21wb3NlQXN5bmNWYWxpZGF0b3JzID0gY29tcG9zZUFzeW5jVmFsaWRhdG9ycztcbmZ1bmN0aW9uIGlzUHJvcGVydHlVcGRhdGVkKGNoYW5nZXMsIHZpZXdNb2RlbCkge1xuICAgIGlmICghY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIuY29udGFpbnMoY2hhbmdlcywgXCJtb2RlbFwiKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBjaGFuZ2UgPSBjaGFuZ2VzW1wibW9kZWxcIl07XG4gICAgaWYgKGNoYW5nZS5pc0ZpcnN0Q2hhbmdlKCkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiAhbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHZpZXdNb2RlbCwgY2hhbmdlLmN1cnJlbnRWYWx1ZSk7XG59XG5leHBvcnRzLmlzUHJvcGVydHlVcGRhdGVkID0gaXNQcm9wZXJ0eVVwZGF0ZWQ7XG4vLyBUT0RPOiB2c2F2a2luIHJlbW92ZSBpdCBvbmNlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzMwMTEgaXMgaW1wbGVtZW50ZWRcbmZ1bmN0aW9uIHNlbGVjdFZhbHVlQWNjZXNzb3IoZGlyLCB2YWx1ZUFjY2Vzc29ycykge1xuICAgIGlmIChsYW5nXzEuaXNCbGFuayh2YWx1ZUFjY2Vzc29ycykpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHZhciBkZWZhdWx0QWNjZXNzb3I7XG4gICAgdmFyIGJ1aWx0aW5BY2Nlc3NvcjtcbiAgICB2YXIgY3VzdG9tQWNjZXNzb3I7XG4gICAgdmFsdWVBY2Nlc3NvcnMuZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICBpZiAobGFuZ18xLmhhc0NvbnN0cnVjdG9yKHYsIGRlZmF1bHRfdmFsdWVfYWNjZXNzb3JfMS5EZWZhdWx0VmFsdWVBY2Nlc3NvcikpIHtcbiAgICAgICAgICAgIGRlZmF1bHRBY2Nlc3NvciA9IHY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGFuZ18xLmhhc0NvbnN0cnVjdG9yKHYsIGNoZWNrYm94X3ZhbHVlX2FjY2Vzc29yXzEuQ2hlY2tib3hDb250cm9sVmFsdWVBY2Nlc3NvcikgfHxcbiAgICAgICAgICAgIGxhbmdfMS5oYXNDb25zdHJ1Y3Rvcih2LCBudW1iZXJfdmFsdWVfYWNjZXNzb3JfMS5OdW1iZXJWYWx1ZUFjY2Vzc29yKSB8fFxuICAgICAgICAgICAgbGFuZ18xLmhhc0NvbnN0cnVjdG9yKHYsIHNlbGVjdF9jb250cm9sX3ZhbHVlX2FjY2Vzc29yXzEuU2VsZWN0Q29udHJvbFZhbHVlQWNjZXNzb3IpIHx8XG4gICAgICAgICAgICBsYW5nXzEuaGFzQ29uc3RydWN0b3IodiwgcmFkaW9fY29udHJvbF92YWx1ZV9hY2Nlc3Nvcl8xLlJhZGlvQ29udHJvbFZhbHVlQWNjZXNzb3IpKSB7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChidWlsdGluQWNjZXNzb3IpKVxuICAgICAgICAgICAgICAgIF90aHJvd0Vycm9yKGRpciwgXCJNb3JlIHRoYW4gb25lIGJ1aWx0LWluIHZhbHVlIGFjY2Vzc29yIG1hdGNoZXNcIik7XG4gICAgICAgICAgICBidWlsdGluQWNjZXNzb3IgPSB2O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoY3VzdG9tQWNjZXNzb3IpKVxuICAgICAgICAgICAgICAgIF90aHJvd0Vycm9yKGRpciwgXCJNb3JlIHRoYW4gb25lIGN1c3RvbSB2YWx1ZSBhY2Nlc3NvciBtYXRjaGVzXCIpO1xuICAgICAgICAgICAgY3VzdG9tQWNjZXNzb3IgPSB2O1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoY3VzdG9tQWNjZXNzb3IpKVxuICAgICAgICByZXR1cm4gY3VzdG9tQWNjZXNzb3I7XG4gICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoYnVpbHRpbkFjY2Vzc29yKSlcbiAgICAgICAgcmV0dXJuIGJ1aWx0aW5BY2Nlc3NvcjtcbiAgICBpZiAobGFuZ18xLmlzUHJlc2VudChkZWZhdWx0QWNjZXNzb3IpKVxuICAgICAgICByZXR1cm4gZGVmYXVsdEFjY2Vzc29yO1xuICAgIF90aHJvd0Vycm9yKGRpciwgXCJObyB2YWxpZCB2YWx1ZSBhY2Nlc3NvciBmb3JcIik7XG4gICAgcmV0dXJuIG51bGw7XG59XG5leHBvcnRzLnNlbGVjdFZhbHVlQWNjZXNzb3IgPSBzZWxlY3RWYWx1ZUFjY2Vzc29yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2hhcmVkLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9mYWNhZGUvbGFuZycpO1xudmFyIHZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoJy4uL3ZhbGlkYXRvcnMnKTtcbnZhciBSRVFVSVJFRCA9IHZhbGlkYXRvcnNfMS5WYWxpZGF0b3JzLnJlcXVpcmVkO1xuZXhwb3J0cy5SRVFVSVJFRF9WQUxJREFUT1IgPSB7XG4gICAgcHJvdmlkZTogdmFsaWRhdG9yc18xLk5HX1ZBTElEQVRPUlMsXG4gICAgdXNlVmFsdWU6IFJFUVVJUkVELFxuICAgIG11bHRpOiB0cnVlXG59O1xudmFyIFJlcXVpcmVkVmFsaWRhdG9yID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXF1aXJlZFZhbGlkYXRvcigpIHtcbiAgICB9XG4gICAgUmVxdWlyZWRWYWxpZGF0b3IuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuRGlyZWN0aXZlLCBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1tyZXF1aXJlZF1bbmdDb250cm9sXSxbcmVxdWlyZWRdW25nRm9ybUNvbnRyb2xdLFtyZXF1aXJlZF1bbmdNb2RlbF0nLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtleHBvcnRzLlJFUVVJUkVEX1ZBTElEQVRPUl1cbiAgICAgICAgICAgICAgICB9LF0gfSxcbiAgICBdO1xuICAgIHJldHVybiBSZXF1aXJlZFZhbGlkYXRvcjtcbn0oKSk7XG5leHBvcnRzLlJlcXVpcmVkVmFsaWRhdG9yID0gUmVxdWlyZWRWYWxpZGF0b3I7XG4vKipcbiAqIFByb3ZpdmRlciB3aGljaCBhZGRzIHtAbGluayBNaW5MZW5ndGhWYWxpZGF0b3J9IHRvIHtAbGluayBOR19WQUxJREFUT1JTfS5cbiAqXG4gKiAjIyBFeGFtcGxlOlxuICpcbiAqIHtAZXhhbXBsZSBjb21tb24vZm9ybXMvdHMvdmFsaWRhdG9ycy92YWxpZGF0b3JzLnRzIHJlZ2lvbj0nbWluJ31cbiAqL1xuZXhwb3J0cy5NSU5fTEVOR1RIX1ZBTElEQVRPUiA9IHtcbiAgICBwcm92aWRlOiB2YWxpZGF0b3JzXzEuTkdfVkFMSURBVE9SUyxcbiAgICB1c2VFeGlzdGluZzogY29yZV8xLmZvcndhcmRSZWYoZnVuY3Rpb24gKCkgeyByZXR1cm4gTWluTGVuZ3RoVmFsaWRhdG9yOyB9KSxcbiAgICBtdWx0aTogdHJ1ZVxufTtcbnZhciBNaW5MZW5ndGhWYWxpZGF0b3IgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1pbkxlbmd0aFZhbGlkYXRvcihtaW5MZW5ndGgpIHtcbiAgICAgICAgdGhpcy5fdmFsaWRhdG9yID0gdmFsaWRhdG9yc18xLlZhbGlkYXRvcnMubWluTGVuZ3RoKGxhbmdfMS5OdW1iZXJXcmFwcGVyLnBhcnNlSW50KG1pbkxlbmd0aCwgMTApKTtcbiAgICB9XG4gICAgTWluTGVuZ3RoVmFsaWRhdG9yLnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uIChjKSB7IHJldHVybiB0aGlzLl92YWxpZGF0b3IoYyk7IH07XG4gICAgTWluTGVuZ3RoVmFsaWRhdG9yLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkRpcmVjdGl2ZSwgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdbbWlubGVuZ3RoXVtuZ0NvbnRyb2xdLFttaW5sZW5ndGhdW25nRm9ybUNvbnRyb2xdLFttaW5sZW5ndGhdW25nTW9kZWxdJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbZXhwb3J0cy5NSU5fTEVOR1RIX1ZBTElEQVRPUl1cbiAgICAgICAgICAgICAgICB9LF0gfSxcbiAgICBdO1xuICAgIE1pbkxlbmd0aFZhbGlkYXRvci5jdG9yUGFyYW1ldGVycyA9IFtcbiAgICAgICAgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7IHR5cGU6IGNvcmVfMS5BdHRyaWJ1dGUsIGFyZ3M6IFtcIm1pbmxlbmd0aFwiLF0gfSxdIH0sXG4gICAgXTtcbiAgICByZXR1cm4gTWluTGVuZ3RoVmFsaWRhdG9yO1xufSgpKTtcbmV4cG9ydHMuTWluTGVuZ3RoVmFsaWRhdG9yID0gTWluTGVuZ3RoVmFsaWRhdG9yO1xuLyoqXG4gKiBQcm92aWRlciB3aGljaCBhZGRzIHtAbGluayBNYXhMZW5ndGhWYWxpZGF0b3J9IHRvIHtAbGluayBOR19WQUxJREFUT1JTfS5cbiAqXG4gKiAjIyBFeGFtcGxlOlxuICpcbiAqIHtAZXhhbXBsZSBjb21tb24vZm9ybXMvdHMvdmFsaWRhdG9ycy92YWxpZGF0b3JzLnRzIHJlZ2lvbj0nbWF4J31cbiAqL1xuZXhwb3J0cy5NQVhfTEVOR1RIX1ZBTElEQVRPUiA9IHtcbiAgICBwcm92aWRlOiB2YWxpZGF0b3JzXzEuTkdfVkFMSURBVE9SUyxcbiAgICB1c2VFeGlzdGluZzogY29yZV8xLmZvcndhcmRSZWYoZnVuY3Rpb24gKCkgeyByZXR1cm4gTWF4TGVuZ3RoVmFsaWRhdG9yOyB9KSxcbiAgICBtdWx0aTogdHJ1ZVxufTtcbnZhciBNYXhMZW5ndGhWYWxpZGF0b3IgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1heExlbmd0aFZhbGlkYXRvcihtYXhMZW5ndGgpIHtcbiAgICAgICAgdGhpcy5fdmFsaWRhdG9yID0gdmFsaWRhdG9yc18xLlZhbGlkYXRvcnMubWF4TGVuZ3RoKGxhbmdfMS5OdW1iZXJXcmFwcGVyLnBhcnNlSW50KG1heExlbmd0aCwgMTApKTtcbiAgICB9XG4gICAgTWF4TGVuZ3RoVmFsaWRhdG9yLnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uIChjKSB7IHJldHVybiB0aGlzLl92YWxpZGF0b3IoYyk7IH07XG4gICAgTWF4TGVuZ3RoVmFsaWRhdG9yLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkRpcmVjdGl2ZSwgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdbbWF4bGVuZ3RoXVtuZ0NvbnRyb2xdLFttYXhsZW5ndGhdW25nRm9ybUNvbnRyb2xdLFttYXhsZW5ndGhdW25nTW9kZWxdJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbZXhwb3J0cy5NQVhfTEVOR1RIX1ZBTElEQVRPUl1cbiAgICAgICAgICAgICAgICB9LF0gfSxcbiAgICBdO1xuICAgIE1heExlbmd0aFZhbGlkYXRvci5jdG9yUGFyYW1ldGVycyA9IFtcbiAgICAgICAgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7IHR5cGU6IGNvcmVfMS5BdHRyaWJ1dGUsIGFyZ3M6IFtcIm1heGxlbmd0aFwiLF0gfSxdIH0sXG4gICAgXTtcbiAgICByZXR1cm4gTWF4TGVuZ3RoVmFsaWRhdG9yO1xufSgpKTtcbmV4cG9ydHMuTWF4TGVuZ3RoVmFsaWRhdG9yID0gTWF4TGVuZ3RoVmFsaWRhdG9yO1xuLyoqXG4gKiBBIERpcmVjdGl2ZSB0aGF0IGFkZHMgdGhlIGBwYXR0ZXJuYCB2YWxpZGF0b3IgdG8gYW55IGNvbnRyb2xzIG1hcmtlZCB3aXRoIHRoZVxuICogYHBhdHRlcm5gIGF0dHJpYnV0ZSwgdmlhIHRoZSB7QGxpbmsgTkdfVkFMSURBVE9SU30gYmluZGluZy4gVXNlcyBhdHRyaWJ1dGUgdmFsdWVcbiAqIGFzIHRoZSByZWdleCB0byB2YWxpZGF0ZSBDb250cm9sIHZhbHVlIGFnYWluc3QuICBGb2xsb3dzIHBhdHRlcm4gYXR0cmlidXRlXG4gKiBzZW1hbnRpY3M7IGkuZS4gcmVnZXggbXVzdCBtYXRjaCBlbnRpcmUgQ29udHJvbCB2YWx1ZS5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYFxuICogPGlucHV0IFtuZ0NvbnRyb2xdPVwiZnVsbE5hbWVcIiBwYXR0ZXJuPVwiW2EtekEtWiBdKlwiPlxuICogYGBgXG4gKi9cbmV4cG9ydHMuUEFUVEVSTl9WQUxJREFUT1IgPSB7XG4gICAgcHJvdmlkZTogdmFsaWRhdG9yc18xLk5HX1ZBTElEQVRPUlMsXG4gICAgdXNlRXhpc3Rpbmc6IGNvcmVfMS5mb3J3YXJkUmVmKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFBhdHRlcm5WYWxpZGF0b3I7IH0pLFxuICAgIG11bHRpOiB0cnVlXG59O1xudmFyIFBhdHRlcm5WYWxpZGF0b3IgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBhdHRlcm5WYWxpZGF0b3IocGF0dGVybikge1xuICAgICAgICB0aGlzLl92YWxpZGF0b3IgPSB2YWxpZGF0b3JzXzEuVmFsaWRhdG9ycy5wYXR0ZXJuKHBhdHRlcm4pO1xuICAgIH1cbiAgICBQYXR0ZXJuVmFsaWRhdG9yLnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uIChjKSB7IHJldHVybiB0aGlzLl92YWxpZGF0b3IoYyk7IH07XG4gICAgUGF0dGVyblZhbGlkYXRvci5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5EaXJlY3RpdmUsIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnW3BhdHRlcm5dW25nQ29udHJvbF0sW3BhdHRlcm5dW25nRm9ybUNvbnRyb2xdLFtwYXR0ZXJuXVtuZ01vZGVsXScsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW2V4cG9ydHMuUEFUVEVSTl9WQUxJREFUT1JdXG4gICAgICAgICAgICAgICAgfSxdIH0sXG4gICAgXTtcbiAgICBQYXR0ZXJuVmFsaWRhdG9yLmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3sgdHlwZTogY29yZV8xLkF0dHJpYnV0ZSwgYXJnczogW1wicGF0dGVyblwiLF0gfSxdIH0sXG4gICAgXTtcbiAgICByZXR1cm4gUGF0dGVyblZhbGlkYXRvcjtcbn0oKSk7XG5leHBvcnRzLlBhdHRlcm5WYWxpZGF0b3IgPSBQYXR0ZXJuVmFsaWRhdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsaWRhdG9ycy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9jb2xsZWN0aW9uJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgbW9kZWxNb2R1bGUgPSByZXF1aXJlKCcuL21vZGVsJyk7XG52YXIgRm9ybUJ1aWxkZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZvcm1CdWlsZGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcge0BsaW5rIENvbnRyb2xHcm91cH0gd2l0aCB0aGUgZ2l2ZW4gbWFwIG9mIGNvbmZpZ3VyYXRpb24uXG4gICAgICogVmFsaWQga2V5cyBmb3IgdGhlIGBleHRyYWAgcGFyYW1ldGVyIG1hcCBhcmUgYG9wdGlvbmFsc2AgYW5kIGB2YWxpZGF0b3JgLlxuICAgICAqXG4gICAgICogU2VlIHRoZSB7QGxpbmsgQ29udHJvbEdyb3VwfSBjb25zdHJ1Y3RvciBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqL1xuICAgIEZvcm1CdWlsZGVyLnByb3RvdHlwZS5ncm91cCA9IGZ1bmN0aW9uIChjb250cm9sc0NvbmZpZywgZXh0cmEpIHtcbiAgICAgICAgaWYgKGV4dHJhID09PSB2b2lkIDApIHsgZXh0cmEgPSBudWxsOyB9XG4gICAgICAgIHZhciBjb250cm9scyA9IHRoaXMuX3JlZHVjZUNvbnRyb2xzKGNvbnRyb2xzQ29uZmlnKTtcbiAgICAgICAgdmFyIG9wdGlvbmFscyA9IChsYW5nXzEuaXNQcmVzZW50KGV4dHJhKSA/IGNvbGxlY3Rpb25fMS5TdHJpbmdNYXBXcmFwcGVyLmdldChleHRyYSwgXCJvcHRpb25hbHNcIikgOiBudWxsKTtcbiAgICAgICAgdmFyIHZhbGlkYXRvciA9IGxhbmdfMS5pc1ByZXNlbnQoZXh0cmEpID8gY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIuZ2V0KGV4dHJhLCBcInZhbGlkYXRvclwiKSA6IG51bGw7XG4gICAgICAgIHZhciBhc3luY1ZhbGlkYXRvciA9IGxhbmdfMS5pc1ByZXNlbnQoZXh0cmEpID8gY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIuZ2V0KGV4dHJhLCBcImFzeW5jVmFsaWRhdG9yXCIpIDogbnVsbDtcbiAgICAgICAgcmV0dXJuIG5ldyBtb2RlbE1vZHVsZS5Db250cm9sR3JvdXAoY29udHJvbHMsIG9wdGlvbmFscywgdmFsaWRhdG9yLCBhc3luY1ZhbGlkYXRvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSBuZXcge0BsaW5rIENvbnRyb2x9IHdpdGggdGhlIGdpdmVuIGB2YWx1ZWAsYHZhbGlkYXRvcmAsIGFuZCBgYXN5bmNWYWxpZGF0b3JgLlxuICAgICAqL1xuICAgIEZvcm1CdWlsZGVyLnByb3RvdHlwZS5jb250cm9sID0gZnVuY3Rpb24gKHZhbHVlLCB2YWxpZGF0b3IsIGFzeW5jVmFsaWRhdG9yKSB7XG4gICAgICAgIGlmICh2YWxpZGF0b3IgPT09IHZvaWQgMCkgeyB2YWxpZGF0b3IgPSBudWxsOyB9XG4gICAgICAgIGlmIChhc3luY1ZhbGlkYXRvciA9PT0gdm9pZCAwKSB7IGFzeW5jVmFsaWRhdG9yID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gbmV3IG1vZGVsTW9kdWxlLkNvbnRyb2wodmFsdWUsIHZhbGlkYXRvciwgYXN5bmNWYWxpZGF0b3IpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGFuIGFycmF5IG9mIHtAbGluayBDb250cm9sfXMgZnJvbSB0aGUgZ2l2ZW4gYGNvbnRyb2xzQ29uZmlnYCBhcnJheSBvZlxuICAgICAqIGNvbmZpZ3VyYXRpb24sIHdpdGggdGhlIGdpdmVuIG9wdGlvbmFsIGB2YWxpZGF0b3JgIGFuZCBgYXN5bmNWYWxpZGF0b3JgLlxuICAgICAqL1xuICAgIEZvcm1CdWlsZGVyLnByb3RvdHlwZS5hcnJheSA9IGZ1bmN0aW9uIChjb250cm9sc0NvbmZpZywgdmFsaWRhdG9yLCBhc3luY1ZhbGlkYXRvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodmFsaWRhdG9yID09PSB2b2lkIDApIHsgdmFsaWRhdG9yID0gbnVsbDsgfVxuICAgICAgICBpZiAoYXN5bmNWYWxpZGF0b3IgPT09IHZvaWQgMCkgeyBhc3luY1ZhbGlkYXRvciA9IG51bGw7IH1cbiAgICAgICAgdmFyIGNvbnRyb2xzID0gY29udHJvbHNDb25maWcubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiBfdGhpcy5fY3JlYXRlQ29udHJvbChjKTsgfSk7XG4gICAgICAgIHJldHVybiBuZXcgbW9kZWxNb2R1bGUuQ29udHJvbEFycmF5KGNvbnRyb2xzLCB2YWxpZGF0b3IsIGFzeW5jVmFsaWRhdG9yKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBGb3JtQnVpbGRlci5wcm90b3R5cGUuX3JlZHVjZUNvbnRyb2xzID0gZnVuY3Rpb24gKGNvbnRyb2xzQ29uZmlnKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjb250cm9scyA9IHt9O1xuICAgICAgICBjb2xsZWN0aW9uXzEuU3RyaW5nTWFwV3JhcHBlci5mb3JFYWNoKGNvbnRyb2xzQ29uZmlnLCBmdW5jdGlvbiAoY29udHJvbENvbmZpZywgY29udHJvbE5hbWUpIHtcbiAgICAgICAgICAgIGNvbnRyb2xzW2NvbnRyb2xOYW1lXSA9IF90aGlzLl9jcmVhdGVDb250cm9sKGNvbnRyb2xDb25maWcpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNvbnRyb2xzO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIEZvcm1CdWlsZGVyLnByb3RvdHlwZS5fY3JlYXRlQ29udHJvbCA9IGZ1bmN0aW9uIChjb250cm9sQ29uZmlnKSB7XG4gICAgICAgIGlmIChjb250cm9sQ29uZmlnIGluc3RhbmNlb2YgbW9kZWxNb2R1bGUuQ29udHJvbCB8fFxuICAgICAgICAgICAgY29udHJvbENvbmZpZyBpbnN0YW5jZW9mIG1vZGVsTW9kdWxlLkNvbnRyb2xHcm91cCB8fFxuICAgICAgICAgICAgY29udHJvbENvbmZpZyBpbnN0YW5jZW9mIG1vZGVsTW9kdWxlLkNvbnRyb2xBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xDb25maWc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGFuZ18xLmlzQXJyYXkoY29udHJvbENvbmZpZykpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGNvbnRyb2xDb25maWdbMF07XG4gICAgICAgICAgICB2YXIgdmFsaWRhdG9yID0gY29udHJvbENvbmZpZy5sZW5ndGggPiAxID8gY29udHJvbENvbmZpZ1sxXSA6IG51bGw7XG4gICAgICAgICAgICB2YXIgYXN5bmNWYWxpZGF0b3IgPSBjb250cm9sQ29uZmlnLmxlbmd0aCA+IDIgPyBjb250cm9sQ29uZmlnWzJdIDogbnVsbDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2wodmFsdWUsIHZhbGlkYXRvciwgYXN5bmNWYWxpZGF0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbChjb250cm9sQ29uZmlnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRm9ybUJ1aWxkZXIuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuSW5qZWN0YWJsZSB9LFxuICAgIF07XG4gICAgcmV0dXJuIEZvcm1CdWlsZGVyO1xufSgpKTtcbmV4cG9ydHMuRm9ybUJ1aWxkZXIgPSBGb3JtQnVpbGRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvcm1fYnVpbGRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGFzeW5jXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2FzeW5jJyk7XG52YXIgcHJvbWlzZV8xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9wcm9taXNlJyk7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9jb2xsZWN0aW9uJyk7XG4vKipcbiAqIEluZGljYXRlcyB0aGF0IGEgQ29udHJvbCBpcyB2YWxpZCwgaS5lLiB0aGF0IG5vIGVycm9ycyBleGlzdCBpbiB0aGUgaW5wdXQgdmFsdWUuXG4gKi9cbmV4cG9ydHMuVkFMSUQgPSBcIlZBTElEXCI7XG4vKipcbiAqIEluZGljYXRlcyB0aGF0IGEgQ29udHJvbCBpcyBpbnZhbGlkLCBpLmUuIHRoYXQgYW4gZXJyb3IgZXhpc3RzIGluIHRoZSBpbnB1dCB2YWx1ZS5cbiAqL1xuZXhwb3J0cy5JTlZBTElEID0gXCJJTlZBTElEXCI7XG4vKipcbiAqIEluZGljYXRlcyB0aGF0IGEgQ29udHJvbCBpcyBwZW5kaW5nLCBpLmUuIHRoYXQgYXN5bmMgdmFsaWRhdGlvbiBpcyBvY2N1cnJpbmcgYW5kXG4gKiBlcnJvcnMgYXJlIG5vdCB5ZXQgYXZhaWxhYmxlIGZvciB0aGUgaW5wdXQgdmFsdWUuXG4gKi9cbmV4cG9ydHMuUEVORElORyA9IFwiUEVORElOR1wiO1xuZnVuY3Rpb24gaXNDb250cm9sKGNvbnRyb2wpIHtcbiAgICByZXR1cm4gY29udHJvbCBpbnN0YW5jZW9mIEFic3RyYWN0Q29udHJvbDtcbn1cbmV4cG9ydHMuaXNDb250cm9sID0gaXNDb250cm9sO1xuZnVuY3Rpb24gX2ZpbmQoY29udHJvbCwgcGF0aCkge1xuICAgIGlmIChsYW5nXzEuaXNCbGFuayhwYXRoKSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKCEocGF0aCBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICBwYXRoID0gcGF0aC5zcGxpdChcIi9cIik7XG4gICAgfVxuICAgIGlmIChwYXRoIGluc3RhbmNlb2YgQXJyYXkgJiYgY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmlzRW1wdHkocGF0aCkpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiBwYXRoXG4gICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKHYsIG5hbWUpIHtcbiAgICAgICAgaWYgKHYgaW5zdGFuY2VvZiBDb250cm9sR3JvdXApIHtcbiAgICAgICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHYuY29udHJvbHNbbmFtZV0pID8gdi5jb250cm9sc1tuYW1lXSA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodiBpbnN0YW5jZW9mIENvbnRyb2xBcnJheSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gbmFtZTtcbiAgICAgICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHYuYXQoaW5kZXgpKSA/IHYuYXQoaW5kZXgpIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfSwgY29udHJvbCk7XG59XG5mdW5jdGlvbiB0b09ic2VydmFibGUocikge1xuICAgIHJldHVybiBwcm9taXNlXzEuUHJvbWlzZVdyYXBwZXIuaXNQcm9taXNlKHIpID8gYXN5bmNfMS5PYnNlcnZhYmxlV3JhcHBlci5mcm9tUHJvbWlzZShyKSA6IHI7XG59XG4vKipcbiAqXG4gKi9cbnZhciBBYnN0cmFjdENvbnRyb2wgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0Q29udHJvbCh2YWxpZGF0b3IsIGFzeW5jVmFsaWRhdG9yKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdG9yID0gdmFsaWRhdG9yO1xuICAgICAgICB0aGlzLmFzeW5jVmFsaWRhdG9yID0gYXN5bmNWYWxpZGF0b3I7XG4gICAgICAgIHRoaXMuX3ByaXN0aW5lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fdG91Y2hlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RDb250cm9sLnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fdmFsdWU7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdENvbnRyb2wucHJvdG90eXBlLCBcInN0YXR1c1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fc3RhdHVzOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RDb250cm9sLnByb3RvdHlwZSwgXCJ2YWxpZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fc3RhdHVzID09PSBleHBvcnRzLlZBTElEOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RDb250cm9sLnByb3RvdHlwZSwgXCJlcnJvcnNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgZXJyb3JzIG9mIHRoaXMgY29udHJvbC5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fZXJyb3JzOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RDb250cm9sLnByb3RvdHlwZSwgXCJwcmlzdGluZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fcHJpc3RpbmU7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdENvbnRyb2wucHJvdG90eXBlLCBcImRpcnR5XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiAhdGhpcy5wcmlzdGluZTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0Q29udHJvbC5wcm90b3R5cGUsIFwidG91Y2hlZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fdG91Y2hlZDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0Q29udHJvbC5wcm90b3R5cGUsIFwidW50b3VjaGVkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiAhdGhpcy5fdG91Y2hlZDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFic3RyYWN0Q29udHJvbC5wcm90b3R5cGUsIFwidmFsdWVDaGFuZ2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl92YWx1ZUNoYW5nZXM7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdENvbnRyb2wucHJvdG90eXBlLCBcInN0YXR1c0NoYW5nZXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3N0YXR1c0NoYW5nZXM7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdENvbnRyb2wucHJvdG90eXBlLCBcInBlbmRpbmdcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3N0YXR1cyA9PSBleHBvcnRzLlBFTkRJTkc7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEFic3RyYWN0Q29udHJvbC5wcm90b3R5cGUubWFya0FzVG91Y2hlZCA9IGZ1bmN0aW9uICgpIHsgdGhpcy5fdG91Y2hlZCA9IHRydWU7IH07XG4gICAgQWJzdHJhY3RDb250cm9sLnByb3RvdHlwZS5tYXJrQXNEaXJ0eSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgb25seVNlbGYgPSAoX2EgPT09IHZvaWQgMCA/IHt9IDogX2EpLm9ubHlTZWxmO1xuICAgICAgICBvbmx5U2VsZiA9IGxhbmdfMS5ub3JtYWxpemVCb29sKG9ubHlTZWxmKTtcbiAgICAgICAgdGhpcy5fcHJpc3RpbmUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGhpcy5fcGFyZW50KSAmJiAhb25seVNlbGYpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudC5tYXJrQXNEaXJ0eSh7IG9ubHlTZWxmOiBvbmx5U2VsZiB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQWJzdHJhY3RDb250cm9sLnByb3RvdHlwZS5tYXJrQXNQZW5kaW5nID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBvbmx5U2VsZiA9IChfYSA9PT0gdm9pZCAwID8ge30gOiBfYSkub25seVNlbGY7XG4gICAgICAgIG9ubHlTZWxmID0gbGFuZ18xLm5vcm1hbGl6ZUJvb2wob25seVNlbGYpO1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBleHBvcnRzLlBFTkRJTkc7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHRoaXMuX3BhcmVudCkgJiYgIW9ubHlTZWxmKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnQubWFya0FzUGVuZGluZyh7IG9ubHlTZWxmOiBvbmx5U2VsZiB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQWJzdHJhY3RDb250cm9sLnByb3RvdHlwZS5zZXRQYXJlbnQgPSBmdW5jdGlvbiAocGFyZW50KSB7IHRoaXMuX3BhcmVudCA9IHBhcmVudDsgfTtcbiAgICBBYnN0cmFjdENvbnRyb2wucHJvdG90eXBlLnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIG9ubHlTZWxmID0gX2Iub25seVNlbGYsIGVtaXRFdmVudCA9IF9iLmVtaXRFdmVudDtcbiAgICAgICAgb25seVNlbGYgPSBsYW5nXzEubm9ybWFsaXplQm9vbChvbmx5U2VsZik7XG4gICAgICAgIGVtaXRFdmVudCA9IGxhbmdfMS5pc1ByZXNlbnQoZW1pdEV2ZW50KSA/IGVtaXRFdmVudCA6IHRydWU7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVZhbHVlKCk7XG4gICAgICAgIHRoaXMuX2Vycm9ycyA9IHRoaXMuX3J1blZhbGlkYXRvcigpO1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSB0aGlzLl9jYWxjdWxhdGVTdGF0dXMoKTtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXR1cyA9PSBleHBvcnRzLlZBTElEIHx8IHRoaXMuX3N0YXR1cyA9PSBleHBvcnRzLlBFTkRJTkcpIHtcbiAgICAgICAgICAgIHRoaXMuX3J1bkFzeW5jVmFsaWRhdG9yKGVtaXRFdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVtaXRFdmVudCkge1xuICAgICAgICAgICAgYXN5bmNfMS5PYnNlcnZhYmxlV3JhcHBlci5jYWxsRW1pdCh0aGlzLl92YWx1ZUNoYW5nZXMsIHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgICAgIGFzeW5jXzEuT2JzZXJ2YWJsZVdyYXBwZXIuY2FsbEVtaXQodGhpcy5fc3RhdHVzQ2hhbmdlcywgdGhpcy5fc3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLl9wYXJlbnQpICYmICFvbmx5U2VsZikge1xuICAgICAgICAgICAgdGhpcy5fcGFyZW50LnVwZGF0ZVZhbHVlQW5kVmFsaWRpdHkoeyBvbmx5U2VsZjogb25seVNlbGYsIGVtaXRFdmVudDogZW1pdEV2ZW50IH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBYnN0cmFjdENvbnRyb2wucHJvdG90eXBlLl9ydW5WYWxpZGF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHRoaXMudmFsaWRhdG9yKSA/IHRoaXMudmFsaWRhdG9yKHRoaXMpIDogbnVsbDtcbiAgICB9O1xuICAgIEFic3RyYWN0Q29udHJvbC5wcm90b3R5cGUuX3J1bkFzeW5jVmFsaWRhdG9yID0gZnVuY3Rpb24gKGVtaXRFdmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLmFzeW5jVmFsaWRhdG9yKSkge1xuICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gZXhwb3J0cy5QRU5ESU5HO1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsRXhpc3RpbmdTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgIHZhciBvYnMgPSB0b09ic2VydmFibGUodGhpcy5hc3luY1ZhbGlkYXRvcih0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLl9hc3luY1ZhbGlkYXRpb25TdWJzY3JpcHRpb24gPSBhc3luY18xLk9ic2VydmFibGVXcmFwcGVyLnN1YnNjcmliZShvYnMsIGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIF90aGlzLnNldEVycm9ycyhyZXMsIHsgZW1pdEV2ZW50OiBlbWl0RXZlbnQgfSk7IH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBYnN0cmFjdENvbnRyb2wucHJvdG90eXBlLl9jYW5jZWxFeGlzdGluZ1N1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGhpcy5fYXN5bmNWYWxpZGF0aW9uU3Vic2NyaXB0aW9uKSkge1xuICAgICAgICAgICAgYXN5bmNfMS5PYnNlcnZhYmxlV3JhcHBlci5kaXNwb3NlKHRoaXMuX2FzeW5jVmFsaWRhdGlvblN1YnNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgZXJyb3JzIG9uIGEgY29udHJvbC5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdXNlZCB3aGVuIHZhbGlkYXRpb25zIGFyZSBydW4gbm90IGF1dG9tYXRpY2FsbHksIGJ1dCBtYW51YWxseSBieSB0aGUgdXNlci5cbiAgICAgKlxuICAgICAqIENhbGxpbmcgYHNldEVycm9yc2Agd2lsbCBhbHNvIHVwZGF0ZSB0aGUgdmFsaWRpdHkgb2YgdGhlIHBhcmVudCBjb250cm9sLlxuICAgICAqXG4gICAgICogIyMgVXNhZ2VcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIHZhciBsb2dpbiA9IG5ldyBDb250cm9sKFwic29tZUxvZ2luXCIpO1xuICAgICAqIGxvZ2luLnNldEVycm9ycyh7XG4gICAgICogICBcIm5vdFVuaXF1ZVwiOiB0cnVlXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBleHBlY3QobG9naW4udmFsaWQpLnRvRXF1YWwoZmFsc2UpO1xuICAgICAqIGV4cGVjdChsb2dpbi5lcnJvcnMpLnRvRXF1YWwoe1wibm90VW5pcXVlXCI6IHRydWV9KTtcbiAgICAgKlxuICAgICAqIGxvZ2luLnVwZGF0ZVZhbHVlKFwic29tZU90aGVyTG9naW5cIik7XG4gICAgICpcbiAgICAgKiBleHBlY3QobG9naW4udmFsaWQpLnRvRXF1YWwodHJ1ZSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgQWJzdHJhY3RDb250cm9sLnByb3RvdHlwZS5zZXRFcnJvcnMgPSBmdW5jdGlvbiAoZXJyb3JzLCBfYSkge1xuICAgICAgICB2YXIgZW1pdEV2ZW50ID0gKF9hID09PSB2b2lkIDAgPyB7fSA6IF9hKS5lbWl0RXZlbnQ7XG4gICAgICAgIGVtaXRFdmVudCA9IGxhbmdfMS5pc1ByZXNlbnQoZW1pdEV2ZW50KSA/IGVtaXRFdmVudCA6IHRydWU7XG4gICAgICAgIHRoaXMuX2Vycm9ycyA9IGVycm9ycztcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gdGhpcy5fY2FsY3VsYXRlU3RhdHVzKCk7XG4gICAgICAgIGlmIChlbWl0RXZlbnQpIHtcbiAgICAgICAgICAgIGFzeW5jXzEuT2JzZXJ2YWJsZVdyYXBwZXIuY2FsbEVtaXQodGhpcy5fc3RhdHVzQ2hhbmdlcywgdGhpcy5fc3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLl9wYXJlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnQuX3VwZGF0ZUNvbnRyb2xzRXJyb3JzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFic3RyYWN0Q29udHJvbC5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uIChwYXRoKSB7IHJldHVybiBfZmluZCh0aGlzLCBwYXRoKTsgfTtcbiAgICBBYnN0cmFjdENvbnRyb2wucHJvdG90eXBlLmdldEVycm9yID0gZnVuY3Rpb24gKGVycm9yQ29kZSwgcGF0aCkge1xuICAgICAgICBpZiAocGF0aCA9PT0gdm9pZCAwKSB7IHBhdGggPSBudWxsOyB9XG4gICAgICAgIHZhciBjb250cm9sID0gbGFuZ18xLmlzUHJlc2VudChwYXRoKSAmJiAhY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmlzRW1wdHkocGF0aCkgPyB0aGlzLmZpbmQocGF0aCkgOiB0aGlzO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChjb250cm9sKSAmJiBsYW5nXzEuaXNQcmVzZW50KGNvbnRyb2wuX2Vycm9ycykpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uXzEuU3RyaW5nTWFwV3JhcHBlci5nZXQoY29udHJvbC5fZXJyb3JzLCBlcnJvckNvZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFic3RyYWN0Q29udHJvbC5wcm90b3R5cGUuaGFzRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3JDb2RlLCBwYXRoKSB7XG4gICAgICAgIGlmIChwYXRoID09PSB2b2lkIDApIHsgcGF0aCA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQodGhpcy5nZXRFcnJvcihlcnJvckNvZGUsIHBhdGgpKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdENvbnRyb2wucHJvdG90eXBlLCBcInJvb3RcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB4ID0gdGhpcztcbiAgICAgICAgICAgIHdoaWxlIChsYW5nXzEuaXNQcmVzZW50KHguX3BhcmVudCkpIHtcbiAgICAgICAgICAgICAgICB4ID0geC5fcGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBBYnN0cmFjdENvbnRyb2wucHJvdG90eXBlLl91cGRhdGVDb250cm9sc0Vycm9ycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gdGhpcy5fY2FsY3VsYXRlU3RhdHVzKCk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHRoaXMuX3BhcmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudC5fdXBkYXRlQ29udHJvbHNFcnJvcnMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIEFic3RyYWN0Q29udHJvbC5wcm90b3R5cGUuX2luaXRPYnNlcnZhYmxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdmFsdWVDaGFuZ2VzID0gbmV3IGFzeW5jXzEuRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuX3N0YXR1c0NoYW5nZXMgPSBuZXcgYXN5bmNfMS5FdmVudEVtaXR0ZXIoKTtcbiAgICB9O1xuICAgIEFic3RyYWN0Q29udHJvbC5wcm90b3R5cGUuX2NhbGN1bGF0ZVN0YXR1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGhpcy5fZXJyb3JzKSlcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLklOVkFMSUQ7XG4gICAgICAgIGlmICh0aGlzLl9hbnlDb250cm9sc0hhdmVTdGF0dXMoZXhwb3J0cy5QRU5ESU5HKSlcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlBFTkRJTkc7XG4gICAgICAgIGlmICh0aGlzLl9hbnlDb250cm9sc0hhdmVTdGF0dXMoZXhwb3J0cy5JTlZBTElEKSlcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLklOVkFMSUQ7XG4gICAgICAgIHJldHVybiBleHBvcnRzLlZBTElEO1xuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0Q29udHJvbDtcbn0oKSk7XG5leHBvcnRzLkFic3RyYWN0Q29udHJvbCA9IEFic3RyYWN0Q29udHJvbDtcbi8qKlxuICogRGVmaW5lcyBhIHBhcnQgb2YgYSBmb3JtIHRoYXQgY2Fubm90IGJlIGRpdmlkZWQgaW50byBvdGhlciBjb250cm9scy4gYENvbnRyb2xgcyBoYXZlIHZhbHVlcyBhbmRcbiAqIHZhbGlkYXRpb24gc3RhdGUsIHdoaWNoIGlzIGRldGVybWluZWQgYnkgYW4gb3B0aW9uYWwgdmFsaWRhdGlvbiBmdW5jdGlvbi5cbiAqXG4gKiBgQ29udHJvbGAgaXMgb25lIG9mIHRoZSB0aHJlZSBmdW5kYW1lbnRhbCBidWlsZGluZyBibG9ja3MgdXNlZCB0byBkZWZpbmUgZm9ybXMgaW4gQW5ndWxhciwgYWxvbmdcbiAqIHdpdGgge0BsaW5rIENvbnRyb2xHcm91cH0gYW5kIHtAbGluayBDb250cm9sQXJyYXl9LlxuICpcbiAqICMjIFVzYWdlXG4gKlxuICogQnkgZGVmYXVsdCwgYSBgQ29udHJvbGAgaXMgY3JlYXRlZCBmb3IgZXZlcnkgYDxpbnB1dD5gIG9yIG90aGVyIGZvcm0gY29tcG9uZW50LlxuICogV2l0aCB7QGxpbmsgTmdGb3JtQ29udHJvbH0gb3Ige0BsaW5rIE5nRm9ybU1vZGVsfSBhbiBleGlzdGluZyB7QGxpbmsgQ29udHJvbH0gY2FuIGJlXG4gKiBib3VuZCB0byBhIERPTSBlbGVtZW50IGluc3RlYWQuIFRoaXMgYENvbnRyb2xgIGNhbiBiZSBjb25maWd1cmVkIHdpdGggYSBjdXN0b21cbiAqIHZhbGlkYXRpb24gZnVuY3Rpb24uXG4gKlxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0LzIzREVTT3BiTm5CcEJIWnQxQlI0P3A9cHJldmlldykpXG4gKi9cbnZhciBDb250cm9sID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29udHJvbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb250cm9sKHZhbHVlLCB2YWxpZGF0b3IsIGFzeW5jVmFsaWRhdG9yKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7IHZhbHVlID0gbnVsbDsgfVxuICAgICAgICBpZiAodmFsaWRhdG9yID09PSB2b2lkIDApIHsgdmFsaWRhdG9yID0gbnVsbDsgfVxuICAgICAgICBpZiAoYXN5bmNWYWxpZGF0b3IgPT09IHZvaWQgMCkgeyBhc3luY1ZhbGlkYXRvciA9IG51bGw7IH1cbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgdmFsaWRhdG9yLCBhc3luY1ZhbGlkYXRvcik7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7IG9ubHlTZWxmOiB0cnVlLCBlbWl0RXZlbnQ6IGZhbHNlIH0pO1xuICAgICAgICB0aGlzLl9pbml0T2JzZXJ2YWJsZXMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB2YWx1ZSBvZiB0aGUgY29udHJvbCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogSWYgYG9ubHlTZWxmYCBpcyBgdHJ1ZWAsIHRoaXMgY2hhbmdlIHdpbGwgb25seSBhZmZlY3QgdGhlIHZhbGlkYXRpb24gb2YgdGhpcyBgQ29udHJvbGBcbiAgICAgKiBhbmQgbm90IGl0cyBwYXJlbnQgY29tcG9uZW50LiBJZiBgZW1pdEV2ZW50YCBpcyBgdHJ1ZWAsIHRoaXMgY2hhbmdlIHdpbGwgY2F1c2UgYVxuICAgICAqIGB2YWx1ZUNoYW5nZXNgIGV2ZW50IG9uIHRoZSBgQ29udHJvbGAgdG8gYmUgZW1pdHRlZC4gQm90aCBvZiB0aGVzZSBvcHRpb25zIGRlZmF1bHQgdG9cbiAgICAgKiBgZmFsc2VgLlxuICAgICAqXG4gICAgICogSWYgYGVtaXRNb2RlbFRvVmlld0NoYW5nZWAgaXMgYHRydWVgLCB0aGUgdmlldyB3aWxsIGJlIG5vdGlmaWVkIGFib3V0IHRoZSBuZXcgdmFsdWVcbiAgICAgKiB2aWEgYW4gYG9uQ2hhbmdlYCBldmVudC4gVGhpcyBpcyB0aGUgZGVmYXVsdCBiZWhhdmlvciBpZiBgZW1pdE1vZGVsVG9WaWV3Q2hhbmdlYCBpcyBub3RcbiAgICAgKiBzcGVjaWZpZWQuXG4gICAgICovXG4gICAgQ29udHJvbC5wcm90b3R5cGUudXBkYXRlVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUsIF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBvbmx5U2VsZiA9IF9iLm9ubHlTZWxmLCBlbWl0RXZlbnQgPSBfYi5lbWl0RXZlbnQsIGVtaXRNb2RlbFRvVmlld0NoYW5nZSA9IF9iLmVtaXRNb2RlbFRvVmlld0NoYW5nZTtcbiAgICAgICAgZW1pdE1vZGVsVG9WaWV3Q2hhbmdlID0gbGFuZ18xLmlzUHJlc2VudChlbWl0TW9kZWxUb1ZpZXdDaGFuZ2UpID8gZW1pdE1vZGVsVG9WaWV3Q2hhbmdlIDogdHJ1ZTtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGhpcy5fb25DaGFuZ2UpICYmIGVtaXRNb2RlbFRvVmlld0NoYW5nZSlcbiAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KHsgb25seVNlbGY6IG9ubHlTZWxmLCBlbWl0RXZlbnQ6IGVtaXRFdmVudCB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIENvbnRyb2wucHJvdG90eXBlLl91cGRhdGVWYWx1ZSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBDb250cm9sLnByb3RvdHlwZS5fYW55Q29udHJvbHNIYXZlU3RhdHVzID0gZnVuY3Rpb24gKHN0YXR1cykgeyByZXR1cm4gZmFsc2U7IH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBsaXN0ZW5lciBmb3IgY2hhbmdlIGV2ZW50cy5cbiAgICAgKi9cbiAgICBDb250cm9sLnByb3RvdHlwZS5yZWdpc3Rlck9uQ2hhbmdlID0gZnVuY3Rpb24gKGZuKSB7IHRoaXMuX29uQ2hhbmdlID0gZm47IH07XG4gICAgcmV0dXJuIENvbnRyb2w7XG59KEFic3RyYWN0Q29udHJvbCkpO1xuZXhwb3J0cy5Db250cm9sID0gQ29udHJvbDtcbi8qKlxuICogRGVmaW5lcyBhIHBhcnQgb2YgYSBmb3JtLCBvZiBmaXhlZCBsZW5ndGgsIHRoYXQgY2FuIGNvbnRhaW4gb3RoZXIgY29udHJvbHMuXG4gKlxuICogQSBgQ29udHJvbEdyb3VwYCBhZ2dyZWdhdGVzIHRoZSB2YWx1ZXMgb2YgZWFjaCB7QGxpbmsgQ29udHJvbH0gaW4gdGhlIGdyb3VwLlxuICogVGhlIHN0YXR1cyBvZiBhIGBDb250cm9sR3JvdXBgIGRlcGVuZHMgb24gdGhlIHN0YXR1cyBvZiBpdHMgY2hpbGRyZW4uXG4gKiBJZiBvbmUgb2YgdGhlIGNvbnRyb2xzIGluIGEgZ3JvdXAgaXMgaW52YWxpZCwgdGhlIGVudGlyZSBncm91cCBpcyBpbnZhbGlkLlxuICogU2ltaWxhcmx5LCBpZiBhIGNvbnRyb2wgY2hhbmdlcyBpdHMgdmFsdWUsIHRoZSBlbnRpcmUgZ3JvdXAgY2hhbmdlcyBhcyB3ZWxsLlxuICpcbiAqIGBDb250cm9sR3JvdXBgIGlzIG9uZSBvZiB0aGUgdGhyZWUgZnVuZGFtZW50YWwgYnVpbGRpbmcgYmxvY2tzIHVzZWQgdG8gZGVmaW5lIGZvcm1zIGluIEFuZ3VsYXIsXG4gKiBhbG9uZyB3aXRoIHtAbGluayBDb250cm9sfSBhbmQge0BsaW5rIENvbnRyb2xBcnJheX0uIHtAbGluayBDb250cm9sQXJyYXl9IGNhbiBhbHNvIGNvbnRhaW4gb3RoZXJcbiAqIGNvbnRyb2xzLCBidXQgaXMgb2YgdmFyaWFibGUgbGVuZ3RoLlxuICpcbiAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC8yM0RFU09wYk5uQnBCSFp0MUJSND9wPXByZXZpZXcpKVxuICovXG52YXIgQ29udHJvbEdyb3VwID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29udHJvbEdyb3VwLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbnRyb2xHcm91cChjb250cm9scywgb3B0aW9uYWxzLCB2YWxpZGF0b3IsIGFzeW5jVmFsaWRhdG9yKSB7XG4gICAgICAgIGlmIChvcHRpb25hbHMgPT09IHZvaWQgMCkgeyBvcHRpb25hbHMgPSBudWxsOyB9XG4gICAgICAgIGlmICh2YWxpZGF0b3IgPT09IHZvaWQgMCkgeyB2YWxpZGF0b3IgPSBudWxsOyB9XG4gICAgICAgIGlmIChhc3luY1ZhbGlkYXRvciA9PT0gdm9pZCAwKSB7IGFzeW5jVmFsaWRhdG9yID0gbnVsbDsgfVxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCB2YWxpZGF0b3IsIGFzeW5jVmFsaWRhdG9yKTtcbiAgICAgICAgdGhpcy5jb250cm9scyA9IGNvbnRyb2xzO1xuICAgICAgICB0aGlzLl9vcHRpb25hbHMgPSBsYW5nXzEuaXNQcmVzZW50KG9wdGlvbmFscykgPyBvcHRpb25hbHMgOiB7fTtcbiAgICAgICAgdGhpcy5faW5pdE9ic2VydmFibGVzKCk7XG4gICAgICAgIHRoaXMuX3NldFBhcmVudEZvckNvbnRyb2xzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7IG9ubHlTZWxmOiB0cnVlLCBlbWl0RXZlbnQ6IGZhbHNlIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBjb250cm9sIHRvIHRoaXMgZ3JvdXAuXG4gICAgICovXG4gICAgQ29udHJvbEdyb3VwLnByb3RvdHlwZS5hZGRDb250cm9sID0gZnVuY3Rpb24gKG5hbWUsIGNvbnRyb2wpIHtcbiAgICAgICAgdGhpcy5jb250cm9sc1tuYW1lXSA9IGNvbnRyb2w7XG4gICAgICAgIGNvbnRyb2wuc2V0UGFyZW50KHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgY29udHJvbCBmcm9tIHRoaXMgZ3JvdXAuXG4gICAgICovXG4gICAgQ29udHJvbEdyb3VwLnByb3RvdHlwZS5yZW1vdmVDb250cm9sID0gZnVuY3Rpb24gKG5hbWUpIHsgY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIuZGVsZXRlKHRoaXMuY29udHJvbHMsIG5hbWUpOyB9O1xuICAgIC8qKlxuICAgICAqIE1hcmsgdGhlIG5hbWVkIGNvbnRyb2wgYXMgbm9uLW9wdGlvbmFsLlxuICAgICAqL1xuICAgIENvbnRyb2xHcm91cC5wcm90b3R5cGUuaW5jbHVkZSA9IGZ1bmN0aW9uIChjb250cm9sTmFtZSkge1xuICAgICAgICBjb2xsZWN0aW9uXzEuU3RyaW5nTWFwV3JhcHBlci5zZXQodGhpcy5fb3B0aW9uYWxzLCBjb250cm9sTmFtZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWFyayB0aGUgbmFtZWQgY29udHJvbCBhcyBvcHRpb25hbC5cbiAgICAgKi9cbiAgICBDb250cm9sR3JvdXAucHJvdG90eXBlLmV4Y2x1ZGUgPSBmdW5jdGlvbiAoY29udHJvbE5hbWUpIHtcbiAgICAgICAgY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIuc2V0KHRoaXMuX29wdGlvbmFscywgY29udHJvbE5hbWUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayB3aGV0aGVyIHRoZXJlIGlzIGEgY29udHJvbCB3aXRoIHRoZSBnaXZlbiBuYW1lIGluIHRoZSBncm91cC5cbiAgICAgKi9cbiAgICBDb250cm9sR3JvdXAucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKGNvbnRyb2xOYW1lKSB7XG4gICAgICAgIHZhciBjID0gY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIuY29udGFpbnModGhpcy5jb250cm9scywgY29udHJvbE5hbWUpO1xuICAgICAgICByZXR1cm4gYyAmJiB0aGlzLl9pbmNsdWRlZChjb250cm9sTmFtZSk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgQ29udHJvbEdyb3VwLnByb3RvdHlwZS5fc2V0UGFyZW50Rm9yQ29udHJvbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGNvbGxlY3Rpb25fMS5TdHJpbmdNYXBXcmFwcGVyLmZvckVhY2godGhpcy5jb250cm9scywgZnVuY3Rpb24gKGNvbnRyb2wsIG5hbWUpIHsgY29udHJvbC5zZXRQYXJlbnQoX3RoaXMpOyB9KTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBDb250cm9sR3JvdXAucHJvdG90eXBlLl91cGRhdGVWYWx1ZSA9IGZ1bmN0aW9uICgpIHsgdGhpcy5fdmFsdWUgPSB0aGlzLl9yZWR1Y2VWYWx1ZSgpOyB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBDb250cm9sR3JvdXAucHJvdG90eXBlLl9hbnlDb250cm9sc0hhdmVTdGF0dXMgPSBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciByZXMgPSBmYWxzZTtcbiAgICAgICAgY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIuZm9yRWFjaCh0aGlzLmNvbnRyb2xzLCBmdW5jdGlvbiAoY29udHJvbCwgbmFtZSkge1xuICAgICAgICAgICAgcmVzID0gcmVzIHx8IChfdGhpcy5jb250YWlucyhuYW1lKSAmJiBjb250cm9sLnN0YXR1cyA9PSBzdGF0dXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBDb250cm9sR3JvdXAucHJvdG90eXBlLl9yZWR1Y2VWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZHVjZUNoaWxkcmVuKHt9LCBmdW5jdGlvbiAoYWNjLCBjb250cm9sLCBuYW1lKSB7XG4gICAgICAgICAgICBhY2NbbmFtZV0gPSBjb250cm9sLnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgQ29udHJvbEdyb3VwLnByb3RvdHlwZS5fcmVkdWNlQ2hpbGRyZW4gPSBmdW5jdGlvbiAoaW5pdFZhbHVlLCBmbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcmVzID0gaW5pdFZhbHVlO1xuICAgICAgICBjb2xsZWN0aW9uXzEuU3RyaW5nTWFwV3JhcHBlci5mb3JFYWNoKHRoaXMuY29udHJvbHMsIGZ1bmN0aW9uIChjb250cm9sLCBuYW1lKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX2luY2x1ZGVkKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmVzID0gZm4ocmVzLCBjb250cm9sLCBuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgQ29udHJvbEdyb3VwLnByb3RvdHlwZS5faW5jbHVkZWQgPSBmdW5jdGlvbiAoY29udHJvbE5hbWUpIHtcbiAgICAgICAgdmFyIGlzT3B0aW9uYWwgPSBjb2xsZWN0aW9uXzEuU3RyaW5nTWFwV3JhcHBlci5jb250YWlucyh0aGlzLl9vcHRpb25hbHMsIGNvbnRyb2xOYW1lKTtcbiAgICAgICAgcmV0dXJuICFpc09wdGlvbmFsIHx8IGNvbGxlY3Rpb25fMS5TdHJpbmdNYXBXcmFwcGVyLmdldCh0aGlzLl9vcHRpb25hbHMsIGNvbnRyb2xOYW1lKTtcbiAgICB9O1xuICAgIHJldHVybiBDb250cm9sR3JvdXA7XG59KEFic3RyYWN0Q29udHJvbCkpO1xuZXhwb3J0cy5Db250cm9sR3JvdXAgPSBDb250cm9sR3JvdXA7XG4vKipcbiAqIERlZmluZXMgYSBwYXJ0IG9mIGEgZm9ybSwgb2YgdmFyaWFibGUgbGVuZ3RoLCB0aGF0IGNhbiBjb250YWluIG90aGVyIGNvbnRyb2xzLlxuICpcbiAqIEEgYENvbnRyb2xBcnJheWAgYWdncmVnYXRlcyB0aGUgdmFsdWVzIG9mIGVhY2gge0BsaW5rIENvbnRyb2x9IGluIHRoZSBncm91cC5cbiAqIFRoZSBzdGF0dXMgb2YgYSBgQ29udHJvbEFycmF5YCBkZXBlbmRzIG9uIHRoZSBzdGF0dXMgb2YgaXRzIGNoaWxkcmVuLlxuICogSWYgb25lIG9mIHRoZSBjb250cm9scyBpbiBhIGdyb3VwIGlzIGludmFsaWQsIHRoZSBlbnRpcmUgYXJyYXkgaXMgaW52YWxpZC5cbiAqIFNpbWlsYXJseSwgaWYgYSBjb250cm9sIGNoYW5nZXMgaXRzIHZhbHVlLCB0aGUgZW50aXJlIGFycmF5IGNoYW5nZXMgYXMgd2VsbC5cbiAqXG4gKiBgQ29udHJvbEFycmF5YCBpcyBvbmUgb2YgdGhlIHRocmVlIGZ1bmRhbWVudGFsIGJ1aWxkaW5nIGJsb2NrcyB1c2VkIHRvIGRlZmluZSBmb3JtcyBpbiBBbmd1bGFyLFxuICogYWxvbmcgd2l0aCB7QGxpbmsgQ29udHJvbH0gYW5kIHtAbGluayBDb250cm9sR3JvdXB9LiB7QGxpbmsgQ29udHJvbEdyb3VwfSBjYW4gYWxzbyBjb250YWluXG4gKiBvdGhlciBjb250cm9scywgYnV0IGlzIG9mIGZpeGVkIGxlbmd0aC5cbiAqXG4gKiAjIyBBZGRpbmcgb3IgcmVtb3ZpbmcgY29udHJvbHNcbiAqXG4gKiBUbyBjaGFuZ2UgdGhlIGNvbnRyb2xzIGluIHRoZSBhcnJheSwgdXNlIHRoZSBgcHVzaGAsIGBpbnNlcnRgLCBvciBgcmVtb3ZlQXRgIG1ldGhvZHNcbiAqIGluIGBDb250cm9sQXJyYXlgIGl0c2VsZi4gVGhlc2UgbWV0aG9kcyBlbnN1cmUgdGhlIGNvbnRyb2xzIGFyZSBwcm9wZXJseSB0cmFja2VkIGluIHRoZVxuICogZm9ybSdzIGhpZXJhcmNoeS4gRG8gbm90IG1vZGlmeSB0aGUgYXJyYXkgb2YgYEFic3RyYWN0Q29udHJvbGBzIHVzZWQgdG8gaW5zdGFudGlhdGVcbiAqIHRoZSBgQ29udHJvbEFycmF5YCBkaXJlY3RseSwgYXMgdGhhdCB3aWxsIHJlc3VsdCBpbiBzdHJhbmdlIGFuZCB1bmV4cGVjdGVkIGJlaGF2aW9yIHN1Y2hcbiAqIGFzIGJyb2tlbiBjaGFuZ2UgZGV0ZWN0aW9uLlxuICpcbiAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC8yM0RFU09wYk5uQnBCSFp0MUJSND9wPXByZXZpZXcpKVxuICovXG52YXIgQ29udHJvbEFycmF5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29udHJvbEFycmF5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbnRyb2xBcnJheShjb250cm9scywgdmFsaWRhdG9yLCBhc3luY1ZhbGlkYXRvcikge1xuICAgICAgICBpZiAodmFsaWRhdG9yID09PSB2b2lkIDApIHsgdmFsaWRhdG9yID0gbnVsbDsgfVxuICAgICAgICBpZiAoYXN5bmNWYWxpZGF0b3IgPT09IHZvaWQgMCkgeyBhc3luY1ZhbGlkYXRvciA9IG51bGw7IH1cbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgdmFsaWRhdG9yLCBhc3luY1ZhbGlkYXRvcik7XG4gICAgICAgIHRoaXMuY29udHJvbHMgPSBjb250cm9scztcbiAgICAgICAgdGhpcy5faW5pdE9ic2VydmFibGVzKCk7XG4gICAgICAgIHRoaXMuX3NldFBhcmVudEZvckNvbnRyb2xzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlVmFsdWVBbmRWYWxpZGl0eSh7IG9ubHlTZWxmOiB0cnVlLCBlbWl0RXZlbnQ6IGZhbHNlIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHtAbGluayBBYnN0cmFjdENvbnRyb2x9IGF0IHRoZSBnaXZlbiBgaW5kZXhgIGluIHRoZSBhcnJheS5cbiAgICAgKi9cbiAgICBDb250cm9sQXJyYXkucHJvdG90eXBlLmF0ID0gZnVuY3Rpb24gKGluZGV4KSB7IHJldHVybiB0aGlzLmNvbnRyb2xzW2luZGV4XTsgfTtcbiAgICAvKipcbiAgICAgKiBJbnNlcnQgYSBuZXcge0BsaW5rIEFic3RyYWN0Q29udHJvbH0gYXQgdGhlIGVuZCBvZiB0aGUgYXJyYXkuXG4gICAgICovXG4gICAgQ29udHJvbEFycmF5LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNvbnRyb2wpIHtcbiAgICAgICAgdGhpcy5jb250cm9scy5wdXNoKGNvbnRyb2wpO1xuICAgICAgICBjb250cm9sLnNldFBhcmVudCh0aGlzKTtcbiAgICAgICAgdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnNlcnQgYSBuZXcge0BsaW5rIEFic3RyYWN0Q29udHJvbH0gYXQgdGhlIGdpdmVuIGBpbmRleGAgaW4gdGhlIGFycmF5LlxuICAgICAqL1xuICAgIENvbnRyb2xBcnJheS5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKGluZGV4LCBjb250cm9sKSB7XG4gICAgICAgIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5pbnNlcnQodGhpcy5jb250cm9scywgaW5kZXgsIGNvbnRyb2wpO1xuICAgICAgICBjb250cm9sLnNldFBhcmVudCh0aGlzKTtcbiAgICAgICAgdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGNvbnRyb2wgYXQgdGhlIGdpdmVuIGBpbmRleGAgaW4gdGhlIGFycmF5LlxuICAgICAqL1xuICAgIENvbnRyb2xBcnJheS5wcm90b3R5cGUucmVtb3ZlQXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLnJlbW92ZUF0KHRoaXMuY29udHJvbHMsIGluZGV4KTtcbiAgICAgICAgdGhpcy51cGRhdGVWYWx1ZUFuZFZhbGlkaXR5KCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29udHJvbEFycmF5LnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogTGVuZ3RoIG9mIHRoZSBjb250cm9sIGFycmF5LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmNvbnRyb2xzLmxlbmd0aDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIENvbnRyb2xBcnJheS5wcm90b3R5cGUuX3VwZGF0ZVZhbHVlID0gZnVuY3Rpb24gKCkgeyB0aGlzLl92YWx1ZSA9IHRoaXMuY29udHJvbHMubWFwKGZ1bmN0aW9uIChjb250cm9sKSB7IHJldHVybiBjb250cm9sLnZhbHVlOyB9KTsgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgQ29udHJvbEFycmF5LnByb3RvdHlwZS5fYW55Q29udHJvbHNIYXZlU3RhdHVzID0gZnVuY3Rpb24gKHN0YXR1cykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9scy5zb21lKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnN0YXR1cyA9PSBzdGF0dXM7IH0pO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIENvbnRyb2xBcnJheS5wcm90b3R5cGUuX3NldFBhcmVudEZvckNvbnRyb2xzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNvbnRyb2xzLmZvckVhY2goZnVuY3Rpb24gKGNvbnRyb2wpIHsgY29udHJvbC5zZXRQYXJlbnQoX3RoaXMpOyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBDb250cm9sQXJyYXk7XG59KEFic3RyYWN0Q29udHJvbCkpO1xuZXhwb3J0cy5Db250cm9sQXJyYXkgPSBDb250cm9sQXJyYXk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2RlbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgcHJvbWlzZV8xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9wcm9taXNlJyk7XG52YXIgYXN5bmNfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvYXN5bmMnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbi8qKlxuICogUHJvdmlkZXJzIGZvciB2YWxpZGF0b3JzIHRvIGJlIHVzZWQgZm9yIHtAbGluayBDb250cm9sfXMgaW4gYSBmb3JtLlxuICpcbiAqIFByb3ZpZGUgdGhpcyB1c2luZyBgbXVsdGk6IHRydWVgIHRvIGFkZCB2YWxpZGF0b3JzLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICoge0BleGFtcGxlIGNvcmUvZm9ybXMvdHMvbmdfdmFsaWRhdG9ycy9uZ192YWxpZGF0b3JzLnRzIHJlZ2lvbj0nbmdfdmFsaWRhdG9ycyd9XG4gKi9cbmV4cG9ydHMuTkdfVkFMSURBVE9SUyA9IG5ldyBjb3JlXzEuT3BhcXVlVG9rZW4oXCJOZ1ZhbGlkYXRvcnNcIik7XG4vKipcbiAqIFByb3ZpZGVycyBmb3IgYXN5bmNocm9ub3VzIHZhbGlkYXRvcnMgdG8gYmUgdXNlZCBmb3Ige0BsaW5rIENvbnRyb2x9c1xuICogaW4gYSBmb3JtLlxuICpcbiAqIFByb3ZpZGUgdGhpcyB1c2luZyBgbXVsdGk6IHRydWVgIHRvIGFkZCB2YWxpZGF0b3JzLlxuICpcbiAqIFNlZSB7QGxpbmsgTkdfVkFMSURBVE9SU30gZm9yIG1vcmUgZGV0YWlscy5cbiAqL1xuZXhwb3J0cy5OR19BU1lOQ19WQUxJREFUT1JTID0gXG4vKkB0czJkYXJ0X2NvbnN0Ki8gbmV3IGNvcmVfMS5PcGFxdWVUb2tlbihcIk5nQXN5bmNWYWxpZGF0b3JzXCIpO1xuLyoqXG4gKiBQcm92aWRlcyBhIHNldCBvZiB2YWxpZGF0b3JzIHVzZWQgYnkgZm9ybSBjb250cm9scy5cbiAqXG4gKiBBIHZhbGlkYXRvciBpcyBhIGZ1bmN0aW9uIHRoYXQgcHJvY2Vzc2VzIGEge0BsaW5rIENvbnRyb2x9IG9yIGNvbGxlY3Rpb24gb2ZcbiAqIGNvbnRyb2xzIGFuZCByZXR1cm5zIGEgbWFwIG9mIGVycm9ycy4gQSBudWxsIG1hcCBtZWFucyB0aGF0IHZhbGlkYXRpb24gaGFzIHBhc3NlZC5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIHZhciBsb2dpbkNvbnRyb2wgPSBuZXcgQ29udHJvbChcIlwiLCBWYWxpZGF0b3JzLnJlcXVpcmVkKVxuICogYGBgXG4gKi9cbnZhciBWYWxpZGF0b3JzID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWYWxpZGF0b3JzKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0b3IgdGhhdCByZXF1aXJlcyBjb250cm9scyB0byBoYXZlIGEgbm9uLWVtcHR5IHZhbHVlLlxuICAgICAqL1xuICAgIFZhbGlkYXRvcnMucmVxdWlyZWQgPSBmdW5jdGlvbiAoY29udHJvbCkge1xuICAgICAgICByZXR1cm4gbGFuZ18xLmlzQmxhbmsoY29udHJvbC52YWx1ZSkgfHwgKGxhbmdfMS5pc1N0cmluZyhjb250cm9sLnZhbHVlKSAmJiBjb250cm9sLnZhbHVlID09IFwiXCIpID9cbiAgICAgICAgICAgIHsgXCJyZXF1aXJlZFwiOiB0cnVlIH0gOlxuICAgICAgICAgICAgbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFZhbGlkYXRvciB0aGF0IHJlcXVpcmVzIGNvbnRyb2xzIHRvIGhhdmUgYSB2YWx1ZSBvZiBhIG1pbmltdW0gbGVuZ3RoLlxuICAgICAqL1xuICAgIFZhbGlkYXRvcnMubWluTGVuZ3RoID0gZnVuY3Rpb24gKG1pbkxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGNvbnRyb2wpIHtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KFZhbGlkYXRvcnMucmVxdWlyZWQoY29udHJvbCkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgdmFyIHYgPSBjb250cm9sLnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHYubGVuZ3RoIDwgbWluTGVuZ3RoID9cbiAgICAgICAgICAgICAgICB7IFwibWlubGVuZ3RoXCI6IHsgXCJyZXF1aXJlZExlbmd0aFwiOiBtaW5MZW5ndGgsIFwiYWN0dWFsTGVuZ3RoXCI6IHYubGVuZ3RoIH0gfSA6XG4gICAgICAgICAgICAgICAgbnVsbDtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFZhbGlkYXRvciB0aGF0IHJlcXVpcmVzIGNvbnRyb2xzIHRvIGhhdmUgYSB2YWx1ZSBvZiBhIG1heGltdW0gbGVuZ3RoLlxuICAgICAqL1xuICAgIFZhbGlkYXRvcnMubWF4TGVuZ3RoID0gZnVuY3Rpb24gKG1heExlbmd0aCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGNvbnRyb2wpIHtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KFZhbGlkYXRvcnMucmVxdWlyZWQoY29udHJvbCkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgdmFyIHYgPSBjb250cm9sLnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHYubGVuZ3RoID4gbWF4TGVuZ3RoID9cbiAgICAgICAgICAgICAgICB7IFwibWF4bGVuZ3RoXCI6IHsgXCJyZXF1aXJlZExlbmd0aFwiOiBtYXhMZW5ndGgsIFwiYWN0dWFsTGVuZ3RoXCI6IHYubGVuZ3RoIH0gfSA6XG4gICAgICAgICAgICAgICAgbnVsbDtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFZhbGlkYXRvciB0aGF0IHJlcXVpcmVzIGEgY29udHJvbCB0byBtYXRjaCBhIHJlZ2V4IHRvIGl0cyB2YWx1ZS5cbiAgICAgKi9cbiAgICBWYWxpZGF0b3JzLnBhdHRlcm4gPSBmdW5jdGlvbiAocGF0dGVybikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGNvbnRyb2wpIHtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KFZhbGlkYXRvcnMucmVxdWlyZWQoY29udHJvbCkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChcIl5cIiArIHBhdHRlcm4gKyBcIiRcIik7XG4gICAgICAgICAgICB2YXIgdiA9IGNvbnRyb2wudmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gcmVnZXgudGVzdCh2KSA/IG51bGwgOlxuICAgICAgICAgICAgICAgIHsgXCJwYXR0ZXJuXCI6IHsgXCJyZXF1aXJlZFBhdHRlcm5cIjogXCJeXCIgKyBwYXR0ZXJuICsgXCIkXCIsIFwiYWN0dWFsVmFsdWVcIjogdiB9IH07XG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOby1vcCB2YWxpZGF0b3IuXG4gICAgICovXG4gICAgVmFsaWRhdG9ycy5udWxsVmFsaWRhdG9yID0gZnVuY3Rpb24gKGMpIHsgcmV0dXJuIG51bGw7IH07XG4gICAgLyoqXG4gICAgICogQ29tcG9zZSBtdWx0aXBsZSB2YWxpZGF0b3JzIGludG8gYSBzaW5nbGUgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB1bmlvblxuICAgICAqIG9mIHRoZSBpbmRpdmlkdWFsIGVycm9yIG1hcHMuXG4gICAgICovXG4gICAgVmFsaWRhdG9ycy5jb21wb3NlID0gZnVuY3Rpb24gKHZhbGlkYXRvcnMpIHtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHZhbGlkYXRvcnMpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBwcmVzZW50VmFsaWRhdG9ycyA9IHZhbGlkYXRvcnMuZmlsdGVyKGxhbmdfMS5pc1ByZXNlbnQpO1xuICAgICAgICBpZiAocHJlc2VudFZhbGlkYXRvcnMubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjb250cm9sKSB7XG4gICAgICAgICAgICByZXR1cm4gX21lcmdlRXJyb3JzKF9leGVjdXRlVmFsaWRhdG9ycyhjb250cm9sLCBwcmVzZW50VmFsaWRhdG9ycykpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgVmFsaWRhdG9ycy5jb21wb3NlQXN5bmMgPSBmdW5jdGlvbiAodmFsaWRhdG9ycykge1xuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsodmFsaWRhdG9ycykpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgdmFyIHByZXNlbnRWYWxpZGF0b3JzID0gdmFsaWRhdG9ycy5maWx0ZXIobGFuZ18xLmlzUHJlc2VudCk7XG4gICAgICAgIGlmIChwcmVzZW50VmFsaWRhdG9ycy5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGNvbnRyb2wpIHtcbiAgICAgICAgICAgIHZhciBwcm9taXNlcyA9IF9leGVjdXRlQXN5bmNWYWxpZGF0b3JzKGNvbnRyb2wsIHByZXNlbnRWYWxpZGF0b3JzKS5tYXAoX2NvbnZlcnRUb1Byb21pc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VfMS5Qcm9taXNlV3JhcHBlci5hbGwocHJvbWlzZXMpLnRoZW4oX21lcmdlRXJyb3JzKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBWYWxpZGF0b3JzO1xufSgpKTtcbmV4cG9ydHMuVmFsaWRhdG9ycyA9IFZhbGlkYXRvcnM7XG5mdW5jdGlvbiBfY29udmVydFRvUHJvbWlzZShvYmopIHtcbiAgICByZXR1cm4gcHJvbWlzZV8xLlByb21pc2VXcmFwcGVyLmlzUHJvbWlzZShvYmopID8gb2JqIDogYXN5bmNfMS5PYnNlcnZhYmxlV3JhcHBlci50b1Byb21pc2Uob2JqKTtcbn1cbmZ1bmN0aW9uIF9leGVjdXRlVmFsaWRhdG9ycyhjb250cm9sLCB2YWxpZGF0b3JzKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRvcnMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2KGNvbnRyb2wpOyB9KTtcbn1cbmZ1bmN0aW9uIF9leGVjdXRlQXN5bmNWYWxpZGF0b3JzKGNvbnRyb2wsIHZhbGlkYXRvcnMpIHtcbiAgICByZXR1cm4gdmFsaWRhdG9ycy5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHYoY29udHJvbCk7IH0pO1xufVxuZnVuY3Rpb24gX21lcmdlRXJyb3JzKGFycmF5T2ZFcnJvcnMpIHtcbiAgICB2YXIgcmVzID0gYXJyYXlPZkVycm9ycy5yZWR1Y2UoZnVuY3Rpb24gKHJlcywgZXJyb3JzKSB7XG4gICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KGVycm9ycykgPyBjb2xsZWN0aW9uXzEuU3RyaW5nTWFwV3JhcHBlci5tZXJnZShyZXMsIGVycm9ycykgOiByZXM7XG4gICAgfSwge30pO1xuICAgIHJldHVybiBjb2xsZWN0aW9uXzEuU3RyaW5nTWFwV3JhcHBlci5pc0VtcHR5KHJlcykgPyBudWxsIDogcmVzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsaWRhdG9ycy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5fX2V4cG9ydChyZXF1aXJlKCcuL2xvY2F0aW9uL3BsYXRmb3JtX2xvY2F0aW9uJykpO1xuX19leHBvcnQocmVxdWlyZSgnLi9sb2NhdGlvbi9sb2NhdGlvbl9zdHJhdGVneScpKTtcbl9fZXhwb3J0KHJlcXVpcmUoJy4vbG9jYXRpb24vaGFzaF9sb2NhdGlvbl9zdHJhdGVneScpKTtcbl9fZXhwb3J0KHJlcXVpcmUoJy4vbG9jYXRpb24vcGF0aF9sb2NhdGlvbl9zdHJhdGVneScpKTtcbl9fZXhwb3J0KHJlcXVpcmUoJy4vbG9jYXRpb24vbG9jYXRpb24nKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2NhdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBsb2NhdGlvbl9zdHJhdGVneV8xID0gcmVxdWlyZSgnLi9sb2NhdGlvbl9zdHJhdGVneScpO1xudmFyIGxvY2F0aW9uXzEgPSByZXF1aXJlKCcuL2xvY2F0aW9uJyk7XG52YXIgcGxhdGZvcm1fbG9jYXRpb25fMSA9IHJlcXVpcmUoJy4vcGxhdGZvcm1fbG9jYXRpb24nKTtcbnZhciBIYXNoTG9jYXRpb25TdHJhdGVneSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEhhc2hMb2NhdGlvblN0cmF0ZWd5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEhhc2hMb2NhdGlvblN0cmF0ZWd5KF9wbGF0Zm9ybUxvY2F0aW9uLCBfYmFzZUhyZWYpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX3BsYXRmb3JtTG9jYXRpb24gPSBfcGxhdGZvcm1Mb2NhdGlvbjtcbiAgICAgICAgdGhpcy5fYmFzZUhyZWYgPSAnJztcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoX2Jhc2VIcmVmKSkge1xuICAgICAgICAgICAgdGhpcy5fYmFzZUhyZWYgPSBfYmFzZUhyZWY7XG4gICAgICAgIH1cbiAgICB9XG4gICAgSGFzaExvY2F0aW9uU3RyYXRlZ3kucHJvdG90eXBlLm9uUG9wU3RhdGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5vblBvcFN0YXRlKGZuKTtcbiAgICAgICAgdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5vbkhhc2hDaGFuZ2UoZm4pO1xuICAgIH07XG4gICAgSGFzaExvY2F0aW9uU3RyYXRlZ3kucHJvdG90eXBlLmdldEJhc2VIcmVmID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fYmFzZUhyZWY7IH07XG4gICAgSGFzaExvY2F0aW9uU3RyYXRlZ3kucHJvdG90eXBlLnBhdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHRoZSBoYXNoIHZhbHVlIGlzIGFsd2F5cyBwcmVmaXhlZCB3aXRoIGEgYCNgXG4gICAgICAgIC8vIGFuZCBpZiBpdCBpcyBlbXB0eSB0aGVuIGl0IHdpbGwgc3RheSBlbXB0eVxuICAgICAgICB2YXIgcGF0aCA9IHRoaXMuX3BsYXRmb3JtTG9jYXRpb24uaGFzaDtcbiAgICAgICAgaWYgKCFsYW5nXzEuaXNQcmVzZW50KHBhdGgpKVxuICAgICAgICAgICAgcGF0aCA9ICcjJztcbiAgICAgICAgLy8gRGFydCB3aWxsIGNvbXBsYWluIGlmIGEgY2FsbCB0byBzdWJzdHJpbmcgaXNcbiAgICAgICAgLy8gZXhlY3V0ZWQgd2l0aCBhIHBvc2l0aW9uIHZhbHVlIHRoYXQgZXh0ZW5kcyB0aGVcbiAgICAgICAgLy8gbGVuZ3RoIG9mIHN0cmluZy5cbiAgICAgICAgcmV0dXJuIChwYXRoLmxlbmd0aCA+IDAgPyBwYXRoLnN1YnN0cmluZygxKSA6IHBhdGgpO1xuICAgIH07XG4gICAgSGFzaExvY2F0aW9uU3RyYXRlZ3kucHJvdG90eXBlLnByZXBhcmVFeHRlcm5hbFVybCA9IGZ1bmN0aW9uIChpbnRlcm5hbCkge1xuICAgICAgICB2YXIgdXJsID0gbG9jYXRpb25fMS5Mb2NhdGlvbi5qb2luV2l0aFNsYXNoKHRoaXMuX2Jhc2VIcmVmLCBpbnRlcm5hbCk7XG4gICAgICAgIHJldHVybiB1cmwubGVuZ3RoID4gMCA/ICgnIycgKyB1cmwpIDogdXJsO1xuICAgIH07XG4gICAgSGFzaExvY2F0aW9uU3RyYXRlZ3kucHJvdG90eXBlLnB1c2hTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgdGl0bGUsIHBhdGgsIHF1ZXJ5UGFyYW1zKSB7XG4gICAgICAgIHZhciB1cmwgPSB0aGlzLnByZXBhcmVFeHRlcm5hbFVybChwYXRoICsgbG9jYXRpb25fMS5Mb2NhdGlvbi5ub3JtYWxpemVRdWVyeVBhcmFtcyhxdWVyeVBhcmFtcykpO1xuICAgICAgICBpZiAodXJsLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB1cmwgPSB0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnBhdGhuYW1lO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3BsYXRmb3JtTG9jYXRpb24ucHVzaFN0YXRlKHN0YXRlLCB0aXRsZSwgdXJsKTtcbiAgICB9O1xuICAgIEhhc2hMb2NhdGlvblN0cmF0ZWd5LnByb3RvdHlwZS5yZXBsYWNlU3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUsIHRpdGxlLCBwYXRoLCBxdWVyeVBhcmFtcykge1xuICAgICAgICB2YXIgdXJsID0gdGhpcy5wcmVwYXJlRXh0ZXJuYWxVcmwocGF0aCArIGxvY2F0aW9uXzEuTG9jYXRpb24ubm9ybWFsaXplUXVlcnlQYXJhbXMocXVlcnlQYXJhbXMpKTtcbiAgICAgICAgaWYgKHVybC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdXJsID0gdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5wYXRobmFtZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLnJlcGxhY2VTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCk7XG4gICAgfTtcbiAgICBIYXNoTG9jYXRpb25TdHJhdGVneS5wcm90b3R5cGUuZm9yd2FyZCA9IGZ1bmN0aW9uICgpIHsgdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5mb3J3YXJkKCk7IH07XG4gICAgSGFzaExvY2F0aW9uU3RyYXRlZ3kucHJvdG90eXBlLmJhY2sgPSBmdW5jdGlvbiAoKSB7IHRoaXMuX3BsYXRmb3JtTG9jYXRpb24uYmFjaygpOyB9O1xuICAgIEhhc2hMb2NhdGlvblN0cmF0ZWd5LmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIEhhc2hMb2NhdGlvblN0cmF0ZWd5LmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IHBsYXRmb3JtX2xvY2F0aW9uXzEuUGxhdGZvcm1Mb2NhdGlvbiwgfSxcbiAgICAgICAgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7IHR5cGU6IGNvcmVfMS5PcHRpb25hbCB9LCB7IHR5cGU6IGNvcmVfMS5JbmplY3QsIGFyZ3M6IFtsb2NhdGlvbl9zdHJhdGVneV8xLkFQUF9CQVNFX0hSRUYsXSB9LF0gfSxcbiAgICBdO1xuICAgIHJldHVybiBIYXNoTG9jYXRpb25TdHJhdGVneTtcbn0obG9jYXRpb25fc3RyYXRlZ3lfMS5Mb2NhdGlvblN0cmF0ZWd5KSk7XG5leHBvcnRzLkhhc2hMb2NhdGlvblN0cmF0ZWd5ID0gSGFzaExvY2F0aW9uU3RyYXRlZ3k7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oYXNoX2xvY2F0aW9uX3N0cmF0ZWd5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBhc3luY18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9hc3luYycpO1xudmFyIGxvY2F0aW9uX3N0cmF0ZWd5XzEgPSByZXF1aXJlKCcuL2xvY2F0aW9uX3N0cmF0ZWd5Jyk7XG52YXIgTG9jYXRpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExvY2F0aW9uKHBsYXRmb3JtU3RyYXRlZ3kpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5wbGF0Zm9ybVN0cmF0ZWd5ID0gcGxhdGZvcm1TdHJhdGVneTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9zdWJqZWN0ID0gbmV3IGFzeW5jXzEuRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHZhciBicm93c2VyQmFzZUhyZWYgPSB0aGlzLnBsYXRmb3JtU3RyYXRlZ3kuZ2V0QmFzZUhyZWYoKTtcbiAgICAgICAgdGhpcy5fYmFzZUhyZWYgPSBMb2NhdGlvbi5zdHJpcFRyYWlsaW5nU2xhc2goX3N0cmlwSW5kZXhIdG1sKGJyb3dzZXJCYXNlSHJlZikpO1xuICAgICAgICB0aGlzLnBsYXRmb3JtU3RyYXRlZ3kub25Qb3BTdGF0ZShmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIGFzeW5jXzEuT2JzZXJ2YWJsZVdyYXBwZXIuY2FsbEVtaXQoX3RoaXMuX3N1YmplY3QsIHsgJ3VybCc6IF90aGlzLnBhdGgoKSwgJ3BvcCc6IHRydWUsICd0eXBlJzogZXYudHlwZSB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG5vcm1hbGl6ZWQgVVJMIHBhdGguXG4gICAgICovXG4gICAgTG9jYXRpb24ucHJvdG90eXBlLnBhdGggPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm5vcm1hbGl6ZSh0aGlzLnBsYXRmb3JtU3RyYXRlZ3kucGF0aCgpKTsgfTtcbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHN0cmluZyByZXByZXNlbnRpbmcgYSBVUkwsIHJldHVybnMgdGhlIG5vcm1hbGl6ZWQgVVJMIHBhdGggd2l0aG91dCBsZWFkaW5nIG9yXG4gICAgICogdHJhaWxpbmcgc2xhc2hlc1xuICAgICAqL1xuICAgIExvY2F0aW9uLnByb3RvdHlwZS5ub3JtYWxpemUgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHJldHVybiBMb2NhdGlvbi5zdHJpcFRyYWlsaW5nU2xhc2goX3N0cmlwQmFzZUhyZWYodGhpcy5fYmFzZUhyZWYsIF9zdHJpcEluZGV4SHRtbCh1cmwpKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHN0cmluZyByZXByZXNlbnRpbmcgYSBVUkwsIHJldHVybnMgdGhlIHBsYXRmb3JtLXNwZWNpZmljIGV4dGVybmFsIFVSTCBwYXRoLlxuICAgICAqIElmIHRoZSBnaXZlbiBVUkwgZG9lc24ndCBiZWdpbiB3aXRoIGEgbGVhZGluZyBzbGFzaCAoYCcvJ2ApLCB0aGlzIG1ldGhvZCBhZGRzIG9uZVxuICAgICAqIGJlZm9yZSBub3JtYWxpemluZy4gVGhpcyBtZXRob2Qgd2lsbCBhbHNvIGFkZCBhIGhhc2ggaWYgYEhhc2hMb2NhdGlvblN0cmF0ZWd5YCBpc1xuICAgICAqIHVzZWQsIG9yIHRoZSBgQVBQX0JBU0VfSFJFRmAgaWYgdGhlIGBQYXRoTG9jYXRpb25TdHJhdGVneWAgaXMgaW4gdXNlLlxuICAgICAqL1xuICAgIExvY2F0aW9uLnByb3RvdHlwZS5wcmVwYXJlRXh0ZXJuYWxVcmwgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIGlmICh1cmwubGVuZ3RoID4gMCAmJiAhdXJsLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgdXJsID0gJy8nICsgdXJsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnBsYXRmb3JtU3RyYXRlZ3kucHJlcGFyZUV4dGVybmFsVXJsKHVybCk7XG4gICAgfTtcbiAgICAvLyBUT0RPOiByZW5hbWUgdGhpcyBtZXRob2QgdG8gcHVzaFN0YXRlXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgYnJvd3NlcnMgVVJMIHRvIHRoZSBub3JtYWxpemVkIHZlcnNpb24gb2YgdGhlIGdpdmVuIFVSTCwgYW5kIHB1c2hlcyBhXG4gICAgICogbmV3IGl0ZW0gb250byB0aGUgcGxhdGZvcm0ncyBoaXN0b3J5LlxuICAgICAqL1xuICAgIExvY2F0aW9uLnByb3RvdHlwZS5nbyA9IGZ1bmN0aW9uIChwYXRoLCBxdWVyeSkge1xuICAgICAgICBpZiAocXVlcnkgPT09IHZvaWQgMCkgeyBxdWVyeSA9ICcnOyB9XG4gICAgICAgIHRoaXMucGxhdGZvcm1TdHJhdGVneS5wdXNoU3RhdGUobnVsbCwgJycsIHBhdGgsIHF1ZXJ5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGJyb3dzZXJzIFVSTCB0byB0aGUgbm9ybWFsaXplZCB2ZXJzaW9uIG9mIHRoZSBnaXZlbiBVUkwsIGFuZCByZXBsYWNlc1xuICAgICAqIHRoZSB0b3AgaXRlbSBvbiB0aGUgcGxhdGZvcm0ncyBoaXN0b3J5IHN0YWNrLlxuICAgICAqL1xuICAgIExvY2F0aW9uLnByb3RvdHlwZS5yZXBsYWNlU3RhdGUgPSBmdW5jdGlvbiAocGF0aCwgcXVlcnkpIHtcbiAgICAgICAgaWYgKHF1ZXJ5ID09PSB2b2lkIDApIHsgcXVlcnkgPSAnJzsgfVxuICAgICAgICB0aGlzLnBsYXRmb3JtU3RyYXRlZ3kucmVwbGFjZVN0YXRlKG51bGwsICcnLCBwYXRoLCBxdWVyeSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBOYXZpZ2F0ZXMgZm9yd2FyZCBpbiB0aGUgcGxhdGZvcm0ncyBoaXN0b3J5LlxuICAgICAqL1xuICAgIExvY2F0aW9uLnByb3RvdHlwZS5mb3J3YXJkID0gZnVuY3Rpb24gKCkgeyB0aGlzLnBsYXRmb3JtU3RyYXRlZ3kuZm9yd2FyZCgpOyB9O1xuICAgIC8qKlxuICAgICAqIE5hdmlnYXRlcyBiYWNrIGluIHRoZSBwbGF0Zm9ybSdzIGhpc3RvcnkuXG4gICAgICovXG4gICAgTG9jYXRpb24ucHJvdG90eXBlLmJhY2sgPSBmdW5jdGlvbiAoKSB7IHRoaXMucGxhdGZvcm1TdHJhdGVneS5iYWNrKCk7IH07XG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlIHRvIHRoZSBwbGF0Zm9ybSdzIGBwb3BTdGF0ZWAgZXZlbnRzLlxuICAgICAqL1xuICAgIExvY2F0aW9uLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAob25OZXh0LCBvblRocm93LCBvblJldHVybikge1xuICAgICAgICBpZiAob25UaHJvdyA9PT0gdm9pZCAwKSB7IG9uVGhyb3cgPSBudWxsOyB9XG4gICAgICAgIGlmIChvblJldHVybiA9PT0gdm9pZCAwKSB7IG9uUmV0dXJuID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gYXN5bmNfMS5PYnNlcnZhYmxlV3JhcHBlci5zdWJzY3JpYmUodGhpcy5fc3ViamVjdCwgb25OZXh0LCBvblRocm93LCBvblJldHVybik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHN0cmluZyBvZiB1cmwgcGFyYW1ldGVycywgcHJlcGVuZCB3aXRoICc/JyBpZiBuZWVkZWQsIG90aGVyd2lzZSByZXR1cm4gcGFyYW1ldGVycyBhc1xuICAgICAqIGlzLlxuICAgICAqL1xuICAgIExvY2F0aW9uLm5vcm1hbGl6ZVF1ZXJ5UGFyYW1zID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICByZXR1cm4gKHBhcmFtcy5sZW5ndGggPiAwICYmIHBhcmFtcy5zdWJzdHJpbmcoMCwgMSkgIT0gJz8nKSA/ICgnPycgKyBwYXJhbXMpIDogcGFyYW1zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2l2ZW4gMiBwYXJ0cyBvZiBhIHVybCwgam9pbiB0aGVtIHdpdGggYSBzbGFzaCBpZiBuZWVkZWQuXG4gICAgICovXG4gICAgTG9jYXRpb24uam9pbldpdGhTbGFzaCA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7XG4gICAgICAgIGlmIChzdGFydC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGVuZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5kLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNsYXNoZXMgPSAwO1xuICAgICAgICBpZiAoc3RhcnQuZW5kc1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgc2xhc2hlcysrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmQuc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICBzbGFzaGVzKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNsYXNoZXMgPT0gMikge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXJ0ICsgZW5kLnN1YnN0cmluZygxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2xhc2hlcyA9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhcnQgKyBlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXJ0ICsgJy8nICsgZW5kO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSWYgdXJsIGhhcyBhIHRyYWlsaW5nIHNsYXNoLCByZW1vdmUgaXQsIG90aGVyd2lzZSByZXR1cm4gdXJsIGFzIGlzLlxuICAgICAqL1xuICAgIExvY2F0aW9uLnN0cmlwVHJhaWxpbmdTbGFzaCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgaWYgKC9cXC8kL2cudGVzdCh1cmwpKSB7XG4gICAgICAgICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKDAsIHVybC5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH07XG4gICAgTG9jYXRpb24uZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuSW5qZWN0YWJsZSB9LFxuICAgIF07XG4gICAgTG9jYXRpb24uY3RvclBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHsgdHlwZTogbG9jYXRpb25fc3RyYXRlZ3lfMS5Mb2NhdGlvblN0cmF0ZWd5LCB9LFxuICAgIF07XG4gICAgcmV0dXJuIExvY2F0aW9uO1xufSgpKTtcbmV4cG9ydHMuTG9jYXRpb24gPSBMb2NhdGlvbjtcbmZ1bmN0aW9uIF9zdHJpcEJhc2VIcmVmKGJhc2VIcmVmLCB1cmwpIHtcbiAgICBpZiAoYmFzZUhyZWYubGVuZ3RoID4gMCAmJiB1cmwuc3RhcnRzV2l0aChiYXNlSHJlZikpIHtcbiAgICAgICAgcmV0dXJuIHVybC5zdWJzdHJpbmcoYmFzZUhyZWYubGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbn1cbmZ1bmN0aW9uIF9zdHJpcEluZGV4SHRtbCh1cmwpIHtcbiAgICBpZiAoL1xcL2luZGV4Lmh0bWwkL2cudGVzdCh1cmwpKSB7XG4gICAgICAgIC8vICcvaW5kZXguaHRtbCcubGVuZ3RoID09IDExXG4gICAgICAgIHJldHVybiB1cmwuc3Vic3RyaW5nKDAsIHVybC5sZW5ndGggLSAxMSk7XG4gICAgfVxuICAgIHJldHVybiB1cmw7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2NhdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG4vKipcbiAqIGBMb2NhdGlvblN0cmF0ZWd5YCBpcyByZXNwb25zaWJsZSBmb3IgcmVwcmVzZW50aW5nIGFuZCByZWFkaW5nIHJvdXRlIHN0YXRlXG4gKiBmcm9tIHRoZSBicm93c2VyJ3MgVVJMLiBBbmd1bGFyIHByb3ZpZGVzIHR3byBzdHJhdGVnaWVzOlxuICoge0BsaW5rIEhhc2hMb2NhdGlvblN0cmF0ZWd5fSBhbmQge0BsaW5rIFBhdGhMb2NhdGlvblN0cmF0ZWd5fSAoZGVmYXVsdCkuXG4gKlxuICogVGhpcyBpcyB1c2VkIHVuZGVyIHRoZSBob29kIG9mIHRoZSB7QGxpbmsgTG9jYXRpb259IHNlcnZpY2UuXG4gKlxuICogQXBwbGljYXRpb25zIHNob3VsZCB1c2UgdGhlIHtAbGluayBSb3V0ZXJ9IG9yIHtAbGluayBMb2NhdGlvbn0gc2VydmljZXMgdG9cbiAqIGludGVyYWN0IHdpdGggYXBwbGljYXRpb24gcm91dGUgc3RhdGUuXG4gKlxuICogRm9yIGluc3RhbmNlLCB7QGxpbmsgSGFzaExvY2F0aW9uU3RyYXRlZ3l9IHByb2R1Y2VzIFVSTHMgbGlrZVxuICogYGh0dHA6Ly9leGFtcGxlLmNvbSMvZm9vYCwgYW5kIHtAbGluayBQYXRoTG9jYXRpb25TdHJhdGVneX0gcHJvZHVjZXNcbiAqIGBodHRwOi8vZXhhbXBsZS5jb20vZm9vYCBhcyBhbiBlcXVpdmFsZW50IFVSTC5cbiAqXG4gKiBTZWUgdGhlc2UgdHdvIGNsYXNzZXMgZm9yIG1vcmUuXG4gKi9cbnZhciBMb2NhdGlvblN0cmF0ZWd5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMb2NhdGlvblN0cmF0ZWd5KCkge1xuICAgIH1cbiAgICByZXR1cm4gTG9jYXRpb25TdHJhdGVneTtcbn0oKSk7XG5leHBvcnRzLkxvY2F0aW9uU3RyYXRlZ3kgPSBMb2NhdGlvblN0cmF0ZWd5O1xuLyoqXG4gKiBUaGUgYEFQUF9CQVNFX0hSRUZgIHRva2VuIHJlcHJlc2VudHMgdGhlIGJhc2UgaHJlZiB0byBiZSB1c2VkIHdpdGggdGhlXG4gKiB7QGxpbmsgUGF0aExvY2F0aW9uU3RyYXRlZ3l9LlxuICpcbiAqIElmIHlvdSdyZSB1c2luZyB7QGxpbmsgUGF0aExvY2F0aW9uU3RyYXRlZ3l9LCB5b3UgbXVzdCBwcm92aWRlIGEgcHJvdmlkZXIgdG8gYSBzdHJpbmdcbiAqIHJlcHJlc2VudGluZyB0aGUgVVJMIHByZWZpeCB0aGF0IHNob3VsZCBiZSBwcmVzZXJ2ZWQgd2hlbiBnZW5lcmF0aW5nIGFuZCByZWNvZ25pemluZ1xuICogVVJMcy5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYFxuICogaW1wb3J0IHtDb21wb25lbnR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuICogaW1wb3J0IHtST1VURVJfRElSRUNUSVZFUywgUk9VVEVSX1BST1ZJREVSUywgUm91dGVDb25maWd9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG4gKiBpbXBvcnQge0FQUF9CQVNFX0hSRUZ9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG4gKlxuICogQENvbXBvbmVudCh7ZGlyZWN0aXZlczogW1JPVVRFUl9ESVJFQ1RJVkVTXX0pXG4gKiBAUm91dGVDb25maWcoW1xuICogIHsuLi59LFxuICogXSlcbiAqIGNsYXNzIEFwcENtcCB7XG4gKiAgIC8vIC4uLlxuICogfVxuICpcbiAqIGJvb3RzdHJhcChBcHBDbXAsIFtcbiAqICAgUk9VVEVSX1BST1ZJREVSUyxcbiAqICAgcHJvdmlkZShBUFBfQkFTRV9IUkVGLCB7dXNlVmFsdWU6ICcvbXkvYXBwJ30pXG4gKiBdKTtcbiAqIGBgYFxuICovXG5leHBvcnRzLkFQUF9CQVNFX0hSRUYgPSBuZXcgY29yZV8xLk9wYXF1ZVRva2VuKCdhcHBCYXNlSHJlZicpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9jYXRpb25fc3RyYXRlZ3kuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG52YXIgcGxhdGZvcm1fbG9jYXRpb25fMSA9IHJlcXVpcmUoJy4vcGxhdGZvcm1fbG9jYXRpb24nKTtcbnZhciBsb2NhdGlvbl9zdHJhdGVneV8xID0gcmVxdWlyZSgnLi9sb2NhdGlvbl9zdHJhdGVneScpO1xudmFyIGxvY2F0aW9uXzEgPSByZXF1aXJlKCcuL2xvY2F0aW9uJyk7XG52YXIgUGF0aExvY2F0aW9uU3RyYXRlZ3kgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQYXRoTG9jYXRpb25TdHJhdGVneSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQYXRoTG9jYXRpb25TdHJhdGVneShfcGxhdGZvcm1Mb2NhdGlvbiwgaHJlZikge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbiA9IF9wbGF0Zm9ybUxvY2F0aW9uO1xuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsoaHJlZikpIHtcbiAgICAgICAgICAgIGhyZWYgPSB0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmdldEJhc2VIcmVmRnJvbURPTSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhocmVmKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiTm8gYmFzZSBocmVmIHNldC4gUGxlYXNlIHByb3ZpZGUgYSB2YWx1ZSBmb3IgdGhlIEFQUF9CQVNFX0hSRUYgdG9rZW4gb3IgYWRkIGEgYmFzZSBlbGVtZW50IHRvIHRoZSBkb2N1bWVudC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYmFzZUhyZWYgPSBocmVmO1xuICAgIH1cbiAgICBQYXRoTG9jYXRpb25TdHJhdGVneS5wcm90b3R5cGUub25Qb3BTdGF0ZSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLm9uUG9wU3RhdGUoZm4pO1xuICAgICAgICB0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLm9uSGFzaENoYW5nZShmbik7XG4gICAgfTtcbiAgICBQYXRoTG9jYXRpb25TdHJhdGVneS5wcm90b3R5cGUuZ2V0QmFzZUhyZWYgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9iYXNlSHJlZjsgfTtcbiAgICBQYXRoTG9jYXRpb25TdHJhdGVneS5wcm90b3R5cGUucHJlcGFyZUV4dGVybmFsVXJsID0gZnVuY3Rpb24gKGludGVybmFsKSB7XG4gICAgICAgIHJldHVybiBsb2NhdGlvbl8xLkxvY2F0aW9uLmpvaW5XaXRoU2xhc2godGhpcy5fYmFzZUhyZWYsIGludGVybmFsKTtcbiAgICB9O1xuICAgIFBhdGhMb2NhdGlvblN0cmF0ZWd5LnByb3RvdHlwZS5wYXRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5wYXRobmFtZSArXG4gICAgICAgICAgICBsb2NhdGlvbl8xLkxvY2F0aW9uLm5vcm1hbGl6ZVF1ZXJ5UGFyYW1zKHRoaXMuX3BsYXRmb3JtTG9jYXRpb24uc2VhcmNoKTtcbiAgICB9O1xuICAgIFBhdGhMb2NhdGlvblN0cmF0ZWd5LnByb3RvdHlwZS5wdXNoU3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUsIHRpdGxlLCB1cmwsIHF1ZXJ5UGFyYW1zKSB7XG4gICAgICAgIHZhciBleHRlcm5hbFVybCA9IHRoaXMucHJlcGFyZUV4dGVybmFsVXJsKHVybCArIGxvY2F0aW9uXzEuTG9jYXRpb24ubm9ybWFsaXplUXVlcnlQYXJhbXMocXVlcnlQYXJhbXMpKTtcbiAgICAgICAgdGhpcy5fcGxhdGZvcm1Mb2NhdGlvbi5wdXNoU3RhdGUoc3RhdGUsIHRpdGxlLCBleHRlcm5hbFVybCk7XG4gICAgfTtcbiAgICBQYXRoTG9jYXRpb25TdHJhdGVneS5wcm90b3R5cGUucmVwbGFjZVN0YXRlID0gZnVuY3Rpb24gKHN0YXRlLCB0aXRsZSwgdXJsLCBxdWVyeVBhcmFtcykge1xuICAgICAgICB2YXIgZXh0ZXJuYWxVcmwgPSB0aGlzLnByZXBhcmVFeHRlcm5hbFVybCh1cmwgKyBsb2NhdGlvbl8xLkxvY2F0aW9uLm5vcm1hbGl6ZVF1ZXJ5UGFyYW1zKHF1ZXJ5UGFyYW1zKSk7XG4gICAgICAgIHRoaXMuX3BsYXRmb3JtTG9jYXRpb24ucmVwbGFjZVN0YXRlKHN0YXRlLCB0aXRsZSwgZXh0ZXJuYWxVcmwpO1xuICAgIH07XG4gICAgUGF0aExvY2F0aW9uU3RyYXRlZ3kucHJvdG90eXBlLmZvcndhcmQgPSBmdW5jdGlvbiAoKSB7IHRoaXMuX3BsYXRmb3JtTG9jYXRpb24uZm9yd2FyZCgpOyB9O1xuICAgIFBhdGhMb2NhdGlvblN0cmF0ZWd5LnByb3RvdHlwZS5iYWNrID0gZnVuY3Rpb24gKCkgeyB0aGlzLl9wbGF0Zm9ybUxvY2F0aW9uLmJhY2soKTsgfTtcbiAgICBQYXRoTG9jYXRpb25TdHJhdGVneS5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICBQYXRoTG9jYXRpb25TdHJhdGVneS5jdG9yUGFyYW1ldGVycyA9IFtcbiAgICAgICAgeyB0eXBlOiBwbGF0Zm9ybV9sb2NhdGlvbl8xLlBsYXRmb3JtTG9jYXRpb24sIH0sXG4gICAgICAgIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbeyB0eXBlOiBjb3JlXzEuT3B0aW9uYWwgfSwgeyB0eXBlOiBjb3JlXzEuSW5qZWN0LCBhcmdzOiBbbG9jYXRpb25fc3RyYXRlZ3lfMS5BUFBfQkFTRV9IUkVGLF0gfSxdIH0sXG4gICAgXTtcbiAgICByZXR1cm4gUGF0aExvY2F0aW9uU3RyYXRlZ3k7XG59KGxvY2F0aW9uX3N0cmF0ZWd5XzEuTG9jYXRpb25TdHJhdGVneSkpO1xuZXhwb3J0cy5QYXRoTG9jYXRpb25TdHJhdGVneSA9IFBhdGhMb2NhdGlvblN0cmF0ZWd5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGF0aF9sb2NhdGlvbl9zdHJhdGVneS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuKiBUaGlzIGNsYXNzIHNob3VsZCBub3QgYmUgdXNlZCBkaXJlY3RseSBieSBhbiBhcHBsaWNhdGlvbiBkZXZlbG9wZXIuIEluc3RlYWQsIHVzZVxuKiB7QGxpbmsgTG9jYXRpb259LlxuKlxuKiBgUGxhdGZvcm1Mb2NhdGlvbmAgZW5jYXBzdWxhdGVzIGFsbCBjYWxscyB0byBET00gYXBpcywgd2hpY2ggYWxsb3dzIHRoZSBSb3V0ZXIgdG8gYmUgcGxhdGZvcm1cbiogYWdub3N0aWMuXG4qIFRoaXMgbWVhbnMgdGhhdCB3ZSBjYW4gaGF2ZSBkaWZmZXJlbnQgaW1wbGVtZW50YXRpb24gb2YgYFBsYXRmb3JtTG9jYXRpb25gIGZvciB0aGUgZGlmZmVyZW50XG4qIHBsYXRmb3Jtc1xuKiB0aGF0IGFuZ3VsYXIgc3VwcG9ydHMuIEZvciBleGFtcGxlLCB0aGUgZGVmYXVsdCBgUGxhdGZvcm1Mb2NhdGlvbmAgaXMge0BsaW5rXG4qIEJyb3dzZXJQbGF0Zm9ybUxvY2F0aW9ufSxcbiogaG93ZXZlciB3aGVuIHlvdSBydW4geW91ciBhcHAgaW4gYSBXZWJXb3JrZXIgeW91IHVzZSB7QGxpbmsgV2ViV29ya2VyUGxhdGZvcm1Mb2NhdGlvbn0uXG4qXG4qIFRoZSBgUGxhdGZvcm1Mb2NhdGlvbmAgY2xhc3MgaXMgdXNlZCBkaXJlY3RseSBieSBhbGwgaW1wbGVtZW50YXRpb25zIG9mIHtAbGluayBMb2NhdGlvblN0cmF0ZWd5fVxuKiB3aGVuXG4qIHRoZXkgbmVlZCB0byBpbnRlcmFjdCB3aXRoIHRoZSBET00gYXBpcyBsaWtlIHB1c2hTdGF0ZSwgcG9wU3RhdGUsIGV0Yy4uLlxuKlxuKiB7QGxpbmsgTG9jYXRpb25TdHJhdGVneX0gaW4gdHVybiBpcyB1c2VkIGJ5IHRoZSB7QGxpbmsgTG9jYXRpb259IHNlcnZpY2Ugd2hpY2ggaXMgdXNlZCBkaXJlY3RseVxuKiBieVxuKiB0aGUge0BsaW5rIFJvdXRlcn0gaW4gb3JkZXIgdG8gbmF2aWdhdGUgYmV0d2VlbiByb3V0ZXMuIFNpbmNlIGFsbCBpbnRlcmFjdGlvbnMgYmV0d2VlbiB7QGxpbmtcbiogUm91dGVyfSAvXG4qIHtAbGluayBMb2NhdGlvbn0gLyB7QGxpbmsgTG9jYXRpb25TdHJhdGVneX0gYW5kIERPTSBhcGlzIGZsb3cgdGhyb3VnaCB0aGUgYFBsYXRmb3JtTG9jYXRpb25gXG4qIGNsYXNzXG4qIHRoZXkgYXJlIGFsbCBwbGF0Zm9ybSBpbmRlcGVuZGVudC5cbiovXG52YXIgUGxhdGZvcm1Mb2NhdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGxhdGZvcm1Mb2NhdGlvbigpIHtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtTG9jYXRpb24ucHJvdG90eXBlLCBcInBhdGhuYW1lXCIsIHtcbiAgICAgICAgLyogYWJzdHJhY3QgKi8gZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGxhdGZvcm1Mb2NhdGlvbi5wcm90b3R5cGUsIFwic2VhcmNoXCIsIHtcbiAgICAgICAgLyogYWJzdHJhY3QgKi8gZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGxhdGZvcm1Mb2NhdGlvbi5wcm90b3R5cGUsIFwiaGFzaFwiLCB7XG4gICAgICAgIC8qIGFic3RyYWN0ICovIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFBsYXRmb3JtTG9jYXRpb247XG59KCkpO1xuZXhwb3J0cy5QbGF0Zm9ybUxvY2F0aW9uID0gUGxhdGZvcm1Mb2NhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBsYXRmb3JtX2xvY2F0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4qIEBtb2R1bGVcbiogQGRlc2NyaXB0aW9uXG4qIFRoaXMgbW9kdWxlIHByb3ZpZGVzIGEgc2V0IG9mIGNvbW1vbiBQaXBlcy5cbiovXG52YXIgYXN5bmNfcGlwZV8xID0gcmVxdWlyZSgnLi9waXBlcy9hc3luY19waXBlJyk7XG5leHBvcnRzLkFzeW5jUGlwZSA9IGFzeW5jX3BpcGVfMS5Bc3luY1BpcGU7XG52YXIgZGF0ZV9waXBlXzEgPSByZXF1aXJlKCcuL3BpcGVzL2RhdGVfcGlwZScpO1xuZXhwb3J0cy5EYXRlUGlwZSA9IGRhdGVfcGlwZV8xLkRhdGVQaXBlO1xudmFyIGpzb25fcGlwZV8xID0gcmVxdWlyZSgnLi9waXBlcy9qc29uX3BpcGUnKTtcbmV4cG9ydHMuSnNvblBpcGUgPSBqc29uX3BpcGVfMS5Kc29uUGlwZTtcbnZhciBzbGljZV9waXBlXzEgPSByZXF1aXJlKCcuL3BpcGVzL3NsaWNlX3BpcGUnKTtcbmV4cG9ydHMuU2xpY2VQaXBlID0gc2xpY2VfcGlwZV8xLlNsaWNlUGlwZTtcbnZhciBsb3dlcmNhc2VfcGlwZV8xID0gcmVxdWlyZSgnLi9waXBlcy9sb3dlcmNhc2VfcGlwZScpO1xuZXhwb3J0cy5Mb3dlckNhc2VQaXBlID0gbG93ZXJjYXNlX3BpcGVfMS5Mb3dlckNhc2VQaXBlO1xudmFyIG51bWJlcl9waXBlXzEgPSByZXF1aXJlKCcuL3BpcGVzL251bWJlcl9waXBlJyk7XG5leHBvcnRzLk51bWJlclBpcGUgPSBudW1iZXJfcGlwZV8xLk51bWJlclBpcGU7XG5leHBvcnRzLkRlY2ltYWxQaXBlID0gbnVtYmVyX3BpcGVfMS5EZWNpbWFsUGlwZTtcbmV4cG9ydHMuUGVyY2VudFBpcGUgPSBudW1iZXJfcGlwZV8xLlBlcmNlbnRQaXBlO1xuZXhwb3J0cy5DdXJyZW5jeVBpcGUgPSBudW1iZXJfcGlwZV8xLkN1cnJlbmN5UGlwZTtcbnZhciB1cHBlcmNhc2VfcGlwZV8xID0gcmVxdWlyZSgnLi9waXBlcy91cHBlcmNhc2VfcGlwZScpO1xuZXhwb3J0cy5VcHBlckNhc2VQaXBlID0gdXBwZXJjYXNlX3BpcGVfMS5VcHBlckNhc2VQaXBlO1xudmFyIHJlcGxhY2VfcGlwZV8xID0gcmVxdWlyZSgnLi9waXBlcy9yZXBsYWNlX3BpcGUnKTtcbmV4cG9ydHMuUmVwbGFjZVBpcGUgPSByZXBsYWNlX3BpcGVfMS5SZXBsYWNlUGlwZTtcbnZhciBpMThuX3BsdXJhbF9waXBlXzEgPSByZXF1aXJlKCcuL3BpcGVzL2kxOG5fcGx1cmFsX3BpcGUnKTtcbmV4cG9ydHMuSTE4blBsdXJhbFBpcGUgPSBpMThuX3BsdXJhbF9waXBlXzEuSTE4blBsdXJhbFBpcGU7XG52YXIgaTE4bl9zZWxlY3RfcGlwZV8xID0gcmVxdWlyZSgnLi9waXBlcy9pMThuX3NlbGVjdF9waXBlJyk7XG5leHBvcnRzLkkxOG5TZWxlY3RQaXBlID0gaTE4bl9zZWxlY3RfcGlwZV8xLkkxOG5TZWxlY3RQaXBlO1xudmFyIGNvbW1vbl9waXBlc18xID0gcmVxdWlyZSgnLi9waXBlcy9jb21tb25fcGlwZXMnKTtcbmV4cG9ydHMuQ09NTU9OX1BJUEVTID0gY29tbW9uX3BpcGVzXzEuQ09NTU9OX1BJUEVTO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwZXMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGFzeW5jXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2FzeW5jJyk7XG52YXIgaW52YWxpZF9waXBlX2FyZ3VtZW50X2V4Y2VwdGlvbl8xID0gcmVxdWlyZSgnLi9pbnZhbGlkX3BpcGVfYXJndW1lbnRfZXhjZXB0aW9uJyk7XG52YXIgT2JzZXJ2YWJsZVN0cmF0ZWd5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlU3RyYXRlZ3koKSB7XG4gICAgfVxuICAgIE9ic2VydmFibGVTdHJhdGVneS5wcm90b3R5cGUuY3JlYXRlU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gKGFzeW5jLCB1cGRhdGVMYXRlc3RWYWx1ZSkge1xuICAgICAgICByZXR1cm4gYXN5bmNfMS5PYnNlcnZhYmxlV3JhcHBlci5zdWJzY3JpYmUoYXN5bmMsIHVwZGF0ZUxhdGVzdFZhbHVlLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVTdHJhdGVneS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHsgYXN5bmNfMS5PYnNlcnZhYmxlV3JhcHBlci5kaXNwb3NlKHN1YnNjcmlwdGlvbik7IH07XG4gICAgT2JzZXJ2YWJsZVN0cmF0ZWd5LnByb3RvdHlwZS5vbkRlc3Ryb3kgPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7IGFzeW5jXzEuT2JzZXJ2YWJsZVdyYXBwZXIuZGlzcG9zZShzdWJzY3JpcHRpb24pOyB9O1xuICAgIHJldHVybiBPYnNlcnZhYmxlU3RyYXRlZ3k7XG59KCkpO1xudmFyIFByb21pc2VTdHJhdGVneSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHJvbWlzZVN0cmF0ZWd5KCkge1xuICAgIH1cbiAgICBQcm9taXNlU3RyYXRlZ3kucHJvdG90eXBlLmNyZWF0ZVN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChhc3luYywgdXBkYXRlTGF0ZXN0VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGFzeW5jLnRoZW4odXBkYXRlTGF0ZXN0VmFsdWUpO1xuICAgIH07XG4gICAgUHJvbWlzZVN0cmF0ZWd5LnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikgeyB9O1xuICAgIFByb21pc2VTdHJhdGVneS5wcm90b3R5cGUub25EZXN0cm95ID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikgeyB9O1xuICAgIHJldHVybiBQcm9taXNlU3RyYXRlZ3k7XG59KCkpO1xudmFyIF9wcm9taXNlU3RyYXRlZ3kgPSBuZXcgUHJvbWlzZVN0cmF0ZWd5KCk7XG52YXIgX29ic2VydmFibGVTdHJhdGVneSA9IG5ldyBPYnNlcnZhYmxlU3RyYXRlZ3koKTtcbnZhciBfX3VudXNlZDtcbnZhciBBc3luY1BpcGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFzeW5jUGlwZShfcmVmKSB7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbGF0ZXN0VmFsdWUgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX2xhdGVzdFJldHVybmVkVmFsdWUgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fb2JqID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3RyYXRlZ3kgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZWYgPSBfcmVmO1xuICAgIH1cbiAgICBBc3luY1BpcGUucHJvdG90eXBlLm5nT25EZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLl9zdWJzY3JpcHRpb24pKSB7XG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jUGlwZS5wcm90b3R5cGUudHJhbnNmb3JtID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsodGhpcy5fb2JqKSkge1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQob2JqKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZShvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbGF0ZXN0UmV0dXJuZWRWYWx1ZSA9IHRoaXMuX2xhdGVzdFZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xhdGVzdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmogIT09IHRoaXMuX29iaikge1xuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtKG9iaik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2xhdGVzdFZhbHVlID09PSB0aGlzLl9sYXRlc3RSZXR1cm5lZFZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGF0ZXN0UmV0dXJuZWRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2xhdGVzdFJldHVybmVkVmFsdWUgPSB0aGlzLl9sYXRlc3RWYWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBjb3JlXzEuV3JhcHBlZFZhbHVlLndyYXAodGhpcy5fbGF0ZXN0VmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgQXN5bmNQaXBlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9vYmogPSBvYmo7XG4gICAgICAgIHRoaXMuX3N0cmF0ZWd5ID0gdGhpcy5fc2VsZWN0U3RyYXRlZ3kob2JqKTtcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9uID0gdGhpcy5fc3RyYXRlZ3kuY3JlYXRlU3Vic2NyaXB0aW9uKG9iaiwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBfdGhpcy5fdXBkYXRlTGF0ZXN0VmFsdWUob2JqLCB2YWx1ZSk7IH0pO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIEFzeW5jUGlwZS5wcm90b3R5cGUuX3NlbGVjdFN0cmF0ZWd5ID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJvbWlzZShvYmopKSB7XG4gICAgICAgICAgICByZXR1cm4gX3Byb21pc2VTdHJhdGVneTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhc3luY18xLk9ic2VydmFibGVXcmFwcGVyLmlzT2JzZXJ2YWJsZShvYmopKSB7XG4gICAgICAgICAgICByZXR1cm4gX29ic2VydmFibGVTdHJhdGVneTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBpbnZhbGlkX3BpcGVfYXJndW1lbnRfZXhjZXB0aW9uXzEuSW52YWxpZFBpcGVBcmd1bWVudEV4Y2VwdGlvbihBc3luY1BpcGUsIG9iaik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBBc3luY1BpcGUucHJvdG90eXBlLl9kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9zdHJhdGVneS5kaXNwb3NlKHRoaXMuX3N1YnNjcmlwdGlvbik7XG4gICAgICAgIHRoaXMuX2xhdGVzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbGF0ZXN0UmV0dXJuZWRWYWx1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuX29iaiA9IG51bGw7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgQXN5bmNQaXBlLnByb3RvdHlwZS5fdXBkYXRlTGF0ZXN0VmFsdWUgPSBmdW5jdGlvbiAoYXN5bmMsIHZhbHVlKSB7XG4gICAgICAgIGlmIChhc3luYyA9PT0gdGhpcy5fb2JqKSB7XG4gICAgICAgICAgICB0aGlzLl9sYXRlc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBc3luY1BpcGUuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuUGlwZSwgYXJnczogW3sgbmFtZTogJ2FzeW5jJywgcHVyZTogZmFsc2UgfSxdIH0sXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIEFzeW5jUGlwZS5jdG9yUGFyYW1ldGVycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuQ2hhbmdlRGV0ZWN0b3JSZWYsIH0sXG4gICAgXTtcbiAgICByZXR1cm4gQXN5bmNQaXBlO1xufSgpKTtcbmV4cG9ydHMuQXN5bmNQaXBlID0gQXN5bmNQaXBlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN5bmNfcGlwZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuKiBAbW9kdWxlXG4qIEBkZXNjcmlwdGlvblxuKiBUaGlzIG1vZHVsZSBwcm92aWRlcyBhIHNldCBvZiBjb21tb24gUGlwZXMuXG4qL1xudmFyIGFzeW5jX3BpcGVfMSA9IHJlcXVpcmUoJy4vYXN5bmNfcGlwZScpO1xudmFyIHVwcGVyY2FzZV9waXBlXzEgPSByZXF1aXJlKCcuL3VwcGVyY2FzZV9waXBlJyk7XG52YXIgbG93ZXJjYXNlX3BpcGVfMSA9IHJlcXVpcmUoJy4vbG93ZXJjYXNlX3BpcGUnKTtcbnZhciBqc29uX3BpcGVfMSA9IHJlcXVpcmUoJy4vanNvbl9waXBlJyk7XG52YXIgc2xpY2VfcGlwZV8xID0gcmVxdWlyZSgnLi9zbGljZV9waXBlJyk7XG52YXIgZGF0ZV9waXBlXzEgPSByZXF1aXJlKCcuL2RhdGVfcGlwZScpO1xudmFyIG51bWJlcl9waXBlXzEgPSByZXF1aXJlKCcuL251bWJlcl9waXBlJyk7XG52YXIgcmVwbGFjZV9waXBlXzEgPSByZXF1aXJlKCcuL3JlcGxhY2VfcGlwZScpO1xudmFyIGkxOG5fcGx1cmFsX3BpcGVfMSA9IHJlcXVpcmUoJy4vaTE4bl9wbHVyYWxfcGlwZScpO1xudmFyIGkxOG5fc2VsZWN0X3BpcGVfMSA9IHJlcXVpcmUoJy4vaTE4bl9zZWxlY3RfcGlwZScpO1xuLyoqXG4gKiBBIGNvbGxlY3Rpb24gb2YgQW5ndWxhciBjb3JlIHBpcGVzIHRoYXQgYXJlIGxpa2VseSB0byBiZSB1c2VkIGluIGVhY2ggYW5kIGV2ZXJ5XG4gKiBhcHBsaWNhdGlvbi5cbiAqXG4gKiBUaGlzIGNvbGxlY3Rpb24gY2FuIGJlIHVzZWQgdG8gcXVpY2tseSBlbnVtZXJhdGUgYWxsIHRoZSBidWlsdC1pbiBwaXBlcyBpbiB0aGUgYHBpcGVzYFxuICogcHJvcGVydHkgb2YgdGhlIGBAQ29tcG9uZW50YCBkZWNvcmF0b3IuXG4gKi9cbmV4cG9ydHMuQ09NTU9OX1BJUEVTID0gW1xuICAgIGFzeW5jX3BpcGVfMS5Bc3luY1BpcGUsXG4gICAgdXBwZXJjYXNlX3BpcGVfMS5VcHBlckNhc2VQaXBlLFxuICAgIGxvd2VyY2FzZV9waXBlXzEuTG93ZXJDYXNlUGlwZSxcbiAgICBqc29uX3BpcGVfMS5Kc29uUGlwZSxcbiAgICBzbGljZV9waXBlXzEuU2xpY2VQaXBlLFxuICAgIG51bWJlcl9waXBlXzEuRGVjaW1hbFBpcGUsXG4gICAgbnVtYmVyX3BpcGVfMS5QZXJjZW50UGlwZSxcbiAgICBudW1iZXJfcGlwZV8xLkN1cnJlbmN5UGlwZSxcbiAgICBkYXRlX3BpcGVfMS5EYXRlUGlwZSxcbiAgICByZXBsYWNlX3BpcGVfMS5SZXBsYWNlUGlwZSxcbiAgICBpMThuX3BsdXJhbF9waXBlXzEuSTE4blBsdXJhbFBpcGUsXG4gICAgaTE4bl9zZWxlY3RfcGlwZV8xLkkxOG5TZWxlY3RQaXBlXG5dO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tbW9uX3BpcGVzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBpbnRsXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2ludGwnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBpbnZhbGlkX3BpcGVfYXJndW1lbnRfZXhjZXB0aW9uXzEgPSByZXF1aXJlKCcuL2ludmFsaWRfcGlwZV9hcmd1bWVudF9leGNlcHRpb24nKTtcbi8vIFRPRE86IG1vdmUgdG8gYSBnbG9iYWwgY29uZmlndXJhYmxlIGxvY2F0aW9uIGFsb25nIHdpdGggb3RoZXIgaTE4biBjb21wb25lbnRzLlxudmFyIGRlZmF1bHRMb2NhbGUgPSAnZW4tVVMnO1xudmFyIERhdGVQaXBlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEYXRlUGlwZSgpIHtcbiAgICB9XG4gICAgRGF0ZVBpcGUucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICh2YWx1ZSwgcGF0dGVybikge1xuICAgICAgICBpZiAocGF0dGVybiA9PT0gdm9pZCAwKSB7IHBhdHRlcm4gPSAnbWVkaXVtRGF0ZSc7IH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoIXRoaXMuc3VwcG9ydHModmFsdWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgaW52YWxpZF9waXBlX2FyZ3VtZW50X2V4Y2VwdGlvbl8xLkludmFsaWRQaXBlQXJndW1lbnRFeGNlcHRpb24oRGF0ZVBpcGUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUgPSBsYW5nXzEuRGF0ZVdyYXBwZXIuZnJvbU1pbGxpcyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbGxlY3Rpb25fMS5TdHJpbmdNYXBXcmFwcGVyLmNvbnRhaW5zKERhdGVQaXBlLl9BTElBU0VTLCBwYXR0ZXJuKSkge1xuICAgICAgICAgICAgcGF0dGVybiA9IGNvbGxlY3Rpb25fMS5TdHJpbmdNYXBXcmFwcGVyLmdldChEYXRlUGlwZS5fQUxJQVNFUywgcGF0dGVybik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGludGxfMS5EYXRlRm9ybWF0dGVyLmZvcm1hdCh2YWx1ZSwgZGVmYXVsdExvY2FsZSwgcGF0dGVybik7XG4gICAgfTtcbiAgICBEYXRlUGlwZS5wcm90b3R5cGUuc3VwcG9ydHMgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBsYW5nXzEuaXNEYXRlKG9iaikgfHwgbGFuZ18xLmlzTnVtYmVyKG9iaik7IH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIERhdGVQaXBlLl9BTElBU0VTID0ge1xuICAgICAgICAnbWVkaXVtJzogJ3lNTU1kam1zJyxcbiAgICAgICAgJ3Nob3J0JzogJ3lNZGptJyxcbiAgICAgICAgJ2Z1bGxEYXRlJzogJ3lNTU1NRUVFRWQnLFxuICAgICAgICAnbG9uZ0RhdGUnOiAneU1NTU1kJyxcbiAgICAgICAgJ21lZGl1bURhdGUnOiAneU1NTWQnLFxuICAgICAgICAnc2hvcnREYXRlJzogJ3lNZCcsXG4gICAgICAgICdtZWRpdW1UaW1lJzogJ2ptcycsXG4gICAgICAgICdzaG9ydFRpbWUnOiAnam0nXG4gICAgfTtcbiAgICBEYXRlUGlwZS5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5QaXBlLCBhcmdzOiBbeyBuYW1lOiAnZGF0ZScsIHB1cmU6IHRydWUgfSxdIH0sXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIHJldHVybiBEYXRlUGlwZTtcbn0oKSk7XG5leHBvcnRzLkRhdGVQaXBlID0gRGF0ZVBpcGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRlX3BpcGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGludmFsaWRfcGlwZV9hcmd1bWVudF9leGNlcHRpb25fMSA9IHJlcXVpcmUoJy4vaW52YWxpZF9waXBlX2FyZ3VtZW50X2V4Y2VwdGlvbicpO1xudmFyIGludGVycG9sYXRpb25FeHAgPSBsYW5nXzEuUmVnRXhwV3JhcHBlci5jcmVhdGUoJyMnKTtcbnZhciBJMThuUGx1cmFsUGlwZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSTE4blBsdXJhbFBpcGUoKSB7XG4gICAgfVxuICAgIEkxOG5QbHVyYWxQaXBlLnByb3RvdHlwZS50cmFuc2Zvcm0gPSBmdW5jdGlvbiAodmFsdWUsIHBsdXJhbE1hcCkge1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICB2YXIgdmFsdWVTdHI7XG4gICAgICAgIGlmICghbGFuZ18xLmlzU3RyaW5nTWFwKHBsdXJhbE1hcCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBpbnZhbGlkX3BpcGVfYXJndW1lbnRfZXhjZXB0aW9uXzEuSW52YWxpZFBpcGVBcmd1bWVudEV4Y2VwdGlvbihJMThuUGx1cmFsUGlwZSwgcGx1cmFsTWFwKTtcbiAgICAgICAgfVxuICAgICAgICBrZXkgPSB2YWx1ZSA9PT0gMCB8fCB2YWx1ZSA9PT0gMSA/IFwiPVwiICsgdmFsdWUgOiAnb3RoZXInO1xuICAgICAgICB2YWx1ZVN0ciA9IGxhbmdfMS5pc1ByZXNlbnQodmFsdWUpID8gdmFsdWUudG9TdHJpbmcoKSA6ICcnO1xuICAgICAgICByZXR1cm4gbGFuZ18xLlN0cmluZ1dyYXBwZXIucmVwbGFjZUFsbChwbHVyYWxNYXBba2V5XSwgaW50ZXJwb2xhdGlvbkV4cCwgdmFsdWVTdHIpO1xuICAgIH07XG4gICAgSTE4blBsdXJhbFBpcGUuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuUGlwZSwgYXJnczogW3sgbmFtZTogJ2kxOG5QbHVyYWwnLCBwdXJlOiB0cnVlIH0sXSB9LFxuICAgICAgICB7IHR5cGU6IGNvcmVfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICByZXR1cm4gSTE4blBsdXJhbFBpcGU7XG59KCkpO1xuZXhwb3J0cy5JMThuUGx1cmFsUGlwZSA9IEkxOG5QbHVyYWxQaXBlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aTE4bl9wbHVyYWxfcGlwZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9jb2xsZWN0aW9uJyk7XG52YXIgaW52YWxpZF9waXBlX2FyZ3VtZW50X2V4Y2VwdGlvbl8xID0gcmVxdWlyZSgnLi9pbnZhbGlkX3BpcGVfYXJndW1lbnRfZXhjZXB0aW9uJyk7XG52YXIgSTE4blNlbGVjdFBpcGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEkxOG5TZWxlY3RQaXBlKCkge1xuICAgIH1cbiAgICBJMThuU2VsZWN0UGlwZS5wcm90b3R5cGUudHJhbnNmb3JtID0gZnVuY3Rpb24gKHZhbHVlLCBtYXBwaW5nKSB7XG4gICAgICAgIGlmICghbGFuZ18xLmlzU3RyaW5nTWFwKG1hcHBpbmcpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgaW52YWxpZF9waXBlX2FyZ3VtZW50X2V4Y2VwdGlvbl8xLkludmFsaWRQaXBlQXJndW1lbnRFeGNlcHRpb24oSTE4blNlbGVjdFBpcGUsIG1hcHBpbmcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uXzEuU3RyaW5nTWFwV3JhcHBlci5jb250YWlucyhtYXBwaW5nLCB2YWx1ZSkgPyBtYXBwaW5nW3ZhbHVlXSA6IG1hcHBpbmdbJ290aGVyJ107XG4gICAgfTtcbiAgICBJMThuU2VsZWN0UGlwZS5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5QaXBlLCBhcmdzOiBbeyBuYW1lOiAnaTE4blNlbGVjdCcsIHB1cmU6IHRydWUgfSxdIH0sXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIHJldHVybiBJMThuU2VsZWN0UGlwZTtcbn0oKSk7XG5leHBvcnRzLkkxOG5TZWxlY3RQaXBlID0gSTE4blNlbGVjdFBpcGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pMThuX3NlbGVjdF9waXBlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG52YXIgSW52YWxpZFBpcGVBcmd1bWVudEV4Y2VwdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEludmFsaWRQaXBlQXJndW1lbnRFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW52YWxpZFBpcGVBcmd1bWVudEV4Y2VwdGlvbih0eXBlLCB2YWx1ZSkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBcIkludmFsaWQgYXJndW1lbnQgJ1wiICsgdmFsdWUgKyBcIicgZm9yIHBpcGUgJ1wiICsgbGFuZ18xLnN0cmluZ2lmeSh0eXBlKSArIFwiJ1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIEludmFsaWRQaXBlQXJndW1lbnRFeGNlcHRpb247XG59KGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKSk7XG5leHBvcnRzLkludmFsaWRQaXBlQXJndW1lbnRFeGNlcHRpb24gPSBJbnZhbGlkUGlwZUFyZ3VtZW50RXhjZXB0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW52YWxpZF9waXBlX2FyZ3VtZW50X2V4Y2VwdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgSnNvblBpcGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEpzb25QaXBlKCkge1xuICAgIH1cbiAgICBKc29uUGlwZS5wcm90b3R5cGUudHJhbnNmb3JtID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBsYW5nXzEuSnNvbi5zdHJpbmdpZnkodmFsdWUpOyB9O1xuICAgIEpzb25QaXBlLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLlBpcGUsIGFyZ3M6IFt7IG5hbWU6ICdqc29uJywgcHVyZTogZmFsc2UgfSxdIH0sXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIHJldHVybiBKc29uUGlwZTtcbn0oKSk7XG5leHBvcnRzLkpzb25QaXBlID0gSnNvblBpcGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1qc29uX3BpcGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGludmFsaWRfcGlwZV9hcmd1bWVudF9leGNlcHRpb25fMSA9IHJlcXVpcmUoJy4vaW52YWxpZF9waXBlX2FyZ3VtZW50X2V4Y2VwdGlvbicpO1xudmFyIExvd2VyQ2FzZVBpcGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExvd2VyQ2FzZVBpcGUoKSB7XG4gICAgfVxuICAgIExvd2VyQ2FzZVBpcGUucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsodmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICBpZiAoIWxhbmdfMS5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBpbnZhbGlkX3BpcGVfYXJndW1lbnRfZXhjZXB0aW9uXzEuSW52YWxpZFBpcGVBcmd1bWVudEV4Y2VwdGlvbihMb3dlckNhc2VQaXBlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgfTtcbiAgICBMb3dlckNhc2VQaXBlLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLlBpcGUsIGFyZ3M6IFt7IG5hbWU6ICdsb3dlcmNhc2UnIH0sXSB9LFxuICAgICAgICB7IHR5cGU6IGNvcmVfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICByZXR1cm4gTG93ZXJDYXNlUGlwZTtcbn0oKSk7XG5leHBvcnRzLkxvd2VyQ2FzZVBpcGUgPSBMb3dlckNhc2VQaXBlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG93ZXJjYXNlX3BpcGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG52YXIgaW50bF8xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9pbnRsJyk7XG52YXIgaW52YWxpZF9waXBlX2FyZ3VtZW50X2V4Y2VwdGlvbl8xID0gcmVxdWlyZSgnLi9pbnZhbGlkX3BpcGVfYXJndW1lbnRfZXhjZXB0aW9uJyk7XG52YXIgZGVmYXVsdExvY2FsZSA9ICdlbi1VUyc7XG52YXIgX3JlID0gbGFuZ18xLlJlZ0V4cFdyYXBwZXIuY3JlYXRlKCdeKFxcXFxkKyk/XFxcXC4oKFxcXFxkKykoXFxcXC0oXFxcXGQrKSk/KT8kJyk7XG52YXIgTnVtYmVyUGlwZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTnVtYmVyUGlwZSgpIHtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIE51bWJlclBpcGUuX2Zvcm1hdCA9IGZ1bmN0aW9uICh2YWx1ZSwgc3R5bGUsIGRpZ2l0cywgY3VycmVuY3ksIGN1cnJlbmN5QXNTeW1ib2wpIHtcbiAgICAgICAgaWYgKGN1cnJlbmN5ID09PSB2b2lkIDApIHsgY3VycmVuY3kgPSBudWxsOyB9XG4gICAgICAgIGlmIChjdXJyZW5jeUFzU3ltYm9sID09PSB2b2lkIDApIHsgY3VycmVuY3lBc1N5bWJvbCA9IGZhbHNlOyB9XG4gICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayh2YWx1ZSkpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKCFsYW5nXzEuaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgaW52YWxpZF9waXBlX2FyZ3VtZW50X2V4Y2VwdGlvbl8xLkludmFsaWRQaXBlQXJndW1lbnRFeGNlcHRpb24oTnVtYmVyUGlwZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtaW5JbnQgPSAxLCBtaW5GcmFjdGlvbiA9IDAsIG1heEZyYWN0aW9uID0gMztcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoZGlnaXRzKSkge1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gbGFuZ18xLlJlZ0V4cFdyYXBwZXIuZmlyc3RNYXRjaChfcmUsIGRpZ2l0cyk7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsocGFydHMpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKGRpZ2l0cyArIFwiIGlzIG5vdCBhIHZhbGlkIGRpZ2l0IGluZm8gZm9yIG51bWJlciBwaXBlc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHBhcnRzWzFdKSkge1xuICAgICAgICAgICAgICAgIG1pbkludCA9IGxhbmdfMS5OdW1iZXJXcmFwcGVyLnBhcnNlSW50QXV0b1JhZGl4KHBhcnRzWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHBhcnRzWzNdKSkge1xuICAgICAgICAgICAgICAgIG1pbkZyYWN0aW9uID0gbGFuZ18xLk51bWJlcldyYXBwZXIucGFyc2VJbnRBdXRvUmFkaXgocGFydHNbM10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocGFydHNbNV0pKSB7XG4gICAgICAgICAgICAgICAgbWF4RnJhY3Rpb24gPSBsYW5nXzEuTnVtYmVyV3JhcHBlci5wYXJzZUludEF1dG9SYWRpeChwYXJ0c1s1XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGludGxfMS5OdW1iZXJGb3JtYXR0ZXIuZm9ybWF0KHZhbHVlLCBkZWZhdWx0TG9jYWxlLCBzdHlsZSwge1xuICAgICAgICAgICAgbWluaW11bUludGVnZXJEaWdpdHM6IG1pbkludCxcbiAgICAgICAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogbWluRnJhY3Rpb24sXG4gICAgICAgICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IG1heEZyYWN0aW9uLFxuICAgICAgICAgICAgY3VycmVuY3k6IGN1cnJlbmN5LFxuICAgICAgICAgICAgY3VycmVuY3lBc1N5bWJvbDogY3VycmVuY3lBc1N5bWJvbFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE51bWJlclBpcGUuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuSW5qZWN0YWJsZSB9LFxuICAgIF07XG4gICAgcmV0dXJuIE51bWJlclBpcGU7XG59KCkpO1xuZXhwb3J0cy5OdW1iZXJQaXBlID0gTnVtYmVyUGlwZTtcbnZhciBEZWNpbWFsUGlwZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERlY2ltYWxQaXBlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERlY2ltYWxQaXBlKCkge1xuICAgICAgICBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgRGVjaW1hbFBpcGUucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICh2YWx1ZSwgZGlnaXRzKSB7XG4gICAgICAgIGlmIChkaWdpdHMgPT09IHZvaWQgMCkgeyBkaWdpdHMgPSBudWxsOyB9XG4gICAgICAgIHJldHVybiBOdW1iZXJQaXBlLl9mb3JtYXQodmFsdWUsIGludGxfMS5OdW1iZXJGb3JtYXRTdHlsZS5EZWNpbWFsLCBkaWdpdHMpO1xuICAgIH07XG4gICAgRGVjaW1hbFBpcGUuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuUGlwZSwgYXJnczogW3sgbmFtZTogJ251bWJlcicgfSxdIH0sXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIHJldHVybiBEZWNpbWFsUGlwZTtcbn0oTnVtYmVyUGlwZSkpO1xuZXhwb3J0cy5EZWNpbWFsUGlwZSA9IERlY2ltYWxQaXBlO1xudmFyIFBlcmNlbnRQaXBlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGVyY2VudFBpcGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUGVyY2VudFBpcGUoKSB7XG4gICAgICAgIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICBQZXJjZW50UGlwZS5wcm90b3R5cGUudHJhbnNmb3JtID0gZnVuY3Rpb24gKHZhbHVlLCBkaWdpdHMpIHtcbiAgICAgICAgaWYgKGRpZ2l0cyA9PT0gdm9pZCAwKSB7IGRpZ2l0cyA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIE51bWJlclBpcGUuX2Zvcm1hdCh2YWx1ZSwgaW50bF8xLk51bWJlckZvcm1hdFN0eWxlLlBlcmNlbnQsIGRpZ2l0cyk7XG4gICAgfTtcbiAgICBQZXJjZW50UGlwZS5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5QaXBlLCBhcmdzOiBbeyBuYW1lOiAncGVyY2VudCcgfSxdIH0sXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIHJldHVybiBQZXJjZW50UGlwZTtcbn0oTnVtYmVyUGlwZSkpO1xuZXhwb3J0cy5QZXJjZW50UGlwZSA9IFBlcmNlbnRQaXBlO1xudmFyIEN1cnJlbmN5UGlwZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEN1cnJlbmN5UGlwZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDdXJyZW5jeVBpcGUoKSB7XG4gICAgICAgIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICBDdXJyZW5jeVBpcGUucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICh2YWx1ZSwgY3VycmVuY3lDb2RlLCBzeW1ib2xEaXNwbGF5LCBkaWdpdHMpIHtcbiAgICAgICAgaWYgKGN1cnJlbmN5Q29kZSA9PT0gdm9pZCAwKSB7IGN1cnJlbmN5Q29kZSA9ICdVU0QnOyB9XG4gICAgICAgIGlmIChzeW1ib2xEaXNwbGF5ID09PSB2b2lkIDApIHsgc3ltYm9sRGlzcGxheSA9IGZhbHNlOyB9XG4gICAgICAgIGlmIChkaWdpdHMgPT09IHZvaWQgMCkgeyBkaWdpdHMgPSBudWxsOyB9XG4gICAgICAgIHJldHVybiBOdW1iZXJQaXBlLl9mb3JtYXQodmFsdWUsIGludGxfMS5OdW1iZXJGb3JtYXRTdHlsZS5DdXJyZW5jeSwgZGlnaXRzLCBjdXJyZW5jeUNvZGUsIHN5bWJvbERpc3BsYXkpO1xuICAgIH07XG4gICAgQ3VycmVuY3lQaXBlLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLlBpcGUsIGFyZ3M6IFt7IG5hbWU6ICdjdXJyZW5jeScgfSxdIH0sXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIHJldHVybiBDdXJyZW5jeVBpcGU7XG59KE51bWJlclBpcGUpKTtcbmV4cG9ydHMuQ3VycmVuY3lQaXBlID0gQ3VycmVuY3lQaXBlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bnVtYmVyX3BpcGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGludmFsaWRfcGlwZV9hcmd1bWVudF9leGNlcHRpb25fMSA9IHJlcXVpcmUoJy4vaW52YWxpZF9waXBlX2FyZ3VtZW50X2V4Y2VwdGlvbicpO1xudmFyIFJlcGxhY2VQaXBlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXBsYWNlUGlwZSgpIHtcbiAgICB9XG4gICAgUmVwbGFjZVBpcGUucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICh2YWx1ZSwgcGF0dGVybiwgcmVwbGFjZW1lbnQpIHtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fc3VwcG9ydGVkSW5wdXQodmFsdWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgaW52YWxpZF9waXBlX2FyZ3VtZW50X2V4Y2VwdGlvbl8xLkludmFsaWRQaXBlQXJndW1lbnRFeGNlcHRpb24oUmVwbGFjZVBpcGUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5wdXQgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICBpZiAoIXRoaXMuX3N1cHBvcnRlZFBhdHRlcm4ocGF0dGVybikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBpbnZhbGlkX3BpcGVfYXJndW1lbnRfZXhjZXB0aW9uXzEuSW52YWxpZFBpcGVBcmd1bWVudEV4Y2VwdGlvbihSZXBsYWNlUGlwZSwgcGF0dGVybik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9zdXBwb3J0ZWRSZXBsYWNlbWVudChyZXBsYWNlbWVudCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBpbnZhbGlkX3BpcGVfYXJndW1lbnRfZXhjZXB0aW9uXzEuSW52YWxpZFBpcGVBcmd1bWVudEV4Y2VwdGlvbihSZXBsYWNlUGlwZSwgcmVwbGFjZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRlbXBsYXRlIGZhaWxzIHdpdGggbGl0ZXJhbCBSZWdFeHAgZS5nIC9wYXR0ZXJuL2lnbVxuICAgICAgICAvLyB2YXIgcmd4ID0gcGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCA/IHBhdHRlcm4gOiBSZWdFeHBXcmFwcGVyLmNyZWF0ZShwYXR0ZXJuKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0Z1bmN0aW9uKHJlcGxhY2VtZW50KSkge1xuICAgICAgICAgICAgdmFyIHJneFBhdHRlcm4gPSBsYW5nXzEuaXNTdHJpbmcocGF0dGVybikgPyBsYW5nXzEuUmVnRXhwV3JhcHBlci5jcmVhdGUocGF0dGVybikgOiBwYXR0ZXJuO1xuICAgICAgICAgICAgcmV0dXJuIGxhbmdfMS5TdHJpbmdXcmFwcGVyLnJlcGxhY2VBbGxNYXBwZWQoaW5wdXQsIHJneFBhdHRlcm4sIHJlcGxhY2VtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICAgICAgLy8gdXNlIHRoZSByZXBsYWNlQWxsIHZhcmlhbnRcbiAgICAgICAgICAgIHJldHVybiBsYW5nXzEuU3RyaW5nV3JhcHBlci5yZXBsYWNlQWxsKGlucHV0LCBwYXR0ZXJuLCByZXBsYWNlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxhbmdfMS5TdHJpbmdXcmFwcGVyLnJlcGxhY2UoaW5wdXQsIHBhdHRlcm4sIHJlcGxhY2VtZW50KTtcbiAgICB9O1xuICAgIFJlcGxhY2VQaXBlLnByb3RvdHlwZS5fc3VwcG9ydGVkSW5wdXQgPSBmdW5jdGlvbiAoaW5wdXQpIHsgcmV0dXJuIGxhbmdfMS5pc1N0cmluZyhpbnB1dCkgfHwgbGFuZ18xLmlzTnVtYmVyKGlucHV0KTsgfTtcbiAgICBSZXBsYWNlUGlwZS5wcm90b3R5cGUuX3N1cHBvcnRlZFBhdHRlcm4gPSBmdW5jdGlvbiAocGF0dGVybikge1xuICAgICAgICByZXR1cm4gbGFuZ18xLmlzU3RyaW5nKHBhdHRlcm4pIHx8IHBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHA7XG4gICAgfTtcbiAgICBSZXBsYWNlUGlwZS5wcm90b3R5cGUuX3N1cHBvcnRlZFJlcGxhY2VtZW50ID0gZnVuY3Rpb24gKHJlcGxhY2VtZW50KSB7XG4gICAgICAgIHJldHVybiBsYW5nXzEuaXNTdHJpbmcocmVwbGFjZW1lbnQpIHx8IGxhbmdfMS5pc0Z1bmN0aW9uKHJlcGxhY2VtZW50KTtcbiAgICB9O1xuICAgIFJlcGxhY2VQaXBlLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLlBpcGUsIGFyZ3M6IFt7IG5hbWU6ICdyZXBsYWNlJyB9LF0gfSxcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuSW5qZWN0YWJsZSB9LFxuICAgIF07XG4gICAgcmV0dXJuIFJlcGxhY2VQaXBlO1xufSgpKTtcbmV4cG9ydHMuUmVwbGFjZVBpcGUgPSBSZXBsYWNlUGlwZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcGxhY2VfcGlwZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9jb2xsZWN0aW9uJyk7XG52YXIgaW52YWxpZF9waXBlX2FyZ3VtZW50X2V4Y2VwdGlvbl8xID0gcmVxdWlyZSgnLi9pbnZhbGlkX3BpcGVfYXJndW1lbnRfZXhjZXB0aW9uJyk7XG52YXIgU2xpY2VQaXBlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTbGljZVBpcGUoKSB7XG4gICAgfVxuICAgIFNsaWNlUGlwZS5wcm90b3R5cGUudHJhbnNmb3JtID0gZnVuY3Rpb24gKHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgICAgIGlmIChlbmQgPT09IHZvaWQgMCkgeyBlbmQgPSBudWxsOyB9XG4gICAgICAgIGlmICghdGhpcy5zdXBwb3J0cyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBpbnZhbGlkX3BpcGVfYXJndW1lbnRfZXhjZXB0aW9uXzEuSW52YWxpZFBpcGVBcmd1bWVudEV4Y2VwdGlvbihTbGljZVBpcGUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsodmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICBpZiAobGFuZ18xLmlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGxhbmdfMS5TdHJpbmdXcmFwcGVyLnNsaWNlKHZhbHVlLCBzdGFydCwgZW5kKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLnNsaWNlKHZhbHVlLCBzdGFydCwgZW5kKTtcbiAgICB9O1xuICAgIFNsaWNlUGlwZS5wcm90b3R5cGUuc3VwcG9ydHMgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBsYW5nXzEuaXNTdHJpbmcob2JqKSB8fCBsYW5nXzEuaXNBcnJheShvYmopOyB9O1xuICAgIFNsaWNlUGlwZS5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5QaXBlLCBhcmdzOiBbeyBuYW1lOiAnc2xpY2UnLCBwdXJlOiBmYWxzZSB9LF0gfSxcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuSW5qZWN0YWJsZSB9LFxuICAgIF07XG4gICAgcmV0dXJuIFNsaWNlUGlwZTtcbn0oKSk7XG5leHBvcnRzLlNsaWNlUGlwZSA9IFNsaWNlUGlwZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNsaWNlX3BpcGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGludmFsaWRfcGlwZV9hcmd1bWVudF9leGNlcHRpb25fMSA9IHJlcXVpcmUoJy4vaW52YWxpZF9waXBlX2FyZ3VtZW50X2V4Y2VwdGlvbicpO1xudmFyIFVwcGVyQ2FzZVBpcGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFVwcGVyQ2FzZVBpcGUoKSB7XG4gICAgfVxuICAgIFVwcGVyQ2FzZVBpcGUucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsodmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICBpZiAoIWxhbmdfMS5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBpbnZhbGlkX3BpcGVfYXJndW1lbnRfZXhjZXB0aW9uXzEuSW52YWxpZFBpcGVBcmd1bWVudEV4Y2VwdGlvbihVcHBlckNhc2VQaXBlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlLnRvVXBwZXJDYXNlKCk7XG4gICAgfTtcbiAgICBVcHBlckNhc2VQaXBlLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLlBpcGUsIGFyZ3M6IFt7IG5hbWU6ICd1cHBlcmNhc2UnIH0sXSB9LFxuICAgICAgICB7IHR5cGU6IGNvcmVfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICByZXR1cm4gVXBwZXJDYXNlUGlwZTtcbn0oKSk7XG5leHBvcnRzLlVwcGVyQ2FzZVBpcGUgPSBVcHBlckNhc2VQaXBlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBwZXJjYXNlX3BpcGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuLyoqXG4qIEBtb2R1bGVcbiogQGRlc2NyaXB0aW9uXG4qIFN0YXJ0aW5nIHBvaW50IHRvIGltcG9ydCBhbGwgY29tcGlsZXIgQVBJcy5cbiovXG52YXIgZWxlbWVudF9zY2hlbWFfcmVnaXN0cnlfMSA9IHJlcXVpcmUoJy4vc3JjL3NjaGVtYS9lbGVtZW50X3NjaGVtYV9yZWdpc3RyeScpO1xuZXhwb3J0cy5FbGVtZW50U2NoZW1hUmVnaXN0cnkgPSBlbGVtZW50X3NjaGVtYV9yZWdpc3RyeV8xLkVsZW1lbnRTY2hlbWFSZWdpc3RyeTtcbnZhciBjb21waWxlcl8xID0gcmVxdWlyZSgnLi9zcmMvY29tcGlsZXInKTtcbmV4cG9ydHMuQ09NUElMRVJfUFJPVklERVJTID0gY29tcGlsZXJfMS5DT01QSUxFUl9QUk9WSURFUlM7XG5leHBvcnRzLlRFTVBMQVRFX1RSQU5TRk9STVMgPSBjb21waWxlcl8xLlRFTVBMQVRFX1RSQU5TRk9STVM7XG5leHBvcnRzLkNvbXBpbGVyQ29uZmlnID0gY29tcGlsZXJfMS5Db21waWxlckNvbmZpZztcbmV4cG9ydHMuUmVuZGVyVHlwZXMgPSBjb21waWxlcl8xLlJlbmRlclR5cGVzO1xuZXhwb3J0cy5VcmxSZXNvbHZlciA9IGNvbXBpbGVyXzEuVXJsUmVzb2x2ZXI7XG5leHBvcnRzLkRFRkFVTFRfUEFDS0FHRV9VUkxfUFJPVklERVIgPSBjb21waWxlcl8xLkRFRkFVTFRfUEFDS0FHRV9VUkxfUFJPVklERVI7XG5leHBvcnRzLmNyZWF0ZU9mZmxpbmVDb21waWxlVXJsUmVzb2x2ZXIgPSBjb21waWxlcl8xLmNyZWF0ZU9mZmxpbmVDb21waWxlVXJsUmVzb2x2ZXI7XG5leHBvcnRzLlhIUiA9IGNvbXBpbGVyXzEuWEhSO1xuZXhwb3J0cy5WaWV3UmVzb2x2ZXIgPSBjb21waWxlcl8xLlZpZXdSZXNvbHZlcjtcbmV4cG9ydHMuRGlyZWN0aXZlUmVzb2x2ZXIgPSBjb21waWxlcl8xLkRpcmVjdGl2ZVJlc29sdmVyO1xuZXhwb3J0cy5QaXBlUmVzb2x2ZXIgPSBjb21waWxlcl8xLlBpcGVSZXNvbHZlcjtcbmV4cG9ydHMuU291cmNlTW9kdWxlID0gY29tcGlsZXJfMS5Tb3VyY2VNb2R1bGU7XG5leHBvcnRzLk5vcm1hbGl6ZWRDb21wb25lbnRXaXRoVmlld0RpcmVjdGl2ZXMgPSBjb21waWxlcl8xLk5vcm1hbGl6ZWRDb21wb25lbnRXaXRoVmlld0RpcmVjdGl2ZXM7XG5leHBvcnRzLk9mZmxpbmVDb21waWxlciA9IGNvbXBpbGVyXzEuT2ZmbGluZUNvbXBpbGVyO1xuZXhwb3J0cy5Db21waWxlTWV0YWRhdGFXaXRoSWRlbnRpZmllciA9IGNvbXBpbGVyXzEuQ29tcGlsZU1ldGFkYXRhV2l0aElkZW50aWZpZXI7XG5leHBvcnRzLkNvbXBpbGVNZXRhZGF0YVdpdGhUeXBlID0gY29tcGlsZXJfMS5Db21waWxlTWV0YWRhdGFXaXRoVHlwZTtcbmV4cG9ydHMuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSA9IGNvbXBpbGVyXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YTtcbmV4cG9ydHMuQ29tcGlsZURpRGVwZW5kZW5jeU1ldGFkYXRhID0gY29tcGlsZXJfMS5Db21waWxlRGlEZXBlbmRlbmN5TWV0YWRhdGE7XG5leHBvcnRzLkNvbXBpbGVQcm92aWRlck1ldGFkYXRhID0gY29tcGlsZXJfMS5Db21waWxlUHJvdmlkZXJNZXRhZGF0YTtcbmV4cG9ydHMuQ29tcGlsZUZhY3RvcnlNZXRhZGF0YSA9IGNvbXBpbGVyXzEuQ29tcGlsZUZhY3RvcnlNZXRhZGF0YTtcbmV4cG9ydHMuQ29tcGlsZVRva2VuTWV0YWRhdGEgPSBjb21waWxlcl8xLkNvbXBpbGVUb2tlbk1ldGFkYXRhO1xuZXhwb3J0cy5Db21waWxlVHlwZU1ldGFkYXRhID0gY29tcGlsZXJfMS5Db21waWxlVHlwZU1ldGFkYXRhO1xuZXhwb3J0cy5Db21waWxlUXVlcnlNZXRhZGF0YSA9IGNvbXBpbGVyXzEuQ29tcGlsZVF1ZXJ5TWV0YWRhdGE7XG5leHBvcnRzLkNvbXBpbGVUZW1wbGF0ZU1ldGFkYXRhID0gY29tcGlsZXJfMS5Db21waWxlVGVtcGxhdGVNZXRhZGF0YTtcbmV4cG9ydHMuQ29tcGlsZURpcmVjdGl2ZU1ldGFkYXRhID0gY29tcGlsZXJfMS5Db21waWxlRGlyZWN0aXZlTWV0YWRhdGE7XG5leHBvcnRzLkNvbXBpbGVQaXBlTWV0YWRhdGEgPSBjb21waWxlcl8xLkNvbXBpbGVQaXBlTWV0YWRhdGE7XG5fX2V4cG9ydChyZXF1aXJlKCcuL3NyYy90ZW1wbGF0ZV9hc3QnKSk7XG5fX2V4cG9ydChyZXF1aXJlKCcuL3ByaXZhdGVfZXhwb3J0JykpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGlsZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xuZXhwb3J0cy5pc0RlZmF1bHRDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSA9IGNvcmVfMS5fX2NvcmVfcHJpdmF0ZV9fLmlzRGVmYXVsdENoYW5nZURldGVjdGlvblN0cmF0ZWd5O1xuZXhwb3J0cy5DaGFuZ2VEZXRlY3RvclN0YXRlID0gY29yZV8xLl9fY29yZV9wcml2YXRlX18uQ2hhbmdlRGV0ZWN0b3JTdGF0ZTtcbmV4cG9ydHMuQ0hBTkdFX0RFVEVDVElPTl9TVFJBVEVHWV9WQUxVRVMgPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy5DSEFOR0VfREVURUNUSU9OX1NUUkFURUdZX1ZBTFVFUztcbmV4cG9ydHMuY29uc3RydWN0RGVwZW5kZW5jaWVzID0gY29yZV8xLl9fY29yZV9wcml2YXRlX18uY29uc3RydWN0RGVwZW5kZW5jaWVzO1xuZXhwb3J0cy5MaWZlY3ljbGVIb29rcyA9IGNvcmVfMS5fX2NvcmVfcHJpdmF0ZV9fLkxpZmVjeWNsZUhvb2tzO1xuZXhwb3J0cy5MSUZFQ1lDTEVfSE9PS1NfVkFMVUVTID0gY29yZV8xLl9fY29yZV9wcml2YXRlX18uTElGRUNZQ0xFX0hPT0tTX1ZBTFVFUztcbmV4cG9ydHMuUmVmbGVjdG9yUmVhZGVyID0gY29yZV8xLl9fY29yZV9wcml2YXRlX18uUmVmbGVjdG9yUmVhZGVyO1xuZXhwb3J0cy5SZWZsZWN0b3JDb21wb25lbnRSZXNvbHZlciA9IGNvcmVfMS5fX2NvcmVfcHJpdmF0ZV9fLlJlZmxlY3RvckNvbXBvbmVudFJlc29sdmVyO1xuZXhwb3J0cy5BcHBFbGVtZW50ID0gY29yZV8xLl9fY29yZV9wcml2YXRlX18uQXBwRWxlbWVudDtcbmV4cG9ydHMuQXBwVmlldyA9IGNvcmVfMS5fX2NvcmVfcHJpdmF0ZV9fLkFwcFZpZXc7XG5leHBvcnRzLkRlYnVnQXBwVmlldyA9IGNvcmVfMS5fX2NvcmVfcHJpdmF0ZV9fLkRlYnVnQXBwVmlldztcbmV4cG9ydHMuVmlld1R5cGUgPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy5WaWV3VHlwZTtcbmV4cG9ydHMuTUFYX0lOVEVSUE9MQVRJT05fVkFMVUVTID0gY29yZV8xLl9fY29yZV9wcml2YXRlX18uTUFYX0lOVEVSUE9MQVRJT05fVkFMVUVTO1xuZXhwb3J0cy5jaGVja0JpbmRpbmcgPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy5jaGVja0JpbmRpbmc7XG5leHBvcnRzLmZsYXR0ZW5OZXN0ZWRWaWV3UmVuZGVyTm9kZXMgPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy5mbGF0dGVuTmVzdGVkVmlld1JlbmRlck5vZGVzO1xuZXhwb3J0cy5pbnRlcnBvbGF0ZSA9IGNvcmVfMS5fX2NvcmVfcHJpdmF0ZV9fLmludGVycG9sYXRlO1xuZXhwb3J0cy5WaWV3VXRpbHMgPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy5WaWV3VXRpbHM7XG5leHBvcnRzLlZJRVdfRU5DQVBTVUxBVElPTl9WQUxVRVMgPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy5WSUVXX0VOQ0FQU1VMQVRJT05fVkFMVUVTO1xuZXhwb3J0cy5EZWJ1Z0NvbnRleHQgPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy5EZWJ1Z0NvbnRleHQ7XG5leHBvcnRzLlN0YXRpY05vZGVEZWJ1Z0luZm8gPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy5TdGF0aWNOb2RlRGVidWdJbmZvO1xuZXhwb3J0cy5kZXZNb2RlRXF1YWwgPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy5kZXZNb2RlRXF1YWw7XG5leHBvcnRzLnVuaW5pdGlhbGl6ZWQgPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy51bmluaXRpYWxpemVkO1xuZXhwb3J0cy5WYWx1ZVVud3JhcHBlciA9IGNvcmVfMS5fX2NvcmVfcHJpdmF0ZV9fLlZhbHVlVW53cmFwcGVyO1xuZXhwb3J0cy5UZW1wbGF0ZVJlZl8gPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy5UZW1wbGF0ZVJlZl87XG5leHBvcnRzLlJlbmRlckRlYnVnSW5mbyA9IGNvcmVfMS5fX2NvcmVfcHJpdmF0ZV9fLlJlbmRlckRlYnVnSW5mbztcbmV4cG9ydHMuU2VjdXJpdHlDb250ZXh0ID0gY29yZV8xLl9fY29yZV9wcml2YXRlX18uU2VjdXJpdHlDb250ZXh0O1xuZXhwb3J0cy5TYW5pdGl6YXRpb25TZXJ2aWNlID0gY29yZV8xLl9fY29yZV9wcml2YXRlX18uU2FuaXRpemF0aW9uU2VydmljZTtcbmV4cG9ydHMuY3JlYXRlUHJvdmlkZXIgPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy5jcmVhdGVQcm92aWRlcjtcbmV4cG9ydHMuaXNQcm92aWRlckxpdGVyYWwgPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy5pc1Byb3ZpZGVyTGl0ZXJhbDtcbmV4cG9ydHMuRU1QVFlfQVJSQVkgPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy5FTVBUWV9BUlJBWTtcbmV4cG9ydHMuRU1QVFlfTUFQID0gY29yZV8xLl9fY29yZV9wcml2YXRlX18uRU1QVFlfTUFQO1xuZXhwb3J0cy5wdXJlUHJveHkxID0gY29yZV8xLl9fY29yZV9wcml2YXRlX18ucHVyZVByb3h5MTtcbmV4cG9ydHMucHVyZVByb3h5MiA9IGNvcmVfMS5fX2NvcmVfcHJpdmF0ZV9fLnB1cmVQcm94eTI7XG5leHBvcnRzLnB1cmVQcm94eTMgPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy5wdXJlUHJveHkzO1xuZXhwb3J0cy5wdXJlUHJveHk0ID0gY29yZV8xLl9fY29yZV9wcml2YXRlX18ucHVyZVByb3h5NDtcbmV4cG9ydHMucHVyZVByb3h5NSA9IGNvcmVfMS5fX2NvcmVfcHJpdmF0ZV9fLnB1cmVQcm94eTU7XG5leHBvcnRzLnB1cmVQcm94eTYgPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy5wdXJlUHJveHk2O1xuZXhwb3J0cy5wdXJlUHJveHk3ID0gY29yZV8xLl9fY29yZV9wcml2YXRlX18ucHVyZVByb3h5NztcbmV4cG9ydHMucHVyZVByb3h5OCA9IGNvcmVfMS5fX2NvcmVfcHJpdmF0ZV9fLnB1cmVQcm94eTg7XG5leHBvcnRzLnB1cmVQcm94eTkgPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy5wdXJlUHJveHk5O1xuZXhwb3J0cy5wdXJlUHJveHkxMCA9IGNvcmVfMS5fX2NvcmVfcHJpdmF0ZV9fLnB1cmVQcm94eTEwO1xuZXhwb3J0cy5jYXN0QnlWYWx1ZSA9IGNvcmVfMS5fX2NvcmVfcHJpdmF0ZV9fLmNhc3RCeVZhbHVlO1xuZXhwb3J0cy5Db25zb2xlID0gY29yZV8xLl9fY29yZV9wcml2YXRlX18uQ29uc29sZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcmVfcHJpdmF0ZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5fX2V4cG9ydChyZXF1aXJlKCcuL2NvbXBpbGVyJykpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgc2VsZWN0b3IgPSByZXF1aXJlKCcuL3NyYy9zZWxlY3RvcicpO1xudmFyIHBhdGhVdGlsID0gcmVxdWlyZSgnLi9zcmMvb3V0cHV0L3BhdGhfdXRpbCcpO1xudmFyIF9fY29tcGlsZXJfcHJpdmF0ZV9fO1xuKGZ1bmN0aW9uIChfX2NvbXBpbGVyX3ByaXZhdGVfXykge1xuICAgIF9fY29tcGlsZXJfcHJpdmF0ZV9fLlNlbGVjdG9yTWF0Y2hlciA9IHNlbGVjdG9yLlNlbGVjdG9yTWF0Y2hlcjtcbiAgICBfX2NvbXBpbGVyX3ByaXZhdGVfXy5Dc3NTZWxlY3RvciA9IHNlbGVjdG9yLkNzc1NlbGVjdG9yO1xuICAgIF9fY29tcGlsZXJfcHJpdmF0ZV9fLkFzc2V0VXJsID0gcGF0aFV0aWwuQXNzZXRVcmw7XG4gICAgX19jb21waWxlcl9wcml2YXRlX18uSW1wb3J0R2VuZXJhdG9yID0gcGF0aFV0aWwuSW1wb3J0R2VuZXJhdG9yO1xufSkoX19jb21waWxlcl9wcml2YXRlX18gPSBleHBvcnRzLl9fY29tcGlsZXJfcHJpdmF0ZV9fIHx8IChleHBvcnRzLl9fY29tcGlsZXJfcHJpdmF0ZV9fID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByaXZhdGVfZXhwb3J0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvZXhjZXB0aW9ucycpO1xuZnVuY3Rpb24gYXNzZXJ0QXJyYXlPZlN0cmluZ3MoaWRlbnRpZmllciwgdmFsdWUpIHtcbiAgICBpZiAoIWxhbmdfMS5hc3NlcnRpb25zRW5hYmxlZCgpIHx8IGxhbmdfMS5pc0JsYW5rKHZhbHVlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghbGFuZ18xLmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbihcIkV4cGVjdGVkICdcIiArIGlkZW50aWZpZXIgKyBcIicgdG8gYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cIik7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKCFsYW5nXzEuaXNTdHJpbmcodmFsdWVbaV0pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJFeHBlY3RlZCAnXCIgKyBpZGVudGlmaWVyICsgXCInIHRvIGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5hc3NlcnRBcnJheU9mU3RyaW5ncyA9IGFzc2VydEFycmF5T2ZTdHJpbmdzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXNzZXJ0aW9ucy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBjb3JlX3ByaXZhdGVfMSA9IHJlcXVpcmUoJy4uL2NvcmVfcHJpdmF0ZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvZXhjZXB0aW9ucycpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIHNlbGVjdG9yXzEgPSByZXF1aXJlKCcuL3NlbGVjdG9yJyk7XG52YXIgdXRpbF8xID0gcmVxdWlyZSgnLi91dGlsJyk7XG52YXIgdXJsX3Jlc29sdmVyXzEgPSByZXF1aXJlKCcuL3VybF9yZXNvbHZlcicpO1xuLy8gZ3JvdXAgMTogXCJwcm9wZXJ0eVwiIGZyb20gXCJbcHJvcGVydHldXCJcbi8vIGdyb3VwIDI6IFwiZXZlbnRcIiBmcm9tIFwiKGV2ZW50KVwiXG52YXIgSE9TVF9SRUdfRVhQID0gL14oPzooPzpcXFsoW15cXF1dKylcXF0pfCg/OlxcKChbXlxcKV0rKVxcKSkpJC9nO1xudmFyIENvbXBpbGVNZXRhZGF0YVdpdGhJZGVudGlmaWVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb21waWxlTWV0YWRhdGFXaXRoSWRlbnRpZmllcigpIHtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBpbGVNZXRhZGF0YVdpdGhJZGVudGlmaWVyLnByb3RvdHlwZSwgXCJpZGVudGlmaWVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleGNlcHRpb25zXzEudW5pbXBsZW1lbnRlZCgpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQ29tcGlsZU1ldGFkYXRhV2l0aElkZW50aWZpZXI7XG59KCkpO1xuZXhwb3J0cy5Db21waWxlTWV0YWRhdGFXaXRoSWRlbnRpZmllciA9IENvbXBpbGVNZXRhZGF0YVdpdGhJZGVudGlmaWVyO1xudmFyIENvbXBpbGVNZXRhZGF0YVdpdGhUeXBlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29tcGlsZU1ldGFkYXRhV2l0aFR5cGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29tcGlsZU1ldGFkYXRhV2l0aFR5cGUoKSB7XG4gICAgICAgIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcGlsZU1ldGFkYXRhV2l0aFR5cGUucHJvdG90eXBlLCBcInR5cGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4Y2VwdGlvbnNfMS51bmltcGxlbWVudGVkKCk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21waWxlTWV0YWRhdGFXaXRoVHlwZS5wcm90b3R5cGUsIFwiaWRlbnRpZmllclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhjZXB0aW9uc18xLnVuaW1wbGVtZW50ZWQoKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENvbXBpbGVNZXRhZGF0YVdpdGhUeXBlO1xufShDb21waWxlTWV0YWRhdGFXaXRoSWRlbnRpZmllcikpO1xuZXhwb3J0cy5Db21waWxlTWV0YWRhdGFXaXRoVHlwZSA9IENvbXBpbGVNZXRhZGF0YVdpdGhUeXBlO1xuZnVuY3Rpb24gbWV0YWRhdGFGcm9tSnNvbihkYXRhKSB7XG4gICAgcmV0dXJuIF9DT01QSUxFX01FVEFEQVRBX0ZST01fSlNPTltkYXRhWydjbGFzcyddXShkYXRhKTtcbn1cbmV4cG9ydHMubWV0YWRhdGFGcm9tSnNvbiA9IG1ldGFkYXRhRnJvbUpzb247XG52YXIgQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YShfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgcnVudGltZSA9IF9iLnJ1bnRpbWUsIG5hbWUgPSBfYi5uYW1lLCBtb2R1bGVVcmwgPSBfYi5tb2R1bGVVcmwsIHByZWZpeCA9IF9iLnByZWZpeCwgdmFsdWUgPSBfYi52YWx1ZTtcbiAgICAgICAgdGhpcy5ydW50aW1lID0gcnVudGltZTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5wcmVmaXggPSBwcmVmaXg7XG4gICAgICAgIHRoaXMubW9kdWxlVXJsID0gbW9kdWxlVXJsO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIENvbXBpbGVJZGVudGlmaWVyTWV0YWRhdGEuZnJvbUpzb24gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBsYW5nXzEuaXNBcnJheShkYXRhWyd2YWx1ZSddKSA/IF9hcnJheUZyb21Kc29uKGRhdGFbJ3ZhbHVlJ10sIG1ldGFkYXRhRnJvbUpzb24pIDpcbiAgICAgICAgICAgIF9vYmpGcm9tSnNvbihkYXRhWyd2YWx1ZSddLCBtZXRhZGF0YUZyb21Kc29uKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlSWRlbnRpZmllck1ldGFkYXRhKHsgbmFtZTogZGF0YVsnbmFtZSddLCBwcmVmaXg6IGRhdGFbJ3ByZWZpeCddLCBtb2R1bGVVcmw6IGRhdGFbJ21vZHVsZVVybCddLCB2YWx1ZTogdmFsdWUgfSk7XG4gICAgfTtcbiAgICBDb21waWxlSWRlbnRpZmllck1ldGFkYXRhLnByb3RvdHlwZS50b0pzb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGxhbmdfMS5pc0FycmF5KHRoaXMudmFsdWUpID8gX2FycmF5VG9Kc29uKHRoaXMudmFsdWUpIDogX29ialRvSnNvbih0aGlzLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIE5vdGU6IFJ1bnRpbWUgdHlwZSBjYW4ndCBiZSBzZXJpYWxpemVkLi4uXG4gICAgICAgICAgICAnY2xhc3MnOiAnSWRlbnRpZmllcicsXG4gICAgICAgICAgICAnbmFtZSc6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICdtb2R1bGVVcmwnOiB0aGlzLm1vZHVsZVVybCxcbiAgICAgICAgICAgICdwcmVmaXgnOiB0aGlzLnByZWZpeCxcbiAgICAgICAgICAgICd2YWx1ZSc6IHZhbHVlXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YS5wcm90b3R5cGUsIFwiaWRlbnRpZmllclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENvbXBpbGVJZGVudGlmaWVyTWV0YWRhdGE7XG59KCkpO1xuZXhwb3J0cy5Db21waWxlSWRlbnRpZmllck1ldGFkYXRhID0gQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YTtcbnZhciBDb21waWxlRGlEZXBlbmRlbmN5TWV0YWRhdGEgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbXBpbGVEaURlcGVuZGVuY3lNZXRhZGF0YShfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgaXNBdHRyaWJ1dGUgPSBfYi5pc0F0dHJpYnV0ZSwgaXNTZWxmID0gX2IuaXNTZWxmLCBpc0hvc3QgPSBfYi5pc0hvc3QsIGlzU2tpcFNlbGYgPSBfYi5pc1NraXBTZWxmLCBpc09wdGlvbmFsID0gX2IuaXNPcHRpb25hbCwgaXNWYWx1ZSA9IF9iLmlzVmFsdWUsIHF1ZXJ5ID0gX2IucXVlcnksIHZpZXdRdWVyeSA9IF9iLnZpZXdRdWVyeSwgdG9rZW4gPSBfYi50b2tlbiwgdmFsdWUgPSBfYi52YWx1ZTtcbiAgICAgICAgdGhpcy5pc0F0dHJpYnV0ZSA9IGxhbmdfMS5ub3JtYWxpemVCb29sKGlzQXR0cmlidXRlKTtcbiAgICAgICAgdGhpcy5pc1NlbGYgPSBsYW5nXzEubm9ybWFsaXplQm9vbChpc1NlbGYpO1xuICAgICAgICB0aGlzLmlzSG9zdCA9IGxhbmdfMS5ub3JtYWxpemVCb29sKGlzSG9zdCk7XG4gICAgICAgIHRoaXMuaXNTa2lwU2VsZiA9IGxhbmdfMS5ub3JtYWxpemVCb29sKGlzU2tpcFNlbGYpO1xuICAgICAgICB0aGlzLmlzT3B0aW9uYWwgPSBsYW5nXzEubm9ybWFsaXplQm9vbChpc09wdGlvbmFsKTtcbiAgICAgICAgdGhpcy5pc1ZhbHVlID0gbGFuZ18xLm5vcm1hbGl6ZUJvb2woaXNWYWx1ZSk7XG4gICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeTtcbiAgICAgICAgdGhpcy52aWV3UXVlcnkgPSB2aWV3UXVlcnk7XG4gICAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBDb21waWxlRGlEZXBlbmRlbmN5TWV0YWRhdGEuZnJvbUpzb24gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVEaURlcGVuZGVuY3lNZXRhZGF0YSh7XG4gICAgICAgICAgICB0b2tlbjogX29iakZyb21Kc29uKGRhdGFbJ3Rva2VuJ10sIENvbXBpbGVUb2tlbk1ldGFkYXRhLmZyb21Kc29uKSxcbiAgICAgICAgICAgIHF1ZXJ5OiBfb2JqRnJvbUpzb24oZGF0YVsncXVlcnknXSwgQ29tcGlsZVF1ZXJ5TWV0YWRhdGEuZnJvbUpzb24pLFxuICAgICAgICAgICAgdmlld1F1ZXJ5OiBfb2JqRnJvbUpzb24oZGF0YVsndmlld1F1ZXJ5J10sIENvbXBpbGVRdWVyeU1ldGFkYXRhLmZyb21Kc29uKSxcbiAgICAgICAgICAgIHZhbHVlOiBkYXRhWyd2YWx1ZSddLFxuICAgICAgICAgICAgaXNBdHRyaWJ1dGU6IGRhdGFbJ2lzQXR0cmlidXRlJ10sXG4gICAgICAgICAgICBpc1NlbGY6IGRhdGFbJ2lzU2VsZiddLFxuICAgICAgICAgICAgaXNIb3N0OiBkYXRhWydpc0hvc3QnXSxcbiAgICAgICAgICAgIGlzU2tpcFNlbGY6IGRhdGFbJ2lzU2tpcFNlbGYnXSxcbiAgICAgICAgICAgIGlzT3B0aW9uYWw6IGRhdGFbJ2lzT3B0aW9uYWwnXSxcbiAgICAgICAgICAgIGlzVmFsdWU6IGRhdGFbJ2lzVmFsdWUnXVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENvbXBpbGVEaURlcGVuZGVuY3lNZXRhZGF0YS5wcm90b3R5cGUudG9Kc29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ3Rva2VuJzogX29ialRvSnNvbih0aGlzLnRva2VuKSxcbiAgICAgICAgICAgICdxdWVyeSc6IF9vYmpUb0pzb24odGhpcy5xdWVyeSksXG4gICAgICAgICAgICAndmlld1F1ZXJ5JzogX29ialRvSnNvbih0aGlzLnZpZXdRdWVyeSksXG4gICAgICAgICAgICAndmFsdWUnOiB0aGlzLnZhbHVlLFxuICAgICAgICAgICAgJ2lzQXR0cmlidXRlJzogdGhpcy5pc0F0dHJpYnV0ZSxcbiAgICAgICAgICAgICdpc1NlbGYnOiB0aGlzLmlzU2VsZixcbiAgICAgICAgICAgICdpc0hvc3QnOiB0aGlzLmlzSG9zdCxcbiAgICAgICAgICAgICdpc1NraXBTZWxmJzogdGhpcy5pc1NraXBTZWxmLFxuICAgICAgICAgICAgJ2lzT3B0aW9uYWwnOiB0aGlzLmlzT3B0aW9uYWwsXG4gICAgICAgICAgICAnaXNWYWx1ZSc6IHRoaXMuaXNWYWx1ZVxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIENvbXBpbGVEaURlcGVuZGVuY3lNZXRhZGF0YTtcbn0oKSk7XG5leHBvcnRzLkNvbXBpbGVEaURlcGVuZGVuY3lNZXRhZGF0YSA9IENvbXBpbGVEaURlcGVuZGVuY3lNZXRhZGF0YTtcbnZhciBDb21waWxlUHJvdmlkZXJNZXRhZGF0YSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tcGlsZVByb3ZpZGVyTWV0YWRhdGEoX2EpIHtcbiAgICAgICAgdmFyIHRva2VuID0gX2EudG9rZW4sIHVzZUNsYXNzID0gX2EudXNlQ2xhc3MsIHVzZVZhbHVlID0gX2EudXNlVmFsdWUsIHVzZUV4aXN0aW5nID0gX2EudXNlRXhpc3RpbmcsIHVzZUZhY3RvcnkgPSBfYS51c2VGYWN0b3J5LCBkZXBzID0gX2EuZGVwcywgbXVsdGkgPSBfYS5tdWx0aTtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgICAgICB0aGlzLnVzZUNsYXNzID0gdXNlQ2xhc3M7XG4gICAgICAgIHRoaXMudXNlVmFsdWUgPSB1c2VWYWx1ZTtcbiAgICAgICAgdGhpcy51c2VFeGlzdGluZyA9IHVzZUV4aXN0aW5nO1xuICAgICAgICB0aGlzLnVzZUZhY3RvcnkgPSB1c2VGYWN0b3J5O1xuICAgICAgICB0aGlzLmRlcHMgPSBsYW5nXzEubm9ybWFsaXplQmxhbmsoZGVwcyk7XG4gICAgICAgIHRoaXMubXVsdGkgPSBsYW5nXzEubm9ybWFsaXplQm9vbChtdWx0aSk7XG4gICAgfVxuICAgIENvbXBpbGVQcm92aWRlck1ldGFkYXRhLmZyb21Kc29uID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlUHJvdmlkZXJNZXRhZGF0YSh7XG4gICAgICAgICAgICB0b2tlbjogX29iakZyb21Kc29uKGRhdGFbJ3Rva2VuJ10sIENvbXBpbGVUb2tlbk1ldGFkYXRhLmZyb21Kc29uKSxcbiAgICAgICAgICAgIHVzZUNsYXNzOiBfb2JqRnJvbUpzb24oZGF0YVsndXNlQ2xhc3MnXSwgQ29tcGlsZVR5cGVNZXRhZGF0YS5mcm9tSnNvbiksXG4gICAgICAgICAgICB1c2VFeGlzdGluZzogX29iakZyb21Kc29uKGRhdGFbJ3VzZUV4aXN0aW5nJ10sIENvbXBpbGVUb2tlbk1ldGFkYXRhLmZyb21Kc29uKSxcbiAgICAgICAgICAgIHVzZVZhbHVlOiBfb2JqRnJvbUpzb24oZGF0YVsndXNlVmFsdWUnXSwgQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YS5mcm9tSnNvbiksXG4gICAgICAgICAgICB1c2VGYWN0b3J5OiBfb2JqRnJvbUpzb24oZGF0YVsndXNlRmFjdG9yeSddLCBDb21waWxlRmFjdG9yeU1ldGFkYXRhLmZyb21Kc29uKSxcbiAgICAgICAgICAgIG11bHRpOiBkYXRhWydtdWx0aSddLFxuICAgICAgICAgICAgZGVwczogX2FycmF5RnJvbUpzb24oZGF0YVsnZGVwcyddLCBDb21waWxlRGlEZXBlbmRlbmN5TWV0YWRhdGEuZnJvbUpzb24pXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29tcGlsZVByb3ZpZGVyTWV0YWRhdGEucHJvdG90eXBlLnRvSnNvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIE5vdGU6IFJ1bnRpbWUgdHlwZSBjYW4ndCBiZSBzZXJpYWxpemVkLi4uXG4gICAgICAgICAgICAnY2xhc3MnOiAnUHJvdmlkZXInLFxuICAgICAgICAgICAgJ3Rva2VuJzogX29ialRvSnNvbih0aGlzLnRva2VuKSxcbiAgICAgICAgICAgICd1c2VDbGFzcyc6IF9vYmpUb0pzb24odGhpcy51c2VDbGFzcyksXG4gICAgICAgICAgICAndXNlRXhpc3RpbmcnOiBfb2JqVG9Kc29uKHRoaXMudXNlRXhpc3RpbmcpLFxuICAgICAgICAgICAgJ3VzZVZhbHVlJzogX29ialRvSnNvbih0aGlzLnVzZVZhbHVlKSxcbiAgICAgICAgICAgICd1c2VGYWN0b3J5JzogX29ialRvSnNvbih0aGlzLnVzZUZhY3RvcnkpLFxuICAgICAgICAgICAgJ211bHRpJzogdGhpcy5tdWx0aSxcbiAgICAgICAgICAgICdkZXBzJzogX2FycmF5VG9Kc29uKHRoaXMuZGVwcylcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBDb21waWxlUHJvdmlkZXJNZXRhZGF0YTtcbn0oKSk7XG5leHBvcnRzLkNvbXBpbGVQcm92aWRlck1ldGFkYXRhID0gQ29tcGlsZVByb3ZpZGVyTWV0YWRhdGE7XG52YXIgQ29tcGlsZUZhY3RvcnlNZXRhZGF0YSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tcGlsZUZhY3RvcnlNZXRhZGF0YShfYSkge1xuICAgICAgICB2YXIgcnVudGltZSA9IF9hLnJ1bnRpbWUsIG5hbWUgPSBfYS5uYW1lLCBtb2R1bGVVcmwgPSBfYS5tb2R1bGVVcmwsIHByZWZpeCA9IF9hLnByZWZpeCwgZGlEZXBzID0gX2EuZGlEZXBzLCB2YWx1ZSA9IF9hLnZhbHVlO1xuICAgICAgICB0aGlzLnJ1bnRpbWUgPSBydW50aW1lO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnByZWZpeCA9IHByZWZpeDtcbiAgICAgICAgdGhpcy5tb2R1bGVVcmwgPSBtb2R1bGVVcmw7XG4gICAgICAgIHRoaXMuZGlEZXBzID0gX25vcm1hbGl6ZUFycmF5KGRpRGVwcyk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBpbGVGYWN0b3J5TWV0YWRhdGEucHJvdG90eXBlLCBcImlkZW50aWZpZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIENvbXBpbGVGYWN0b3J5TWV0YWRhdGEuZnJvbUpzb24gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVGYWN0b3J5TWV0YWRhdGEoe1xuICAgICAgICAgICAgbmFtZTogZGF0YVsnbmFtZSddLFxuICAgICAgICAgICAgcHJlZml4OiBkYXRhWydwcmVmaXgnXSxcbiAgICAgICAgICAgIG1vZHVsZVVybDogZGF0YVsnbW9kdWxlVXJsJ10sXG4gICAgICAgICAgICB2YWx1ZTogZGF0YVsndmFsdWUnXSxcbiAgICAgICAgICAgIGRpRGVwczogX2FycmF5RnJvbUpzb24oZGF0YVsnZGlEZXBzJ10sIENvbXBpbGVEaURlcGVuZGVuY3lNZXRhZGF0YS5mcm9tSnNvbilcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb21waWxlRmFjdG9yeU1ldGFkYXRhLnByb3RvdHlwZS50b0pzb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnY2xhc3MnOiAnRmFjdG9yeScsXG4gICAgICAgICAgICAnbmFtZSc6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICdwcmVmaXgnOiB0aGlzLnByZWZpeCxcbiAgICAgICAgICAgICdtb2R1bGVVcmwnOiB0aGlzLm1vZHVsZVVybCxcbiAgICAgICAgICAgICd2YWx1ZSc6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICAnZGlEZXBzJzogX2FycmF5VG9Kc29uKHRoaXMuZGlEZXBzKVxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIENvbXBpbGVGYWN0b3J5TWV0YWRhdGE7XG59KCkpO1xuZXhwb3J0cy5Db21waWxlRmFjdG9yeU1ldGFkYXRhID0gQ29tcGlsZUZhY3RvcnlNZXRhZGF0YTtcbnZhciBDb21waWxlVG9rZW5NZXRhZGF0YSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tcGlsZVRva2VuTWV0YWRhdGEoX2EpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gX2EudmFsdWUsIGlkZW50aWZpZXIgPSBfYS5pZGVudGlmaWVyLCBpZGVudGlmaWVySXNJbnN0YW5jZSA9IF9hLmlkZW50aWZpZXJJc0luc3RhbmNlO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuaWRlbnRpZmllciA9IGlkZW50aWZpZXI7XG4gICAgICAgIHRoaXMuaWRlbnRpZmllcklzSW5zdGFuY2UgPSBsYW5nXzEubm9ybWFsaXplQm9vbChpZGVudGlmaWVySXNJbnN0YW5jZSk7XG4gICAgfVxuICAgIENvbXBpbGVUb2tlbk1ldGFkYXRhLmZyb21Kc29uID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlVG9rZW5NZXRhZGF0YSh7XG4gICAgICAgICAgICB2YWx1ZTogZGF0YVsndmFsdWUnXSxcbiAgICAgICAgICAgIGlkZW50aWZpZXI6IF9vYmpGcm9tSnNvbihkYXRhWydpZGVudGlmaWVyJ10sIENvbXBpbGVJZGVudGlmaWVyTWV0YWRhdGEuZnJvbUpzb24pLFxuICAgICAgICAgICAgaWRlbnRpZmllcklzSW5zdGFuY2U6IGRhdGFbJ2lkZW50aWZpZXJJc0luc3RhbmNlJ11cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb21waWxlVG9rZW5NZXRhZGF0YS5wcm90b3R5cGUudG9Kc29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ3ZhbHVlJzogdGhpcy52YWx1ZSxcbiAgICAgICAgICAgICdpZGVudGlmaWVyJzogX29ialRvSnNvbih0aGlzLmlkZW50aWZpZXIpLFxuICAgICAgICAgICAgJ2lkZW50aWZpZXJJc0luc3RhbmNlJzogdGhpcy5pZGVudGlmaWVySXNJbnN0YW5jZVxuICAgICAgICB9O1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBpbGVUb2tlbk1ldGFkYXRhLnByb3RvdHlwZSwgXCJydW50aW1lQ2FjaGVLZXlcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHRoaXMuaWRlbnRpZmllcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pZGVudGlmaWVyLnJ1bnRpbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBpbGVUb2tlbk1ldGFkYXRhLnByb3RvdHlwZSwgXCJhc3NldENhY2hlS2V5XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLmlkZW50aWZpZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQodGhpcy5pZGVudGlmaWVyLm1vZHVsZVVybCkgJiZcbiAgICAgICAgICAgICAgICAgICAgbGFuZ18xLmlzUHJlc2VudCh1cmxfcmVzb2x2ZXJfMS5nZXRVcmxTY2hlbWUodGhpcy5pZGVudGlmaWVyLm1vZHVsZVVybCkpID9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZGVudGlmaWVyLm5hbWUgKyBcInxcIiArIHRoaXMuaWRlbnRpZmllci5tb2R1bGVVcmwgKyBcInxcIiArIHRoaXMuaWRlbnRpZmllcklzSW5zdGFuY2UgOlxuICAgICAgICAgICAgICAgICAgICBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIENvbXBpbGVUb2tlbk1ldGFkYXRhLnByb3RvdHlwZS5lcXVhbHNUbyA9IGZ1bmN0aW9uICh0b2tlbjIpIHtcbiAgICAgICAgdmFyIHJrID0gdGhpcy5ydW50aW1lQ2FjaGVLZXk7XG4gICAgICAgIHZhciBhayA9IHRoaXMuYXNzZXRDYWNoZUtleTtcbiAgICAgICAgcmV0dXJuIChsYW5nXzEuaXNQcmVzZW50KHJrKSAmJiByayA9PSB0b2tlbjIucnVudGltZUNhY2hlS2V5KSB8fFxuICAgICAgICAgICAgKGxhbmdfMS5pc1ByZXNlbnQoYWspICYmIGFrID09IHRva2VuMi5hc3NldENhY2hlS2V5KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21waWxlVG9rZW5NZXRhZGF0YS5wcm90b3R5cGUsIFwibmFtZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQodGhpcy52YWx1ZSkgPyB1dGlsXzEuc2FuaXRpemVJZGVudGlmaWVyKHRoaXMudmFsdWUpIDogdGhpcy5pZGVudGlmaWVyLm5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBDb21waWxlVG9rZW5NZXRhZGF0YTtcbn0oKSk7XG5leHBvcnRzLkNvbXBpbGVUb2tlbk1ldGFkYXRhID0gQ29tcGlsZVRva2VuTWV0YWRhdGE7XG52YXIgQ29tcGlsZVRva2VuTWFwID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb21waWxlVG9rZW5NYXAoKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl92YWx1ZXMgPSBbXTtcbiAgICB9XG4gICAgQ29tcGlsZVRva2VuTWFwLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodG9rZW4sIHZhbHVlKSB7XG4gICAgICAgIHZhciBleGlzdGluZyA9IHRoaXMuZ2V0KHRva2VuKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoZXhpc3RpbmcpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJDYW4gb25seSBhZGQgdG8gYSBUb2tlbk1hcCEgVG9rZW46IFwiICsgdG9rZW4ubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgICB2YXIgcmsgPSB0b2tlbi5ydW50aW1lQ2FjaGVLZXk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHJrKSkge1xuICAgICAgICAgICAgdGhpcy5fdmFsdWVNYXAuc2V0KHJrLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFrID0gdG9rZW4uYXNzZXRDYWNoZUtleTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoYWspKSB7XG4gICAgICAgICAgICB0aGlzLl92YWx1ZU1hcC5zZXQoYWssIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29tcGlsZVRva2VuTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgdmFyIHJrID0gdG9rZW4ucnVudGltZUNhY2hlS2V5O1xuICAgICAgICB2YXIgYWsgPSB0b2tlbi5hc3NldENhY2hlS2V5O1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChyaykpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX3ZhbHVlTWFwLmdldChyayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHJlc3VsdCkgJiYgbGFuZ18xLmlzUHJlc2VudChhaykpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX3ZhbHVlTWFwLmdldChhayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIENvbXBpbGVUb2tlbk1hcC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fdmFsdWVzOyB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21waWxlVG9rZW5NYXAucHJvdG90eXBlLCBcInNpemVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3ZhbHVlcy5sZW5ndGg7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBDb21waWxlVG9rZW5NYXA7XG59KCkpO1xuZXhwb3J0cy5Db21waWxlVG9rZW5NYXAgPSBDb21waWxlVG9rZW5NYXA7XG4vKipcbiAqIE1ldGFkYXRhIHJlZ2FyZGluZyBjb21waWxhdGlvbiBvZiBhIHR5cGUuXG4gKi9cbnZhciBDb21waWxlVHlwZU1ldGFkYXRhID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb21waWxlVHlwZU1ldGFkYXRhKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBydW50aW1lID0gX2IucnVudGltZSwgbmFtZSA9IF9iLm5hbWUsIG1vZHVsZVVybCA9IF9iLm1vZHVsZVVybCwgcHJlZml4ID0gX2IucHJlZml4LCBpc0hvc3QgPSBfYi5pc0hvc3QsIHZhbHVlID0gX2IudmFsdWUsIGRpRGVwcyA9IF9iLmRpRGVwcztcbiAgICAgICAgdGhpcy5ydW50aW1lID0gcnVudGltZTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5tb2R1bGVVcmwgPSBtb2R1bGVVcmw7XG4gICAgICAgIHRoaXMucHJlZml4ID0gcHJlZml4O1xuICAgICAgICB0aGlzLmlzSG9zdCA9IGxhbmdfMS5ub3JtYWxpemVCb29sKGlzSG9zdCk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5kaURlcHMgPSBfbm9ybWFsaXplQXJyYXkoZGlEZXBzKTtcbiAgICB9XG4gICAgQ29tcGlsZVR5cGVNZXRhZGF0YS5mcm9tSnNvbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGlsZVR5cGVNZXRhZGF0YSh7XG4gICAgICAgICAgICBuYW1lOiBkYXRhWyduYW1lJ10sXG4gICAgICAgICAgICBtb2R1bGVVcmw6IGRhdGFbJ21vZHVsZVVybCddLFxuICAgICAgICAgICAgcHJlZml4OiBkYXRhWydwcmVmaXgnXSxcbiAgICAgICAgICAgIGlzSG9zdDogZGF0YVsnaXNIb3N0J10sXG4gICAgICAgICAgICB2YWx1ZTogZGF0YVsndmFsdWUnXSxcbiAgICAgICAgICAgIGRpRGVwczogX2FycmF5RnJvbUpzb24oZGF0YVsnZGlEZXBzJ10sIENvbXBpbGVEaURlcGVuZGVuY3lNZXRhZGF0YS5mcm9tSnNvbilcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcGlsZVR5cGVNZXRhZGF0YS5wcm90b3R5cGUsIFwiaWRlbnRpZmllclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBpbGVUeXBlTWV0YWRhdGEucHJvdG90eXBlLCBcInR5cGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIENvbXBpbGVUeXBlTWV0YWRhdGEucHJvdG90eXBlLnRvSnNvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIE5vdGU6IFJ1bnRpbWUgdHlwZSBjYW4ndCBiZSBzZXJpYWxpemVkLi4uXG4gICAgICAgICAgICAnY2xhc3MnOiAnVHlwZScsXG4gICAgICAgICAgICAnbmFtZSc6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICdtb2R1bGVVcmwnOiB0aGlzLm1vZHVsZVVybCxcbiAgICAgICAgICAgICdwcmVmaXgnOiB0aGlzLnByZWZpeCxcbiAgICAgICAgICAgICdpc0hvc3QnOiB0aGlzLmlzSG9zdCxcbiAgICAgICAgICAgICd2YWx1ZSc6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICAnZGlEZXBzJzogX2FycmF5VG9Kc29uKHRoaXMuZGlEZXBzKVxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIENvbXBpbGVUeXBlTWV0YWRhdGE7XG59KCkpO1xuZXhwb3J0cy5Db21waWxlVHlwZU1ldGFkYXRhID0gQ29tcGlsZVR5cGVNZXRhZGF0YTtcbnZhciBDb21waWxlUXVlcnlNZXRhZGF0YSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tcGlsZVF1ZXJ5TWV0YWRhdGEoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIHNlbGVjdG9ycyA9IF9iLnNlbGVjdG9ycywgZGVzY2VuZGFudHMgPSBfYi5kZXNjZW5kYW50cywgZmlyc3QgPSBfYi5maXJzdCwgcHJvcGVydHlOYW1lID0gX2IucHJvcGVydHlOYW1lLCByZWFkID0gX2IucmVhZDtcbiAgICAgICAgdGhpcy5zZWxlY3RvcnMgPSBzZWxlY3RvcnM7XG4gICAgICAgIHRoaXMuZGVzY2VuZGFudHMgPSBsYW5nXzEubm9ybWFsaXplQm9vbChkZXNjZW5kYW50cyk7XG4gICAgICAgIHRoaXMuZmlyc3QgPSBsYW5nXzEubm9ybWFsaXplQm9vbChmaXJzdCk7XG4gICAgICAgIHRoaXMucHJvcGVydHlOYW1lID0gcHJvcGVydHlOYW1lO1xuICAgICAgICB0aGlzLnJlYWQgPSByZWFkO1xuICAgIH1cbiAgICBDb21waWxlUXVlcnlNZXRhZGF0YS5mcm9tSnNvbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGlsZVF1ZXJ5TWV0YWRhdGEoe1xuICAgICAgICAgICAgc2VsZWN0b3JzOiBfYXJyYXlGcm9tSnNvbihkYXRhWydzZWxlY3RvcnMnXSwgQ29tcGlsZVRva2VuTWV0YWRhdGEuZnJvbUpzb24pLFxuICAgICAgICAgICAgZGVzY2VuZGFudHM6IGRhdGFbJ2Rlc2NlbmRhbnRzJ10sXG4gICAgICAgICAgICBmaXJzdDogZGF0YVsnZmlyc3QnXSxcbiAgICAgICAgICAgIHByb3BlcnR5TmFtZTogZGF0YVsncHJvcGVydHlOYW1lJ10sXG4gICAgICAgICAgICByZWFkOiBfb2JqRnJvbUpzb24oZGF0YVsncmVhZCddLCBDb21waWxlVG9rZW5NZXRhZGF0YS5mcm9tSnNvbilcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb21waWxlUXVlcnlNZXRhZGF0YS5wcm90b3R5cGUudG9Kc29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ3NlbGVjdG9ycyc6IF9hcnJheVRvSnNvbih0aGlzLnNlbGVjdG9ycyksXG4gICAgICAgICAgICAnZGVzY2VuZGFudHMnOiB0aGlzLmRlc2NlbmRhbnRzLFxuICAgICAgICAgICAgJ2ZpcnN0JzogdGhpcy5maXJzdCxcbiAgICAgICAgICAgICdwcm9wZXJ0eU5hbWUnOiB0aGlzLnByb3BlcnR5TmFtZSxcbiAgICAgICAgICAgICdyZWFkJzogX29ialRvSnNvbih0aGlzLnJlYWQpXG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gQ29tcGlsZVF1ZXJ5TWV0YWRhdGE7XG59KCkpO1xuZXhwb3J0cy5Db21waWxlUXVlcnlNZXRhZGF0YSA9IENvbXBpbGVRdWVyeU1ldGFkYXRhO1xuLyoqXG4gKiBNZXRhZGF0YSByZWdhcmRpbmcgY29tcGlsYXRpb24gb2YgYSB0ZW1wbGF0ZS5cbiAqL1xudmFyIENvbXBpbGVUZW1wbGF0ZU1ldGFkYXRhID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb21waWxlVGVtcGxhdGVNZXRhZGF0YShfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgZW5jYXBzdWxhdGlvbiA9IF9iLmVuY2Fwc3VsYXRpb24sIHRlbXBsYXRlID0gX2IudGVtcGxhdGUsIHRlbXBsYXRlVXJsID0gX2IudGVtcGxhdGVVcmwsIHN0eWxlcyA9IF9iLnN0eWxlcywgc3R5bGVVcmxzID0gX2Iuc3R5bGVVcmxzLCBuZ0NvbnRlbnRTZWxlY3RvcnMgPSBfYi5uZ0NvbnRlbnRTZWxlY3RvcnM7XG4gICAgICAgIHRoaXMuZW5jYXBzdWxhdGlvbiA9IGxhbmdfMS5pc1ByZXNlbnQoZW5jYXBzdWxhdGlvbikgPyBlbmNhcHN1bGF0aW9uIDogY29yZV8xLlZpZXdFbmNhcHN1bGF0aW9uLkVtdWxhdGVkO1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICAgIHRoaXMudGVtcGxhdGVVcmwgPSB0ZW1wbGF0ZVVybDtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBsYW5nXzEuaXNQcmVzZW50KHN0eWxlcykgPyBzdHlsZXMgOiBbXTtcbiAgICAgICAgdGhpcy5zdHlsZVVybHMgPSBsYW5nXzEuaXNQcmVzZW50KHN0eWxlVXJscykgPyBzdHlsZVVybHMgOiBbXTtcbiAgICAgICAgdGhpcy5uZ0NvbnRlbnRTZWxlY3RvcnMgPSBsYW5nXzEuaXNQcmVzZW50KG5nQ29udGVudFNlbGVjdG9ycykgPyBuZ0NvbnRlbnRTZWxlY3RvcnMgOiBbXTtcbiAgICB9XG4gICAgQ29tcGlsZVRlbXBsYXRlTWV0YWRhdGEuZnJvbUpzb24gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBpbGVUZW1wbGF0ZU1ldGFkYXRhKHtcbiAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IGxhbmdfMS5pc1ByZXNlbnQoZGF0YVsnZW5jYXBzdWxhdGlvbiddKSA/XG4gICAgICAgICAgICAgICAgY29yZV9wcml2YXRlXzEuVklFV19FTkNBUFNVTEFUSU9OX1ZBTFVFU1tkYXRhWydlbmNhcHN1bGF0aW9uJ11dIDpcbiAgICAgICAgICAgICAgICBkYXRhWydlbmNhcHN1bGF0aW9uJ10sXG4gICAgICAgICAgICB0ZW1wbGF0ZTogZGF0YVsndGVtcGxhdGUnXSxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBkYXRhWyd0ZW1wbGF0ZVVybCddLFxuICAgICAgICAgICAgc3R5bGVzOiBkYXRhWydzdHlsZXMnXSxcbiAgICAgICAgICAgIHN0eWxlVXJsczogZGF0YVsnc3R5bGVVcmxzJ10sXG4gICAgICAgICAgICBuZ0NvbnRlbnRTZWxlY3RvcnM6IGRhdGFbJ25nQ29udGVudFNlbGVjdG9ycyddXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29tcGlsZVRlbXBsYXRlTWV0YWRhdGEucHJvdG90eXBlLnRvSnNvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdlbmNhcHN1bGF0aW9uJzogbGFuZ18xLmlzUHJlc2VudCh0aGlzLmVuY2Fwc3VsYXRpb24pID8gbGFuZ18xLnNlcmlhbGl6ZUVudW0odGhpcy5lbmNhcHN1bGF0aW9uKSA6IHRoaXMuZW5jYXBzdWxhdGlvbixcbiAgICAgICAgICAgICd0ZW1wbGF0ZSc6IHRoaXMudGVtcGxhdGUsXG4gICAgICAgICAgICAndGVtcGxhdGVVcmwnOiB0aGlzLnRlbXBsYXRlVXJsLFxuICAgICAgICAgICAgJ3N0eWxlcyc6IHRoaXMuc3R5bGVzLFxuICAgICAgICAgICAgJ3N0eWxlVXJscyc6IHRoaXMuc3R5bGVVcmxzLFxuICAgICAgICAgICAgJ25nQ29udGVudFNlbGVjdG9ycyc6IHRoaXMubmdDb250ZW50U2VsZWN0b3JzXG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gQ29tcGlsZVRlbXBsYXRlTWV0YWRhdGE7XG59KCkpO1xuZXhwb3J0cy5Db21waWxlVGVtcGxhdGVNZXRhZGF0YSA9IENvbXBpbGVUZW1wbGF0ZU1ldGFkYXRhO1xuLyoqXG4gKiBNZXRhZGF0YSByZWdhcmRpbmcgY29tcGlsYXRpb24gb2YgYSBkaXJlY3RpdmUuXG4gKi9cbnZhciBDb21waWxlRGlyZWN0aXZlTWV0YWRhdGEgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbXBpbGVEaXJlY3RpdmVNZXRhZGF0YShfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgdHlwZSA9IF9iLnR5cGUsIGlzQ29tcG9uZW50ID0gX2IuaXNDb21wb25lbnQsIHNlbGVjdG9yID0gX2Iuc2VsZWN0b3IsIGV4cG9ydEFzID0gX2IuZXhwb3J0QXMsIGNoYW5nZURldGVjdGlvbiA9IF9iLmNoYW5nZURldGVjdGlvbiwgaW5wdXRzID0gX2IuaW5wdXRzLCBvdXRwdXRzID0gX2Iub3V0cHV0cywgaG9zdExpc3RlbmVycyA9IF9iLmhvc3RMaXN0ZW5lcnMsIGhvc3RQcm9wZXJ0aWVzID0gX2IuaG9zdFByb3BlcnRpZXMsIGhvc3RBdHRyaWJ1dGVzID0gX2IuaG9zdEF0dHJpYnV0ZXMsIGxpZmVjeWNsZUhvb2tzID0gX2IubGlmZWN5Y2xlSG9va3MsIHByb3ZpZGVycyA9IF9iLnByb3ZpZGVycywgdmlld1Byb3ZpZGVycyA9IF9iLnZpZXdQcm92aWRlcnMsIHF1ZXJpZXMgPSBfYi5xdWVyaWVzLCB2aWV3UXVlcmllcyA9IF9iLnZpZXdRdWVyaWVzLCB0ZW1wbGF0ZSA9IF9iLnRlbXBsYXRlO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmlzQ29tcG9uZW50ID0gaXNDb21wb25lbnQ7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgdGhpcy5leHBvcnRBcyA9IGV4cG9ydEFzO1xuICAgICAgICB0aGlzLmNoYW5nZURldGVjdGlvbiA9IGNoYW5nZURldGVjdGlvbjtcbiAgICAgICAgdGhpcy5pbnB1dHMgPSBpbnB1dHM7XG4gICAgICAgIHRoaXMub3V0cHV0cyA9IG91dHB1dHM7XG4gICAgICAgIHRoaXMuaG9zdExpc3RlbmVycyA9IGhvc3RMaXN0ZW5lcnM7XG4gICAgICAgIHRoaXMuaG9zdFByb3BlcnRpZXMgPSBob3N0UHJvcGVydGllcztcbiAgICAgICAgdGhpcy5ob3N0QXR0cmlidXRlcyA9IGhvc3RBdHRyaWJ1dGVzO1xuICAgICAgICB0aGlzLmxpZmVjeWNsZUhvb2tzID0gX25vcm1hbGl6ZUFycmF5KGxpZmVjeWNsZUhvb2tzKTtcbiAgICAgICAgdGhpcy5wcm92aWRlcnMgPSBfbm9ybWFsaXplQXJyYXkocHJvdmlkZXJzKTtcbiAgICAgICAgdGhpcy52aWV3UHJvdmlkZXJzID0gX25vcm1hbGl6ZUFycmF5KHZpZXdQcm92aWRlcnMpO1xuICAgICAgICB0aGlzLnF1ZXJpZXMgPSBfbm9ybWFsaXplQXJyYXkocXVlcmllcyk7XG4gICAgICAgIHRoaXMudmlld1F1ZXJpZXMgPSBfbm9ybWFsaXplQXJyYXkodmlld1F1ZXJpZXMpO1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgfVxuICAgIENvbXBpbGVEaXJlY3RpdmVNZXRhZGF0YS5jcmVhdGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIHR5cGUgPSBfYi50eXBlLCBpc0NvbXBvbmVudCA9IF9iLmlzQ29tcG9uZW50LCBzZWxlY3RvciA9IF9iLnNlbGVjdG9yLCBleHBvcnRBcyA9IF9iLmV4cG9ydEFzLCBjaGFuZ2VEZXRlY3Rpb24gPSBfYi5jaGFuZ2VEZXRlY3Rpb24sIGlucHV0cyA9IF9iLmlucHV0cywgb3V0cHV0cyA9IF9iLm91dHB1dHMsIGhvc3QgPSBfYi5ob3N0LCBsaWZlY3ljbGVIb29rcyA9IF9iLmxpZmVjeWNsZUhvb2tzLCBwcm92aWRlcnMgPSBfYi5wcm92aWRlcnMsIHZpZXdQcm92aWRlcnMgPSBfYi52aWV3UHJvdmlkZXJzLCBxdWVyaWVzID0gX2IucXVlcmllcywgdmlld1F1ZXJpZXMgPSBfYi52aWV3UXVlcmllcywgdGVtcGxhdGUgPSBfYi50ZW1wbGF0ZTtcbiAgICAgICAgdmFyIGhvc3RMaXN0ZW5lcnMgPSB7fTtcbiAgICAgICAgdmFyIGhvc3RQcm9wZXJ0aWVzID0ge307XG4gICAgICAgIHZhciBob3N0QXR0cmlidXRlcyA9IHt9O1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChob3N0KSkge1xuICAgICAgICAgICAgY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIuZm9yRWFjaChob3N0LCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzID0gbGFuZ18xLlJlZ0V4cFdyYXBwZXIuZmlyc3RNYXRjaChIT1NUX1JFR19FWFAsIGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKG1hdGNoZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RBdHRyaWJ1dGVzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobGFuZ18xLmlzUHJlc2VudChtYXRjaGVzWzFdKSkge1xuICAgICAgICAgICAgICAgICAgICBob3N0UHJvcGVydGllc1ttYXRjaGVzWzFdXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsYW5nXzEuaXNQcmVzZW50KG1hdGNoZXNbMl0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RMaXN0ZW5lcnNbbWF0Y2hlc1syXV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5wdXRzTWFwID0ge307XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGlucHV0cykpIHtcbiAgICAgICAgICAgIGlucHV0cy5mb3JFYWNoKGZ1bmN0aW9uIChiaW5kQ29uZmlnKSB7XG4gICAgICAgICAgICAgICAgLy8gY2Fub25pY2FsIHN5bnRheDogYGRpclByb3A6IGVsUHJvcGBcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBgOmAsIHVzZSBkaXJQcm9wID0gZWxQcm9wXG4gICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gdXRpbF8xLnNwbGl0QXRDb2xvbihiaW5kQ29uZmlnLCBbYmluZENvbmZpZywgYmluZENvbmZpZ10pO1xuICAgICAgICAgICAgICAgIGlucHV0c01hcFtwYXJ0c1swXV0gPSBwYXJ0c1sxXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXRwdXRzTWFwID0ge307XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KG91dHB1dHMpKSB7XG4gICAgICAgICAgICBvdXRwdXRzLmZvckVhY2goZnVuY3Rpb24gKGJpbmRDb25maWcpIHtcbiAgICAgICAgICAgICAgICAvLyBjYW5vbmljYWwgc3ludGF4OiBgZGlyUHJvcDogZWxQcm9wYFxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGA6YCwgdXNlIGRpclByb3AgPSBlbFByb3BcbiAgICAgICAgICAgICAgICB2YXIgcGFydHMgPSB1dGlsXzEuc3BsaXRBdENvbG9uKGJpbmRDb25maWcsIFtiaW5kQ29uZmlnLCBiaW5kQ29uZmlnXSk7XG4gICAgICAgICAgICAgICAgb3V0cHV0c01hcFtwYXJ0c1swXV0gPSBwYXJ0c1sxXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGlsZURpcmVjdGl2ZU1ldGFkYXRhKHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBpc0NvbXBvbmVudDogbGFuZ18xLm5vcm1hbGl6ZUJvb2woaXNDb21wb25lbnQpLFxuICAgICAgICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yLFxuICAgICAgICAgICAgZXhwb3J0QXM6IGV4cG9ydEFzLFxuICAgICAgICAgICAgY2hhbmdlRGV0ZWN0aW9uOiBjaGFuZ2VEZXRlY3Rpb24sXG4gICAgICAgICAgICBpbnB1dHM6IGlucHV0c01hcCxcbiAgICAgICAgICAgIG91dHB1dHM6IG91dHB1dHNNYXAsXG4gICAgICAgICAgICBob3N0TGlzdGVuZXJzOiBob3N0TGlzdGVuZXJzLFxuICAgICAgICAgICAgaG9zdFByb3BlcnRpZXM6IGhvc3RQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgaG9zdEF0dHJpYnV0ZXM6IGhvc3RBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgbGlmZWN5Y2xlSG9va3M6IGxhbmdfMS5pc1ByZXNlbnQobGlmZWN5Y2xlSG9va3MpID8gbGlmZWN5Y2xlSG9va3MgOiBbXSxcbiAgICAgICAgICAgIHByb3ZpZGVyczogcHJvdmlkZXJzLFxuICAgICAgICAgICAgdmlld1Byb3ZpZGVyczogdmlld1Byb3ZpZGVycyxcbiAgICAgICAgICAgIHF1ZXJpZXM6IHF1ZXJpZXMsXG4gICAgICAgICAgICB2aWV3UXVlcmllczogdmlld1F1ZXJpZXMsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGVcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcGlsZURpcmVjdGl2ZU1ldGFkYXRhLnByb3RvdHlwZSwgXCJpZGVudGlmaWVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnR5cGU7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIENvbXBpbGVEaXJlY3RpdmVNZXRhZGF0YS5mcm9tSnNvbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGlsZURpcmVjdGl2ZU1ldGFkYXRhKHtcbiAgICAgICAgICAgIGlzQ29tcG9uZW50OiBkYXRhWydpc0NvbXBvbmVudCddLFxuICAgICAgICAgICAgc2VsZWN0b3I6IGRhdGFbJ3NlbGVjdG9yJ10sXG4gICAgICAgICAgICBleHBvcnRBczogZGF0YVsnZXhwb3J0QXMnXSxcbiAgICAgICAgICAgIHR5cGU6IGxhbmdfMS5pc1ByZXNlbnQoZGF0YVsndHlwZSddKSA/IENvbXBpbGVUeXBlTWV0YWRhdGEuZnJvbUpzb24oZGF0YVsndHlwZSddKSA6IGRhdGFbJ3R5cGUnXSxcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogbGFuZ18xLmlzUHJlc2VudChkYXRhWydjaGFuZ2VEZXRlY3Rpb24nXSkgP1xuICAgICAgICAgICAgICAgIGNvcmVfcHJpdmF0ZV8xLkNIQU5HRV9ERVRFQ1RJT05fU1RSQVRFR1lfVkFMVUVTW2RhdGFbJ2NoYW5nZURldGVjdGlvbiddXSA6XG4gICAgICAgICAgICAgICAgZGF0YVsnY2hhbmdlRGV0ZWN0aW9uJ10sXG4gICAgICAgICAgICBpbnB1dHM6IGRhdGFbJ2lucHV0cyddLFxuICAgICAgICAgICAgb3V0cHV0czogZGF0YVsnb3V0cHV0cyddLFxuICAgICAgICAgICAgaG9zdExpc3RlbmVyczogZGF0YVsnaG9zdExpc3RlbmVycyddLFxuICAgICAgICAgICAgaG9zdFByb3BlcnRpZXM6IGRhdGFbJ2hvc3RQcm9wZXJ0aWVzJ10sXG4gICAgICAgICAgICBob3N0QXR0cmlidXRlczogZGF0YVsnaG9zdEF0dHJpYnV0ZXMnXSxcbiAgICAgICAgICAgIGxpZmVjeWNsZUhvb2tzOiBkYXRhWydsaWZlY3ljbGVIb29rcyddLm1hcChmdW5jdGlvbiAoaG9va1ZhbHVlKSB7IHJldHVybiBjb3JlX3ByaXZhdGVfMS5MSUZFQ1lDTEVfSE9PS1NfVkFMVUVTW2hvb2tWYWx1ZV07IH0pLFxuICAgICAgICAgICAgdGVtcGxhdGU6IGxhbmdfMS5pc1ByZXNlbnQoZGF0YVsndGVtcGxhdGUnXSkgPyBDb21waWxlVGVtcGxhdGVNZXRhZGF0YS5mcm9tSnNvbihkYXRhWyd0ZW1wbGF0ZSddKSA6XG4gICAgICAgICAgICAgICAgZGF0YVsndGVtcGxhdGUnXSxcbiAgICAgICAgICAgIHByb3ZpZGVyczogX2FycmF5RnJvbUpzb24oZGF0YVsncHJvdmlkZXJzJ10sIG1ldGFkYXRhRnJvbUpzb24pLFxuICAgICAgICAgICAgdmlld1Byb3ZpZGVyczogX2FycmF5RnJvbUpzb24oZGF0YVsndmlld1Byb3ZpZGVycyddLCBtZXRhZGF0YUZyb21Kc29uKSxcbiAgICAgICAgICAgIHF1ZXJpZXM6IF9hcnJheUZyb21Kc29uKGRhdGFbJ3F1ZXJpZXMnXSwgQ29tcGlsZVF1ZXJ5TWV0YWRhdGEuZnJvbUpzb24pLFxuICAgICAgICAgICAgdmlld1F1ZXJpZXM6IF9hcnJheUZyb21Kc29uKGRhdGFbJ3ZpZXdRdWVyaWVzJ10sIENvbXBpbGVRdWVyeU1ldGFkYXRhLmZyb21Kc29uKVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENvbXBpbGVEaXJlY3RpdmVNZXRhZGF0YS5wcm90b3R5cGUudG9Kc29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ2NsYXNzJzogJ0RpcmVjdGl2ZScsXG4gICAgICAgICAgICAnaXNDb21wb25lbnQnOiB0aGlzLmlzQ29tcG9uZW50LFxuICAgICAgICAgICAgJ3NlbGVjdG9yJzogdGhpcy5zZWxlY3RvcixcbiAgICAgICAgICAgICdleHBvcnRBcyc6IHRoaXMuZXhwb3J0QXMsXG4gICAgICAgICAgICAndHlwZSc6IGxhbmdfMS5pc1ByZXNlbnQodGhpcy50eXBlKSA/IHRoaXMudHlwZS50b0pzb24oKSA6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICdjaGFuZ2VEZXRlY3Rpb24nOiBsYW5nXzEuaXNQcmVzZW50KHRoaXMuY2hhbmdlRGV0ZWN0aW9uKSA/IGxhbmdfMS5zZXJpYWxpemVFbnVtKHRoaXMuY2hhbmdlRGV0ZWN0aW9uKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3Rpb24sXG4gICAgICAgICAgICAnaW5wdXRzJzogdGhpcy5pbnB1dHMsXG4gICAgICAgICAgICAnb3V0cHV0cyc6IHRoaXMub3V0cHV0cyxcbiAgICAgICAgICAgICdob3N0TGlzdGVuZXJzJzogdGhpcy5ob3N0TGlzdGVuZXJzLFxuICAgICAgICAgICAgJ2hvc3RQcm9wZXJ0aWVzJzogdGhpcy5ob3N0UHJvcGVydGllcyxcbiAgICAgICAgICAgICdob3N0QXR0cmlidXRlcyc6IHRoaXMuaG9zdEF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAnbGlmZWN5Y2xlSG9va3MnOiB0aGlzLmxpZmVjeWNsZUhvb2tzLm1hcChmdW5jdGlvbiAoaG9vaykgeyByZXR1cm4gbGFuZ18xLnNlcmlhbGl6ZUVudW0oaG9vayk7IH0pLFxuICAgICAgICAgICAgJ3RlbXBsYXRlJzogbGFuZ18xLmlzUHJlc2VudCh0aGlzLnRlbXBsYXRlKSA/IHRoaXMudGVtcGxhdGUudG9Kc29uKCkgOiB0aGlzLnRlbXBsYXRlLFxuICAgICAgICAgICAgJ3Byb3ZpZGVycyc6IF9hcnJheVRvSnNvbih0aGlzLnByb3ZpZGVycyksXG4gICAgICAgICAgICAndmlld1Byb3ZpZGVycyc6IF9hcnJheVRvSnNvbih0aGlzLnZpZXdQcm92aWRlcnMpLFxuICAgICAgICAgICAgJ3F1ZXJpZXMnOiBfYXJyYXlUb0pzb24odGhpcy5xdWVyaWVzKSxcbiAgICAgICAgICAgICd2aWV3UXVlcmllcyc6IF9hcnJheVRvSnNvbih0aGlzLnZpZXdRdWVyaWVzKVxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIENvbXBpbGVEaXJlY3RpdmVNZXRhZGF0YTtcbn0oKSk7XG5leHBvcnRzLkNvbXBpbGVEaXJlY3RpdmVNZXRhZGF0YSA9IENvbXBpbGVEaXJlY3RpdmVNZXRhZGF0YTtcbi8qKlxuICogQ29uc3RydWN0IHtAbGluayBDb21waWxlRGlyZWN0aXZlTWV0YWRhdGF9IGZyb20ge0BsaW5rIENvbXBvbmVudFR5cGVNZXRhZGF0YX0gYW5kIGEgc2VsZWN0b3IuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUhvc3RDb21wb25lbnRNZXRhKGNvbXBvbmVudFR5cGUsIGNvbXBvbmVudFNlbGVjdG9yKSB7XG4gICAgdmFyIHRlbXBsYXRlID0gc2VsZWN0b3JfMS5Dc3NTZWxlY3Rvci5wYXJzZShjb21wb25lbnRTZWxlY3RvcilbMF0uZ2V0TWF0Y2hpbmdFbGVtZW50VGVtcGxhdGUoKTtcbiAgICByZXR1cm4gQ29tcGlsZURpcmVjdGl2ZU1ldGFkYXRhLmNyZWF0ZSh7XG4gICAgICAgIHR5cGU6IG5ldyBDb21waWxlVHlwZU1ldGFkYXRhKHtcbiAgICAgICAgICAgIHJ1bnRpbWU6IE9iamVjdCxcbiAgICAgICAgICAgIG5hbWU6IGNvbXBvbmVudFR5cGUubmFtZSArIFwiX0hvc3RcIixcbiAgICAgICAgICAgIG1vZHVsZVVybDogY29tcG9uZW50VHlwZS5tb2R1bGVVcmwsXG4gICAgICAgICAgICBpc0hvc3Q6IHRydWVcbiAgICAgICAgfSksXG4gICAgICAgIHRlbXBsYXRlOiBuZXcgQ29tcGlsZVRlbXBsYXRlTWV0YWRhdGEoeyB0ZW1wbGF0ZTogdGVtcGxhdGUsIHRlbXBsYXRlVXJsOiAnJywgc3R5bGVzOiBbXSwgc3R5bGVVcmxzOiBbXSwgbmdDb250ZW50U2VsZWN0b3JzOiBbXSB9KSxcbiAgICAgICAgY2hhbmdlRGV0ZWN0aW9uOiBjb3JlXzEuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuRGVmYXVsdCxcbiAgICAgICAgaW5wdXRzOiBbXSxcbiAgICAgICAgb3V0cHV0czogW10sXG4gICAgICAgIGhvc3Q6IHt9LFxuICAgICAgICBsaWZlY3ljbGVIb29rczogW10sXG4gICAgICAgIGlzQ29tcG9uZW50OiB0cnVlLFxuICAgICAgICBzZWxlY3RvcjogJyonLFxuICAgICAgICBwcm92aWRlcnM6IFtdLFxuICAgICAgICB2aWV3UHJvdmlkZXJzOiBbXSxcbiAgICAgICAgcXVlcmllczogW10sXG4gICAgICAgIHZpZXdRdWVyaWVzOiBbXVxuICAgIH0pO1xufVxuZXhwb3J0cy5jcmVhdGVIb3N0Q29tcG9uZW50TWV0YSA9IGNyZWF0ZUhvc3RDb21wb25lbnRNZXRhO1xudmFyIENvbXBpbGVQaXBlTWV0YWRhdGEgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbXBpbGVQaXBlTWV0YWRhdGEoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIHR5cGUgPSBfYi50eXBlLCBuYW1lID0gX2IubmFtZSwgcHVyZSA9IF9iLnB1cmUsIGxpZmVjeWNsZUhvb2tzID0gX2IubGlmZWN5Y2xlSG9va3M7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMucHVyZSA9IGxhbmdfMS5ub3JtYWxpemVCb29sKHB1cmUpO1xuICAgICAgICB0aGlzLmxpZmVjeWNsZUhvb2tzID0gX25vcm1hbGl6ZUFycmF5KGxpZmVjeWNsZUhvb2tzKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBpbGVQaXBlTWV0YWRhdGEucHJvdG90eXBlLCBcImlkZW50aWZpZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMudHlwZTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQ29tcGlsZVBpcGVNZXRhZGF0YS5mcm9tSnNvbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGlsZVBpcGVNZXRhZGF0YSh7XG4gICAgICAgICAgICB0eXBlOiBsYW5nXzEuaXNQcmVzZW50KGRhdGFbJ3R5cGUnXSkgPyBDb21waWxlVHlwZU1ldGFkYXRhLmZyb21Kc29uKGRhdGFbJ3R5cGUnXSkgOiBkYXRhWyd0eXBlJ10sXG4gICAgICAgICAgICBuYW1lOiBkYXRhWyduYW1lJ10sXG4gICAgICAgICAgICBwdXJlOiBkYXRhWydwdXJlJ11cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb21waWxlUGlwZU1ldGFkYXRhLnByb3RvdHlwZS50b0pzb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnY2xhc3MnOiAnUGlwZScsXG4gICAgICAgICAgICAndHlwZSc6IGxhbmdfMS5pc1ByZXNlbnQodGhpcy50eXBlKSA/IHRoaXMudHlwZS50b0pzb24oKSA6IG51bGwsXG4gICAgICAgICAgICAnbmFtZSc6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICdwdXJlJzogdGhpcy5wdXJlXG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gQ29tcGlsZVBpcGVNZXRhZGF0YTtcbn0oKSk7XG5leHBvcnRzLkNvbXBpbGVQaXBlTWV0YWRhdGEgPSBDb21waWxlUGlwZU1ldGFkYXRhO1xudmFyIF9DT01QSUxFX01FVEFEQVRBX0ZST01fSlNPTiA9IHtcbiAgICAnRGlyZWN0aXZlJzogQ29tcGlsZURpcmVjdGl2ZU1ldGFkYXRhLmZyb21Kc29uLFxuICAgICdQaXBlJzogQ29tcGlsZVBpcGVNZXRhZGF0YS5mcm9tSnNvbixcbiAgICAnVHlwZSc6IENvbXBpbGVUeXBlTWV0YWRhdGEuZnJvbUpzb24sXG4gICAgJ1Byb3ZpZGVyJzogQ29tcGlsZVByb3ZpZGVyTWV0YWRhdGEuZnJvbUpzb24sXG4gICAgJ0lkZW50aWZpZXInOiBDb21waWxlSWRlbnRpZmllck1ldGFkYXRhLmZyb21Kc29uLFxuICAgICdGYWN0b3J5JzogQ29tcGlsZUZhY3RvcnlNZXRhZGF0YS5mcm9tSnNvblxufTtcbmZ1bmN0aW9uIF9hcnJheUZyb21Kc29uKG9iaiwgZm4pIHtcbiAgICByZXR1cm4gbGFuZ18xLmlzQmxhbmsob2JqKSA/IG51bGwgOiBvYmoubWFwKGZ1bmN0aW9uIChvKSB7IHJldHVybiBfb2JqRnJvbUpzb24obywgZm4pOyB9KTtcbn1cbmZ1bmN0aW9uIF9hcnJheVRvSnNvbihvYmopIHtcbiAgICByZXR1cm4gbGFuZ18xLmlzQmxhbmsob2JqKSA/IG51bGwgOiBvYmoubWFwKF9vYmpUb0pzb24pO1xufVxuZnVuY3Rpb24gX29iakZyb21Kc29uKG9iaiwgZm4pIHtcbiAgICBpZiAobGFuZ18xLmlzQXJyYXkob2JqKSlcbiAgICAgICAgcmV0dXJuIF9hcnJheUZyb21Kc29uKG9iaiwgZm4pO1xuICAgIGlmIChsYW5nXzEuaXNTdHJpbmcob2JqKSB8fCBsYW5nXzEuaXNCbGFuayhvYmopIHx8IGxhbmdfMS5pc0Jvb2xlYW4ob2JqKSB8fCBsYW5nXzEuaXNOdW1iZXIob2JqKSlcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICByZXR1cm4gZm4ob2JqKTtcbn1cbmZ1bmN0aW9uIF9vYmpUb0pzb24ob2JqKSB7XG4gICAgaWYgKGxhbmdfMS5pc0FycmF5KG9iaikpXG4gICAgICAgIHJldHVybiBfYXJyYXlUb0pzb24ob2JqKTtcbiAgICBpZiAobGFuZ18xLmlzU3RyaW5nKG9iaikgfHwgbGFuZ18xLmlzQmxhbmsob2JqKSB8fCBsYW5nXzEuaXNCb29sZWFuKG9iaikgfHwgbGFuZ18xLmlzTnVtYmVyKG9iaikpXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgcmV0dXJuIG9iai50b0pzb24oKTtcbn1cbmZ1bmN0aW9uIF9ub3JtYWxpemVBcnJheShvYmopIHtcbiAgICByZXR1cm4gbGFuZ18xLmlzUHJlc2VudChvYmopID8gb2JqIDogW107XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21waWxlX21ldGFkYXRhLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG5fX2V4cG9ydChyZXF1aXJlKCcuL3RlbXBsYXRlX2FzdCcpKTtcbnZhciB0ZW1wbGF0ZV9wYXJzZXJfMSA9IHJlcXVpcmUoJy4vdGVtcGxhdGVfcGFyc2VyJyk7XG5leHBvcnRzLlRFTVBMQVRFX1RSQU5TRk9STVMgPSB0ZW1wbGF0ZV9wYXJzZXJfMS5URU1QTEFURV9UUkFOU0ZPUk1TO1xudmFyIGNvbmZpZ18xID0gcmVxdWlyZSgnLi9jb25maWcnKTtcbmV4cG9ydHMuQ29tcGlsZXJDb25maWcgPSBjb25maWdfMS5Db21waWxlckNvbmZpZztcbmV4cG9ydHMuUmVuZGVyVHlwZXMgPSBjb25maWdfMS5SZW5kZXJUeXBlcztcbl9fZXhwb3J0KHJlcXVpcmUoJy4vY29tcGlsZV9tZXRhZGF0YScpKTtcbl9fZXhwb3J0KHJlcXVpcmUoJy4vb2ZmbGluZV9jb21waWxlcicpKTtcbnZhciBydW50aW1lX2NvbXBpbGVyXzEgPSByZXF1aXJlKCcuL3J1bnRpbWVfY29tcGlsZXInKTtcbmV4cG9ydHMuUnVudGltZUNvbXBpbGVyID0gcnVudGltZV9jb21waWxlcl8xLlJ1bnRpbWVDb21waWxlcjtcbl9fZXhwb3J0KHJlcXVpcmUoJy4vdXJsX3Jlc29sdmVyJykpO1xuX19leHBvcnQocmVxdWlyZSgnLi94aHInKSk7XG52YXIgdmlld19yZXNvbHZlcl8xID0gcmVxdWlyZSgnLi92aWV3X3Jlc29sdmVyJyk7XG5leHBvcnRzLlZpZXdSZXNvbHZlciA9IHZpZXdfcmVzb2x2ZXJfMS5WaWV3UmVzb2x2ZXI7XG52YXIgZGlyZWN0aXZlX3Jlc29sdmVyXzEgPSByZXF1aXJlKCcuL2RpcmVjdGl2ZV9yZXNvbHZlcicpO1xuZXhwb3J0cy5EaXJlY3RpdmVSZXNvbHZlciA9IGRpcmVjdGl2ZV9yZXNvbHZlcl8xLkRpcmVjdGl2ZVJlc29sdmVyO1xudmFyIHBpcGVfcmVzb2x2ZXJfMSA9IHJlcXVpcmUoJy4vcGlwZV9yZXNvbHZlcicpO1xuZXhwb3J0cy5QaXBlUmVzb2x2ZXIgPSBwaXBlX3Jlc29sdmVyXzEuUGlwZVJlc29sdmVyO1xudmFyIHRlbXBsYXRlX3BhcnNlcl8yID0gcmVxdWlyZSgnLi90ZW1wbGF0ZV9wYXJzZXInKTtcbnZhciBodG1sX3BhcnNlcl8xID0gcmVxdWlyZSgnLi9odG1sX3BhcnNlcicpO1xudmFyIGRpcmVjdGl2ZV9ub3JtYWxpemVyXzEgPSByZXF1aXJlKCcuL2RpcmVjdGl2ZV9ub3JtYWxpemVyJyk7XG52YXIgbWV0YWRhdGFfcmVzb2x2ZXJfMSA9IHJlcXVpcmUoJy4vbWV0YWRhdGFfcmVzb2x2ZXInKTtcbnZhciBzdHlsZV9jb21waWxlcl8xID0gcmVxdWlyZSgnLi9zdHlsZV9jb21waWxlcicpO1xudmFyIHZpZXdfY29tcGlsZXJfMSA9IHJlcXVpcmUoJy4vdmlld19jb21waWxlci92aWV3X2NvbXBpbGVyJyk7XG52YXIgY29uZmlnXzIgPSByZXF1aXJlKCcuL2NvbmZpZycpO1xudmFyIHJ1bnRpbWVfY29tcGlsZXJfMiA9IHJlcXVpcmUoJy4vcnVudGltZV9jb21waWxlcicpO1xudmFyIGVsZW1lbnRfc2NoZW1hX3JlZ2lzdHJ5XzEgPSByZXF1aXJlKCcuL3NjaGVtYS9lbGVtZW50X3NjaGVtYV9yZWdpc3RyeScpO1xudmFyIGRvbV9lbGVtZW50X3NjaGVtYV9yZWdpc3RyeV8xID0gcmVxdWlyZSgnLi9zY2hlbWEvZG9tX2VsZW1lbnRfc2NoZW1hX3JlZ2lzdHJ5Jyk7XG52YXIgdXJsX3Jlc29sdmVyXzIgPSByZXF1aXJlKCcuL3VybF9yZXNvbHZlcicpO1xudmFyIHBhcnNlcl8xID0gcmVxdWlyZSgnLi9leHByZXNzaW9uX3BhcnNlci9wYXJzZXInKTtcbnZhciBsZXhlcl8xID0gcmVxdWlyZSgnLi9leHByZXNzaW9uX3BhcnNlci9sZXhlcicpO1xudmFyIHZpZXdfcmVzb2x2ZXJfMiA9IHJlcXVpcmUoJy4vdmlld19yZXNvbHZlcicpO1xudmFyIGRpcmVjdGl2ZV9yZXNvbHZlcl8yID0gcmVxdWlyZSgnLi9kaXJlY3RpdmVfcmVzb2x2ZXInKTtcbnZhciBwaXBlX3Jlc29sdmVyXzIgPSByZXF1aXJlKCcuL3BpcGVfcmVzb2x2ZXInKTtcbmZ1bmN0aW9uIF9jcmVhdGVDb21waWxlckNvbmZpZygpIHtcbiAgICByZXR1cm4gbmV3IGNvbmZpZ18yLkNvbXBpbGVyQ29uZmlnKGxhbmdfMS5hc3NlcnRpb25zRW5hYmxlZCgpLCBmYWxzZSwgdHJ1ZSk7XG59XG4vKipcbiAqIEEgc2V0IG9mIHByb3ZpZGVycyB0aGF0IHByb3ZpZGUgYFJ1bnRpbWVDb21waWxlcmAgYW5kIGl0cyBkZXBlbmRlbmNpZXMgdG8gdXNlIGZvclxuICogdGVtcGxhdGUgY29tcGlsYXRpb24uXG4gKi9cbmV4cG9ydHMuQ09NUElMRVJfUFJPVklERVJTID0gXG4vKkB0czJkYXJ0X2NvbnN0Ki8gW1xuICAgIGxleGVyXzEuTGV4ZXIsXG4gICAgcGFyc2VyXzEuUGFyc2VyLFxuICAgIGh0bWxfcGFyc2VyXzEuSHRtbFBhcnNlcixcbiAgICB0ZW1wbGF0ZV9wYXJzZXJfMi5UZW1wbGF0ZVBhcnNlcixcbiAgICBkaXJlY3RpdmVfbm9ybWFsaXplcl8xLkRpcmVjdGl2ZU5vcm1hbGl6ZXIsXG4gICAgbWV0YWRhdGFfcmVzb2x2ZXJfMS5Db21waWxlTWV0YWRhdGFSZXNvbHZlcixcbiAgICB1cmxfcmVzb2x2ZXJfMi5ERUZBVUxUX1BBQ0tBR0VfVVJMX1BST1ZJREVSLFxuICAgIHN0eWxlX2NvbXBpbGVyXzEuU3R5bGVDb21waWxlcixcbiAgICB2aWV3X2NvbXBpbGVyXzEuVmlld0NvbXBpbGVyLFxuICAgIC8qQHRzMmRhcnRfUHJvdmlkZXIqLyB7IHByb3ZpZGU6IGNvbmZpZ18yLkNvbXBpbGVyQ29uZmlnLCB1c2VGYWN0b3J5OiBfY3JlYXRlQ29tcGlsZXJDb25maWcsIGRlcHM6IFtdIH0sXG4gICAgcnVudGltZV9jb21waWxlcl8yLlJ1bnRpbWVDb21waWxlcixcbiAgICAvKkB0czJkYXJ0X1Byb3ZpZGVyKi8geyBwcm92aWRlOiBjb3JlXzEuQ29tcG9uZW50UmVzb2x2ZXIsIHVzZUV4aXN0aW5nOiBydW50aW1lX2NvbXBpbGVyXzIuUnVudGltZUNvbXBpbGVyIH0sXG4gICAgZG9tX2VsZW1lbnRfc2NoZW1hX3JlZ2lzdHJ5XzEuRG9tRWxlbWVudFNjaGVtYVJlZ2lzdHJ5LFxuICAgIC8qQHRzMmRhcnRfUHJvdmlkZXIqLyB7IHByb3ZpZGU6IGVsZW1lbnRfc2NoZW1hX3JlZ2lzdHJ5XzEuRWxlbWVudFNjaGVtYVJlZ2lzdHJ5LCB1c2VFeGlzdGluZzogZG9tX2VsZW1lbnRfc2NoZW1hX3JlZ2lzdHJ5XzEuRG9tRWxlbWVudFNjaGVtYVJlZ2lzdHJ5IH0sXG4gICAgdXJsX3Jlc29sdmVyXzIuVXJsUmVzb2x2ZXIsXG4gICAgdmlld19yZXNvbHZlcl8yLlZpZXdSZXNvbHZlcixcbiAgICBkaXJlY3RpdmVfcmVzb2x2ZXJfMi5EaXJlY3RpdmVSZXNvbHZlcixcbiAgICBwaXBlX3Jlc29sdmVyXzIuUGlwZVJlc29sdmVyXG5dO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGlsZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG52YXIgaWRlbnRpZmllcnNfMSA9IHJlcXVpcmUoJy4vaWRlbnRpZmllcnMnKTtcbnZhciBDb21waWxlckNvbmZpZyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tcGlsZXJDb25maWcoZ2VuRGVidWdJbmZvLCBsb2dCaW5kaW5nVXBkYXRlLCB1c2VKaXQsIHJlbmRlclR5cGVzKSB7XG4gICAgICAgIGlmIChyZW5kZXJUeXBlcyA9PT0gdm9pZCAwKSB7IHJlbmRlclR5cGVzID0gbnVsbDsgfVxuICAgICAgICB0aGlzLmdlbkRlYnVnSW5mbyA9IGdlbkRlYnVnSW5mbztcbiAgICAgICAgdGhpcy5sb2dCaW5kaW5nVXBkYXRlID0gbG9nQmluZGluZ1VwZGF0ZTtcbiAgICAgICAgdGhpcy51c2VKaXQgPSB1c2VKaXQ7XG4gICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhyZW5kZXJUeXBlcykpIHtcbiAgICAgICAgICAgIHJlbmRlclR5cGVzID0gbmV3IERlZmF1bHRSZW5kZXJUeXBlcygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyVHlwZXMgPSByZW5kZXJUeXBlcztcbiAgICB9XG4gICAgcmV0dXJuIENvbXBpbGVyQ29uZmlnO1xufSgpKTtcbmV4cG9ydHMuQ29tcGlsZXJDb25maWcgPSBDb21waWxlckNvbmZpZztcbi8qKlxuICogVHlwZXMgdXNlZCBmb3IgdGhlIHJlbmRlcmVyLlxuICogQ2FuIGJlIHJlcGxhY2VkIHRvIHNwZWNpYWxpemUgdGhlIGdlbmVyYXRlZCBvdXRwdXQgdG8gYSBzcGVjaWZpYyByZW5kZXJlclxuICogdG8gaGVscCB0cmVlIHNoYWtpbmcuXG4gKi9cbnZhciBSZW5kZXJUeXBlcyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVuZGVyVHlwZXMoKSB7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZW5kZXJUeXBlcy5wcm90b3R5cGUsIFwicmVuZGVyZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4Y2VwdGlvbnNfMS51bmltcGxlbWVudGVkKCk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZW5kZXJUeXBlcy5wcm90b3R5cGUsIFwicmVuZGVyVGV4dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhjZXB0aW9uc18xLnVuaW1wbGVtZW50ZWQoKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlclR5cGVzLnByb3RvdHlwZSwgXCJyZW5kZXJFbGVtZW50XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleGNlcHRpb25zXzEudW5pbXBsZW1lbnRlZCgpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyVHlwZXMucHJvdG90eXBlLCBcInJlbmRlckNvbW1lbnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4Y2VwdGlvbnNfMS51bmltcGxlbWVudGVkKCk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZW5kZXJUeXBlcy5wcm90b3R5cGUsIFwicmVuZGVyTm9kZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhjZXB0aW9uc18xLnVuaW1wbGVtZW50ZWQoKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlclR5cGVzLnByb3RvdHlwZSwgXCJyZW5kZXJFdmVudFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhjZXB0aW9uc18xLnVuaW1wbGVtZW50ZWQoKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFJlbmRlclR5cGVzO1xufSgpKTtcbmV4cG9ydHMuUmVuZGVyVHlwZXMgPSBSZW5kZXJUeXBlcztcbnZhciBEZWZhdWx0UmVuZGVyVHlwZXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlZmF1bHRSZW5kZXJUeXBlcygpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IGlkZW50aWZpZXJzXzEuSWRlbnRpZmllcnMuUmVuZGVyZXI7XG4gICAgICAgIHRoaXMucmVuZGVyVGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyRWxlbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyQ29tbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyTm9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyRXZlbnQgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gRGVmYXVsdFJlbmRlclR5cGVzO1xufSgpKTtcbmV4cG9ydHMuRGVmYXVsdFJlbmRlclR5cGVzID0gRGVmYXVsdFJlbmRlclR5cGVzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfcHJpdmF0ZV8xID0gcmVxdWlyZSgnLi4vY29yZV9wcml2YXRlJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG5mdW5jdGlvbiBoYXNMaWZlY3ljbGVIb29rKGxjSW50ZXJmYWNlLCB0b2tlbikge1xuICAgIGlmICghKHRva2VuIGluc3RhbmNlb2YgbGFuZ18xLlR5cGUpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdmFyIHByb3RvID0gdG9rZW4ucHJvdG90eXBlO1xuICAgIHN3aXRjaCAobGNJbnRlcmZhY2UpIHtcbiAgICAgICAgY2FzZSBjb3JlX3ByaXZhdGVfMS5MaWZlY3ljbGVIb29rcy5BZnRlckNvbnRlbnRJbml0OlxuICAgICAgICAgICAgcmV0dXJuICEhcHJvdG8ubmdBZnRlckNvbnRlbnRJbml0O1xuICAgICAgICBjYXNlIGNvcmVfcHJpdmF0ZV8xLkxpZmVjeWNsZUhvb2tzLkFmdGVyQ29udGVudENoZWNrZWQ6XG4gICAgICAgICAgICByZXR1cm4gISFwcm90by5uZ0FmdGVyQ29udGVudENoZWNrZWQ7XG4gICAgICAgIGNhc2UgY29yZV9wcml2YXRlXzEuTGlmZWN5Y2xlSG9va3MuQWZ0ZXJWaWV3SW5pdDpcbiAgICAgICAgICAgIHJldHVybiAhIXByb3RvLm5nQWZ0ZXJWaWV3SW5pdDtcbiAgICAgICAgY2FzZSBjb3JlX3ByaXZhdGVfMS5MaWZlY3ljbGVIb29rcy5BZnRlclZpZXdDaGVja2VkOlxuICAgICAgICAgICAgcmV0dXJuICEhcHJvdG8ubmdBZnRlclZpZXdDaGVja2VkO1xuICAgICAgICBjYXNlIGNvcmVfcHJpdmF0ZV8xLkxpZmVjeWNsZUhvb2tzLk9uQ2hhbmdlczpcbiAgICAgICAgICAgIHJldHVybiAhIXByb3RvLm5nT25DaGFuZ2VzO1xuICAgICAgICBjYXNlIGNvcmVfcHJpdmF0ZV8xLkxpZmVjeWNsZUhvb2tzLkRvQ2hlY2s6XG4gICAgICAgICAgICByZXR1cm4gISFwcm90by5uZ0RvQ2hlY2s7XG4gICAgICAgIGNhc2UgY29yZV9wcml2YXRlXzEuTGlmZWN5Y2xlSG9va3MuT25EZXN0cm95OlxuICAgICAgICAgICAgcmV0dXJuICEhcHJvdG8ubmdPbkRlc3Ryb3k7XG4gICAgICAgIGNhc2UgY29yZV9wcml2YXRlXzEuTGlmZWN5Y2xlSG9va3MuT25Jbml0OlxuICAgICAgICAgICAgcmV0dXJuICEhcHJvdG8ubmdPbkluaXQ7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0cy5oYXNMaWZlY3ljbGVIb29rID0gaGFzTGlmZWN5Y2xlSG9vaztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpcmVjdGl2ZV9saWZlY3ljbGVfcmVmbGVjdG9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBhc3luY18xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9hc3luYycpO1xudmFyIGNvbXBpbGVfbWV0YWRhdGFfMSA9IHJlcXVpcmUoJy4vY29tcGlsZV9tZXRhZGF0YScpO1xudmFyIHhocl8xID0gcmVxdWlyZSgnLi94aHInKTtcbnZhciB1cmxfcmVzb2x2ZXJfMSA9IHJlcXVpcmUoJy4vdXJsX3Jlc29sdmVyJyk7XG52YXIgc3R5bGVfdXJsX3Jlc29sdmVyXzEgPSByZXF1aXJlKCcuL3N0eWxlX3VybF9yZXNvbHZlcicpO1xudmFyIGh0bWxfYXN0XzEgPSByZXF1aXJlKCcuL2h0bWxfYXN0Jyk7XG52YXIgaHRtbF9wYXJzZXJfMSA9IHJlcXVpcmUoJy4vaHRtbF9wYXJzZXInKTtcbnZhciB0ZW1wbGF0ZV9wcmVwYXJzZXJfMSA9IHJlcXVpcmUoJy4vdGVtcGxhdGVfcHJlcGFyc2VyJyk7XG52YXIgRGlyZWN0aXZlTm9ybWFsaXplciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGlyZWN0aXZlTm9ybWFsaXplcihfeGhyLCBfdXJsUmVzb2x2ZXIsIF9odG1sUGFyc2VyKSB7XG4gICAgICAgIHRoaXMuX3hociA9IF94aHI7XG4gICAgICAgIHRoaXMuX3VybFJlc29sdmVyID0gX3VybFJlc29sdmVyO1xuICAgICAgICB0aGlzLl9odG1sUGFyc2VyID0gX2h0bWxQYXJzZXI7XG4gICAgfVxuICAgIERpcmVjdGl2ZU5vcm1hbGl6ZXIucHJvdG90eXBlLm5vcm1hbGl6ZURpcmVjdGl2ZSA9IGZ1bmN0aW9uIChkaXJlY3RpdmUpIHtcbiAgICAgICAgaWYgKCFkaXJlY3RpdmUuaXNDb21wb25lbnQpIHtcbiAgICAgICAgICAgIC8vIEZvciBub24gY29tcG9uZW50cyB0aGVyZSBpcyBub3RoaW5nIHRvIGJlIG5vcm1hbGl6ZWQgeWV0LlxuICAgICAgICAgICAgcmV0dXJuIGFzeW5jXzEuUHJvbWlzZVdyYXBwZXIucmVzb2x2ZShkaXJlY3RpdmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZVRlbXBsYXRlKGRpcmVjdGl2ZS50eXBlLCBkaXJlY3RpdmUudGVtcGxhdGUpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAobm9ybWFsaXplZFRlbXBsYXRlKSB7IHJldHVybiBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVEaXJlY3RpdmVNZXRhZGF0YSh7XG4gICAgICAgICAgICB0eXBlOiBkaXJlY3RpdmUudHlwZSxcbiAgICAgICAgICAgIGlzQ29tcG9uZW50OiBkaXJlY3RpdmUuaXNDb21wb25lbnQsXG4gICAgICAgICAgICBzZWxlY3RvcjogZGlyZWN0aXZlLnNlbGVjdG9yLFxuICAgICAgICAgICAgZXhwb3J0QXM6IGRpcmVjdGl2ZS5leHBvcnRBcyxcbiAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogZGlyZWN0aXZlLmNoYW5nZURldGVjdGlvbixcbiAgICAgICAgICAgIGlucHV0czogZGlyZWN0aXZlLmlucHV0cyxcbiAgICAgICAgICAgIG91dHB1dHM6IGRpcmVjdGl2ZS5vdXRwdXRzLFxuICAgICAgICAgICAgaG9zdExpc3RlbmVyczogZGlyZWN0aXZlLmhvc3RMaXN0ZW5lcnMsXG4gICAgICAgICAgICBob3N0UHJvcGVydGllczogZGlyZWN0aXZlLmhvc3RQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgaG9zdEF0dHJpYnV0ZXM6IGRpcmVjdGl2ZS5ob3N0QXR0cmlidXRlcyxcbiAgICAgICAgICAgIGxpZmVjeWNsZUhvb2tzOiBkaXJlY3RpdmUubGlmZWN5Y2xlSG9va3MsXG4gICAgICAgICAgICBwcm92aWRlcnM6IGRpcmVjdGl2ZS5wcm92aWRlcnMsXG4gICAgICAgICAgICB2aWV3UHJvdmlkZXJzOiBkaXJlY3RpdmUudmlld1Byb3ZpZGVycyxcbiAgICAgICAgICAgIHF1ZXJpZXM6IGRpcmVjdGl2ZS5xdWVyaWVzLFxuICAgICAgICAgICAgdmlld1F1ZXJpZXM6IGRpcmVjdGl2ZS52aWV3UXVlcmllcyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBub3JtYWxpemVkVGVtcGxhdGVcbiAgICAgICAgfSk7IH0pO1xuICAgIH07XG4gICAgRGlyZWN0aXZlTm9ybWFsaXplci5wcm90b3R5cGUubm9ybWFsaXplVGVtcGxhdGUgPSBmdW5jdGlvbiAoZGlyZWN0aXZlVHlwZSwgdGVtcGxhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGVtcGxhdGUudGVtcGxhdGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gYXN5bmNfMS5Qcm9taXNlV3JhcHBlci5yZXNvbHZlKHRoaXMubm9ybWFsaXplTG9hZGVkVGVtcGxhdGUoZGlyZWN0aXZlVHlwZSwgdGVtcGxhdGUsIHRlbXBsYXRlLnRlbXBsYXRlLCBkaXJlY3RpdmVUeXBlLm1vZHVsZVVybCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGVtcGxhdGUudGVtcGxhdGVVcmwpKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlQWJzVXJsID0gdGhpcy5fdXJsUmVzb2x2ZXIucmVzb2x2ZShkaXJlY3RpdmVUeXBlLm1vZHVsZVVybCwgdGVtcGxhdGUudGVtcGxhdGVVcmwpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3hoci5nZXQoc291cmNlQWJzVXJsKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh0ZW1wbGF0ZUNvbnRlbnQpIHsgcmV0dXJuIF90aGlzLm5vcm1hbGl6ZUxvYWRlZFRlbXBsYXRlKGRpcmVjdGl2ZVR5cGUsIHRlbXBsYXRlLCB0ZW1wbGF0ZUNvbnRlbnQsIHNvdXJjZUFic1VybCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiTm8gdGVtcGxhdGUgc3BlY2lmaWVkIGZvciBjb21wb25lbnQgXCIgKyBkaXJlY3RpdmVUeXBlLm5hbWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEaXJlY3RpdmVOb3JtYWxpemVyLnByb3RvdHlwZS5ub3JtYWxpemVMb2FkZWRUZW1wbGF0ZSA9IGZ1bmN0aW9uIChkaXJlY3RpdmVUeXBlLCB0ZW1wbGF0ZU1ldGEsIHRlbXBsYXRlLCB0ZW1wbGF0ZUFic1VybCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcm9vdE5vZGVzQW5kRXJyb3JzID0gdGhpcy5faHRtbFBhcnNlci5wYXJzZSh0ZW1wbGF0ZSwgZGlyZWN0aXZlVHlwZS5uYW1lKTtcbiAgICAgICAgaWYgKHJvb3ROb2Rlc0FuZEVycm9ycy5lcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGVycm9yU3RyaW5nID0gcm9vdE5vZGVzQW5kRXJyb3JzLmVycm9ycy5qb2luKCdcXG4nKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbihcIlRlbXBsYXRlIHBhcnNlIGVycm9yczpcXG5cIiArIGVycm9yU3RyaW5nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmlzaXRvciA9IG5ldyBUZW1wbGF0ZVByZXBhcnNlVmlzaXRvcigpO1xuICAgICAgICBodG1sX2FzdF8xLmh0bWxWaXNpdEFsbCh2aXNpdG9yLCByb290Tm9kZXNBbmRFcnJvcnMucm9vdE5vZGVzKTtcbiAgICAgICAgdmFyIGFsbFN0eWxlcyA9IHRlbXBsYXRlTWV0YS5zdHlsZXMuY29uY2F0KHZpc2l0b3Iuc3R5bGVzKTtcbiAgICAgICAgdmFyIGFsbFN0eWxlQWJzVXJscyA9IHZpc2l0b3Iuc3R5bGVVcmxzLmZpbHRlcihzdHlsZV91cmxfcmVzb2x2ZXJfMS5pc1N0eWxlVXJsUmVzb2x2YWJsZSlcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHVybCkgeyByZXR1cm4gX3RoaXMuX3VybFJlc29sdmVyLnJlc29sdmUodGVtcGxhdGVBYnNVcmwsIHVybCk7IH0pXG4gICAgICAgICAgICAuY29uY2F0KHRlbXBsYXRlTWV0YS5zdHlsZVVybHMuZmlsdGVyKHN0eWxlX3VybF9yZXNvbHZlcl8xLmlzU3R5bGVVcmxSZXNvbHZhYmxlKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAodXJsKSB7IHJldHVybiBfdGhpcy5fdXJsUmVzb2x2ZXIucmVzb2x2ZShkaXJlY3RpdmVUeXBlLm1vZHVsZVVybCwgdXJsKTsgfSkpO1xuICAgICAgICB2YXIgYWxsUmVzb2x2ZWRTdHlsZXMgPSBhbGxTdHlsZXMubWFwKGZ1bmN0aW9uIChzdHlsZSkge1xuICAgICAgICAgICAgdmFyIHN0eWxlV2l0aEltcG9ydHMgPSBzdHlsZV91cmxfcmVzb2x2ZXJfMS5leHRyYWN0U3R5bGVVcmxzKF90aGlzLl91cmxSZXNvbHZlciwgdGVtcGxhdGVBYnNVcmwsIHN0eWxlKTtcbiAgICAgICAgICAgIHN0eWxlV2l0aEltcG9ydHMuc3R5bGVVcmxzLmZvckVhY2goZnVuY3Rpb24gKHN0eWxlVXJsKSB7IHJldHVybiBhbGxTdHlsZUFic1VybHMucHVzaChzdHlsZVVybCk7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIHN0eWxlV2l0aEltcG9ydHMuc3R5bGU7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZW5jYXBzdWxhdGlvbiA9IHRlbXBsYXRlTWV0YS5lbmNhcHN1bGF0aW9uO1xuICAgICAgICBpZiAoZW5jYXBzdWxhdGlvbiA9PT0gY29yZV8xLlZpZXdFbmNhcHN1bGF0aW9uLkVtdWxhdGVkICYmIGFsbFJlc29sdmVkU3R5bGVzLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgYWxsU3R5bGVBYnNVcmxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZW5jYXBzdWxhdGlvbiA9IGNvcmVfMS5WaWV3RW5jYXBzdWxhdGlvbi5Ob25lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVUZW1wbGF0ZU1ldGFkYXRhKHtcbiAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IGVuY2Fwc3VsYXRpb24sXG4gICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogdGVtcGxhdGVBYnNVcmwsXG4gICAgICAgICAgICBzdHlsZXM6IGFsbFJlc29sdmVkU3R5bGVzLFxuICAgICAgICAgICAgc3R5bGVVcmxzOiBhbGxTdHlsZUFic1VybHMsXG4gICAgICAgICAgICBuZ0NvbnRlbnRTZWxlY3RvcnM6IHZpc2l0b3IubmdDb250ZW50U2VsZWN0b3JzXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGlyZWN0aXZlTm9ybWFsaXplci5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICBEaXJlY3RpdmVOb3JtYWxpemVyLmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IHhocl8xLlhIUiwgfSxcbiAgICAgICAgeyB0eXBlOiB1cmxfcmVzb2x2ZXJfMS5VcmxSZXNvbHZlciwgfSxcbiAgICAgICAgeyB0eXBlOiBodG1sX3BhcnNlcl8xLkh0bWxQYXJzZXIsIH0sXG4gICAgXTtcbiAgICByZXR1cm4gRGlyZWN0aXZlTm9ybWFsaXplcjtcbn0oKSk7XG5leHBvcnRzLkRpcmVjdGl2ZU5vcm1hbGl6ZXIgPSBEaXJlY3RpdmVOb3JtYWxpemVyO1xudmFyIFRlbXBsYXRlUHJlcGFyc2VWaXNpdG9yID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZW1wbGF0ZVByZXBhcnNlVmlzaXRvcigpIHtcbiAgICAgICAgdGhpcy5uZ0NvbnRlbnRTZWxlY3RvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBbXTtcbiAgICAgICAgdGhpcy5zdHlsZVVybHMgPSBbXTtcbiAgICAgICAgdGhpcy5uZ05vbkJpbmRhYmxlU3RhY2tDb3VudCA9IDA7XG4gICAgfVxuICAgIFRlbXBsYXRlUHJlcGFyc2VWaXNpdG9yLnByb3RvdHlwZS52aXNpdEVsZW1lbnQgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBwcmVwYXJzZWRFbGVtZW50ID0gdGVtcGxhdGVfcHJlcGFyc2VyXzEucHJlcGFyc2VFbGVtZW50KGFzdCk7XG4gICAgICAgIHN3aXRjaCAocHJlcGFyc2VkRWxlbWVudC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIHRlbXBsYXRlX3ByZXBhcnNlcl8xLlByZXBhcnNlZEVsZW1lbnRUeXBlLk5HX0NPTlRFTlQ6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubmdOb25CaW5kYWJsZVN0YWNrQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZ0NvbnRlbnRTZWxlY3RvcnMucHVzaChwcmVwYXJzZWRFbGVtZW50LnNlbGVjdEF0dHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdGVtcGxhdGVfcHJlcGFyc2VyXzEuUHJlcGFyc2VkRWxlbWVudFR5cGUuU1RZTEU6XG4gICAgICAgICAgICAgICAgdmFyIHRleHRDb250ZW50ID0gJyc7XG4gICAgICAgICAgICAgICAgYXN0LmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIGh0bWxfYXN0XzEuSHRtbFRleHRBc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb250ZW50ICs9IGNoaWxkLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZXMucHVzaCh0ZXh0Q29udGVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRlbXBsYXRlX3ByZXBhcnNlcl8xLlByZXBhcnNlZEVsZW1lbnRUeXBlLlNUWUxFU0hFRVQ6XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZVVybHMucHVzaChwcmVwYXJzZWRFbGVtZW50LmhyZWZBdHRyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgLy8gRERDIHJlcG9ydHMgdGhpcyBhcyBlcnJvci4gU2VlOlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXJ0LWxhbmcvZGV2X2NvbXBpbGVyL2lzc3Vlcy80MjhcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJlcGFyc2VkRWxlbWVudC5ub25CaW5kYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5uZ05vbkJpbmRhYmxlU3RhY2tDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIGh0bWxfYXN0XzEuaHRtbFZpc2l0QWxsKHRoaXMsIGFzdC5jaGlsZHJlbik7XG4gICAgICAgIGlmIChwcmVwYXJzZWRFbGVtZW50Lm5vbkJpbmRhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLm5nTm9uQmluZGFibGVTdGFja0NvdW50LS07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBUZW1wbGF0ZVByZXBhcnNlVmlzaXRvci5wcm90b3R5cGUudmlzaXRDb21tZW50ID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkgeyByZXR1cm4gbnVsbDsgfTtcbiAgICBUZW1wbGF0ZVByZXBhcnNlVmlzaXRvci5wcm90b3R5cGUudmlzaXRBdHRyID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkgeyByZXR1cm4gbnVsbDsgfTtcbiAgICBUZW1wbGF0ZVByZXBhcnNlVmlzaXRvci5wcm90b3R5cGUudmlzaXRUZXh0ID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkgeyByZXR1cm4gbnVsbDsgfTtcbiAgICBUZW1wbGF0ZVByZXBhcnNlVmlzaXRvci5wcm90b3R5cGUudmlzaXRFeHBhbnNpb24gPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7IHJldHVybiBudWxsOyB9O1xuICAgIFRlbXBsYXRlUHJlcGFyc2VWaXNpdG9yLnByb3RvdHlwZS52aXNpdEV4cGFuc2lvbkNhc2UgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7IHJldHVybiBudWxsOyB9O1xuICAgIHJldHVybiBUZW1wbGF0ZVByZXBhcnNlVmlzaXRvcjtcbn0oKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXJlY3RpdmVfbm9ybWFsaXplci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgY29yZV9wcml2YXRlXzEgPSByZXF1aXJlKCcuLi9jb3JlX3ByaXZhdGUnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbmZ1bmN0aW9uIF9pc0RpcmVjdGl2ZU1ldGFkYXRhKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZSBpbnN0YW5jZW9mIGNvcmVfMS5EaXJlY3RpdmVNZXRhZGF0YTtcbn1cbnZhciBEaXJlY3RpdmVSZXNvbHZlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGlyZWN0aXZlUmVzb2x2ZXIoX3JlZmxlY3Rvcikge1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChfcmVmbGVjdG9yKSkge1xuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdG9yID0gX3JlZmxlY3RvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RvciA9IGNvcmVfMS5yZWZsZWN0b3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHtAbGluayBEaXJlY3RpdmVNZXRhZGF0YX0gZm9yIGEgZ2l2ZW4gYFR5cGVgLlxuICAgICAqL1xuICAgIERpcmVjdGl2ZVJlc29sdmVyLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdmFyIHR5cGVNZXRhZGF0YSA9IHRoaXMuX3JlZmxlY3Rvci5hbm5vdGF0aW9ucyhjb3JlXzEucmVzb2x2ZUZvcndhcmRSZWYodHlwZSkpO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0eXBlTWV0YWRhdGEpKSB7XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGEgPSB0eXBlTWV0YWRhdGEuZmluZChfaXNEaXJlY3RpdmVNZXRhZGF0YSk7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChtZXRhZGF0YSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlNZXRhZGF0YSA9IHRoaXMuX3JlZmxlY3Rvci5wcm9wTWV0YWRhdGEodHlwZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21lcmdlV2l0aFByb3BlcnR5TWV0YWRhdGEobWV0YWRhdGEsIHByb3BlcnR5TWV0YWRhdGEsIHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbihcIk5vIERpcmVjdGl2ZSBhbm5vdGF0aW9uIGZvdW5kIG9uIFwiICsgbGFuZ18xLnN0cmluZ2lmeSh0eXBlKSk7XG4gICAgfTtcbiAgICBEaXJlY3RpdmVSZXNvbHZlci5wcm90b3R5cGUuX21lcmdlV2l0aFByb3BlcnR5TWV0YWRhdGEgPSBmdW5jdGlvbiAoZG0sIHByb3BlcnR5TWV0YWRhdGEsIGRpcmVjdGl2ZVR5cGUpIHtcbiAgICAgICAgdmFyIGlucHV0cyA9IFtdO1xuICAgICAgICB2YXIgb3V0cHV0cyA9IFtdO1xuICAgICAgICB2YXIgaG9zdCA9IHt9O1xuICAgICAgICB2YXIgcXVlcmllcyA9IHt9O1xuICAgICAgICBjb2xsZWN0aW9uXzEuU3RyaW5nTWFwV3JhcHBlci5mb3JFYWNoKHByb3BlcnR5TWV0YWRhdGEsIGZ1bmN0aW9uIChtZXRhZGF0YSwgcHJvcE5hbWUpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhLmZvckVhY2goZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoYSBpbnN0YW5jZW9mIGNvcmVfMS5JbnB1dE1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGEuYmluZGluZ1Byb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0cy5wdXNoKHByb3BOYW1lICsgXCI6IFwiICsgYS5iaW5kaW5nUHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0cy5wdXNoKHByb3BOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYSBpbnN0YW5jZW9mIGNvcmVfMS5PdXRwdXRNZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChhLmJpbmRpbmdQcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRzLnB1c2gocHJvcE5hbWUgKyBcIjogXCIgKyBhLmJpbmRpbmdQcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0cy5wdXNoKHByb3BOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYSBpbnN0YW5jZW9mIGNvcmVfMS5Ib3N0QmluZGluZ01ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGEuaG9zdFByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3RbKFwiW1wiICsgYS5ob3N0UHJvcGVydHlOYW1lICsgXCJdXCIpXSA9IHByb3BOYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdFsoXCJbXCIgKyBwcm9wTmFtZSArIFwiXVwiKV0gPSBwcm9wTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYSBpbnN0YW5jZW9mIGNvcmVfMS5Ib3N0TGlzdGVuZXJNZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGxhbmdfMS5pc1ByZXNlbnQoYS5hcmdzKSA/IGEuYXJncy5qb2luKCcsICcpIDogJyc7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RbKFwiKFwiICsgYS5ldmVudE5hbWUgKyBcIilcIildID0gcHJvcE5hbWUgKyBcIihcIiArIGFyZ3MgKyBcIilcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGEgaW5zdGFuY2VvZiBjb3JlXzEuQ29udGVudENoaWxkcmVuTWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVlcmllc1twcm9wTmFtZV0gPSBhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYSBpbnN0YW5jZW9mIGNvcmVfMS5WaWV3Q2hpbGRyZW5NZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBxdWVyaWVzW3Byb3BOYW1lXSA9IGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhIGluc3RhbmNlb2YgY29yZV8xLkNvbnRlbnRDaGlsZE1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJpZXNbcHJvcE5hbWVdID0gYTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGEgaW5zdGFuY2VvZiBjb3JlXzEuVmlld0NoaWxkTWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVlcmllc1twcm9wTmFtZV0gPSBhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lcmdlKGRtLCBpbnB1dHMsIG91dHB1dHMsIGhvc3QsIHF1ZXJpZXMsIGRpcmVjdGl2ZVR5cGUpO1xuICAgIH07XG4gICAgRGlyZWN0aXZlUmVzb2x2ZXIucHJvdG90eXBlLl9tZXJnZSA9IGZ1bmN0aW9uIChkbSwgaW5wdXRzLCBvdXRwdXRzLCBob3N0LCBxdWVyaWVzLCBkaXJlY3RpdmVUeXBlKSB7XG4gICAgICAgIHZhciBtZXJnZWRJbnB1dHMgPSBsYW5nXzEuaXNQcmVzZW50KGRtLmlucHV0cykgPyBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuY29uY2F0KGRtLmlucHV0cywgaW5wdXRzKSA6IGlucHV0cztcbiAgICAgICAgdmFyIG1lcmdlZE91dHB1dHM7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGRtLm91dHB1dHMpKSB7XG4gICAgICAgICAgICBkbS5vdXRwdXRzLmZvckVhY2goZnVuY3Rpb24gKHByb3BOYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5jb250YWlucyhvdXRwdXRzLCBwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiT3V0cHV0IGV2ZW50ICdcIiArIHByb3BOYW1lICsgXCInIGRlZmluZWQgbXVsdGlwbGUgdGltZXMgaW4gJ1wiICsgbGFuZ18xLnN0cmluZ2lmeShkaXJlY3RpdmVUeXBlKSArIFwiJ1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG1lcmdlZE91dHB1dHMgPSBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuY29uY2F0KGRtLm91dHB1dHMsIG91dHB1dHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWVyZ2VkT3V0cHV0cyA9IG91dHB1dHM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1lcmdlZEhvc3QgPSBsYW5nXzEuaXNQcmVzZW50KGRtLmhvc3QpID8gY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIubWVyZ2UoZG0uaG9zdCwgaG9zdCkgOiBob3N0O1xuICAgICAgICB2YXIgbWVyZ2VkUXVlcmllcyA9IGxhbmdfMS5pc1ByZXNlbnQoZG0ucXVlcmllcykgPyBjb2xsZWN0aW9uXzEuU3RyaW5nTWFwV3JhcHBlci5tZXJnZShkbS5xdWVyaWVzLCBxdWVyaWVzKSA6IHF1ZXJpZXM7XG4gICAgICAgIGlmIChkbSBpbnN0YW5jZW9mIGNvcmVfMS5Db21wb25lbnRNZXRhZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBjb3JlXzEuQ29tcG9uZW50TWV0YWRhdGEoe1xuICAgICAgICAgICAgICAgIHNlbGVjdG9yOiBkbS5zZWxlY3RvcixcbiAgICAgICAgICAgICAgICBpbnB1dHM6IG1lcmdlZElucHV0cyxcbiAgICAgICAgICAgICAgICBvdXRwdXRzOiBtZXJnZWRPdXRwdXRzLFxuICAgICAgICAgICAgICAgIGhvc3Q6IG1lcmdlZEhvc3QsXG4gICAgICAgICAgICAgICAgZXhwb3J0QXM6IGRtLmV4cG9ydEFzLFxuICAgICAgICAgICAgICAgIG1vZHVsZUlkOiBkbS5tb2R1bGVJZCxcbiAgICAgICAgICAgICAgICBxdWVyaWVzOiBtZXJnZWRRdWVyaWVzLFxuICAgICAgICAgICAgICAgIGNoYW5nZURldGVjdGlvbjogZG0uY2hhbmdlRGV0ZWN0aW9uLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyczogZG0ucHJvdmlkZXJzLFxuICAgICAgICAgICAgICAgIHZpZXdQcm92aWRlcnM6IGRtLnZpZXdQcm92aWRlcnNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBjb3JlXzEuRGlyZWN0aXZlTWV0YWRhdGEoe1xuICAgICAgICAgICAgICAgIHNlbGVjdG9yOiBkbS5zZWxlY3RvcixcbiAgICAgICAgICAgICAgICBpbnB1dHM6IG1lcmdlZElucHV0cyxcbiAgICAgICAgICAgICAgICBvdXRwdXRzOiBtZXJnZWRPdXRwdXRzLFxuICAgICAgICAgICAgICAgIGhvc3Q6IG1lcmdlZEhvc3QsXG4gICAgICAgICAgICAgICAgZXhwb3J0QXM6IGRtLmV4cG9ydEFzLFxuICAgICAgICAgICAgICAgIHF1ZXJpZXM6IG1lcmdlZFF1ZXJpZXMsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBkbS5wcm92aWRlcnNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEaXJlY3RpdmVSZXNvbHZlci5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICBEaXJlY3RpdmVSZXNvbHZlci5jdG9yUGFyYW1ldGVycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlX3ByaXZhdGVfMS5SZWZsZWN0b3JSZWFkZXIsIH0sXG4gICAgXTtcbiAgICByZXR1cm4gRGlyZWN0aXZlUmVzb2x2ZXI7XG59KCkpO1xuZXhwb3J0cy5EaXJlY3RpdmVSZXNvbHZlciA9IERpcmVjdGl2ZVJlc29sdmVyO1xuZXhwb3J0cy5DT0RFR0VOX0RJUkVDVElWRV9SRVNPTFZFUiA9IG5ldyBEaXJlY3RpdmVSZXNvbHZlcihjb3JlXzEucmVmbGVjdG9yKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpcmVjdGl2ZV9yZXNvbHZlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIEFTVCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQVNUKCkge1xuICAgIH1cbiAgICBBU1QucHJvdG90eXBlLnZpc2l0ID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEFTVC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBcIkFTVFwiOyB9O1xuICAgIHJldHVybiBBU1Q7XG59KCkpO1xuZXhwb3J0cy5BU1QgPSBBU1Q7XG4vKipcbiAqIFJlcHJlc2VudHMgYSBxdW90ZWQgZXhwcmVzc2lvbiBvZiB0aGUgZm9ybTpcbiAqXG4gKiBxdW90ZSA9IHByZWZpeCBgOmAgdW5pbnRlcnByZXRlZEV4cHJlc3Npb25cbiAqIHByZWZpeCA9IGlkZW50aWZpZXJcbiAqIHVuaW50ZXJwcmV0ZWRFeHByZXNzaW9uID0gYXJiaXRyYXJ5IHN0cmluZ1xuICpcbiAqIEEgcXVvdGVkIGV4cHJlc3Npb24gaXMgbWVhbnQgdG8gYmUgcHJlLXByb2Nlc3NlZCBieSBhbiBBU1QgdHJhbnNmb3JtZXIgdGhhdFxuICogY29udmVydHMgaXQgaW50byBhbm90aGVyIEFTVCB0aGF0IG5vIGxvbmdlciBjb250YWlucyBxdW90ZWQgZXhwcmVzc2lvbnMuXG4gKiBJdCBpcyBtZWFudCB0byBhbGxvdyB0aGlyZC1wYXJ0eSBkZXZlbG9wZXJzIHRvIGV4dGVuZCBBbmd1bGFyIHRlbXBsYXRlXG4gKiBleHByZXNzaW9uIGxhbmd1YWdlLiBUaGUgYHVuaW50ZXJwcmV0ZWRFeHByZXNzaW9uYCBwYXJ0IG9mIHRoZSBxdW90ZSBpc1xuICogdGhlcmVmb3JlIG5vdCBpbnRlcnByZXRlZCBieSB0aGUgQW5ndWxhcidzIG93biBleHByZXNzaW9uIHBhcnNlci5cbiAqL1xudmFyIFF1b3RlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUXVvdGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUXVvdGUocHJlZml4LCB1bmludGVycHJldGVkRXhwcmVzc2lvbiwgbG9jYXRpb24pIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMucHJlZml4ID0gcHJlZml4O1xuICAgICAgICB0aGlzLnVuaW50ZXJwcmV0ZWRFeHByZXNzaW9uID0gdW5pbnRlcnByZXRlZEV4cHJlc3Npb247XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICB9XG4gICAgUXVvdGUucHJvdG90eXBlLnZpc2l0ID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdFF1b3RlKHRoaXMsIGNvbnRleHQpO1xuICAgIH07XG4gICAgUXVvdGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJRdW90ZVwiOyB9O1xuICAgIHJldHVybiBRdW90ZTtcbn0oQVNUKSk7XG5leHBvcnRzLlF1b3RlID0gUXVvdGU7XG52YXIgRW1wdHlFeHByID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRW1wdHlFeHByLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEVtcHR5RXhwcigpIHtcbiAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIEVtcHR5RXhwci5wcm90b3R5cGUudmlzaXQgPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBudWxsOyB9XG4gICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICB9O1xuICAgIHJldHVybiBFbXB0eUV4cHI7XG59KEFTVCkpO1xuZXhwb3J0cy5FbXB0eUV4cHIgPSBFbXB0eUV4cHI7XG52YXIgSW1wbGljaXRSZWNlaXZlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEltcGxpY2l0UmVjZWl2ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW1wbGljaXRSZWNlaXZlcigpIHtcbiAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIEltcGxpY2l0UmVjZWl2ZXIucHJvdG90eXBlLnZpc2l0ID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEltcGxpY2l0UmVjZWl2ZXIodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gSW1wbGljaXRSZWNlaXZlcjtcbn0oQVNUKSk7XG5leHBvcnRzLkltcGxpY2l0UmVjZWl2ZXIgPSBJbXBsaWNpdFJlY2VpdmVyO1xuLyoqXG4gKiBNdWx0aXBsZSBleHByZXNzaW9ucyBzZXBhcmF0ZWQgYnkgYSBzZW1pY29sb24uXG4gKi9cbnZhciBDaGFpbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENoYWluLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENoYWluKGV4cHJlc3Npb25zKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmV4cHJlc3Npb25zID0gZXhwcmVzc2lvbnM7XG4gICAgfVxuICAgIENoYWluLnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRDaGFpbih0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBDaGFpbjtcbn0oQVNUKSk7XG5leHBvcnRzLkNoYWluID0gQ2hhaW47XG52YXIgQ29uZGl0aW9uYWwgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb25kaXRpb25hbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb25kaXRpb25hbChjb25kaXRpb24sIHRydWVFeHAsIGZhbHNlRXhwKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcbiAgICAgICAgdGhpcy50cnVlRXhwID0gdHJ1ZUV4cDtcbiAgICAgICAgdGhpcy5mYWxzZUV4cCA9IGZhbHNlRXhwO1xuICAgIH1cbiAgICBDb25kaXRpb25hbC5wcm90b3R5cGUudmlzaXQgPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBudWxsOyB9XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0Q29uZGl0aW9uYWwodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29uZGl0aW9uYWw7XG59KEFTVCkpO1xuZXhwb3J0cy5Db25kaXRpb25hbCA9IENvbmRpdGlvbmFsO1xudmFyIFByb3BlcnR5UmVhZCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFByb3BlcnR5UmVhZCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQcm9wZXJ0eVJlYWQocmVjZWl2ZXIsIG5hbWUpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMucmVjZWl2ZXIgPSByZWNlaXZlcjtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG4gICAgUHJvcGVydHlSZWFkLnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRQcm9wZXJ0eVJlYWQodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gUHJvcGVydHlSZWFkO1xufShBU1QpKTtcbmV4cG9ydHMuUHJvcGVydHlSZWFkID0gUHJvcGVydHlSZWFkO1xudmFyIFByb3BlcnR5V3JpdGUgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQcm9wZXJ0eVdyaXRlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFByb3BlcnR5V3JpdGUocmVjZWl2ZXIsIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLnJlY2VpdmVyID0gcmVjZWl2ZXI7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgUHJvcGVydHlXcml0ZS5wcm90b3R5cGUudmlzaXQgPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBudWxsOyB9XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0UHJvcGVydHlXcml0ZSh0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBQcm9wZXJ0eVdyaXRlO1xufShBU1QpKTtcbmV4cG9ydHMuUHJvcGVydHlXcml0ZSA9IFByb3BlcnR5V3JpdGU7XG52YXIgU2FmZVByb3BlcnR5UmVhZCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNhZmVQcm9wZXJ0eVJlYWQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2FmZVByb3BlcnR5UmVhZChyZWNlaXZlciwgbmFtZSkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWNlaXZlciA9IHJlY2VpdmVyO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cbiAgICBTYWZlUHJvcGVydHlSZWFkLnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRTYWZlUHJvcGVydHlSZWFkKHRoaXMsIGNvbnRleHQpO1xuICAgIH07XG4gICAgcmV0dXJuIFNhZmVQcm9wZXJ0eVJlYWQ7XG59KEFTVCkpO1xuZXhwb3J0cy5TYWZlUHJvcGVydHlSZWFkID0gU2FmZVByb3BlcnR5UmVhZDtcbnZhciBLZXllZFJlYWQgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhLZXllZFJlYWQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gS2V5ZWRSZWFkKG9iaiwga2V5KSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLm9iaiA9IG9iajtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgfVxuICAgIEtleWVkUmVhZC5wcm90b3R5cGUudmlzaXQgPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBudWxsOyB9XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0S2V5ZWRSZWFkKHRoaXMsIGNvbnRleHQpO1xuICAgIH07XG4gICAgcmV0dXJuIEtleWVkUmVhZDtcbn0oQVNUKSk7XG5leHBvcnRzLktleWVkUmVhZCA9IEtleWVkUmVhZDtcbnZhciBLZXllZFdyaXRlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoS2V5ZWRXcml0ZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBLZXllZFdyaXRlKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5vYmogPSBvYmo7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIEtleWVkV3JpdGUucHJvdG90eXBlLnZpc2l0ID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEtleWVkV3JpdGUodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gS2V5ZWRXcml0ZTtcbn0oQVNUKSk7XG5leHBvcnRzLktleWVkV3JpdGUgPSBLZXllZFdyaXRlO1xudmFyIEJpbmRpbmdQaXBlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmluZGluZ1BpcGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmluZGluZ1BpcGUoZXhwLCBuYW1lLCBhcmdzKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmV4cCA9IGV4cDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5hcmdzID0gYXJncztcbiAgICB9XG4gICAgQmluZGluZ1BpcGUucHJvdG90eXBlLnZpc2l0ID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdFBpcGUodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gQmluZGluZ1BpcGU7XG59KEFTVCkpO1xuZXhwb3J0cy5CaW5kaW5nUGlwZSA9IEJpbmRpbmdQaXBlO1xudmFyIExpdGVyYWxQcmltaXRpdmUgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMaXRlcmFsUHJpbWl0aXZlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExpdGVyYWxQcmltaXRpdmUodmFsdWUpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgTGl0ZXJhbFByaW1pdGl2ZS5wcm90b3R5cGUudmlzaXQgPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBudWxsOyB9XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0TGl0ZXJhbFByaW1pdGl2ZSh0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBMaXRlcmFsUHJpbWl0aXZlO1xufShBU1QpKTtcbmV4cG9ydHMuTGl0ZXJhbFByaW1pdGl2ZSA9IExpdGVyYWxQcmltaXRpdmU7XG52YXIgTGl0ZXJhbEFycmF5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTGl0ZXJhbEFycmF5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExpdGVyYWxBcnJheShleHByZXNzaW9ucykge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5leHByZXNzaW9ucyA9IGV4cHJlc3Npb25zO1xuICAgIH1cbiAgICBMaXRlcmFsQXJyYXkucHJvdG90eXBlLnZpc2l0ID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdExpdGVyYWxBcnJheSh0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBMaXRlcmFsQXJyYXk7XG59KEFTVCkpO1xuZXhwb3J0cy5MaXRlcmFsQXJyYXkgPSBMaXRlcmFsQXJyYXk7XG52YXIgTGl0ZXJhbE1hcCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExpdGVyYWxNYXAsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTGl0ZXJhbE1hcChrZXlzLCB2YWx1ZXMpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMua2V5cyA9IGtleXM7XG4gICAgICAgIHRoaXMudmFsdWVzID0gdmFsdWVzO1xuICAgIH1cbiAgICBMaXRlcmFsTWFwLnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRMaXRlcmFsTWFwKHRoaXMsIGNvbnRleHQpO1xuICAgIH07XG4gICAgcmV0dXJuIExpdGVyYWxNYXA7XG59KEFTVCkpO1xuZXhwb3J0cy5MaXRlcmFsTWFwID0gTGl0ZXJhbE1hcDtcbnZhciBJbnRlcnBvbGF0aW9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW50ZXJwb2xhdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJbnRlcnBvbGF0aW9uKHN0cmluZ3MsIGV4cHJlc3Npb25zKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgICAgICB0aGlzLmV4cHJlc3Npb25zID0gZXhwcmVzc2lvbnM7XG4gICAgfVxuICAgIEludGVycG9sYXRpb24ucHJvdG90eXBlLnZpc2l0ID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEludGVycG9sYXRpb24odGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gSW50ZXJwb2xhdGlvbjtcbn0oQVNUKSk7XG5leHBvcnRzLkludGVycG9sYXRpb24gPSBJbnRlcnBvbGF0aW9uO1xudmFyIEJpbmFyeSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJpbmFyeSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCaW5hcnkob3BlcmF0aW9uLCBsZWZ0LCByaWdodCkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5vcGVyYXRpb24gPSBvcGVyYXRpb247XG4gICAgICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgICAgIHRoaXMucmlnaHQgPSByaWdodDtcbiAgICB9XG4gICAgQmluYXJ5LnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRCaW5hcnkodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gQmluYXJ5O1xufShBU1QpKTtcbmV4cG9ydHMuQmluYXJ5ID0gQmluYXJ5O1xudmFyIFByZWZpeE5vdCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFByZWZpeE5vdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQcmVmaXhOb3QoZXhwcmVzc2lvbikge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5leHByZXNzaW9uID0gZXhwcmVzc2lvbjtcbiAgICB9XG4gICAgUHJlZml4Tm90LnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRQcmVmaXhOb3QodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gUHJlZml4Tm90O1xufShBU1QpKTtcbmV4cG9ydHMuUHJlZml4Tm90ID0gUHJlZml4Tm90O1xudmFyIE1ldGhvZENhbGwgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNZXRob2RDYWxsLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1ldGhvZENhbGwocmVjZWl2ZXIsIG5hbWUsIGFyZ3MpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMucmVjZWl2ZXIgPSByZWNlaXZlcjtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5hcmdzID0gYXJncztcbiAgICB9XG4gICAgTWV0aG9kQ2FsbC5wcm90b3R5cGUudmlzaXQgPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBudWxsOyB9XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0TWV0aG9kQ2FsbCh0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBNZXRob2RDYWxsO1xufShBU1QpKTtcbmV4cG9ydHMuTWV0aG9kQ2FsbCA9IE1ldGhvZENhbGw7XG52YXIgU2FmZU1ldGhvZENhbGwgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTYWZlTWV0aG9kQ2FsbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYWZlTWV0aG9kQ2FsbChyZWNlaXZlciwgbmFtZSwgYXJncykge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWNlaXZlciA9IHJlY2VpdmVyO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xuICAgIH1cbiAgICBTYWZlTWV0aG9kQ2FsbC5wcm90b3R5cGUudmlzaXQgPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBudWxsOyB9XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0U2FmZU1ldGhvZENhbGwodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2FmZU1ldGhvZENhbGw7XG59KEFTVCkpO1xuZXhwb3J0cy5TYWZlTWV0aG9kQ2FsbCA9IFNhZmVNZXRob2RDYWxsO1xudmFyIEZ1bmN0aW9uQ2FsbCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEZ1bmN0aW9uQ2FsbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGdW5jdGlvbkNhbGwodGFyZ2V0LCBhcmdzKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5hcmdzID0gYXJncztcbiAgICB9XG4gICAgRnVuY3Rpb25DYWxsLnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRGdW5jdGlvbkNhbGwodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gRnVuY3Rpb25DYWxsO1xufShBU1QpKTtcbmV4cG9ydHMuRnVuY3Rpb25DYWxsID0gRnVuY3Rpb25DYWxsO1xudmFyIEFTVFdpdGhTb3VyY2UgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBU1RXaXRoU291cmNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFTVFdpdGhTb3VyY2UoYXN0LCBzb3VyY2UsIGxvY2F0aW9uKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmFzdCA9IGFzdDtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICB9XG4gICAgQVNUV2l0aFNvdXJjZS5wcm90b3R5cGUudmlzaXQgPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBudWxsOyB9XG4gICAgICAgIHJldHVybiB0aGlzLmFzdC52aXNpdCh2aXNpdG9yLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIEFTVFdpdGhTb3VyY2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5zb3VyY2UgKyBcIiBpbiBcIiArIHRoaXMubG9jYXRpb247IH07XG4gICAgcmV0dXJuIEFTVFdpdGhTb3VyY2U7XG59KEFTVCkpO1xuZXhwb3J0cy5BU1RXaXRoU291cmNlID0gQVNUV2l0aFNvdXJjZTtcbnZhciBUZW1wbGF0ZUJpbmRpbmcgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRlbXBsYXRlQmluZGluZyhrZXksIGtleUlzVmFyLCBuYW1lLCBleHByZXNzaW9uKSB7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLmtleUlzVmFyID0ga2V5SXNWYXI7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbiA9IGV4cHJlc3Npb247XG4gICAgfVxuICAgIHJldHVybiBUZW1wbGF0ZUJpbmRpbmc7XG59KCkpO1xuZXhwb3J0cy5UZW1wbGF0ZUJpbmRpbmcgPSBUZW1wbGF0ZUJpbmRpbmc7XG52YXIgUmVjdXJzaXZlQXN0VmlzaXRvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVjdXJzaXZlQXN0VmlzaXRvcigpIHtcbiAgICB9XG4gICAgUmVjdXJzaXZlQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRCaW5hcnkgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7XG4gICAgICAgIGFzdC5sZWZ0LnZpc2l0KHRoaXMpO1xuICAgICAgICBhc3QucmlnaHQudmlzaXQodGhpcyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgUmVjdXJzaXZlQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRDaGFpbiA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHsgcmV0dXJuIHRoaXMudmlzaXRBbGwoYXN0LmV4cHJlc3Npb25zLCBjb250ZXh0KTsgfTtcbiAgICBSZWN1cnNpdmVBc3RWaXNpdG9yLnByb3RvdHlwZS52aXNpdENvbmRpdGlvbmFsID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICBhc3QuY29uZGl0aW9uLnZpc2l0KHRoaXMpO1xuICAgICAgICBhc3QudHJ1ZUV4cC52aXNpdCh0aGlzKTtcbiAgICAgICAgYXN0LmZhbHNlRXhwLnZpc2l0KHRoaXMpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIFJlY3Vyc2l2ZUFzdFZpc2l0b3IucHJvdG90eXBlLnZpc2l0UGlwZSA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgYXN0LmV4cC52aXNpdCh0aGlzKTtcbiAgICAgICAgdGhpcy52aXNpdEFsbChhc3QuYXJncywgY29udGV4dCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgUmVjdXJzaXZlQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRGdW5jdGlvbkNhbGwgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7XG4gICAgICAgIGFzdC50YXJnZXQudmlzaXQodGhpcyk7XG4gICAgICAgIHRoaXMudmlzaXRBbGwoYXN0LmFyZ3MsIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIFJlY3Vyc2l2ZUFzdFZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW1wbGljaXRSZWNlaXZlciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHsgcmV0dXJuIG51bGw7IH07XG4gICAgUmVjdXJzaXZlQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRJbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aXNpdEFsbChhc3QuZXhwcmVzc2lvbnMsIGNvbnRleHQpO1xuICAgIH07XG4gICAgUmVjdXJzaXZlQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRLZXllZFJlYWQgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7XG4gICAgICAgIGFzdC5vYmoudmlzaXQodGhpcyk7XG4gICAgICAgIGFzdC5rZXkudmlzaXQodGhpcyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgUmVjdXJzaXZlQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRLZXllZFdyaXRlID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICBhc3Qub2JqLnZpc2l0KHRoaXMpO1xuICAgICAgICBhc3Qua2V5LnZpc2l0KHRoaXMpO1xuICAgICAgICBhc3QudmFsdWUudmlzaXQodGhpcyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgUmVjdXJzaXZlQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRMaXRlcmFsQXJyYXkgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpc2l0QWxsKGFzdC5leHByZXNzaW9ucywgY29udGV4dCk7XG4gICAgfTtcbiAgICBSZWN1cnNpdmVBc3RWaXNpdG9yLnByb3RvdHlwZS52aXNpdExpdGVyYWxNYXAgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7IHJldHVybiB0aGlzLnZpc2l0QWxsKGFzdC52YWx1ZXMsIGNvbnRleHQpOyB9O1xuICAgIFJlY3Vyc2l2ZUFzdFZpc2l0b3IucHJvdG90eXBlLnZpc2l0TGl0ZXJhbFByaW1pdGl2ZSA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHsgcmV0dXJuIG51bGw7IH07XG4gICAgUmVjdXJzaXZlQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRNZXRob2RDYWxsID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICBhc3QucmVjZWl2ZXIudmlzaXQodGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLnZpc2l0QWxsKGFzdC5hcmdzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIFJlY3Vyc2l2ZUFzdFZpc2l0b3IucHJvdG90eXBlLnZpc2l0UHJlZml4Tm90ID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICBhc3QuZXhwcmVzc2lvbi52aXNpdCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBSZWN1cnNpdmVBc3RWaXNpdG9yLnByb3RvdHlwZS52aXNpdFByb3BlcnR5UmVhZCA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgYXN0LnJlY2VpdmVyLnZpc2l0KHRoaXMpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIFJlY3Vyc2l2ZUFzdFZpc2l0b3IucHJvdG90eXBlLnZpc2l0UHJvcGVydHlXcml0ZSA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgYXN0LnJlY2VpdmVyLnZpc2l0KHRoaXMpO1xuICAgICAgICBhc3QudmFsdWUudmlzaXQodGhpcyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgUmVjdXJzaXZlQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRTYWZlUHJvcGVydHlSZWFkID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICBhc3QucmVjZWl2ZXIudmlzaXQodGhpcyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgUmVjdXJzaXZlQXN0VmlzaXRvci5wcm90b3R5cGUudmlzaXRTYWZlTWV0aG9kQ2FsbCA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgYXN0LnJlY2VpdmVyLnZpc2l0KHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcy52aXNpdEFsbChhc3QuYXJncywgY29udGV4dCk7XG4gICAgfTtcbiAgICBSZWN1cnNpdmVBc3RWaXNpdG9yLnByb3RvdHlwZS52aXNpdEFsbCA9IGZ1bmN0aW9uIChhc3RzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGFzdHMuZm9yRWFjaChmdW5jdGlvbiAoYXN0KSB7IHJldHVybiBhc3QudmlzaXQoX3RoaXMsIGNvbnRleHQpOyB9KTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBSZWN1cnNpdmVBc3RWaXNpdG9yLnByb3RvdHlwZS52aXNpdFF1b3RlID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkgeyByZXR1cm4gbnVsbDsgfTtcbiAgICByZXR1cm4gUmVjdXJzaXZlQXN0VmlzaXRvcjtcbn0oKSk7XG5leHBvcnRzLlJlY3Vyc2l2ZUFzdFZpc2l0b3IgPSBSZWN1cnNpdmVBc3RWaXNpdG9yO1xudmFyIEFzdFRyYW5zZm9ybWVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBc3RUcmFuc2Zvcm1lcigpIHtcbiAgICB9XG4gICAgQXN0VHJhbnNmb3JtZXIucHJvdG90eXBlLnZpc2l0SW1wbGljaXRSZWNlaXZlciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHsgcmV0dXJuIGFzdDsgfTtcbiAgICBBc3RUcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRJbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbmV3IEludGVycG9sYXRpb24oYXN0LnN0cmluZ3MsIHRoaXMudmlzaXRBbGwoYXN0LmV4cHJlc3Npb25zKSk7XG4gICAgfTtcbiAgICBBc3RUcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRMaXRlcmFsUHJpbWl0aXZlID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbmV3IExpdGVyYWxQcmltaXRpdmUoYXN0LnZhbHVlKTtcbiAgICB9O1xuICAgIEFzdFRyYW5zZm9ybWVyLnByb3RvdHlwZS52aXNpdFByb3BlcnR5UmVhZCA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eVJlYWQoYXN0LnJlY2VpdmVyLnZpc2l0KHRoaXMpLCBhc3QubmFtZSk7XG4gICAgfTtcbiAgICBBc3RUcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRQcm9wZXJ0eVdyaXRlID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BlcnR5V3JpdGUoYXN0LnJlY2VpdmVyLnZpc2l0KHRoaXMpLCBhc3QubmFtZSwgYXN0LnZhbHVlKTtcbiAgICB9O1xuICAgIEFzdFRyYW5zZm9ybWVyLnByb3RvdHlwZS52aXNpdFNhZmVQcm9wZXJ0eVJlYWQgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgU2FmZVByb3BlcnR5UmVhZChhc3QucmVjZWl2ZXIudmlzaXQodGhpcyksIGFzdC5uYW1lKTtcbiAgICB9O1xuICAgIEFzdFRyYW5zZm9ybWVyLnByb3RvdHlwZS52aXNpdE1ldGhvZENhbGwgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgTWV0aG9kQ2FsbChhc3QucmVjZWl2ZXIudmlzaXQodGhpcyksIGFzdC5uYW1lLCB0aGlzLnZpc2l0QWxsKGFzdC5hcmdzKSk7XG4gICAgfTtcbiAgICBBc3RUcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRTYWZlTWV0aG9kQ2FsbCA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTYWZlTWV0aG9kQ2FsbChhc3QucmVjZWl2ZXIudmlzaXQodGhpcyksIGFzdC5uYW1lLCB0aGlzLnZpc2l0QWxsKGFzdC5hcmdzKSk7XG4gICAgfTtcbiAgICBBc3RUcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRGdW5jdGlvbkNhbGwgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb25DYWxsKGFzdC50YXJnZXQudmlzaXQodGhpcyksIHRoaXMudmlzaXRBbGwoYXN0LmFyZ3MpKTtcbiAgICB9O1xuICAgIEFzdFRyYW5zZm9ybWVyLnByb3RvdHlwZS52aXNpdExpdGVyYWxBcnJheSA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMaXRlcmFsQXJyYXkodGhpcy52aXNpdEFsbChhc3QuZXhwcmVzc2lvbnMpKTtcbiAgICB9O1xuICAgIEFzdFRyYW5zZm9ybWVyLnByb3RvdHlwZS52aXNpdExpdGVyYWxNYXAgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgTGl0ZXJhbE1hcChhc3Qua2V5cywgdGhpcy52aXNpdEFsbChhc3QudmFsdWVzKSk7XG4gICAgfTtcbiAgICBBc3RUcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRCaW5hcnkgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgQmluYXJ5KGFzdC5vcGVyYXRpb24sIGFzdC5sZWZ0LnZpc2l0KHRoaXMpLCBhc3QucmlnaHQudmlzaXQodGhpcykpO1xuICAgIH07XG4gICAgQXN0VHJhbnNmb3JtZXIucHJvdG90eXBlLnZpc2l0UHJlZml4Tm90ID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbmV3IFByZWZpeE5vdChhc3QuZXhwcmVzc2lvbi52aXNpdCh0aGlzKSk7XG4gICAgfTtcbiAgICBBc3RUcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRDb25kaXRpb25hbCA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb25kaXRpb25hbChhc3QuY29uZGl0aW9uLnZpc2l0KHRoaXMpLCBhc3QudHJ1ZUV4cC52aXNpdCh0aGlzKSwgYXN0LmZhbHNlRXhwLnZpc2l0KHRoaXMpKTtcbiAgICB9O1xuICAgIEFzdFRyYW5zZm9ybWVyLnByb3RvdHlwZS52aXNpdFBpcGUgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgQmluZGluZ1BpcGUoYXN0LmV4cC52aXNpdCh0aGlzKSwgYXN0Lm5hbWUsIHRoaXMudmlzaXRBbGwoYXN0LmFyZ3MpKTtcbiAgICB9O1xuICAgIEFzdFRyYW5zZm9ybWVyLnByb3RvdHlwZS52aXNpdEtleWVkUmVhZCA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBLZXllZFJlYWQoYXN0Lm9iai52aXNpdCh0aGlzKSwgYXN0LmtleS52aXNpdCh0aGlzKSk7XG4gICAgfTtcbiAgICBBc3RUcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRLZXllZFdyaXRlID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbmV3IEtleWVkV3JpdGUoYXN0Lm9iai52aXNpdCh0aGlzKSwgYXN0LmtleS52aXNpdCh0aGlzKSwgYXN0LnZhbHVlLnZpc2l0KHRoaXMpKTtcbiAgICB9O1xuICAgIEFzdFRyYW5zZm9ybWVyLnByb3RvdHlwZS52aXNpdEFsbCA9IGZ1bmN0aW9uIChhc3RzKSB7XG4gICAgICAgIHZhciByZXMgPSBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuY3JlYXRlRml4ZWRTaXplKGFzdHMubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhc3RzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICByZXNbaV0gPSBhc3RzW2ldLnZpc2l0KHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBBc3RUcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRDaGFpbiA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHsgcmV0dXJuIG5ldyBDaGFpbih0aGlzLnZpc2l0QWxsKGFzdC5leHByZXNzaW9ucykpOyB9O1xuICAgIEFzdFRyYW5zZm9ybWVyLnByb3RvdHlwZS52aXNpdFF1b3RlID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbmV3IFF1b3RlKGFzdC5wcmVmaXgsIGFzdC51bmludGVycHJldGVkRXhwcmVzc2lvbiwgYXN0LmxvY2F0aW9uKTtcbiAgICB9O1xuICAgIHJldHVybiBBc3RUcmFuc2Zvcm1lcjtcbn0oKSk7XG5leHBvcnRzLkFzdFRyYW5zZm9ybWVyID0gQXN0VHJhbnNmb3JtZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9jb2xsZWN0aW9uJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG4oZnVuY3Rpb24gKFRva2VuVHlwZSkge1xuICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJDaGFyYWN0ZXJcIl0gPSAwXSA9IFwiQ2hhcmFjdGVyXCI7XG4gICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIklkZW50aWZpZXJcIl0gPSAxXSA9IFwiSWRlbnRpZmllclwiO1xuICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJLZXl3b3JkXCJdID0gMl0gPSBcIktleXdvcmRcIjtcbiAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiU3RyaW5nXCJdID0gM10gPSBcIlN0cmluZ1wiO1xuICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJPcGVyYXRvclwiXSA9IDRdID0gXCJPcGVyYXRvclwiO1xuICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJOdW1iZXJcIl0gPSA1XSA9IFwiTnVtYmVyXCI7XG59KShleHBvcnRzLlRva2VuVHlwZSB8fCAoZXhwb3J0cy5Ub2tlblR5cGUgPSB7fSkpO1xudmFyIFRva2VuVHlwZSA9IGV4cG9ydHMuVG9rZW5UeXBlO1xudmFyIExleGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZXhlcigpIHtcbiAgICB9XG4gICAgTGV4ZXIucHJvdG90eXBlLnRva2VuaXplID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgdmFyIHNjYW5uZXIgPSBuZXcgX1NjYW5uZXIodGV4dCk7XG4gICAgICAgIHZhciB0b2tlbnMgPSBbXTtcbiAgICAgICAgdmFyIHRva2VuID0gc2Nhbm5lci5zY2FuVG9rZW4oKTtcbiAgICAgICAgd2hpbGUgKHRva2VuICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgIHRva2VuID0gc2Nhbm5lci5zY2FuVG9rZW4oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH07XG4gICAgTGV4ZXIuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuSW5qZWN0YWJsZSB9LFxuICAgIF07XG4gICAgcmV0dXJuIExleGVyO1xufSgpKTtcbmV4cG9ydHMuTGV4ZXIgPSBMZXhlcjtcbnZhciBUb2tlbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVG9rZW4oaW5kZXgsIHR5cGUsIG51bVZhbHVlLCBzdHJWYWx1ZSkge1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMubnVtVmFsdWUgPSBudW1WYWx1ZTtcbiAgICAgICAgdGhpcy5zdHJWYWx1ZSA9IHN0clZhbHVlO1xuICAgIH1cbiAgICBUb2tlbi5wcm90b3R5cGUuaXNDaGFyYWN0ZXIgPSBmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICByZXR1cm4gKHRoaXMudHlwZSA9PSBUb2tlblR5cGUuQ2hhcmFjdGVyICYmIHRoaXMubnVtVmFsdWUgPT0gY29kZSk7XG4gICAgfTtcbiAgICBUb2tlbi5wcm90b3R5cGUuaXNOdW1iZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAodGhpcy50eXBlID09IFRva2VuVHlwZS5OdW1iZXIpOyB9O1xuICAgIFRva2VuLnByb3RvdHlwZS5pc1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICh0aGlzLnR5cGUgPT0gVG9rZW5UeXBlLlN0cmluZyk7IH07XG4gICAgVG9rZW4ucHJvdG90eXBlLmlzT3BlcmF0b3IgPSBmdW5jdGlvbiAob3BlcmF0ZXIpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnR5cGUgPT0gVG9rZW5UeXBlLk9wZXJhdG9yICYmIHRoaXMuc3RyVmFsdWUgPT0gb3BlcmF0ZXIpO1xuICAgIH07XG4gICAgVG9rZW4ucHJvdG90eXBlLmlzSWRlbnRpZmllciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICh0aGlzLnR5cGUgPT0gVG9rZW5UeXBlLklkZW50aWZpZXIpOyB9O1xuICAgIFRva2VuLnByb3RvdHlwZS5pc0tleXdvcmQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAodGhpcy50eXBlID09IFRva2VuVHlwZS5LZXl3b3JkKTsgfTtcbiAgICBUb2tlbi5wcm90b3R5cGUuaXNLZXl3b3JkRGVwcmVjYXRlZFZhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnR5cGUgPT0gVG9rZW5UeXBlLktleXdvcmQgJiYgdGhpcy5zdHJWYWx1ZSA9PSBcInZhclwiKTtcbiAgICB9O1xuICAgIFRva2VuLnByb3RvdHlwZS5pc0tleXdvcmRMZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAodGhpcy50eXBlID09IFRva2VuVHlwZS5LZXl3b3JkICYmIHRoaXMuc3RyVmFsdWUgPT0gXCJsZXRcIik7IH07XG4gICAgVG9rZW4ucHJvdG90eXBlLmlzS2V5d29yZE51bGwgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAodGhpcy50eXBlID09IFRva2VuVHlwZS5LZXl3b3JkICYmIHRoaXMuc3RyVmFsdWUgPT0gXCJudWxsXCIpOyB9O1xuICAgIFRva2VuLnByb3RvdHlwZS5pc0tleXdvcmRVbmRlZmluZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy50eXBlID09IFRva2VuVHlwZS5LZXl3b3JkICYmIHRoaXMuc3RyVmFsdWUgPT0gXCJ1bmRlZmluZWRcIik7XG4gICAgfTtcbiAgICBUb2tlbi5wcm90b3R5cGUuaXNLZXl3b3JkVHJ1ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICh0aGlzLnR5cGUgPT0gVG9rZW5UeXBlLktleXdvcmQgJiYgdGhpcy5zdHJWYWx1ZSA9PSBcInRydWVcIik7IH07XG4gICAgVG9rZW4ucHJvdG90eXBlLmlzS2V5d29yZEZhbHNlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKHRoaXMudHlwZSA9PSBUb2tlblR5cGUuS2V5d29yZCAmJiB0aGlzLnN0clZhbHVlID09IFwiZmFsc2VcIik7IH07XG4gICAgVG9rZW4ucHJvdG90eXBlLnRvTnVtYmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyAtMSBpbnN0ZWFkIG9mIE5VTEwgb2s/XG4gICAgICAgIHJldHVybiAodGhpcy50eXBlID09IFRva2VuVHlwZS5OdW1iZXIpID8gdGhpcy5udW1WYWx1ZSA6IC0xO1xuICAgIH07XG4gICAgVG9rZW4ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuQ2hhcmFjdGVyOlxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuSWRlbnRpZmllcjpcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLktleXdvcmQ6XG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5PcGVyYXRvcjpcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLlN0cmluZzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJWYWx1ZTtcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLk51bWJlcjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5udW1WYWx1ZS50b1N0cmluZygpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRva2VuO1xufSgpKTtcbmV4cG9ydHMuVG9rZW4gPSBUb2tlbjtcbmZ1bmN0aW9uIG5ld0NoYXJhY3RlclRva2VuKGluZGV4LCBjb2RlKSB7XG4gICAgcmV0dXJuIG5ldyBUb2tlbihpbmRleCwgVG9rZW5UeXBlLkNoYXJhY3RlciwgY29kZSwgbGFuZ18xLlN0cmluZ1dyYXBwZXIuZnJvbUNoYXJDb2RlKGNvZGUpKTtcbn1cbmZ1bmN0aW9uIG5ld0lkZW50aWZpZXJUb2tlbihpbmRleCwgdGV4dCkge1xuICAgIHJldHVybiBuZXcgVG9rZW4oaW5kZXgsIFRva2VuVHlwZS5JZGVudGlmaWVyLCAwLCB0ZXh0KTtcbn1cbmZ1bmN0aW9uIG5ld0tleXdvcmRUb2tlbihpbmRleCwgdGV4dCkge1xuICAgIHJldHVybiBuZXcgVG9rZW4oaW5kZXgsIFRva2VuVHlwZS5LZXl3b3JkLCAwLCB0ZXh0KTtcbn1cbmZ1bmN0aW9uIG5ld09wZXJhdG9yVG9rZW4oaW5kZXgsIHRleHQpIHtcbiAgICByZXR1cm4gbmV3IFRva2VuKGluZGV4LCBUb2tlblR5cGUuT3BlcmF0b3IsIDAsIHRleHQpO1xufVxuZnVuY3Rpb24gbmV3U3RyaW5nVG9rZW4oaW5kZXgsIHRleHQpIHtcbiAgICByZXR1cm4gbmV3IFRva2VuKGluZGV4LCBUb2tlblR5cGUuU3RyaW5nLCAwLCB0ZXh0KTtcbn1cbmZ1bmN0aW9uIG5ld051bWJlclRva2VuKGluZGV4LCBuKSB7XG4gICAgcmV0dXJuIG5ldyBUb2tlbihpbmRleCwgVG9rZW5UeXBlLk51bWJlciwgbiwgXCJcIik7XG59XG5leHBvcnRzLkVPRiA9IG5ldyBUb2tlbigtMSwgVG9rZW5UeXBlLkNoYXJhY3RlciwgMCwgXCJcIik7XG5leHBvcnRzLiRFT0YgPSAwO1xuZXhwb3J0cy4kVEFCID0gOTtcbmV4cG9ydHMuJExGID0gMTA7XG5leHBvcnRzLiRWVEFCID0gMTE7XG5leHBvcnRzLiRGRiA9IDEyO1xuZXhwb3J0cy4kQ1IgPSAxMztcbmV4cG9ydHMuJFNQQUNFID0gMzI7XG5leHBvcnRzLiRCQU5HID0gMzM7XG5leHBvcnRzLiREUSA9IDM0O1xuZXhwb3J0cy4kSEFTSCA9IDM1O1xuZXhwb3J0cy4kJCA9IDM2O1xuZXhwb3J0cy4kUEVSQ0VOVCA9IDM3O1xuZXhwb3J0cy4kQU1QRVJTQU5EID0gMzg7XG5leHBvcnRzLiRTUSA9IDM5O1xuZXhwb3J0cy4kTFBBUkVOID0gNDA7XG5leHBvcnRzLiRSUEFSRU4gPSA0MTtcbmV4cG9ydHMuJFNUQVIgPSA0MjtcbmV4cG9ydHMuJFBMVVMgPSA0MztcbmV4cG9ydHMuJENPTU1BID0gNDQ7XG5leHBvcnRzLiRNSU5VUyA9IDQ1O1xuZXhwb3J0cy4kUEVSSU9EID0gNDY7XG5leHBvcnRzLiRTTEFTSCA9IDQ3O1xuZXhwb3J0cy4kQ09MT04gPSA1ODtcbmV4cG9ydHMuJFNFTUlDT0xPTiA9IDU5O1xuZXhwb3J0cy4kTFQgPSA2MDtcbmV4cG9ydHMuJEVRID0gNjE7XG5leHBvcnRzLiRHVCA9IDYyO1xuZXhwb3J0cy4kUVVFU1RJT04gPSA2MztcbnZhciAkMCA9IDQ4O1xudmFyICQ5ID0gNTc7XG52YXIgJEEgPSA2NSwgJEUgPSA2OSwgJFogPSA5MDtcbmV4cG9ydHMuJExCUkFDS0VUID0gOTE7XG5leHBvcnRzLiRCQUNLU0xBU0ggPSA5MjtcbmV4cG9ydHMuJFJCUkFDS0VUID0gOTM7XG52YXIgJENBUkVUID0gOTQ7XG52YXIgJF8gPSA5NTtcbmV4cG9ydHMuJEJUID0gOTY7XG52YXIgJGEgPSA5NywgJGUgPSAxMDEsICRmID0gMTAyO1xudmFyICRuID0gMTEwLCAkciA9IDExNCwgJHQgPSAxMTYsICR1ID0gMTE3LCAkdiA9IDExOCwgJHogPSAxMjI7XG5leHBvcnRzLiRMQlJBQ0UgPSAxMjM7XG5leHBvcnRzLiRCQVIgPSAxMjQ7XG5leHBvcnRzLiRSQlJBQ0UgPSAxMjU7XG52YXIgJE5CU1AgPSAxNjA7XG52YXIgU2Nhbm5lckVycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2Nhbm5lckVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNjYW5uZXJFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIH1cbiAgICBTY2FubmVyRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tZXNzYWdlOyB9O1xuICAgIHJldHVybiBTY2FubmVyRXJyb3I7XG59KGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKSk7XG5leHBvcnRzLlNjYW5uZXJFcnJvciA9IFNjYW5uZXJFcnJvcjtcbnZhciBfU2Nhbm5lciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gX1NjYW5uZXIoaW5wdXQpIHtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgICAgICB0aGlzLnBlZWsgPSAwO1xuICAgICAgICB0aGlzLmluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICB9XG4gICAgX1NjYW5uZXIucHJvdG90eXBlLmFkdmFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGVlayA9XG4gICAgICAgICAgICArK3RoaXMuaW5kZXggPj0gdGhpcy5sZW5ndGggPyBleHBvcnRzLiRFT0YgOiBsYW5nXzEuU3RyaW5nV3JhcHBlci5jaGFyQ29kZUF0KHRoaXMuaW5wdXQsIHRoaXMuaW5kZXgpO1xuICAgIH07XG4gICAgX1NjYW5uZXIucHJvdG90eXBlLnNjYW5Ub2tlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5pbnB1dCwgbGVuZ3RoID0gdGhpcy5sZW5ndGgsIHBlZWsgPSB0aGlzLnBlZWssIGluZGV4ID0gdGhpcy5pbmRleDtcbiAgICAgICAgLy8gU2tpcCB3aGl0ZXNwYWNlLlxuICAgICAgICB3aGlsZSAocGVlayA8PSBleHBvcnRzLiRTUEFDRSkge1xuICAgICAgICAgICAgaWYgKCsraW5kZXggPj0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcGVlayA9IGV4cG9ydHMuJEVPRjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZWsgPSBsYW5nXzEuU3RyaW5nV3JhcHBlci5jaGFyQ29kZUF0KGlucHV0LCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZWVrID0gcGVlaztcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICBpZiAoaW5kZXggPj0gbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgaWRlbnRpZmllcnMgYW5kIG51bWJlcnMuXG4gICAgICAgIGlmIChpc0lkZW50aWZpZXJTdGFydChwZWVrKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYW5JZGVudGlmaWVyKCk7XG4gICAgICAgIGlmIChpc0RpZ2l0KHBlZWspKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Nhbk51bWJlcihpbmRleCk7XG4gICAgICAgIHZhciBzdGFydCA9IGluZGV4O1xuICAgICAgICBzd2l0Y2ggKHBlZWspIHtcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy4kUEVSSU9EOlxuICAgICAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpc0RpZ2l0KHRoaXMucGVlaykgPyB0aGlzLnNjYW5OdW1iZXIoc3RhcnQpIDogbmV3Q2hhcmFjdGVyVG9rZW4oc3RhcnQsIGV4cG9ydHMuJFBFUklPRCk7XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuJExQQVJFTjpcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy4kUlBBUkVOOlxuICAgICAgICAgICAgY2FzZSBleHBvcnRzLiRMQlJBQ0U6XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuJFJCUkFDRTpcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy4kTEJSQUNLRVQ6XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuJFJCUkFDS0VUOlxuICAgICAgICAgICAgY2FzZSBleHBvcnRzLiRDT01NQTpcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy4kQ09MT046XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuJFNFTUlDT0xPTjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FuQ2hhcmFjdGVyKHN0YXJ0LCBwZWVrKTtcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy4kU1E6XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuJERROlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYW5TdHJpbmcoKTtcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy4kSEFTSDpcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy4kUExVUzpcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy4kTUlOVVM6XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuJFNUQVI6XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuJFNMQVNIOlxuICAgICAgICAgICAgY2FzZSBleHBvcnRzLiRQRVJDRU5UOlxuICAgICAgICAgICAgY2FzZSAkQ0FSRVQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Nhbk9wZXJhdG9yKHN0YXJ0LCBsYW5nXzEuU3RyaW5nV3JhcHBlci5mcm9tQ2hhckNvZGUocGVlaykpO1xuICAgICAgICAgICAgY2FzZSBleHBvcnRzLiRRVUVTVElPTjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FuQ29tcGxleE9wZXJhdG9yKHN0YXJ0LCAnPycsIGV4cG9ydHMuJFBFUklPRCwgJy4nKTtcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy4kTFQ6XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuJEdUOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYW5Db21wbGV4T3BlcmF0b3Ioc3RhcnQsIGxhbmdfMS5TdHJpbmdXcmFwcGVyLmZyb21DaGFyQ29kZShwZWVrKSwgZXhwb3J0cy4kRVEsICc9Jyk7XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuJEJBTkc6XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuJEVROlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYW5Db21wbGV4T3BlcmF0b3Ioc3RhcnQsIGxhbmdfMS5TdHJpbmdXcmFwcGVyLmZyb21DaGFyQ29kZShwZWVrKSwgZXhwb3J0cy4kRVEsICc9JywgZXhwb3J0cy4kRVEsICc9Jyk7XG4gICAgICAgICAgICBjYXNlIGV4cG9ydHMuJEFNUEVSU0FORDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FuQ29tcGxleE9wZXJhdG9yKHN0YXJ0LCAnJicsIGV4cG9ydHMuJEFNUEVSU0FORCwgJyYnKTtcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy4kQkFSOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYW5Db21wbGV4T3BlcmF0b3Ioc3RhcnQsICd8JywgZXhwb3J0cy4kQkFSLCAnfCcpO1xuICAgICAgICAgICAgY2FzZSAkTkJTUDpcbiAgICAgICAgICAgICAgICB3aGlsZSAoaXNXaGl0ZXNwYWNlKHRoaXMucGVlaykpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYW5Ub2tlbigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXJyb3IoXCJVbmV4cGVjdGVkIGNoYXJhY3RlciBbXCIgKyBsYW5nXzEuU3RyaW5nV3JhcHBlci5mcm9tQ2hhckNvZGUocGVlaykgKyBcIl1cIiwgMCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgX1NjYW5uZXIucHJvdG90eXBlLnNjYW5DaGFyYWN0ZXIgPSBmdW5jdGlvbiAoc3RhcnQsIGNvZGUpIHtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgIHJldHVybiBuZXdDaGFyYWN0ZXJUb2tlbihzdGFydCwgY29kZSk7XG4gICAgfTtcbiAgICBfU2Nhbm5lci5wcm90b3R5cGUuc2Nhbk9wZXJhdG9yID0gZnVuY3Rpb24gKHN0YXJ0LCBzdHIpIHtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgIHJldHVybiBuZXdPcGVyYXRvclRva2VuKHN0YXJ0LCBzdHIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVG9rZW5pemUgYSAyLzMgY2hhciBsb25nIG9wZXJhdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RhcnQgc3RhcnQgaW5kZXggaW4gdGhlIGV4cHJlc3Npb25cbiAgICAgKiBAcGFyYW0gb25lIGZpcnN0IHN5bWJvbCAoYWx3YXlzIHBhcnQgb2YgdGhlIG9wZXJhdG9yKVxuICAgICAqIEBwYXJhbSB0d29Db2RlIGNvZGUgcG9pbnQgZm9yIHRoZSBzZWNvbmQgc3ltYm9sXG4gICAgICogQHBhcmFtIHR3byBzZWNvbmQgc3ltYm9sIChwYXJ0IG9mIHRoZSBvcGVyYXRvciB3aGVuIHRoZSBzZWNvbmQgY29kZSBwb2ludCBtYXRjaGVzKVxuICAgICAqIEBwYXJhbSB0aHJlZUNvZGUgY29kZSBwb2ludCBmb3IgdGhlIHRoaXJkIHN5bWJvbFxuICAgICAqIEBwYXJhbSB0aHJlZSB0aGlyZCBzeW1ib2wgKHBhcnQgb2YgdGhlIG9wZXJhdG9yIHdoZW4gcHJvdmlkZWQgYW5kIG1hdGNoZXMgc291cmNlIGV4cHJlc3Npb24pXG4gICAgICogQHJldHVybnMge1Rva2VufVxuICAgICAqL1xuICAgIF9TY2FubmVyLnByb3RvdHlwZS5zY2FuQ29tcGxleE9wZXJhdG9yID0gZnVuY3Rpb24gKHN0YXJ0LCBvbmUsIHR3b0NvZGUsIHR3bywgdGhyZWVDb2RlLCB0aHJlZSkge1xuICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgdmFyIHN0ciA9IG9uZTtcbiAgICAgICAgaWYgKHRoaXMucGVlayA9PSB0d29Db2RlKSB7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHN0ciArPSB0d287XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGhyZWVDb2RlKSAmJiB0aGlzLnBlZWsgPT0gdGhyZWVDb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHN0ciArPSB0aHJlZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3T3BlcmF0b3JUb2tlbihzdGFydCwgc3RyKTtcbiAgICB9O1xuICAgIF9TY2FubmVyLnByb3RvdHlwZS5zY2FuSWRlbnRpZmllciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgIHdoaWxlIChpc0lkZW50aWZpZXJQYXJ0KHRoaXMucGVlaykpXG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgdmFyIHN0ciA9IHRoaXMuaW5wdXQuc3Vic3RyaW5nKHN0YXJ0LCB0aGlzLmluZGV4KTtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb25fMS5TZXRXcmFwcGVyLmhhcyhLRVlXT1JEUywgc3RyKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ld0tleXdvcmRUb2tlbihzdGFydCwgc3RyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXdJZGVudGlmaWVyVG9rZW4oc3RhcnQsIHN0cik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIF9TY2FubmVyLnByb3RvdHlwZS5zY2FuTnVtYmVyID0gZnVuY3Rpb24gKHN0YXJ0KSB7XG4gICAgICAgIHZhciBzaW1wbGUgPSAodGhpcy5pbmRleCA9PT0gc3RhcnQpO1xuICAgICAgICB0aGlzLmFkdmFuY2UoKTsgLy8gU2tpcCBpbml0aWFsIGRpZ2l0LlxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgaWYgKGlzRGlnaXQodGhpcy5wZWVrKSkge1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wZWVrID09IGV4cG9ydHMuJFBFUklPRCkge1xuICAgICAgICAgICAgICAgIHNpbXBsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNFeHBvbmVudFN0YXJ0KHRoaXMucGVlaykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNFeHBvbmVudFNpZ24odGhpcy5wZWVrKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0RpZ2l0KHRoaXMucGVlaykpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IoJ0ludmFsaWQgZXhwb25lbnQnLCAtMSk7XG4gICAgICAgICAgICAgICAgc2ltcGxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHIgPSB0aGlzLmlucHV0LnN1YnN0cmluZyhzdGFydCwgdGhpcy5pbmRleCk7XG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgdmFyIHZhbHVlID0gc2ltcGxlID8gbGFuZ18xLk51bWJlcldyYXBwZXIucGFyc2VJbnRBdXRvUmFkaXgoc3RyKSA6IGxhbmdfMS5OdW1iZXJXcmFwcGVyLnBhcnNlRmxvYXQoc3RyKTtcbiAgICAgICAgcmV0dXJuIG5ld051bWJlclRva2VuKHN0YXJ0LCB2YWx1ZSk7XG4gICAgfTtcbiAgICBfU2Nhbm5lci5wcm90b3R5cGUuc2NhblN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgdmFyIHF1b3RlID0gdGhpcy5wZWVrO1xuICAgICAgICB0aGlzLmFkdmFuY2UoKTsgLy8gU2tpcCBpbml0aWFsIHF1b3RlLlxuICAgICAgICB2YXIgYnVmZmVyO1xuICAgICAgICB2YXIgbWFya2VyID0gdGhpcy5pbmRleDtcbiAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5pbnB1dDtcbiAgICAgICAgd2hpbGUgKHRoaXMucGVlayAhPSBxdW90ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGVlayA9PSBleHBvcnRzLiRCQUNLU0xBU0gpIHtcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBsYW5nXzEuU3RyaW5nSm9pbmVyKCk7XG4gICAgICAgICAgICAgICAgYnVmZmVyLmFkZChpbnB1dC5zdWJzdHJpbmcobWFya2VyLCB0aGlzLmluZGV4KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICAgICAgdmFyIHVuZXNjYXBlZENvZGU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVlayA9PSAkdSkge1xuICAgICAgICAgICAgICAgICAgICAvLyA0IGNoYXJhY3RlciBoZXggY29kZSBmb3IgdW5pY29kZSBjaGFyYWN0ZXIuXG4gICAgICAgICAgICAgICAgICAgIHZhciBoZXggPSBpbnB1dC5zdWJzdHJpbmcodGhpcy5pbmRleCArIDEsIHRoaXMuaW5kZXggKyA1KTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZXNjYXBlZENvZGUgPSBsYW5nXzEuTnVtYmVyV3JhcHBlci5wYXJzZUludChoZXgsIDE2KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcihcIkludmFsaWQgdW5pY29kZSBlc2NhcGUgW1xcXFx1XCIgKyBoZXggKyBcIl1cIiwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1bmVzY2FwZWRDb2RlID0gdW5lc2NhcGUodGhpcy5wZWVrKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJ1ZmZlci5hZGQobGFuZ18xLlN0cmluZ1dyYXBwZXIuZnJvbUNoYXJDb2RlKHVuZXNjYXBlZENvZGUpKTtcbiAgICAgICAgICAgICAgICBtYXJrZXIgPSB0aGlzLmluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wZWVrID09IGV4cG9ydHMuJEVPRikge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IoJ1VudGVybWluYXRlZCBxdW90ZScsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhc3QgPSBpbnB1dC5zdWJzdHJpbmcobWFya2VyLCB0aGlzLmluZGV4KTtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7IC8vIFNraXAgdGVybWluYXRpbmcgcXVvdGUuXG4gICAgICAgIC8vIENvbXB1dGUgdGhlIHVuZXNjYXBlZCBzdHJpbmcgdmFsdWUuXG4gICAgICAgIHZhciB1bmVzY2FwZWQgPSBsYXN0O1xuICAgICAgICBpZiAoYnVmZmVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGJ1ZmZlci5hZGQobGFzdCk7XG4gICAgICAgICAgICB1bmVzY2FwZWQgPSBidWZmZXIudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3U3RyaW5nVG9rZW4oc3RhcnQsIHVuZXNjYXBlZCk7XG4gICAgfTtcbiAgICBfU2Nhbm5lci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAobWVzc2FnZSwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMuaW5kZXggKyBvZmZzZXQ7XG4gICAgICAgIHRocm93IG5ldyBTY2FubmVyRXJyb3IoXCJMZXhlciBFcnJvcjogXCIgKyBtZXNzYWdlICsgXCIgYXQgY29sdW1uIFwiICsgcG9zaXRpb24gKyBcIiBpbiBleHByZXNzaW9uIFtcIiArIHRoaXMuaW5wdXQgKyBcIl1cIik7XG4gICAgfTtcbiAgICByZXR1cm4gX1NjYW5uZXI7XG59KCkpO1xuZnVuY3Rpb24gaXNXaGl0ZXNwYWNlKGNvZGUpIHtcbiAgICByZXR1cm4gKGNvZGUgPj0gZXhwb3J0cy4kVEFCICYmIGNvZGUgPD0gZXhwb3J0cy4kU1BBQ0UpIHx8IChjb2RlID09ICROQlNQKTtcbn1cbmZ1bmN0aW9uIGlzSWRlbnRpZmllclN0YXJ0KGNvZGUpIHtcbiAgICByZXR1cm4gKCRhIDw9IGNvZGUgJiYgY29kZSA8PSAkeikgfHwgKCRBIDw9IGNvZGUgJiYgY29kZSA8PSAkWikgfHwgKGNvZGUgPT0gJF8pIHx8IChjb2RlID09IGV4cG9ydHMuJCQpO1xufVxuZnVuY3Rpb24gaXNJZGVudGlmaWVyKGlucHV0KSB7XG4gICAgaWYgKGlucHV0Lmxlbmd0aCA9PSAwKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdmFyIHNjYW5uZXIgPSBuZXcgX1NjYW5uZXIoaW5wdXQpO1xuICAgIGlmICghaXNJZGVudGlmaWVyU3RhcnQoc2Nhbm5lci5wZWVrKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHNjYW5uZXIuYWR2YW5jZSgpO1xuICAgIHdoaWxlIChzY2FubmVyLnBlZWsgIT09IGV4cG9ydHMuJEVPRikge1xuICAgICAgICBpZiAoIWlzSWRlbnRpZmllclBhcnQoc2Nhbm5lci5wZWVrKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgc2Nhbm5lci5hZHZhbmNlKCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0cy5pc0lkZW50aWZpZXIgPSBpc0lkZW50aWZpZXI7XG5mdW5jdGlvbiBpc0lkZW50aWZpZXJQYXJ0KGNvZGUpIHtcbiAgICByZXR1cm4gKCRhIDw9IGNvZGUgJiYgY29kZSA8PSAkeikgfHwgKCRBIDw9IGNvZGUgJiYgY29kZSA8PSAkWikgfHwgKCQwIDw9IGNvZGUgJiYgY29kZSA8PSAkOSkgfHxcbiAgICAgICAgKGNvZGUgPT0gJF8pIHx8IChjb2RlID09IGV4cG9ydHMuJCQpO1xufVxuZnVuY3Rpb24gaXNEaWdpdChjb2RlKSB7XG4gICAgcmV0dXJuICQwIDw9IGNvZGUgJiYgY29kZSA8PSAkOTtcbn1cbmZ1bmN0aW9uIGlzRXhwb25lbnRTdGFydChjb2RlKSB7XG4gICAgcmV0dXJuIGNvZGUgPT0gJGUgfHwgY29kZSA9PSAkRTtcbn1cbmZ1bmN0aW9uIGlzRXhwb25lbnRTaWduKGNvZGUpIHtcbiAgICByZXR1cm4gY29kZSA9PSBleHBvcnRzLiRNSU5VUyB8fCBjb2RlID09IGV4cG9ydHMuJFBMVVM7XG59XG5mdW5jdGlvbiBpc1F1b3RlKGNvZGUpIHtcbiAgICByZXR1cm4gY29kZSA9PT0gZXhwb3J0cy4kU1EgfHwgY29kZSA9PT0gZXhwb3J0cy4kRFEgfHwgY29kZSA9PT0gZXhwb3J0cy4kQlQ7XG59XG5leHBvcnRzLmlzUXVvdGUgPSBpc1F1b3RlO1xuZnVuY3Rpb24gdW5lc2NhcGUoY29kZSkge1xuICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICBjYXNlICRuOlxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuJExGO1xuICAgICAgICBjYXNlICRmOlxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuJEZGO1xuICAgICAgICBjYXNlICRyOlxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuJENSO1xuICAgICAgICBjYXNlICR0OlxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuJFRBQjtcbiAgICAgICAgY2FzZSAkdjpcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLiRWVEFCO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGNvZGU7XG4gICAgfVxufVxudmFyIE9QRVJBVE9SUyA9IGNvbGxlY3Rpb25fMS5TZXRXcmFwcGVyLmNyZWF0ZUZyb21MaXN0KFtcbiAgICAnKycsXG4gICAgJy0nLFxuICAgICcqJyxcbiAgICAnLycsXG4gICAgJyUnLFxuICAgICdeJyxcbiAgICAnPScsXG4gICAgJz09JyxcbiAgICAnIT0nLFxuICAgICc9PT0nLFxuICAgICchPT0nLFxuICAgICc8JyxcbiAgICAnPicsXG4gICAgJzw9JyxcbiAgICAnPj0nLFxuICAgICcmJicsXG4gICAgJ3x8JyxcbiAgICAnJicsXG4gICAgJ3wnLFxuICAgICchJyxcbiAgICAnPycsXG4gICAgJyMnLFxuICAgICc/Lidcbl0pO1xudmFyIEtFWVdPUkRTID0gY29sbGVjdGlvbl8xLlNldFdyYXBwZXIuY3JlYXRlRnJvbUxpc3QoWyd2YXInLCAnbGV0JywgJ251bGwnLCAndW5kZWZpbmVkJywgJ3RydWUnLCAnZmFsc2UnLCAnaWYnLCAnZWxzZSddKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxleGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvZXhjZXB0aW9ucycpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIGxleGVyXzEgPSByZXF1aXJlKCcuL2xleGVyJyk7XG52YXIgYXN0XzEgPSByZXF1aXJlKCcuL2FzdCcpO1xudmFyIF9pbXBsaWNpdFJlY2VpdmVyID0gbmV3IGFzdF8xLkltcGxpY2l0UmVjZWl2ZXIoKTtcbi8vIFRPRE8odGJvc2NoKTogQ2Fubm90IG1ha2UgdGhpcyBjb25zdC9maW5hbCByaWdodCBub3cgYmVjYXVzZSBvZiB0aGUgdHJhbnNwaWxlci4uLlxudmFyIElOVEVSUE9MQVRJT05fUkVHRVhQID0gL1xce1xceyhbXFxzXFxTXSo/KVxcfVxcfS9nO1xudmFyIFBhcnNlRXhjZXB0aW9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGFyc2VFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUGFyc2VFeGNlcHRpb24obWVzc2FnZSwgaW5wdXQsIGVyckxvY2F0aW9uLCBjdHhMb2NhdGlvbikge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBcIlBhcnNlciBFcnJvcjogXCIgKyBtZXNzYWdlICsgXCIgXCIgKyBlcnJMb2NhdGlvbiArIFwiIFtcIiArIGlucHV0ICsgXCJdIGluIFwiICsgY3R4TG9jYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gUGFyc2VFeGNlcHRpb247XG59KGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKSk7XG52YXIgU3BsaXRJbnRlcnBvbGF0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTcGxpdEludGVycG9sYXRpb24oc3RyaW5ncywgZXhwcmVzc2lvbnMpIHtcbiAgICAgICAgdGhpcy5zdHJpbmdzID0gc3RyaW5ncztcbiAgICAgICAgdGhpcy5leHByZXNzaW9ucyA9IGV4cHJlc3Npb25zO1xuICAgIH1cbiAgICByZXR1cm4gU3BsaXRJbnRlcnBvbGF0aW9uO1xufSgpKTtcbmV4cG9ydHMuU3BsaXRJbnRlcnBvbGF0aW9uID0gU3BsaXRJbnRlcnBvbGF0aW9uO1xudmFyIFRlbXBsYXRlQmluZGluZ1BhcnNlUmVzdWx0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZW1wbGF0ZUJpbmRpbmdQYXJzZVJlc3VsdCh0ZW1wbGF0ZUJpbmRpbmdzLCB3YXJuaW5ncykge1xuICAgICAgICB0aGlzLnRlbXBsYXRlQmluZGluZ3MgPSB0ZW1wbGF0ZUJpbmRpbmdzO1xuICAgICAgICB0aGlzLndhcm5pbmdzID0gd2FybmluZ3M7XG4gICAgfVxuICAgIHJldHVybiBUZW1wbGF0ZUJpbmRpbmdQYXJzZVJlc3VsdDtcbn0oKSk7XG5leHBvcnRzLlRlbXBsYXRlQmluZGluZ1BhcnNlUmVzdWx0ID0gVGVtcGxhdGVCaW5kaW5nUGFyc2VSZXN1bHQ7XG52YXIgUGFyc2VyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQYXJzZXIoLyoqIEBpbnRlcm5hbCAqLyBfbGV4ZXIpIHtcbiAgICAgICAgdGhpcy5fbGV4ZXIgPSBfbGV4ZXI7XG4gICAgfVxuICAgIFBhcnNlci5wcm90b3R5cGUucGFyc2VBY3Rpb24gPSBmdW5jdGlvbiAoaW5wdXQsIGxvY2F0aW9uKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrTm9JbnRlcnBvbGF0aW9uKGlucHV0LCBsb2NhdGlvbik7XG4gICAgICAgIHZhciB0b2tlbnMgPSB0aGlzLl9sZXhlci50b2tlbml6ZSh0aGlzLl9zdHJpcENvbW1lbnRzKGlucHV0KSk7XG4gICAgICAgIHZhciBhc3QgPSBuZXcgX1BhcnNlQVNUKGlucHV0LCBsb2NhdGlvbiwgdG9rZW5zLCB0cnVlKS5wYXJzZUNoYWluKCk7XG4gICAgICAgIHJldHVybiBuZXcgYXN0XzEuQVNUV2l0aFNvdXJjZShhc3QsIGlucHV0LCBsb2NhdGlvbik7XG4gICAgfTtcbiAgICBQYXJzZXIucHJvdG90eXBlLnBhcnNlQmluZGluZyA9IGZ1bmN0aW9uIChpbnB1dCwgbG9jYXRpb24pIHtcbiAgICAgICAgdmFyIGFzdCA9IHRoaXMuX3BhcnNlQmluZGluZ0FzdChpbnB1dCwgbG9jYXRpb24pO1xuICAgICAgICByZXR1cm4gbmV3IGFzdF8xLkFTVFdpdGhTb3VyY2UoYXN0LCBpbnB1dCwgbG9jYXRpb24pO1xuICAgIH07XG4gICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZVNpbXBsZUJpbmRpbmcgPSBmdW5jdGlvbiAoaW5wdXQsIGxvY2F0aW9uKSB7XG4gICAgICAgIHZhciBhc3QgPSB0aGlzLl9wYXJzZUJpbmRpbmdBc3QoaW5wdXQsIGxvY2F0aW9uKTtcbiAgICAgICAgaWYgKCFTaW1wbGVFeHByZXNzaW9uQ2hlY2tlci5jaGVjayhhc3QpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUGFyc2VFeGNlcHRpb24oJ0hvc3QgYmluZGluZyBleHByZXNzaW9uIGNhbiBvbmx5IGNvbnRhaW4gZmllbGQgYWNjZXNzIGFuZCBjb25zdGFudHMnLCBpbnB1dCwgbG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgYXN0XzEuQVNUV2l0aFNvdXJjZShhc3QsIGlucHV0LCBsb2NhdGlvbik7XG4gICAgfTtcbiAgICBQYXJzZXIucHJvdG90eXBlLl9wYXJzZUJpbmRpbmdBc3QgPSBmdW5jdGlvbiAoaW5wdXQsIGxvY2F0aW9uKSB7XG4gICAgICAgIC8vIFF1b3RlcyBleHByZXNzaW9ucyB1c2UgM3JkLXBhcnR5IGV4cHJlc3Npb24gbGFuZ3VhZ2UuIFdlIGRvbid0IHdhbnQgdG8gdXNlXG4gICAgICAgIC8vIG91ciBsZXhlciBvciBwYXJzZXIgZm9yIHRoYXQsIHNvIHdlIGNoZWNrIGZvciB0aGF0IGFoZWFkIG9mIHRpbWUuXG4gICAgICAgIHZhciBxdW90ZSA9IHRoaXMuX3BhcnNlUXVvdGUoaW5wdXQsIGxvY2F0aW9uKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocXVvdGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gcXVvdGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2hlY2tOb0ludGVycG9sYXRpb24oaW5wdXQsIGxvY2F0aW9uKTtcbiAgICAgICAgdmFyIHRva2VucyA9IHRoaXMuX2xleGVyLnRva2VuaXplKHRoaXMuX3N0cmlwQ29tbWVudHMoaW5wdXQpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBfUGFyc2VBU1QoaW5wdXQsIGxvY2F0aW9uLCB0b2tlbnMsIGZhbHNlKS5wYXJzZUNoYWluKCk7XG4gICAgfTtcbiAgICBQYXJzZXIucHJvdG90eXBlLl9wYXJzZVF1b3RlID0gZnVuY3Rpb24gKGlucHV0LCBsb2NhdGlvbikge1xuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsoaW5wdXQpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBwcmVmaXhTZXBhcmF0b3JJbmRleCA9IGlucHV0LmluZGV4T2YoJzonKTtcbiAgICAgICAgaWYgKHByZWZpeFNlcGFyYXRvckluZGV4ID09IC0xKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBwcmVmaXggPSBpbnB1dC5zdWJzdHJpbmcoMCwgcHJlZml4U2VwYXJhdG9ySW5kZXgpLnRyaW0oKTtcbiAgICAgICAgaWYgKCFsZXhlcl8xLmlzSWRlbnRpZmllcihwcmVmaXgpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciB1bmludGVycHJldGVkRXhwcmVzc2lvbiA9IGlucHV0LnN1YnN0cmluZyhwcmVmaXhTZXBhcmF0b3JJbmRleCArIDEpO1xuICAgICAgICByZXR1cm4gbmV3IGFzdF8xLlF1b3RlKHByZWZpeCwgdW5pbnRlcnByZXRlZEV4cHJlc3Npb24sIGxvY2F0aW9uKTtcbiAgICB9O1xuICAgIFBhcnNlci5wcm90b3R5cGUucGFyc2VUZW1wbGF0ZUJpbmRpbmdzID0gZnVuY3Rpb24gKGlucHV0LCBsb2NhdGlvbikge1xuICAgICAgICB2YXIgdG9rZW5zID0gdGhpcy5fbGV4ZXIudG9rZW5pemUoaW5wdXQpO1xuICAgICAgICByZXR1cm4gbmV3IF9QYXJzZUFTVChpbnB1dCwgbG9jYXRpb24sIHRva2VucywgZmFsc2UpLnBhcnNlVGVtcGxhdGVCaW5kaW5ncygpO1xuICAgIH07XG4gICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZUludGVycG9sYXRpb24gPSBmdW5jdGlvbiAoaW5wdXQsIGxvY2F0aW9uKSB7XG4gICAgICAgIHZhciBzcGxpdCA9IHRoaXMuc3BsaXRJbnRlcnBvbGF0aW9uKGlucHV0LCBsb2NhdGlvbik7XG4gICAgICAgIGlmIChzcGxpdCA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBleHByZXNzaW9ucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwbGl0LmV4cHJlc3Npb25zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW5zID0gdGhpcy5fbGV4ZXIudG9rZW5pemUodGhpcy5fc3RyaXBDb21tZW50cyhzcGxpdC5leHByZXNzaW9uc1tpXSkpO1xuICAgICAgICAgICAgdmFyIGFzdCA9IG5ldyBfUGFyc2VBU1QoaW5wdXQsIGxvY2F0aW9uLCB0b2tlbnMsIGZhbHNlKS5wYXJzZUNoYWluKCk7XG4gICAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKGFzdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBhc3RfMS5BU1RXaXRoU291cmNlKG5ldyBhc3RfMS5JbnRlcnBvbGF0aW9uKHNwbGl0LnN0cmluZ3MsIGV4cHJlc3Npb25zKSwgaW5wdXQsIGxvY2F0aW9uKTtcbiAgICB9O1xuICAgIFBhcnNlci5wcm90b3R5cGUuc3BsaXRJbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24gKGlucHV0LCBsb2NhdGlvbikge1xuICAgICAgICB2YXIgcGFydHMgPSBsYW5nXzEuU3RyaW5nV3JhcHBlci5zcGxpdChpbnB1dCwgSU5URVJQT0xBVElPTl9SRUdFWFApO1xuICAgICAgICBpZiAocGFydHMubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdHJpbmdzID0gW107XG4gICAgICAgIHZhciBleHByZXNzaW9ucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFydCA9IHBhcnRzW2ldO1xuICAgICAgICAgICAgaWYgKGkgJSAyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gZml4ZWQgc3RyaW5nXG4gICAgICAgICAgICAgICAgc3RyaW5ncy5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFydC50cmltKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGV4cHJlc3Npb25zLnB1c2gocGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUGFyc2VFeGNlcHRpb24oJ0JsYW5rIGV4cHJlc3Npb25zIGFyZSBub3QgYWxsb3dlZCBpbiBpbnRlcnBvbGF0ZWQgc3RyaW5ncycsIGlucHV0LCBcImF0IGNvbHVtbiBcIiArIHRoaXMuX2ZpbmRJbnRlcnBvbGF0aW9uRXJyb3JDb2x1bW4ocGFydHMsIGkpICsgXCIgaW5cIiwgbG9jYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU3BsaXRJbnRlcnBvbGF0aW9uKHN0cmluZ3MsIGV4cHJlc3Npb25zKTtcbiAgICB9O1xuICAgIFBhcnNlci5wcm90b3R5cGUud3JhcExpdGVyYWxQcmltaXRpdmUgPSBmdW5jdGlvbiAoaW5wdXQsIGxvY2F0aW9uKSB7XG4gICAgICAgIHJldHVybiBuZXcgYXN0XzEuQVNUV2l0aFNvdXJjZShuZXcgYXN0XzEuTGl0ZXJhbFByaW1pdGl2ZShpbnB1dCksIGlucHV0LCBsb2NhdGlvbik7XG4gICAgfTtcbiAgICBQYXJzZXIucHJvdG90eXBlLl9zdHJpcENvbW1lbnRzID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5fY29tbWVudFN0YXJ0KGlucHV0KTtcbiAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQoaSkgPyBpbnB1dC5zdWJzdHJpbmcoMCwgaSkudHJpbSgpIDogaW5wdXQ7XG4gICAgfTtcbiAgICBQYXJzZXIucHJvdG90eXBlLl9jb21tZW50U3RhcnQgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgdmFyIG91dGVyUXVvdGUgPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoYXIgPSBsYW5nXzEuU3RyaW5nV3JhcHBlci5jaGFyQ29kZUF0KGlucHV0LCBpKTtcbiAgICAgICAgICAgIHZhciBuZXh0Q2hhciA9IGxhbmdfMS5TdHJpbmdXcmFwcGVyLmNoYXJDb2RlQXQoaW5wdXQsIGkgKyAxKTtcbiAgICAgICAgICAgIGlmIChjaGFyID09PSBsZXhlcl8xLiRTTEFTSCAmJiBuZXh0Q2hhciA9PSBsZXhlcl8xLiRTTEFTSCAmJiBsYW5nXzEuaXNCbGFuayhvdXRlclF1b3RlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIGlmIChvdXRlclF1b3RlID09PSBjaGFyKSB7XG4gICAgICAgICAgICAgICAgb3V0ZXJRdW90ZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYW5nXzEuaXNCbGFuayhvdXRlclF1b3RlKSAmJiBsZXhlcl8xLmlzUXVvdGUoY2hhcikpIHtcbiAgICAgICAgICAgICAgICBvdXRlclF1b3RlID0gY2hhcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIFBhcnNlci5wcm90b3R5cGUuX2NoZWNrTm9JbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24gKGlucHV0LCBsb2NhdGlvbikge1xuICAgICAgICB2YXIgcGFydHMgPSBsYW5nXzEuU3RyaW5nV3JhcHBlci5zcGxpdChpbnB1dCwgSU5URVJQT0xBVElPTl9SRUdFWFApO1xuICAgICAgICBpZiAocGFydHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlRXhjZXB0aW9uKCdHb3QgaW50ZXJwb2xhdGlvbiAoe3t9fSkgd2hlcmUgZXhwcmVzc2lvbiB3YXMgZXhwZWN0ZWQnLCBpbnB1dCwgXCJhdCBjb2x1bW4gXCIgKyB0aGlzLl9maW5kSW50ZXJwb2xhdGlvbkVycm9yQ29sdW1uKHBhcnRzLCAxKSArIFwiIGluXCIsIGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGFyc2VyLnByb3RvdHlwZS5fZmluZEludGVycG9sYXRpb25FcnJvckNvbHVtbiA9IGZ1bmN0aW9uIChwYXJ0cywgcGFydEluRXJySWR4KSB7XG4gICAgICAgIHZhciBlcnJMb2NhdGlvbiA9ICcnO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBhcnRJbkVycklkeDsgaisrKSB7XG4gICAgICAgICAgICBlcnJMb2NhdGlvbiArPSBqICUgMiA9PT0gMCA/IHBhcnRzW2pdIDogXCJ7e1wiICsgcGFydHNbal0gKyBcIn19XCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVyckxvY2F0aW9uLmxlbmd0aDtcbiAgICB9O1xuICAgIFBhcnNlci5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICBQYXJzZXIuY3RvclBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHsgdHlwZTogbGV4ZXJfMS5MZXhlciwgfSxcbiAgICBdO1xuICAgIHJldHVybiBQYXJzZXI7XG59KCkpO1xuZXhwb3J0cy5QYXJzZXIgPSBQYXJzZXI7XG52YXIgX1BhcnNlQVNUID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBfUGFyc2VBU1QoaW5wdXQsIGxvY2F0aW9uLCB0b2tlbnMsIHBhcnNlQWN0aW9uKSB7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB0aGlzLnRva2VucyA9IHRva2VucztcbiAgICAgICAgdGhpcy5wYXJzZUFjdGlvbiA9IHBhcnNlQWN0aW9uO1xuICAgICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICB9XG4gICAgX1BhcnNlQVNULnByb3RvdHlwZS5wZWVrID0gZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICB2YXIgaSA9IHRoaXMuaW5kZXggKyBvZmZzZXQ7XG4gICAgICAgIHJldHVybiBpIDwgdGhpcy50b2tlbnMubGVuZ3RoID8gdGhpcy50b2tlbnNbaV0gOiBsZXhlcl8xLkVPRjtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfUGFyc2VBU1QucHJvdG90eXBlLCBcIm5leHRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMucGVlaygwKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9QYXJzZUFTVC5wcm90b3R5cGUsIFwiaW5wdXRJbmRleFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLmluZGV4IDwgdGhpcy50b2tlbnMubGVuZ3RoKSA/IHRoaXMubmV4dC5pbmRleCA6IHRoaXMuaW5wdXQubGVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBfUGFyc2VBU1QucHJvdG90eXBlLmFkdmFuY2UgPSBmdW5jdGlvbiAoKSB7IHRoaXMuaW5kZXgrKzsgfTtcbiAgICBfUGFyc2VBU1QucHJvdG90eXBlLm9wdGlvbmFsQ2hhcmFjdGVyID0gZnVuY3Rpb24gKGNvZGUpIHtcbiAgICAgICAgaWYgKHRoaXMubmV4dC5pc0NoYXJhY3Rlcihjb2RlKSkge1xuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgX1BhcnNlQVNULnByb3RvdHlwZS5wZWVrS2V5d29yZExldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubmV4dC5pc0tleXdvcmRMZXQoKTsgfTtcbiAgICBfUGFyc2VBU1QucHJvdG90eXBlLnBlZWtEZXByZWNhdGVkS2V5d29yZFZhciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubmV4dC5pc0tleXdvcmREZXByZWNhdGVkVmFyKCk7IH07XG4gICAgX1BhcnNlQVNULnByb3RvdHlwZS5wZWVrRGVwcmVjYXRlZE9wZXJhdG9ySGFzaCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubmV4dC5pc09wZXJhdG9yKCcjJyk7IH07XG4gICAgX1BhcnNlQVNULnByb3RvdHlwZS5leHBlY3RDaGFyYWN0ZXIgPSBmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25hbENoYXJhY3Rlcihjb2RlKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5lcnJvcihcIk1pc3NpbmcgZXhwZWN0ZWQgXCIgKyBsYW5nXzEuU3RyaW5nV3JhcHBlci5mcm9tQ2hhckNvZGUoY29kZSkpO1xuICAgIH07XG4gICAgX1BhcnNlQVNULnByb3RvdHlwZS5vcHRpb25hbE9wZXJhdG9yID0gZnVuY3Rpb24gKG9wKSB7XG4gICAgICAgIGlmICh0aGlzLm5leHQuaXNPcGVyYXRvcihvcCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIF9QYXJzZUFTVC5wcm90b3R5cGUuZXhwZWN0T3BlcmF0b3IgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9uYWxPcGVyYXRvcihvcGVyYXRvcikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuZXJyb3IoXCJNaXNzaW5nIGV4cGVjdGVkIG9wZXJhdG9yIFwiICsgb3BlcmF0b3IpO1xuICAgIH07XG4gICAgX1BhcnNlQVNULnByb3RvdHlwZS5leHBlY3RJZGVudGlmaWVyT3JLZXl3b3JkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbiA9IHRoaXMubmV4dDtcbiAgICAgICAgaWYgKCFuLmlzSWRlbnRpZmllcigpICYmICFuLmlzS2V5d29yZCgpKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yKFwiVW5leHBlY3RlZCB0b2tlbiBcIiArIG4gKyBcIiwgZXhwZWN0ZWQgaWRlbnRpZmllciBvciBrZXl3b3JkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgICByZXR1cm4gbi50b1N0cmluZygpO1xuICAgIH07XG4gICAgX1BhcnNlQVNULnByb3RvdHlwZS5leHBlY3RJZGVudGlmaWVyT3JLZXl3b3JkT3JTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuID0gdGhpcy5uZXh0O1xuICAgICAgICBpZiAoIW4uaXNJZGVudGlmaWVyKCkgJiYgIW4uaXNLZXl3b3JkKCkgJiYgIW4uaXNTdHJpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5lcnJvcihcIlVuZXhwZWN0ZWQgdG9rZW4gXCIgKyBuICsgXCIsIGV4cGVjdGVkIGlkZW50aWZpZXIsIGtleXdvcmQsIG9yIHN0cmluZ1wiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgcmV0dXJuIG4udG9TdHJpbmcoKTtcbiAgICB9O1xuICAgIF9QYXJzZUFTVC5wcm90b3R5cGUucGFyc2VDaGFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGV4cHJzID0gW107XG4gICAgICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50b2tlbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgZXhwciA9IHRoaXMucGFyc2VQaXBlKCk7XG4gICAgICAgICAgICBleHBycy5wdXNoKGV4cHIpO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9uYWxDaGFyYWN0ZXIobGV4ZXJfMS4kU0VNSUNPTE9OKSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5wYXJzZUFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yKFwiQmluZGluZyBleHByZXNzaW9uIGNhbm5vdCBjb250YWluIGNoYWluZWQgZXhwcmVzc2lvblwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMub3B0aW9uYWxDaGFyYWN0ZXIobGV4ZXJfMS4kU0VNSUNPTE9OKSkge1xuICAgICAgICAgICAgICAgIH0gLy8gcmVhZCBhbGwgc2VtaWNvbG9uc1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5pbmRleCA8IHRoaXMudG9rZW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IoXCJVbmV4cGVjdGVkIHRva2VuICdcIiArIHRoaXMubmV4dCArIFwiJ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhwcnMubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm4gbmV3IGFzdF8xLkVtcHR5RXhwcigpO1xuICAgICAgICBpZiAoZXhwcnMubGVuZ3RoID09IDEpXG4gICAgICAgICAgICByZXR1cm4gZXhwcnNbMF07XG4gICAgICAgIHJldHVybiBuZXcgYXN0XzEuQ2hhaW4oZXhwcnMpO1xuICAgIH07XG4gICAgX1BhcnNlQVNULnByb3RvdHlwZS5wYXJzZVBpcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25hbE9wZXJhdG9yKFwifFwiKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGFyc2VBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yKFwiQ2Fubm90IGhhdmUgYSBwaXBlIGluIGFuIGFjdGlvbiBleHByZXNzaW9uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gdGhpcy5leHBlY3RJZGVudGlmaWVyT3JLZXl3b3JkKCk7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5vcHRpb25hbENoYXJhY3RlcihsZXhlcl8xLiRDT0xPTikpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKHRoaXMucGFyc2VFeHByZXNzaW9uKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgYXN0XzEuQmluZGluZ1BpcGUocmVzdWx0LCBuYW1lLCBhcmdzKTtcbiAgICAgICAgICAgIH0gd2hpbGUgKHRoaXMub3B0aW9uYWxPcGVyYXRvcihcInxcIikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBfUGFyc2VBU1QucHJvdG90eXBlLnBhcnNlRXhwcmVzc2lvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMucGFyc2VDb25kaXRpb25hbCgpOyB9O1xuICAgIF9QYXJzZUFTVC5wcm90b3R5cGUucGFyc2VDb25kaXRpb25hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5pbnB1dEluZGV4O1xuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5wYXJzZUxvZ2ljYWxPcigpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25hbE9wZXJhdG9yKCc/JykpIHtcbiAgICAgICAgICAgIHZhciB5ZXMgPSB0aGlzLnBhcnNlUGlwZSgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbmFsQ2hhcmFjdGVyKGxleGVyXzEuJENPTE9OKSkge1xuICAgICAgICAgICAgICAgIHZhciBlbmQgPSB0aGlzLmlucHV0SW5kZXg7XG4gICAgICAgICAgICAgICAgdmFyIGV4cHJlc3Npb24gPSB0aGlzLmlucHV0LnN1YnN0cmluZyhzdGFydCwgZW5kKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yKFwiQ29uZGl0aW9uYWwgZXhwcmVzc2lvbiBcIiArIGV4cHJlc3Npb24gKyBcIiByZXF1aXJlcyBhbGwgMyBleHByZXNzaW9uc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBubyA9IHRoaXMucGFyc2VQaXBlKCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGFzdF8xLkNvbmRpdGlvbmFsKHJlc3VsdCwgeWVzLCBubyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBfUGFyc2VBU1QucHJvdG90eXBlLnBhcnNlTG9naWNhbE9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyAnfHwnXG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnBhcnNlTG9naWNhbEFuZCgpO1xuICAgICAgICB3aGlsZSAodGhpcy5vcHRpb25hbE9wZXJhdG9yKCd8fCcpKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgYXN0XzEuQmluYXJ5KCd8fCcsIHJlc3VsdCwgdGhpcy5wYXJzZUxvZ2ljYWxBbmQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIF9QYXJzZUFTVC5wcm90b3R5cGUucGFyc2VMb2dpY2FsQW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyAnJiYnXG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnBhcnNlRXF1YWxpdHkoKTtcbiAgICAgICAgd2hpbGUgKHRoaXMub3B0aW9uYWxPcGVyYXRvcignJiYnKSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IGFzdF8xLkJpbmFyeSgnJiYnLCByZXN1bHQsIHRoaXMucGFyc2VFcXVhbGl0eSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgX1BhcnNlQVNULnByb3RvdHlwZS5wYXJzZUVxdWFsaXR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyAnPT0nLCchPScsJz09PScsJyE9PSdcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMucGFyc2VSZWxhdGlvbmFsKCk7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25hbE9wZXJhdG9yKCc9PScpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IGFzdF8xLkJpbmFyeSgnPT0nLCByZXN1bHQsIHRoaXMucGFyc2VSZWxhdGlvbmFsKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5vcHRpb25hbE9wZXJhdG9yKCc9PT0nKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBhc3RfMS5CaW5hcnkoJz09PScsIHJlc3VsdCwgdGhpcy5wYXJzZVJlbGF0aW9uYWwoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLm9wdGlvbmFsT3BlcmF0b3IoJyE9JykpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgYXN0XzEuQmluYXJ5KCchPScsIHJlc3VsdCwgdGhpcy5wYXJzZVJlbGF0aW9uYWwoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLm9wdGlvbmFsT3BlcmF0b3IoJyE9PScpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IGFzdF8xLkJpbmFyeSgnIT09JywgcmVzdWx0LCB0aGlzLnBhcnNlUmVsYXRpb25hbCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIF9QYXJzZUFTVC5wcm90b3R5cGUucGFyc2VSZWxhdGlvbmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyAnPCcsICc+JywgJzw9JywgJz49J1xuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5wYXJzZUFkZGl0aXZlKCk7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25hbE9wZXJhdG9yKCc8JykpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgYXN0XzEuQmluYXJ5KCc8JywgcmVzdWx0LCB0aGlzLnBhcnNlQWRkaXRpdmUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLm9wdGlvbmFsT3BlcmF0b3IoJz4nKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBhc3RfMS5CaW5hcnkoJz4nLCByZXN1bHQsIHRoaXMucGFyc2VBZGRpdGl2ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9uYWxPcGVyYXRvcignPD0nKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBhc3RfMS5CaW5hcnkoJzw9JywgcmVzdWx0LCB0aGlzLnBhcnNlQWRkaXRpdmUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLm9wdGlvbmFsT3BlcmF0b3IoJz49JykpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgYXN0XzEuQmluYXJ5KCc+PScsIHJlc3VsdCwgdGhpcy5wYXJzZUFkZGl0aXZlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgX1BhcnNlQVNULnByb3RvdHlwZS5wYXJzZUFkZGl0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyAnKycsICctJ1xuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5wYXJzZU11bHRpcGxpY2F0aXZlKCk7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25hbE9wZXJhdG9yKCcrJykpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgYXN0XzEuQmluYXJ5KCcrJywgcmVzdWx0LCB0aGlzLnBhcnNlTXVsdGlwbGljYXRpdmUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLm9wdGlvbmFsT3BlcmF0b3IoJy0nKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBhc3RfMS5CaW5hcnkoJy0nLCByZXN1bHQsIHRoaXMucGFyc2VNdWx0aXBsaWNhdGl2ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIF9QYXJzZUFTVC5wcm90b3R5cGUucGFyc2VNdWx0aXBsaWNhdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gJyonLCAnJScsICcvJ1xuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5wYXJzZVByZWZpeCgpO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9uYWxPcGVyYXRvcignKicpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IGFzdF8xLkJpbmFyeSgnKicsIHJlc3VsdCwgdGhpcy5wYXJzZVByZWZpeCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9uYWxPcGVyYXRvcignJScpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IGFzdF8xLkJpbmFyeSgnJScsIHJlc3VsdCwgdGhpcy5wYXJzZVByZWZpeCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9uYWxPcGVyYXRvcignLycpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IGFzdF8xLkJpbmFyeSgnLycsIHJlc3VsdCwgdGhpcy5wYXJzZVByZWZpeCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIF9QYXJzZUFTVC5wcm90b3R5cGUucGFyc2VQcmVmaXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbmFsT3BlcmF0b3IoJysnKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VQcmVmaXgoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLm9wdGlvbmFsT3BlcmF0b3IoJy0nKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBhc3RfMS5CaW5hcnkoJy0nLCBuZXcgYXN0XzEuTGl0ZXJhbFByaW1pdGl2ZSgwKSwgdGhpcy5wYXJzZVByZWZpeCgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLm9wdGlvbmFsT3BlcmF0b3IoJyEnKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBhc3RfMS5QcmVmaXhOb3QodGhpcy5wYXJzZVByZWZpeCgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlQ2FsbENoYWluKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIF9QYXJzZUFTVC5wcm90b3R5cGUucGFyc2VDYWxsQ2hhaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnBhcnNlUHJpbWFyeSgpO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9uYWxDaGFyYWN0ZXIobGV4ZXJfMS4kUEVSSU9EKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucGFyc2VBY2Nlc3NNZW1iZXJPck1ldGhvZENhbGwocmVzdWx0LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLm9wdGlvbmFsT3BlcmF0b3IoJz8uJykpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnBhcnNlQWNjZXNzTWVtYmVyT3JNZXRob2RDYWxsKHJlc3VsdCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLm9wdGlvbmFsQ2hhcmFjdGVyKGxleGVyXzEuJExCUkFDS0VUKSkge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSB0aGlzLnBhcnNlUGlwZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXhwZWN0Q2hhcmFjdGVyKGxleGVyXzEuJFJCUkFDS0VUKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25hbE9wZXJhdG9yKFwiPVwiKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnBhcnNlQ29uZGl0aW9uYWwoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IGFzdF8xLktleWVkV3JpdGUocmVzdWx0LCBrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBhc3RfMS5LZXllZFJlYWQocmVzdWx0LCBrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9uYWxDaGFyYWN0ZXIobGV4ZXJfMS4kTFBBUkVOKSkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gdGhpcy5wYXJzZUNhbGxBcmd1bWVudHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmV4cGVjdENoYXJhY3RlcihsZXhlcl8xLiRSUEFSRU4pO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBhc3RfMS5GdW5jdGlvbkNhbGwocmVzdWx0LCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIF9QYXJzZUFTVC5wcm90b3R5cGUucGFyc2VQcmltYXJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25hbENoYXJhY3RlcihsZXhlcl8xLiRMUEFSRU4pKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5wYXJzZVBpcGUoKTtcbiAgICAgICAgICAgIHRoaXMuZXhwZWN0Q2hhcmFjdGVyKGxleGVyXzEuJFJQQVJFTik7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubmV4dC5pc0tleXdvcmROdWxsKCkgfHwgdGhpcy5uZXh0LmlzS2V5d29yZFVuZGVmaW5lZCgpKSB7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgYXN0XzEuTGl0ZXJhbFByaW1pdGl2ZShudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLm5leHQuaXNLZXl3b3JkVHJ1ZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgYXN0XzEuTGl0ZXJhbFByaW1pdGl2ZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLm5leHQuaXNLZXl3b3JkRmFsc2UoKSkge1xuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGFzdF8xLkxpdGVyYWxQcmltaXRpdmUoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9uYWxDaGFyYWN0ZXIobGV4ZXJfMS4kTEJSQUNLRVQpKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudHMgPSB0aGlzLnBhcnNlRXhwcmVzc2lvbkxpc3QobGV4ZXJfMS4kUkJSQUNLRVQpO1xuICAgICAgICAgICAgdGhpcy5leHBlY3RDaGFyYWN0ZXIobGV4ZXJfMS4kUkJSQUNLRVQpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBhc3RfMS5MaXRlcmFsQXJyYXkoZWxlbWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubmV4dC5pc0NoYXJhY3RlcihsZXhlcl8xLiRMQlJBQ0UpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUxpdGVyYWxNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLm5leHQuaXNJZGVudGlmaWVyKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlQWNjZXNzTWVtYmVyT3JNZXRob2RDYWxsKF9pbXBsaWNpdFJlY2VpdmVyLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5uZXh0LmlzTnVtYmVyKCkpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMubmV4dC50b051bWJlcigpO1xuICAgICAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGFzdF8xLkxpdGVyYWxQcmltaXRpdmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubmV4dC5pc1N0cmluZygpKSB7XG4gICAgICAgICAgICB2YXIgbGl0ZXJhbFZhbHVlID0gdGhpcy5uZXh0LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgYXN0XzEuTGl0ZXJhbFByaW1pdGl2ZShsaXRlcmFsVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaW5kZXggPj0gdGhpcy50b2tlbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yKFwiVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogXCIgKyB0aGlzLmlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3IoXCJVbmV4cGVjdGVkIHRva2VuIFwiICsgdGhpcy5uZXh0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlcnJvcigpIHRocm93cywgc28gd2UgZG9uJ3QgcmVhY2ggaGVyZS5cbiAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiRmVsbCB0aHJvdWdoIGFsbCBjYXNlcyBpbiBwYXJzZVByaW1hcnlcIik7XG4gICAgfTtcbiAgICBfUGFyc2VBU1QucHJvdG90eXBlLnBhcnNlRXhwcmVzc2lvbkxpc3QgPSBmdW5jdGlvbiAodGVybWluYXRvcikge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIGlmICghdGhpcy5uZXh0LmlzQ2hhcmFjdGVyKHRlcm1pbmF0b3IpKSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godGhpcy5wYXJzZVBpcGUoKSk7XG4gICAgICAgICAgICB9IHdoaWxlICh0aGlzLm9wdGlvbmFsQ2hhcmFjdGVyKGxleGVyXzEuJENPTU1BKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIF9QYXJzZUFTVC5wcm90b3R5cGUucGFyc2VMaXRlcmFsTWFwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgIHRoaXMuZXhwZWN0Q2hhcmFjdGVyKGxleGVyXzEuJExCUkFDRSk7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25hbENoYXJhY3RlcihsZXhlcl8xLiRSQlJBQ0UpKSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoaXMuZXhwZWN0SWRlbnRpZmllck9yS2V5d29yZE9yU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgdGhpcy5leHBlY3RDaGFyYWN0ZXIobGV4ZXJfMS4kQ09MT04pO1xuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKHRoaXMucGFyc2VQaXBlKCkpO1xuICAgICAgICAgICAgfSB3aGlsZSAodGhpcy5vcHRpb25hbENoYXJhY3RlcihsZXhlcl8xLiRDT01NQSkpO1xuICAgICAgICAgICAgdGhpcy5leHBlY3RDaGFyYWN0ZXIobGV4ZXJfMS4kUkJSQUNFKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IGFzdF8xLkxpdGVyYWxNYXAoa2V5cywgdmFsdWVzKTtcbiAgICB9O1xuICAgIF9QYXJzZUFTVC5wcm90b3R5cGUucGFyc2VBY2Nlc3NNZW1iZXJPck1ldGhvZENhbGwgPSBmdW5jdGlvbiAocmVjZWl2ZXIsIGlzU2FmZSkge1xuICAgICAgICBpZiAoaXNTYWZlID09PSB2b2lkIDApIHsgaXNTYWZlID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIGlkID0gdGhpcy5leHBlY3RJZGVudGlmaWVyT3JLZXl3b3JkKCk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbmFsQ2hhcmFjdGVyKGxleGVyXzEuJExQQVJFTikpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gdGhpcy5wYXJzZUNhbGxBcmd1bWVudHMoKTtcbiAgICAgICAgICAgIHRoaXMuZXhwZWN0Q2hhcmFjdGVyKGxleGVyXzEuJFJQQVJFTik7XG4gICAgICAgICAgICByZXR1cm4gaXNTYWZlID8gbmV3IGFzdF8xLlNhZmVNZXRob2RDYWxsKHJlY2VpdmVyLCBpZCwgYXJncykgOiBuZXcgYXN0XzEuTWV0aG9kQ2FsbChyZWNlaXZlciwgaWQsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGlzU2FmZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbmFsT3BlcmF0b3IoXCI9XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IoXCJUaGUgJz8uJyBvcGVyYXRvciBjYW5ub3QgYmUgdXNlZCBpbiB0aGUgYXNzaWdubWVudFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgYXN0XzEuU2FmZVByb3BlcnR5UmVhZChyZWNlaXZlciwgaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbmFsT3BlcmF0b3IoXCI9XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5wYXJzZUFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcihcIkJpbmRpbmdzIGNhbm5vdCBjb250YWluIGFzc2lnbm1lbnRzXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMucGFyc2VDb25kaXRpb25hbCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IGFzdF8xLlByb3BlcnR5V3JpdGUocmVjZWl2ZXIsIGlkLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IGFzdF8xLlByb3BlcnR5UmVhZChyZWNlaXZlciwgaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIF9QYXJzZUFTVC5wcm90b3R5cGUucGFyc2VDYWxsQXJndW1lbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5uZXh0LmlzQ2hhcmFjdGVyKGxleGVyXzEuJFJQQVJFTikpXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIHZhciBwb3NpdGlvbmFscyA9IFtdO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBwb3NpdGlvbmFscy5wdXNoKHRoaXMucGFyc2VQaXBlKCkpO1xuICAgICAgICB9IHdoaWxlICh0aGlzLm9wdGlvbmFsQ2hhcmFjdGVyKGxleGVyXzEuJENPTU1BKSk7XG4gICAgICAgIHJldHVybiBwb3NpdGlvbmFscztcbiAgICB9O1xuICAgIF9QYXJzZUFTVC5wcm90b3R5cGUucGFyc2VCbG9ja0NvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5wYXJzZUFjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5lcnJvcihcIkJpbmRpbmcgZXhwcmVzc2lvbiBjYW5ub3QgY29udGFpbiBjaGFpbmVkIGV4cHJlc3Npb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGV4cHJzID0gW107XG4gICAgICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50b2tlbnMubGVuZ3RoICYmICF0aGlzLm5leHQuaXNDaGFyYWN0ZXIobGV4ZXJfMS4kUkJSQUNFKSkge1xuICAgICAgICAgICAgdmFyIGV4cHIgPSB0aGlzLnBhcnNlRXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgZXhwcnMucHVzaChleHByKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbmFsQ2hhcmFjdGVyKGxleGVyXzEuJFNFTUlDT0xPTikpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5vcHRpb25hbENoYXJhY3RlcihsZXhlcl8xLiRTRU1JQ09MT04pKSB7XG4gICAgICAgICAgICAgICAgfSAvLyByZWFkIGFsbCBzZW1pY29sb25zXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4cHJzLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBhc3RfMS5FbXB0eUV4cHIoKTtcbiAgICAgICAgaWYgKGV4cHJzLmxlbmd0aCA9PSAxKVxuICAgICAgICAgICAgcmV0dXJuIGV4cHJzWzBdO1xuICAgICAgICByZXR1cm4gbmV3IGFzdF8xLkNoYWluKGV4cHJzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFuIGlkZW50aWZpZXIsIGEga2V5d29yZCwgYSBzdHJpbmcgd2l0aCBhbiBvcHRpb25hbCBgLWAgaW5iZXR3ZWVuLlxuICAgICAqL1xuICAgIF9QYXJzZUFTVC5wcm90b3R5cGUuZXhwZWN0VGVtcGxhdGVCaW5kaW5nS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICAgIHZhciBvcGVyYXRvckZvdW5kID0gZmFsc2U7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0aGlzLmV4cGVjdElkZW50aWZpZXJPcktleXdvcmRPclN0cmluZygpO1xuICAgICAgICAgICAgb3BlcmF0b3JGb3VuZCA9IHRoaXMub3B0aW9uYWxPcGVyYXRvcignLScpO1xuICAgICAgICAgICAgaWYgKG9wZXJhdG9yRm91bmQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gJy0nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChvcGVyYXRvckZvdW5kKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpO1xuICAgIH07XG4gICAgX1BhcnNlQVNULnByb3RvdHlwZS5wYXJzZVRlbXBsYXRlQmluZGluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBiaW5kaW5ncyA9IFtdO1xuICAgICAgICB2YXIgcHJlZml4ID0gbnVsbDtcbiAgICAgICAgdmFyIHdhcm5pbmdzID0gW107XG4gICAgICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50b2tlbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIga2V5SXNWYXIgPSB0aGlzLnBlZWtLZXl3b3JkTGV0KCk7XG4gICAgICAgICAgICBpZiAoIWtleUlzVmFyICYmIHRoaXMucGVla0RlcHJlY2F0ZWRLZXl3b3JkVmFyKCkpIHtcbiAgICAgICAgICAgICAgICBrZXlJc1ZhciA9IHRydWU7XG4gICAgICAgICAgICAgICAgd2FybmluZ3MucHVzaChcIlxcXCJ2YXJcXFwiIGluc2lkZSBvZiBleHByZXNzaW9ucyBpcyBkZXByZWNhdGVkLiBVc2UgXFxcImxldFxcXCIgaW5zdGVhZCFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWtleUlzVmFyICYmIHRoaXMucGVla0RlcHJlY2F0ZWRPcGVyYXRvckhhc2goKSkge1xuICAgICAgICAgICAgICAgIGtleUlzVmFyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB3YXJuaW5ncy5wdXNoKFwiXFxcIiNcXFwiIGluc2lkZSBvZiBleHByZXNzaW9ucyBpcyBkZXByZWNhdGVkLiBVc2UgXFxcImxldFxcXCIgaW5zdGVhZCFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2V5SXNWYXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBrZXkgPSB0aGlzLmV4cGVjdFRlbXBsYXRlQmluZGluZ0tleSgpO1xuICAgICAgICAgICAgaWYgKCFrZXlJc1Zhcikge1xuICAgICAgICAgICAgICAgIGlmIChwcmVmaXggPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBwcmVmaXggPSBrZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBrZXkgPSBwcmVmaXggKyBrZXlbMF0udG9VcHBlckNhc2UoKSArIGtleS5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vcHRpb25hbENoYXJhY3RlcihsZXhlcl8xLiRDT0xPTik7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IG51bGw7XG4gICAgICAgICAgICB2YXIgZXhwcmVzc2lvbiA9IG51bGw7XG4gICAgICAgICAgICBpZiAoa2V5SXNWYXIpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25hbE9wZXJhdG9yKFwiPVwiKSkge1xuICAgICAgICAgICAgICAgICAgICBuYW1lID0gdGhpcy5leHBlY3RUZW1wbGF0ZUJpbmRpbmdLZXkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWUgPSAnXFwkaW1wbGljaXQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubmV4dCAhPT0gbGV4ZXJfMS5FT0YgJiYgIXRoaXMucGVla0tleXdvcmRMZXQoKSAmJiAhdGhpcy5wZWVrRGVwcmVjYXRlZEtleXdvcmRWYXIoKSAmJlxuICAgICAgICAgICAgICAgICF0aGlzLnBlZWtEZXByZWNhdGVkT3BlcmF0b3JIYXNoKCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmlucHV0SW5kZXg7XG4gICAgICAgICAgICAgICAgdmFyIGFzdCA9IHRoaXMucGFyc2VQaXBlKCk7XG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuaW5wdXQuc3Vic3RyaW5nKHN0YXJ0LCB0aGlzLmlucHV0SW5kZXgpO1xuICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gPSBuZXcgYXN0XzEuQVNUV2l0aFNvdXJjZShhc3QsIHNvdXJjZSwgdGhpcy5sb2NhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiaW5kaW5ncy5wdXNoKG5ldyBhc3RfMS5UZW1wbGF0ZUJpbmRpbmcoa2V5LCBrZXlJc1ZhciwgbmFtZSwgZXhwcmVzc2lvbikpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbmFsQ2hhcmFjdGVyKGxleGVyXzEuJFNFTUlDT0xPTikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbmFsQ2hhcmFjdGVyKGxleGVyXzEuJENPTU1BKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRlbXBsYXRlQmluZGluZ1BhcnNlUmVzdWx0KGJpbmRpbmdzLCB3YXJuaW5ncyk7XG4gICAgfTtcbiAgICBfUGFyc2VBU1QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gbnVsbDsgfVxuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsoaW5kZXgpKVxuICAgICAgICAgICAgaW5kZXggPSB0aGlzLmluZGV4O1xuICAgICAgICB2YXIgbG9jYXRpb24gPSAoaW5kZXggPCB0aGlzLnRva2Vucy5sZW5ndGgpID8gXCJhdCBjb2x1bW4gXCIgKyAodGhpcy50b2tlbnNbaW5kZXhdLmluZGV4ICsgMSkgKyBcIiBpblwiIDpcbiAgICAgICAgICAgIFwiYXQgdGhlIGVuZCBvZiB0aGUgZXhwcmVzc2lvblwiO1xuICAgICAgICB0aHJvdyBuZXcgUGFyc2VFeGNlcHRpb24obWVzc2FnZSwgdGhpcy5pbnB1dCwgbG9jYXRpb24sIHRoaXMubG9jYXRpb24pO1xuICAgIH07XG4gICAgcmV0dXJuIF9QYXJzZUFTVDtcbn0oKSk7XG5leHBvcnRzLl9QYXJzZUFTVCA9IF9QYXJzZUFTVDtcbnZhciBTaW1wbGVFeHByZXNzaW9uQ2hlY2tlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2ltcGxlRXhwcmVzc2lvbkNoZWNrZXIoKSB7XG4gICAgICAgIHRoaXMuc2ltcGxlID0gdHJ1ZTtcbiAgICB9XG4gICAgU2ltcGxlRXhwcmVzc2lvbkNoZWNrZXIuY2hlY2sgPSBmdW5jdGlvbiAoYXN0KSB7XG4gICAgICAgIHZhciBzID0gbmV3IFNpbXBsZUV4cHJlc3Npb25DaGVja2VyKCk7XG4gICAgICAgIGFzdC52aXNpdChzKTtcbiAgICAgICAgcmV0dXJuIHMuc2ltcGxlO1xuICAgIH07XG4gICAgU2ltcGxlRXhwcmVzc2lvbkNoZWNrZXIucHJvdG90eXBlLnZpc2l0SW1wbGljaXRSZWNlaXZlciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHsgfTtcbiAgICBTaW1wbGVFeHByZXNzaW9uQ2hlY2tlci5wcm90b3R5cGUudmlzaXRJbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkgeyB0aGlzLnNpbXBsZSA9IGZhbHNlOyB9O1xuICAgIFNpbXBsZUV4cHJlc3Npb25DaGVja2VyLnByb3RvdHlwZS52aXNpdExpdGVyYWxQcmltaXRpdmUgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7IH07XG4gICAgU2ltcGxlRXhwcmVzc2lvbkNoZWNrZXIucHJvdG90eXBlLnZpc2l0UHJvcGVydHlSZWFkID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkgeyB9O1xuICAgIFNpbXBsZUV4cHJlc3Npb25DaGVja2VyLnByb3RvdHlwZS52aXNpdFByb3BlcnR5V3JpdGUgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7IHRoaXMuc2ltcGxlID0gZmFsc2U7IH07XG4gICAgU2ltcGxlRXhwcmVzc2lvbkNoZWNrZXIucHJvdG90eXBlLnZpc2l0U2FmZVByb3BlcnR5UmVhZCA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHsgdGhpcy5zaW1wbGUgPSBmYWxzZTsgfTtcbiAgICBTaW1wbGVFeHByZXNzaW9uQ2hlY2tlci5wcm90b3R5cGUudmlzaXRNZXRob2RDYWxsID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkgeyB0aGlzLnNpbXBsZSA9IGZhbHNlOyB9O1xuICAgIFNpbXBsZUV4cHJlc3Npb25DaGVja2VyLnByb3RvdHlwZS52aXNpdFNhZmVNZXRob2RDYWxsID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkgeyB0aGlzLnNpbXBsZSA9IGZhbHNlOyB9O1xuICAgIFNpbXBsZUV4cHJlc3Npb25DaGVja2VyLnByb3RvdHlwZS52aXNpdEZ1bmN0aW9uQ2FsbCA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHsgdGhpcy5zaW1wbGUgPSBmYWxzZTsgfTtcbiAgICBTaW1wbGVFeHByZXNzaW9uQ2hlY2tlci5wcm90b3R5cGUudmlzaXRMaXRlcmFsQXJyYXkgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7IHRoaXMudmlzaXRBbGwoYXN0LmV4cHJlc3Npb25zKTsgfTtcbiAgICBTaW1wbGVFeHByZXNzaW9uQ2hlY2tlci5wcm90b3R5cGUudmlzaXRMaXRlcmFsTWFwID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkgeyB0aGlzLnZpc2l0QWxsKGFzdC52YWx1ZXMpOyB9O1xuICAgIFNpbXBsZUV4cHJlc3Npb25DaGVja2VyLnByb3RvdHlwZS52aXNpdEJpbmFyeSA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHsgdGhpcy5zaW1wbGUgPSBmYWxzZTsgfTtcbiAgICBTaW1wbGVFeHByZXNzaW9uQ2hlY2tlci5wcm90b3R5cGUudmlzaXRQcmVmaXhOb3QgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7IHRoaXMuc2ltcGxlID0gZmFsc2U7IH07XG4gICAgU2ltcGxlRXhwcmVzc2lvbkNoZWNrZXIucHJvdG90eXBlLnZpc2l0Q29uZGl0aW9uYWwgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7IHRoaXMuc2ltcGxlID0gZmFsc2U7IH07XG4gICAgU2ltcGxlRXhwcmVzc2lvbkNoZWNrZXIucHJvdG90eXBlLnZpc2l0UGlwZSA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHsgdGhpcy5zaW1wbGUgPSBmYWxzZTsgfTtcbiAgICBTaW1wbGVFeHByZXNzaW9uQ2hlY2tlci5wcm90b3R5cGUudmlzaXRLZXllZFJlYWQgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7IHRoaXMuc2ltcGxlID0gZmFsc2U7IH07XG4gICAgU2ltcGxlRXhwcmVzc2lvbkNoZWNrZXIucHJvdG90eXBlLnZpc2l0S2V5ZWRXcml0ZSA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHsgdGhpcy5zaW1wbGUgPSBmYWxzZTsgfTtcbiAgICBTaW1wbGVFeHByZXNzaW9uQ2hlY2tlci5wcm90b3R5cGUudmlzaXRBbGwgPSBmdW5jdGlvbiAoYXN0cykge1xuICAgICAgICB2YXIgcmVzID0gY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmNyZWF0ZUZpeGVkU2l6ZShhc3RzLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXN0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgcmVzW2ldID0gYXN0c1tpXS52aXNpdCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgU2ltcGxlRXhwcmVzc2lvbkNoZWNrZXIucHJvdG90eXBlLnZpc2l0Q2hhaW4gPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7IHRoaXMuc2ltcGxlID0gZmFsc2U7IH07XG4gICAgU2ltcGxlRXhwcmVzc2lvbkNoZWNrZXIucHJvdG90eXBlLnZpc2l0UXVvdGUgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7IHRoaXMuc2ltcGxlID0gZmFsc2U7IH07XG4gICAgcmV0dXJuIFNpbXBsZUV4cHJlc3Npb25DaGVja2VyO1xufSgpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4vbGFuZycpO1xudmFyIHByb21pc2VfMSA9IHJlcXVpcmUoJy4vcHJvbWlzZScpO1xuZXhwb3J0cy5Qcm9taXNlV3JhcHBlciA9IHByb21pc2VfMS5Qcm9taXNlV3JhcHBlcjtcbmV4cG9ydHMuUHJvbWlzZUNvbXBsZXRlciA9IHByb21pc2VfMS5Qcm9taXNlQ29tcGxldGVyO1xudmFyIFN1YmplY3RfMSA9IHJlcXVpcmUoJ3J4anMvU3ViamVjdCcpO1xudmFyIFByb21pc2VPYnNlcnZhYmxlXzEgPSByZXF1aXJlKCdyeGpzL29ic2VydmFibGUvUHJvbWlzZU9ic2VydmFibGUnKTtcbnZhciB0b1Byb21pc2VfMSA9IHJlcXVpcmUoJ3J4anMvb3BlcmF0b3IvdG9Qcm9taXNlJyk7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZSgncnhqcy9PYnNlcnZhYmxlJyk7XG5leHBvcnRzLk9ic2VydmFibGUgPSBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZTtcbnZhciBTdWJqZWN0XzIgPSByZXF1aXJlKCdyeGpzL1N1YmplY3QnKTtcbmV4cG9ydHMuU3ViamVjdCA9IFN1YmplY3RfMi5TdWJqZWN0O1xudmFyIFRpbWVyV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGltZXJXcmFwcGVyKCkge1xuICAgIH1cbiAgICBUaW1lcldyYXBwZXIuc2V0VGltZW91dCA9IGZ1bmN0aW9uIChmbiwgbWlsbGlzKSB7XG4gICAgICAgIHJldHVybiBsYW5nXzEuZ2xvYmFsLnNldFRpbWVvdXQoZm4sIG1pbGxpcyk7XG4gICAgfTtcbiAgICBUaW1lcldyYXBwZXIuY2xlYXJUaW1lb3V0ID0gZnVuY3Rpb24gKGlkKSB7IGxhbmdfMS5nbG9iYWwuY2xlYXJUaW1lb3V0KGlkKTsgfTtcbiAgICBUaW1lcldyYXBwZXIuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbiAoZm4sIG1pbGxpcykge1xuICAgICAgICByZXR1cm4gbGFuZ18xLmdsb2JhbC5zZXRJbnRlcnZhbChmbiwgbWlsbGlzKTtcbiAgICB9O1xuICAgIFRpbWVyV3JhcHBlci5jbGVhckludGVydmFsID0gZnVuY3Rpb24gKGlkKSB7IGxhbmdfMS5nbG9iYWwuY2xlYXJJbnRlcnZhbChpZCk7IH07XG4gICAgcmV0dXJuIFRpbWVyV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLlRpbWVyV3JhcHBlciA9IFRpbWVyV3JhcHBlcjtcbnZhciBPYnNlcnZhYmxlV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZVdyYXBwZXIoKSB7XG4gICAgfVxuICAgIC8vIFRPRE8odnNhdmtpbik6IHdoZW4gd2UgdXNlIHJ4bmV4dCwgdHJ5IGluZmVycmluZyB0aGUgZ2VuZXJpYyB0eXBlIGZyb20gdGhlIGZpcnN0IGFyZ1xuICAgIE9ic2VydmFibGVXcmFwcGVyLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChlbWl0dGVyLCBvbk5leHQsIG9uRXJyb3IsIG9uQ29tcGxldGUpIHtcbiAgICAgICAgaWYgKG9uQ29tcGxldGUgPT09IHZvaWQgMCkgeyBvbkNvbXBsZXRlID0gZnVuY3Rpb24gKCkgeyB9OyB9XG4gICAgICAgIG9uRXJyb3IgPSAodHlwZW9mIG9uRXJyb3IgPT09IFwiZnVuY3Rpb25cIikgJiYgb25FcnJvciB8fCBsYW5nXzEubm9vcDtcbiAgICAgICAgb25Db21wbGV0ZSA9ICh0eXBlb2Ygb25Db21wbGV0ZSA9PT0gXCJmdW5jdGlvblwiKSAmJiBvbkNvbXBsZXRlIHx8IGxhbmdfMS5ub29wO1xuICAgICAgICByZXR1cm4gZW1pdHRlci5zdWJzY3JpYmUoeyBuZXh0OiBvbk5leHQsIGVycm9yOiBvbkVycm9yLCBjb21wbGV0ZTogb25Db21wbGV0ZSB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVXcmFwcGVyLmlzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uIChvYnMpIHsgcmV0dXJuICEhb2JzLnN1YnNjcmliZTsgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgYG9ic2AgaGFzIGFueSBzdWJzY3JpYmVycyBsaXN0ZW5pbmcgdG8gZXZlbnRzLlxuICAgICAqL1xuICAgIE9ic2VydmFibGVXcmFwcGVyLmhhc1N1YnNjcmliZXJzID0gZnVuY3Rpb24gKG9icykgeyByZXR1cm4gb2JzLm9ic2VydmVycy5sZW5ndGggPiAwOyB9O1xuICAgIE9ic2VydmFibGVXcmFwcGVyLmRpc3Bvc2UgPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7IHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpOyB9O1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIC0gdXNlIGNhbGxFbWl0KCkgaW5zdGVhZFxuICAgICAqL1xuICAgIE9ic2VydmFibGVXcmFwcGVyLmNhbGxOZXh0ID0gZnVuY3Rpb24gKGVtaXR0ZXIsIHZhbHVlKSB7IGVtaXR0ZXIubmV4dCh2YWx1ZSk7IH07XG4gICAgT2JzZXJ2YWJsZVdyYXBwZXIuY2FsbEVtaXQgPSBmdW5jdGlvbiAoZW1pdHRlciwgdmFsdWUpIHsgZW1pdHRlci5lbWl0KHZhbHVlKTsgfTtcbiAgICBPYnNlcnZhYmxlV3JhcHBlci5jYWxsRXJyb3IgPSBmdW5jdGlvbiAoZW1pdHRlciwgZXJyb3IpIHsgZW1pdHRlci5lcnJvcihlcnJvcik7IH07XG4gICAgT2JzZXJ2YWJsZVdyYXBwZXIuY2FsbENvbXBsZXRlID0gZnVuY3Rpb24gKGVtaXR0ZXIpIHsgZW1pdHRlci5jb21wbGV0ZSgpOyB9O1xuICAgIE9ic2VydmFibGVXcmFwcGVyLmZyb21Qcm9taXNlID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2VPYnNlcnZhYmxlXzEuUHJvbWlzZU9ic2VydmFibGUuY3JlYXRlKHByb21pc2UpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZVdyYXBwZXIudG9Qcm9taXNlID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdG9Qcm9taXNlXzEudG9Qcm9taXNlLmNhbGwob2JqKTsgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZVdyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5PYnNlcnZhYmxlV3JhcHBlciA9IE9ic2VydmFibGVXcmFwcGVyO1xuLyoqXG4gKiBVc2UgYnkgZGlyZWN0aXZlcyBhbmQgY29tcG9uZW50cyB0byBlbWl0IGN1c3RvbSBFdmVudHMuXG4gKlxuICogIyMjIEV4YW1wbGVzXG4gKlxuICogSW4gdGhlIGZvbGxvd2luZyBleGFtcGxlLCBgWmlwcHlgIGFsdGVybmF0aXZlbHkgZW1pdHMgYG9wZW5gIGFuZCBgY2xvc2VgIGV2ZW50cyB3aGVuIGl0c1xuICogdGl0bGUgZ2V0cyBjbGlja2VkOlxuICpcbiAqIGBgYFxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnemlwcHknLFxuICogICB0ZW1wbGF0ZTogYFxuICogICA8ZGl2IGNsYXNzPVwiemlwcHlcIj5cbiAqICAgICA8ZGl2IChjbGljayk9XCJ0b2dnbGUoKVwiPlRvZ2dsZTwvZGl2PlxuICogICAgIDxkaXYgW2hpZGRlbl09XCIhdmlzaWJsZVwiPlxuICogICAgICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxuICogICAgIDwvZGl2PlxuICogIDwvZGl2PmB9KVxuICogZXhwb3J0IGNsYXNzIFppcHB5IHtcbiAqICAgdmlzaWJsZTogYm9vbGVhbiA9IHRydWU7XG4gKiAgIEBPdXRwdXQoKSBvcGVuOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAqICAgQE91dHB1dCgpIGNsb3NlOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAqXG4gKiAgIHRvZ2dsZSgpIHtcbiAqICAgICB0aGlzLnZpc2libGUgPSAhdGhpcy52aXNpYmxlO1xuICogICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAqICAgICAgIHRoaXMub3Blbi5lbWl0KG51bGwpO1xuICogICAgIH0gZWxzZSB7XG4gKiAgICAgICB0aGlzLmNsb3NlLmVtaXQobnVsbCk7XG4gKiAgICAgfVxuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBVc2UgUnguT2JzZXJ2YWJsZSBidXQgcHJvdmlkZXMgYW4gYWRhcHRlciB0byBtYWtlIGl0IHdvcmsgYXMgc3BlY2lmaWVkIGhlcmU6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vamh1c2Fpbi9vYnNlcnZhYmxlLXNwZWNcbiAqXG4gKiBPbmNlIGEgcmVmZXJlbmNlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBzcGVjIGlzIGF2YWlsYWJsZSwgc3dpdGNoIHRvIGl0LlxuICovXG52YXIgRXZlbnRFbWl0dGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRXZlbnRFbWl0dGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgW0V2ZW50RW1pdHRlcl0sIHdoaWNoIGRlcGVuZGluZyBvbiBbaXNBc3luY10sXG4gICAgICogZGVsaXZlcnMgZXZlbnRzIHN5bmNocm9ub3VzbHkgb3IgYXN5bmNocm9ub3VzbHkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKGlzQXN5bmMpIHtcbiAgICAgICAgaWYgKGlzQXN5bmMgPT09IHZvaWQgMCkgeyBpc0FzeW5jID0gdHJ1ZTsgfVxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5faXNBc3luYyA9IGlzQXN5bmM7XG4gICAgfVxuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyBfc3VwZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLCB2YWx1ZSk7IH07XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgLSB1c2UgLmVtaXQodmFsdWUpIGluc3RlYWRcbiAgICAgKi9cbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHsgX3N1cGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcywgdmFsdWUpOyB9O1xuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGdlbmVyYXRvck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBzY2hlZHVsZXJGbjtcbiAgICAgICAgdmFyIGVycm9yRm4gPSBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBudWxsOyB9O1xuICAgICAgICB2YXIgY29tcGxldGVGbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH07XG4gICAgICAgIGlmIChnZW5lcmF0b3JPck5leHQgJiYgdHlwZW9mIGdlbmVyYXRvck9yTmV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHNjaGVkdWxlckZuID0gdGhpcy5faXNBc3luYyA/IGZ1bmN0aW9uICh2YWx1ZSkgeyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdlbmVyYXRvck9yTmV4dC5uZXh0KHZhbHVlKTsgfSk7IH0gOlxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkgeyBnZW5lcmF0b3JPck5leHQubmV4dCh2YWx1ZSk7IH07XG4gICAgICAgICAgICBpZiAoZ2VuZXJhdG9yT3JOZXh0LmVycm9yKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JGbiA9IHRoaXMuX2lzQXN5bmMgPyBmdW5jdGlvbiAoZXJyKSB7IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2VuZXJhdG9yT3JOZXh0LmVycm9yKGVycik7IH0pOyB9IDpcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycikgeyBnZW5lcmF0b3JPck5leHQuZXJyb3IoZXJyKTsgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnZW5lcmF0b3JPck5leHQuY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZUZuID0gdGhpcy5faXNBc3luYyA/IGZ1bmN0aW9uICgpIHsgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBnZW5lcmF0b3JPck5leHQuY29tcGxldGUoKTsgfSk7IH0gOlxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7IGdlbmVyYXRvck9yTmV4dC5jb21wbGV0ZSgpOyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2NoZWR1bGVyRm4gPSB0aGlzLl9pc0FzeW5jID8gZnVuY3Rpb24gKHZhbHVlKSB7IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2VuZXJhdG9yT3JOZXh0KHZhbHVlKTsgfSk7IH0gOlxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkgeyBnZW5lcmF0b3JPck5leHQodmFsdWUpOyB9O1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JGbiA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQXN5bmMgPyBmdW5jdGlvbiAoZXJyKSB7IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gZXJyb3IoZXJyKTsgfSk7IH0gOiBmdW5jdGlvbiAoZXJyKSB7IGVycm9yKGVycik7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZUZuID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNBc3luYyA/IGZ1bmN0aW9uICgpIHsgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBjb21wbGV0ZSgpOyB9KTsgfSA6IGZ1bmN0aW9uICgpIHsgY29tcGxldGUoKTsgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5zdWJzY3JpYmUuY2FsbCh0aGlzLCBzY2hlZHVsZXJGbiwgZXJyb3JGbiwgY29tcGxldGVGbik7XG4gICAgfTtcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyO1xufShTdWJqZWN0XzEuU3ViamVjdCkpO1xuZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3luYy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xuLyoqXG4qIEEgYmFzZSBjbGFzcyBmb3IgdGhlIFdyYXBwZWRFeGNlcHRpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBpZGVudGlmeVxuKiBhIFdyYXBwZWRFeGNlcHRpb24gZnJvbSBFeGNlcHRpb25IYW5kbGVyIHdpdGhvdXQgYWRkaW5nIGNpcmN1bGFyXG4qIGRlcGVuZGVuY3kuXG4qL1xudmFyIEJhc2VXcmFwcGVkRXhjZXB0aW9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFzZVdyYXBwZWRFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmFzZVdyYXBwZWRFeGNlcHRpb24obWVzc2FnZSkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJ3cmFwcGVyTWVzc2FnZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gJyc7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwid3JhcHBlclN0YWNrXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZVdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcIm9yaWdpbmFsRXhjZXB0aW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZVdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcIm9yaWdpbmFsU3RhY2tcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwiY29udGV4dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJtZXNzYWdlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiAnJzsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEJhc2VXcmFwcGVkRXhjZXB0aW9uO1xufShFcnJvcikpO1xuZXhwb3J0cy5CYXNlV3JhcHBlZEV4Y2VwdGlvbiA9IEJhc2VXcmFwcGVkRXhjZXB0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZV93cmFwcGVkX2V4Y2VwdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuL2xhbmcnKTtcbmV4cG9ydHMuTWFwID0gbGFuZ18xLmdsb2JhbC5NYXA7XG5leHBvcnRzLlNldCA9IGxhbmdfMS5nbG9iYWwuU2V0O1xuLy8gU2FmYXJpIGFuZCBJbnRlcm5ldCBFeHBsb3JlciBkbyBub3Qgc3VwcG9ydCB0aGUgaXRlcmFibGUgcGFyYW1ldGVyIHRvIHRoZVxuLy8gTWFwIGNvbnN0cnVjdG9yLiAgV2Ugd29yayBhcm91bmQgdGhhdCBieSBtYW51YWxseSBhZGRpbmcgdGhlIGl0ZW1zLlxudmFyIGNyZWF0ZU1hcEZyb21QYWlycyA9IChmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKG5ldyBleHBvcnRzLk1hcChbWzEsIDJdXSkuc2l6ZSA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZU1hcEZyb21QYWlycyhwYWlycykgeyByZXR1cm4gbmV3IGV4cG9ydHMuTWFwKHBhaXJzKTsgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlTWFwQW5kUG9wdWxhdGVGcm9tUGFpcnMocGFpcnMpIHtcbiAgICAgICAgdmFyIG1hcCA9IG5ldyBleHBvcnRzLk1hcCgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2ldO1xuICAgICAgICAgICAgbWFwLnNldChwYWlyWzBdLCBwYWlyWzFdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwO1xuICAgIH07XG59KSgpO1xudmFyIGNyZWF0ZU1hcEZyb21NYXAgPSAoZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChuZXcgZXhwb3J0cy5NYXAobmV3IGV4cG9ydHMuTWFwKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlTWFwRnJvbU1hcChtKSB7IHJldHVybiBuZXcgZXhwb3J0cy5NYXAobSk7IH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZU1hcEFuZFBvcHVsYXRlRnJvbU1hcChtKSB7XG4gICAgICAgIHZhciBtYXAgPSBuZXcgZXhwb3J0cy5NYXAoKTtcbiAgICAgICAgbS5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrKSB7IG1hcC5zZXQoaywgdik7IH0pO1xuICAgICAgICByZXR1cm4gbWFwO1xuICAgIH07XG59KSgpO1xudmFyIF9jbGVhclZhbHVlcyA9IChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKChuZXcgZXhwb3J0cy5NYXAoKSkua2V5cygpLm5leHQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9jbGVhclZhbHVlcyhtKSB7XG4gICAgICAgICAgICB2YXIga2V5SXRlcmF0b3IgPSBtLmtleXMoKTtcbiAgICAgICAgICAgIHZhciBrO1xuICAgICAgICAgICAgd2hpbGUgKCEoKGsgPSBrZXlJdGVyYXRvci5uZXh0KCkpLmRvbmUpKSB7XG4gICAgICAgICAgICAgICAgbS5zZXQoay52YWx1ZSwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX2NsZWFyVmFsdWVzV2l0aEZvcmVFYWNoKG0pIHtcbiAgICAgICAgICAgIG0uZm9yRWFjaChmdW5jdGlvbiAodiwgaykgeyBtLnNldChrLCBudWxsKTsgfSk7XG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcbi8vIFNhZmFyaSBkb2Vzbid0IGltcGxlbWVudCBNYXBJdGVyYXRvci5uZXh0KCksIHdoaWNoIGlzIHVzZWQgaXMgVHJhY2V1cidzIHBvbHlmaWxsIG9mIEFycmF5LmZyb21cbi8vIFRPRE8obWxhdmFsKTogcmVtb3ZlIHRoZSB3b3JrIGFyb3VuZCBvbmNlIHdlIGhhdmUgYSB3b3JraW5nIHBvbHlmaWxsIG9mIEFycmF5LmZyb21cbnZhciBfYXJyYXlGcm9tTWFwID0gKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAoKG5ldyBleHBvcnRzLk1hcCgpKS52YWx1ZXMoKS5uZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlQXJyYXlGcm9tTWFwKG0sIGdldFZhbHVlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRWYWx1ZXMgPyBBcnJheS5mcm9tKG0udmFsdWVzKCkpIDogQXJyYXkuZnJvbShtLmtleXMoKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVBcnJheUZyb21NYXBXaXRoRm9yZWFjaChtLCBnZXRWYWx1ZXMpIHtcbiAgICAgICAgdmFyIHJlcyA9IExpc3RXcmFwcGVyLmNyZWF0ZUZpeGVkU2l6ZShtLnNpemUpLCBpID0gMDtcbiAgICAgICAgbS5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgICAgICAgICByZXNbaV0gPSBnZXRWYWx1ZXMgPyB2IDogaztcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbn0pKCk7XG52YXIgTWFwV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWFwV3JhcHBlcigpIHtcbiAgICB9XG4gICAgTWFwV3JhcHBlci5jbG9uZSA9IGZ1bmN0aW9uIChtKSB7IHJldHVybiBjcmVhdGVNYXBGcm9tTWFwKG0pOyB9O1xuICAgIE1hcFdyYXBwZXIuY3JlYXRlRnJvbVN0cmluZ01hcCA9IGZ1bmN0aW9uIChzdHJpbmdNYXApIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBleHBvcnRzLk1hcCgpO1xuICAgICAgICBmb3IgKHZhciBwcm9wIGluIHN0cmluZ01hcCkge1xuICAgICAgICAgICAgcmVzdWx0LnNldChwcm9wLCBzdHJpbmdNYXBbcHJvcF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBNYXBXcmFwcGVyLnRvU3RyaW5nTWFwID0gZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgdmFyIHIgPSB7fTtcbiAgICAgICAgbS5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiByW2tdID0gdjsgfSk7XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgTWFwV3JhcHBlci5jcmVhdGVGcm9tUGFpcnMgPSBmdW5jdGlvbiAocGFpcnMpIHsgcmV0dXJuIGNyZWF0ZU1hcEZyb21QYWlycyhwYWlycyk7IH07XG4gICAgTWFwV3JhcHBlci5jbGVhclZhbHVlcyA9IGZ1bmN0aW9uIChtKSB7IF9jbGVhclZhbHVlcyhtKTsgfTtcbiAgICBNYXBXcmFwcGVyLml0ZXJhYmxlID0gZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG07IH07XG4gICAgTWFwV3JhcHBlci5rZXlzID0gZnVuY3Rpb24gKG0pIHsgcmV0dXJuIF9hcnJheUZyb21NYXAobSwgZmFsc2UpOyB9O1xuICAgIE1hcFdyYXBwZXIudmFsdWVzID0gZnVuY3Rpb24gKG0pIHsgcmV0dXJuIF9hcnJheUZyb21NYXAobSwgdHJ1ZSk7IH07XG4gICAgcmV0dXJuIE1hcFdyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5NYXBXcmFwcGVyID0gTWFwV3JhcHBlcjtcbi8qKlxuICogV3JhcHMgSmF2YXNjcmlwdCBPYmplY3RzXG4gKi9cbnZhciBTdHJpbmdNYXBXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdHJpbmdNYXBXcmFwcGVyKCkge1xuICAgIH1cbiAgICBTdHJpbmdNYXBXcmFwcGVyLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gTm90ZTogV2UgYXJlIG5vdCB1c2luZyBPYmplY3QuY3JlYXRlKG51bGwpIGhlcmUgZHVlIHRvXG4gICAgICAgIC8vIHBlcmZvcm1hbmNlIVxuICAgICAgICAvLyBodHRwOi8vanNwZXJmLmNvbS9uZzItb2JqZWN0LWNyZWF0ZS1udWxsXG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9O1xuICAgIFN0cmluZ01hcFdyYXBwZXIuY29udGFpbnMgPSBmdW5jdGlvbiAobWFwLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIG1hcC5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgIH07XG4gICAgU3RyaW5nTWFwV3JhcHBlci5nZXQgPSBmdW5jdGlvbiAobWFwLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIG1hcC5oYXNPd25Qcm9wZXJ0eShrZXkpID8gbWFwW2tleV0gOiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLnNldCA9IGZ1bmN0aW9uIChtYXAsIGtleSwgdmFsdWUpIHsgbWFwW2tleV0gPSB2YWx1ZTsgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLmtleXMgPSBmdW5jdGlvbiAobWFwKSB7IHJldHVybiBPYmplY3Qua2V5cyhtYXApOyB9O1xuICAgIFN0cmluZ01hcFdyYXBwZXIudmFsdWVzID0gZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMobWFwKS5yZWR1Y2UoZnVuY3Rpb24gKHIsIGEpIHtcbiAgICAgICAgICAgIHIucHVzaChtYXBbYV0pO1xuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgIH0sIFtdKTtcbiAgICB9O1xuICAgIFN0cmluZ01hcFdyYXBwZXIuaXNFbXB0eSA9IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBtYXApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFN0cmluZ01hcFdyYXBwZXIuZGVsZXRlID0gZnVuY3Rpb24gKG1hcCwga2V5KSB7IGRlbGV0ZSBtYXBba2V5XTsgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLmZvckVhY2ggPSBmdW5jdGlvbiAobWFwLCBjYWxsYmFjaykge1xuICAgICAgICBmb3IgKHZhciBwcm9wIGluIG1hcCkge1xuICAgICAgICAgICAgaWYgKG1hcC5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG1hcFtwcm9wXSwgcHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0cmluZ01hcFdyYXBwZXIubWVyZ2UgPSBmdW5jdGlvbiAobTEsIG0yKSB7XG4gICAgICAgIHZhciBtID0ge307XG4gICAgICAgIGZvciAodmFyIGF0dHIgaW4gbTEpIHtcbiAgICAgICAgICAgIGlmIChtMS5oYXNPd25Qcm9wZXJ0eShhdHRyKSkge1xuICAgICAgICAgICAgICAgIG1bYXR0cl0gPSBtMVthdHRyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBhdHRyIGluIG0yKSB7XG4gICAgICAgICAgICBpZiAobTIuaGFzT3duUHJvcGVydHkoYXR0cikpIHtcbiAgICAgICAgICAgICAgICBtW2F0dHJdID0gbTJbYXR0cl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG07XG4gICAgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLmVxdWFscyA9IGZ1bmN0aW9uIChtMSwgbTIpIHtcbiAgICAgICAgdmFyIGsxID0gT2JqZWN0LmtleXMobTEpO1xuICAgICAgICB2YXIgazIgPSBPYmplY3Qua2V5cyhtMik7XG4gICAgICAgIGlmIChrMS5sZW5ndGggIT0gazIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrMS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAga2V5ID0gazFbaV07XG4gICAgICAgICAgICBpZiAobTFba2V5XSAhPT0gbTJba2V5XSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBTdHJpbmdNYXBXcmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuU3RyaW5nTWFwV3JhcHBlciA9IFN0cmluZ01hcFdyYXBwZXI7XG52YXIgTGlzdFdyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExpc3RXcmFwcGVyKCkge1xuICAgIH1cbiAgICAvLyBKUyBoYXMgbm8gd2F5IHRvIGV4cHJlc3MgYSBzdGF0aWNhbGx5IGZpeGVkIHNpemUgbGlzdCwgYnV0IGRhcnQgZG9lcyBzbyB3ZVxuICAgIC8vIGtlZXAgYm90aCBtZXRob2RzLlxuICAgIExpc3RXcmFwcGVyLmNyZWF0ZUZpeGVkU2l6ZSA9IGZ1bmN0aW9uIChzaXplKSB7IHJldHVybiBuZXcgQXJyYXkoc2l6ZSk7IH07XG4gICAgTGlzdFdyYXBwZXIuY3JlYXRlR3Jvd2FibGVTaXplID0gZnVuY3Rpb24gKHNpemUpIHsgcmV0dXJuIG5ldyBBcnJheShzaXplKTsgfTtcbiAgICBMaXN0V3JhcHBlci5jbG9uZSA9IGZ1bmN0aW9uIChhcnJheSkgeyByZXR1cm4gYXJyYXkuc2xpY2UoMCk7IH07XG4gICAgTGlzdFdyYXBwZXIuZm9yRWFjaFdpdGhJbmRleCA9IGZ1bmN0aW9uIChhcnJheSwgZm4pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm4oYXJyYXlbaV0sIGkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5maXJzdCA9IGZ1bmN0aW9uIChhcnJheSkge1xuICAgICAgICBpZiAoIWFycmF5KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBhcnJheVswXTtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLmxhc3QgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgaWYgKCFhcnJheSB8fCBhcnJheS5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV07XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5pbmRleE9mID0gZnVuY3Rpb24gKGFycmF5LCB2YWx1ZSwgc3RhcnRJbmRleCkge1xuICAgICAgICBpZiAoc3RhcnRJbmRleCA9PT0gdm9pZCAwKSB7IHN0YXJ0SW5kZXggPSAwOyB9XG4gICAgICAgIHJldHVybiBhcnJheS5pbmRleE9mKHZhbHVlLCBzdGFydEluZGV4KTtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLmNvbnRhaW5zID0gZnVuY3Rpb24gKGxpc3QsIGVsKSB7IHJldHVybiBsaXN0LmluZGV4T2YoZWwpICE9PSAtMTsgfTtcbiAgICBMaXN0V3JhcHBlci5yZXZlcnNlZCA9IGZ1bmN0aW9uIChhcnJheSkge1xuICAgICAgICB2YXIgYSA9IExpc3RXcmFwcGVyLmNsb25lKGFycmF5KTtcbiAgICAgICAgcmV0dXJuIGEucmV2ZXJzZSgpO1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuY29uY2F0ID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuY29uY2F0KGIpOyB9O1xuICAgIExpc3RXcmFwcGVyLmluc2VydCA9IGZ1bmN0aW9uIChsaXN0LCBpbmRleCwgdmFsdWUpIHsgbGlzdC5zcGxpY2UoaW5kZXgsIDAsIHZhbHVlKTsgfTtcbiAgICBMaXN0V3JhcHBlci5yZW1vdmVBdCA9IGZ1bmN0aW9uIChsaXN0LCBpbmRleCkge1xuICAgICAgICB2YXIgcmVzID0gbGlzdFtpbmRleF07XG4gICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLnJlbW92ZUFsbCA9IGZ1bmN0aW9uIChsaXN0LCBpdGVtcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBsaXN0LmluZGV4T2YoaXRlbXNbaV0pO1xuICAgICAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5yZW1vdmUgPSBmdW5jdGlvbiAobGlzdCwgZWwpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gbGlzdC5pbmRleE9mKGVsKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLmNsZWFyID0gZnVuY3Rpb24gKGxpc3QpIHsgbGlzdC5sZW5ndGggPSAwOyB9O1xuICAgIExpc3RXcmFwcGVyLmlzRW1wdHkgPSBmdW5jdGlvbiAobGlzdCkgeyByZXR1cm4gbGlzdC5sZW5ndGggPT0gMDsgfTtcbiAgICBMaXN0V3JhcHBlci5maWxsID0gZnVuY3Rpb24gKGxpc3QsIHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgICAgIGlmIChzdGFydCA9PT0gdm9pZCAwKSB7IHN0YXJ0ID0gMDsgfVxuICAgICAgICBpZiAoZW5kID09PSB2b2lkIDApIHsgZW5kID0gbnVsbDsgfVxuICAgICAgICBsaXN0LmZpbGwodmFsdWUsIHN0YXJ0LCBlbmQgPT09IG51bGwgPyBsaXN0Lmxlbmd0aCA6IGVuZCk7XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5lcXVhbHMgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKGFbaV0gIT09IGJbaV0pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuc2xpY2UgPSBmdW5jdGlvbiAobCwgZnJvbSwgdG8pIHtcbiAgICAgICAgaWYgKGZyb20gPT09IHZvaWQgMCkgeyBmcm9tID0gMDsgfVxuICAgICAgICBpZiAodG8gPT09IHZvaWQgMCkgeyB0byA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIGwuc2xpY2UoZnJvbSwgdG8gPT09IG51bGwgPyB1bmRlZmluZWQgOiB0byk7XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5zcGxpY2UgPSBmdW5jdGlvbiAobCwgZnJvbSwgbGVuZ3RoKSB7IHJldHVybiBsLnNwbGljZShmcm9tLCBsZW5ndGgpOyB9O1xuICAgIExpc3RXcmFwcGVyLnNvcnQgPSBmdW5jdGlvbiAobCwgY29tcGFyZUZuKSB7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGNvbXBhcmVGbikpIHtcbiAgICAgICAgICAgIGwuc29ydChjb21wYXJlRm4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbC5zb3J0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLnRvU3RyaW5nID0gZnVuY3Rpb24gKGwpIHsgcmV0dXJuIGwudG9TdHJpbmcoKTsgfTtcbiAgICBMaXN0V3JhcHBlci50b0pTT04gPSBmdW5jdGlvbiAobCkgeyByZXR1cm4gSlNPTi5zdHJpbmdpZnkobCk7IH07XG4gICAgTGlzdFdyYXBwZXIubWF4aW11bSA9IGZ1bmN0aW9uIChsaXN0LCBwcmVkaWNhdGUpIHtcbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzb2x1dGlvbiA9IG51bGw7XG4gICAgICAgIHZhciBtYXhWYWx1ZSA9IC1JbmZpbml0eTtcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICB2YXIgY2FuZGlkYXRlID0gbGlzdFtpbmRleF07XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsoY2FuZGlkYXRlKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZVZhbHVlID0gcHJlZGljYXRlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICBpZiAoY2FuZGlkYXRlVmFsdWUgPiBtYXhWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHNvbHV0aW9uID0gY2FuZGlkYXRlO1xuICAgICAgICAgICAgICAgIG1heFZhbHVlID0gY2FuZGlkYXRlVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvbHV0aW9uO1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuZmxhdHRlbiA9IGZ1bmN0aW9uIChsaXN0KSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSBbXTtcbiAgICAgICAgX2ZsYXR0ZW5BcnJheShsaXN0LCB0YXJnZXQpO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuYWRkQWxsID0gZnVuY3Rpb24gKGxpc3QsIHNvdXJjZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGlzdC5wdXNoKHNvdXJjZVtpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBMaXN0V3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLkxpc3RXcmFwcGVyID0gTGlzdFdyYXBwZXI7XG5mdW5jdGlvbiBfZmxhdHRlbkFycmF5KHNvdXJjZSwgdGFyZ2V0KSB7XG4gICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoc291cmNlKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBzb3VyY2VbaV07XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzQXJyYXkoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICBfZmxhdHRlbkFycmF5KGl0ZW0sIHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gaXNMaXN0TGlrZUl0ZXJhYmxlKG9iaikge1xuICAgIGlmICghbGFuZ18xLmlzSnNPYmplY3Qob2JqKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBsYW5nXzEuaXNBcnJheShvYmopIHx8XG4gICAgICAgICghKG9iaiBpbnN0YW5jZW9mIGV4cG9ydHMuTWFwKSAmJlxuICAgICAgICAgICAgbGFuZ18xLmdldFN5bWJvbEl0ZXJhdG9yKCkgaW4gb2JqKTsgLy8gSlMgSXRlcmFibGUgaGF2ZSBhIFN5bWJvbC5pdGVyYXRvciBwcm9wXG59XG5leHBvcnRzLmlzTGlzdExpa2VJdGVyYWJsZSA9IGlzTGlzdExpa2VJdGVyYWJsZTtcbmZ1bmN0aW9uIGFyZUl0ZXJhYmxlc0VxdWFsKGEsIGIsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaXRlcmF0b3IxID0gYVtsYW5nXzEuZ2V0U3ltYm9sSXRlcmF0b3IoKV0oKTtcbiAgICB2YXIgaXRlcmF0b3IyID0gYltsYW5nXzEuZ2V0U3ltYm9sSXRlcmF0b3IoKV0oKTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgaXRlbTEgPSBpdGVyYXRvcjEubmV4dCgpO1xuICAgICAgICB2YXIgaXRlbTIgPSBpdGVyYXRvcjIubmV4dCgpO1xuICAgICAgICBpZiAoaXRlbTEuZG9uZSAmJiBpdGVtMi5kb25lKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChpdGVtMS5kb25lIHx8IGl0ZW0yLmRvbmUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghY29tcGFyYXRvcihpdGVtMS52YWx1ZSwgaXRlbTIudmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydHMuYXJlSXRlcmFibGVzRXF1YWwgPSBhcmVJdGVyYWJsZXNFcXVhbDtcbmZ1bmN0aW9uIGl0ZXJhdGVMaXN0TGlrZShvYmosIGZuKSB7XG4gICAgaWYgKGxhbmdfMS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZuKG9ialtpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBpdGVyYXRvciA9IG9ialtsYW5nXzEuZ2V0U3ltYm9sSXRlcmF0b3IoKV0oKTtcbiAgICAgICAgdmFyIGl0ZW07XG4gICAgICAgIHdoaWxlICghKChpdGVtID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSkge1xuICAgICAgICAgICAgZm4oaXRlbS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLml0ZXJhdGVMaXN0TGlrZSA9IGl0ZXJhdGVMaXN0TGlrZTtcbi8vIFNhZmFyaSBhbmQgSW50ZXJuZXQgRXhwbG9yZXIgZG8gbm90IHN1cHBvcnQgdGhlIGl0ZXJhYmxlIHBhcmFtZXRlciB0byB0aGVcbi8vIFNldCBjb25zdHJ1Y3Rvci4gIFdlIHdvcmsgYXJvdW5kIHRoYXQgYnkgbWFudWFsbHkgYWRkaW5nIHRoZSBpdGVtcy5cbnZhciBjcmVhdGVTZXRGcm9tTGlzdCA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRlc3QgPSBuZXcgZXhwb3J0cy5TZXQoWzEsIDIsIDNdKTtcbiAgICBpZiAodGVzdC5zaXplID09PSAzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVTZXRGcm9tTGlzdChsc3QpIHsgcmV0dXJuIG5ldyBleHBvcnRzLlNldChsc3QpOyB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZVNldEFuZFBvcHVsYXRlRnJvbUxpc3QobHN0KSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gbmV3IGV4cG9ydHMuU2V0KGxzdCk7XG4gICAgICAgICAgICBpZiAocmVzLnNpemUgIT09IGxzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICByZXMuYWRkKGxzdFtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfTtcbiAgICB9XG59KSgpO1xudmFyIFNldFdyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNldFdyYXBwZXIoKSB7XG4gICAgfVxuICAgIFNldFdyYXBwZXIuY3JlYXRlRnJvbUxpc3QgPSBmdW5jdGlvbiAobHN0KSB7IHJldHVybiBjcmVhdGVTZXRGcm9tTGlzdChsc3QpOyB9O1xuICAgIFNldFdyYXBwZXIuaGFzID0gZnVuY3Rpb24gKHMsIGtleSkgeyByZXR1cm4gcy5oYXMoa2V5KTsgfTtcbiAgICBTZXRXcmFwcGVyLmRlbGV0ZSA9IGZ1bmN0aW9uIChtLCBrKSB7IG0uZGVsZXRlKGspOyB9O1xuICAgIHJldHVybiBTZXRXcmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuU2V0V3JhcHBlciA9IFNldFdyYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xsZWN0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4vbGFuZycpO1xudmFyIGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMSA9IHJlcXVpcmUoJy4vYmFzZV93cmFwcGVkX2V4Y2VwdGlvbicpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4vY29sbGVjdGlvbicpO1xudmFyIF9BcnJheUxvZ2dlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gX0FycmF5TG9nZ2VyKCkge1xuICAgICAgICB0aGlzLnJlcyA9IFtdO1xuICAgIH1cbiAgICBfQXJyYXlMb2dnZXIucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uIChzKSB7IHRoaXMucmVzLnB1c2gocyk7IH07XG4gICAgX0FycmF5TG9nZ2VyLnByb3RvdHlwZS5sb2dFcnJvciA9IGZ1bmN0aW9uIChzKSB7IHRoaXMucmVzLnB1c2gocyk7IH07XG4gICAgX0FycmF5TG9nZ2VyLnByb3RvdHlwZS5sb2dHcm91cCA9IGZ1bmN0aW9uIChzKSB7IHRoaXMucmVzLnB1c2gocyk7IH07XG4gICAgX0FycmF5TG9nZ2VyLnByb3RvdHlwZS5sb2dHcm91cEVuZCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICA7XG4gICAgcmV0dXJuIF9BcnJheUxvZ2dlcjtcbn0oKSk7XG4vKipcbiAqIFByb3ZpZGVzIGEgaG9vayBmb3IgY2VudHJhbGl6ZWQgZXhjZXB0aW9uIGhhbmRsaW5nLlxuICpcbiAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIGBFeGNlcHRpb25IYW5kbGVyYCBwcmludHMgZXJyb3IgbWVzc2FnZXMgdG8gdGhlIGBDb25zb2xlYC4gVG9cbiAqIGludGVyY2VwdCBlcnJvciBoYW5kbGluZyxcbiAqIHdyaXRlIGEgY3VzdG9tIGV4Y2VwdGlvbiBoYW5kbGVyIHRoYXQgcmVwbGFjZXMgdGhpcyBkZWZhdWx0IGFzIGFwcHJvcHJpYXRlIGZvciB5b3VyIGFwcC5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqXG4gKiBjbGFzcyBNeUV4Y2VwdGlvbkhhbmRsZXIgaW1wbGVtZW50cyBFeGNlcHRpb25IYW5kbGVyIHtcbiAqICAgY2FsbChlcnJvciwgc3RhY2tUcmFjZSA9IG51bGwsIHJlYXNvbiA9IG51bGwpIHtcbiAqICAgICAvLyBkbyBzb21ldGhpbmcgd2l0aCB0aGUgZXhjZXB0aW9uXG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBib290c3RyYXAoTXlBcHAsIFtwcm92aWRlKEV4Y2VwdGlvbkhhbmRsZXIsIHt1c2VDbGFzczogTXlFeGNlcHRpb25IYW5kbGVyfSldKVxuICpcbiAqIGBgYFxuICovXG52YXIgRXhjZXB0aW9uSGFuZGxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXhjZXB0aW9uSGFuZGxlcihfbG9nZ2VyLCBfcmV0aHJvd0V4Y2VwdGlvbikge1xuICAgICAgICBpZiAoX3JldGhyb3dFeGNlcHRpb24gPT09IHZvaWQgMCkgeyBfcmV0aHJvd0V4Y2VwdGlvbiA9IHRydWU7IH1cbiAgICAgICAgdGhpcy5fbG9nZ2VyID0gX2xvZ2dlcjtcbiAgICAgICAgdGhpcy5fcmV0aHJvd0V4Y2VwdGlvbiA9IF9yZXRocm93RXhjZXB0aW9uO1xuICAgIH1cbiAgICBFeGNlcHRpb25IYW5kbGVyLmV4Y2VwdGlvblRvU3RyaW5nID0gZnVuY3Rpb24gKGV4Y2VwdGlvbiwgc3RhY2tUcmFjZSwgcmVhc29uKSB7XG4gICAgICAgIGlmIChzdGFja1RyYWNlID09PSB2b2lkIDApIHsgc3RhY2tUcmFjZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKHJlYXNvbiA9PT0gdm9pZCAwKSB7IHJlYXNvbiA9IG51bGw7IH1cbiAgICAgICAgdmFyIGwgPSBuZXcgX0FycmF5TG9nZ2VyKCk7XG4gICAgICAgIHZhciBlID0gbmV3IEV4Y2VwdGlvbkhhbmRsZXIobCwgZmFsc2UpO1xuICAgICAgICBlLmNhbGwoZXhjZXB0aW9uLCBzdGFja1RyYWNlLCByZWFzb24pO1xuICAgICAgICByZXR1cm4gbC5yZXMuam9pbihcIlxcblwiKTtcbiAgICB9O1xuICAgIEV4Y2VwdGlvbkhhbmRsZXIucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoZXhjZXB0aW9uLCBzdGFja1RyYWNlLCByZWFzb24pIHtcbiAgICAgICAgaWYgKHN0YWNrVHJhY2UgPT09IHZvaWQgMCkgeyBzdGFja1RyYWNlID0gbnVsbDsgfVxuICAgICAgICBpZiAocmVhc29uID09PSB2b2lkIDApIHsgcmVhc29uID0gbnVsbDsgfVxuICAgICAgICB2YXIgb3JpZ2luYWxFeGNlcHRpb24gPSB0aGlzLl9maW5kT3JpZ2luYWxFeGNlcHRpb24oZXhjZXB0aW9uKTtcbiAgICAgICAgdmFyIG9yaWdpbmFsU3RhY2sgPSB0aGlzLl9maW5kT3JpZ2luYWxTdGFjayhleGNlcHRpb24pO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuX2ZpbmRDb250ZXh0KGV4Y2VwdGlvbik7XG4gICAgICAgIHRoaXMuX2xvZ2dlci5sb2dHcm91cChcIkVYQ0VQVElPTjogXCIgKyB0aGlzLl9leHRyYWN0TWVzc2FnZShleGNlcHRpb24pKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoc3RhY2tUcmFjZSkgJiYgbGFuZ18xLmlzQmxhbmsob3JpZ2luYWxTdGFjaykpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2dFcnJvcihcIlNUQUNLVFJBQ0U6XCIpO1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZ0Vycm9yKHRoaXMuX2xvbmdTdGFja1RyYWNlKHN0YWNrVHJhY2UpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChyZWFzb24pKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nRXJyb3IoXCJSRUFTT046IFwiICsgcmVhc29uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChvcmlnaW5hbEV4Y2VwdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2dFcnJvcihcIk9SSUdJTkFMIEVYQ0VQVElPTjogXCIgKyB0aGlzLl9leHRyYWN0TWVzc2FnZShvcmlnaW5hbEV4Y2VwdGlvbikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KG9yaWdpbmFsU3RhY2spKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nRXJyb3IoXCJPUklHSU5BTCBTVEFDS1RSQUNFOlwiKTtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2dFcnJvcih0aGlzLl9sb25nU3RhY2tUcmFjZShvcmlnaW5hbFN0YWNrKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoY29udGV4dCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2dFcnJvcihcIkVSUk9SIENPTlRFWFQ6XCIpO1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZ0Vycm9yKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xvZ2dlci5sb2dHcm91cEVuZCgpO1xuICAgICAgICAvLyBXZSByZXRocm93IGV4Y2VwdGlvbnMsIHNvIG9wZXJhdGlvbnMgbGlrZSAnYm9vdHN0cmFwJyB3aWxsIHJlc3VsdCBpbiBhbiBlcnJvclxuICAgICAgICAvLyB3aGVuIGFuIGV4Y2VwdGlvbiBoYXBwZW5zLiBJZiB3ZSBkbyBub3QgcmV0aHJvdywgYm9vdHN0cmFwIHdpbGwgYWx3YXlzIHN1Y2NlZWQuXG4gICAgICAgIGlmICh0aGlzLl9yZXRocm93RXhjZXB0aW9uKVxuICAgICAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIEV4Y2VwdGlvbkhhbmRsZXIucHJvdG90eXBlLl9leHRyYWN0TWVzc2FnZSA9IGZ1bmN0aW9uIChleGNlcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIGV4Y2VwdGlvbiBpbnN0YW5jZW9mIGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMS5CYXNlV3JhcHBlZEV4Y2VwdGlvbiA/IGV4Y2VwdGlvbi53cmFwcGVyTWVzc2FnZSA6XG4gICAgICAgICAgICBleGNlcHRpb24udG9TdHJpbmcoKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBFeGNlcHRpb25IYW5kbGVyLnByb3RvdHlwZS5fbG9uZ1N0YWNrVHJhY2UgPSBmdW5jdGlvbiAoc3RhY2tUcmFjZSkge1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbl8xLmlzTGlzdExpa2VJdGVyYWJsZShzdGFja1RyYWNlKSA/IHN0YWNrVHJhY2Uuam9pbihcIlxcblxcbi0tLS0tYXN5bmMgZ2FwLS0tLS1cXG5cIikgOlxuICAgICAgICAgICAgc3RhY2tUcmFjZS50b1N0cmluZygpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIEV4Y2VwdGlvbkhhbmRsZXIucHJvdG90eXBlLl9maW5kQ29udGV4dCA9IGZ1bmN0aW9uIChleGNlcHRpb24pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghKGV4Y2VwdGlvbiBpbnN0YW5jZW9mIGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMS5CYXNlV3JhcHBlZEV4Y2VwdGlvbikpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByZXR1cm4gbGFuZ18xLmlzUHJlc2VudChleGNlcHRpb24uY29udGV4dCkgPyBleGNlcHRpb24uY29udGV4dCA6XG4gICAgICAgICAgICAgICAgdGhpcy5fZmluZENvbnRleHQoZXhjZXB0aW9uLm9yaWdpbmFsRXhjZXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gZXhjZXB0aW9uLmNvbnRleHQgY2FuIHRocm93IGFuIGV4Y2VwdGlvbi4gaWYgaXQgaGFwcGVucywgd2UgaWdub3JlIHRoZSBjb250ZXh0LlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBFeGNlcHRpb25IYW5kbGVyLnByb3RvdHlwZS5fZmluZE9yaWdpbmFsRXhjZXB0aW9uID0gZnVuY3Rpb24gKGV4Y2VwdGlvbikge1xuICAgICAgICBpZiAoIShleGNlcHRpb24gaW5zdGFuY2VvZiBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEuQmFzZVdyYXBwZWRFeGNlcHRpb24pKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBlID0gZXhjZXB0aW9uLm9yaWdpbmFsRXhjZXB0aW9uO1xuICAgICAgICB3aGlsZSAoZSBpbnN0YW5jZW9mIGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMS5CYXNlV3JhcHBlZEV4Y2VwdGlvbiAmJiBsYW5nXzEuaXNQcmVzZW50KGUub3JpZ2luYWxFeGNlcHRpb24pKSB7XG4gICAgICAgICAgICBlID0gZS5vcmlnaW5hbEV4Y2VwdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBFeGNlcHRpb25IYW5kbGVyLnByb3RvdHlwZS5fZmluZE9yaWdpbmFsU3RhY2sgPSBmdW5jdGlvbiAoZXhjZXB0aW9uKSB7XG4gICAgICAgIGlmICghKGV4Y2VwdGlvbiBpbnN0YW5jZW9mIGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMS5CYXNlV3JhcHBlZEV4Y2VwdGlvbikpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgdmFyIGUgPSBleGNlcHRpb247XG4gICAgICAgIHZhciBzdGFjayA9IGV4Y2VwdGlvbi5vcmlnaW5hbFN0YWNrO1xuICAgICAgICB3aGlsZSAoZSBpbnN0YW5jZW9mIGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMS5CYXNlV3JhcHBlZEV4Y2VwdGlvbiAmJiBsYW5nXzEuaXNQcmVzZW50KGUub3JpZ2luYWxFeGNlcHRpb24pKSB7XG4gICAgICAgICAgICBlID0gZS5vcmlnaW5hbEV4Y2VwdGlvbjtcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgYmFzZV93cmFwcGVkX2V4Y2VwdGlvbl8xLkJhc2VXcmFwcGVkRXhjZXB0aW9uICYmIGxhbmdfMS5pc1ByZXNlbnQoZS5vcmlnaW5hbEV4Y2VwdGlvbikpIHtcbiAgICAgICAgICAgICAgICBzdGFjayA9IGUub3JpZ2luYWxTdGFjaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhY2s7XG4gICAgfTtcbiAgICByZXR1cm4gRXhjZXB0aW9uSGFuZGxlcjtcbn0oKSk7XG5leHBvcnRzLkV4Y2VwdGlvbkhhbmRsZXIgPSBFeGNlcHRpb25IYW5kbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhjZXB0aW9uX2hhbmRsZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEgPSByZXF1aXJlKCcuL2Jhc2Vfd3JhcHBlZF9leGNlcHRpb24nKTtcbnZhciBleGNlcHRpb25faGFuZGxlcl8xID0gcmVxdWlyZSgnLi9leGNlcHRpb25faGFuZGxlcicpO1xudmFyIGV4Y2VwdGlvbl9oYW5kbGVyXzIgPSByZXF1aXJlKCcuL2V4Y2VwdGlvbl9oYW5kbGVyJyk7XG5leHBvcnRzLkV4Y2VwdGlvbkhhbmRsZXIgPSBleGNlcHRpb25faGFuZGxlcl8yLkV4Y2VwdGlvbkhhbmRsZXI7XG52YXIgQmFzZUV4Y2VwdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmFzZUV4Y2VwdGlvbihtZXNzYWdlKSB7XG4gICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IFwiLS1cIjsgfVxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IobWVzc2FnZSkpLnN0YWNrO1xuICAgIH1cbiAgICBCYXNlRXhjZXB0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubWVzc2FnZTsgfTtcbiAgICByZXR1cm4gQmFzZUV4Y2VwdGlvbjtcbn0oRXJyb3IpKTtcbmV4cG9ydHMuQmFzZUV4Y2VwdGlvbiA9IEJhc2VFeGNlcHRpb247XG4vKipcbiAqIFdyYXBzIGFuIGV4Y2VwdGlvbiBhbmQgcHJvdmlkZXMgYWRkaXRpb25hbCBjb250ZXh0IG9yIGluZm9ybWF0aW9uLlxuICovXG52YXIgV3JhcHBlZEV4Y2VwdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFdyYXBwZWRFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gV3JhcHBlZEV4Y2VwdGlvbihfd3JhcHBlck1lc3NhZ2UsIF9vcmlnaW5hbEV4Y2VwdGlvbiwgX29yaWdpbmFsU3RhY2ssIF9jb250ZXh0KSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIF93cmFwcGVyTWVzc2FnZSk7XG4gICAgICAgIHRoaXMuX3dyYXBwZXJNZXNzYWdlID0gX3dyYXBwZXJNZXNzYWdlO1xuICAgICAgICB0aGlzLl9vcmlnaW5hbEV4Y2VwdGlvbiA9IF9vcmlnaW5hbEV4Y2VwdGlvbjtcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxTdGFjayA9IF9vcmlnaW5hbFN0YWNrO1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gX2NvbnRleHQ7XG4gICAgICAgIHRoaXMuX3dyYXBwZXJTdGFjayA9IChuZXcgRXJyb3IoX3dyYXBwZXJNZXNzYWdlKSkuc3RhY2s7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJ3cmFwcGVyTWVzc2FnZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fd3JhcHBlck1lc3NhZ2U7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJ3cmFwcGVyU3RhY2tcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3dyYXBwZXJTdGFjazsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcIm9yaWdpbmFsRXhjZXB0aW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9vcmlnaW5hbEV4Y2VwdGlvbjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcIm9yaWdpbmFsU3RhY2tcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX29yaWdpbmFsU3RhY2s7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJjb250ZXh0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9jb250ZXh0OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwibWVzc2FnZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhjZXB0aW9uX2hhbmRsZXJfMS5FeGNlcHRpb25IYW5kbGVyLmV4Y2VwdGlvblRvU3RyaW5nKHRoaXMpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubWVzc2FnZTsgfTtcbiAgICByZXR1cm4gV3JhcHBlZEV4Y2VwdGlvbjtcbn0oYmFzZV93cmFwcGVkX2V4Y2VwdGlvbl8xLkJhc2VXcmFwcGVkRXhjZXB0aW9uKSk7XG5leHBvcnRzLldyYXBwZWRFeGNlcHRpb24gPSBXcmFwcGVkRXhjZXB0aW9uO1xuZnVuY3Rpb24gbWFrZVR5cGVFcnJvcihtZXNzYWdlKSB7XG4gICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IobWVzc2FnZSk7XG59XG5leHBvcnRzLm1ha2VUeXBlRXJyb3IgPSBtYWtlVHlwZUVycm9yO1xuZnVuY3Rpb24gdW5pbXBsZW1lbnRlZCgpIHtcbiAgICB0aHJvdyBuZXcgQmFzZUV4Y2VwdGlvbigndW5pbXBsZW1lbnRlZCcpO1xufVxuZXhwb3J0cy51bmltcGxlbWVudGVkID0gdW5pbXBsZW1lbnRlZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4Y2VwdGlvbnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBnbG9iYWxTY29wZTtcbmlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSkge1xuICAgICAgICAvLyBUT0RPOiBSZXBsYWNlIGFueSB3aXRoIFdvcmtlckdsb2JhbFNjb3BlIGZyb20gbGliLndlYndvcmtlci5kLnRzICMzNDkyXG4gICAgICAgIGdsb2JhbFNjb3BlID0gc2VsZjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGdsb2JhbFNjb3BlID0gZ2xvYmFsO1xuICAgIH1cbn1cbmVsc2Uge1xuICAgIGdsb2JhbFNjb3BlID0gd2luZG93O1xufVxuZnVuY3Rpb24gc2NoZWR1bGVNaWNyb1Rhc2soZm4pIHtcbiAgICBab25lLmN1cnJlbnQuc2NoZWR1bGVNaWNyb1Rhc2soJ3NjaGVkdWxlTWljcm90YXNrJywgZm4pO1xufVxuZXhwb3J0cy5zY2hlZHVsZU1pY3JvVGFzayA9IHNjaGVkdWxlTWljcm9UYXNrO1xuZXhwb3J0cy5JU19EQVJUID0gZmFsc2U7XG4vLyBOZWVkIHRvIGRlY2xhcmUgYSBuZXcgdmFyaWFibGUgZm9yIGdsb2JhbCBoZXJlIHNpbmNlIFR5cGVTY3JpcHRcbi8vIGV4cG9ydHMgdGhlIG9yaWdpbmFsIHZhbHVlIG9mIHRoZSBzeW1ib2wuXG52YXIgX2dsb2JhbCA9IGdsb2JhbFNjb3BlO1xuZXhwb3J0cy5nbG9iYWwgPSBfZ2xvYmFsO1xuZXhwb3J0cy5UeXBlID0gRnVuY3Rpb247XG5mdW5jdGlvbiBnZXRUeXBlTmFtZUZvckRlYnVnZ2luZyh0eXBlKSB7XG4gICAgaWYgKHR5cGVbJ25hbWUnXSkge1xuICAgICAgICByZXR1cm4gdHlwZVsnbmFtZSddO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZW9mIHR5cGU7XG59XG5leHBvcnRzLmdldFR5cGVOYW1lRm9yRGVidWdnaW5nID0gZ2V0VHlwZU5hbWVGb3JEZWJ1Z2dpbmc7XG5leHBvcnRzLk1hdGggPSBfZ2xvYmFsLk1hdGg7XG5leHBvcnRzLkRhdGUgPSBfZ2xvYmFsLkRhdGU7XG52YXIgX2Rldk1vZGUgPSB0cnVlO1xudmFyIF9tb2RlTG9ja2VkID0gZmFsc2U7XG5mdW5jdGlvbiBsb2NrTW9kZSgpIHtcbiAgICBfbW9kZUxvY2tlZCA9IHRydWU7XG59XG5leHBvcnRzLmxvY2tNb2RlID0gbG9ja01vZGU7XG4vKipcbiAqIERpc2FibGUgQW5ndWxhcidzIGRldmVsb3BtZW50IG1vZGUsIHdoaWNoIHR1cm5zIG9mZiBhc3NlcnRpb25zIGFuZCBvdGhlclxuICogY2hlY2tzIHdpdGhpbiB0aGUgZnJhbWV3b3JrLlxuICpcbiAqIE9uZSBpbXBvcnRhbnQgYXNzZXJ0aW9uIHRoaXMgZGlzYWJsZXMgdmVyaWZpZXMgdGhhdCBhIGNoYW5nZSBkZXRlY3Rpb24gcGFzc1xuICogZG9lcyBub3QgcmVzdWx0IGluIGFkZGl0aW9uYWwgY2hhbmdlcyB0byBhbnkgYmluZGluZ3MgKGFsc28ga25vd24gYXNcbiAqIHVuaWRpcmVjdGlvbmFsIGRhdGEgZmxvdykuXG4gKi9cbmZ1bmN0aW9uIGVuYWJsZVByb2RNb2RlKCkge1xuICAgIGlmIChfbW9kZUxvY2tlZCkge1xuICAgICAgICAvLyBDYW5ub3QgdXNlIEJhc2VFeGNlcHRpb24gYXMgdGhhdCBlbmRzIHVwIGltcG9ydGluZyBmcm9tIGZhY2FkZS9sYW5nLlxuICAgICAgICB0aHJvdyAnQ2Fubm90IGVuYWJsZSBwcm9kIG1vZGUgYWZ0ZXIgcGxhdGZvcm0gc2V0dXAuJztcbiAgICB9XG4gICAgX2Rldk1vZGUgPSBmYWxzZTtcbn1cbmV4cG9ydHMuZW5hYmxlUHJvZE1vZGUgPSBlbmFibGVQcm9kTW9kZTtcbmZ1bmN0aW9uIGFzc2VydGlvbnNFbmFibGVkKCkge1xuICAgIHJldHVybiBfZGV2TW9kZTtcbn1cbmV4cG9ydHMuYXNzZXJ0aW9uc0VuYWJsZWQgPSBhc3NlcnRpb25zRW5hYmxlZDtcbi8vIFRPRE86IHJlbW92ZSBjYWxscyB0byBhc3NlcnQgaW4gcHJvZHVjdGlvbiBlbnZpcm9ubWVudFxuLy8gTm90ZTogQ2FuJ3QganVzdCBleHBvcnQgdGhpcyBhbmQgaW1wb3J0IGluIGluIG90aGVyIGZpbGVzXG4vLyBhcyBgYXNzZXJ0YCBpcyBhIHJlc2VydmVkIGtleXdvcmQgaW4gRGFydFxuX2dsb2JhbC5hc3NlcnQgPSBmdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uKSB7XG4gICAgLy8gVE9ETzogdG8gYmUgZml4ZWQgcHJvcGVybHkgdmlhICMyODMwLCBub29wIGZvciBub3dcbn07XG5mdW5jdGlvbiBpc1ByZXNlbnQob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAhPT0gdW5kZWZpbmVkICYmIG9iaiAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNQcmVzZW50ID0gaXNQcmVzZW50O1xuZnVuY3Rpb24gaXNCbGFuayhvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB1bmRlZmluZWQgfHwgb2JqID09PSBudWxsO1xufVxuZXhwb3J0cy5pc0JsYW5rID0gaXNCbGFuaztcbmZ1bmN0aW9uIGlzQm9vbGVhbihvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJib29sZWFuXCI7XG59XG5leHBvcnRzLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcbmZ1bmN0aW9uIGlzTnVtYmVyKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm51bWJlclwiO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuZnVuY3Rpb24gaXNTdHJpbmcob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwic3RyaW5nXCI7XG59XG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5mdW5jdGlvbiBpc0Z1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCI7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuZnVuY3Rpb24gaXNUeXBlKG9iaikge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKG9iaik7XG59XG5leHBvcnRzLmlzVHlwZSA9IGlzVHlwZTtcbmZ1bmN0aW9uIGlzU3RyaW5nTWFwKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGw7XG59XG5leHBvcnRzLmlzU3RyaW5nTWFwID0gaXNTdHJpbmdNYXA7XG52YXIgU1RSSU5HX01BUF9QUk9UTyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih7fSk7XG5mdW5jdGlvbiBpc1N0cmljdFN0cmluZ01hcChvYmopIHtcbiAgICByZXR1cm4gaXNTdHJpbmdNYXAob2JqKSAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gU1RSSU5HX01BUF9QUk9UTztcbn1cbmV4cG9ydHMuaXNTdHJpY3RTdHJpbmdNYXAgPSBpc1N0cmljdFN0cmluZ01hcDtcbmZ1bmN0aW9uIGlzUHJvbWlzZShvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgX2dsb2JhbC5Qcm9taXNlO1xufVxuZXhwb3J0cy5pc1Byb21pc2UgPSBpc1Byb21pc2U7XG5mdW5jdGlvbiBpc0FycmF5KG9iaikge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KG9iaik7XG59XG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuZnVuY3Rpb24gaXNEYXRlKG9iaikge1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBleHBvcnRzLkRhdGUgJiYgIWlzTmFOKG9iai52YWx1ZU9mKCkpO1xufVxuZXhwb3J0cy5pc0RhdGUgPSBpc0RhdGU7XG5mdW5jdGlvbiBub29wKCkgeyB9XG5leHBvcnRzLm5vb3AgPSBub29wO1xuZnVuY3Rpb24gc3RyaW5naWZ5KHRva2VuKSB7XG4gICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgICBpZiAodG9rZW4gPT09IHVuZGVmaW5lZCB8fCB0b2tlbiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJycgKyB0b2tlbjtcbiAgICB9XG4gICAgaWYgKHRva2VuLm5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuLm5hbWU7XG4gICAgfVxuICAgIGlmICh0b2tlbi5vdmVycmlkZGVuTmFtZSkge1xuICAgICAgICByZXR1cm4gdG9rZW4ub3ZlcnJpZGRlbk5hbWU7XG4gICAgfVxuICAgIHZhciByZXMgPSB0b2tlbi50b1N0cmluZygpO1xuICAgIHZhciBuZXdMaW5lSW5kZXggPSByZXMuaW5kZXhPZihcIlxcblwiKTtcbiAgICByZXR1cm4gKG5ld0xpbmVJbmRleCA9PT0gLTEpID8gcmVzIDogcmVzLnN1YnN0cmluZygwLCBuZXdMaW5lSW5kZXgpO1xufVxuZXhwb3J0cy5zdHJpbmdpZnkgPSBzdHJpbmdpZnk7XG4vLyBzZXJpYWxpemUgLyBkZXNlcmlhbGl6ZSBlbnVtIGV4aXN0IG9ubHkgZm9yIGNvbnNpc3RlbmN5IHdpdGggZGFydCBBUElcbi8vIGVudW1zIGluIHR5cGVzY3JpcHQgZG9uJ3QgbmVlZCB0byBiZSBzZXJpYWxpemVkXG5mdW5jdGlvbiBzZXJpYWxpemVFbnVtKHZhbCkge1xuICAgIHJldHVybiB2YWw7XG59XG5leHBvcnRzLnNlcmlhbGl6ZUVudW0gPSBzZXJpYWxpemVFbnVtO1xuZnVuY3Rpb24gZGVzZXJpYWxpemVFbnVtKHZhbCwgdmFsdWVzKSB7XG4gICAgcmV0dXJuIHZhbDtcbn1cbmV4cG9ydHMuZGVzZXJpYWxpemVFbnVtID0gZGVzZXJpYWxpemVFbnVtO1xuZnVuY3Rpb24gcmVzb2x2ZUVudW1Ub2tlbihlbnVtVmFsdWUsIHZhbCkge1xuICAgIHJldHVybiBlbnVtVmFsdWVbdmFsXTtcbn1cbmV4cG9ydHMucmVzb2x2ZUVudW1Ub2tlbiA9IHJlc29sdmVFbnVtVG9rZW47XG52YXIgU3RyaW5nV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RyaW5nV3JhcHBlcigpIHtcbiAgICB9XG4gICAgU3RyaW5nV3JhcHBlci5mcm9tQ2hhckNvZGUgPSBmdW5jdGlvbiAoY29kZSkgeyByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTsgfTtcbiAgICBTdHJpbmdXcmFwcGVyLmNoYXJDb2RlQXQgPSBmdW5jdGlvbiAocywgaW5kZXgpIHsgcmV0dXJuIHMuY2hhckNvZGVBdChpbmRleCk7IH07XG4gICAgU3RyaW5nV3JhcHBlci5zcGxpdCA9IGZ1bmN0aW9uIChzLCByZWdFeHApIHsgcmV0dXJuIHMuc3BsaXQocmVnRXhwKTsgfTtcbiAgICBTdHJpbmdXcmFwcGVyLmVxdWFscyA9IGZ1bmN0aW9uIChzLCBzMikgeyByZXR1cm4gcyA9PT0gczI7IH07XG4gICAgU3RyaW5nV3JhcHBlci5zdHJpcExlZnQgPSBmdW5jdGlvbiAocywgY2hhclZhbCkge1xuICAgICAgICBpZiAocyAmJiBzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHBvcyA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoc1tpXSAhPSBjaGFyVmFsKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMgPSBzLnN1YnN0cmluZyhwb3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzO1xuICAgIH07XG4gICAgU3RyaW5nV3JhcHBlci5zdHJpcFJpZ2h0ID0gZnVuY3Rpb24gKHMsIGNoYXJWYWwpIHtcbiAgICAgICAgaWYgKHMgJiYgcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBwb3MgPSBzLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNbaV0gIT0gY2hhclZhbClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgcG9zLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzID0gcy5zdWJzdHJpbmcoMCwgcG9zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9O1xuICAgIFN0cmluZ1dyYXBwZXIucmVwbGFjZSA9IGZ1bmN0aW9uIChzLCBmcm9tLCByZXBsYWNlKSB7XG4gICAgICAgIHJldHVybiBzLnJlcGxhY2UoZnJvbSwgcmVwbGFjZSk7XG4gICAgfTtcbiAgICBTdHJpbmdXcmFwcGVyLnJlcGxhY2VBbGwgPSBmdW5jdGlvbiAocywgZnJvbSwgcmVwbGFjZSkge1xuICAgICAgICByZXR1cm4gcy5yZXBsYWNlKGZyb20sIHJlcGxhY2UpO1xuICAgIH07XG4gICAgU3RyaW5nV3JhcHBlci5zbGljZSA9IGZ1bmN0aW9uIChzLCBmcm9tLCB0bykge1xuICAgICAgICBpZiAoZnJvbSA9PT0gdm9pZCAwKSB7IGZyb20gPSAwOyB9XG4gICAgICAgIGlmICh0byA9PT0gdm9pZCAwKSB7IHRvID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gcy5zbGljZShmcm9tLCB0byA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IHRvKTtcbiAgICB9O1xuICAgIFN0cmluZ1dyYXBwZXIucmVwbGFjZUFsbE1hcHBlZCA9IGZ1bmN0aW9uIChzLCBmcm9tLCBjYikge1xuICAgICAgICByZXR1cm4gcy5yZXBsYWNlKGZyb20sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIG1hdGNoZXNbX2kgLSAwXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZW1vdmUgb2Zmc2V0ICYgc3RyaW5nIGZyb20gdGhlIHJlc3VsdCBhcnJheVxuICAgICAgICAgICAgbWF0Y2hlcy5zcGxpY2UoLTIsIDIpO1xuICAgICAgICAgICAgLy8gVGhlIGNhbGxiYWNrIHJlY2VpdmVzIG1hdGNoLCBwMSwgLi4uLCBwblxuICAgICAgICAgICAgcmV0dXJuIGNiKG1hdGNoZXMpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFN0cmluZ1dyYXBwZXIuY29udGFpbnMgPSBmdW5jdGlvbiAocywgc3Vic3RyKSB7IHJldHVybiBzLmluZGV4T2Yoc3Vic3RyKSAhPSAtMTsgfTtcbiAgICBTdHJpbmdXcmFwcGVyLmNvbXBhcmUgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBpZiAoYSA8IGIpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhID4gYikge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN0cmluZ1dyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5TdHJpbmdXcmFwcGVyID0gU3RyaW5nV3JhcHBlcjtcbnZhciBTdHJpbmdKb2luZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0cmluZ0pvaW5lcihwYXJ0cykge1xuICAgICAgICBpZiAocGFydHMgPT09IHZvaWQgMCkgeyBwYXJ0cyA9IFtdOyB9XG4gICAgICAgIHRoaXMucGFydHMgPSBwYXJ0cztcbiAgICB9XG4gICAgU3RyaW5nSm9pbmVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAocGFydCkgeyB0aGlzLnBhcnRzLnB1c2gocGFydCk7IH07XG4gICAgU3RyaW5nSm9pbmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMucGFydHMuam9pbihcIlwiKTsgfTtcbiAgICByZXR1cm4gU3RyaW5nSm9pbmVyO1xufSgpKTtcbmV4cG9ydHMuU3RyaW5nSm9pbmVyID0gU3RyaW5nSm9pbmVyO1xudmFyIE51bWJlclBhcnNlRXJyb3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOdW1iZXJQYXJzZUVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE51bWJlclBhcnNlRXJyb3IobWVzc2FnZSkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG4gICAgTnVtYmVyUGFyc2VFcnJvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1lc3NhZ2U7IH07XG4gICAgcmV0dXJuIE51bWJlclBhcnNlRXJyb3I7XG59KEVycm9yKSk7XG5leHBvcnRzLk51bWJlclBhcnNlRXJyb3IgPSBOdW1iZXJQYXJzZUVycm9yO1xudmFyIE51bWJlcldyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE51bWJlcldyYXBwZXIoKSB7XG4gICAgfVxuICAgIE51bWJlcldyYXBwZXIudG9GaXhlZCA9IGZ1bmN0aW9uIChuLCBmcmFjdGlvbkRpZ2l0cykgeyByZXR1cm4gbi50b0ZpeGVkKGZyYWN0aW9uRGlnaXRzKTsgfTtcbiAgICBOdW1iZXJXcmFwcGVyLmVxdWFsID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgPT09IGI7IH07XG4gICAgTnVtYmVyV3JhcHBlci5wYXJzZUludEF1dG9SYWRpeCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBwYXJzZUludCh0ZXh0KTtcbiAgICAgICAgaWYgKGlzTmFOKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOdW1iZXJQYXJzZUVycm9yKFwiSW52YWxpZCBpbnRlZ2VyIGxpdGVyYWwgd2hlbiBwYXJzaW5nIFwiICsgdGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIE51bWJlcldyYXBwZXIucGFyc2VJbnQgPSBmdW5jdGlvbiAodGV4dCwgcmFkaXgpIHtcbiAgICAgICAgaWYgKHJhZGl4ID09IDEwKSB7XG4gICAgICAgICAgICBpZiAoL14oXFwtfFxcKyk/WzAtOV0rJC8udGVzdCh0ZXh0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0ZXh0LCByYWRpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmFkaXggPT0gMTYpIHtcbiAgICAgICAgICAgIGlmICgvXihcXC18XFwrKT9bMC05QUJDREVGYWJjZGVmXSskLy50ZXN0KHRleHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRleHQsIHJhZGl4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBwYXJzZUludCh0ZXh0LCByYWRpeCk7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBOdW1iZXJQYXJzZUVycm9yKFwiSW52YWxpZCBpbnRlZ2VyIGxpdGVyYWwgd2hlbiBwYXJzaW5nIFwiICsgdGV4dCArIFwiIGluIGJhc2UgXCIgK1xuICAgICAgICAgICAgcmFkaXgpO1xuICAgIH07XG4gICAgLy8gVE9ETzogTmFOIGlzIGEgdmFsaWQgbGl0ZXJhbCBidXQgaXMgcmV0dXJuZWQgYnkgcGFyc2VGbG9hdCB0byBpbmRpY2F0ZSBhbiBlcnJvci5cbiAgICBOdW1iZXJXcmFwcGVyLnBhcnNlRmxvYXQgPSBmdW5jdGlvbiAodGV4dCkgeyByZXR1cm4gcGFyc2VGbG9hdCh0ZXh0KTsgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTnVtYmVyV3JhcHBlciwgXCJOYU5cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE5hTjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTnVtYmVyV3JhcHBlci5pc05hTiA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gaXNOYU4odmFsdWUpOyB9O1xuICAgIE51bWJlcldyYXBwZXIuaXNJbnRlZ2VyID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlKTsgfTtcbiAgICByZXR1cm4gTnVtYmVyV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLk51bWJlcldyYXBwZXIgPSBOdW1iZXJXcmFwcGVyO1xuZXhwb3J0cy5SZWdFeHAgPSBfZ2xvYmFsLlJlZ0V4cDtcbnZhciBSZWdFeHBXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWdFeHBXcmFwcGVyKCkge1xuICAgIH1cbiAgICBSZWdFeHBXcmFwcGVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChyZWdFeHBTdHIsIGZsYWdzKSB7XG4gICAgICAgIGlmIChmbGFncyA9PT0gdm9pZCAwKSB7IGZsYWdzID0gJyc7IH1cbiAgICAgICAgZmxhZ3MgPSBmbGFncy5yZXBsYWNlKC9nL2csICcnKTtcbiAgICAgICAgcmV0dXJuIG5ldyBfZ2xvYmFsLlJlZ0V4cChyZWdFeHBTdHIsIGZsYWdzICsgJ2cnKTtcbiAgICB9O1xuICAgIFJlZ0V4cFdyYXBwZXIuZmlyc3RNYXRjaCA9IGZ1bmN0aW9uIChyZWdFeHAsIGlucHV0KSB7XG4gICAgICAgIC8vIFJlc2V0IG11bHRpbWF0Y2ggcmVnZXggc3RhdGVcbiAgICAgICAgcmVnRXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHJldHVybiByZWdFeHAuZXhlYyhpbnB1dCk7XG4gICAgfTtcbiAgICBSZWdFeHBXcmFwcGVyLnRlc3QgPSBmdW5jdGlvbiAocmVnRXhwLCBpbnB1dCkge1xuICAgICAgICByZWdFeHAubGFzdEluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIHJlZ0V4cC50ZXN0KGlucHV0KTtcbiAgICB9O1xuICAgIFJlZ0V4cFdyYXBwZXIubWF0Y2hlciA9IGZ1bmN0aW9uIChyZWdFeHAsIGlucHV0KSB7XG4gICAgICAgIC8vIFJlc2V0IHJlZ2V4IHN0YXRlIGZvciB0aGUgY2FzZVxuICAgICAgICAvLyBzb21lb25lIGRpZCBub3QgbG9vcCBvdmVyIGFsbCBtYXRjaGVzXG4gICAgICAgIC8vIGxhc3QgdGltZS5cbiAgICAgICAgcmVnRXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHJldHVybiB7IHJlOiByZWdFeHAsIGlucHV0OiBpbnB1dCB9O1xuICAgIH07XG4gICAgUmVnRXhwV3JhcHBlci5yZXBsYWNlQWxsID0gZnVuY3Rpb24gKHJlZ0V4cCwgaW5wdXQsIHJlcGxhY2UpIHtcbiAgICAgICAgdmFyIGMgPSByZWdFeHAuZXhlYyhpbnB1dCk7XG4gICAgICAgIHZhciByZXMgPSAnJztcbiAgICAgICAgcmVnRXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHZhciBwcmV2ID0gMDtcbiAgICAgICAgd2hpbGUgKGMpIHtcbiAgICAgICAgICAgIHJlcyArPSBpbnB1dC5zdWJzdHJpbmcocHJldiwgYy5pbmRleCk7XG4gICAgICAgICAgICByZXMgKz0gcmVwbGFjZShjKTtcbiAgICAgICAgICAgIHByZXYgPSBjLmluZGV4ICsgY1swXS5sZW5ndGg7XG4gICAgICAgICAgICByZWdFeHAubGFzdEluZGV4ID0gcHJldjtcbiAgICAgICAgICAgIGMgPSByZWdFeHAuZXhlYyhpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzICs9IGlucHV0LnN1YnN0cmluZyhwcmV2KTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIHJldHVybiBSZWdFeHBXcmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuUmVnRXhwV3JhcHBlciA9IFJlZ0V4cFdyYXBwZXI7XG52YXIgUmVnRXhwTWF0Y2hlcldyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlZ0V4cE1hdGNoZXJXcmFwcGVyKCkge1xuICAgIH1cbiAgICBSZWdFeHBNYXRjaGVyV3JhcHBlci5uZXh0ID0gZnVuY3Rpb24gKG1hdGNoZXIpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXIucmUuZXhlYyhtYXRjaGVyLmlucHV0KTtcbiAgICB9O1xuICAgIHJldHVybiBSZWdFeHBNYXRjaGVyV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLlJlZ0V4cE1hdGNoZXJXcmFwcGVyID0gUmVnRXhwTWF0Y2hlcldyYXBwZXI7XG52YXIgRnVuY3Rpb25XcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGdW5jdGlvbldyYXBwZXIoKSB7XG4gICAgfVxuICAgIEZ1bmN0aW9uV3JhcHBlci5hcHBseSA9IGZ1bmN0aW9uIChmbiwgcG9zQXJncykgeyByZXR1cm4gZm4uYXBwbHkobnVsbCwgcG9zQXJncyk7IH07XG4gICAgcmV0dXJuIEZ1bmN0aW9uV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLkZ1bmN0aW9uV3JhcHBlciA9IEZ1bmN0aW9uV3JhcHBlcjtcbi8vIEpTIGhhcyBOYU4gIT09IE5hTlxuZnVuY3Rpb24gbG9vc2VJZGVudGljYWwoYSwgYikge1xuICAgIHJldHVybiBhID09PSBiIHx8IHR5cGVvZiBhID09PSBcIm51bWJlclwiICYmIHR5cGVvZiBiID09PSBcIm51bWJlclwiICYmIGlzTmFOKGEpICYmIGlzTmFOKGIpO1xufVxuZXhwb3J0cy5sb29zZUlkZW50aWNhbCA9IGxvb3NlSWRlbnRpY2FsO1xuLy8gSlMgY29uc2lkZXJzIE5hTiBpcyB0aGUgc2FtZSBhcyBOYU4gZm9yIG1hcCBLZXkgKHdoaWxlIE5hTiAhPT0gTmFOIG90aGVyd2lzZSlcbi8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXBcbmZ1bmN0aW9uIGdldE1hcEtleSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbn1cbmV4cG9ydHMuZ2V0TWFwS2V5ID0gZ2V0TWFwS2V5O1xuZnVuY3Rpb24gbm9ybWFsaXplQmxhbmsob2JqKSB7XG4gICAgcmV0dXJuIGlzQmxhbmsob2JqKSA/IG51bGwgOiBvYmo7XG59XG5leHBvcnRzLm5vcm1hbGl6ZUJsYW5rID0gbm9ybWFsaXplQmxhbms7XG5mdW5jdGlvbiBub3JtYWxpemVCb29sKG9iaikge1xuICAgIHJldHVybiBpc0JsYW5rKG9iaikgPyBmYWxzZSA6IG9iajtcbn1cbmV4cG9ydHMubm9ybWFsaXplQm9vbCA9IG5vcm1hbGl6ZUJvb2w7XG5mdW5jdGlvbiBpc0pzT2JqZWN0KG8pIHtcbiAgICByZXR1cm4gbyAhPT0gbnVsbCAmJiAodHlwZW9mIG8gPT09IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2YgbyA9PT0gXCJvYmplY3RcIik7XG59XG5leHBvcnRzLmlzSnNPYmplY3QgPSBpc0pzT2JqZWN0O1xuZnVuY3Rpb24gcHJpbnQob2JqKSB7XG4gICAgY29uc29sZS5sb2cob2JqKTtcbn1cbmV4cG9ydHMucHJpbnQgPSBwcmludDtcbmZ1bmN0aW9uIHdhcm4ob2JqKSB7XG4gICAgY29uc29sZS53YXJuKG9iaik7XG59XG5leHBvcnRzLndhcm4gPSB3YXJuO1xuLy8gQ2FuJ3QgYmUgYWxsIHVwcGVyY2FzZSBhcyBvdXIgdHJhbnNwaWxlciB3b3VsZCB0aGluayBpdCBpcyBhIHNwZWNpYWwgZGlyZWN0aXZlLi4uXG52YXIgSnNvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSnNvbigpIHtcbiAgICB9XG4gICAgSnNvbi5wYXJzZSA9IGZ1bmN0aW9uIChzKSB7IHJldHVybiBfZ2xvYmFsLkpTT04ucGFyc2Uocyk7IH07XG4gICAgSnNvbi5zdHJpbmdpZnkgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBEYXJ0IGRvZXNuJ3QgdGFrZSAzIGFyZ3VtZW50c1xuICAgICAgICByZXR1cm4gX2dsb2JhbC5KU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKTtcbiAgICB9O1xuICAgIHJldHVybiBKc29uO1xufSgpKTtcbmV4cG9ydHMuSnNvbiA9IEpzb247XG52YXIgRGF0ZVdyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERhdGVXcmFwcGVyKCkge1xuICAgIH1cbiAgICBEYXRlV3JhcHBlci5jcmVhdGUgPSBmdW5jdGlvbiAoeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlcywgc2Vjb25kcywgbWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIGlmIChtb250aCA9PT0gdm9pZCAwKSB7IG1vbnRoID0gMTsgfVxuICAgICAgICBpZiAoZGF5ID09PSB2b2lkIDApIHsgZGF5ID0gMTsgfVxuICAgICAgICBpZiAoaG91ciA9PT0gdm9pZCAwKSB7IGhvdXIgPSAwOyB9XG4gICAgICAgIGlmIChtaW51dGVzID09PSB2b2lkIDApIHsgbWludXRlcyA9IDA7IH1cbiAgICAgICAgaWYgKHNlY29uZHMgPT09IHZvaWQgMCkgeyBzZWNvbmRzID0gMDsgfVxuICAgICAgICBpZiAobWlsbGlzZWNvbmRzID09PSB2b2lkIDApIHsgbWlsbGlzZWNvbmRzID0gMDsgfVxuICAgICAgICByZXR1cm4gbmV3IGV4cG9ydHMuRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRheSwgaG91ciwgbWludXRlcywgc2Vjb25kcywgbWlsbGlzZWNvbmRzKTtcbiAgICB9O1xuICAgIERhdGVXcmFwcGVyLmZyb21JU09TdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7IHJldHVybiBuZXcgZXhwb3J0cy5EYXRlKHN0cik7IH07XG4gICAgRGF0ZVdyYXBwZXIuZnJvbU1pbGxpcyA9IGZ1bmN0aW9uIChtcykgeyByZXR1cm4gbmV3IGV4cG9ydHMuRGF0ZShtcyk7IH07XG4gICAgRGF0ZVdyYXBwZXIudG9NaWxsaXMgPSBmdW5jdGlvbiAoZGF0ZSkgeyByZXR1cm4gZGF0ZS5nZXRUaW1lKCk7IH07XG4gICAgRGF0ZVdyYXBwZXIubm93ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IGV4cG9ydHMuRGF0ZSgpOyB9O1xuICAgIERhdGVXcmFwcGVyLnRvSnNvbiA9IGZ1bmN0aW9uIChkYXRlKSB7IHJldHVybiBkYXRlLnRvSlNPTigpOyB9O1xuICAgIHJldHVybiBEYXRlV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLkRhdGVXcmFwcGVyID0gRGF0ZVdyYXBwZXI7XG5mdW5jdGlvbiBzZXRWYWx1ZU9uUGF0aChnbG9iYWwsIHBhdGgsIHZhbHVlKSB7XG4gICAgdmFyIHBhcnRzID0gcGF0aC5zcGxpdCgnLicpO1xuICAgIHZhciBvYmogPSBnbG9iYWw7XG4gICAgd2hpbGUgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KG5hbWUpICYmIGlzUHJlc2VudChvYmpbbmFtZV0pKSB7XG4gICAgICAgICAgICBvYmogPSBvYmpbbmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmogPSBvYmpbbmFtZV0gPSB7fTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAob2JqID09PSB1bmRlZmluZWQgfHwgb2JqID09PSBudWxsKSB7XG4gICAgICAgIG9iaiA9IHt9O1xuICAgIH1cbiAgICBvYmpbcGFydHMuc2hpZnQoKV0gPSB2YWx1ZTtcbn1cbmV4cG9ydHMuc2V0VmFsdWVPblBhdGggPSBzZXRWYWx1ZU9uUGF0aDtcbnZhciBfc3ltYm9sSXRlcmF0b3IgPSBudWxsO1xuZnVuY3Rpb24gZ2V0U3ltYm9sSXRlcmF0b3IoKSB7XG4gICAgaWYgKGlzQmxhbmsoX3N5bWJvbEl0ZXJhdG9yKSkge1xuICAgICAgICBpZiAoaXNQcmVzZW50KGdsb2JhbFNjb3BlLlN5bWJvbCkgJiYgaXNQcmVzZW50KFN5bWJvbC5pdGVyYXRvcikpIHtcbiAgICAgICAgICAgIF9zeW1ib2xJdGVyYXRvciA9IFN5bWJvbC5pdGVyYXRvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVzNi1zaGltIHNwZWNpZmljIGxvZ2ljXG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE1hcC5wcm90b3R5cGUpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gJ2VudHJpZXMnICYmIGtleSAhPT0gJ3NpemUnICYmXG4gICAgICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGVba2V5XSA9PT0gTWFwLnByb3RvdHlwZVsnZW50cmllcyddKSB7XG4gICAgICAgICAgICAgICAgICAgIF9zeW1ib2xJdGVyYXRvciA9IGtleTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIF9zeW1ib2xJdGVyYXRvcjtcbn1cbmV4cG9ydHMuZ2V0U3ltYm9sSXRlcmF0b3IgPSBnZXRTeW1ib2xJdGVyYXRvcjtcbmZ1bmN0aW9uIGV2YWxFeHByZXNzaW9uKHNvdXJjZVVybCwgZXhwciwgZGVjbGFyYXRpb25zLCB2YXJzKSB7XG4gICAgdmFyIGZuQm9keSA9IGRlY2xhcmF0aW9ucyArIFwiXFxucmV0dXJuIFwiICsgZXhwciArIFwiXFxuLy8jIHNvdXJjZVVSTD1cIiArIHNvdXJjZVVybDtcbiAgICB2YXIgZm5BcmdOYW1lcyA9IFtdO1xuICAgIHZhciBmbkFyZ1ZhbHVlcyA9IFtdO1xuICAgIGZvciAodmFyIGFyZ05hbWUgaW4gdmFycykge1xuICAgICAgICBmbkFyZ05hbWVzLnB1c2goYXJnTmFtZSk7XG4gICAgICAgIGZuQXJnVmFsdWVzLnB1c2godmFyc1thcmdOYW1lXSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLmJpbmQuYXBwbHkoRnVuY3Rpb24sIFt2b2lkIDBdLmNvbmNhdChmbkFyZ05hbWVzLmNvbmNhdChmbkJvZHkpKSkpKCkuYXBwbHkodm9pZCAwLCBmbkFyZ1ZhbHVlcyk7XG59XG5leHBvcnRzLmV2YWxFeHByZXNzaW9uID0gZXZhbEV4cHJlc3Npb247XG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShvYmopIHtcbiAgICByZXR1cm4gIWlzSnNPYmplY3Qob2JqKTtcbn1cbmV4cG9ydHMuaXNQcmltaXRpdmUgPSBpc1ByaW1pdGl2ZTtcbmZ1bmN0aW9uIGhhc0NvbnN0cnVjdG9yKHZhbHVlLCB0eXBlKSB7XG4gICAgcmV0dXJuIHZhbHVlLmNvbnN0cnVjdG9yID09PSB0eXBlO1xufVxuZXhwb3J0cy5oYXNDb25zdHJ1Y3RvciA9IGhhc0NvbnN0cnVjdG9yO1xuZnVuY3Rpb24gYml0V2lzZU9yKHZhbHVlcykge1xuICAgIHJldHVybiB2YWx1ZXMucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhIHwgYjsgfSk7XG59XG5leHBvcnRzLmJpdFdpc2VPciA9IGJpdFdpc2VPcjtcbmZ1bmN0aW9uIGJpdFdpc2VBbmQodmFsdWVzKSB7XG4gICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgJiBiOyB9KTtcbn1cbmV4cG9ydHMuYml0V2lzZUFuZCA9IGJpdFdpc2VBbmQ7XG5mdW5jdGlvbiBlc2NhcGUocykge1xuICAgIHJldHVybiBfZ2xvYmFsLmVuY29kZVVSSShzKTtcbn1cbmV4cG9ydHMuZXNjYXBlID0gZXNjYXBlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGFuZy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBQcm9taXNlQ29tcGxldGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQcm9taXNlQ29tcGxldGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcbiAgICAgICAgICAgIF90aGlzLnJlc29sdmUgPSByZXM7XG4gICAgICAgICAgICBfdGhpcy5yZWplY3QgPSByZWo7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZUNvbXBsZXRlcjtcbn0oKSk7XG5leHBvcnRzLlByb21pc2VDb21wbGV0ZXIgPSBQcm9taXNlQ29tcGxldGVyO1xudmFyIFByb21pc2VXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQcm9taXNlV3JhcHBlcigpIHtcbiAgICB9XG4gICAgUHJvbWlzZVdyYXBwZXIucmVzb2x2ZSA9IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZShvYmopOyB9O1xuICAgIFByb21pc2VXcmFwcGVyLnJlamVjdCA9IGZ1bmN0aW9uIChvYmosIF8pIHsgcmV0dXJuIFByb21pc2UucmVqZWN0KG9iaik7IH07XG4gICAgLy8gTm90ZTogV2UgY2FuJ3QgcmVuYW1lIHRoaXMgbWV0aG9kIGludG8gYGNhdGNoYCwgYXMgdGhpcyBpcyBub3QgYSB2YWxpZFxuICAgIC8vIG1ldGhvZCBuYW1lIGluIERhcnQuXG4gICAgUHJvbWlzZVdyYXBwZXIuY2F0Y2hFcnJvciA9IGZ1bmN0aW9uIChwcm9taXNlLCBvbkVycm9yKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlLmNhdGNoKG9uRXJyb3IpO1xuICAgIH07XG4gICAgUHJvbWlzZVdyYXBwZXIuYWxsID0gZnVuY3Rpb24gKHByb21pc2VzKSB7XG4gICAgICAgIGlmIChwcm9taXNlcy5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW10pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgIH07XG4gICAgUHJvbWlzZVdyYXBwZXIudGhlbiA9IGZ1bmN0aW9uIChwcm9taXNlLCBzdWNjZXNzLCByZWplY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbihzdWNjZXNzLCByZWplY3Rpb24pO1xuICAgIH07XG4gICAgUHJvbWlzZVdyYXBwZXIud3JhcCA9IGZ1bmN0aW9uIChjb21wdXRhdGlvbikge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlcyhjb21wdXRhdGlvbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmVqKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFByb21pc2VXcmFwcGVyLnNjaGVkdWxlTWljcm90YXNrID0gZnVuY3Rpb24gKGNvbXB1dGF0aW9uKSB7XG4gICAgICAgIFByb21pc2VXcmFwcGVyLnRoZW4oUHJvbWlzZVdyYXBwZXIucmVzb2x2ZShudWxsKSwgY29tcHV0YXRpb24sIGZ1bmN0aW9uIChfKSB7IH0pO1xuICAgIH07XG4gICAgUHJvbWlzZVdyYXBwZXIuaXNQcm9taXNlID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqIGluc3RhbmNlb2YgUHJvbWlzZTsgfTtcbiAgICBQcm9taXNlV3JhcHBlci5jb21wbGV0ZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgUHJvbWlzZUNvbXBsZXRlcigpOyB9O1xuICAgIHJldHVybiBQcm9taXNlV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLlByb21pc2VXcmFwcGVyID0gUHJvbWlzZVdyYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9taXNlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIEh0bWxUZXh0QXN0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIdG1sVGV4dEFzdCh2YWx1ZSwgc291cmNlU3Bhbikge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuc291cmNlU3BhbiA9IHNvdXJjZVNwYW47XG4gICAgfVxuICAgIEh0bWxUZXh0QXN0LnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7IHJldHVybiB2aXNpdG9yLnZpc2l0VGV4dCh0aGlzLCBjb250ZXh0KTsgfTtcbiAgICByZXR1cm4gSHRtbFRleHRBc3Q7XG59KCkpO1xuZXhwb3J0cy5IdG1sVGV4dEFzdCA9IEh0bWxUZXh0QXN0O1xudmFyIEh0bWxFeHBhbnNpb25Bc3QgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEh0bWxFeHBhbnNpb25Bc3Qoc3dpdGNoVmFsdWUsIHR5cGUsIGNhc2VzLCBzb3VyY2VTcGFuLCBzd2l0Y2hWYWx1ZVNvdXJjZVNwYW4pIHtcbiAgICAgICAgdGhpcy5zd2l0Y2hWYWx1ZSA9IHN3aXRjaFZhbHVlO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmNhc2VzID0gY2FzZXM7XG4gICAgICAgIHRoaXMuc291cmNlU3BhbiA9IHNvdXJjZVNwYW47XG4gICAgICAgIHRoaXMuc3dpdGNoVmFsdWVTb3VyY2VTcGFuID0gc3dpdGNoVmFsdWVTb3VyY2VTcGFuO1xuICAgIH1cbiAgICBIdG1sRXhwYW5zaW9uQXN0LnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0RXhwYW5zaW9uKHRoaXMsIGNvbnRleHQpO1xuICAgIH07XG4gICAgcmV0dXJuIEh0bWxFeHBhbnNpb25Bc3Q7XG59KCkpO1xuZXhwb3J0cy5IdG1sRXhwYW5zaW9uQXN0ID0gSHRtbEV4cGFuc2lvbkFzdDtcbnZhciBIdG1sRXhwYW5zaW9uQ2FzZUFzdCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSHRtbEV4cGFuc2lvbkNhc2VBc3QodmFsdWUsIGV4cHJlc3Npb24sIHNvdXJjZVNwYW4sIHZhbHVlU291cmNlU3BhbiwgZXhwU291cmNlU3Bhbikge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbiA9IGV4cHJlc3Npb247XG4gICAgICAgIHRoaXMuc291cmNlU3BhbiA9IHNvdXJjZVNwYW47XG4gICAgICAgIHRoaXMudmFsdWVTb3VyY2VTcGFuID0gdmFsdWVTb3VyY2VTcGFuO1xuICAgICAgICB0aGlzLmV4cFNvdXJjZVNwYW4gPSBleHBTb3VyY2VTcGFuO1xuICAgIH1cbiAgICBIdG1sRXhwYW5zaW9uQ2FzZUFzdC5wcm90b3R5cGUudmlzaXQgPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEV4cGFuc2lvbkNhc2UodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gSHRtbEV4cGFuc2lvbkNhc2VBc3Q7XG59KCkpO1xuZXhwb3J0cy5IdG1sRXhwYW5zaW9uQ2FzZUFzdCA9IEh0bWxFeHBhbnNpb25DYXNlQXN0O1xudmFyIEh0bWxBdHRyQXN0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIdG1sQXR0ckFzdChuYW1lLCB2YWx1ZSwgc291cmNlU3Bhbikge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuc291cmNlU3BhbiA9IHNvdXJjZVNwYW47XG4gICAgfVxuICAgIEh0bWxBdHRyQXN0LnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7IHJldHVybiB2aXNpdG9yLnZpc2l0QXR0cih0aGlzLCBjb250ZXh0KTsgfTtcbiAgICByZXR1cm4gSHRtbEF0dHJBc3Q7XG59KCkpO1xuZXhwb3J0cy5IdG1sQXR0ckFzdCA9IEh0bWxBdHRyQXN0O1xudmFyIEh0bWxFbGVtZW50QXN0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIdG1sRWxlbWVudEFzdChuYW1lLCBhdHRycywgY2hpbGRyZW4sIHNvdXJjZVNwYW4sIHN0YXJ0U291cmNlU3BhbiwgZW5kU291cmNlU3Bhbikge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmF0dHJzID0gYXR0cnM7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgICAgdGhpcy5zb3VyY2VTcGFuID0gc291cmNlU3BhbjtcbiAgICAgICAgdGhpcy5zdGFydFNvdXJjZVNwYW4gPSBzdGFydFNvdXJjZVNwYW47XG4gICAgICAgIHRoaXMuZW5kU291cmNlU3BhbiA9IGVuZFNvdXJjZVNwYW47XG4gICAgfVxuICAgIEh0bWxFbGVtZW50QXN0LnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7IHJldHVybiB2aXNpdG9yLnZpc2l0RWxlbWVudCh0aGlzLCBjb250ZXh0KTsgfTtcbiAgICByZXR1cm4gSHRtbEVsZW1lbnRBc3Q7XG59KCkpO1xuZXhwb3J0cy5IdG1sRWxlbWVudEFzdCA9IEh0bWxFbGVtZW50QXN0O1xudmFyIEh0bWxDb21tZW50QXN0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIdG1sQ29tbWVudEFzdCh2YWx1ZSwgc291cmNlU3Bhbikge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuc291cmNlU3BhbiA9IHNvdXJjZVNwYW47XG4gICAgfVxuICAgIEh0bWxDb21tZW50QXN0LnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7IHJldHVybiB2aXNpdG9yLnZpc2l0Q29tbWVudCh0aGlzLCBjb250ZXh0KTsgfTtcbiAgICByZXR1cm4gSHRtbENvbW1lbnRBc3Q7XG59KCkpO1xuZXhwb3J0cy5IdG1sQ29tbWVudEFzdCA9IEh0bWxDb21tZW50QXN0O1xuZnVuY3Rpb24gaHRtbFZpc2l0QWxsKHZpc2l0b3IsIGFzdHMsIGNvbnRleHQpIHtcbiAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSBudWxsOyB9XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGFzdHMuZm9yRWFjaChmdW5jdGlvbiAoYXN0KSB7XG4gICAgICAgIHZhciBhc3RSZXN1bHQgPSBhc3QudmlzaXQodmlzaXRvciwgY29udGV4dCk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGFzdFJlc3VsdCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGFzdFJlc3VsdCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0cy5odG1sVmlzaXRBbGwgPSBodG1sVmlzaXRBbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odG1sX2FzdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIHBhcnNlX3V0aWxfMSA9IHJlcXVpcmUoJy4vcGFyc2VfdXRpbCcpO1xudmFyIGh0bWxfdGFnc18xID0gcmVxdWlyZSgnLi9odG1sX3RhZ3MnKTtcbihmdW5jdGlvbiAoSHRtbFRva2VuVHlwZSkge1xuICAgIEh0bWxUb2tlblR5cGVbSHRtbFRva2VuVHlwZVtcIlRBR19PUEVOX1NUQVJUXCJdID0gMF0gPSBcIlRBR19PUEVOX1NUQVJUXCI7XG4gICAgSHRtbFRva2VuVHlwZVtIdG1sVG9rZW5UeXBlW1wiVEFHX09QRU5fRU5EXCJdID0gMV0gPSBcIlRBR19PUEVOX0VORFwiO1xuICAgIEh0bWxUb2tlblR5cGVbSHRtbFRva2VuVHlwZVtcIlRBR19PUEVOX0VORF9WT0lEXCJdID0gMl0gPSBcIlRBR19PUEVOX0VORF9WT0lEXCI7XG4gICAgSHRtbFRva2VuVHlwZVtIdG1sVG9rZW5UeXBlW1wiVEFHX0NMT1NFXCJdID0gM10gPSBcIlRBR19DTE9TRVwiO1xuICAgIEh0bWxUb2tlblR5cGVbSHRtbFRva2VuVHlwZVtcIlRFWFRcIl0gPSA0XSA9IFwiVEVYVFwiO1xuICAgIEh0bWxUb2tlblR5cGVbSHRtbFRva2VuVHlwZVtcIkVTQ0FQQUJMRV9SQVdfVEVYVFwiXSA9IDVdID0gXCJFU0NBUEFCTEVfUkFXX1RFWFRcIjtcbiAgICBIdG1sVG9rZW5UeXBlW0h0bWxUb2tlblR5cGVbXCJSQVdfVEVYVFwiXSA9IDZdID0gXCJSQVdfVEVYVFwiO1xuICAgIEh0bWxUb2tlblR5cGVbSHRtbFRva2VuVHlwZVtcIkNPTU1FTlRfU1RBUlRcIl0gPSA3XSA9IFwiQ09NTUVOVF9TVEFSVFwiO1xuICAgIEh0bWxUb2tlblR5cGVbSHRtbFRva2VuVHlwZVtcIkNPTU1FTlRfRU5EXCJdID0gOF0gPSBcIkNPTU1FTlRfRU5EXCI7XG4gICAgSHRtbFRva2VuVHlwZVtIdG1sVG9rZW5UeXBlW1wiQ0RBVEFfU1RBUlRcIl0gPSA5XSA9IFwiQ0RBVEFfU1RBUlRcIjtcbiAgICBIdG1sVG9rZW5UeXBlW0h0bWxUb2tlblR5cGVbXCJDREFUQV9FTkRcIl0gPSAxMF0gPSBcIkNEQVRBX0VORFwiO1xuICAgIEh0bWxUb2tlblR5cGVbSHRtbFRva2VuVHlwZVtcIkFUVFJfTkFNRVwiXSA9IDExXSA9IFwiQVRUUl9OQU1FXCI7XG4gICAgSHRtbFRva2VuVHlwZVtIdG1sVG9rZW5UeXBlW1wiQVRUUl9WQUxVRVwiXSA9IDEyXSA9IFwiQVRUUl9WQUxVRVwiO1xuICAgIEh0bWxUb2tlblR5cGVbSHRtbFRva2VuVHlwZVtcIkRPQ19UWVBFXCJdID0gMTNdID0gXCJET0NfVFlQRVwiO1xuICAgIEh0bWxUb2tlblR5cGVbSHRtbFRva2VuVHlwZVtcIkVYUEFOU0lPTl9GT1JNX1NUQVJUXCJdID0gMTRdID0gXCJFWFBBTlNJT05fRk9STV9TVEFSVFwiO1xuICAgIEh0bWxUb2tlblR5cGVbSHRtbFRva2VuVHlwZVtcIkVYUEFOU0lPTl9DQVNFX1ZBTFVFXCJdID0gMTVdID0gXCJFWFBBTlNJT05fQ0FTRV9WQUxVRVwiO1xuICAgIEh0bWxUb2tlblR5cGVbSHRtbFRva2VuVHlwZVtcIkVYUEFOU0lPTl9DQVNFX0VYUF9TVEFSVFwiXSA9IDE2XSA9IFwiRVhQQU5TSU9OX0NBU0VfRVhQX1NUQVJUXCI7XG4gICAgSHRtbFRva2VuVHlwZVtIdG1sVG9rZW5UeXBlW1wiRVhQQU5TSU9OX0NBU0VfRVhQX0VORFwiXSA9IDE3XSA9IFwiRVhQQU5TSU9OX0NBU0VfRVhQX0VORFwiO1xuICAgIEh0bWxUb2tlblR5cGVbSHRtbFRva2VuVHlwZVtcIkVYUEFOU0lPTl9GT1JNX0VORFwiXSA9IDE4XSA9IFwiRVhQQU5TSU9OX0ZPUk1fRU5EXCI7XG4gICAgSHRtbFRva2VuVHlwZVtIdG1sVG9rZW5UeXBlW1wiRU9GXCJdID0gMTldID0gXCJFT0ZcIjtcbn0pKGV4cG9ydHMuSHRtbFRva2VuVHlwZSB8fCAoZXhwb3J0cy5IdG1sVG9rZW5UeXBlID0ge30pKTtcbnZhciBIdG1sVG9rZW5UeXBlID0gZXhwb3J0cy5IdG1sVG9rZW5UeXBlO1xudmFyIEh0bWxUb2tlbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSHRtbFRva2VuKHR5cGUsIHBhcnRzLCBzb3VyY2VTcGFuKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMucGFydHMgPSBwYXJ0cztcbiAgICAgICAgdGhpcy5zb3VyY2VTcGFuID0gc291cmNlU3BhbjtcbiAgICB9XG4gICAgcmV0dXJuIEh0bWxUb2tlbjtcbn0oKSk7XG5leHBvcnRzLkh0bWxUb2tlbiA9IEh0bWxUb2tlbjtcbnZhciBIdG1sVG9rZW5FcnJvciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEh0bWxUb2tlbkVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEh0bWxUb2tlbkVycm9yKGVycm9yTXNnLCB0b2tlblR5cGUsIHNwYW4pIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgc3BhbiwgZXJyb3JNc2cpO1xuICAgICAgICB0aGlzLnRva2VuVHlwZSA9IHRva2VuVHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIEh0bWxUb2tlbkVycm9yO1xufShwYXJzZV91dGlsXzEuUGFyc2VFcnJvcikpO1xuZXhwb3J0cy5IdG1sVG9rZW5FcnJvciA9IEh0bWxUb2tlbkVycm9yO1xudmFyIEh0bWxUb2tlbml6ZVJlc3VsdCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSHRtbFRva2VuaXplUmVzdWx0KHRva2VucywgZXJyb3JzKSB7XG4gICAgICAgIHRoaXMudG9rZW5zID0gdG9rZW5zO1xuICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcbiAgICB9XG4gICAgcmV0dXJuIEh0bWxUb2tlbml6ZVJlc3VsdDtcbn0oKSk7XG5leHBvcnRzLkh0bWxUb2tlbml6ZVJlc3VsdCA9IEh0bWxUb2tlbml6ZVJlc3VsdDtcbmZ1bmN0aW9uIHRva2VuaXplSHRtbChzb3VyY2VDb250ZW50LCBzb3VyY2VVcmwsIHRva2VuaXplRXhwYW5zaW9uRm9ybXMpIHtcbiAgICBpZiAodG9rZW5pemVFeHBhbnNpb25Gb3JtcyA9PT0gdm9pZCAwKSB7IHRva2VuaXplRXhwYW5zaW9uRm9ybXMgPSBmYWxzZTsgfVxuICAgIHJldHVybiBuZXcgX0h0bWxUb2tlbml6ZXIobmV3IHBhcnNlX3V0aWxfMS5QYXJzZVNvdXJjZUZpbGUoc291cmNlQ29udGVudCwgc291cmNlVXJsKSwgdG9rZW5pemVFeHBhbnNpb25Gb3JtcylcbiAgICAgICAgLnRva2VuaXplKCk7XG59XG5leHBvcnRzLnRva2VuaXplSHRtbCA9IHRva2VuaXplSHRtbDtcbnZhciAkRU9GID0gMDtcbnZhciAkVEFCID0gOTtcbnZhciAkTEYgPSAxMDtcbnZhciAkRkYgPSAxMjtcbnZhciAkQ1IgPSAxMztcbnZhciAkU1BBQ0UgPSAzMjtcbnZhciAkQkFORyA9IDMzO1xudmFyICREUSA9IDM0O1xudmFyICRIQVNIID0gMzU7XG52YXIgJCQgPSAzNjtcbnZhciAkQU1QRVJTQU5EID0gMzg7XG52YXIgJFNRID0gMzk7XG52YXIgJE1JTlVTID0gNDU7XG52YXIgJFNMQVNIID0gNDc7XG52YXIgJDAgPSA0ODtcbnZhciAkU0VNSUNPTE9OID0gNTk7XG52YXIgJDkgPSA1NztcbnZhciAkQ09MT04gPSA1ODtcbnZhciAkTFQgPSA2MDtcbnZhciAkRVEgPSA2MTtcbnZhciAkR1QgPSA2MjtcbnZhciAkUVVFU1RJT04gPSA2MztcbnZhciAkTEJSQUNLRVQgPSA5MTtcbnZhciAkUkJSQUNLRVQgPSA5MztcbnZhciAkTEJSQUNFID0gMTIzO1xudmFyICRSQlJBQ0UgPSAxMjU7XG52YXIgJENPTU1BID0gNDQ7XG52YXIgJEEgPSA2NTtcbnZhciAkRiA9IDcwO1xudmFyICRYID0gODg7XG52YXIgJFogPSA5MDtcbnZhciAkYSA9IDk3O1xudmFyICRmID0gMTAyO1xudmFyICR6ID0gMTIyO1xudmFyICR4ID0gMTIwO1xudmFyICROQlNQID0gMTYwO1xudmFyIENSX09SX0NSTEZfUkVHRVhQID0gL1xcclxcbj8vZztcbmZ1bmN0aW9uIHVuZXhwZWN0ZWRDaGFyYWN0ZXJFcnJvck1zZyhjaGFyQ29kZSkge1xuICAgIHZhciBjaGFyID0gY2hhckNvZGUgPT09ICRFT0YgPyAnRU9GJyA6IGxhbmdfMS5TdHJpbmdXcmFwcGVyLmZyb21DaGFyQ29kZShjaGFyQ29kZSk7XG4gICAgcmV0dXJuIFwiVW5leHBlY3RlZCBjaGFyYWN0ZXIgXFxcIlwiICsgY2hhciArIFwiXFxcIlwiO1xufVxuZnVuY3Rpb24gdW5rbm93bkVudGl0eUVycm9yTXNnKGVudGl0eVNyYykge1xuICAgIHJldHVybiBcIlVua25vd24gZW50aXR5IFxcXCJcIiArIGVudGl0eVNyYyArIFwiXFxcIiAtIHVzZSB0aGUgXFxcIiYjPGRlY2ltYWw+O1xcXCIgb3IgIFxcXCImI3g8aGV4PjtcXFwiIHN5bnRheFwiO1xufVxudmFyIENvbnRyb2xGbG93RXJyb3IgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnRyb2xGbG93RXJyb3IoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgIH1cbiAgICByZXR1cm4gQ29udHJvbEZsb3dFcnJvcjtcbn0oKSk7XG4vLyBTZWUgaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDUxL3N5bnRheC5odG1sI3dyaXRpbmdcbnZhciBfSHRtbFRva2VuaXplciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gX0h0bWxUb2tlbml6ZXIoZmlsZSwgdG9rZW5pemVFeHBhbnNpb25Gb3Jtcykge1xuICAgICAgICB0aGlzLmZpbGUgPSBmaWxlO1xuICAgICAgICB0aGlzLnRva2VuaXplRXhwYW5zaW9uRm9ybXMgPSB0b2tlbml6ZUV4cGFuc2lvbkZvcm1zO1xuICAgICAgICAvLyBOb3RlOiB0aGlzIGlzIGFsd2F5cyBsb3dlcmNhc2UhXG4gICAgICAgIHRoaXMucGVlayA9IC0xO1xuICAgICAgICB0aGlzLm5leHRQZWVrID0gLTE7XG4gICAgICAgIHRoaXMuaW5kZXggPSAtMTtcbiAgICAgICAgdGhpcy5saW5lID0gMDtcbiAgICAgICAgdGhpcy5jb2x1bW4gPSAtMTtcbiAgICAgICAgdGhpcy5leHBhbnNpb25DYXNlU3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy50b2tlbnMgPSBbXTtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5pbnB1dCA9IGZpbGUuY29udGVudDtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBmaWxlLmNvbnRlbnQubGVuZ3RoO1xuICAgICAgICB0aGlzLl9hZHZhbmNlKCk7XG4gICAgfVxuICAgIF9IdG1sVG9rZW5pemVyLnByb3RvdHlwZS5fcHJvY2Vzc0NhcnJpYWdlUmV0dXJucyA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw1L3N5bnRheC5odG1sI3ByZXByb2Nlc3NpbmctdGhlLWlucHV0LXN0cmVhbVxuICAgICAgICAvLyBJbiBvcmRlciB0byBrZWVwIHRoZSBvcmlnaW5hbCBwb3NpdGlvbiBpbiB0aGUgc291cmNlLCB3ZSBjYW4gbm90XG4gICAgICAgIC8vIHByZS1wcm9jZXNzIGl0LlxuICAgICAgICAvLyBJbnN0ZWFkIENScyBhcmUgcHJvY2Vzc2VkIHJpZ2h0IGJlZm9yZSBpbnN0YW50aWF0aW5nIHRoZSB0b2tlbnMuXG4gICAgICAgIHJldHVybiBsYW5nXzEuU3RyaW5nV3JhcHBlci5yZXBsYWNlQWxsKGNvbnRlbnQsIENSX09SX0NSTEZfUkVHRVhQLCAnXFxuJyk7XG4gICAgfTtcbiAgICBfSHRtbFRva2VuaXplci5wcm90b3R5cGUudG9rZW5pemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLnBlZWsgIT09ICRFT0YpIHtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMuX2dldExvY2F0aW9uKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hdHRlbXB0Q2hhckNvZGUoJExUKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fYXR0ZW1wdENoYXJDb2RlKCRCQU5HKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2F0dGVtcHRDaGFyQ29kZSgkTEJSQUNLRVQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uc3VtZUNkYXRhKHN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2F0dGVtcHRDaGFyQ29kZSgkTUlOVVMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uc3VtZUNvbW1lbnQoc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uc3VtZURvY1R5cGUoc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2F0dGVtcHRDaGFyQ29kZSgkU0xBU0gpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25zdW1lVGFnQ2xvc2Uoc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uc3VtZVRhZ09wZW4oc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzU3BlY2lhbEZvcm1TdGFydCh0aGlzLnBlZWssIHRoaXMubmV4dFBlZWspICYmIHRoaXMudG9rZW5pemVFeHBhbnNpb25Gb3Jtcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25zdW1lRXhwYW5zaW9uRm9ybVN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMucGVlayA9PT0gJEVRICYmIHRoaXMudG9rZW5pemVFeHBhbnNpb25Gb3Jtcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25zdW1lRXhwYW5zaW9uQ2FzZVN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMucGVlayA9PT0gJFJCUkFDRSAmJiB0aGlzLmlzSW5FeHBhbnNpb25DYXNlKCkgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2tlbml6ZUV4cGFuc2lvbkZvcm1zKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbnN1bWVFeHBhbnNpb25DYXNlRW5kKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMucGVlayA9PT0gJFJCUkFDRSAmJiB0aGlzLmlzSW5FeHBhbnNpb25Gb3JtKCkgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2tlbml6ZUV4cGFuc2lvbkZvcm1zKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvbnN1bWVFeHBhbnNpb25Gb3JtRW5kKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25zdW1lVGV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBDb250cm9sRmxvd0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goZS5lcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9iZWdpblRva2VuKEh0bWxUb2tlblR5cGUuRU9GKTtcbiAgICAgICAgdGhpcy5fZW5kVG9rZW4oW10pO1xuICAgICAgICByZXR1cm4gbmV3IEh0bWxUb2tlbml6ZVJlc3VsdChtZXJnZVRleHRUb2tlbnModGhpcy50b2tlbnMpLCB0aGlzLmVycm9ycyk7XG4gICAgfTtcbiAgICBfSHRtbFRva2VuaXplci5wcm90b3R5cGUuX2dldExvY2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IHBhcnNlX3V0aWxfMS5QYXJzZUxvY2F0aW9uKHRoaXMuZmlsZSwgdGhpcy5pbmRleCwgdGhpcy5saW5lLCB0aGlzLmNvbHVtbik7XG4gICAgfTtcbiAgICBfSHRtbFRva2VuaXplci5wcm90b3R5cGUuX2dldFNwYW4gPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsoc3RhcnQpKSB7XG4gICAgICAgICAgICBzdGFydCA9IHRoaXMuX2dldExvY2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKGVuZCkpIHtcbiAgICAgICAgICAgIGVuZCA9IHRoaXMuX2dldExvY2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBwYXJzZV91dGlsXzEuUGFyc2VTb3VyY2VTcGFuKHN0YXJ0LCBlbmQpO1xuICAgIH07XG4gICAgX0h0bWxUb2tlbml6ZXIucHJvdG90eXBlLl9iZWdpblRva2VuID0gZnVuY3Rpb24gKHR5cGUsIHN0YXJ0KSB7XG4gICAgICAgIGlmIChzdGFydCA9PT0gdm9pZCAwKSB7IHN0YXJ0ID0gbnVsbDsgfVxuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsoc3RhcnQpKSB7XG4gICAgICAgICAgICBzdGFydCA9IHRoaXMuX2dldExvY2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50VG9rZW5TdGFydCA9IHN0YXJ0O1xuICAgICAgICB0aGlzLmN1cnJlbnRUb2tlblR5cGUgPSB0eXBlO1xuICAgIH07XG4gICAgX0h0bWxUb2tlbml6ZXIucHJvdG90eXBlLl9lbmRUb2tlbiA9IGZ1bmN0aW9uIChwYXJ0cywgZW5kKSB7XG4gICAgICAgIGlmIChlbmQgPT09IHZvaWQgMCkgeyBlbmQgPSBudWxsOyB9XG4gICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhlbmQpKSB7XG4gICAgICAgICAgICBlbmQgPSB0aGlzLl9nZXRMb2NhdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0b2tlbiA9IG5ldyBIdG1sVG9rZW4odGhpcy5jdXJyZW50VG9rZW5UeXBlLCBwYXJ0cywgbmV3IHBhcnNlX3V0aWxfMS5QYXJzZVNvdXJjZVNwYW4odGhpcy5jdXJyZW50VG9rZW5TdGFydCwgZW5kKSk7XG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB0aGlzLmN1cnJlbnRUb2tlblN0YXJ0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50VG9rZW5UeXBlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH07XG4gICAgX0h0bWxUb2tlbml6ZXIucHJvdG90eXBlLl9jcmVhdGVFcnJvciA9IGZ1bmN0aW9uIChtc2csIHNwYW4pIHtcbiAgICAgICAgdmFyIGVycm9yID0gbmV3IEh0bWxUb2tlbkVycm9yKG1zZywgdGhpcy5jdXJyZW50VG9rZW5UeXBlLCBzcGFuKTtcbiAgICAgICAgdGhpcy5jdXJyZW50VG9rZW5TdGFydCA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudFRva2VuVHlwZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBuZXcgQ29udHJvbEZsb3dFcnJvcihlcnJvcik7XG4gICAgfTtcbiAgICBfSHRtbFRva2VuaXplci5wcm90b3R5cGUuX2FkdmFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmluZGV4ID49IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyB0aGlzLl9jcmVhdGVFcnJvcih1bmV4cGVjdGVkQ2hhcmFjdGVyRXJyb3JNc2coJEVPRiksIHRoaXMuX2dldFNwYW4oKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGVlayA9PT0gJExGKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmUrKztcbiAgICAgICAgICAgIHRoaXMuY29sdW1uID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnBlZWsgIT09ICRMRiAmJiB0aGlzLnBlZWsgIT09ICRDUikge1xuICAgICAgICAgICAgdGhpcy5jb2x1bW4rKztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICAgIHRoaXMucGVlayA9IHRoaXMuaW5kZXggPj0gdGhpcy5sZW5ndGggPyAkRU9GIDogbGFuZ18xLlN0cmluZ1dyYXBwZXIuY2hhckNvZGVBdCh0aGlzLmlucHV0LCB0aGlzLmluZGV4KTtcbiAgICAgICAgdGhpcy5uZXh0UGVlayA9XG4gICAgICAgICAgICB0aGlzLmluZGV4ICsgMSA+PSB0aGlzLmxlbmd0aCA/ICRFT0YgOiBsYW5nXzEuU3RyaW5nV3JhcHBlci5jaGFyQ29kZUF0KHRoaXMuaW5wdXQsIHRoaXMuaW5kZXggKyAxKTtcbiAgICB9O1xuICAgIF9IdG1sVG9rZW5pemVyLnByb3RvdHlwZS5fYXR0ZW1wdENoYXJDb2RlID0gZnVuY3Rpb24gKGNoYXJDb2RlKSB7XG4gICAgICAgIGlmICh0aGlzLnBlZWsgPT09IGNoYXJDb2RlKSB7XG4gICAgICAgICAgICB0aGlzLl9hZHZhbmNlKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBfSHRtbFRva2VuaXplci5wcm90b3R5cGUuX2F0dGVtcHRDaGFyQ29kZUNhc2VJbnNlbnNpdGl2ZSA9IGZ1bmN0aW9uIChjaGFyQ29kZSkge1xuICAgICAgICBpZiAoY29tcGFyZUNoYXJDb2RlQ2FzZUluc2Vuc2l0aXZlKHRoaXMucGVlaywgY2hhckNvZGUpKSB7XG4gICAgICAgICAgICB0aGlzLl9hZHZhbmNlKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBfSHRtbFRva2VuaXplci5wcm90b3R5cGUuX3JlcXVpcmVDaGFyQ29kZSA9IGZ1bmN0aW9uIChjaGFyQ29kZSkge1xuICAgICAgICB2YXIgbG9jYXRpb24gPSB0aGlzLl9nZXRMb2NhdGlvbigpO1xuICAgICAgICBpZiAoIXRoaXMuX2F0dGVtcHRDaGFyQ29kZShjaGFyQ29kZSkpIHtcbiAgICAgICAgICAgIHRocm93IHRoaXMuX2NyZWF0ZUVycm9yKHVuZXhwZWN0ZWRDaGFyYWN0ZXJFcnJvck1zZyh0aGlzLnBlZWspLCB0aGlzLl9nZXRTcGFuKGxvY2F0aW9uLCBsb2NhdGlvbikpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBfSHRtbFRva2VuaXplci5wcm90b3R5cGUuX2F0dGVtcHRTdHIgPSBmdW5jdGlvbiAoY2hhcnMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9hdHRlbXB0Q2hhckNvZGUobGFuZ18xLlN0cmluZ1dyYXBwZXIuY2hhckNvZGVBdChjaGFycywgaSkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgX0h0bWxUb2tlbml6ZXIucHJvdG90eXBlLl9hdHRlbXB0U3RyQ2FzZUluc2Vuc2l0aXZlID0gZnVuY3Rpb24gKGNoYXJzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fYXR0ZW1wdENoYXJDb2RlQ2FzZUluc2Vuc2l0aXZlKGxhbmdfMS5TdHJpbmdXcmFwcGVyLmNoYXJDb2RlQXQoY2hhcnMsIGkpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIF9IdG1sVG9rZW5pemVyLnByb3RvdHlwZS5fcmVxdWlyZVN0ciA9IGZ1bmN0aW9uIChjaGFycykge1xuICAgICAgICB2YXIgbG9jYXRpb24gPSB0aGlzLl9nZXRMb2NhdGlvbigpO1xuICAgICAgICBpZiAoIXRoaXMuX2F0dGVtcHRTdHIoY2hhcnMpKSB7XG4gICAgICAgICAgICB0aHJvdyB0aGlzLl9jcmVhdGVFcnJvcih1bmV4cGVjdGVkQ2hhcmFjdGVyRXJyb3JNc2codGhpcy5wZWVrKSwgdGhpcy5fZ2V0U3Bhbihsb2NhdGlvbikpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBfSHRtbFRva2VuaXplci5wcm90b3R5cGUuX2F0dGVtcHRDaGFyQ29kZVVudGlsRm4gPSBmdW5jdGlvbiAocHJlZGljYXRlKSB7XG4gICAgICAgIHdoaWxlICghcHJlZGljYXRlKHRoaXMucGVlaykpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkdmFuY2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgX0h0bWxUb2tlbml6ZXIucHJvdG90eXBlLl9yZXF1aXJlQ2hhckNvZGVVbnRpbEZuID0gZnVuY3Rpb24gKHByZWRpY2F0ZSwgbGVuKSB7XG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMuX2dldExvY2F0aW9uKCk7XG4gICAgICAgIHRoaXMuX2F0dGVtcHRDaGFyQ29kZVVudGlsRm4ocHJlZGljYXRlKTtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggLSBzdGFydC5vZmZzZXQgPCBsZW4pIHtcbiAgICAgICAgICAgIHRocm93IHRoaXMuX2NyZWF0ZUVycm9yKHVuZXhwZWN0ZWRDaGFyYWN0ZXJFcnJvck1zZyh0aGlzLnBlZWspLCB0aGlzLl9nZXRTcGFuKHN0YXJ0LCBzdGFydCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBfSHRtbFRva2VuaXplci5wcm90b3R5cGUuX2F0dGVtcHRVbnRpbENoYXIgPSBmdW5jdGlvbiAoY2hhcikge1xuICAgICAgICB3aGlsZSAodGhpcy5wZWVrICE9PSBjaGFyKSB7XG4gICAgICAgICAgICB0aGlzLl9hZHZhbmNlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIF9IdG1sVG9rZW5pemVyLnByb3RvdHlwZS5fcmVhZENoYXIgPSBmdW5jdGlvbiAoZGVjb2RlRW50aXRpZXMpIHtcbiAgICAgICAgaWYgKGRlY29kZUVudGl0aWVzICYmIHRoaXMucGVlayA9PT0gJEFNUEVSU0FORCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlY29kZUVudGl0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleDtcbiAgICAgICAgICAgIHRoaXMuX2FkdmFuY2UoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlucHV0W2luZGV4XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgX0h0bWxUb2tlbml6ZXIucHJvdG90eXBlLl9kZWNvZGVFbnRpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMuX2dldExvY2F0aW9uKCk7XG4gICAgICAgIHRoaXMuX2FkdmFuY2UoKTtcbiAgICAgICAgaWYgKHRoaXMuX2F0dGVtcHRDaGFyQ29kZSgkSEFTSCkpIHtcbiAgICAgICAgICAgIHZhciBpc0hleCA9IHRoaXMuX2F0dGVtcHRDaGFyQ29kZSgkeCkgfHwgdGhpcy5fYXR0ZW1wdENoYXJDb2RlKCRYKTtcbiAgICAgICAgICAgIHZhciBudW1iZXJTdGFydCA9IHRoaXMuX2dldExvY2F0aW9uKCkub2Zmc2V0O1xuICAgICAgICAgICAgdGhpcy5fYXR0ZW1wdENoYXJDb2RlVW50aWxGbihpc0RpZ2l0RW50aXR5RW5kKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsgIT0gJFNFTUlDT0xPTikge1xuICAgICAgICAgICAgICAgIHRocm93IHRoaXMuX2NyZWF0ZUVycm9yKHVuZXhwZWN0ZWRDaGFyYWN0ZXJFcnJvck1zZyh0aGlzLnBlZWspLCB0aGlzLl9nZXRTcGFuKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYWR2YW5jZSgpO1xuICAgICAgICAgICAgdmFyIHN0ck51bSA9IHRoaXMuaW5wdXQuc3Vic3RyaW5nKG51bWJlclN0YXJ0LCB0aGlzLmluZGV4IC0gMSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBjaGFyQ29kZSA9IGxhbmdfMS5OdW1iZXJXcmFwcGVyLnBhcnNlSW50KHN0ck51bSwgaXNIZXggPyAxNiA6IDEwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGFuZ18xLlN0cmluZ1dyYXBwZXIuZnJvbUNoYXJDb2RlKGNoYXJDb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVudGl0eSA9IHRoaXMuaW5wdXQuc3Vic3RyaW5nKHN0YXJ0Lm9mZnNldCArIDEsIHRoaXMuaW5kZXggLSAxKTtcbiAgICAgICAgICAgICAgICB0aHJvdyB0aGlzLl9jcmVhdGVFcnJvcih1bmtub3duRW50aXR5RXJyb3JNc2coZW50aXR5KSwgdGhpcy5fZ2V0U3BhbihzdGFydCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHN0YXJ0UG9zaXRpb24gPSB0aGlzLl9zYXZlUG9zaXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMuX2F0dGVtcHRDaGFyQ29kZVVudGlsRm4oaXNOYW1lZEVudGl0eUVuZCk7XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrICE9ICRTRU1JQ09MT04pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXN0b3JlUG9zaXRpb24oc3RhcnRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcmJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2FkdmFuY2UoKTtcbiAgICAgICAgICAgIHZhciBuYW1lXzEgPSB0aGlzLmlucHV0LnN1YnN0cmluZyhzdGFydC5vZmZzZXQgKyAxLCB0aGlzLmluZGV4IC0gMSk7XG4gICAgICAgICAgICB2YXIgY2hhciA9IGh0bWxfdGFnc18xLk5BTUVEX0VOVElUSUVTW25hbWVfMV07XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsoY2hhcikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyB0aGlzLl9jcmVhdGVFcnJvcih1bmtub3duRW50aXR5RXJyb3JNc2cobmFtZV8xKSwgdGhpcy5fZ2V0U3BhbihzdGFydCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNoYXI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIF9IdG1sVG9rZW5pemVyLnByb3RvdHlwZS5fY29uc3VtZVJhd1RleHQgPSBmdW5jdGlvbiAoZGVjb2RlRW50aXRpZXMsIGZpcnN0Q2hhck9mRW5kLCBhdHRlbXB0RW5kUmVzdCkge1xuICAgICAgICB2YXIgdGFnQ2xvc2VTdGFydDtcbiAgICAgICAgdmFyIHRleHRTdGFydCA9IHRoaXMuX2dldExvY2F0aW9uKCk7XG4gICAgICAgIHRoaXMuX2JlZ2luVG9rZW4oZGVjb2RlRW50aXRpZXMgPyBIdG1sVG9rZW5UeXBlLkVTQ0FQQUJMRV9SQVdfVEVYVCA6IEh0bWxUb2tlblR5cGUuUkFXX1RFWFQsIHRleHRTdGFydCk7XG4gICAgICAgIHZhciBwYXJ0cyA9IFtdO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgdGFnQ2xvc2VTdGFydCA9IHRoaXMuX2dldExvY2F0aW9uKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fYXR0ZW1wdENoYXJDb2RlKGZpcnN0Q2hhck9mRW5kKSAmJiBhdHRlbXB0RW5kUmVzdCgpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pbmRleCA+IHRhZ0Nsb3NlU3RhcnQub2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgcGFydHMucHVzaCh0aGlzLmlucHV0LnN1YnN0cmluZyh0YWdDbG9zZVN0YXJ0Lm9mZnNldCwgdGhpcy5pbmRleCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKHRoaXMucGVlayAhPT0gZmlyc3RDaGFyT2ZFbmQpIHtcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHRoaXMuX3JlYWRDaGFyKGRlY29kZUVudGl0aWVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZFRva2VuKFt0aGlzLl9wcm9jZXNzQ2FycmlhZ2VSZXR1cm5zKHBhcnRzLmpvaW4oJycpKV0sIHRhZ0Nsb3NlU3RhcnQpO1xuICAgIH07XG4gICAgX0h0bWxUb2tlbml6ZXIucHJvdG90eXBlLl9jb25zdW1lQ29tbWVudCA9IGZ1bmN0aW9uIChzdGFydCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9iZWdpblRva2VuKEh0bWxUb2tlblR5cGUuQ09NTUVOVF9TVEFSVCwgc3RhcnQpO1xuICAgICAgICB0aGlzLl9yZXF1aXJlQ2hhckNvZGUoJE1JTlVTKTtcbiAgICAgICAgdGhpcy5fZW5kVG9rZW4oW10pO1xuICAgICAgICB2YXIgdGV4dFRva2VuID0gdGhpcy5fY29uc3VtZVJhd1RleHQoZmFsc2UsICRNSU5VUywgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2F0dGVtcHRTdHIoJy0+Jyk7IH0pO1xuICAgICAgICB0aGlzLl9iZWdpblRva2VuKEh0bWxUb2tlblR5cGUuQ09NTUVOVF9FTkQsIHRleHRUb2tlbi5zb3VyY2VTcGFuLmVuZCk7XG4gICAgICAgIHRoaXMuX2VuZFRva2VuKFtdKTtcbiAgICB9O1xuICAgIF9IdG1sVG9rZW5pemVyLnByb3RvdHlwZS5fY29uc3VtZUNkYXRhID0gZnVuY3Rpb24gKHN0YXJ0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX2JlZ2luVG9rZW4oSHRtbFRva2VuVHlwZS5DREFUQV9TVEFSVCwgc3RhcnQpO1xuICAgICAgICB0aGlzLl9yZXF1aXJlU3RyKCdDREFUQVsnKTtcbiAgICAgICAgdGhpcy5fZW5kVG9rZW4oW10pO1xuICAgICAgICB2YXIgdGV4dFRva2VuID0gdGhpcy5fY29uc3VtZVJhd1RleHQoZmFsc2UsICRSQlJBQ0tFVCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2F0dGVtcHRTdHIoJ10+Jyk7IH0pO1xuICAgICAgICB0aGlzLl9iZWdpblRva2VuKEh0bWxUb2tlblR5cGUuQ0RBVEFfRU5ELCB0ZXh0VG9rZW4uc291cmNlU3Bhbi5lbmQpO1xuICAgICAgICB0aGlzLl9lbmRUb2tlbihbXSk7XG4gICAgfTtcbiAgICBfSHRtbFRva2VuaXplci5wcm90b3R5cGUuX2NvbnN1bWVEb2NUeXBlID0gZnVuY3Rpb24gKHN0YXJ0KSB7XG4gICAgICAgIHRoaXMuX2JlZ2luVG9rZW4oSHRtbFRva2VuVHlwZS5ET0NfVFlQRSwgc3RhcnQpO1xuICAgICAgICB0aGlzLl9hdHRlbXB0VW50aWxDaGFyKCRHVCk7XG4gICAgICAgIHRoaXMuX2FkdmFuY2UoKTtcbiAgICAgICAgdGhpcy5fZW5kVG9rZW4oW3RoaXMuaW5wdXQuc3Vic3RyaW5nKHN0YXJ0Lm9mZnNldCArIDIsIHRoaXMuaW5kZXggLSAxKV0pO1xuICAgIH07XG4gICAgX0h0bWxUb2tlbml6ZXIucHJvdG90eXBlLl9jb25zdW1lUHJlZml4QW5kTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5hbWVPclByZWZpeFN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgdmFyIHByZWZpeCA9IG51bGw7XG4gICAgICAgIHdoaWxlICh0aGlzLnBlZWsgIT09ICRDT0xPTiAmJiAhaXNQcmVmaXhFbmQodGhpcy5wZWVrKSkge1xuICAgICAgICAgICAgdGhpcy5fYWR2YW5jZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuYW1lU3RhcnQ7XG4gICAgICAgIGlmICh0aGlzLnBlZWsgPT09ICRDT0xPTikge1xuICAgICAgICAgICAgdGhpcy5fYWR2YW5jZSgpO1xuICAgICAgICAgICAgcHJlZml4ID0gdGhpcy5pbnB1dC5zdWJzdHJpbmcobmFtZU9yUHJlZml4U3RhcnQsIHRoaXMuaW5kZXggLSAxKTtcbiAgICAgICAgICAgIG5hbWVTdGFydCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuYW1lU3RhcnQgPSBuYW1lT3JQcmVmaXhTdGFydDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZXF1aXJlQ2hhckNvZGVVbnRpbEZuKGlzTmFtZUVuZCwgdGhpcy5pbmRleCA9PT0gbmFtZVN0YXJ0ID8gMSA6IDApO1xuICAgICAgICB2YXIgbmFtZSA9IHRoaXMuaW5wdXQuc3Vic3RyaW5nKG5hbWVTdGFydCwgdGhpcy5pbmRleCk7XG4gICAgICAgIHJldHVybiBbcHJlZml4LCBuYW1lXTtcbiAgICB9O1xuICAgIF9IdG1sVG9rZW5pemVyLnByb3RvdHlwZS5fY29uc3VtZVRhZ09wZW4gPSBmdW5jdGlvbiAoc3RhcnQpIHtcbiAgICAgICAgdmFyIHNhdmVkUG9zID0gdGhpcy5fc2F2ZVBvc2l0aW9uKCk7XG4gICAgICAgIHZhciBsb3dlcmNhc2VUYWdOYW1lO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFpc0FzY2lpTGV0dGVyKHRoaXMucGVlaykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyB0aGlzLl9jcmVhdGVFcnJvcih1bmV4cGVjdGVkQ2hhcmFjdGVyRXJyb3JNc2codGhpcy5wZWVrKSwgdGhpcy5fZ2V0U3BhbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBuYW1lU3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICAgICAgdGhpcy5fY29uc3VtZVRhZ09wZW5TdGFydChzdGFydCk7XG4gICAgICAgICAgICBsb3dlcmNhc2VUYWdOYW1lID0gdGhpcy5pbnB1dC5zdWJzdHJpbmcobmFtZVN0YXJ0LCB0aGlzLmluZGV4KS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5fYXR0ZW1wdENoYXJDb2RlVW50aWxGbihpc05vdFdoaXRlc3BhY2UpO1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMucGVlayAhPT0gJFNMQVNIICYmIHRoaXMucGVlayAhPT0gJEdUKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29uc3VtZUF0dHJpYnV0ZU5hbWUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdHRlbXB0Q2hhckNvZGVVbnRpbEZuKGlzTm90V2hpdGVzcGFjZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2F0dGVtcHRDaGFyQ29kZSgkRVEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2F0dGVtcHRDaGFyQ29kZVVudGlsRm4oaXNOb3RXaGl0ZXNwYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uc3VtZUF0dHJpYnV0ZVZhbHVlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2F0dGVtcHRDaGFyQ29kZVVudGlsRm4oaXNOb3RXaGl0ZXNwYWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2NvbnN1bWVUYWdPcGVuRW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgQ29udHJvbEZsb3dFcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIHN0YXJ0IHRhZyBpcyBpbnZhbGlkLCBhc3N1bWUgd2Ugd2FudCBhIFwiPFwiXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzdG9yZVBvc2l0aW9uKHNhdmVkUG9zKTtcbiAgICAgICAgICAgICAgICAvLyBCYWNrIHRvIGJhY2sgdGV4dCB0b2tlbnMgYXJlIG1lcmdlZCBhdCB0aGUgZW5kXG4gICAgICAgICAgICAgICAgdGhpcy5fYmVnaW5Ub2tlbihIdG1sVG9rZW5UeXBlLlRFWFQsIHN0YXJ0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmRUb2tlbihbJzwnXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGVudFRva2VuVHlwZSA9IGh0bWxfdGFnc18xLmdldEh0bWxUYWdEZWZpbml0aW9uKGxvd2VyY2FzZVRhZ05hbWUpLmNvbnRlbnRUeXBlO1xuICAgICAgICBpZiAoY29udGVudFRva2VuVHlwZSA9PT0gaHRtbF90YWdzXzEuSHRtbFRhZ0NvbnRlbnRUeXBlLlJBV19URVhUKSB7XG4gICAgICAgICAgICB0aGlzLl9jb25zdW1lUmF3VGV4dFdpdGhUYWdDbG9zZShsb3dlcmNhc2VUYWdOYW1lLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29udGVudFRva2VuVHlwZSA9PT0gaHRtbF90YWdzXzEuSHRtbFRhZ0NvbnRlbnRUeXBlLkVTQ0FQQUJMRV9SQVdfVEVYVCkge1xuICAgICAgICAgICAgdGhpcy5fY29uc3VtZVJhd1RleHRXaXRoVGFnQ2xvc2UobG93ZXJjYXNlVGFnTmFtZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIF9IdG1sVG9rZW5pemVyLnByb3RvdHlwZS5fY29uc3VtZVJhd1RleHRXaXRoVGFnQ2xvc2UgPSBmdW5jdGlvbiAobG93ZXJjYXNlVGFnTmFtZSwgZGVjb2RlRW50aXRpZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHRleHRUb2tlbiA9IHRoaXMuX2NvbnN1bWVSYXdUZXh0KGRlY29kZUVudGl0aWVzLCAkTFQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuX2F0dGVtcHRDaGFyQ29kZSgkU0xBU0gpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLl9hdHRlbXB0Q2hhckNvZGVVbnRpbEZuKGlzTm90V2hpdGVzcGFjZSk7XG4gICAgICAgICAgICBpZiAoIV90aGlzLl9hdHRlbXB0U3RyQ2FzZUluc2Vuc2l0aXZlKGxvd2VyY2FzZVRhZ05hbWUpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLl9hdHRlbXB0Q2hhckNvZGVVbnRpbEZuKGlzTm90V2hpdGVzcGFjZSk7XG4gICAgICAgICAgICBpZiAoIV90aGlzLl9hdHRlbXB0Q2hhckNvZGUoJEdUKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2JlZ2luVG9rZW4oSHRtbFRva2VuVHlwZS5UQUdfQ0xPU0UsIHRleHRUb2tlbi5zb3VyY2VTcGFuLmVuZCk7XG4gICAgICAgIHRoaXMuX2VuZFRva2VuKFtudWxsLCBsb3dlcmNhc2VUYWdOYW1lXSk7XG4gICAgfTtcbiAgICBfSHRtbFRva2VuaXplci5wcm90b3R5cGUuX2NvbnN1bWVUYWdPcGVuU3RhcnQgPSBmdW5jdGlvbiAoc3RhcnQpIHtcbiAgICAgICAgdGhpcy5fYmVnaW5Ub2tlbihIdG1sVG9rZW5UeXBlLlRBR19PUEVOX1NUQVJULCBzdGFydCk7XG4gICAgICAgIHZhciBwYXJ0cyA9IHRoaXMuX2NvbnN1bWVQcmVmaXhBbmROYW1lKCk7XG4gICAgICAgIHRoaXMuX2VuZFRva2VuKHBhcnRzKTtcbiAgICB9O1xuICAgIF9IdG1sVG9rZW5pemVyLnByb3RvdHlwZS5fY29uc3VtZUF0dHJpYnV0ZU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2JlZ2luVG9rZW4oSHRtbFRva2VuVHlwZS5BVFRSX05BTUUpO1xuICAgICAgICB2YXIgcHJlZml4QW5kTmFtZSA9IHRoaXMuX2NvbnN1bWVQcmVmaXhBbmROYW1lKCk7XG4gICAgICAgIHRoaXMuX2VuZFRva2VuKHByZWZpeEFuZE5hbWUpO1xuICAgIH07XG4gICAgX0h0bWxUb2tlbml6ZXIucHJvdG90eXBlLl9jb25zdW1lQXR0cmlidXRlVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2JlZ2luVG9rZW4oSHRtbFRva2VuVHlwZS5BVFRSX1ZBTFVFKTtcbiAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5wZWVrID09PSAkU1EgfHwgdGhpcy5wZWVrID09PSAkRFEpIHtcbiAgICAgICAgICAgIHZhciBxdW90ZUNoYXIgPSB0aGlzLnBlZWs7XG4gICAgICAgICAgICB0aGlzLl9hZHZhbmNlKCk7XG4gICAgICAgICAgICB2YXIgcGFydHMgPSBbXTtcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLnBlZWsgIT09IHF1b3RlQ2hhcikge1xuICAgICAgICAgICAgICAgIHBhcnRzLnB1c2godGhpcy5fcmVhZENoYXIodHJ1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWUgPSBwYXJ0cy5qb2luKCcnKTtcbiAgICAgICAgICAgIHRoaXMuX2FkdmFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZVN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVpcmVDaGFyQ29kZVVudGlsRm4oaXNOYW1lRW5kLCAxKTtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5pbnB1dC5zdWJzdHJpbmcodmFsdWVTdGFydCwgdGhpcy5pbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZW5kVG9rZW4oW3RoaXMuX3Byb2Nlc3NDYXJyaWFnZVJldHVybnModmFsdWUpXSk7XG4gICAgfTtcbiAgICBfSHRtbFRva2VuaXplci5wcm90b3R5cGUuX2NvbnN1bWVUYWdPcGVuRW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG9rZW5UeXBlID0gdGhpcy5fYXR0ZW1wdENoYXJDb2RlKCRTTEFTSCkgPyBIdG1sVG9rZW5UeXBlLlRBR19PUEVOX0VORF9WT0lEIDpcbiAgICAgICAgICAgIEh0bWxUb2tlblR5cGUuVEFHX09QRU5fRU5EO1xuICAgICAgICB0aGlzLl9iZWdpblRva2VuKHRva2VuVHlwZSk7XG4gICAgICAgIHRoaXMuX3JlcXVpcmVDaGFyQ29kZSgkR1QpO1xuICAgICAgICB0aGlzLl9lbmRUb2tlbihbXSk7XG4gICAgfTtcbiAgICBfSHRtbFRva2VuaXplci5wcm90b3R5cGUuX2NvbnN1bWVUYWdDbG9zZSA9IGZ1bmN0aW9uIChzdGFydCkge1xuICAgICAgICB0aGlzLl9iZWdpblRva2VuKEh0bWxUb2tlblR5cGUuVEFHX0NMT1NFLCBzdGFydCk7XG4gICAgICAgIHRoaXMuX2F0dGVtcHRDaGFyQ29kZVVudGlsRm4oaXNOb3RXaGl0ZXNwYWNlKTtcbiAgICAgICAgdmFyIHByZWZpeEFuZE5hbWU7XG4gICAgICAgIHByZWZpeEFuZE5hbWUgPSB0aGlzLl9jb25zdW1lUHJlZml4QW5kTmFtZSgpO1xuICAgICAgICB0aGlzLl9hdHRlbXB0Q2hhckNvZGVVbnRpbEZuKGlzTm90V2hpdGVzcGFjZSk7XG4gICAgICAgIHRoaXMuX3JlcXVpcmVDaGFyQ29kZSgkR1QpO1xuICAgICAgICB0aGlzLl9lbmRUb2tlbihwcmVmaXhBbmROYW1lKTtcbiAgICB9O1xuICAgIF9IdG1sVG9rZW5pemVyLnByb3RvdHlwZS5fY29uc3VtZUV4cGFuc2lvbkZvcm1TdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYmVnaW5Ub2tlbihIdG1sVG9rZW5UeXBlLkVYUEFOU0lPTl9GT1JNX1NUQVJULCB0aGlzLl9nZXRMb2NhdGlvbigpKTtcbiAgICAgICAgdGhpcy5fcmVxdWlyZUNoYXJDb2RlKCRMQlJBQ0UpO1xuICAgICAgICB0aGlzLl9lbmRUb2tlbihbXSk7XG4gICAgICAgIHRoaXMuX2JlZ2luVG9rZW4oSHRtbFRva2VuVHlwZS5SQVdfVEVYVCwgdGhpcy5fZ2V0TG9jYXRpb24oKSk7XG4gICAgICAgIHZhciBjb25kaXRpb24gPSB0aGlzLl9yZWFkVW50aWwoJENPTU1BKTtcbiAgICAgICAgdGhpcy5fZW5kVG9rZW4oW2NvbmRpdGlvbl0sIHRoaXMuX2dldExvY2F0aW9uKCkpO1xuICAgICAgICB0aGlzLl9yZXF1aXJlQ2hhckNvZGUoJENPTU1BKTtcbiAgICAgICAgdGhpcy5fYXR0ZW1wdENoYXJDb2RlVW50aWxGbihpc05vdFdoaXRlc3BhY2UpO1xuICAgICAgICB0aGlzLl9iZWdpblRva2VuKEh0bWxUb2tlblR5cGUuUkFXX1RFWFQsIHRoaXMuX2dldExvY2F0aW9uKCkpO1xuICAgICAgICB2YXIgdHlwZSA9IHRoaXMuX3JlYWRVbnRpbCgkQ09NTUEpO1xuICAgICAgICB0aGlzLl9lbmRUb2tlbihbdHlwZV0sIHRoaXMuX2dldExvY2F0aW9uKCkpO1xuICAgICAgICB0aGlzLl9yZXF1aXJlQ2hhckNvZGUoJENPTU1BKTtcbiAgICAgICAgdGhpcy5fYXR0ZW1wdENoYXJDb2RlVW50aWxGbihpc05vdFdoaXRlc3BhY2UpO1xuICAgICAgICB0aGlzLmV4cGFuc2lvbkNhc2VTdGFjay5wdXNoKEh0bWxUb2tlblR5cGUuRVhQQU5TSU9OX0ZPUk1fU1RBUlQpO1xuICAgIH07XG4gICAgX0h0bWxUb2tlbml6ZXIucHJvdG90eXBlLl9jb25zdW1lRXhwYW5zaW9uQ2FzZVN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9yZXF1aXJlQ2hhckNvZGUoJEVRKTtcbiAgICAgICAgdGhpcy5fYmVnaW5Ub2tlbihIdG1sVG9rZW5UeXBlLkVYUEFOU0lPTl9DQVNFX1ZBTFVFLCB0aGlzLl9nZXRMb2NhdGlvbigpKTtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fcmVhZFVudGlsKCRMQlJBQ0UpLnRyaW0oKTtcbiAgICAgICAgdGhpcy5fZW5kVG9rZW4oW3ZhbHVlXSwgdGhpcy5fZ2V0TG9jYXRpb24oKSk7XG4gICAgICAgIHRoaXMuX2F0dGVtcHRDaGFyQ29kZVVudGlsRm4oaXNOb3RXaGl0ZXNwYWNlKTtcbiAgICAgICAgdGhpcy5fYmVnaW5Ub2tlbihIdG1sVG9rZW5UeXBlLkVYUEFOU0lPTl9DQVNFX0VYUF9TVEFSVCwgdGhpcy5fZ2V0TG9jYXRpb24oKSk7XG4gICAgICAgIHRoaXMuX3JlcXVpcmVDaGFyQ29kZSgkTEJSQUNFKTtcbiAgICAgICAgdGhpcy5fZW5kVG9rZW4oW10sIHRoaXMuX2dldExvY2F0aW9uKCkpO1xuICAgICAgICB0aGlzLl9hdHRlbXB0Q2hhckNvZGVVbnRpbEZuKGlzTm90V2hpdGVzcGFjZSk7XG4gICAgICAgIHRoaXMuZXhwYW5zaW9uQ2FzZVN0YWNrLnB1c2goSHRtbFRva2VuVHlwZS5FWFBBTlNJT05fQ0FTRV9FWFBfU1RBUlQpO1xuICAgIH07XG4gICAgX0h0bWxUb2tlbml6ZXIucHJvdG90eXBlLl9jb25zdW1lRXhwYW5zaW9uQ2FzZUVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYmVnaW5Ub2tlbihIdG1sVG9rZW5UeXBlLkVYUEFOU0lPTl9DQVNFX0VYUF9FTkQsIHRoaXMuX2dldExvY2F0aW9uKCkpO1xuICAgICAgICB0aGlzLl9yZXF1aXJlQ2hhckNvZGUoJFJCUkFDRSk7XG4gICAgICAgIHRoaXMuX2VuZFRva2VuKFtdLCB0aGlzLl9nZXRMb2NhdGlvbigpKTtcbiAgICAgICAgdGhpcy5fYXR0ZW1wdENoYXJDb2RlVW50aWxGbihpc05vdFdoaXRlc3BhY2UpO1xuICAgICAgICB0aGlzLmV4cGFuc2lvbkNhc2VTdGFjay5wb3AoKTtcbiAgICB9O1xuICAgIF9IdG1sVG9rZW5pemVyLnByb3RvdHlwZS5fY29uc3VtZUV4cGFuc2lvbkZvcm1FbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2JlZ2luVG9rZW4oSHRtbFRva2VuVHlwZS5FWFBBTlNJT05fRk9STV9FTkQsIHRoaXMuX2dldExvY2F0aW9uKCkpO1xuICAgICAgICB0aGlzLl9yZXF1aXJlQ2hhckNvZGUoJFJCUkFDRSk7XG4gICAgICAgIHRoaXMuX2VuZFRva2VuKFtdKTtcbiAgICAgICAgdGhpcy5leHBhbnNpb25DYXNlU3RhY2sucG9wKCk7XG4gICAgfTtcbiAgICBfSHRtbFRva2VuaXplci5wcm90b3R5cGUuX2NvbnN1bWVUZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLl9nZXRMb2NhdGlvbigpO1xuICAgICAgICB0aGlzLl9iZWdpblRva2VuKEh0bWxUb2tlblR5cGUuVEVYVCwgc3RhcnQpO1xuICAgICAgICB2YXIgcGFydHMgPSBbXTtcbiAgICAgICAgdmFyIGludGVycG9sYXRpb24gPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMucGVlayA9PT0gJExCUkFDRSAmJiB0aGlzLm5leHRQZWVrID09PSAkTEJSQUNFKSB7XG4gICAgICAgICAgICBwYXJ0cy5wdXNoKHRoaXMuX3JlYWRDaGFyKHRydWUpKTtcbiAgICAgICAgICAgIHBhcnRzLnB1c2godGhpcy5fcmVhZENoYXIodHJ1ZSkpO1xuICAgICAgICAgICAgaW50ZXJwb2xhdGlvbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJ0cy5wdXNoKHRoaXMuX3JlYWRDaGFyKHRydWUpKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoIXRoaXMuaXNUZXh0RW5kKGludGVycG9sYXRpb24pKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrID09PSAkTEJSQUNFICYmIHRoaXMubmV4dFBlZWsgPT09ICRMQlJBQ0UpIHtcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHRoaXMuX3JlYWRDaGFyKHRydWUpKTtcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHRoaXMuX3JlYWRDaGFyKHRydWUpKTtcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMucGVlayA9PT0gJFJCUkFDRSAmJiB0aGlzLm5leHRQZWVrID09PSAkUkJSQUNFICYmIGludGVycG9sYXRpb24pIHtcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHRoaXMuX3JlYWRDaGFyKHRydWUpKTtcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHRoaXMuX3JlYWRDaGFyKHRydWUpKTtcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHRoaXMuX3JlYWRDaGFyKHRydWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbmRUb2tlbihbdGhpcy5fcHJvY2Vzc0NhcnJpYWdlUmV0dXJucyhwYXJ0cy5qb2luKCcnKSldKTtcbiAgICB9O1xuICAgIF9IdG1sVG9rZW5pemVyLnByb3RvdHlwZS5pc1RleHRFbmQgPSBmdW5jdGlvbiAoaW50ZXJwb2xhdGlvbikge1xuICAgICAgICBpZiAodGhpcy5wZWVrID09PSAkTFQgfHwgdGhpcy5wZWVrID09PSAkRU9GKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmICh0aGlzLnRva2VuaXplRXhwYW5zaW9uRm9ybXMpIHtcbiAgICAgICAgICAgIGlmIChpc1NwZWNpYWxGb3JtU3RhcnQodGhpcy5wZWVrLCB0aGlzLm5leHRQZWVrKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsgPT09ICRSQlJBQ0UgJiYgIWludGVycG9sYXRpb24gJiZcbiAgICAgICAgICAgICAgICAodGhpcy5pc0luRXhwYW5zaW9uQ2FzZSgpIHx8IHRoaXMuaXNJbkV4cGFuc2lvbkZvcm0oKSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgX0h0bWxUb2tlbml6ZXIucHJvdG90eXBlLl9zYXZlUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5wZWVrLCB0aGlzLmluZGV4LCB0aGlzLmNvbHVtbiwgdGhpcy5saW5lLCB0aGlzLnRva2Vucy5sZW5ndGhdO1xuICAgIH07XG4gICAgX0h0bWxUb2tlbml6ZXIucHJvdG90eXBlLl9yZWFkVW50aWwgPSBmdW5jdGlvbiAoY2hhcikge1xuICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmluZGV4O1xuICAgICAgICB0aGlzLl9hdHRlbXB0VW50aWxDaGFyKGNoYXIpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbnB1dC5zdWJzdHJpbmcoc3RhcnQsIHRoaXMuaW5kZXgpO1xuICAgIH07XG4gICAgX0h0bWxUb2tlbml6ZXIucHJvdG90eXBlLl9yZXN0b3JlUG9zaXRpb24gPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5wZWVrID0gcG9zaXRpb25bMF07XG4gICAgICAgIHRoaXMuaW5kZXggPSBwb3NpdGlvblsxXTtcbiAgICAgICAgdGhpcy5jb2x1bW4gPSBwb3NpdGlvblsyXTtcbiAgICAgICAgdGhpcy5saW5lID0gcG9zaXRpb25bM107XG4gICAgICAgIHZhciBuYlRva2VucyA9IHBvc2l0aW9uWzRdO1xuICAgICAgICBpZiAobmJUb2tlbnMgPCB0aGlzLnRva2Vucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBhbnkgZXh0cmEgdG9rZW5zXG4gICAgICAgICAgICB0aGlzLnRva2VucyA9IGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5zbGljZSh0aGlzLnRva2VucywgMCwgbmJUb2tlbnMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBfSHRtbFRva2VuaXplci5wcm90b3R5cGUuaXNJbkV4cGFuc2lvbkNhc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4cGFuc2lvbkNhc2VTdGFjay5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICB0aGlzLmV4cGFuc2lvbkNhc2VTdGFja1t0aGlzLmV4cGFuc2lvbkNhc2VTdGFjay5sZW5ndGggLSAxXSA9PT1cbiAgICAgICAgICAgICAgICBIdG1sVG9rZW5UeXBlLkVYUEFOU0lPTl9DQVNFX0VYUF9TVEFSVDtcbiAgICB9O1xuICAgIF9IdG1sVG9rZW5pemVyLnByb3RvdHlwZS5pc0luRXhwYW5zaW9uRm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhwYW5zaW9uQ2FzZVN0YWNrLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgIHRoaXMuZXhwYW5zaW9uQ2FzZVN0YWNrW3RoaXMuZXhwYW5zaW9uQ2FzZVN0YWNrLmxlbmd0aCAtIDFdID09PVxuICAgICAgICAgICAgICAgIEh0bWxUb2tlblR5cGUuRVhQQU5TSU9OX0ZPUk1fU1RBUlQ7XG4gICAgfTtcbiAgICByZXR1cm4gX0h0bWxUb2tlbml6ZXI7XG59KCkpO1xuZnVuY3Rpb24gaXNOb3RXaGl0ZXNwYWNlKGNvZGUpIHtcbiAgICByZXR1cm4gIWlzV2hpdGVzcGFjZShjb2RlKSB8fCBjb2RlID09PSAkRU9GO1xufVxuZnVuY3Rpb24gaXNXaGl0ZXNwYWNlKGNvZGUpIHtcbiAgICByZXR1cm4gKGNvZGUgPj0gJFRBQiAmJiBjb2RlIDw9ICRTUEFDRSkgfHwgKGNvZGUgPT09ICROQlNQKTtcbn1cbmZ1bmN0aW9uIGlzTmFtZUVuZChjb2RlKSB7XG4gICAgcmV0dXJuIGlzV2hpdGVzcGFjZShjb2RlKSB8fCBjb2RlID09PSAkR1QgfHwgY29kZSA9PT0gJFNMQVNIIHx8IGNvZGUgPT09ICRTUSB8fCBjb2RlID09PSAkRFEgfHxcbiAgICAgICAgY29kZSA9PT0gJEVRO1xufVxuZnVuY3Rpb24gaXNQcmVmaXhFbmQoY29kZSkge1xuICAgIHJldHVybiAoY29kZSA8ICRhIHx8ICR6IDwgY29kZSkgJiYgKGNvZGUgPCAkQSB8fCAkWiA8IGNvZGUpICYmIChjb2RlIDwgJDAgfHwgY29kZSA+ICQ5KTtcbn1cbmZ1bmN0aW9uIGlzRGlnaXRFbnRpdHlFbmQoY29kZSkge1xuICAgIHJldHVybiBjb2RlID09ICRTRU1JQ09MT04gfHwgY29kZSA9PSAkRU9GIHx8ICFpc0FzY2lpSGV4RGlnaXQoY29kZSk7XG59XG5mdW5jdGlvbiBpc05hbWVkRW50aXR5RW5kKGNvZGUpIHtcbiAgICByZXR1cm4gY29kZSA9PSAkU0VNSUNPTE9OIHx8IGNvZGUgPT0gJEVPRiB8fCAhaXNBc2NpaUxldHRlcihjb2RlKTtcbn1cbmZ1bmN0aW9uIGlzU3BlY2lhbEZvcm1TdGFydChwZWVrLCBuZXh0UGVlaykge1xuICAgIHJldHVybiBwZWVrID09PSAkTEJSQUNFICYmIG5leHRQZWVrICE9ICRMQlJBQ0U7XG59XG5mdW5jdGlvbiBpc0FzY2lpTGV0dGVyKGNvZGUpIHtcbiAgICByZXR1cm4gY29kZSA+PSAkYSAmJiBjb2RlIDw9ICR6IHx8IGNvZGUgPj0gJEEgJiYgY29kZSA8PSAkWjtcbn1cbmZ1bmN0aW9uIGlzQXNjaWlIZXhEaWdpdChjb2RlKSB7XG4gICAgcmV0dXJuIGNvZGUgPj0gJGEgJiYgY29kZSA8PSAkZiB8fCBjb2RlID49ICRBICYmIGNvZGUgPD0gJEYgfHwgY29kZSA+PSAkMCAmJiBjb2RlIDw9ICQ5O1xufVxuZnVuY3Rpb24gY29tcGFyZUNoYXJDb2RlQ2FzZUluc2Vuc2l0aXZlKGNvZGUxLCBjb2RlMikge1xuICAgIHJldHVybiB0b1VwcGVyQ2FzZUNoYXJDb2RlKGNvZGUxKSA9PSB0b1VwcGVyQ2FzZUNoYXJDb2RlKGNvZGUyKTtcbn1cbmZ1bmN0aW9uIHRvVXBwZXJDYXNlQ2hhckNvZGUoY29kZSkge1xuICAgIHJldHVybiBjb2RlID49ICRhICYmIGNvZGUgPD0gJHogPyBjb2RlIC0gJGEgKyAkQSA6IGNvZGU7XG59XG5mdW5jdGlvbiBtZXJnZVRleHRUb2tlbnMoc3JjVG9rZW5zKSB7XG4gICAgdmFyIGRzdFRva2VucyA9IFtdO1xuICAgIHZhciBsYXN0RHN0VG9rZW47XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcmNUb2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRva2VuID0gc3JjVG9rZW5zW2ldO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChsYXN0RHN0VG9rZW4pICYmIGxhc3REc3RUb2tlbi50eXBlID09IEh0bWxUb2tlblR5cGUuVEVYVCAmJlxuICAgICAgICAgICAgdG9rZW4udHlwZSA9PSBIdG1sVG9rZW5UeXBlLlRFWFQpIHtcbiAgICAgICAgICAgIGxhc3REc3RUb2tlbi5wYXJ0c1swXSArPSB0b2tlbi5wYXJ0c1swXTtcbiAgICAgICAgICAgIGxhc3REc3RUb2tlbi5zb3VyY2VTcGFuLmVuZCA9IHRva2VuLnNvdXJjZVNwYW4uZW5kO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGFzdERzdFRva2VuID0gdG9rZW47XG4gICAgICAgICAgICBkc3RUb2tlbnMucHVzaChsYXN0RHN0VG9rZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkc3RUb2tlbnM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odG1sX2xleGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIGh0bWxfYXN0XzEgPSByZXF1aXJlKCcuL2h0bWxfYXN0Jyk7XG52YXIgaHRtbF9sZXhlcl8xID0gcmVxdWlyZSgnLi9odG1sX2xleGVyJyk7XG52YXIgcGFyc2VfdXRpbF8xID0gcmVxdWlyZSgnLi9wYXJzZV91dGlsJyk7XG52YXIgaHRtbF90YWdzXzEgPSByZXF1aXJlKCcuL2h0bWxfdGFncycpO1xudmFyIEh0bWxUcmVlRXJyb3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhIdG1sVHJlZUVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEh0bWxUcmVlRXJyb3IoZWxlbWVudE5hbWUsIHNwYW4sIG1zZykge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBzcGFuLCBtc2cpO1xuICAgICAgICB0aGlzLmVsZW1lbnROYW1lID0gZWxlbWVudE5hbWU7XG4gICAgfVxuICAgIEh0bWxUcmVlRXJyb3IuY3JlYXRlID0gZnVuY3Rpb24gKGVsZW1lbnROYW1lLCBzcGFuLCBtc2cpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBIdG1sVHJlZUVycm9yKGVsZW1lbnROYW1lLCBzcGFuLCBtc2cpO1xuICAgIH07XG4gICAgcmV0dXJuIEh0bWxUcmVlRXJyb3I7XG59KHBhcnNlX3V0aWxfMS5QYXJzZUVycm9yKSk7XG5leHBvcnRzLkh0bWxUcmVlRXJyb3IgPSBIdG1sVHJlZUVycm9yO1xudmFyIEh0bWxQYXJzZVRyZWVSZXN1bHQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEh0bWxQYXJzZVRyZWVSZXN1bHQocm9vdE5vZGVzLCBlcnJvcnMpIHtcbiAgICAgICAgdGhpcy5yb290Tm9kZXMgPSByb290Tm9kZXM7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgIH1cbiAgICByZXR1cm4gSHRtbFBhcnNlVHJlZVJlc3VsdDtcbn0oKSk7XG5leHBvcnRzLkh0bWxQYXJzZVRyZWVSZXN1bHQgPSBIdG1sUGFyc2VUcmVlUmVzdWx0O1xudmFyIEh0bWxQYXJzZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEh0bWxQYXJzZXIoKSB7XG4gICAgfVxuICAgIEh0bWxQYXJzZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKHNvdXJjZUNvbnRlbnQsIHNvdXJjZVVybCwgcGFyc2VFeHBhbnNpb25Gb3Jtcykge1xuICAgICAgICBpZiAocGFyc2VFeHBhbnNpb25Gb3JtcyA9PT0gdm9pZCAwKSB7IHBhcnNlRXhwYW5zaW9uRm9ybXMgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgdG9rZW5zQW5kRXJyb3JzID0gaHRtbF9sZXhlcl8xLnRva2VuaXplSHRtbChzb3VyY2VDb250ZW50LCBzb3VyY2VVcmwsIHBhcnNlRXhwYW5zaW9uRm9ybXMpO1xuICAgICAgICB2YXIgdHJlZUFuZEVycm9ycyA9IG5ldyBUcmVlQnVpbGRlcih0b2tlbnNBbmRFcnJvcnMudG9rZW5zKS5idWlsZCgpO1xuICAgICAgICByZXR1cm4gbmV3IEh0bWxQYXJzZVRyZWVSZXN1bHQodHJlZUFuZEVycm9ycy5yb290Tm9kZXMsIHRva2Vuc0FuZEVycm9ycy5lcnJvcnNcbiAgICAgICAgICAgIC5jb25jYXQodHJlZUFuZEVycm9ycy5lcnJvcnMpKTtcbiAgICB9O1xuICAgIEh0bWxQYXJzZXIuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuSW5qZWN0YWJsZSB9LFxuICAgIF07XG4gICAgcmV0dXJuIEh0bWxQYXJzZXI7XG59KCkpO1xuZXhwb3J0cy5IdG1sUGFyc2VyID0gSHRtbFBhcnNlcjtcbnZhciBUcmVlQnVpbGRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVHJlZUJ1aWxkZXIodG9rZW5zKSB7XG4gICAgICAgIHRoaXMudG9rZW5zID0gdG9rZW5zO1xuICAgICAgICB0aGlzLmluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMucm9vdE5vZGVzID0gW107XG4gICAgICAgIHRoaXMuZXJyb3JzID0gW107XG4gICAgICAgIHRoaXMuZWxlbWVudFN0YWNrID0gW107XG4gICAgICAgIHRoaXMuX2FkdmFuY2UoKTtcbiAgICB9XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5wZWVrLnR5cGUgIT09IGh0bWxfbGV4ZXJfMS5IdG1sVG9rZW5UeXBlLkVPRikge1xuICAgICAgICAgICAgaWYgKHRoaXMucGVlay50eXBlID09PSBodG1sX2xleGVyXzEuSHRtbFRva2VuVHlwZS5UQUdfT1BFTl9TVEFSVCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnN1bWVTdGFydFRhZyh0aGlzLl9hZHZhbmNlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wZWVrLnR5cGUgPT09IGh0bWxfbGV4ZXJfMS5IdG1sVG9rZW5UeXBlLlRBR19DTE9TRSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnN1bWVFbmRUYWcodGhpcy5fYWR2YW5jZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMucGVlay50eXBlID09PSBodG1sX2xleGVyXzEuSHRtbFRva2VuVHlwZS5DREFUQV9TVEFSVCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nsb3NlVm9pZEVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb25zdW1lQ2RhdGEodGhpcy5fYWR2YW5jZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMucGVlay50eXBlID09PSBodG1sX2xleGVyXzEuSHRtbFRva2VuVHlwZS5DT01NRU5UX1NUQVJUKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xvc2VWb2lkRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnN1bWVDb21tZW50KHRoaXMuX2FkdmFuY2UoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBlZWsudHlwZSA9PT0gaHRtbF9sZXhlcl8xLkh0bWxUb2tlblR5cGUuVEVYVCB8fFxuICAgICAgICAgICAgICAgIHRoaXMucGVlay50eXBlID09PSBodG1sX2xleGVyXzEuSHRtbFRva2VuVHlwZS5SQVdfVEVYVCB8fFxuICAgICAgICAgICAgICAgIHRoaXMucGVlay50eXBlID09PSBodG1sX2xleGVyXzEuSHRtbFRva2VuVHlwZS5FU0NBUEFCTEVfUkFXX1RFWFQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbG9zZVZvaWRFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29uc3VtZVRleHQodGhpcy5fYWR2YW5jZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMucGVlay50eXBlID09PSBodG1sX2xleGVyXzEuSHRtbFRva2VuVHlwZS5FWFBBTlNJT05fRk9STV9TVEFSVCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnN1bWVFeHBhbnNpb24odGhpcy5fYWR2YW5jZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNraXAgYWxsIG90aGVyIHRva2Vucy4uLlxuICAgICAgICAgICAgICAgIHRoaXMuX2FkdmFuY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEh0bWxQYXJzZVRyZWVSZXN1bHQodGhpcy5yb290Tm9kZXMsIHRoaXMuZXJyb3JzKTtcbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5fYWR2YW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHByZXYgPSB0aGlzLnBlZWs7XG4gICAgICAgIGlmICh0aGlzLmluZGV4IDwgdGhpcy50b2tlbnMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgLy8gTm90ZTogdGhlcmUgaXMgYWx3YXlzIGFuIEVPRiB0b2tlbiBhdCB0aGUgZW5kXG4gICAgICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZWVrID0gdGhpcy50b2tlbnNbdGhpcy5pbmRleF07XG4gICAgICAgIHJldHVybiBwcmV2O1xuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLl9hZHZhbmNlSWYgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBpZiAodGhpcy5wZWVrLnR5cGUgPT09IHR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZHZhbmNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuX2NvbnN1bWVDZGF0YSA9IGZ1bmN0aW9uIChzdGFydFRva2VuKSB7XG4gICAgICAgIHRoaXMuX2NvbnN1bWVUZXh0KHRoaXMuX2FkdmFuY2UoKSk7XG4gICAgICAgIHRoaXMuX2FkdmFuY2VJZihodG1sX2xleGVyXzEuSHRtbFRva2VuVHlwZS5DREFUQV9FTkQpO1xuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLl9jb25zdW1lQ29tbWVudCA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICB2YXIgdGV4dCA9IHRoaXMuX2FkdmFuY2VJZihodG1sX2xleGVyXzEuSHRtbFRva2VuVHlwZS5SQVdfVEVYVCk7XG4gICAgICAgIHRoaXMuX2FkdmFuY2VJZihodG1sX2xleGVyXzEuSHRtbFRva2VuVHlwZS5DT01NRU5UX0VORCk7XG4gICAgICAgIHZhciB2YWx1ZSA9IGxhbmdfMS5pc1ByZXNlbnQodGV4dCkgPyB0ZXh0LnBhcnRzWzBdLnRyaW0oKSA6IG51bGw7XG4gICAgICAgIHRoaXMuX2FkZFRvUGFyZW50KG5ldyBodG1sX2FzdF8xLkh0bWxDb21tZW50QXN0KHZhbHVlLCB0b2tlbi5zb3VyY2VTcGFuKSk7XG4gICAgfTtcbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuX2NvbnN1bWVFeHBhbnNpb24gPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgdmFyIHN3aXRjaFZhbHVlID0gdGhpcy5fYWR2YW5jZSgpO1xuICAgICAgICB2YXIgdHlwZSA9IHRoaXMuX2FkdmFuY2UoKTtcbiAgICAgICAgdmFyIGNhc2VzID0gW107XG4gICAgICAgIC8vIHJlYWQgPVxuICAgICAgICB3aGlsZSAodGhpcy5wZWVrLnR5cGUgPT09IGh0bWxfbGV4ZXJfMS5IdG1sVG9rZW5UeXBlLkVYUEFOU0lPTl9DQVNFX1ZBTFVFKSB7XG4gICAgICAgICAgICB2YXIgZXhwQ2FzZSA9IHRoaXMuX3BhcnNlRXhwYW5zaW9uQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKGV4cENhc2UpKVxuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gZXJyb3JcbiAgICAgICAgICAgIGNhc2VzLnB1c2goZXhwQ2FzZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVhZCB0aGUgZmluYWwgfVxuICAgICAgICBpZiAodGhpcy5wZWVrLnR5cGUgIT09IGh0bWxfbGV4ZXJfMS5IdG1sVG9rZW5UeXBlLkVYUEFOU0lPTl9GT1JNX0VORCkge1xuICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaChIdG1sVHJlZUVycm9yLmNyZWF0ZShudWxsLCB0aGlzLnBlZWsuc291cmNlU3BhbiwgXCJJbnZhbGlkIGV4cGFuc2lvbiBmb3JtLiBNaXNzaW5nICd9Jy5cIikpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FkdmFuY2UoKTtcbiAgICAgICAgdmFyIG1haW5Tb3VyY2VTcGFuID0gbmV3IHBhcnNlX3V0aWxfMS5QYXJzZVNvdXJjZVNwYW4odG9rZW4uc291cmNlU3Bhbi5zdGFydCwgdGhpcy5wZWVrLnNvdXJjZVNwYW4uZW5kKTtcbiAgICAgICAgdGhpcy5fYWRkVG9QYXJlbnQobmV3IGh0bWxfYXN0XzEuSHRtbEV4cGFuc2lvbkFzdChzd2l0Y2hWYWx1ZS5wYXJ0c1swXSwgdHlwZS5wYXJ0c1swXSwgY2FzZXMsIG1haW5Tb3VyY2VTcGFuLCBzd2l0Y2hWYWx1ZS5zb3VyY2VTcGFuKSk7XG4gICAgfTtcbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuX3BhcnNlRXhwYW5zaW9uQ2FzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fYWR2YW5jZSgpO1xuICAgICAgICAvLyByZWFkIHtcbiAgICAgICAgaWYgKHRoaXMucGVlay50eXBlICE9PSBodG1sX2xleGVyXzEuSHRtbFRva2VuVHlwZS5FWFBBTlNJT05fQ0FTRV9FWFBfU1RBUlQpIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goSHRtbFRyZWVFcnJvci5jcmVhdGUobnVsbCwgdGhpcy5wZWVrLnNvdXJjZVNwYW4sIFwiSW52YWxpZCBleHBhbnNpb24gZm9ybS4gTWlzc2luZyAneycuLFwiKSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyByZWFkIHVudGlsIH1cbiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5fYWR2YW5jZSgpO1xuICAgICAgICB2YXIgZXhwID0gdGhpcy5fY29sbGVjdEV4cGFuc2lvbkV4cFRva2VucyhzdGFydCk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhleHApKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBlbmQgPSB0aGlzLl9hZHZhbmNlKCk7XG4gICAgICAgIGV4cC5wdXNoKG5ldyBodG1sX2xleGVyXzEuSHRtbFRva2VuKGh0bWxfbGV4ZXJfMS5IdG1sVG9rZW5UeXBlLkVPRiwgW10sIGVuZC5zb3VyY2VTcGFuKSk7XG4gICAgICAgIC8vIHBhcnNlIGV2ZXJ5dGhpbmcgaW4gYmV0d2VlbiB7IGFuZCB9XG4gICAgICAgIHZhciBwYXJzZWRFeHAgPSBuZXcgVHJlZUJ1aWxkZXIoZXhwKS5idWlsZCgpO1xuICAgICAgICBpZiAocGFyc2VkRXhwLmVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLmNvbmNhdChwYXJzZWRFeHAuZXJyb3JzKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzb3VyY2VTcGFuID0gbmV3IHBhcnNlX3V0aWxfMS5QYXJzZVNvdXJjZVNwYW4odmFsdWUuc291cmNlU3Bhbi5zdGFydCwgZW5kLnNvdXJjZVNwYW4uZW5kKTtcbiAgICAgICAgdmFyIGV4cFNvdXJjZVNwYW4gPSBuZXcgcGFyc2VfdXRpbF8xLlBhcnNlU291cmNlU3BhbihzdGFydC5zb3VyY2VTcGFuLnN0YXJ0LCBlbmQuc291cmNlU3Bhbi5lbmQpO1xuICAgICAgICByZXR1cm4gbmV3IGh0bWxfYXN0XzEuSHRtbEV4cGFuc2lvbkNhc2VBc3QodmFsdWUucGFydHNbMF0sIHBhcnNlZEV4cC5yb290Tm9kZXMsIHNvdXJjZVNwYW4sIHZhbHVlLnNvdXJjZVNwYW4sIGV4cFNvdXJjZVNwYW4pO1xuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLl9jb2xsZWN0RXhwYW5zaW9uRXhwVG9rZW5zID0gZnVuY3Rpb24gKHN0YXJ0KSB7XG4gICAgICAgIHZhciBleHAgPSBbXTtcbiAgICAgICAgdmFyIGV4cGFuc2lvbkZvcm1TdGFjayA9IFtodG1sX2xleGVyXzEuSHRtbFRva2VuVHlwZS5FWFBBTlNJT05fQ0FTRV9FWFBfU1RBUlRdO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGVlay50eXBlID09PSBodG1sX2xleGVyXzEuSHRtbFRva2VuVHlwZS5FWFBBTlNJT05fRk9STV9TVEFSVCB8fFxuICAgICAgICAgICAgICAgIHRoaXMucGVlay50eXBlID09PSBodG1sX2xleGVyXzEuSHRtbFRva2VuVHlwZS5FWFBBTlNJT05fQ0FTRV9FWFBfU1RBUlQpIHtcbiAgICAgICAgICAgICAgICBleHBhbnNpb25Gb3JtU3RhY2sucHVzaCh0aGlzLnBlZWsudHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrLnR5cGUgPT09IGh0bWxfbGV4ZXJfMS5IdG1sVG9rZW5UeXBlLkVYUEFOU0lPTl9DQVNFX0VYUF9FTkQpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdE9uU3RhY2soZXhwYW5zaW9uRm9ybVN0YWNrLCBodG1sX2xleGVyXzEuSHRtbFRva2VuVHlwZS5FWFBBTlNJT05fQ0FTRV9FWFBfU1RBUlQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGFuc2lvbkZvcm1TdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cGFuc2lvbkZvcm1TdGFjay5sZW5ndGggPT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBleHA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKEh0bWxUcmVlRXJyb3IuY3JlYXRlKG51bGwsIHN0YXJ0LnNvdXJjZVNwYW4sIFwiSW52YWxpZCBleHBhbnNpb24gZm9ybS4gTWlzc2luZyAnfScuXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMucGVlay50eXBlID09PSBodG1sX2xleGVyXzEuSHRtbFRva2VuVHlwZS5FWFBBTlNJT05fRk9STV9FTkQpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdE9uU3RhY2soZXhwYW5zaW9uRm9ybVN0YWNrLCBodG1sX2xleGVyXzEuSHRtbFRva2VuVHlwZS5FWFBBTlNJT05fRk9STV9TVEFSVCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwYW5zaW9uRm9ybVN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaChIdG1sVHJlZUVycm9yLmNyZWF0ZShudWxsLCBzdGFydC5zb3VyY2VTcGFuLCBcIkludmFsaWQgZXhwYW5zaW9uIGZvcm0uIE1pc3NpbmcgJ30nLlwiKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWsudHlwZSA9PT0gaHRtbF9sZXhlcl8xLkh0bWxUb2tlblR5cGUuRU9GKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaChIdG1sVHJlZUVycm9yLmNyZWF0ZShudWxsLCBzdGFydC5zb3VyY2VTcGFuLCBcIkludmFsaWQgZXhwYW5zaW9uIGZvcm0uIE1pc3NpbmcgJ30nLlwiKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleHAucHVzaCh0aGlzLl9hZHZhbmNlKCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuX2NvbnN1bWVUZXh0ID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gdG9rZW4ucGFydHNbMF07XG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDAgJiYgdGV4dFswXSA9PSAnXFxuJykge1xuICAgICAgICAgICAgdmFyIHBhcmVudF8xID0gdGhpcy5fZ2V0UGFyZW50RWxlbWVudCgpO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocGFyZW50XzEpICYmIHBhcmVudF8xLmNoaWxkcmVuLmxlbmd0aCA9PSAwICYmXG4gICAgICAgICAgICAgICAgaHRtbF90YWdzXzEuZ2V0SHRtbFRhZ0RlZmluaXRpb24ocGFyZW50XzEubmFtZSkuaWdub3JlRmlyc3RMZikge1xuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRUb1BhcmVudChuZXcgaHRtbF9hc3RfMS5IdG1sVGV4dEFzdCh0ZXh0LCB0b2tlbi5zb3VyY2VTcGFuKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5fY2xvc2VWb2lkRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudFN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBlbCA9IGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5sYXN0KHRoaXMuZWxlbWVudFN0YWNrKTtcbiAgICAgICAgICAgIGlmIChodG1sX3RhZ3NfMS5nZXRIdG1sVGFnRGVmaW5pdGlvbihlbC5uYW1lKS5pc1ZvaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRTdGFjay5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLl9jb25zdW1lU3RhcnRUYWcgPSBmdW5jdGlvbiAoc3RhcnRUYWdUb2tlbikge1xuICAgICAgICB2YXIgcHJlZml4ID0gc3RhcnRUYWdUb2tlbi5wYXJ0c1swXTtcbiAgICAgICAgdmFyIG5hbWUgPSBzdGFydFRhZ1Rva2VuLnBhcnRzWzFdO1xuICAgICAgICB2YXIgYXR0cnMgPSBbXTtcbiAgICAgICAgd2hpbGUgKHRoaXMucGVlay50eXBlID09PSBodG1sX2xleGVyXzEuSHRtbFRva2VuVHlwZS5BVFRSX05BTUUpIHtcbiAgICAgICAgICAgIGF0dHJzLnB1c2godGhpcy5fY29uc3VtZUF0dHIodGhpcy5fYWR2YW5jZSgpKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZ1bGxOYW1lID0gZ2V0RWxlbWVudEZ1bGxOYW1lKHByZWZpeCwgbmFtZSwgdGhpcy5fZ2V0UGFyZW50RWxlbWVudCgpKTtcbiAgICAgICAgdmFyIHNlbGZDbG9zaW5nID0gZmFsc2U7XG4gICAgICAgIC8vIE5vdGU6IFRoZXJlIGNvdWxkIGhhdmUgYmVlbiBhIHRva2VuaXplciBlcnJvclxuICAgICAgICAvLyBzbyB0aGF0IHdlIGRvbid0IGdldCBhIHRva2VuIGZvciB0aGUgZW5kIHRhZy4uLlxuICAgICAgICBpZiAodGhpcy5wZWVrLnR5cGUgPT09IGh0bWxfbGV4ZXJfMS5IdG1sVG9rZW5UeXBlLlRBR19PUEVOX0VORF9WT0lEKSB7XG4gICAgICAgICAgICB0aGlzLl9hZHZhbmNlKCk7XG4gICAgICAgICAgICBzZWxmQ2xvc2luZyA9IHRydWU7XG4gICAgICAgICAgICBpZiAoaHRtbF90YWdzXzEuZ2V0TnNQcmVmaXgoZnVsbE5hbWUpID09IG51bGwgJiYgIWh0bWxfdGFnc18xLmdldEh0bWxUYWdEZWZpbml0aW9uKGZ1bGxOYW1lKS5pc1ZvaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKEh0bWxUcmVlRXJyb3IuY3JlYXRlKGZ1bGxOYW1lLCBzdGFydFRhZ1Rva2VuLnNvdXJjZVNwYW4sIFwiT25seSB2b2lkIGFuZCBmb3JlaWduIGVsZW1lbnRzIGNhbiBiZSBzZWxmIGNsb3NlZCBcXFwiXCIgKyBzdGFydFRhZ1Rva2VuLnBhcnRzWzFdICsgXCJcXFwiXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnBlZWsudHlwZSA9PT0gaHRtbF9sZXhlcl8xLkh0bWxUb2tlblR5cGUuVEFHX09QRU5fRU5EKSB7XG4gICAgICAgICAgICB0aGlzLl9hZHZhbmNlKCk7XG4gICAgICAgICAgICBzZWxmQ2xvc2luZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbmQgPSB0aGlzLnBlZWsuc291cmNlU3Bhbi5zdGFydDtcbiAgICAgICAgdmFyIHNwYW4gPSBuZXcgcGFyc2VfdXRpbF8xLlBhcnNlU291cmNlU3BhbihzdGFydFRhZ1Rva2VuLnNvdXJjZVNwYW4uc3RhcnQsIGVuZCk7XG4gICAgICAgIHZhciBlbCA9IG5ldyBodG1sX2FzdF8xLkh0bWxFbGVtZW50QXN0KGZ1bGxOYW1lLCBhdHRycywgW10sIHNwYW4sIHNwYW4sIG51bGwpO1xuICAgICAgICB0aGlzLl9wdXNoRWxlbWVudChlbCk7XG4gICAgICAgIGlmIChzZWxmQ2xvc2luZykge1xuICAgICAgICAgICAgdGhpcy5fcG9wRWxlbWVudChmdWxsTmFtZSk7XG4gICAgICAgICAgICBlbC5lbmRTb3VyY2VTcGFuID0gc3BhbjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLl9wdXNoRWxlbWVudCA9IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50U3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIHBhcmVudEVsID0gY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmxhc3QodGhpcy5lbGVtZW50U3RhY2spO1xuICAgICAgICAgICAgaWYgKGh0bWxfdGFnc18xLmdldEh0bWxUYWdEZWZpbml0aW9uKHBhcmVudEVsLm5hbWUpLmlzQ2xvc2VkQnlDaGlsZChlbC5uYW1lKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudFN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB0YWdEZWYgPSBodG1sX3RhZ3NfMS5nZXRIdG1sVGFnRGVmaW5pdGlvbihlbC5uYW1lKTtcbiAgICAgICAgdmFyIHBhcmVudEVsID0gdGhpcy5fZ2V0UGFyZW50RWxlbWVudCgpO1xuICAgICAgICBpZiAodGFnRGVmLnJlcXVpcmVFeHRyYVBhcmVudChsYW5nXzEuaXNQcmVzZW50KHBhcmVudEVsKSA/IHBhcmVudEVsLm5hbWUgOiBudWxsKSkge1xuICAgICAgICAgICAgdmFyIG5ld1BhcmVudCA9IG5ldyBodG1sX2FzdF8xLkh0bWxFbGVtZW50QXN0KHRhZ0RlZi5wYXJlbnRUb0FkZCwgW10sIFtlbF0sIGVsLnNvdXJjZVNwYW4sIGVsLnN0YXJ0U291cmNlU3BhbiwgZWwuZW5kU291cmNlU3Bhbik7XG4gICAgICAgICAgICB0aGlzLl9hZGRUb1BhcmVudChuZXdQYXJlbnQpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50U3RhY2sucHVzaChuZXdQYXJlbnQpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50U3RhY2sucHVzaChlbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRUb1BhcmVudChlbCk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRTdGFjay5wdXNoKGVsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVHJlZUJ1aWxkZXIucHJvdG90eXBlLl9jb25zdW1lRW5kVGFnID0gZnVuY3Rpb24gKGVuZFRhZ1Rva2VuKSB7XG4gICAgICAgIHZhciBmdWxsTmFtZSA9IGdldEVsZW1lbnRGdWxsTmFtZShlbmRUYWdUb2tlbi5wYXJ0c1swXSwgZW5kVGFnVG9rZW4ucGFydHNbMV0sIHRoaXMuX2dldFBhcmVudEVsZW1lbnQoKSk7XG4gICAgICAgIHRoaXMuX2dldFBhcmVudEVsZW1lbnQoKS5lbmRTb3VyY2VTcGFuID0gZW5kVGFnVG9rZW4uc291cmNlU3BhbjtcbiAgICAgICAgaWYgKGh0bWxfdGFnc18xLmdldEh0bWxUYWdEZWZpbml0aW9uKGZ1bGxOYW1lKS5pc1ZvaWQpIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goSHRtbFRyZWVFcnJvci5jcmVhdGUoZnVsbE5hbWUsIGVuZFRhZ1Rva2VuLnNvdXJjZVNwYW4sIFwiVm9pZCBlbGVtZW50cyBkbyBub3QgaGF2ZSBlbmQgdGFncyBcXFwiXCIgKyBlbmRUYWdUb2tlbi5wYXJ0c1sxXSArIFwiXFxcIlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuX3BvcEVsZW1lbnQoZnVsbE5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9ycy5wdXNoKEh0bWxUcmVlRXJyb3IuY3JlYXRlKGZ1bGxOYW1lLCBlbmRUYWdUb2tlbi5zb3VyY2VTcGFuLCBcIlVuZXhwZWN0ZWQgY2xvc2luZyB0YWcgXFxcIlwiICsgZW5kVGFnVG9rZW4ucGFydHNbMV0gKyBcIlxcXCJcIikpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuX3BvcEVsZW1lbnQgPSBmdW5jdGlvbiAoZnVsbE5hbWUpIHtcbiAgICAgICAgZm9yICh2YXIgc3RhY2tJbmRleCA9IHRoaXMuZWxlbWVudFN0YWNrLmxlbmd0aCAtIDE7IHN0YWNrSW5kZXggPj0gMDsgc3RhY2tJbmRleC0tKSB7XG4gICAgICAgICAgICB2YXIgZWwgPSB0aGlzLmVsZW1lbnRTdGFja1tzdGFja0luZGV4XTtcbiAgICAgICAgICAgIGlmIChlbC5uYW1lID09IGZ1bGxOYW1lKSB7XG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLnNwbGljZSh0aGlzLmVsZW1lbnRTdGFjaywgc3RhY2tJbmRleCwgdGhpcy5lbGVtZW50U3RhY2subGVuZ3RoIC0gc3RhY2tJbmRleCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWh0bWxfdGFnc18xLmdldEh0bWxUYWdEZWZpbml0aW9uKGVsLm5hbWUpLmNsb3NlZEJ5UGFyZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5fY29uc3VtZUF0dHIgPSBmdW5jdGlvbiAoYXR0ck5hbWUpIHtcbiAgICAgICAgdmFyIGZ1bGxOYW1lID0gaHRtbF90YWdzXzEubWVyZ2VOc0FuZE5hbWUoYXR0ck5hbWUucGFydHNbMF0sIGF0dHJOYW1lLnBhcnRzWzFdKTtcbiAgICAgICAgdmFyIGVuZCA9IGF0dHJOYW1lLnNvdXJjZVNwYW4uZW5kO1xuICAgICAgICB2YXIgdmFsdWUgPSAnJztcbiAgICAgICAgaWYgKHRoaXMucGVlay50eXBlID09PSBodG1sX2xleGVyXzEuSHRtbFRva2VuVHlwZS5BVFRSX1ZBTFVFKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWVUb2tlbiA9IHRoaXMuX2FkdmFuY2UoKTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVUb2tlbi5wYXJ0c1swXTtcbiAgICAgICAgICAgIGVuZCA9IHZhbHVlVG9rZW4uc291cmNlU3Bhbi5lbmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBodG1sX2FzdF8xLkh0bWxBdHRyQXN0KGZ1bGxOYW1lLCB2YWx1ZSwgbmV3IHBhcnNlX3V0aWxfMS5QYXJzZVNvdXJjZVNwYW4oYXR0ck5hbWUuc291cmNlU3Bhbi5zdGFydCwgZW5kKSk7XG4gICAgfTtcbiAgICBUcmVlQnVpbGRlci5wcm90b3R5cGUuX2dldFBhcmVudEVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRTdGFjay5sZW5ndGggPiAwID8gY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmxhc3QodGhpcy5lbGVtZW50U3RhY2spIDogbnVsbDtcbiAgICB9O1xuICAgIFRyZWVCdWlsZGVyLnByb3RvdHlwZS5fYWRkVG9QYXJlbnQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5fZ2V0UGFyZW50RWxlbWVudCgpO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChwYXJlbnQpKSB7XG4gICAgICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaChub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucm9vdE5vZGVzLnB1c2gobm9kZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBUcmVlQnVpbGRlcjtcbn0oKSk7XG5mdW5jdGlvbiBnZXRFbGVtZW50RnVsbE5hbWUocHJlZml4LCBsb2NhbE5hbWUsIHBhcmVudEVsZW1lbnQpIHtcbiAgICBpZiAobGFuZ18xLmlzQmxhbmsocHJlZml4KSkge1xuICAgICAgICBwcmVmaXggPSBodG1sX3RhZ3NfMS5nZXRIdG1sVGFnRGVmaW5pdGlvbihsb2NhbE5hbWUpLmltcGxpY2l0TmFtZXNwYWNlUHJlZml4O1xuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsocHJlZml4KSAmJiBsYW5nXzEuaXNQcmVzZW50KHBhcmVudEVsZW1lbnQpKSB7XG4gICAgICAgICAgICBwcmVmaXggPSBodG1sX3RhZ3NfMS5nZXROc1ByZWZpeChwYXJlbnRFbGVtZW50Lm5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBodG1sX3RhZ3NfMS5tZXJnZU5zQW5kTmFtZShwcmVmaXgsIGxvY2FsTmFtZSk7XG59XG5mdW5jdGlvbiBsYXN0T25TdGFjayhzdGFjaywgZWxlbWVudCkge1xuICAgIHJldHVybiBzdGFjay5sZW5ndGggPiAwICYmIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBlbGVtZW50O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHRtbF9wYXJzZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG4vLyBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDUxL3N5bnRheC5odG1sI25hbWVkLWNoYXJhY3Rlci1yZWZlcmVuY2VzXG4vLyBzZWUgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW50aXRpZXMuanNvblxuLy8gVGhpcyBsaXN0IGlzIG5vdCBleGhhdXN0aXZlIHRvIGtlZXAgdGhlIGNvbXBpbGVyIGZvb3RwcmludCBsb3cuXG4vLyBUaGUgYCYjMTIzO2AgLyBgJiN4MWFiO2Agc3ludGF4IHNob3VsZCBiZSB1c2VkIHdoZW4gdGhlIG5hbWVkIGNoYXJhY3RlciByZWZlcmVuY2UgZG9lcyBub3QgZXhpc3QuXG5leHBvcnRzLk5BTUVEX0VOVElUSUVTID0ge1xuICAgICdBYWN1dGUnOiAnXFx1MDBDMScsXG4gICAgJ2FhY3V0ZSc6ICdcXHUwMEUxJyxcbiAgICAnQWNpcmMnOiAnXFx1MDBDMicsXG4gICAgJ2FjaXJjJzogJ1xcdTAwRTInLFxuICAgICdhY3V0ZSc6ICdcXHUwMEI0JyxcbiAgICAnQUVsaWcnOiAnXFx1MDBDNicsXG4gICAgJ2FlbGlnJzogJ1xcdTAwRTYnLFxuICAgICdBZ3JhdmUnOiAnXFx1MDBDMCcsXG4gICAgJ2FncmF2ZSc6ICdcXHUwMEUwJyxcbiAgICAnYWxlZnN5bSc6ICdcXHUyMTM1JyxcbiAgICAnQWxwaGEnOiAnXFx1MDM5MScsXG4gICAgJ2FscGhhJzogJ1xcdTAzQjEnLFxuICAgICdhbXAnOiAnJicsXG4gICAgJ2FuZCc6ICdcXHUyMjI3JyxcbiAgICAnYW5nJzogJ1xcdTIyMjAnLFxuICAgICdhcG9zJzogJ1xcdTAwMjcnLFxuICAgICdBcmluZyc6ICdcXHUwMEM1JyxcbiAgICAnYXJpbmcnOiAnXFx1MDBFNScsXG4gICAgJ2FzeW1wJzogJ1xcdTIyNDgnLFxuICAgICdBdGlsZGUnOiAnXFx1MDBDMycsXG4gICAgJ2F0aWxkZSc6ICdcXHUwMEUzJyxcbiAgICAnQXVtbCc6ICdcXHUwMEM0JyxcbiAgICAnYXVtbCc6ICdcXHUwMEU0JyxcbiAgICAnYmRxdW8nOiAnXFx1MjAxRScsXG4gICAgJ0JldGEnOiAnXFx1MDM5MicsXG4gICAgJ2JldGEnOiAnXFx1MDNCMicsXG4gICAgJ2JydmJhcic6ICdcXHUwMEE2JyxcbiAgICAnYnVsbCc6ICdcXHUyMDIyJyxcbiAgICAnY2FwJzogJ1xcdTIyMjknLFxuICAgICdDY2VkaWwnOiAnXFx1MDBDNycsXG4gICAgJ2NjZWRpbCc6ICdcXHUwMEU3JyxcbiAgICAnY2VkaWwnOiAnXFx1MDBCOCcsXG4gICAgJ2NlbnQnOiAnXFx1MDBBMicsXG4gICAgJ0NoaSc6ICdcXHUwM0E3JyxcbiAgICAnY2hpJzogJ1xcdTAzQzcnLFxuICAgICdjaXJjJzogJ1xcdTAyQzYnLFxuICAgICdjbHVicyc6ICdcXHUyNjYzJyxcbiAgICAnY29uZyc6ICdcXHUyMjQ1JyxcbiAgICAnY29weSc6ICdcXHUwMEE5JyxcbiAgICAnY3JhcnInOiAnXFx1MjFCNScsXG4gICAgJ2N1cCc6ICdcXHUyMjJBJyxcbiAgICAnY3VycmVuJzogJ1xcdTAwQTQnLFxuICAgICdkYWdnZXInOiAnXFx1MjAyMCcsXG4gICAgJ0RhZ2dlcic6ICdcXHUyMDIxJyxcbiAgICAnZGFycic6ICdcXHUyMTkzJyxcbiAgICAnZEFycic6ICdcXHUyMUQzJyxcbiAgICAnZGVnJzogJ1xcdTAwQjAnLFxuICAgICdEZWx0YSc6ICdcXHUwMzk0JyxcbiAgICAnZGVsdGEnOiAnXFx1MDNCNCcsXG4gICAgJ2RpYW1zJzogJ1xcdTI2NjYnLFxuICAgICdkaXZpZGUnOiAnXFx1MDBGNycsXG4gICAgJ0VhY3V0ZSc6ICdcXHUwMEM5JyxcbiAgICAnZWFjdXRlJzogJ1xcdTAwRTknLFxuICAgICdFY2lyYyc6ICdcXHUwMENBJyxcbiAgICAnZWNpcmMnOiAnXFx1MDBFQScsXG4gICAgJ0VncmF2ZSc6ICdcXHUwMEM4JyxcbiAgICAnZWdyYXZlJzogJ1xcdTAwRTgnLFxuICAgICdlbXB0eSc6ICdcXHUyMjA1JyxcbiAgICAnZW1zcCc6ICdcXHUyMDAzJyxcbiAgICAnZW5zcCc6ICdcXHUyMDAyJyxcbiAgICAnRXBzaWxvbic6ICdcXHUwMzk1JyxcbiAgICAnZXBzaWxvbic6ICdcXHUwM0I1JyxcbiAgICAnZXF1aXYnOiAnXFx1MjI2MScsXG4gICAgJ0V0YSc6ICdcXHUwMzk3JyxcbiAgICAnZXRhJzogJ1xcdTAzQjcnLFxuICAgICdFVEgnOiAnXFx1MDBEMCcsXG4gICAgJ2V0aCc6ICdcXHUwMEYwJyxcbiAgICAnRXVtbCc6ICdcXHUwMENCJyxcbiAgICAnZXVtbCc6ICdcXHUwMEVCJyxcbiAgICAnZXVybyc6ICdcXHUyMEFDJyxcbiAgICAnZXhpc3QnOiAnXFx1MjIwMycsXG4gICAgJ2Zub2YnOiAnXFx1MDE5MicsXG4gICAgJ2ZvcmFsbCc6ICdcXHUyMjAwJyxcbiAgICAnZnJhYzEyJzogJ1xcdTAwQkQnLFxuICAgICdmcmFjMTQnOiAnXFx1MDBCQycsXG4gICAgJ2ZyYWMzNCc6ICdcXHUwMEJFJyxcbiAgICAnZnJhc2wnOiAnXFx1MjA0NCcsXG4gICAgJ0dhbW1hJzogJ1xcdTAzOTMnLFxuICAgICdnYW1tYSc6ICdcXHUwM0IzJyxcbiAgICAnZ2UnOiAnXFx1MjI2NScsXG4gICAgJ2d0JzogJz4nLFxuICAgICdoYXJyJzogJ1xcdTIxOTQnLFxuICAgICdoQXJyJzogJ1xcdTIxRDQnLFxuICAgICdoZWFydHMnOiAnXFx1MjY2NScsXG4gICAgJ2hlbGxpcCc6ICdcXHUyMDI2JyxcbiAgICAnSWFjdXRlJzogJ1xcdTAwQ0QnLFxuICAgICdpYWN1dGUnOiAnXFx1MDBFRCcsXG4gICAgJ0ljaXJjJzogJ1xcdTAwQ0UnLFxuICAgICdpY2lyYyc6ICdcXHUwMEVFJyxcbiAgICAnaWV4Y2wnOiAnXFx1MDBBMScsXG4gICAgJ0lncmF2ZSc6ICdcXHUwMENDJyxcbiAgICAnaWdyYXZlJzogJ1xcdTAwRUMnLFxuICAgICdpbWFnZSc6ICdcXHUyMTExJyxcbiAgICAnaW5maW4nOiAnXFx1MjIxRScsXG4gICAgJ2ludCc6ICdcXHUyMjJCJyxcbiAgICAnSW90YSc6ICdcXHUwMzk5JyxcbiAgICAnaW90YSc6ICdcXHUwM0I5JyxcbiAgICAnaXF1ZXN0JzogJ1xcdTAwQkYnLFxuICAgICdpc2luJzogJ1xcdTIyMDgnLFxuICAgICdJdW1sJzogJ1xcdTAwQ0YnLFxuICAgICdpdW1sJzogJ1xcdTAwRUYnLFxuICAgICdLYXBwYSc6ICdcXHUwMzlBJyxcbiAgICAna2FwcGEnOiAnXFx1MDNCQScsXG4gICAgJ0xhbWJkYSc6ICdcXHUwMzlCJyxcbiAgICAnbGFtYmRhJzogJ1xcdTAzQkInLFxuICAgICdsYW5nJzogJ1xcdTI3RTgnLFxuICAgICdsYXF1byc6ICdcXHUwMEFCJyxcbiAgICAnbGFycic6ICdcXHUyMTkwJyxcbiAgICAnbEFycic6ICdcXHUyMUQwJyxcbiAgICAnbGNlaWwnOiAnXFx1MjMwOCcsXG4gICAgJ2xkcXVvJzogJ1xcdTIwMUMnLFxuICAgICdsZSc6ICdcXHUyMjY0JyxcbiAgICAnbGZsb29yJzogJ1xcdTIzMEEnLFxuICAgICdsb3dhc3QnOiAnXFx1MjIxNycsXG4gICAgJ2xveic6ICdcXHUyNUNBJyxcbiAgICAnbHJtJzogJ1xcdTIwMEUnLFxuICAgICdsc2FxdW8nOiAnXFx1MjAzOScsXG4gICAgJ2xzcXVvJzogJ1xcdTIwMTgnLFxuICAgICdsdCc6ICc8JyxcbiAgICAnbWFjcic6ICdcXHUwMEFGJyxcbiAgICAnbWRhc2gnOiAnXFx1MjAxNCcsXG4gICAgJ21pY3JvJzogJ1xcdTAwQjUnLFxuICAgICdtaWRkb3QnOiAnXFx1MDBCNycsXG4gICAgJ21pbnVzJzogJ1xcdTIyMTInLFxuICAgICdNdSc6ICdcXHUwMzlDJyxcbiAgICAnbXUnOiAnXFx1MDNCQycsXG4gICAgJ25hYmxhJzogJ1xcdTIyMDcnLFxuICAgICduYnNwJzogJ1xcdTAwQTAnLFxuICAgICduZGFzaCc6ICdcXHUyMDEzJyxcbiAgICAnbmUnOiAnXFx1MjI2MCcsXG4gICAgJ25pJzogJ1xcdTIyMEInLFxuICAgICdub3QnOiAnXFx1MDBBQycsXG4gICAgJ25vdGluJzogJ1xcdTIyMDknLFxuICAgICduc3ViJzogJ1xcdTIyODQnLFxuICAgICdOdGlsZGUnOiAnXFx1MDBEMScsXG4gICAgJ250aWxkZSc6ICdcXHUwMEYxJyxcbiAgICAnTnUnOiAnXFx1MDM5RCcsXG4gICAgJ251JzogJ1xcdTAzQkQnLFxuICAgICdPYWN1dGUnOiAnXFx1MDBEMycsXG4gICAgJ29hY3V0ZSc6ICdcXHUwMEYzJyxcbiAgICAnT2NpcmMnOiAnXFx1MDBENCcsXG4gICAgJ29jaXJjJzogJ1xcdTAwRjQnLFxuICAgICdPRWxpZyc6ICdcXHUwMTUyJyxcbiAgICAnb2VsaWcnOiAnXFx1MDE1MycsXG4gICAgJ09ncmF2ZSc6ICdcXHUwMEQyJyxcbiAgICAnb2dyYXZlJzogJ1xcdTAwRjInLFxuICAgICdvbGluZSc6ICdcXHUyMDNFJyxcbiAgICAnT21lZ2EnOiAnXFx1MDNBOScsXG4gICAgJ29tZWdhJzogJ1xcdTAzQzknLFxuICAgICdPbWljcm9uJzogJ1xcdTAzOUYnLFxuICAgICdvbWljcm9uJzogJ1xcdTAzQkYnLFxuICAgICdvcGx1cyc6ICdcXHUyMjk1JyxcbiAgICAnb3InOiAnXFx1MjIyOCcsXG4gICAgJ29yZGYnOiAnXFx1MDBBQScsXG4gICAgJ29yZG0nOiAnXFx1MDBCQScsXG4gICAgJ09zbGFzaCc6ICdcXHUwMEQ4JyxcbiAgICAnb3NsYXNoJzogJ1xcdTAwRjgnLFxuICAgICdPdGlsZGUnOiAnXFx1MDBENScsXG4gICAgJ290aWxkZSc6ICdcXHUwMEY1JyxcbiAgICAnb3RpbWVzJzogJ1xcdTIyOTcnLFxuICAgICdPdW1sJzogJ1xcdTAwRDYnLFxuICAgICdvdW1sJzogJ1xcdTAwRjYnLFxuICAgICdwYXJhJzogJ1xcdTAwQjYnLFxuICAgICdwZXJtaWwnOiAnXFx1MjAzMCcsXG4gICAgJ3BlcnAnOiAnXFx1MjJBNScsXG4gICAgJ1BoaSc6ICdcXHUwM0E2JyxcbiAgICAncGhpJzogJ1xcdTAzQzYnLFxuICAgICdQaSc6ICdcXHUwM0EwJyxcbiAgICAncGknOiAnXFx1MDNDMCcsXG4gICAgJ3Bpdic6ICdcXHUwM0Q2JyxcbiAgICAncGx1c21uJzogJ1xcdTAwQjEnLFxuICAgICdwb3VuZCc6ICdcXHUwMEEzJyxcbiAgICAncHJpbWUnOiAnXFx1MjAzMicsXG4gICAgJ1ByaW1lJzogJ1xcdTIwMzMnLFxuICAgICdwcm9kJzogJ1xcdTIyMEYnLFxuICAgICdwcm9wJzogJ1xcdTIyMUQnLFxuICAgICdQc2knOiAnXFx1MDNBOCcsXG4gICAgJ3BzaSc6ICdcXHUwM0M4JyxcbiAgICAncXVvdCc6ICdcXHUwMDIyJyxcbiAgICAncmFkaWMnOiAnXFx1MjIxQScsXG4gICAgJ3JhbmcnOiAnXFx1MjdFOScsXG4gICAgJ3JhcXVvJzogJ1xcdTAwQkInLFxuICAgICdyYXJyJzogJ1xcdTIxOTInLFxuICAgICdyQXJyJzogJ1xcdTIxRDInLFxuICAgICdyY2VpbCc6ICdcXHUyMzA5JyxcbiAgICAncmRxdW8nOiAnXFx1MjAxRCcsXG4gICAgJ3JlYWwnOiAnXFx1MjExQycsXG4gICAgJ3JlZyc6ICdcXHUwMEFFJyxcbiAgICAncmZsb29yJzogJ1xcdTIzMEInLFxuICAgICdSaG8nOiAnXFx1MDNBMScsXG4gICAgJ3Jobyc6ICdcXHUwM0MxJyxcbiAgICAncmxtJzogJ1xcdTIwMEYnLFxuICAgICdyc2FxdW8nOiAnXFx1MjAzQScsXG4gICAgJ3JzcXVvJzogJ1xcdTIwMTknLFxuICAgICdzYnF1byc6ICdcXHUyMDFBJyxcbiAgICAnU2Nhcm9uJzogJ1xcdTAxNjAnLFxuICAgICdzY2Fyb24nOiAnXFx1MDE2MScsXG4gICAgJ3Nkb3QnOiAnXFx1MjJDNScsXG4gICAgJ3NlY3QnOiAnXFx1MDBBNycsXG4gICAgJ3NoeSc6ICdcXHUwMEFEJyxcbiAgICAnU2lnbWEnOiAnXFx1MDNBMycsXG4gICAgJ3NpZ21hJzogJ1xcdTAzQzMnLFxuICAgICdzaWdtYWYnOiAnXFx1MDNDMicsXG4gICAgJ3NpbSc6ICdcXHUyMjNDJyxcbiAgICAnc3BhZGVzJzogJ1xcdTI2NjAnLFxuICAgICdzdWInOiAnXFx1MjI4MicsXG4gICAgJ3N1YmUnOiAnXFx1MjI4NicsXG4gICAgJ3N1bSc6ICdcXHUyMjExJyxcbiAgICAnc3VwJzogJ1xcdTIyODMnLFxuICAgICdzdXAxJzogJ1xcdTAwQjknLFxuICAgICdzdXAyJzogJ1xcdTAwQjInLFxuICAgICdzdXAzJzogJ1xcdTAwQjMnLFxuICAgICdzdXBlJzogJ1xcdTIyODcnLFxuICAgICdzemxpZyc6ICdcXHUwMERGJyxcbiAgICAnVGF1JzogJ1xcdTAzQTQnLFxuICAgICd0YXUnOiAnXFx1MDNDNCcsXG4gICAgJ3RoZXJlNCc6ICdcXHUyMjM0JyxcbiAgICAnVGhldGEnOiAnXFx1MDM5OCcsXG4gICAgJ3RoZXRhJzogJ1xcdTAzQjgnLFxuICAgICd0aGV0YXN5bSc6ICdcXHUwM0QxJyxcbiAgICAndGhpbnNwJzogJ1xcdTIwMDknLFxuICAgICdUSE9STic6ICdcXHUwMERFJyxcbiAgICAndGhvcm4nOiAnXFx1MDBGRScsXG4gICAgJ3RpbGRlJzogJ1xcdTAyREMnLFxuICAgICd0aW1lcyc6ICdcXHUwMEQ3JyxcbiAgICAndHJhZGUnOiAnXFx1MjEyMicsXG4gICAgJ1VhY3V0ZSc6ICdcXHUwMERBJyxcbiAgICAndWFjdXRlJzogJ1xcdTAwRkEnLFxuICAgICd1YXJyJzogJ1xcdTIxOTEnLFxuICAgICd1QXJyJzogJ1xcdTIxRDEnLFxuICAgICdVY2lyYyc6ICdcXHUwMERCJyxcbiAgICAndWNpcmMnOiAnXFx1MDBGQicsXG4gICAgJ1VncmF2ZSc6ICdcXHUwMEQ5JyxcbiAgICAndWdyYXZlJzogJ1xcdTAwRjknLFxuICAgICd1bWwnOiAnXFx1MDBBOCcsXG4gICAgJ3Vwc2loJzogJ1xcdTAzRDInLFxuICAgICdVcHNpbG9uJzogJ1xcdTAzQTUnLFxuICAgICd1cHNpbG9uJzogJ1xcdTAzQzUnLFxuICAgICdVdW1sJzogJ1xcdTAwREMnLFxuICAgICd1dW1sJzogJ1xcdTAwRkMnLFxuICAgICd3ZWllcnAnOiAnXFx1MjExOCcsXG4gICAgJ1hpJzogJ1xcdTAzOUUnLFxuICAgICd4aSc6ICdcXHUwM0JFJyxcbiAgICAnWWFjdXRlJzogJ1xcdTAwREQnLFxuICAgICd5YWN1dGUnOiAnXFx1MDBGRCcsXG4gICAgJ3llbic6ICdcXHUwMEE1JyxcbiAgICAneXVtbCc6ICdcXHUwMEZGJyxcbiAgICAnWXVtbCc6ICdcXHUwMTc4JyxcbiAgICAnWmV0YSc6ICdcXHUwMzk2JyxcbiAgICAnemV0YSc6ICdcXHUwM0I2JyxcbiAgICAnendqJzogJ1xcdTIwMEQnLFxuICAgICd6d25qJzogJ1xcdTIwMEMnLFxufTtcbihmdW5jdGlvbiAoSHRtbFRhZ0NvbnRlbnRUeXBlKSB7XG4gICAgSHRtbFRhZ0NvbnRlbnRUeXBlW0h0bWxUYWdDb250ZW50VHlwZVtcIlJBV19URVhUXCJdID0gMF0gPSBcIlJBV19URVhUXCI7XG4gICAgSHRtbFRhZ0NvbnRlbnRUeXBlW0h0bWxUYWdDb250ZW50VHlwZVtcIkVTQ0FQQUJMRV9SQVdfVEVYVFwiXSA9IDFdID0gXCJFU0NBUEFCTEVfUkFXX1RFWFRcIjtcbiAgICBIdG1sVGFnQ29udGVudFR5cGVbSHRtbFRhZ0NvbnRlbnRUeXBlW1wiUEFSU0FCTEVfREFUQVwiXSA9IDJdID0gXCJQQVJTQUJMRV9EQVRBXCI7XG59KShleHBvcnRzLkh0bWxUYWdDb250ZW50VHlwZSB8fCAoZXhwb3J0cy5IdG1sVGFnQ29udGVudFR5cGUgPSB7fSkpO1xudmFyIEh0bWxUYWdDb250ZW50VHlwZSA9IGV4cG9ydHMuSHRtbFRhZ0NvbnRlbnRUeXBlO1xudmFyIEh0bWxUYWdEZWZpbml0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIdG1sVGFnRGVmaW5pdGlvbihfYSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgY2xvc2VkQnlDaGlsZHJlbiA9IF9iLmNsb3NlZEJ5Q2hpbGRyZW4sIHJlcXVpcmVkUGFyZW50cyA9IF9iLnJlcXVpcmVkUGFyZW50cywgaW1wbGljaXROYW1lc3BhY2VQcmVmaXggPSBfYi5pbXBsaWNpdE5hbWVzcGFjZVByZWZpeCwgY29udGVudFR5cGUgPSBfYi5jb250ZW50VHlwZSwgY2xvc2VkQnlQYXJlbnQgPSBfYi5jbG9zZWRCeVBhcmVudCwgaXNWb2lkID0gX2IuaXNWb2lkLCBpZ25vcmVGaXJzdExmID0gX2IuaWdub3JlRmlyc3RMZjtcbiAgICAgICAgdGhpcy5jbG9zZWRCeUNoaWxkcmVuID0ge307XG4gICAgICAgIHRoaXMuY2xvc2VkQnlQYXJlbnQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoY2xvc2VkQnlDaGlsZHJlbikgJiYgY2xvc2VkQnlDaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjbG9zZWRCeUNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKHRhZ05hbWUpIHsgcmV0dXJuIF90aGlzLmNsb3NlZEJ5Q2hpbGRyZW5bdGFnTmFtZV0gPSB0cnVlOyB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzVm9pZCA9IGxhbmdfMS5ub3JtYWxpemVCb29sKGlzVm9pZCk7XG4gICAgICAgIHRoaXMuY2xvc2VkQnlQYXJlbnQgPSBsYW5nXzEubm9ybWFsaXplQm9vbChjbG9zZWRCeVBhcmVudCkgfHwgdGhpcy5pc1ZvaWQ7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHJlcXVpcmVkUGFyZW50cykgJiYgcmVxdWlyZWRQYXJlbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWlyZWRQYXJlbnRzID0ge307XG4gICAgICAgICAgICB0aGlzLnBhcmVudFRvQWRkID0gcmVxdWlyZWRQYXJlbnRzWzBdO1xuICAgICAgICAgICAgcmVxdWlyZWRQYXJlbnRzLmZvckVhY2goZnVuY3Rpb24gKHRhZ05hbWUpIHsgcmV0dXJuIF90aGlzLnJlcXVpcmVkUGFyZW50c1t0YWdOYW1lXSA9IHRydWU7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW1wbGljaXROYW1lc3BhY2VQcmVmaXggPSBpbXBsaWNpdE5hbWVzcGFjZVByZWZpeDtcbiAgICAgICAgdGhpcy5jb250ZW50VHlwZSA9IGxhbmdfMS5pc1ByZXNlbnQoY29udGVudFR5cGUpID8gY29udGVudFR5cGUgOiBIdG1sVGFnQ29udGVudFR5cGUuUEFSU0FCTEVfREFUQTtcbiAgICAgICAgdGhpcy5pZ25vcmVGaXJzdExmID0gbGFuZ18xLm5vcm1hbGl6ZUJvb2woaWdub3JlRmlyc3RMZik7XG4gICAgfVxuICAgIEh0bWxUYWdEZWZpbml0aW9uLnByb3RvdHlwZS5yZXF1aXJlRXh0cmFQYXJlbnQgPSBmdW5jdGlvbiAoY3VycmVudFBhcmVudCkge1xuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsodGhpcy5yZXF1aXJlZFBhcmVudHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKGN1cnJlbnRQYXJlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGNQYXJlbnQgPSBjdXJyZW50UGFyZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVpcmVkUGFyZW50c1tsY1BhcmVudF0gIT0gdHJ1ZSAmJiBsY1BhcmVudCAhPSAndGVtcGxhdGUnO1xuICAgIH07XG4gICAgSHRtbFRhZ0RlZmluaXRpb24ucHJvdG90eXBlLmlzQ2xvc2VkQnlDaGlsZCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzVm9pZCB8fCBsYW5nXzEubm9ybWFsaXplQm9vbCh0aGlzLmNsb3NlZEJ5Q2hpbGRyZW5bbmFtZS50b0xvd2VyQ2FzZSgpXSk7XG4gICAgfTtcbiAgICByZXR1cm4gSHRtbFRhZ0RlZmluaXRpb247XG59KCkpO1xuZXhwb3J0cy5IdG1sVGFnRGVmaW5pdGlvbiA9IEh0bWxUYWdEZWZpbml0aW9uO1xuLy8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw1MS9zeW50YXguaHRtbCNvcHRpb25hbC10YWdzXG4vLyBUaGlzIGltcGxlbWVudGF0aW9uIGRvZXMgbm90IGZ1bGx5IGNvbmZvcm0gdG8gdGhlIEhUTUw1IHNwZWMuXG52YXIgVEFHX0RFRklOSVRJT05TID0ge1xuICAgICdiYXNlJzogbmV3IEh0bWxUYWdEZWZpbml0aW9uKHsgaXNWb2lkOiB0cnVlIH0pLFxuICAgICdtZXRhJzogbmV3IEh0bWxUYWdEZWZpbml0aW9uKHsgaXNWb2lkOiB0cnVlIH0pLFxuICAgICdhcmVhJzogbmV3IEh0bWxUYWdEZWZpbml0aW9uKHsgaXNWb2lkOiB0cnVlIH0pLFxuICAgICdlbWJlZCc6IG5ldyBIdG1sVGFnRGVmaW5pdGlvbih7IGlzVm9pZDogdHJ1ZSB9KSxcbiAgICAnbGluayc6IG5ldyBIdG1sVGFnRGVmaW5pdGlvbih7IGlzVm9pZDogdHJ1ZSB9KSxcbiAgICAnaW1nJzogbmV3IEh0bWxUYWdEZWZpbml0aW9uKHsgaXNWb2lkOiB0cnVlIH0pLFxuICAgICdpbnB1dCc6IG5ldyBIdG1sVGFnRGVmaW5pdGlvbih7IGlzVm9pZDogdHJ1ZSB9KSxcbiAgICAncGFyYW0nOiBuZXcgSHRtbFRhZ0RlZmluaXRpb24oeyBpc1ZvaWQ6IHRydWUgfSksXG4gICAgJ2hyJzogbmV3IEh0bWxUYWdEZWZpbml0aW9uKHsgaXNWb2lkOiB0cnVlIH0pLFxuICAgICdicic6IG5ldyBIdG1sVGFnRGVmaW5pdGlvbih7IGlzVm9pZDogdHJ1ZSB9KSxcbiAgICAnc291cmNlJzogbmV3IEh0bWxUYWdEZWZpbml0aW9uKHsgaXNWb2lkOiB0cnVlIH0pLFxuICAgICd0cmFjayc6IG5ldyBIdG1sVGFnRGVmaW5pdGlvbih7IGlzVm9pZDogdHJ1ZSB9KSxcbiAgICAnd2JyJzogbmV3IEh0bWxUYWdEZWZpbml0aW9uKHsgaXNWb2lkOiB0cnVlIH0pLFxuICAgICdwJzogbmV3IEh0bWxUYWdEZWZpbml0aW9uKHtcbiAgICAgICAgY2xvc2VkQnlDaGlsZHJlbjogW1xuICAgICAgICAgICAgJ2FkZHJlc3MnLFxuICAgICAgICAgICAgJ2FydGljbGUnLFxuICAgICAgICAgICAgJ2FzaWRlJyxcbiAgICAgICAgICAgICdibG9ja3F1b3RlJyxcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgJ2RsJyxcbiAgICAgICAgICAgICdmaWVsZHNldCcsXG4gICAgICAgICAgICAnZm9vdGVyJyxcbiAgICAgICAgICAgICdmb3JtJyxcbiAgICAgICAgICAgICdoMScsXG4gICAgICAgICAgICAnaDInLFxuICAgICAgICAgICAgJ2gzJyxcbiAgICAgICAgICAgICdoNCcsXG4gICAgICAgICAgICAnaDUnLFxuICAgICAgICAgICAgJ2g2JyxcbiAgICAgICAgICAgICdoZWFkZXInLFxuICAgICAgICAgICAgJ2hncm91cCcsXG4gICAgICAgICAgICAnaHInLFxuICAgICAgICAgICAgJ21haW4nLFxuICAgICAgICAgICAgJ25hdicsXG4gICAgICAgICAgICAnb2wnLFxuICAgICAgICAgICAgJ3AnLFxuICAgICAgICAgICAgJ3ByZScsXG4gICAgICAgICAgICAnc2VjdGlvbicsXG4gICAgICAgICAgICAndGFibGUnLFxuICAgICAgICAgICAgJ3VsJ1xuICAgICAgICBdLFxuICAgICAgICBjbG9zZWRCeVBhcmVudDogdHJ1ZVxuICAgIH0pLFxuICAgICd0aGVhZCc6IG5ldyBIdG1sVGFnRGVmaW5pdGlvbih7IGNsb3NlZEJ5Q2hpbGRyZW46IFsndGJvZHknLCAndGZvb3QnXSB9KSxcbiAgICAndGJvZHknOiBuZXcgSHRtbFRhZ0RlZmluaXRpb24oeyBjbG9zZWRCeUNoaWxkcmVuOiBbJ3Rib2R5JywgJ3Rmb290J10sIGNsb3NlZEJ5UGFyZW50OiB0cnVlIH0pLFxuICAgICd0Zm9vdCc6IG5ldyBIdG1sVGFnRGVmaW5pdGlvbih7IGNsb3NlZEJ5Q2hpbGRyZW46IFsndGJvZHknXSwgY2xvc2VkQnlQYXJlbnQ6IHRydWUgfSksXG4gICAgJ3RyJzogbmV3IEh0bWxUYWdEZWZpbml0aW9uKHtcbiAgICAgICAgY2xvc2VkQnlDaGlsZHJlbjogWyd0ciddLFxuICAgICAgICByZXF1aXJlZFBhcmVudHM6IFsndGJvZHknLCAndGZvb3QnLCAndGhlYWQnXSxcbiAgICAgICAgY2xvc2VkQnlQYXJlbnQ6IHRydWVcbiAgICB9KSxcbiAgICAndGQnOiBuZXcgSHRtbFRhZ0RlZmluaXRpb24oeyBjbG9zZWRCeUNoaWxkcmVuOiBbJ3RkJywgJ3RoJ10sIGNsb3NlZEJ5UGFyZW50OiB0cnVlIH0pLFxuICAgICd0aCc6IG5ldyBIdG1sVGFnRGVmaW5pdGlvbih7IGNsb3NlZEJ5Q2hpbGRyZW46IFsndGQnLCAndGgnXSwgY2xvc2VkQnlQYXJlbnQ6IHRydWUgfSksXG4gICAgJ2NvbCc6IG5ldyBIdG1sVGFnRGVmaW5pdGlvbih7IHJlcXVpcmVkUGFyZW50czogWydjb2xncm91cCddLCBpc1ZvaWQ6IHRydWUgfSksXG4gICAgJ3N2Zyc6IG5ldyBIdG1sVGFnRGVmaW5pdGlvbih7IGltcGxpY2l0TmFtZXNwYWNlUHJlZml4OiAnc3ZnJyB9KSxcbiAgICAnbWF0aCc6IG5ldyBIdG1sVGFnRGVmaW5pdGlvbih7IGltcGxpY2l0TmFtZXNwYWNlUHJlZml4OiAnbWF0aCcgfSksXG4gICAgJ2xpJzogbmV3IEh0bWxUYWdEZWZpbml0aW9uKHsgY2xvc2VkQnlDaGlsZHJlbjogWydsaSddLCBjbG9zZWRCeVBhcmVudDogdHJ1ZSB9KSxcbiAgICAnZHQnOiBuZXcgSHRtbFRhZ0RlZmluaXRpb24oeyBjbG9zZWRCeUNoaWxkcmVuOiBbJ2R0JywgJ2RkJ10gfSksXG4gICAgJ2RkJzogbmV3IEh0bWxUYWdEZWZpbml0aW9uKHsgY2xvc2VkQnlDaGlsZHJlbjogWydkdCcsICdkZCddLCBjbG9zZWRCeVBhcmVudDogdHJ1ZSB9KSxcbiAgICAncmInOiBuZXcgSHRtbFRhZ0RlZmluaXRpb24oeyBjbG9zZWRCeUNoaWxkcmVuOiBbJ3JiJywgJ3J0JywgJ3J0YycsICdycCddLCBjbG9zZWRCeVBhcmVudDogdHJ1ZSB9KSxcbiAgICAncnQnOiBuZXcgSHRtbFRhZ0RlZmluaXRpb24oeyBjbG9zZWRCeUNoaWxkcmVuOiBbJ3JiJywgJ3J0JywgJ3J0YycsICdycCddLCBjbG9zZWRCeVBhcmVudDogdHJ1ZSB9KSxcbiAgICAncnRjJzogbmV3IEh0bWxUYWdEZWZpbml0aW9uKHsgY2xvc2VkQnlDaGlsZHJlbjogWydyYicsICdydGMnLCAncnAnXSwgY2xvc2VkQnlQYXJlbnQ6IHRydWUgfSksXG4gICAgJ3JwJzogbmV3IEh0bWxUYWdEZWZpbml0aW9uKHsgY2xvc2VkQnlDaGlsZHJlbjogWydyYicsICdydCcsICdydGMnLCAncnAnXSwgY2xvc2VkQnlQYXJlbnQ6IHRydWUgfSksXG4gICAgJ29wdGdyb3VwJzogbmV3IEh0bWxUYWdEZWZpbml0aW9uKHsgY2xvc2VkQnlDaGlsZHJlbjogWydvcHRncm91cCddLCBjbG9zZWRCeVBhcmVudDogdHJ1ZSB9KSxcbiAgICAnb3B0aW9uJzogbmV3IEh0bWxUYWdEZWZpbml0aW9uKHsgY2xvc2VkQnlDaGlsZHJlbjogWydvcHRpb24nLCAnb3B0Z3JvdXAnXSwgY2xvc2VkQnlQYXJlbnQ6IHRydWUgfSksXG4gICAgJ3ByZSc6IG5ldyBIdG1sVGFnRGVmaW5pdGlvbih7IGlnbm9yZUZpcnN0TGY6IHRydWUgfSksXG4gICAgJ2xpc3RpbmcnOiBuZXcgSHRtbFRhZ0RlZmluaXRpb24oeyBpZ25vcmVGaXJzdExmOiB0cnVlIH0pLFxuICAgICdzdHlsZSc6IG5ldyBIdG1sVGFnRGVmaW5pdGlvbih7IGNvbnRlbnRUeXBlOiBIdG1sVGFnQ29udGVudFR5cGUuUkFXX1RFWFQgfSksXG4gICAgJ3NjcmlwdCc6IG5ldyBIdG1sVGFnRGVmaW5pdGlvbih7IGNvbnRlbnRUeXBlOiBIdG1sVGFnQ29udGVudFR5cGUuUkFXX1RFWFQgfSksXG4gICAgJ3RpdGxlJzogbmV3IEh0bWxUYWdEZWZpbml0aW9uKHsgY29udGVudFR5cGU6IEh0bWxUYWdDb250ZW50VHlwZS5FU0NBUEFCTEVfUkFXX1RFWFQgfSksXG4gICAgJ3RleHRhcmVhJzogbmV3IEh0bWxUYWdEZWZpbml0aW9uKHsgY29udGVudFR5cGU6IEh0bWxUYWdDb250ZW50VHlwZS5FU0NBUEFCTEVfUkFXX1RFWFQsIGlnbm9yZUZpcnN0TGY6IHRydWUgfSksXG59O1xudmFyIERFRkFVTFRfVEFHX0RFRklOSVRJT04gPSBuZXcgSHRtbFRhZ0RlZmluaXRpb24oKTtcbmZ1bmN0aW9uIGdldEh0bWxUYWdEZWZpbml0aW9uKHRhZ05hbWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gVEFHX0RFRklOSVRJT05TW3RhZ05hbWUudG9Mb3dlckNhc2UoKV07XG4gICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQocmVzdWx0KSA/IHJlc3VsdCA6IERFRkFVTFRfVEFHX0RFRklOSVRJT047XG59XG5leHBvcnRzLmdldEh0bWxUYWdEZWZpbml0aW9uID0gZ2V0SHRtbFRhZ0RlZmluaXRpb247XG52YXIgTlNfUFJFRklYX1JFID0gL15AKFteOl0rKTooLispL2c7XG5mdW5jdGlvbiBzcGxpdE5zTmFtZShlbGVtZW50TmFtZSkge1xuICAgIGlmIChlbGVtZW50TmFtZVswXSAhPSAnQCcpIHtcbiAgICAgICAgcmV0dXJuIFtudWxsLCBlbGVtZW50TmFtZV07XG4gICAgfVxuICAgIHZhciBtYXRjaCA9IGxhbmdfMS5SZWdFeHBXcmFwcGVyLmZpcnN0TWF0Y2goTlNfUFJFRklYX1JFLCBlbGVtZW50TmFtZSk7XG4gICAgcmV0dXJuIFttYXRjaFsxXSwgbWF0Y2hbMl1dO1xufVxuZXhwb3J0cy5zcGxpdE5zTmFtZSA9IHNwbGl0TnNOYW1lO1xuZnVuY3Rpb24gZ2V0TnNQcmVmaXgoZWxlbWVudE5hbWUpIHtcbiAgICByZXR1cm4gc3BsaXROc05hbWUoZWxlbWVudE5hbWUpWzBdO1xufVxuZXhwb3J0cy5nZXROc1ByZWZpeCA9IGdldE5zUHJlZml4O1xuZnVuY3Rpb24gbWVyZ2VOc0FuZE5hbWUocHJlZml4LCBsb2NhbE5hbWUpIHtcbiAgICByZXR1cm4gbGFuZ18xLmlzUHJlc2VudChwcmVmaXgpID8gXCJAXCIgKyBwcmVmaXggKyBcIjpcIiArIGxvY2FsTmFtZSA6IGxvY2FsTmFtZTtcbn1cbmV4cG9ydHMubWVyZ2VOc0FuZE5hbWUgPSBtZXJnZU5zQW5kTmFtZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0bWxfdGFncy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgY29yZV9wcml2YXRlXzEgPSByZXF1aXJlKCcuLi9jb3JlX3ByaXZhdGUnKTtcbnZhciBjb3JlX3ByaXZhdGVfMiA9IHJlcXVpcmUoJy4uL2NvcmVfcHJpdmF0ZScpO1xudmFyIGNvbXBpbGVfbWV0YWRhdGFfMSA9IHJlcXVpcmUoJy4vY29tcGlsZV9tZXRhZGF0YScpO1xudmFyIHV0aWxfMSA9IHJlcXVpcmUoJy4vdXRpbCcpO1xudmFyIEFQUF9WSUVXX01PRFVMRV9VUkwgPSB1dGlsXzEuYXNzZXRVcmwoJ2NvcmUnLCAnbGlua2VyL3ZpZXcnKTtcbnZhciBWSUVXX1VUSUxTX01PRFVMRV9VUkwgPSB1dGlsXzEuYXNzZXRVcmwoJ2NvcmUnLCAnbGlua2VyL3ZpZXdfdXRpbHMnKTtcbnZhciBDRF9NT0RVTEVfVVJMID0gdXRpbF8xLmFzc2V0VXJsKCdjb3JlJywgJ2NoYW5nZV9kZXRlY3Rpb24vY2hhbmdlX2RldGVjdGlvbicpO1xuLy8gUmVhc3NpZ24gdGhlIGltcG9ydHMgdG8gZGlmZmVyZW50IHZhcmlhYmxlcyBzbyB3ZSBjYW5cbi8vIGRlZmluZSBzdGF0aWMgdmFyaWFibGVzIHdpdGggdGhlIG5hbWUgb2YgdGhlIGltcG9ydC5cbi8vIChvbmx5IG5lZWRlZCBmb3IgRGFydCkuXG52YXIgaW1wVmlld1V0aWxzID0gY29yZV9wcml2YXRlXzIuVmlld1V0aWxzO1xudmFyIGltcEFwcFZpZXcgPSBjb3JlX3ByaXZhdGVfMi5BcHBWaWV3O1xudmFyIGltcERlYnVnQXBwVmlldyA9IGNvcmVfcHJpdmF0ZV8yLkRlYnVnQXBwVmlldztcbnZhciBpbXBEZWJ1Z0NvbnRleHQgPSBjb3JlX3ByaXZhdGVfMi5EZWJ1Z0NvbnRleHQ7XG52YXIgaW1wQXBwRWxlbWVudCA9IGNvcmVfcHJpdmF0ZV8yLkFwcEVsZW1lbnQ7XG52YXIgaW1wRWxlbWVudFJlZiA9IGNvcmVfMS5FbGVtZW50UmVmO1xudmFyIGltcFZpZXdDb250YWluZXJSZWYgPSBjb3JlXzEuVmlld0NvbnRhaW5lclJlZjtcbnZhciBpbXBDaGFuZ2VEZXRlY3RvclJlZiA9IGNvcmVfMS5DaGFuZ2VEZXRlY3RvclJlZjtcbnZhciBpbXBSZW5kZXJDb21wb25lbnRUeXBlID0gY29yZV8xLlJlbmRlckNvbXBvbmVudFR5cGU7XG52YXIgaW1wUXVlcnlMaXN0ID0gY29yZV8xLlF1ZXJ5TGlzdDtcbnZhciBpbXBUZW1wbGF0ZVJlZiA9IGNvcmVfMS5UZW1wbGF0ZVJlZjtcbnZhciBpbXBUZW1wbGF0ZVJlZl8gPSBjb3JlX3ByaXZhdGVfMi5UZW1wbGF0ZVJlZl87XG52YXIgaW1wVmFsdWVVbndyYXBwZXIgPSBjb3JlX3ByaXZhdGVfMi5WYWx1ZVVud3JhcHBlcjtcbnZhciBpbXBJbmplY3RvciA9IGNvcmVfMS5JbmplY3RvcjtcbnZhciBpbXBWaWV3RW5jYXBzdWxhdGlvbiA9IGNvcmVfMS5WaWV3RW5jYXBzdWxhdGlvbjtcbnZhciBpbXBWaWV3VHlwZSA9IGNvcmVfcHJpdmF0ZV8yLlZpZXdUeXBlO1xudmFyIGltcENoYW5nZURldGVjdGlvblN0cmF0ZWd5ID0gY29yZV8xLkNoYW5nZURldGVjdGlvblN0cmF0ZWd5O1xudmFyIGltcFN0YXRpY05vZGVEZWJ1Z0luZm8gPSBjb3JlX3ByaXZhdGVfMi5TdGF0aWNOb2RlRGVidWdJbmZvO1xudmFyIGltcFJlbmRlcmVyID0gY29yZV8xLlJlbmRlcmVyO1xudmFyIGltcFNpbXBsZUNoYW5nZSA9IGNvcmVfMS5TaW1wbGVDaGFuZ2U7XG52YXIgaW1wVW5pbml0aWFsaXplZCA9IGNvcmVfcHJpdmF0ZV8yLnVuaW5pdGlhbGl6ZWQ7XG52YXIgaW1wQ2hhbmdlRGV0ZWN0b3JTdGF0ZSA9IGNvcmVfcHJpdmF0ZV8yLkNoYW5nZURldGVjdG9yU3RhdGU7XG52YXIgaW1wRmxhdHRlbk5lc3RlZFZpZXdSZW5kZXJOb2RlcyA9IGNvcmVfcHJpdmF0ZV8yLmZsYXR0ZW5OZXN0ZWRWaWV3UmVuZGVyTm9kZXM7XG52YXIgaW1wRGV2TW9kZUVxdWFsID0gY29yZV9wcml2YXRlXzIuZGV2TW9kZUVxdWFsO1xudmFyIGltcEludGVycG9sYXRlID0gY29yZV9wcml2YXRlXzIuaW50ZXJwb2xhdGU7XG52YXIgaW1wQ2hlY2tCaW5kaW5nID0gY29yZV9wcml2YXRlXzIuY2hlY2tCaW5kaW5nO1xudmFyIGltcENhc3RCeVZhbHVlID0gY29yZV9wcml2YXRlXzIuY2FzdEJ5VmFsdWU7XG52YXIgaW1wRU1QVFlfQVJSQVkgPSBjb3JlX3ByaXZhdGVfMi5FTVBUWV9BUlJBWTtcbnZhciBpbXBFTVBUWV9NQVAgPSBjb3JlX3ByaXZhdGVfMi5FTVBUWV9NQVA7XG52YXIgSWRlbnRpZmllcnMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIElkZW50aWZpZXJzKCkge1xuICAgIH1cbiAgICBJZGVudGlmaWVycy5WaWV3VXRpbHMgPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVJZGVudGlmaWVyTWV0YWRhdGEoeyBuYW1lOiAnVmlld1V0aWxzJywgbW9kdWxlVXJsOiB1dGlsXzEuYXNzZXRVcmwoJ2NvcmUnLCAnbGlua2VyL3ZpZXdfdXRpbHMnKSwgcnVudGltZTogaW1wVmlld1V0aWxzIH0pO1xuICAgIElkZW50aWZpZXJzLkFwcFZpZXcgPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVJZGVudGlmaWVyTWV0YWRhdGEoeyBuYW1lOiAnQXBwVmlldycsIG1vZHVsZVVybDogQVBQX1ZJRVdfTU9EVUxFX1VSTCwgcnVudGltZTogaW1wQXBwVmlldyB9KTtcbiAgICBJZGVudGlmaWVycy5EZWJ1Z0FwcFZpZXcgPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVJZGVudGlmaWVyTWV0YWRhdGEoeyBuYW1lOiAnRGVidWdBcHBWaWV3JywgbW9kdWxlVXJsOiBBUFBfVklFV19NT0RVTEVfVVJMLCBydW50aW1lOiBpbXBEZWJ1Z0FwcFZpZXcgfSk7XG4gICAgSWRlbnRpZmllcnMuQXBwRWxlbWVudCA9IG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7IG5hbWU6ICdBcHBFbGVtZW50JywgbW9kdWxlVXJsOiB1dGlsXzEuYXNzZXRVcmwoJ2NvcmUnLCAnbGlua2VyL2VsZW1lbnQnKSwgcnVudGltZTogaW1wQXBwRWxlbWVudCB9KTtcbiAgICBJZGVudGlmaWVycy5FbGVtZW50UmVmID0gbmV3IGNvbXBpbGVfbWV0YWRhdGFfMS5Db21waWxlSWRlbnRpZmllck1ldGFkYXRhKHtcbiAgICAgICAgbmFtZTogJ0VsZW1lbnRSZWYnLFxuICAgICAgICBtb2R1bGVVcmw6IHV0aWxfMS5hc3NldFVybCgnY29yZScsICdsaW5rZXIvZWxlbWVudF9yZWYnKSxcbiAgICAgICAgcnVudGltZTogaW1wRWxlbWVudFJlZlxuICAgIH0pO1xuICAgIElkZW50aWZpZXJzLlZpZXdDb250YWluZXJSZWYgPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVJZGVudGlmaWVyTWV0YWRhdGEoe1xuICAgICAgICBuYW1lOiAnVmlld0NvbnRhaW5lclJlZicsXG4gICAgICAgIG1vZHVsZVVybDogdXRpbF8xLmFzc2V0VXJsKCdjb3JlJywgJ2xpbmtlci92aWV3X2NvbnRhaW5lcl9yZWYnKSxcbiAgICAgICAgcnVudGltZTogaW1wVmlld0NvbnRhaW5lclJlZlxuICAgIH0pO1xuICAgIElkZW50aWZpZXJzLkNoYW5nZURldGVjdG9yUmVmID0gbmV3IGNvbXBpbGVfbWV0YWRhdGFfMS5Db21waWxlSWRlbnRpZmllck1ldGFkYXRhKHtcbiAgICAgICAgbmFtZTogJ0NoYW5nZURldGVjdG9yUmVmJyxcbiAgICAgICAgbW9kdWxlVXJsOiB1dGlsXzEuYXNzZXRVcmwoJ2NvcmUnLCAnY2hhbmdlX2RldGVjdGlvbi9jaGFuZ2VfZGV0ZWN0b3JfcmVmJyksXG4gICAgICAgIHJ1bnRpbWU6IGltcENoYW5nZURldGVjdG9yUmVmXG4gICAgfSk7XG4gICAgSWRlbnRpZmllcnMuUmVuZGVyQ29tcG9uZW50VHlwZSA9IG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7XG4gICAgICAgIG5hbWU6ICdSZW5kZXJDb21wb25lbnRUeXBlJyxcbiAgICAgICAgbW9kdWxlVXJsOiB1dGlsXzEuYXNzZXRVcmwoJ2NvcmUnLCAncmVuZGVyL2FwaScpLFxuICAgICAgICBydW50aW1lOiBpbXBSZW5kZXJDb21wb25lbnRUeXBlXG4gICAgfSk7XG4gICAgSWRlbnRpZmllcnMuUXVlcnlMaXN0ID0gbmV3IGNvbXBpbGVfbWV0YWRhdGFfMS5Db21waWxlSWRlbnRpZmllck1ldGFkYXRhKHsgbmFtZTogJ1F1ZXJ5TGlzdCcsIG1vZHVsZVVybDogdXRpbF8xLmFzc2V0VXJsKCdjb3JlJywgJ2xpbmtlci9xdWVyeV9saXN0JyksIHJ1bnRpbWU6IGltcFF1ZXJ5TGlzdCB9KTtcbiAgICBJZGVudGlmaWVycy5UZW1wbGF0ZVJlZiA9IG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7XG4gICAgICAgIG5hbWU6ICdUZW1wbGF0ZVJlZicsXG4gICAgICAgIG1vZHVsZVVybDogdXRpbF8xLmFzc2V0VXJsKCdjb3JlJywgJ2xpbmtlci90ZW1wbGF0ZV9yZWYnKSxcbiAgICAgICAgcnVudGltZTogaW1wVGVtcGxhdGVSZWZcbiAgICB9KTtcbiAgICBJZGVudGlmaWVycy5UZW1wbGF0ZVJlZl8gPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVJZGVudGlmaWVyTWV0YWRhdGEoe1xuICAgICAgICBuYW1lOiAnVGVtcGxhdGVSZWZfJyxcbiAgICAgICAgbW9kdWxlVXJsOiB1dGlsXzEuYXNzZXRVcmwoJ2NvcmUnLCAnbGlua2VyL3RlbXBsYXRlX3JlZicpLFxuICAgICAgICBydW50aW1lOiBpbXBUZW1wbGF0ZVJlZl9cbiAgICB9KTtcbiAgICBJZGVudGlmaWVycy5WYWx1ZVVud3JhcHBlciA9IG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7IG5hbWU6ICdWYWx1ZVVud3JhcHBlcicsIG1vZHVsZVVybDogQ0RfTU9EVUxFX1VSTCwgcnVudGltZTogaW1wVmFsdWVVbndyYXBwZXIgfSk7XG4gICAgSWRlbnRpZmllcnMuSW5qZWN0b3IgPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVJZGVudGlmaWVyTWV0YWRhdGEoeyBuYW1lOiAnSW5qZWN0b3InLCBtb2R1bGVVcmw6IHV0aWxfMS5hc3NldFVybCgnY29yZScsICdkaS9pbmplY3RvcicpLCBydW50aW1lOiBpbXBJbmplY3RvciB9KTtcbiAgICBJZGVudGlmaWVycy5WaWV3RW5jYXBzdWxhdGlvbiA9IG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7XG4gICAgICAgIG5hbWU6ICdWaWV3RW5jYXBzdWxhdGlvbicsXG4gICAgICAgIG1vZHVsZVVybDogdXRpbF8xLmFzc2V0VXJsKCdjb3JlJywgJ21ldGFkYXRhL3ZpZXcnKSxcbiAgICAgICAgcnVudGltZTogaW1wVmlld0VuY2Fwc3VsYXRpb25cbiAgICB9KTtcbiAgICBJZGVudGlmaWVycy5WaWV3VHlwZSA9IG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7IG5hbWU6ICdWaWV3VHlwZScsIG1vZHVsZVVybDogdXRpbF8xLmFzc2V0VXJsKCdjb3JlJywgJ2xpbmtlci92aWV3X3R5cGUnKSwgcnVudGltZTogaW1wVmlld1R5cGUgfSk7XG4gICAgSWRlbnRpZmllcnMuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVJZGVudGlmaWVyTWV0YWRhdGEoe1xuICAgICAgICBuYW1lOiAnQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3knLFxuICAgICAgICBtb2R1bGVVcmw6IENEX01PRFVMRV9VUkwsXG4gICAgICAgIHJ1bnRpbWU6IGltcENoYW5nZURldGVjdGlvblN0cmF0ZWd5XG4gICAgfSk7XG4gICAgSWRlbnRpZmllcnMuU3RhdGljTm9kZURlYnVnSW5mbyA9IG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7XG4gICAgICAgIG5hbWU6ICdTdGF0aWNOb2RlRGVidWdJbmZvJyxcbiAgICAgICAgbW9kdWxlVXJsOiB1dGlsXzEuYXNzZXRVcmwoJ2NvcmUnLCAnbGlua2VyL2RlYnVnX2NvbnRleHQnKSxcbiAgICAgICAgcnVudGltZTogaW1wU3RhdGljTm9kZURlYnVnSW5mb1xuICAgIH0pO1xuICAgIElkZW50aWZpZXJzLkRlYnVnQ29udGV4dCA9IG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7XG4gICAgICAgIG5hbWU6ICdEZWJ1Z0NvbnRleHQnLFxuICAgICAgICBtb2R1bGVVcmw6IHV0aWxfMS5hc3NldFVybCgnY29yZScsICdsaW5rZXIvZGVidWdfY29udGV4dCcpLFxuICAgICAgICBydW50aW1lOiBpbXBEZWJ1Z0NvbnRleHRcbiAgICB9KTtcbiAgICBJZGVudGlmaWVycy5SZW5kZXJlciA9IG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7IG5hbWU6ICdSZW5kZXJlcicsIG1vZHVsZVVybDogdXRpbF8xLmFzc2V0VXJsKCdjb3JlJywgJ3JlbmRlci9hcGknKSwgcnVudGltZTogaW1wUmVuZGVyZXIgfSk7XG4gICAgSWRlbnRpZmllcnMuU2ltcGxlQ2hhbmdlID0gbmV3IGNvbXBpbGVfbWV0YWRhdGFfMS5Db21waWxlSWRlbnRpZmllck1ldGFkYXRhKHsgbmFtZTogJ1NpbXBsZUNoYW5nZScsIG1vZHVsZVVybDogQ0RfTU9EVUxFX1VSTCwgcnVudGltZTogaW1wU2ltcGxlQ2hhbmdlIH0pO1xuICAgIElkZW50aWZpZXJzLnVuaW5pdGlhbGl6ZWQgPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVJZGVudGlmaWVyTWV0YWRhdGEoeyBuYW1lOiAndW5pbml0aWFsaXplZCcsIG1vZHVsZVVybDogQ0RfTU9EVUxFX1VSTCwgcnVudGltZTogaW1wVW5pbml0aWFsaXplZCB9KTtcbiAgICBJZGVudGlmaWVycy5DaGFuZ2VEZXRlY3RvclN0YXRlID0gbmV3IGNvbXBpbGVfbWV0YWRhdGFfMS5Db21waWxlSWRlbnRpZmllck1ldGFkYXRhKHsgbmFtZTogJ0NoYW5nZURldGVjdG9yU3RhdGUnLCBtb2R1bGVVcmw6IENEX01PRFVMRV9VUkwsIHJ1bnRpbWU6IGltcENoYW5nZURldGVjdG9yU3RhdGUgfSk7XG4gICAgSWRlbnRpZmllcnMuY2hlY2tCaW5kaW5nID0gbmV3IGNvbXBpbGVfbWV0YWRhdGFfMS5Db21waWxlSWRlbnRpZmllck1ldGFkYXRhKHsgbmFtZTogJ2NoZWNrQmluZGluZycsIG1vZHVsZVVybDogVklFV19VVElMU19NT0RVTEVfVVJMLCBydW50aW1lOiBpbXBDaGVja0JpbmRpbmcgfSk7XG4gICAgSWRlbnRpZmllcnMuZmxhdHRlbk5lc3RlZFZpZXdSZW5kZXJOb2RlcyA9IG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7XG4gICAgICAgIG5hbWU6ICdmbGF0dGVuTmVzdGVkVmlld1JlbmRlck5vZGVzJyxcbiAgICAgICAgbW9kdWxlVXJsOiBWSUVXX1VUSUxTX01PRFVMRV9VUkwsXG4gICAgICAgIHJ1bnRpbWU6IGltcEZsYXR0ZW5OZXN0ZWRWaWV3UmVuZGVyTm9kZXNcbiAgICB9KTtcbiAgICBJZGVudGlmaWVycy5kZXZNb2RlRXF1YWwgPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVJZGVudGlmaWVyTWV0YWRhdGEoeyBuYW1lOiAnZGV2TW9kZUVxdWFsJywgbW9kdWxlVXJsOiBDRF9NT0RVTEVfVVJMLCBydW50aW1lOiBpbXBEZXZNb2RlRXF1YWwgfSk7XG4gICAgSWRlbnRpZmllcnMuaW50ZXJwb2xhdGUgPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVJZGVudGlmaWVyTWV0YWRhdGEoeyBuYW1lOiAnaW50ZXJwb2xhdGUnLCBtb2R1bGVVcmw6IFZJRVdfVVRJTFNfTU9EVUxFX1VSTCwgcnVudGltZTogaW1wSW50ZXJwb2xhdGUgfSk7XG4gICAgSWRlbnRpZmllcnMuY2FzdEJ5VmFsdWUgPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVJZGVudGlmaWVyTWV0YWRhdGEoeyBuYW1lOiAnY2FzdEJ5VmFsdWUnLCBtb2R1bGVVcmw6IFZJRVdfVVRJTFNfTU9EVUxFX1VSTCwgcnVudGltZTogaW1wQ2FzdEJ5VmFsdWUgfSk7XG4gICAgSWRlbnRpZmllcnMuRU1QVFlfQVJSQVkgPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVJZGVudGlmaWVyTWV0YWRhdGEoeyBuYW1lOiAnRU1QVFlfQVJSQVknLCBtb2R1bGVVcmw6IFZJRVdfVVRJTFNfTU9EVUxFX1VSTCwgcnVudGltZTogaW1wRU1QVFlfQVJSQVkgfSk7XG4gICAgSWRlbnRpZmllcnMuRU1QVFlfTUFQID0gbmV3IGNvbXBpbGVfbWV0YWRhdGFfMS5Db21waWxlSWRlbnRpZmllck1ldGFkYXRhKHsgbmFtZTogJ0VNUFRZX01BUCcsIG1vZHVsZVVybDogVklFV19VVElMU19NT0RVTEVfVVJMLCBydW50aW1lOiBpbXBFTVBUWV9NQVAgfSk7XG4gICAgSWRlbnRpZmllcnMucHVyZVByb3hpZXMgPSBbXG4gICAgICAgIG51bGwsXG4gICAgICAgIG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7IG5hbWU6ICdwdXJlUHJveHkxJywgbW9kdWxlVXJsOiBWSUVXX1VUSUxTX01PRFVMRV9VUkwsIHJ1bnRpbWU6IGNvcmVfcHJpdmF0ZV8yLnB1cmVQcm94eTEgfSksXG4gICAgICAgIG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7IG5hbWU6ICdwdXJlUHJveHkyJywgbW9kdWxlVXJsOiBWSUVXX1VUSUxTX01PRFVMRV9VUkwsIHJ1bnRpbWU6IGNvcmVfcHJpdmF0ZV8yLnB1cmVQcm94eTIgfSksXG4gICAgICAgIG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7IG5hbWU6ICdwdXJlUHJveHkzJywgbW9kdWxlVXJsOiBWSUVXX1VUSUxTX01PRFVMRV9VUkwsIHJ1bnRpbWU6IGNvcmVfcHJpdmF0ZV8yLnB1cmVQcm94eTMgfSksXG4gICAgICAgIG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7IG5hbWU6ICdwdXJlUHJveHk0JywgbW9kdWxlVXJsOiBWSUVXX1VUSUxTX01PRFVMRV9VUkwsIHJ1bnRpbWU6IGNvcmVfcHJpdmF0ZV8yLnB1cmVQcm94eTQgfSksXG4gICAgICAgIG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7IG5hbWU6ICdwdXJlUHJveHk1JywgbW9kdWxlVXJsOiBWSUVXX1VUSUxTX01PRFVMRV9VUkwsIHJ1bnRpbWU6IGNvcmVfcHJpdmF0ZV8yLnB1cmVQcm94eTUgfSksXG4gICAgICAgIG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7IG5hbWU6ICdwdXJlUHJveHk2JywgbW9kdWxlVXJsOiBWSUVXX1VUSUxTX01PRFVMRV9VUkwsIHJ1bnRpbWU6IGNvcmVfcHJpdmF0ZV8yLnB1cmVQcm94eTYgfSksXG4gICAgICAgIG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7IG5hbWU6ICdwdXJlUHJveHk3JywgbW9kdWxlVXJsOiBWSUVXX1VUSUxTX01PRFVMRV9VUkwsIHJ1bnRpbWU6IGNvcmVfcHJpdmF0ZV8yLnB1cmVQcm94eTcgfSksXG4gICAgICAgIG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7IG5hbWU6ICdwdXJlUHJveHk4JywgbW9kdWxlVXJsOiBWSUVXX1VUSUxTX01PRFVMRV9VUkwsIHJ1bnRpbWU6IGNvcmVfcHJpdmF0ZV8yLnB1cmVQcm94eTggfSksXG4gICAgICAgIG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7IG5hbWU6ICdwdXJlUHJveHk5JywgbW9kdWxlVXJsOiBWSUVXX1VUSUxTX01PRFVMRV9VUkwsIHJ1bnRpbWU6IGNvcmVfcHJpdmF0ZV8yLnB1cmVQcm94eTkgfSksXG4gICAgICAgIG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7IG5hbWU6ICdwdXJlUHJveHkxMCcsIG1vZHVsZVVybDogVklFV19VVElMU19NT0RVTEVfVVJMLCBydW50aW1lOiBjb3JlX3ByaXZhdGVfMi5wdXJlUHJveHkxMCB9KSxcbiAgICBdO1xuICAgIElkZW50aWZpZXJzLlNlY3VyaXR5Q29udGV4dCA9IG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7XG4gICAgICAgIG5hbWU6ICdTZWN1cml0eUNvbnRleHQnLFxuICAgICAgICBtb2R1bGVVcmw6IHV0aWxfMS5hc3NldFVybCgnY29yZScsICdzZWN1cml0eScpLFxuICAgICAgICBydW50aW1lOiBjb3JlX3ByaXZhdGVfMS5TZWN1cml0eUNvbnRleHQsXG4gICAgfSk7XG4gICAgcmV0dXJuIElkZW50aWZpZXJzO1xufSgpKTtcbmV4cG9ydHMuSWRlbnRpZmllcnMgPSBJZGVudGlmaWVycztcbmZ1bmN0aW9uIGlkZW50aWZpZXJUb2tlbihpZGVudGlmaWVyKSB7XG4gICAgcmV0dXJuIG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZVRva2VuTWV0YWRhdGEoeyBpZGVudGlmaWVyOiBpZGVudGlmaWVyIH0pO1xufVxuZXhwb3J0cy5pZGVudGlmaWVyVG9rZW4gPSBpZGVudGlmaWVyVG9rZW47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pZGVudGlmaWVycy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBjb3JlX3ByaXZhdGVfMSA9IHJlcXVpcmUoJy4uL2NvcmVfcHJpdmF0ZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvZXhjZXB0aW9ucycpO1xudmFyIGNwbCA9IHJlcXVpcmUoJy4vY29tcGlsZV9tZXRhZGF0YScpO1xudmFyIGRpcmVjdGl2ZV9yZXNvbHZlcl8xID0gcmVxdWlyZSgnLi9kaXJlY3RpdmVfcmVzb2x2ZXInKTtcbnZhciBwaXBlX3Jlc29sdmVyXzEgPSByZXF1aXJlKCcuL3BpcGVfcmVzb2x2ZXInKTtcbnZhciB2aWV3X3Jlc29sdmVyXzEgPSByZXF1aXJlKCcuL3ZpZXdfcmVzb2x2ZXInKTtcbnZhciBkaXJlY3RpdmVfbGlmZWN5Y2xlX3JlZmxlY3Rvcl8xID0gcmVxdWlyZSgnLi9kaXJlY3RpdmVfbGlmZWN5Y2xlX3JlZmxlY3RvcicpO1xudmFyIHV0aWxfMSA9IHJlcXVpcmUoJy4vdXRpbCcpO1xudmFyIGFzc2VydGlvbnNfMSA9IHJlcXVpcmUoJy4vYXNzZXJ0aW9ucycpO1xudmFyIHVybF9yZXNvbHZlcl8xID0gcmVxdWlyZSgnLi91cmxfcmVzb2x2ZXInKTtcbnZhciBjb3JlX3ByaXZhdGVfMiA9IHJlcXVpcmUoXCIuLi9jb3JlX3ByaXZhdGVcIik7XG52YXIgQ29tcGlsZU1ldGFkYXRhUmVzb2x2ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbXBpbGVNZXRhZGF0YVJlc29sdmVyKF9kaXJlY3RpdmVSZXNvbHZlciwgX3BpcGVSZXNvbHZlciwgX3ZpZXdSZXNvbHZlciwgX3BsYXRmb3JtRGlyZWN0aXZlcywgX3BsYXRmb3JtUGlwZXMsIF9yZWZsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5fZGlyZWN0aXZlUmVzb2x2ZXIgPSBfZGlyZWN0aXZlUmVzb2x2ZXI7XG4gICAgICAgIHRoaXMuX3BpcGVSZXNvbHZlciA9IF9waXBlUmVzb2x2ZXI7XG4gICAgICAgIHRoaXMuX3ZpZXdSZXNvbHZlciA9IF92aWV3UmVzb2x2ZXI7XG4gICAgICAgIHRoaXMuX3BsYXRmb3JtRGlyZWN0aXZlcyA9IF9wbGF0Zm9ybURpcmVjdGl2ZXM7XG4gICAgICAgIHRoaXMuX3BsYXRmb3JtUGlwZXMgPSBfcGxhdGZvcm1QaXBlcztcbiAgICAgICAgdGhpcy5fZGlyZWN0aXZlQ2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX3BpcGVDYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fYW5vbnltb3VzVHlwZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX2Fub255bW91c1R5cGVJbmRleCA9IDA7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KF9yZWZsZWN0b3IpKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWZsZWN0b3IgPSBfcmVmbGVjdG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdG9yID0gY29yZV8xLnJlZmxlY3RvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBDb21waWxlTWV0YWRhdGFSZXNvbHZlci5wcm90b3R5cGUuc2FuaXRpemVUb2tlbk5hbWUgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYW5nXzEuc3RyaW5naWZ5KHRva2VuKTtcbiAgICAgICAgaWYgKGlkZW50aWZpZXIuaW5kZXhPZignKCcpID49IDApIHtcbiAgICAgICAgICAgIC8vIGNhc2U6IGFub255bW91cyBmdW5jdGlvbnMhXG4gICAgICAgICAgICB2YXIgZm91bmQgPSB0aGlzLl9hbm9ueW1vdXNUeXBlcy5nZXQodG9rZW4pO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKGZvdW5kKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Fub255bW91c1R5cGVzLnNldCh0b2tlbiwgdGhpcy5fYW5vbnltb3VzVHlwZUluZGV4KyspO1xuICAgICAgICAgICAgICAgIGZvdW5kID0gdGhpcy5fYW5vbnltb3VzVHlwZXMuZ2V0KHRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlkZW50aWZpZXIgPSBcImFub255bW91c190b2tlbl9cIiArIGZvdW5kICsgXCJfXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHV0aWxfMS5zYW5pdGl6ZUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgfTtcbiAgICBDb21waWxlTWV0YWRhdGFSZXNvbHZlci5wcm90b3R5cGUuZ2V0RGlyZWN0aXZlTWV0YWRhdGEgPSBmdW5jdGlvbiAoZGlyZWN0aXZlVHlwZSkge1xuICAgICAgICB2YXIgbWV0YSA9IHRoaXMuX2RpcmVjdGl2ZUNhY2hlLmdldChkaXJlY3RpdmVUeXBlKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKG1ldGEpKSB7XG4gICAgICAgICAgICB2YXIgZGlyTWV0YSA9IHRoaXMuX2RpcmVjdGl2ZVJlc29sdmVyLnJlc29sdmUoZGlyZWN0aXZlVHlwZSk7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVNZXRhID0gbnVsbDtcbiAgICAgICAgICAgIHZhciBjaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSA9IG51bGw7XG4gICAgICAgICAgICB2YXIgdmlld1Byb3ZpZGVycyA9IFtdO1xuICAgICAgICAgICAgdmFyIG1vZHVsZVVybCA9IHN0YXRpY1R5cGVNb2R1bGVVcmwoZGlyZWN0aXZlVHlwZSk7XG4gICAgICAgICAgICBpZiAoZGlyTWV0YSBpbnN0YW5jZW9mIGNvcmVfMS5Db21wb25lbnRNZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgIGFzc2VydGlvbnNfMS5hc3NlcnRBcnJheU9mU3RyaW5ncygnc3R5bGVzJywgZGlyTWV0YS5zdHlsZXMpO1xuICAgICAgICAgICAgICAgIHZhciBjbXBNZXRhID0gZGlyTWV0YTtcbiAgICAgICAgICAgICAgICB2YXIgdmlld01ldGEgPSB0aGlzLl92aWV3UmVzb2x2ZXIucmVzb2x2ZShkaXJlY3RpdmVUeXBlKTtcbiAgICAgICAgICAgICAgICBhc3NlcnRpb25zXzEuYXNzZXJ0QXJyYXlPZlN0cmluZ3MoJ3N0eWxlcycsIHZpZXdNZXRhLnN0eWxlcyk7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVNZXRhID0gbmV3IGNwbC5Db21waWxlVGVtcGxhdGVNZXRhZGF0YSh7XG4gICAgICAgICAgICAgICAgICAgIGVuY2Fwc3VsYXRpb246IHZpZXdNZXRhLmVuY2Fwc3VsYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB2aWV3TWV0YS50ZW1wbGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IHZpZXdNZXRhLnRlbXBsYXRlVXJsLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZXM6IHZpZXdNZXRhLnN0eWxlcyxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVVcmxzOiB2aWV3TWV0YS5zdHlsZVVybHNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSA9IGNtcE1ldGEuY2hhbmdlRGV0ZWN0aW9uO1xuICAgICAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGRpck1ldGEudmlld1Byb3ZpZGVycykpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlld1Byb3ZpZGVycyA9IHRoaXMuZ2V0UHJvdmlkZXJzTWV0YWRhdGEoZGlyTWV0YS52aWV3UHJvdmlkZXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbW9kdWxlVXJsID0gY29tcG9uZW50TW9kdWxlVXJsKHRoaXMuX3JlZmxlY3RvciwgZGlyZWN0aXZlVHlwZSwgY21wTWV0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcHJvdmlkZXJzID0gW107XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChkaXJNZXRhLnByb3ZpZGVycykpIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlcnMgPSB0aGlzLmdldFByb3ZpZGVyc01ldGFkYXRhKGRpck1ldGEucHJvdmlkZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBxdWVyaWVzID0gW107XG4gICAgICAgICAgICB2YXIgdmlld1F1ZXJpZXMgPSBbXTtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGRpck1ldGEucXVlcmllcykpIHtcbiAgICAgICAgICAgICAgICBxdWVyaWVzID0gdGhpcy5nZXRRdWVyaWVzTWV0YWRhdGEoZGlyTWV0YS5xdWVyaWVzLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdmlld1F1ZXJpZXMgPSB0aGlzLmdldFF1ZXJpZXNNZXRhZGF0YShkaXJNZXRhLnF1ZXJpZXMsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWV0YSA9IGNwbC5Db21waWxlRGlyZWN0aXZlTWV0YWRhdGEuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICBzZWxlY3RvcjogZGlyTWV0YS5zZWxlY3RvcixcbiAgICAgICAgICAgICAgICBleHBvcnRBczogZGlyTWV0YS5leHBvcnRBcyxcbiAgICAgICAgICAgICAgICBpc0NvbXBvbmVudDogbGFuZ18xLmlzUHJlc2VudCh0ZW1wbGF0ZU1ldGEpLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMuZ2V0VHlwZU1ldGFkYXRhKGRpcmVjdGl2ZVR5cGUsIG1vZHVsZVVybCksXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlTWV0YSxcbiAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IGNoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgIGlucHV0czogZGlyTWV0YS5pbnB1dHMsXG4gICAgICAgICAgICAgICAgb3V0cHV0czogZGlyTWV0YS5vdXRwdXRzLFxuICAgICAgICAgICAgICAgIGhvc3Q6IGRpck1ldGEuaG9zdCxcbiAgICAgICAgICAgICAgICBsaWZlY3ljbGVIb29rczogY29yZV9wcml2YXRlXzEuTElGRUNZQ0xFX0hPT0tTX1ZBTFVFUy5maWx0ZXIoZnVuY3Rpb24gKGhvb2spIHsgcmV0dXJuIGRpcmVjdGl2ZV9saWZlY3ljbGVfcmVmbGVjdG9yXzEuaGFzTGlmZWN5Y2xlSG9vayhob29rLCBkaXJlY3RpdmVUeXBlKTsgfSksXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBwcm92aWRlcnMsXG4gICAgICAgICAgICAgICAgdmlld1Byb3ZpZGVyczogdmlld1Byb3ZpZGVycyxcbiAgICAgICAgICAgICAgICBxdWVyaWVzOiBxdWVyaWVzLFxuICAgICAgICAgICAgICAgIHZpZXdRdWVyaWVzOiB2aWV3UXVlcmllc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9kaXJlY3RpdmVDYWNoZS5zZXQoZGlyZWN0aXZlVHlwZSwgbWV0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ldGE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc29tZVR5cGUgYSBzeW1ib2wgd2hpY2ggbWF5IG9yIG1heSBub3QgYmUgYSBkaXJlY3RpdmUgdHlwZVxuICAgICAqIEByZXR1cm5zIHtjcGwuQ29tcGlsZURpcmVjdGl2ZU1ldGFkYXRhfSBpZiBwb3NzaWJsZSwgb3RoZXJ3aXNlIG51bGwuXG4gICAgICovXG4gICAgQ29tcGlsZU1ldGFkYXRhUmVzb2x2ZXIucHJvdG90eXBlLm1heWJlR2V0RGlyZWN0aXZlTWV0YWRhdGEgPSBmdW5jdGlvbiAoc29tZVR5cGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldERpcmVjdGl2ZU1ldGFkYXRhKHNvbWVUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGUubWVzc2FnZS5pbmRleE9mKCdObyBEaXJlY3RpdmUgYW5ub3RhdGlvbicpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29tcGlsZU1ldGFkYXRhUmVzb2x2ZXIucHJvdG90eXBlLmdldFR5cGVNZXRhZGF0YSA9IGZ1bmN0aW9uICh0eXBlLCBtb2R1bGVVcmwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBjcGwuQ29tcGlsZVR5cGVNZXRhZGF0YSh7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLnNhbml0aXplVG9rZW5OYW1lKHR5cGUpLFxuICAgICAgICAgICAgbW9kdWxlVXJsOiBtb2R1bGVVcmwsXG4gICAgICAgICAgICBydW50aW1lOiB0eXBlLFxuICAgICAgICAgICAgZGlEZXBzOiB0aGlzLmdldERlcGVuZGVuY2llc01ldGFkYXRhKHR5cGUsIG51bGwpXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29tcGlsZU1ldGFkYXRhUmVzb2x2ZXIucHJvdG90eXBlLmdldEZhY3RvcnlNZXRhZGF0YSA9IGZ1bmN0aW9uIChmYWN0b3J5LCBtb2R1bGVVcmwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBjcGwuQ29tcGlsZUZhY3RvcnlNZXRhZGF0YSh7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLnNhbml0aXplVG9rZW5OYW1lKGZhY3RvcnkpLFxuICAgICAgICAgICAgbW9kdWxlVXJsOiBtb2R1bGVVcmwsXG4gICAgICAgICAgICBydW50aW1lOiBmYWN0b3J5LFxuICAgICAgICAgICAgZGlEZXBzOiB0aGlzLmdldERlcGVuZGVuY2llc01ldGFkYXRhKGZhY3RvcnksIG51bGwpXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29tcGlsZU1ldGFkYXRhUmVzb2x2ZXIucHJvdG90eXBlLmdldFBpcGVNZXRhZGF0YSA9IGZ1bmN0aW9uIChwaXBlVHlwZSkge1xuICAgICAgICB2YXIgbWV0YSA9IHRoaXMuX3BpcGVDYWNoZS5nZXQocGlwZVR5cGUpO1xuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsobWV0YSkpIHtcbiAgICAgICAgICAgIHZhciBwaXBlTWV0YSA9IHRoaXMuX3BpcGVSZXNvbHZlci5yZXNvbHZlKHBpcGVUeXBlKTtcbiAgICAgICAgICAgIG1ldGEgPSBuZXcgY3BsLkNvbXBpbGVQaXBlTWV0YWRhdGEoe1xuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMuZ2V0VHlwZU1ldGFkYXRhKHBpcGVUeXBlLCBzdGF0aWNUeXBlTW9kdWxlVXJsKHBpcGVUeXBlKSksXG4gICAgICAgICAgICAgICAgbmFtZTogcGlwZU1ldGEubmFtZSxcbiAgICAgICAgICAgICAgICBwdXJlOiBwaXBlTWV0YS5wdXJlLFxuICAgICAgICAgICAgICAgIGxpZmVjeWNsZUhvb2tzOiBjb3JlX3ByaXZhdGVfMS5MSUZFQ1lDTEVfSE9PS1NfVkFMVUVTLmZpbHRlcihmdW5jdGlvbiAoaG9vaykgeyByZXR1cm4gZGlyZWN0aXZlX2xpZmVjeWNsZV9yZWZsZWN0b3JfMS5oYXNMaWZlY3ljbGVIb29rKGhvb2ssIHBpcGVUeXBlKTsgfSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX3BpcGVDYWNoZS5zZXQocGlwZVR5cGUsIG1ldGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXRhO1xuICAgIH07XG4gICAgQ29tcGlsZU1ldGFkYXRhUmVzb2x2ZXIucHJvdG90eXBlLmdldFZpZXdEaXJlY3RpdmVzTWV0YWRhdGEgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcy5fdmlld1Jlc29sdmVyLnJlc29sdmUoY29tcG9uZW50KTtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZXMgPSBmbGF0dGVuRGlyZWN0aXZlcyh2aWV3LCB0aGlzLl9wbGF0Zm9ybURpcmVjdGl2ZXMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpcmVjdGl2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghaXNWYWxpZFR5cGUoZGlyZWN0aXZlc1tpXSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJVbmV4cGVjdGVkIGRpcmVjdGl2ZSB2YWx1ZSAnXCIgKyBsYW5nXzEuc3RyaW5naWZ5KGRpcmVjdGl2ZXNbaV0pICsgXCInIG9uIHRoZSBWaWV3IG9mIGNvbXBvbmVudCAnXCIgKyBsYW5nXzEuc3RyaW5naWZ5KGNvbXBvbmVudCkgKyBcIidcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZXMubWFwKGZ1bmN0aW9uICh0eXBlKSB7IHJldHVybiBfdGhpcy5nZXREaXJlY3RpdmVNZXRhZGF0YSh0eXBlKTsgfSk7XG4gICAgfTtcbiAgICBDb21waWxlTWV0YWRhdGFSZXNvbHZlci5wcm90b3R5cGUuZ2V0Vmlld1BpcGVzTWV0YWRhdGEgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcy5fdmlld1Jlc29sdmVyLnJlc29sdmUoY29tcG9uZW50KTtcbiAgICAgICAgdmFyIHBpcGVzID0gZmxhdHRlblBpcGVzKHZpZXcsIHRoaXMuX3BsYXRmb3JtUGlwZXMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBpcGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWlzVmFsaWRUeXBlKHBpcGVzW2ldKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbihcIlVuZXhwZWN0ZWQgcGlwZWQgdmFsdWUgJ1wiICsgbGFuZ18xLnN0cmluZ2lmeShwaXBlc1tpXSkgKyBcIicgb24gdGhlIFZpZXcgb2YgY29tcG9uZW50ICdcIiArIGxhbmdfMS5zdHJpbmdpZnkoY29tcG9uZW50KSArIFwiJ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZXMubWFwKGZ1bmN0aW9uICh0eXBlKSB7IHJldHVybiBfdGhpcy5nZXRQaXBlTWV0YWRhdGEodHlwZSk7IH0pO1xuICAgIH07XG4gICAgQ29tcGlsZU1ldGFkYXRhUmVzb2x2ZXIucHJvdG90eXBlLmdldERlcGVuZGVuY2llc01ldGFkYXRhID0gZnVuY3Rpb24gKHR5cGVPckZ1bmMsIGRlcGVuZGVuY2llcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcGFyYW1zID0gbGFuZ18xLmlzUHJlc2VudChkZXBlbmRlbmNpZXMpID8gZGVwZW5kZW5jaWVzIDogdGhpcy5fcmVmbGVjdG9yLnBhcmFtZXRlcnModHlwZU9yRnVuYyk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhwYXJhbXMpKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhwYXJhbSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpc0F0dHJpYnV0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGlzSG9zdCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGlzU2VsZiA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGlzU2tpcFNlbGYgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBpc09wdGlvbmFsID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgcXVlcnkgPSBudWxsO1xuICAgICAgICAgICAgdmFyIHZpZXdRdWVyeSA9IG51bGw7XG4gICAgICAgICAgICB2YXIgdG9rZW4gPSBudWxsO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0FycmF5KHBhcmFtKSkge1xuICAgICAgICAgICAgICAgIHBhcmFtXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbUVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbUVudHJ5IGluc3RhbmNlb2YgY29yZV8xLkhvc3RNZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNIb3N0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXJhbUVudHJ5IGluc3RhbmNlb2YgY29yZV8xLlNlbGZNZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxmID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXJhbUVudHJ5IGluc3RhbmNlb2YgY29yZV8xLlNraXBTZWxmTWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU2tpcFNlbGYgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBhcmFtRW50cnkgaW5zdGFuY2VvZiBjb3JlXzEuT3B0aW9uYWxNZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNPcHRpb25hbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGFyYW1FbnRyeSBpbnN0YW5jZW9mIGNvcmVfMS5BdHRyaWJ1dGVNZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNBdHRyaWJ1dGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBwYXJhbUVudHJ5LmF0dHJpYnV0ZU5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGFyYW1FbnRyeSBpbnN0YW5jZW9mIGNvcmVfMS5RdWVyeU1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1FbnRyeS5pc1ZpZXdRdWVyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdRdWVyeSA9IHBhcmFtRW50cnk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSA9IHBhcmFtRW50cnk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGFyYW1FbnRyeSBpbnN0YW5jZW9mIGNvcmVfMS5JbmplY3RNZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBwYXJhbUVudHJ5LnRva2VuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzVmFsaWRUeXBlKHBhcmFtRW50cnkpICYmIGxhbmdfMS5pc0JsYW5rKHRva2VuKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBwYXJhbUVudHJ5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHBhcmFtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHRva2VuKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBjcGwuQ29tcGlsZURpRGVwZW5kZW5jeU1ldGFkYXRhKHtcbiAgICAgICAgICAgICAgICBpc0F0dHJpYnV0ZTogaXNBdHRyaWJ1dGUsXG4gICAgICAgICAgICAgICAgaXNIb3N0OiBpc0hvc3QsXG4gICAgICAgICAgICAgICAgaXNTZWxmOiBpc1NlbGYsXG4gICAgICAgICAgICAgICAgaXNTa2lwU2VsZjogaXNTa2lwU2VsZixcbiAgICAgICAgICAgICAgICBpc09wdGlvbmFsOiBpc09wdGlvbmFsLFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiBsYW5nXzEuaXNQcmVzZW50KHF1ZXJ5KSA/IF90aGlzLmdldFF1ZXJ5TWV0YWRhdGEocXVlcnksIG51bGwpIDogbnVsbCxcbiAgICAgICAgICAgICAgICB2aWV3UXVlcnk6IGxhbmdfMS5pc1ByZXNlbnQodmlld1F1ZXJ5KSA/IF90aGlzLmdldFF1ZXJ5TWV0YWRhdGEodmlld1F1ZXJ5LCBudWxsKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgdG9rZW46IF90aGlzLmdldFRva2VuTWV0YWRhdGEodG9rZW4pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb21waWxlTWV0YWRhdGFSZXNvbHZlci5wcm90b3R5cGUuZ2V0VG9rZW5NZXRhZGF0YSA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICB0b2tlbiA9IGNvcmVfMS5yZXNvbHZlRm9yd2FyZFJlZih0b2tlbik7XG4gICAgICAgIHZhciBjb21waWxlVG9rZW47XG4gICAgICAgIGlmIChsYW5nXzEuaXNTdHJpbmcodG9rZW4pKSB7XG4gICAgICAgICAgICBjb21waWxlVG9rZW4gPSBuZXcgY3BsLkNvbXBpbGVUb2tlbk1ldGFkYXRhKHsgdmFsdWU6IHRva2VuIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29tcGlsZVRva2VuID0gbmV3IGNwbC5Db21waWxlVG9rZW5NZXRhZGF0YSh7XG4gICAgICAgICAgICAgICAgaWRlbnRpZmllcjogbmV3IGNwbC5Db21waWxlSWRlbnRpZmllck1ldGFkYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgcnVudGltZTogdG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuc2FuaXRpemVUb2tlbk5hbWUodG9rZW4pLFxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVVcmw6IHN0YXRpY1R5cGVNb2R1bGVVcmwodG9rZW4pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21waWxlVG9rZW47XG4gICAgfTtcbiAgICBDb21waWxlTWV0YWRhdGFSZXNvbHZlci5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzTWV0YWRhdGEgPSBmdW5jdGlvbiAocHJvdmlkZXJzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBwcm92aWRlcnMubWFwKGZ1bmN0aW9uIChwcm92aWRlcikge1xuICAgICAgICAgICAgcHJvdmlkZXIgPSBjb3JlXzEucmVzb2x2ZUZvcndhcmRSZWYocHJvdmlkZXIpO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0FycmF5KHByb3ZpZGVyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRQcm92aWRlcnNNZXRhZGF0YShwcm92aWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwcm92aWRlciBpbnN0YW5jZW9mIGNvcmVfMS5Qcm92aWRlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRQcm92aWRlck1ldGFkYXRhKHByb3ZpZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvcmVfcHJpdmF0ZV8yLmlzUHJvdmlkZXJMaXRlcmFsKHByb3ZpZGVyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRQcm92aWRlck1ldGFkYXRhKGNvcmVfcHJpdmF0ZV8yLmNyZWF0ZVByb3ZpZGVyKHByb3ZpZGVyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0VHlwZU1ldGFkYXRhKHByb3ZpZGVyLCBzdGF0aWNUeXBlTW9kdWxlVXJsKHByb3ZpZGVyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29tcGlsZU1ldGFkYXRhUmVzb2x2ZXIucHJvdG90eXBlLmdldFByb3ZpZGVyTWV0YWRhdGEgPSBmdW5jdGlvbiAocHJvdmlkZXIpIHtcbiAgICAgICAgdmFyIGNvbXBpbGVEZXBzO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChwcm92aWRlci51c2VDbGFzcykpIHtcbiAgICAgICAgICAgIGNvbXBpbGVEZXBzID0gdGhpcy5nZXREZXBlbmRlbmNpZXNNZXRhZGF0YShwcm92aWRlci51c2VDbGFzcywgcHJvdmlkZXIuZGVwZW5kZW5jaWVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsYW5nXzEuaXNQcmVzZW50KHByb3ZpZGVyLnVzZUZhY3RvcnkpKSB7XG4gICAgICAgICAgICBjb21waWxlRGVwcyA9IHRoaXMuZ2V0RGVwZW5kZW5jaWVzTWV0YWRhdGEocHJvdmlkZXIudXNlRmFjdG9yeSwgcHJvdmlkZXIuZGVwZW5kZW5jaWVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IGNwbC5Db21waWxlUHJvdmlkZXJNZXRhZGF0YSh7XG4gICAgICAgICAgICB0b2tlbjogdGhpcy5nZXRUb2tlbk1ldGFkYXRhKHByb3ZpZGVyLnRva2VuKSxcbiAgICAgICAgICAgIHVzZUNsYXNzOiBsYW5nXzEuaXNQcmVzZW50KHByb3ZpZGVyLnVzZUNsYXNzKSA/XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRUeXBlTWV0YWRhdGEocHJvdmlkZXIudXNlQ2xhc3MsIHN0YXRpY1R5cGVNb2R1bGVVcmwocHJvdmlkZXIudXNlQ2xhc3MpKSA6XG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHVzZVZhbHVlOiBjb252ZXJ0VG9Db21waWxlVmFsdWUocHJvdmlkZXIudXNlVmFsdWUpLFxuICAgICAgICAgICAgdXNlRmFjdG9yeTogbGFuZ18xLmlzUHJlc2VudChwcm92aWRlci51c2VGYWN0b3J5KSA/XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRGYWN0b3J5TWV0YWRhdGEocHJvdmlkZXIudXNlRmFjdG9yeSwgc3RhdGljVHlwZU1vZHVsZVVybChwcm92aWRlci51c2VGYWN0b3J5KSkgOlxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICB1c2VFeGlzdGluZzogbGFuZ18xLmlzUHJlc2VudChwcm92aWRlci51c2VFeGlzdGluZykgPyB0aGlzLmdldFRva2VuTWV0YWRhdGEocHJvdmlkZXIudXNlRXhpc3RpbmcpIDpcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgZGVwczogY29tcGlsZURlcHMsXG4gICAgICAgICAgICBtdWx0aTogcHJvdmlkZXIubXVsdGlcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb21waWxlTWV0YWRhdGFSZXNvbHZlci5wcm90b3R5cGUuZ2V0UXVlcmllc01ldGFkYXRhID0gZnVuY3Rpb24gKHF1ZXJpZXMsIGlzVmlld1F1ZXJ5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjb21waWxlUXVlcmllcyA9IFtdO1xuICAgICAgICBjb2xsZWN0aW9uXzEuU3RyaW5nTWFwV3JhcHBlci5mb3JFYWNoKHF1ZXJpZXMsIGZ1bmN0aW9uIChxdWVyeSwgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgICAgICBpZiAocXVlcnkuaXNWaWV3UXVlcnkgPT09IGlzVmlld1F1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgY29tcGlsZVF1ZXJpZXMucHVzaChfdGhpcy5nZXRRdWVyeU1ldGFkYXRhKHF1ZXJ5LCBwcm9wZXJ0eU5hbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb21waWxlUXVlcmllcztcbiAgICB9O1xuICAgIENvbXBpbGVNZXRhZGF0YVJlc29sdmVyLnByb3RvdHlwZS5nZXRRdWVyeU1ldGFkYXRhID0gZnVuY3Rpb24gKHEsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc2VsZWN0b3JzO1xuICAgICAgICBpZiAocS5pc1ZhckJpbmRpbmdRdWVyeSkge1xuICAgICAgICAgICAgc2VsZWN0b3JzID0gcS52YXJCaW5kaW5ncy5tYXAoZnVuY3Rpb24gKHZhck5hbWUpIHsgcmV0dXJuIF90aGlzLmdldFRva2VuTWV0YWRhdGEodmFyTmFtZSk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2VsZWN0b3JzID0gW3RoaXMuZ2V0VG9rZW5NZXRhZGF0YShxLnNlbGVjdG9yKV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBjcGwuQ29tcGlsZVF1ZXJ5TWV0YWRhdGEoe1xuICAgICAgICAgICAgc2VsZWN0b3JzOiBzZWxlY3RvcnMsXG4gICAgICAgICAgICBmaXJzdDogcS5maXJzdCxcbiAgICAgICAgICAgIGRlc2NlbmRhbnRzOiBxLmRlc2NlbmRhbnRzLFxuICAgICAgICAgICAgcHJvcGVydHlOYW1lOiBwcm9wZXJ0eU5hbWUsXG4gICAgICAgICAgICByZWFkOiBsYW5nXzEuaXNQcmVzZW50KHEucmVhZCkgPyB0aGlzLmdldFRva2VuTWV0YWRhdGEocS5yZWFkKSA6IG51bGxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb21waWxlTWV0YWRhdGFSZXNvbHZlci5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICBDb21waWxlTWV0YWRhdGFSZXNvbHZlci5jdG9yUGFyYW1ldGVycyA9IFtcbiAgICAgICAgeyB0eXBlOiBkaXJlY3RpdmVfcmVzb2x2ZXJfMS5EaXJlY3RpdmVSZXNvbHZlciwgfSxcbiAgICAgICAgeyB0eXBlOiBwaXBlX3Jlc29sdmVyXzEuUGlwZVJlc29sdmVyLCB9LFxuICAgICAgICB7IHR5cGU6IHZpZXdfcmVzb2x2ZXJfMS5WaWV3UmVzb2x2ZXIsIH0sXG4gICAgICAgIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbeyB0eXBlOiBjb3JlXzEuT3B0aW9uYWwgfSwgeyB0eXBlOiBjb3JlXzEuSW5qZWN0LCBhcmdzOiBbY29yZV8xLlBMQVRGT1JNX0RJUkVDVElWRVMsXSB9LF0gfSxcbiAgICAgICAgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7IHR5cGU6IGNvcmVfMS5PcHRpb25hbCB9LCB7IHR5cGU6IGNvcmVfMS5JbmplY3QsIGFyZ3M6IFtjb3JlXzEuUExBVEZPUk1fUElQRVMsXSB9LF0gfSxcbiAgICAgICAgeyB0eXBlOiBjb3JlX3ByaXZhdGVfMS5SZWZsZWN0b3JSZWFkZXIsIH0sXG4gICAgXTtcbiAgICByZXR1cm4gQ29tcGlsZU1ldGFkYXRhUmVzb2x2ZXI7XG59KCkpO1xuZXhwb3J0cy5Db21waWxlTWV0YWRhdGFSZXNvbHZlciA9IENvbXBpbGVNZXRhZGF0YVJlc29sdmVyO1xuZnVuY3Rpb24gZmxhdHRlbkRpcmVjdGl2ZXModmlldywgcGxhdGZvcm1EaXJlY3RpdmVzKSB7XG4gICAgdmFyIGRpcmVjdGl2ZXMgPSBbXTtcbiAgICBpZiAobGFuZ18xLmlzUHJlc2VudChwbGF0Zm9ybURpcmVjdGl2ZXMpKSB7XG4gICAgICAgIGZsYXR0ZW5BcnJheShwbGF0Zm9ybURpcmVjdGl2ZXMsIGRpcmVjdGl2ZXMpO1xuICAgIH1cbiAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh2aWV3LmRpcmVjdGl2ZXMpKSB7XG4gICAgICAgIGZsYXR0ZW5BcnJheSh2aWV3LmRpcmVjdGl2ZXMsIGRpcmVjdGl2ZXMpO1xuICAgIH1cbiAgICByZXR1cm4gZGlyZWN0aXZlcztcbn1cbmZ1bmN0aW9uIGZsYXR0ZW5QaXBlcyh2aWV3LCBwbGF0Zm9ybVBpcGVzKSB7XG4gICAgdmFyIHBpcGVzID0gW107XG4gICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocGxhdGZvcm1QaXBlcykpIHtcbiAgICAgICAgZmxhdHRlbkFycmF5KHBsYXRmb3JtUGlwZXMsIHBpcGVzKTtcbiAgICB9XG4gICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodmlldy5waXBlcykpIHtcbiAgICAgICAgZmxhdHRlbkFycmF5KHZpZXcucGlwZXMsIHBpcGVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHBpcGVzO1xufVxuZnVuY3Rpb24gZmxhdHRlbkFycmF5KHRyZWUsIG91dCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJlZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgaXRlbSA9IGNvcmVfMS5yZXNvbHZlRm9yd2FyZFJlZih0cmVlW2ldKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICAgICAgICBmbGF0dGVuQXJyYXkoaXRlbSwgb3V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG91dC5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaXNTdGF0aWNUeXBlKHZhbHVlKSB7XG4gICAgcmV0dXJuIGxhbmdfMS5pc1N0cmluZ01hcCh2YWx1ZSkgJiYgbGFuZ18xLmlzUHJlc2VudCh2YWx1ZVsnbmFtZSddKSAmJiBsYW5nXzEuaXNQcmVzZW50KHZhbHVlWydmaWxlUGF0aCddKTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRUeXBlKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzU3RhdGljVHlwZSh2YWx1ZSkgfHwgKHZhbHVlIGluc3RhbmNlb2YgbGFuZ18xLlR5cGUpO1xufVxuZnVuY3Rpb24gc3RhdGljVHlwZU1vZHVsZVVybCh2YWx1ZSkge1xuICAgIHJldHVybiBpc1N0YXRpY1R5cGUodmFsdWUpID8gdmFsdWVbJ2ZpbGVQYXRoJ10gOiBudWxsO1xufVxuZnVuY3Rpb24gY29tcG9uZW50TW9kdWxlVXJsKHJlZmxlY3RvciwgdHlwZSwgY21wTWV0YWRhdGEpIHtcbiAgICBpZiAoaXNTdGF0aWNUeXBlKHR5cGUpKSB7XG4gICAgICAgIHJldHVybiBzdGF0aWNUeXBlTW9kdWxlVXJsKHR5cGUpO1xuICAgIH1cbiAgICBpZiAobGFuZ18xLmlzUHJlc2VudChjbXBNZXRhZGF0YS5tb2R1bGVJZCkpIHtcbiAgICAgICAgdmFyIG1vZHVsZUlkID0gY21wTWV0YWRhdGEubW9kdWxlSWQ7XG4gICAgICAgIHZhciBzY2hlbWUgPSB1cmxfcmVzb2x2ZXJfMS5nZXRVcmxTY2hlbWUobW9kdWxlSWQpO1xuICAgICAgICByZXR1cm4gbGFuZ18xLmlzUHJlc2VudChzY2hlbWUpICYmIHNjaGVtZS5sZW5ndGggPiAwID8gbW9kdWxlSWQgOlxuICAgICAgICAgICAgXCJwYWNrYWdlOlwiICsgbW9kdWxlSWQgKyB1dGlsXzEuTU9EVUxFX1NVRkZJWDtcbiAgICB9XG4gICAgcmV0dXJuIHJlZmxlY3Rvci5pbXBvcnRVcmkodHlwZSk7XG59XG4vLyBPbmx5IGZpbGwgQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YS5ydW50aW1lIGlmIG5lZWRlZC4uLlxuZnVuY3Rpb24gY29udmVydFRvQ29tcGlsZVZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHV0aWxfMS52aXNpdFZhbHVlKHZhbHVlLCBuZXcgX0NvbXBpbGVWYWx1ZUNvbnZlcnRlcigpLCBudWxsKTtcbn1cbnZhciBfQ29tcGlsZVZhbHVlQ29udmVydGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoX0NvbXBpbGVWYWx1ZUNvbnZlcnRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBfQ29tcGlsZVZhbHVlQ29udmVydGVyKCkge1xuICAgICAgICBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgX0NvbXBpbGVWYWx1ZUNvbnZlcnRlci5wcm90b3R5cGUudmlzaXRPdGhlciA9IGZ1bmN0aW9uICh2YWx1ZSwgY29udGV4dCkge1xuICAgICAgICBpZiAoaXNTdGF0aWNUeXBlKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBjcGwuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7IG5hbWU6IHZhbHVlWyduYW1lJ10sIG1vZHVsZVVybDogc3RhdGljVHlwZU1vZHVsZVVybCh2YWx1ZSkgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGNwbC5Db21waWxlSWRlbnRpZmllck1ldGFkYXRhKHsgcnVudGltZTogdmFsdWUgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBfQ29tcGlsZVZhbHVlQ29udmVydGVyO1xufSh1dGlsXzEuVmFsdWVUcmFuc2Zvcm1lcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWV0YWRhdGFfcmVzb2x2ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGNvbXBpbGVfbWV0YWRhdGFfMSA9IHJlcXVpcmUoJy4vY29tcGlsZV9tZXRhZGF0YScpO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvZXhjZXB0aW9ucycpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIG8gPSByZXF1aXJlKCcuL291dHB1dC9vdXRwdXRfYXN0Jyk7XG52YXIgdXRpbF8xID0gcmVxdWlyZSgnLi91dGlsJyk7XG52YXIgX0NPTVBPTkVOVF9GQUNUT1JZX0lERU5USUZJRVIgPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVJZGVudGlmaWVyTWV0YWRhdGEoe1xuICAgIG5hbWU6ICdDb21wb25lbnRGYWN0b3J5JyxcbiAgICBydW50aW1lOiBjb3JlXzEuQ29tcG9uZW50RmFjdG9yeSxcbiAgICBtb2R1bGVVcmw6IHV0aWxfMS5hc3NldFVybCgnY29yZScsICdsaW5rZXIvY29tcG9uZW50X2ZhY3RvcnknKVxufSk7XG52YXIgU291cmNlTW9kdWxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTb3VyY2VNb2R1bGUobW9kdWxlVXJsLCBzb3VyY2UpIHtcbiAgICAgICAgdGhpcy5tb2R1bGVVcmwgPSBtb2R1bGVVcmw7XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIH1cbiAgICByZXR1cm4gU291cmNlTW9kdWxlO1xufSgpKTtcbmV4cG9ydHMuU291cmNlTW9kdWxlID0gU291cmNlTW9kdWxlO1xudmFyIFN0eWxlU2hlZXRTb3VyY2VXaXRoSW1wb3J0cyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3R5bGVTaGVldFNvdXJjZVdpdGhJbXBvcnRzKHNvdXJjZSwgaW1wb3J0ZWRVcmxzKSB7XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICB0aGlzLmltcG9ydGVkVXJscyA9IGltcG9ydGVkVXJscztcbiAgICB9XG4gICAgcmV0dXJuIFN0eWxlU2hlZXRTb3VyY2VXaXRoSW1wb3J0cztcbn0oKSk7XG5leHBvcnRzLlN0eWxlU2hlZXRTb3VyY2VXaXRoSW1wb3J0cyA9IFN0eWxlU2hlZXRTb3VyY2VXaXRoSW1wb3J0cztcbnZhciBOb3JtYWxpemVkQ29tcG9uZW50V2l0aFZpZXdEaXJlY3RpdmVzID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOb3JtYWxpemVkQ29tcG9uZW50V2l0aFZpZXdEaXJlY3RpdmVzKGNvbXBvbmVudCwgZGlyZWN0aXZlcywgcGlwZXMpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgICAgIHRoaXMuZGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXM7XG4gICAgICAgIHRoaXMucGlwZXMgPSBwaXBlcztcbiAgICB9XG4gICAgcmV0dXJuIE5vcm1hbGl6ZWRDb21wb25lbnRXaXRoVmlld0RpcmVjdGl2ZXM7XG59KCkpO1xuZXhwb3J0cy5Ob3JtYWxpemVkQ29tcG9uZW50V2l0aFZpZXdEaXJlY3RpdmVzID0gTm9ybWFsaXplZENvbXBvbmVudFdpdGhWaWV3RGlyZWN0aXZlcztcbnZhciBPZmZsaW5lQ29tcGlsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9mZmxpbmVDb21waWxlcihfZGlyZWN0aXZlTm9ybWFsaXplciwgX3RlbXBsYXRlUGFyc2VyLCBfc3R5bGVDb21waWxlciwgX3ZpZXdDb21waWxlciwgX291dHB1dEVtaXR0ZXIsIF94aHIpIHtcbiAgICAgICAgdGhpcy5fZGlyZWN0aXZlTm9ybWFsaXplciA9IF9kaXJlY3RpdmVOb3JtYWxpemVyO1xuICAgICAgICB0aGlzLl90ZW1wbGF0ZVBhcnNlciA9IF90ZW1wbGF0ZVBhcnNlcjtcbiAgICAgICAgdGhpcy5fc3R5bGVDb21waWxlciA9IF9zdHlsZUNvbXBpbGVyO1xuICAgICAgICB0aGlzLl92aWV3Q29tcGlsZXIgPSBfdmlld0NvbXBpbGVyO1xuICAgICAgICB0aGlzLl9vdXRwdXRFbWl0dGVyID0gX291dHB1dEVtaXR0ZXI7XG4gICAgICAgIHRoaXMuX3hociA9IF94aHI7XG4gICAgfVxuICAgIE9mZmxpbmVDb21waWxlci5wcm90b3R5cGUubm9ybWFsaXplRGlyZWN0aXZlTWV0YWRhdGEgPSBmdW5jdGlvbiAoZGlyZWN0aXZlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kaXJlY3RpdmVOb3JtYWxpemVyLm5vcm1hbGl6ZURpcmVjdGl2ZShkaXJlY3RpdmUpO1xuICAgIH07XG4gICAgT2ZmbGluZUNvbXBpbGVyLnByb3RvdHlwZS5jb21waWxlVGVtcGxhdGVzID0gZnVuY3Rpb24gKGNvbXBvbmVudHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGNvbXBvbmVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oJ05vIGNvbXBvbmVudHMgZ2l2ZW4nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhdGVtZW50cyA9IFtdO1xuICAgICAgICB2YXIgZXhwb3J0ZWRWYXJzID0gW107XG4gICAgICAgIHZhciBtb2R1bGVVcmwgPSBfdGVtcGxhdGVNb2R1bGVVcmwoY29tcG9uZW50c1swXS5jb21wb25lbnQpO1xuICAgICAgICBjb21wb25lbnRzLmZvckVhY2goZnVuY3Rpb24gKGNvbXBvbmVudFdpdGhEaXJzKSB7XG4gICAgICAgICAgICB2YXIgY29tcE1ldGEgPSBjb21wb25lbnRXaXRoRGlycy5jb21wb25lbnQ7XG4gICAgICAgICAgICBfYXNzZXJ0Q29tcG9uZW50KGNvbXBNZXRhKTtcbiAgICAgICAgICAgIHZhciBjb21wVmlld0ZhY3RvcnlWYXIgPSBfdGhpcy5fY29tcGlsZUNvbXBvbmVudChjb21wTWV0YSwgY29tcG9uZW50V2l0aERpcnMuZGlyZWN0aXZlcywgY29tcG9uZW50V2l0aERpcnMucGlwZXMsIHN0YXRlbWVudHMpO1xuICAgICAgICAgICAgZXhwb3J0ZWRWYXJzLnB1c2goY29tcFZpZXdGYWN0b3J5VmFyKTtcbiAgICAgICAgICAgIHZhciBob3N0TWV0YSA9IGNvbXBpbGVfbWV0YWRhdGFfMS5jcmVhdGVIb3N0Q29tcG9uZW50TWV0YShjb21wTWV0YS50eXBlLCBjb21wTWV0YS5zZWxlY3Rvcik7XG4gICAgICAgICAgICB2YXIgaG9zdFZpZXdGYWN0b3J5VmFyID0gX3RoaXMuX2NvbXBpbGVDb21wb25lbnQoaG9zdE1ldGEsIFtjb21wTWV0YV0sIFtdLCBzdGF0ZW1lbnRzKTtcbiAgICAgICAgICAgIHZhciBjb21wRmFjdG9yeVZhciA9IGNvbXBNZXRhLnR5cGUubmFtZSArIFwiTmdGYWN0b3J5XCI7XG4gICAgICAgICAgICBzdGF0ZW1lbnRzLnB1c2goby52YXJpYWJsZShjb21wRmFjdG9yeVZhcilcbiAgICAgICAgICAgICAgICAuc2V0KG8uaW1wb3J0RXhwcihfQ09NUE9ORU5UX0ZBQ1RPUllfSURFTlRJRklFUiwgW28uaW1wb3J0VHlwZShjb21wTWV0YS50eXBlKV0pXG4gICAgICAgICAgICAgICAgLmluc3RhbnRpYXRlKFtcbiAgICAgICAgICAgICAgICBvLmxpdGVyYWwoY29tcE1ldGEuc2VsZWN0b3IpLFxuICAgICAgICAgICAgICAgIG8udmFyaWFibGUoaG9zdFZpZXdGYWN0b3J5VmFyKSxcbiAgICAgICAgICAgICAgICBvLmltcG9ydEV4cHIoY29tcE1ldGEudHlwZSlcbiAgICAgICAgICAgIF0sIG8uaW1wb3J0VHlwZShfQ09NUE9ORU5UX0ZBQ1RPUllfSURFTlRJRklFUiwgW28uaW1wb3J0VHlwZShjb21wTWV0YS50eXBlKV0sIFtvLlR5cGVNb2RpZmllci5Db25zdF0pKSlcbiAgICAgICAgICAgICAgICAudG9EZWNsU3RtdChudWxsLCBbby5TdG10TW9kaWZpZXIuRmluYWxdKSk7XG4gICAgICAgICAgICBleHBvcnRlZFZhcnMucHVzaChjb21wRmFjdG9yeVZhcik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fY29kZWdlblNvdXJjZU1vZHVsZShtb2R1bGVVcmwsIHN0YXRlbWVudHMsIGV4cG9ydGVkVmFycyk7XG4gICAgfTtcbiAgICBPZmZsaW5lQ29tcGlsZXIucHJvdG90eXBlLmxvYWRBbmRDb21waWxlU3R5bGVzaGVldCA9IGZ1bmN0aW9uIChzdHlsZXNoZWV0VXJsLCBzaGltLCBzdWZmaXgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX3hoci5nZXQoc3R5bGVzaGVldFVybClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChjc3NUZXh0KSB7XG4gICAgICAgICAgICB2YXIgY29tcGlsZVJlc3VsdCA9IF90aGlzLl9zdHlsZUNvbXBpbGVyLmNvbXBpbGVTdHlsZXNoZWV0KHN0eWxlc2hlZXRVcmwsIGNzc1RleHQsIHNoaW0pO1xuICAgICAgICAgICAgdmFyIGltcG9ydGVkVXJscyA9IFtdO1xuICAgICAgICAgICAgY29tcGlsZVJlc3VsdC5kZXBlbmRlbmNpZXMuZm9yRWFjaChmdW5jdGlvbiAoZGVwKSB7XG4gICAgICAgICAgICAgICAgaW1wb3J0ZWRVcmxzLnB1c2goZGVwLm1vZHVsZVVybCk7XG4gICAgICAgICAgICAgICAgZGVwLnZhbHVlUGxhY2Vob2xkZXIubW9kdWxlVXJsID0gX3N0eWxlc01vZHVsZVVybChkZXAubW9kdWxlVXJsLCBkZXAuaXNTaGltbWVkLCBzdWZmaXgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFN0eWxlU2hlZXRTb3VyY2VXaXRoSW1wb3J0cyhfdGhpcy5fY29kZ2VuU3R5bGVzKHN0eWxlc2hlZXRVcmwsIHNoaW0sIHN1ZmZpeCwgY29tcGlsZVJlc3VsdCksIGltcG9ydGVkVXJscyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2ZmbGluZUNvbXBpbGVyLnByb3RvdHlwZS5fY29tcGlsZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wTWV0YSwgZGlyZWN0aXZlcywgcGlwZXMsIHRhcmdldFN0YXRlbWVudHMpIHtcbiAgICAgICAgdmFyIHN0eWxlUmVzdWx0ID0gdGhpcy5fc3R5bGVDb21waWxlci5jb21waWxlQ29tcG9uZW50KGNvbXBNZXRhKTtcbiAgICAgICAgdmFyIHBhcnNlZFRlbXBsYXRlID0gdGhpcy5fdGVtcGxhdGVQYXJzZXIucGFyc2UoY29tcE1ldGEsIGNvbXBNZXRhLnRlbXBsYXRlLnRlbXBsYXRlLCBkaXJlY3RpdmVzLCBwaXBlcywgY29tcE1ldGEudHlwZS5uYW1lKTtcbiAgICAgICAgdmFyIHZpZXdSZXN1bHQgPSB0aGlzLl92aWV3Q29tcGlsZXIuY29tcGlsZUNvbXBvbmVudChjb21wTWV0YSwgcGFyc2VkVGVtcGxhdGUsIG8udmFyaWFibGUoc3R5bGVSZXN1bHQuc3R5bGVzVmFyKSwgcGlwZXMpO1xuICAgICAgICBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuYWRkQWxsKHRhcmdldFN0YXRlbWVudHMsIF9yZXNvbHZlU3R5bGVTdGF0ZW1lbnRzKGNvbXBNZXRhLnR5cGUubW9kdWxlVXJsLCBzdHlsZVJlc3VsdCkpO1xuICAgICAgICBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuYWRkQWxsKHRhcmdldFN0YXRlbWVudHMsIF9yZXNvbHZlVmlld1N0YXRlbWVudHModmlld1Jlc3VsdCkpO1xuICAgICAgICByZXR1cm4gdmlld1Jlc3VsdC52aWV3RmFjdG9yeVZhcjtcbiAgICB9O1xuICAgIE9mZmxpbmVDb21waWxlci5wcm90b3R5cGUuX2NvZGdlblN0eWxlcyA9IGZ1bmN0aW9uIChpbnB1dFVybCwgc2hpbSwgc3VmZml4LCBzdHlsZXNDb21waWxlUmVzdWx0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb2RlZ2VuU291cmNlTW9kdWxlKF9zdHlsZXNNb2R1bGVVcmwoaW5wdXRVcmwsIHNoaW0sIHN1ZmZpeCksIHN0eWxlc0NvbXBpbGVSZXN1bHQuc3RhdGVtZW50cywgW3N0eWxlc0NvbXBpbGVSZXN1bHQuc3R5bGVzVmFyXSk7XG4gICAgfTtcbiAgICBPZmZsaW5lQ29tcGlsZXIucHJvdG90eXBlLl9jb2RlZ2VuU291cmNlTW9kdWxlID0gZnVuY3Rpb24gKG1vZHVsZVVybCwgc3RhdGVtZW50cywgZXhwb3J0ZWRWYXJzKSB7XG4gICAgICAgIHJldHVybiBuZXcgU291cmNlTW9kdWxlKG1vZHVsZVVybCwgdGhpcy5fb3V0cHV0RW1pdHRlci5lbWl0U3RhdGVtZW50cyhtb2R1bGVVcmwsIHN0YXRlbWVudHMsIGV4cG9ydGVkVmFycykpO1xuICAgIH07XG4gICAgcmV0dXJuIE9mZmxpbmVDb21waWxlcjtcbn0oKSk7XG5leHBvcnRzLk9mZmxpbmVDb21waWxlciA9IE9mZmxpbmVDb21waWxlcjtcbmZ1bmN0aW9uIF9yZXNvbHZlVmlld1N0YXRlbWVudHMoY29tcGlsZVJlc3VsdCkge1xuICAgIGNvbXBpbGVSZXN1bHQuZGVwZW5kZW5jaWVzLmZvckVhY2goZnVuY3Rpb24gKGRlcCkgeyBkZXAuZmFjdG9yeVBsYWNlaG9sZGVyLm1vZHVsZVVybCA9IF90ZW1wbGF0ZU1vZHVsZVVybChkZXAuY29tcCk7IH0pO1xuICAgIHJldHVybiBjb21waWxlUmVzdWx0LnN0YXRlbWVudHM7XG59XG5mdW5jdGlvbiBfcmVzb2x2ZVN0eWxlU3RhdGVtZW50cyhjb250YWluaW5nTW9kdWxlVXJsLCBjb21waWxlUmVzdWx0KSB7XG4gICAgdmFyIGNvbnRhaW5pbmdTdWZmaXggPSBfc3BsaXRTdWZmaXgoY29udGFpbmluZ01vZHVsZVVybClbMV07XG4gICAgY29tcGlsZVJlc3VsdC5kZXBlbmRlbmNpZXMuZm9yRWFjaChmdW5jdGlvbiAoZGVwKSB7XG4gICAgICAgIGRlcC52YWx1ZVBsYWNlaG9sZGVyLm1vZHVsZVVybCA9XG4gICAgICAgICAgICBfc3R5bGVzTW9kdWxlVXJsKGRlcC5tb2R1bGVVcmwsIGRlcC5pc1NoaW1tZWQsIGNvbnRhaW5pbmdTdWZmaXgpO1xuICAgIH0pO1xuICAgIHJldHVybiBjb21waWxlUmVzdWx0LnN0YXRlbWVudHM7XG59XG5mdW5jdGlvbiBfdGVtcGxhdGVNb2R1bGVVcmwoY29tcCkge1xuICAgIHZhciB1cmxXaXRoU3VmZml4ID0gX3NwbGl0U3VmZml4KGNvbXAudHlwZS5tb2R1bGVVcmwpO1xuICAgIHJldHVybiB1cmxXaXRoU3VmZml4WzBdICsgXCIubmdmYWN0b3J5XCIgKyB1cmxXaXRoU3VmZml4WzFdO1xufVxuZnVuY3Rpb24gX3N0eWxlc01vZHVsZVVybChzdHlsZXNoZWV0VXJsLCBzaGltLCBzdWZmaXgpIHtcbiAgICByZXR1cm4gc2hpbSA/IHN0eWxlc2hlZXRVcmwgKyBcIi5zaGltXCIgKyBzdWZmaXggOiBcIlwiICsgc3R5bGVzaGVldFVybCArIHN1ZmZpeDtcbn1cbmZ1bmN0aW9uIF9hc3NlcnRDb21wb25lbnQobWV0YSkge1xuICAgIGlmICghbWV0YS5pc0NvbXBvbmVudCkge1xuICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJDb3VsZCBub3QgY29tcGlsZSAnXCIgKyBtZXRhLnR5cGUubmFtZSArIFwiJyBiZWNhdXNlIGl0IGlzIG5vdCBhIGNvbXBvbmVudC5cIik7XG4gICAgfVxufVxuZnVuY3Rpb24gX3NwbGl0U3VmZml4KHBhdGgpIHtcbiAgICB2YXIgbGFzdERvdCA9IHBhdGgubGFzdEluZGV4T2YoJy4nKTtcbiAgICBpZiAobGFzdERvdCAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIFtwYXRoLnN1YnN0cmluZygwLCBsYXN0RG90KSwgcGF0aC5zdWJzdHJpbmcobGFzdERvdCldO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtwYXRoLCAnJ107XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2ZmbGluZV9jb21waWxlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBvID0gcmVxdWlyZSgnLi9vdXRwdXRfYXN0Jyk7XG52YXIgX1NJTkdMRV9RVU9URV9FU0NBUEVfU1RSSU5HX1JFID0gLyd8XFxcXHxcXG58XFxyfFxcJC9nO1xuZXhwb3J0cy5DQVRDSF9FUlJPUl9WQVIgPSBvLnZhcmlhYmxlKCdlcnJvcicpO1xuZXhwb3J0cy5DQVRDSF9TVEFDS19WQVIgPSBvLnZhcmlhYmxlKCdzdGFjaycpO1xudmFyIE91dHB1dEVtaXR0ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE91dHB1dEVtaXR0ZXIoKSB7XG4gICAgfVxuICAgIHJldHVybiBPdXRwdXRFbWl0dGVyO1xufSgpKTtcbmV4cG9ydHMuT3V0cHV0RW1pdHRlciA9IE91dHB1dEVtaXR0ZXI7XG52YXIgX0VtaXR0ZWRMaW5lID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBfRW1pdHRlZExpbmUoaW5kZW50KSB7XG4gICAgICAgIHRoaXMuaW5kZW50ID0gaW5kZW50O1xuICAgICAgICB0aGlzLnBhcnRzID0gW107XG4gICAgfVxuICAgIHJldHVybiBfRW1pdHRlZExpbmU7XG59KCkpO1xudmFyIEVtaXR0ZXJWaXNpdG9yQ29udGV4dCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRW1pdHRlclZpc2l0b3JDb250ZXh0KF9leHBvcnRlZFZhcnMsIF9pbmRlbnQpIHtcbiAgICAgICAgdGhpcy5fZXhwb3J0ZWRWYXJzID0gX2V4cG9ydGVkVmFycztcbiAgICAgICAgdGhpcy5faW5kZW50ID0gX2luZGVudDtcbiAgICAgICAgdGhpcy5fY2xhc3NlcyA9IFtdO1xuICAgICAgICB0aGlzLl9saW5lcyA9IFtuZXcgX0VtaXR0ZWRMaW5lKF9pbmRlbnQpXTtcbiAgICB9XG4gICAgRW1pdHRlclZpc2l0b3JDb250ZXh0LmNyZWF0ZVJvb3QgPSBmdW5jdGlvbiAoZXhwb3J0ZWRWYXJzKSB7XG4gICAgICAgIHJldHVybiBuZXcgRW1pdHRlclZpc2l0b3JDb250ZXh0KGV4cG9ydGVkVmFycywgMCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRW1pdHRlclZpc2l0b3JDb250ZXh0LnByb3RvdHlwZSwgXCJfY3VycmVudExpbmVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2xpbmVzW3RoaXMuX2xpbmVzLmxlbmd0aCAtIDFdOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBFbWl0dGVyVmlzaXRvckNvbnRleHQucHJvdG90eXBlLmlzRXhwb3J0ZWRWYXIgPSBmdW5jdGlvbiAodmFyTmFtZSkgeyByZXR1cm4gdGhpcy5fZXhwb3J0ZWRWYXJzLmluZGV4T2YodmFyTmFtZSkgIT09IC0xOyB9O1xuICAgIEVtaXR0ZXJWaXNpdG9yQ29udGV4dC5wcm90b3R5cGUucHJpbnRsbiA9IGZ1bmN0aW9uIChsYXN0UGFydCkge1xuICAgICAgICBpZiAobGFzdFBhcnQgPT09IHZvaWQgMCkgeyBsYXN0UGFydCA9ICcnOyB9XG4gICAgICAgIHRoaXMucHJpbnQobGFzdFBhcnQsIHRydWUpO1xuICAgIH07XG4gICAgRW1pdHRlclZpc2l0b3JDb250ZXh0LnByb3RvdHlwZS5saW5lSXNFbXB0eSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2N1cnJlbnRMaW5lLnBhcnRzLmxlbmd0aCA9PT0gMDsgfTtcbiAgICBFbWl0dGVyVmlzaXRvckNvbnRleHQucHJvdG90eXBlLnByaW50ID0gZnVuY3Rpb24gKHBhcnQsIG5ld0xpbmUpIHtcbiAgICAgICAgaWYgKG5ld0xpbmUgPT09IHZvaWQgMCkgeyBuZXdMaW5lID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKHBhcnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudExpbmUucGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3TGluZSkge1xuICAgICAgICAgICAgdGhpcy5fbGluZXMucHVzaChuZXcgX0VtaXR0ZWRMaW5lKHRoaXMuX2luZGVudCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBFbWl0dGVyVmlzaXRvckNvbnRleHQucHJvdG90eXBlLnJlbW92ZUVtcHR5TGFzdExpbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmxpbmVJc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xpbmVzLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBFbWl0dGVyVmlzaXRvckNvbnRleHQucHJvdG90eXBlLmluY0luZGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5faW5kZW50Kys7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRMaW5lLmluZGVudCA9IHRoaXMuX2luZGVudDtcbiAgICB9O1xuICAgIEVtaXR0ZXJWaXNpdG9yQ29udGV4dC5wcm90b3R5cGUuZGVjSW5kZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9pbmRlbnQtLTtcbiAgICAgICAgdGhpcy5fY3VycmVudExpbmUuaW5kZW50ID0gdGhpcy5faW5kZW50O1xuICAgIH07XG4gICAgRW1pdHRlclZpc2l0b3JDb250ZXh0LnByb3RvdHlwZS5wdXNoQ2xhc3MgPSBmdW5jdGlvbiAoY2xhenopIHsgdGhpcy5fY2xhc3Nlcy5wdXNoKGNsYXp6KTsgfTtcbiAgICBFbWl0dGVyVmlzaXRvckNvbnRleHQucHJvdG90eXBlLnBvcENsYXNzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fY2xhc3Nlcy5wb3AoKTsgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRW1pdHRlclZpc2l0b3JDb250ZXh0LnByb3RvdHlwZSwgXCJjdXJyZW50Q2xhc3NcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jbGFzc2VzLmxlbmd0aCA+IDAgPyB0aGlzLl9jbGFzc2VzW3RoaXMuX2NsYXNzZXMubGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBFbWl0dGVyVmlzaXRvckNvbnRleHQucHJvdG90eXBlLnRvU291cmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGluZXMgPSB0aGlzLl9saW5lcztcbiAgICAgICAgaWYgKGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLnBhcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgbGluZXMgPSBsaW5lcy5zbGljZSgwLCBsaW5lcy5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGluZXMubWFwKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgICAgICBpZiAobGluZS5wYXJ0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jcmVhdGVJbmRlbnQobGluZS5pbmRlbnQpICsgbGluZS5wYXJ0cy5qb2luKCcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKCdcXG4nKTtcbiAgICB9O1xuICAgIHJldHVybiBFbWl0dGVyVmlzaXRvckNvbnRleHQ7XG59KCkpO1xuZXhwb3J0cy5FbWl0dGVyVmlzaXRvckNvbnRleHQgPSBFbWl0dGVyVmlzaXRvckNvbnRleHQ7XG52YXIgQWJzdHJhY3RFbWl0dGVyVmlzaXRvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RFbWl0dGVyVmlzaXRvcihfZXNjYXBlRG9sbGFySW5TdHJpbmdzKSB7XG4gICAgICAgIHRoaXMuX2VzY2FwZURvbGxhckluU3RyaW5ncyA9IF9lc2NhcGVEb2xsYXJJblN0cmluZ3M7XG4gICAgfVxuICAgIEFic3RyYWN0RW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0RXhwcmVzc2lvblN0bXQgPSBmdW5jdGlvbiAoc3RtdCwgY3R4KSB7XG4gICAgICAgIHN0bXQuZXhwci52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KTtcbiAgICAgICAgY3R4LnByaW50bG4oJzsnKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBBYnN0cmFjdEVtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdFJldHVyblN0bXQgPSBmdW5jdGlvbiAoc3RtdCwgY3R4KSB7XG4gICAgICAgIGN0eC5wcmludChcInJldHVybiBcIik7XG4gICAgICAgIHN0bXQudmFsdWUudmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgICAgIGN0eC5wcmludGxuKCc7Jyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgQWJzdHJhY3RFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRJZlN0bXQgPSBmdW5jdGlvbiAoc3RtdCwgY3R4KSB7XG4gICAgICAgIGN0eC5wcmludChcImlmIChcIik7XG4gICAgICAgIHN0bXQuY29uZGl0aW9uLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpO1xuICAgICAgICBjdHgucHJpbnQoXCIpIHtcIik7XG4gICAgICAgIHZhciBoYXNFbHNlQ2FzZSA9IGxhbmdfMS5pc1ByZXNlbnQoc3RtdC5mYWxzZUNhc2UpICYmIHN0bXQuZmFsc2VDYXNlLmxlbmd0aCA+IDA7XG4gICAgICAgIGlmIChzdG10LnRydWVDYXNlLmxlbmd0aCA8PSAxICYmICFoYXNFbHNlQ2FzZSkge1xuICAgICAgICAgICAgY3R4LnByaW50KFwiIFwiKTtcbiAgICAgICAgICAgIHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKHN0bXQudHJ1ZUNhc2UsIGN0eCk7XG4gICAgICAgICAgICBjdHgucmVtb3ZlRW1wdHlMYXN0TGluZSgpO1xuICAgICAgICAgICAgY3R4LnByaW50KFwiIFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5wcmludGxuKCk7XG4gICAgICAgICAgICBjdHguaW5jSW5kZW50KCk7XG4gICAgICAgICAgICB0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyhzdG10LnRydWVDYXNlLCBjdHgpO1xuICAgICAgICAgICAgY3R4LmRlY0luZGVudCgpO1xuICAgICAgICAgICAgaWYgKGhhc0Vsc2VDYXNlKSB7XG4gICAgICAgICAgICAgICAgY3R4LnByaW50bG4oXCJ9IGVsc2Uge1wiKTtcbiAgICAgICAgICAgICAgICBjdHguaW5jSW5kZW50KCk7XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpdEFsbFN0YXRlbWVudHMoc3RtdC5mYWxzZUNhc2UsIGN0eCk7XG4gICAgICAgICAgICAgICAgY3R4LmRlY0luZGVudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGN0eC5wcmludGxuKFwifVwiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBBYnN0cmFjdEVtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRocm93U3RtdCA9IGZ1bmN0aW9uIChzdG10LCBjdHgpIHtcbiAgICAgICAgY3R4LnByaW50KFwidGhyb3cgXCIpO1xuICAgICAgICBzdG10LmVycm9yLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpO1xuICAgICAgICBjdHgucHJpbnRsbihcIjtcIik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgQWJzdHJhY3RFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRDb21tZW50U3RtdCA9IGZ1bmN0aW9uIChzdG10LCBjdHgpIHtcbiAgICAgICAgdmFyIGxpbmVzID0gc3RtdC5jb21tZW50LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgbGluZXMuZm9yRWFjaChmdW5jdGlvbiAobGluZSkgeyBjdHgucHJpbnRsbihcIi8vIFwiICsgbGluZSk7IH0pO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEFic3RyYWN0RW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0V3JpdGVWYXJFeHByID0gZnVuY3Rpb24gKGV4cHIsIGN0eCkge1xuICAgICAgICB2YXIgbGluZVdhc0VtcHR5ID0gY3R4LmxpbmVJc0VtcHR5KCk7XG4gICAgICAgIGlmICghbGluZVdhc0VtcHR5KSB7XG4gICAgICAgICAgICBjdHgucHJpbnQoJygnKTtcbiAgICAgICAgfVxuICAgICAgICBjdHgucHJpbnQoZXhwci5uYW1lICsgXCIgPSBcIik7XG4gICAgICAgIGV4cHIudmFsdWUudmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgICAgIGlmICghbGluZVdhc0VtcHR5KSB7XG4gICAgICAgICAgICBjdHgucHJpbnQoJyknKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEFic3RyYWN0RW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0V3JpdGVLZXlFeHByID0gZnVuY3Rpb24gKGV4cHIsIGN0eCkge1xuICAgICAgICB2YXIgbGluZVdhc0VtcHR5ID0gY3R4LmxpbmVJc0VtcHR5KCk7XG4gICAgICAgIGlmICghbGluZVdhc0VtcHR5KSB7XG4gICAgICAgICAgICBjdHgucHJpbnQoJygnKTtcbiAgICAgICAgfVxuICAgICAgICBleHByLnJlY2VpdmVyLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpO1xuICAgICAgICBjdHgucHJpbnQoXCJbXCIpO1xuICAgICAgICBleHByLmluZGV4LnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpO1xuICAgICAgICBjdHgucHJpbnQoXCJdID0gXCIpO1xuICAgICAgICBleHByLnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpO1xuICAgICAgICBpZiAoIWxpbmVXYXNFbXB0eSkge1xuICAgICAgICAgICAgY3R4LnByaW50KCcpJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBBYnN0cmFjdEVtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdFdyaXRlUHJvcEV4cHIgPSBmdW5jdGlvbiAoZXhwciwgY3R4KSB7XG4gICAgICAgIHZhciBsaW5lV2FzRW1wdHkgPSBjdHgubGluZUlzRW1wdHkoKTtcbiAgICAgICAgaWYgKCFsaW5lV2FzRW1wdHkpIHtcbiAgICAgICAgICAgIGN0eC5wcmludCgnKCcpO1xuICAgICAgICB9XG4gICAgICAgIGV4cHIucmVjZWl2ZXIudmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgICAgIGN0eC5wcmludChcIi5cIiArIGV4cHIubmFtZSArIFwiID0gXCIpO1xuICAgICAgICBleHByLnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpO1xuICAgICAgICBpZiAoIWxpbmVXYXNFbXB0eSkge1xuICAgICAgICAgICAgY3R4LnByaW50KCcpJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBBYnN0cmFjdEVtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdEludm9rZU1ldGhvZEV4cHIgPSBmdW5jdGlvbiAoZXhwciwgY3R4KSB7XG4gICAgICAgIGV4cHIucmVjZWl2ZXIudmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgICAgIHZhciBuYW1lID0gZXhwci5uYW1lO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChleHByLmJ1aWx0aW4pKSB7XG4gICAgICAgICAgICBuYW1lID0gdGhpcy5nZXRCdWlsdGluTWV0aG9kTmFtZShleHByLmJ1aWx0aW4pO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgLy8gc29tZSBidWlsdGlucyBqdXN0IG1lYW4gdG8gc2tpcCB0aGUgY2FsbC5cbiAgICAgICAgICAgICAgICAvLyBlLmcuIGBiaW5kYCBpbiBEYXJ0LlxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGN0eC5wcmludChcIi5cIiArIG5hbWUgKyBcIihcIik7XG4gICAgICAgIHRoaXMudmlzaXRBbGxFeHByZXNzaW9ucyhleHByLmFyZ3MsIGN0eCwgXCIsXCIpO1xuICAgICAgICBjdHgucHJpbnQoXCIpXCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEFic3RyYWN0RW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW52b2tlRnVuY3Rpb25FeHByID0gZnVuY3Rpb24gKGV4cHIsIGN0eCkge1xuICAgICAgICBleHByLmZuLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpO1xuICAgICAgICBjdHgucHJpbnQoXCIoXCIpO1xuICAgICAgICB0aGlzLnZpc2l0QWxsRXhwcmVzc2lvbnMoZXhwci5hcmdzLCBjdHgsICcsJyk7XG4gICAgICAgIGN0eC5wcmludChcIilcIik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgQWJzdHJhY3RFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRSZWFkVmFyRXhwciA9IGZ1bmN0aW9uIChhc3QsIGN0eCkge1xuICAgICAgICB2YXIgdmFyTmFtZSA9IGFzdC5uYW1lO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChhc3QuYnVpbHRpbikpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoYXN0LmJ1aWx0aW4pIHtcbiAgICAgICAgICAgICAgICBjYXNlIG8uQnVpbHRpblZhci5TdXBlcjpcbiAgICAgICAgICAgICAgICAgICAgdmFyTmFtZSA9ICdzdXBlcic7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2Ugby5CdWlsdGluVmFyLlRoaXM6XG4gICAgICAgICAgICAgICAgICAgIHZhck5hbWUgPSAndGhpcyc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2Ugby5CdWlsdGluVmFyLkNhdGNoRXJyb3I6XG4gICAgICAgICAgICAgICAgICAgIHZhck5hbWUgPSBleHBvcnRzLkNBVENIX0VSUk9SX1ZBUi5uYW1lO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIG8uQnVpbHRpblZhci5DYXRjaFN0YWNrOlxuICAgICAgICAgICAgICAgICAgICB2YXJOYW1lID0gZXhwb3J0cy5DQVRDSF9TVEFDS19WQVIubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiVW5rbm93biBidWlsdGluIHZhcmlhYmxlIFwiICsgYXN0LmJ1aWx0aW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGN0eC5wcmludCh2YXJOYW1lKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBBYnN0cmFjdEVtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdEluc3RhbnRpYXRlRXhwciA9IGZ1bmN0aW9uIChhc3QsIGN0eCkge1xuICAgICAgICBjdHgucHJpbnQoXCJuZXcgXCIpO1xuICAgICAgICBhc3QuY2xhc3NFeHByLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpO1xuICAgICAgICBjdHgucHJpbnQoXCIoXCIpO1xuICAgICAgICB0aGlzLnZpc2l0QWxsRXhwcmVzc2lvbnMoYXN0LmFyZ3MsIGN0eCwgJywnKTtcbiAgICAgICAgY3R4LnByaW50KFwiKVwiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBBYnN0cmFjdEVtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdExpdGVyYWxFeHByID0gZnVuY3Rpb24gKGFzdCwgY3R4KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFzdC52YWx1ZTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGN0eC5wcmludChlc2NhcGVTaW5nbGVRdW90ZVN0cmluZyh2YWx1ZSwgdGhpcy5fZXNjYXBlRG9sbGFySW5TdHJpbmdzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGFuZ18xLmlzQmxhbmsodmFsdWUpKSB7XG4gICAgICAgICAgICBjdHgucHJpbnQoJ251bGwnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5wcmludChcIlwiICsgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgQWJzdHJhY3RFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRDb25kaXRpb25hbEV4cHIgPSBmdW5jdGlvbiAoYXN0LCBjdHgpIHtcbiAgICAgICAgY3R4LnByaW50KFwiKFwiKTtcbiAgICAgICAgYXN0LmNvbmRpdGlvbi52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KTtcbiAgICAgICAgY3R4LnByaW50KCc/ICcpO1xuICAgICAgICBhc3QudHJ1ZUNhc2UudmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgICAgIGN0eC5wcmludCgnOiAnKTtcbiAgICAgICAgYXN0LmZhbHNlQ2FzZS52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KTtcbiAgICAgICAgY3R4LnByaW50KFwiKVwiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBBYnN0cmFjdEVtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdE5vdEV4cHIgPSBmdW5jdGlvbiAoYXN0LCBjdHgpIHtcbiAgICAgICAgY3R4LnByaW50KCchJyk7XG4gICAgICAgIGFzdC5jb25kaXRpb24udmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgQWJzdHJhY3RFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRCaW5hcnlPcGVyYXRvckV4cHIgPSBmdW5jdGlvbiAoYXN0LCBjdHgpIHtcbiAgICAgICAgdmFyIG9wU3RyO1xuICAgICAgICBzd2l0Y2ggKGFzdC5vcGVyYXRvcikge1xuICAgICAgICAgICAgY2FzZSBvLkJpbmFyeU9wZXJhdG9yLkVxdWFsczpcbiAgICAgICAgICAgICAgICBvcFN0ciA9ICc9PSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIG8uQmluYXJ5T3BlcmF0b3IuSWRlbnRpY2FsOlxuICAgICAgICAgICAgICAgIG9wU3RyID0gJz09PSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIG8uQmluYXJ5T3BlcmF0b3IuTm90RXF1YWxzOlxuICAgICAgICAgICAgICAgIG9wU3RyID0gJyE9JztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugby5CaW5hcnlPcGVyYXRvci5Ob3RJZGVudGljYWw6XG4gICAgICAgICAgICAgICAgb3BTdHIgPSAnIT09JztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugby5CaW5hcnlPcGVyYXRvci5BbmQ6XG4gICAgICAgICAgICAgICAgb3BTdHIgPSAnJiYnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBvLkJpbmFyeU9wZXJhdG9yLk9yOlxuICAgICAgICAgICAgICAgIG9wU3RyID0gJ3x8JztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugby5CaW5hcnlPcGVyYXRvci5QbHVzOlxuICAgICAgICAgICAgICAgIG9wU3RyID0gJysnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBvLkJpbmFyeU9wZXJhdG9yLk1pbnVzOlxuICAgICAgICAgICAgICAgIG9wU3RyID0gJy0nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBvLkJpbmFyeU9wZXJhdG9yLkRpdmlkZTpcbiAgICAgICAgICAgICAgICBvcFN0ciA9ICcvJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugby5CaW5hcnlPcGVyYXRvci5NdWx0aXBseTpcbiAgICAgICAgICAgICAgICBvcFN0ciA9ICcqJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugby5CaW5hcnlPcGVyYXRvci5Nb2R1bG86XG4gICAgICAgICAgICAgICAgb3BTdHIgPSAnJSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIG8uQmluYXJ5T3BlcmF0b3IuTG93ZXI6XG4gICAgICAgICAgICAgICAgb3BTdHIgPSAnPCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIG8uQmluYXJ5T3BlcmF0b3IuTG93ZXJFcXVhbHM6XG4gICAgICAgICAgICAgICAgb3BTdHIgPSAnPD0nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBvLkJpbmFyeU9wZXJhdG9yLkJpZ2dlcjpcbiAgICAgICAgICAgICAgICBvcFN0ciA9ICc+JztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugby5CaW5hcnlPcGVyYXRvci5CaWdnZXJFcXVhbHM6XG4gICAgICAgICAgICAgICAgb3BTdHIgPSAnPj0nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJVbmtub3duIG9wZXJhdG9yIFwiICsgYXN0Lm9wZXJhdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBjdHgucHJpbnQoXCIoXCIpO1xuICAgICAgICBhc3QubGhzLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpO1xuICAgICAgICBjdHgucHJpbnQoXCIgXCIgKyBvcFN0ciArIFwiIFwiKTtcbiAgICAgICAgYXN0LnJocy52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KTtcbiAgICAgICAgY3R4LnByaW50KFwiKVwiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBBYnN0cmFjdEVtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdFJlYWRQcm9wRXhwciA9IGZ1bmN0aW9uIChhc3QsIGN0eCkge1xuICAgICAgICBhc3QucmVjZWl2ZXIudmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgICAgIGN0eC5wcmludChcIi5cIik7XG4gICAgICAgIGN0eC5wcmludChhc3QubmFtZSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgQWJzdHJhY3RFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRSZWFkS2V5RXhwciA9IGZ1bmN0aW9uIChhc3QsIGN0eCkge1xuICAgICAgICBhc3QucmVjZWl2ZXIudmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgICAgIGN0eC5wcmludChcIltcIik7XG4gICAgICAgIGFzdC5pbmRleC52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KTtcbiAgICAgICAgY3R4LnByaW50KFwiXVwiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBBYnN0cmFjdEVtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdExpdGVyYWxBcnJheUV4cHIgPSBmdW5jdGlvbiAoYXN0LCBjdHgpIHtcbiAgICAgICAgdmFyIHVzZU5ld0xpbmUgPSBhc3QuZW50cmllcy5sZW5ndGggPiAxO1xuICAgICAgICBjdHgucHJpbnQoXCJbXCIsIHVzZU5ld0xpbmUpO1xuICAgICAgICBjdHguaW5jSW5kZW50KCk7XG4gICAgICAgIHRoaXMudmlzaXRBbGxFeHByZXNzaW9ucyhhc3QuZW50cmllcywgY3R4LCAnLCcsIHVzZU5ld0xpbmUpO1xuICAgICAgICBjdHguZGVjSW5kZW50KCk7XG4gICAgICAgIGN0eC5wcmludChcIl1cIiwgdXNlTmV3TGluZSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgQWJzdHJhY3RFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRMaXRlcmFsTWFwRXhwciA9IGZ1bmN0aW9uIChhc3QsIGN0eCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdXNlTmV3TGluZSA9IGFzdC5lbnRyaWVzLmxlbmd0aCA+IDE7XG4gICAgICAgIGN0eC5wcmludChcIntcIiwgdXNlTmV3TGluZSk7XG4gICAgICAgIGN0eC5pbmNJbmRlbnQoKTtcbiAgICAgICAgdGhpcy52aXNpdEFsbE9iamVjdHMoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICBjdHgucHJpbnQoZXNjYXBlU2luZ2xlUXVvdGVTdHJpbmcoZW50cnlbMF0sIF90aGlzLl9lc2NhcGVEb2xsYXJJblN0cmluZ3MpICsgXCI6IFwiKTtcbiAgICAgICAgICAgIGVudHJ5WzFdLnZpc2l0RXhwcmVzc2lvbihfdGhpcywgY3R4KTtcbiAgICAgICAgfSwgYXN0LmVudHJpZXMsIGN0eCwgJywnLCB1c2VOZXdMaW5lKTtcbiAgICAgICAgY3R4LmRlY0luZGVudCgpO1xuICAgICAgICBjdHgucHJpbnQoXCJ9XCIsIHVzZU5ld0xpbmUpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEFic3RyYWN0RW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0QWxsRXhwcmVzc2lvbnMgPSBmdW5jdGlvbiAoZXhwcmVzc2lvbnMsIGN0eCwgc2VwYXJhdG9yLCBuZXdMaW5lKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChuZXdMaW5lID09PSB2b2lkIDApIHsgbmV3TGluZSA9IGZhbHNlOyB9XG4gICAgICAgIHRoaXMudmlzaXRBbGxPYmplY3RzKGZ1bmN0aW9uIChleHByKSB7IHJldHVybiBleHByLnZpc2l0RXhwcmVzc2lvbihfdGhpcywgY3R4KTsgfSwgZXhwcmVzc2lvbnMsIGN0eCwgc2VwYXJhdG9yLCBuZXdMaW5lKTtcbiAgICB9O1xuICAgIEFic3RyYWN0RW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0QWxsT2JqZWN0cyA9IGZ1bmN0aW9uIChoYW5kbGVyLCBleHByZXNzaW9ucywgY3R4LCBzZXBhcmF0b3IsIG5ld0xpbmUpIHtcbiAgICAgICAgaWYgKG5ld0xpbmUgPT09IHZvaWQgMCkgeyBuZXdMaW5lID0gZmFsc2U7IH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHByZXNzaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgY3R4LnByaW50KHNlcGFyYXRvciwgbmV3TGluZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoYW5kbGVyKGV4cHJlc3Npb25zW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3TGluZSkge1xuICAgICAgICAgICAgY3R4LnByaW50bG4oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQWJzdHJhY3RFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRBbGxTdGF0ZW1lbnRzID0gZnVuY3Rpb24gKHN0YXRlbWVudHMsIGN0eCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBzdGF0ZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKHN0bXQpIHsgcmV0dXJuIHN0bXQudmlzaXRTdGF0ZW1lbnQoX3RoaXMsIGN0eCk7IH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0RW1pdHRlclZpc2l0b3I7XG59KCkpO1xuZXhwb3J0cy5BYnN0cmFjdEVtaXR0ZXJWaXNpdG9yID0gQWJzdHJhY3RFbWl0dGVyVmlzaXRvcjtcbmZ1bmN0aW9uIGVzY2FwZVNpbmdsZVF1b3RlU3RyaW5nKGlucHV0LCBlc2NhcGVEb2xsYXIpIHtcbiAgICBpZiAobGFuZ18xLmlzQmxhbmsoaW5wdXQpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgYm9keSA9IGxhbmdfMS5TdHJpbmdXcmFwcGVyLnJlcGxhY2VBbGxNYXBwZWQoaW5wdXQsIF9TSU5HTEVfUVVPVEVfRVNDQVBFX1NUUklOR19SRSwgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgIGlmIChtYXRjaFswXSA9PSAnJCcpIHtcbiAgICAgICAgICAgIHJldHVybiBlc2NhcGVEb2xsYXIgPyAnXFxcXCQnIDogJyQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hdGNoWzBdID09ICdcXG4nKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1xcXFxuJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXRjaFswXSA9PSAnXFxyJykge1xuICAgICAgICAgICAgcmV0dXJuICdcXFxccic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcXFxcXCIgKyBtYXRjaFswXTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBcIidcIiArIGJvZHkgKyBcIidcIjtcbn1cbmV4cG9ydHMuZXNjYXBlU2luZ2xlUXVvdGVTdHJpbmcgPSBlc2NhcGVTaW5nbGVRdW90ZVN0cmluZztcbmZ1bmN0aW9uIF9jcmVhdGVJbmRlbnQoY291bnQpIHtcbiAgICB2YXIgcmVzID0gJyc7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIHJlcyArPSAnICAnO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWJzdHJhY3RfZW1pdHRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvZXhjZXB0aW9ucycpO1xudmFyIG8gPSByZXF1aXJlKCcuL291dHB1dF9hc3QnKTtcbnZhciBhYnN0cmFjdF9lbWl0dGVyXzEgPSByZXF1aXJlKCcuL2Fic3RyYWN0X2VtaXR0ZXInKTtcbnZhciBBYnN0cmFjdEpzRW1pdHRlclZpc2l0b3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBYnN0cmFjdEpzRW1pdHRlclZpc2l0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RKc0VtaXR0ZXJWaXNpdG9yKCkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBmYWxzZSk7XG4gICAgfVxuICAgIEFic3RyYWN0SnNFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXREZWNsYXJlQ2xhc3NTdG10ID0gZnVuY3Rpb24gKHN0bXQsIGN0eCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBjdHgucHVzaENsYXNzKHN0bXQpO1xuICAgICAgICB0aGlzLl92aXNpdENsYXNzQ29uc3RydWN0b3Ioc3RtdCwgY3R4KTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoc3RtdC5wYXJlbnQpKSB7XG4gICAgICAgICAgICBjdHgucHJpbnQoc3RtdC5uYW1lICsgXCIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShcIik7XG4gICAgICAgICAgICBzdG10LnBhcmVudC52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KTtcbiAgICAgICAgICAgIGN0eC5wcmludGxuKFwiLnByb3RvdHlwZSk7XCIpO1xuICAgICAgICB9XG4gICAgICAgIHN0bXQuZ2V0dGVycy5mb3JFYWNoKGZ1bmN0aW9uIChnZXR0ZXIpIHsgcmV0dXJuIF90aGlzLl92aXNpdENsYXNzR2V0dGVyKHN0bXQsIGdldHRlciwgY3R4KTsgfSk7XG4gICAgICAgIHN0bXQubWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHsgcmV0dXJuIF90aGlzLl92aXNpdENsYXNzTWV0aG9kKHN0bXQsIG1ldGhvZCwgY3R4KTsgfSk7XG4gICAgICAgIGN0eC5wb3BDbGFzcygpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEFic3RyYWN0SnNFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUuX3Zpc2l0Q2xhc3NDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIChzdG10LCBjdHgpIHtcbiAgICAgICAgY3R4LnByaW50KFwiZnVuY3Rpb24gXCIgKyBzdG10Lm5hbWUgKyBcIihcIik7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHN0bXQuY29uc3RydWN0b3JNZXRob2QpKSB7XG4gICAgICAgICAgICB0aGlzLl92aXNpdFBhcmFtcyhzdG10LmNvbnN0cnVjdG9yTWV0aG9kLnBhcmFtcywgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjdHgucHJpbnRsbihcIikge1wiKTtcbiAgICAgICAgY3R4LmluY0luZGVudCgpO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChzdG10LmNvbnN0cnVjdG9yTWV0aG9kKSkge1xuICAgICAgICAgICAgaWYgKHN0bXQuY29uc3RydWN0b3JNZXRob2QuYm9keS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY3R4LnByaW50bG4oXCJ2YXIgc2VsZiA9IHRoaXM7XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKHN0bXQuY29uc3RydWN0b3JNZXRob2QuYm9keSwgY3R4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjdHguZGVjSW5kZW50KCk7XG4gICAgICAgIGN0eC5wcmludGxuKFwifVwiKTtcbiAgICB9O1xuICAgIEFic3RyYWN0SnNFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUuX3Zpc2l0Q2xhc3NHZXR0ZXIgPSBmdW5jdGlvbiAoc3RtdCwgZ2V0dGVyLCBjdHgpIHtcbiAgICAgICAgY3R4LnByaW50bG4oXCJPYmplY3QuZGVmaW5lUHJvcGVydHkoXCIgKyBzdG10Lm5hbWUgKyBcIi5wcm90b3R5cGUsICdcIiArIGdldHRlci5uYW1lICsgXCInLCB7IGdldDogZnVuY3Rpb24oKSB7XCIpO1xuICAgICAgICBjdHguaW5jSW5kZW50KCk7XG4gICAgICAgIGlmIChnZXR0ZXIuYm9keS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjdHgucHJpbnRsbihcInZhciBzZWxmID0gdGhpcztcIik7XG4gICAgICAgICAgICB0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyhnZXR0ZXIuYm9keSwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjdHguZGVjSW5kZW50KCk7XG4gICAgICAgIGN0eC5wcmludGxuKFwifX0pO1wiKTtcbiAgICB9O1xuICAgIEFic3RyYWN0SnNFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUuX3Zpc2l0Q2xhc3NNZXRob2QgPSBmdW5jdGlvbiAoc3RtdCwgbWV0aG9kLCBjdHgpIHtcbiAgICAgICAgY3R4LnByaW50KHN0bXQubmFtZSArIFwiLnByb3RvdHlwZS5cIiArIG1ldGhvZC5uYW1lICsgXCIgPSBmdW5jdGlvbihcIik7XG4gICAgICAgIHRoaXMuX3Zpc2l0UGFyYW1zKG1ldGhvZC5wYXJhbXMsIGN0eCk7XG4gICAgICAgIGN0eC5wcmludGxuKFwiKSB7XCIpO1xuICAgICAgICBjdHguaW5jSW5kZW50KCk7XG4gICAgICAgIGlmIChtZXRob2QuYm9keS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjdHgucHJpbnRsbihcInZhciBzZWxmID0gdGhpcztcIik7XG4gICAgICAgICAgICB0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyhtZXRob2QuYm9keSwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjdHguZGVjSW5kZW50KCk7XG4gICAgICAgIGN0eC5wcmludGxuKFwifTtcIik7XG4gICAgfTtcbiAgICBBYnN0cmFjdEpzRW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0UmVhZFZhckV4cHIgPSBmdW5jdGlvbiAoYXN0LCBjdHgpIHtcbiAgICAgICAgaWYgKGFzdC5idWlsdGluID09PSBvLkJ1aWx0aW5WYXIuVGhpcykge1xuICAgICAgICAgICAgY3R4LnByaW50KCdzZWxmJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXN0LmJ1aWx0aW4gPT09IG8uQnVpbHRpblZhci5TdXBlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiJ3N1cGVyJyBuZWVkcyB0byBiZSBoYW5kbGVkIGF0IGEgcGFyZW50IGFzdCBub2RlLCBub3QgYXQgdGhlIHZhcmlhYmxlIGxldmVsIVwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudmlzaXRSZWFkVmFyRXhwci5jYWxsKHRoaXMsIGFzdCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEFic3RyYWN0SnNFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXREZWNsYXJlVmFyU3RtdCA9IGZ1bmN0aW9uIChzdG10LCBjdHgpIHtcbiAgICAgICAgY3R4LnByaW50KFwidmFyIFwiICsgc3RtdC5uYW1lICsgXCIgPSBcIik7XG4gICAgICAgIHN0bXQudmFsdWUudmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgICAgIGN0eC5wcmludGxuKFwiO1wiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBBYnN0cmFjdEpzRW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0Q2FzdEV4cHIgPSBmdW5jdGlvbiAoYXN0LCBjdHgpIHtcbiAgICAgICAgYXN0LnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEFic3RyYWN0SnNFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRJbnZva2VGdW5jdGlvbkV4cHIgPSBmdW5jdGlvbiAoZXhwciwgY3R4KSB7XG4gICAgICAgIHZhciBmbkV4cHIgPSBleHByLmZuO1xuICAgICAgICBpZiAoZm5FeHByIGluc3RhbmNlb2Ygby5SZWFkVmFyRXhwciAmJiBmbkV4cHIuYnVpbHRpbiA9PT0gby5CdWlsdGluVmFyLlN1cGVyKSB7XG4gICAgICAgICAgICBjdHguY3VycmVudENsYXNzLnBhcmVudC52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KTtcbiAgICAgICAgICAgIGN0eC5wcmludChcIi5jYWxsKHRoaXNcIik7XG4gICAgICAgICAgICBpZiAoZXhwci5hcmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjdHgucHJpbnQoXCIsIFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2l0QWxsRXhwcmVzc2lvbnMoZXhwci5hcmdzLCBjdHgsICcsJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHgucHJpbnQoXCIpXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS52aXNpdEludm9rZUZ1bmN0aW9uRXhwci5jYWxsKHRoaXMsIGV4cHIsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBBYnN0cmFjdEpzRW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0RnVuY3Rpb25FeHByID0gZnVuY3Rpb24gKGFzdCwgY3R4KSB7XG4gICAgICAgIGN0eC5wcmludChcImZ1bmN0aW9uKFwiKTtcbiAgICAgICAgdGhpcy5fdmlzaXRQYXJhbXMoYXN0LnBhcmFtcywgY3R4KTtcbiAgICAgICAgY3R4LnByaW50bG4oXCIpIHtcIik7XG4gICAgICAgIGN0eC5pbmNJbmRlbnQoKTtcbiAgICAgICAgdGhpcy52aXNpdEFsbFN0YXRlbWVudHMoYXN0LnN0YXRlbWVudHMsIGN0eCk7XG4gICAgICAgIGN0eC5kZWNJbmRlbnQoKTtcbiAgICAgICAgY3R4LnByaW50KFwifVwiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBBYnN0cmFjdEpzRW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGVjbGFyZUZ1bmN0aW9uU3RtdCA9IGZ1bmN0aW9uIChzdG10LCBjdHgpIHtcbiAgICAgICAgY3R4LnByaW50KFwiZnVuY3Rpb24gXCIgKyBzdG10Lm5hbWUgKyBcIihcIik7XG4gICAgICAgIHRoaXMuX3Zpc2l0UGFyYW1zKHN0bXQucGFyYW1zLCBjdHgpO1xuICAgICAgICBjdHgucHJpbnRsbihcIikge1wiKTtcbiAgICAgICAgY3R4LmluY0luZGVudCgpO1xuICAgICAgICB0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyhzdG10LnN0YXRlbWVudHMsIGN0eCk7XG4gICAgICAgIGN0eC5kZWNJbmRlbnQoKTtcbiAgICAgICAgY3R4LnByaW50bG4oXCJ9XCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEFic3RyYWN0SnNFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRUcnlDYXRjaFN0bXQgPSBmdW5jdGlvbiAoc3RtdCwgY3R4KSB7XG4gICAgICAgIGN0eC5wcmludGxuKFwidHJ5IHtcIik7XG4gICAgICAgIGN0eC5pbmNJbmRlbnQoKTtcbiAgICAgICAgdGhpcy52aXNpdEFsbFN0YXRlbWVudHMoc3RtdC5ib2R5U3RtdHMsIGN0eCk7XG4gICAgICAgIGN0eC5kZWNJbmRlbnQoKTtcbiAgICAgICAgY3R4LnByaW50bG4oXCJ9IGNhdGNoIChcIiArIGFic3RyYWN0X2VtaXR0ZXJfMS5DQVRDSF9FUlJPUl9WQVIubmFtZSArIFwiKSB7XCIpO1xuICAgICAgICBjdHguaW5jSW5kZW50KCk7XG4gICAgICAgIHZhciBjYXRjaFN0bXRzID0gW1xuICAgICAgICAgICAgYWJzdHJhY3RfZW1pdHRlcl8xLkNBVENIX1NUQUNLX1ZBUi5zZXQoYWJzdHJhY3RfZW1pdHRlcl8xLkNBVENIX0VSUk9SX1ZBUi5wcm9wKCdzdGFjaycpKVxuICAgICAgICAgICAgICAgIC50b0RlY2xTdG10KG51bGwsIFtvLlN0bXRNb2RpZmllci5GaW5hbF0pXG4gICAgICAgIF0uY29uY2F0KHN0bXQuY2F0Y2hTdG10cyk7XG4gICAgICAgIHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKGNhdGNoU3RtdHMsIGN0eCk7XG4gICAgICAgIGN0eC5kZWNJbmRlbnQoKTtcbiAgICAgICAgY3R4LnByaW50bG4oXCJ9XCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEFic3RyYWN0SnNFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUuX3Zpc2l0UGFyYW1zID0gZnVuY3Rpb24gKHBhcmFtcywgY3R4KSB7XG4gICAgICAgIHRoaXMudmlzaXRBbGxPYmplY3RzKGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gY3R4LnByaW50KHBhcmFtLm5hbWUpOyB9LCBwYXJhbXMsIGN0eCwgJywnKTtcbiAgICB9O1xuICAgIEFic3RyYWN0SnNFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUuZ2V0QnVpbHRpbk1ldGhvZE5hbWUgPSBmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICAgIHZhciBuYW1lO1xuICAgICAgICBzd2l0Y2ggKG1ldGhvZCkge1xuICAgICAgICAgICAgY2FzZSBvLkJ1aWx0aW5NZXRob2QuQ29uY2F0QXJyYXk6XG4gICAgICAgICAgICAgICAgbmFtZSA9ICdjb25jYXQnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBvLkJ1aWx0aW5NZXRob2QuU3Vic2NyaWJlT2JzZXJ2YWJsZTpcbiAgICAgICAgICAgICAgICBuYW1lID0gJ3N1YnNjcmliZSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIG8uQnVpbHRpbk1ldGhvZC5iaW5kOlxuICAgICAgICAgICAgICAgIG5hbWUgPSAnYmluZCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbihcIlVua25vd24gYnVpbHRpbiBtZXRob2Q6IFwiICsgbWV0aG9kKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9O1xuICAgIHJldHVybiBBYnN0cmFjdEpzRW1pdHRlclZpc2l0b3I7XG59KGFic3RyYWN0X2VtaXR0ZXJfMS5BYnN0cmFjdEVtaXR0ZXJWaXNpdG9yKSk7XG5leHBvcnRzLkFic3RyYWN0SnNFbWl0dGVyVmlzaXRvciA9IEFic3RyYWN0SnNFbWl0dGVyVmlzaXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFic3RyYWN0X2pzX2VtaXR0ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBvID0gcmVxdWlyZSgnLi9vdXRwdXRfYXN0Jyk7XG52YXIgYWJzdHJhY3RfZW1pdHRlcl8xID0gcmVxdWlyZSgnLi9hYnN0cmFjdF9lbWl0dGVyJyk7XG52YXIgX2RlYnVnTW9kdWxlVXJsID0gJ2Fzc2V0Oi8vZGVidWcvbGliJztcbmZ1bmN0aW9uIGRlYnVnT3V0cHV0QXN0QXNEYXJ0KGFzdCkge1xuICAgIHZhciBjb252ZXJ0ZXIgPSBuZXcgX0RhcnRFbWl0dGVyVmlzaXRvcihfZGVidWdNb2R1bGVVcmwpO1xuICAgIHZhciBjdHggPSBhYnN0cmFjdF9lbWl0dGVyXzEuRW1pdHRlclZpc2l0b3JDb250ZXh0LmNyZWF0ZVJvb3QoW10pO1xuICAgIHZhciBhc3RzO1xuICAgIGlmIChsYW5nXzEuaXNBcnJheShhc3QpKSB7XG4gICAgICAgIGFzdHMgPSBhc3Q7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhc3RzID0gW2FzdF07XG4gICAgfVxuICAgIGFzdHMuZm9yRWFjaChmdW5jdGlvbiAoYXN0KSB7XG4gICAgICAgIGlmIChhc3QgaW5zdGFuY2VvZiBvLlN0YXRlbWVudCkge1xuICAgICAgICAgICAgYXN0LnZpc2l0U3RhdGVtZW50KGNvbnZlcnRlciwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhc3QgaW5zdGFuY2VvZiBvLkV4cHJlc3Npb24pIHtcbiAgICAgICAgICAgIGFzdC52aXNpdEV4cHJlc3Npb24oY29udmVydGVyLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFzdCBpbnN0YW5jZW9mIG8uVHlwZSkge1xuICAgICAgICAgICAgYXN0LnZpc2l0VHlwZShjb252ZXJ0ZXIsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJEb24ndCBrbm93IGhvdyB0byBwcmludCBkZWJ1ZyBpbmZvIGZvciBcIiArIGFzdCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY3R4LnRvU291cmNlKCk7XG59XG5leHBvcnRzLmRlYnVnT3V0cHV0QXN0QXNEYXJ0ID0gZGVidWdPdXRwdXRBc3RBc0RhcnQ7XG52YXIgRGFydEVtaXR0ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERhcnRFbWl0dGVyKF9pbXBvcnRHZW5lcmF0b3IpIHtcbiAgICAgICAgdGhpcy5faW1wb3J0R2VuZXJhdG9yID0gX2ltcG9ydEdlbmVyYXRvcjtcbiAgICB9XG4gICAgRGFydEVtaXR0ZXIucHJvdG90eXBlLmVtaXRTdGF0ZW1lbnRzID0gZnVuY3Rpb24gKG1vZHVsZVVybCwgc3RtdHMsIGV4cG9ydGVkVmFycykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc3JjUGFydHMgPSBbXTtcbiAgICAgICAgLy8gTm90ZTogV2UgYXJlIG5vdCBjcmVhdGluZyBhIGxpYnJhcnkgaGVyZSBhcyBEYXJ0IGRvZXMgbm90IG5lZWQgaXQuXG4gICAgICAgIC8vIERhcnQgYW5hbHp5ZXIgbWlnaHQgY29tcGxhaW4gYWJvdXQgaXQgdGhvdWdoLlxuICAgICAgICB2YXIgY29udmVydGVyID0gbmV3IF9EYXJ0RW1pdHRlclZpc2l0b3IobW9kdWxlVXJsKTtcbiAgICAgICAgdmFyIGN0eCA9IGFic3RyYWN0X2VtaXR0ZXJfMS5FbWl0dGVyVmlzaXRvckNvbnRleHQuY3JlYXRlUm9vdChleHBvcnRlZFZhcnMpO1xuICAgICAgICBjb252ZXJ0ZXIudmlzaXRBbGxTdGF0ZW1lbnRzKHN0bXRzLCBjdHgpO1xuICAgICAgICBjb252ZXJ0ZXIuaW1wb3J0c1dpdGhQcmVmaXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChwcmVmaXgsIGltcG9ydGVkTW9kdWxlVXJsKSB7XG4gICAgICAgICAgICBzcmNQYXJ0cy5wdXNoKFwiaW1wb3J0ICdcIiArIF90aGlzLl9pbXBvcnRHZW5lcmF0b3IuZ2V0SW1wb3J0UGF0aChtb2R1bGVVcmwsIGltcG9ydGVkTW9kdWxlVXJsKSArIFwiJyBhcyBcIiArIHByZWZpeCArIFwiO1wiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNyY1BhcnRzLnB1c2goY3R4LnRvU291cmNlKCkpO1xuICAgICAgICByZXR1cm4gc3JjUGFydHMuam9pbignXFxuJyk7XG4gICAgfTtcbiAgICByZXR1cm4gRGFydEVtaXR0ZXI7XG59KCkpO1xuZXhwb3J0cy5EYXJ0RW1pdHRlciA9IERhcnRFbWl0dGVyO1xudmFyIF9EYXJ0RW1pdHRlclZpc2l0b3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhfRGFydEVtaXR0ZXJWaXNpdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIF9EYXJ0RW1pdHRlclZpc2l0b3IoX21vZHVsZVVybCkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCB0cnVlKTtcbiAgICAgICAgdGhpcy5fbW9kdWxlVXJsID0gX21vZHVsZVVybDtcbiAgICAgICAgdGhpcy5pbXBvcnRzV2l0aFByZWZpeGVzID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBfRGFydEVtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdEV4dGVybmFsRXhwciA9IGZ1bmN0aW9uIChhc3QsIGN0eCkge1xuICAgICAgICB0aGlzLl92aXNpdElkZW50aWZpZXIoYXN0LnZhbHVlLCBhc3QudHlwZVBhcmFtcywgY3R4KTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBfRGFydEVtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdERlY2xhcmVWYXJTdG10ID0gZnVuY3Rpb24gKHN0bXQsIGN0eCkge1xuICAgICAgICBpZiAoc3RtdC5oYXNNb2RpZmllcihvLlN0bXRNb2RpZmllci5GaW5hbCkpIHtcbiAgICAgICAgICAgIGlmIChpc0NvbnN0VHlwZShzdG10LnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgY3R4LnByaW50KFwiY29uc3QgXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY3R4LnByaW50KFwiZmluYWwgXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxhbmdfMS5pc0JsYW5rKHN0bXQudHlwZSkpIHtcbiAgICAgICAgICAgIGN0eC5wcmludChcInZhciBcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoc3RtdC50eXBlKSkge1xuICAgICAgICAgICAgc3RtdC50eXBlLnZpc2l0VHlwZSh0aGlzLCBjdHgpO1xuICAgICAgICAgICAgY3R4LnByaW50KFwiIFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjdHgucHJpbnQoc3RtdC5uYW1lICsgXCIgPSBcIik7XG4gICAgICAgIHN0bXQudmFsdWUudmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgICAgIGN0eC5wcmludGxuKFwiO1wiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBfRGFydEVtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdENhc3RFeHByID0gZnVuY3Rpb24gKGFzdCwgY3R4KSB7XG4gICAgICAgIGN0eC5wcmludChcIihcIik7XG4gICAgICAgIGFzdC52YWx1ZS52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KTtcbiAgICAgICAgY3R4LnByaW50KFwiIGFzIFwiKTtcbiAgICAgICAgYXN0LnR5cGUudmlzaXRUeXBlKHRoaXMsIGN0eCk7XG4gICAgICAgIGN0eC5wcmludChcIilcIik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgX0RhcnRFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXREZWNsYXJlQ2xhc3NTdG10ID0gZnVuY3Rpb24gKHN0bXQsIGN0eCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBjdHgucHVzaENsYXNzKHN0bXQpO1xuICAgICAgICBjdHgucHJpbnQoXCJjbGFzcyBcIiArIHN0bXQubmFtZSk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHN0bXQucGFyZW50KSkge1xuICAgICAgICAgICAgY3R4LnByaW50KFwiIGV4dGVuZHMgXCIpO1xuICAgICAgICAgICAgc3RtdC5wYXJlbnQudmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnByaW50bG4oXCIge1wiKTtcbiAgICAgICAgY3R4LmluY0luZGVudCgpO1xuICAgICAgICBzdG10LmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkgeyByZXR1cm4gX3RoaXMuX3Zpc2l0Q2xhc3NGaWVsZChmaWVsZCwgY3R4KTsgfSk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHN0bXQuY29uc3RydWN0b3JNZXRob2QpKSB7XG4gICAgICAgICAgICB0aGlzLl92aXNpdENsYXNzQ29uc3RydWN0b3Ioc3RtdCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBzdG10LmdldHRlcnMuZm9yRWFjaChmdW5jdGlvbiAoZ2V0dGVyKSB7IHJldHVybiBfdGhpcy5fdmlzaXRDbGFzc0dldHRlcihnZXR0ZXIsIGN0eCk7IH0pO1xuICAgICAgICBzdG10Lm1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7IHJldHVybiBfdGhpcy5fdmlzaXRDbGFzc01ldGhvZChtZXRob2QsIGN0eCk7IH0pO1xuICAgICAgICBjdHguZGVjSW5kZW50KCk7XG4gICAgICAgIGN0eC5wcmludGxuKFwifVwiKTtcbiAgICAgICAgY3R4LnBvcENsYXNzKCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgX0RhcnRFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUuX3Zpc2l0Q2xhc3NGaWVsZCA9IGZ1bmN0aW9uIChmaWVsZCwgY3R4KSB7XG4gICAgICAgIGlmIChmaWVsZC5oYXNNb2RpZmllcihvLlN0bXRNb2RpZmllci5GaW5hbCkpIHtcbiAgICAgICAgICAgIGN0eC5wcmludChcImZpbmFsIFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsYW5nXzEuaXNCbGFuayhmaWVsZC50eXBlKSkge1xuICAgICAgICAgICAgY3R4LnByaW50KFwidmFyIFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChmaWVsZC50eXBlKSkge1xuICAgICAgICAgICAgZmllbGQudHlwZS52aXNpdFR5cGUodGhpcywgY3R4KTtcbiAgICAgICAgICAgIGN0eC5wcmludChcIiBcIik7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnByaW50bG4oZmllbGQubmFtZSArIFwiO1wiKTtcbiAgICB9O1xuICAgIF9EYXJ0RW1pdHRlclZpc2l0b3IucHJvdG90eXBlLl92aXNpdENsYXNzR2V0dGVyID0gZnVuY3Rpb24gKGdldHRlciwgY3R4KSB7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGdldHRlci50eXBlKSkge1xuICAgICAgICAgICAgZ2V0dGVyLnR5cGUudmlzaXRUeXBlKHRoaXMsIGN0eCk7XG4gICAgICAgICAgICBjdHgucHJpbnQoXCIgXCIpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5wcmludGxuKFwiZ2V0IFwiICsgZ2V0dGVyLm5hbWUgKyBcIiB7XCIpO1xuICAgICAgICBjdHguaW5jSW5kZW50KCk7XG4gICAgICAgIHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKGdldHRlci5ib2R5LCBjdHgpO1xuICAgICAgICBjdHguZGVjSW5kZW50KCk7XG4gICAgICAgIGN0eC5wcmludGxuKFwifVwiKTtcbiAgICB9O1xuICAgIF9EYXJ0RW1pdHRlclZpc2l0b3IucHJvdG90eXBlLl92aXNpdENsYXNzQ29uc3RydWN0b3IgPSBmdW5jdGlvbiAoc3RtdCwgY3R4KSB7XG4gICAgICAgIGN0eC5wcmludChzdG10Lm5hbWUgKyBcIihcIik7XG4gICAgICAgIHRoaXMuX3Zpc2l0UGFyYW1zKHN0bXQuY29uc3RydWN0b3JNZXRob2QucGFyYW1zLCBjdHgpO1xuICAgICAgICBjdHgucHJpbnQoXCIpXCIpO1xuICAgICAgICB2YXIgY3RvclN0bXRzID0gc3RtdC5jb25zdHJ1Y3Rvck1ldGhvZC5ib2R5O1xuICAgICAgICB2YXIgc3VwZXJDdG9yRXhwciA9IGN0b3JTdG10cy5sZW5ndGggPiAwID8gZ2V0U3VwZXJDb25zdHJ1Y3RvckNhbGxFeHByKGN0b3JTdG10c1swXSkgOiBudWxsO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChzdXBlckN0b3JFeHByKSkge1xuICAgICAgICAgICAgY3R4LnByaW50KFwiOiBcIik7XG4gICAgICAgICAgICBzdXBlckN0b3JFeHByLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpO1xuICAgICAgICAgICAgY3RvclN0bXRzID0gY3RvclN0bXRzLnNsaWNlKDEpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5wcmludGxuKFwiIHtcIik7XG4gICAgICAgIGN0eC5pbmNJbmRlbnQoKTtcbiAgICAgICAgdGhpcy52aXNpdEFsbFN0YXRlbWVudHMoY3RvclN0bXRzLCBjdHgpO1xuICAgICAgICBjdHguZGVjSW5kZW50KCk7XG4gICAgICAgIGN0eC5wcmludGxuKFwifVwiKTtcbiAgICB9O1xuICAgIF9EYXJ0RW1pdHRlclZpc2l0b3IucHJvdG90eXBlLl92aXNpdENsYXNzTWV0aG9kID0gZnVuY3Rpb24gKG1ldGhvZCwgY3R4KSB7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KG1ldGhvZC50eXBlKSkge1xuICAgICAgICAgICAgbWV0aG9kLnR5cGUudmlzaXRUeXBlKHRoaXMsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdHgucHJpbnQoXCJ2b2lkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5wcmludChcIiBcIiArIG1ldGhvZC5uYW1lICsgXCIoXCIpO1xuICAgICAgICB0aGlzLl92aXNpdFBhcmFtcyhtZXRob2QucGFyYW1zLCBjdHgpO1xuICAgICAgICBjdHgucHJpbnRsbihcIikge1wiKTtcbiAgICAgICAgY3R4LmluY0luZGVudCgpO1xuICAgICAgICB0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyhtZXRob2QuYm9keSwgY3R4KTtcbiAgICAgICAgY3R4LmRlY0luZGVudCgpO1xuICAgICAgICBjdHgucHJpbnRsbihcIn1cIik7XG4gICAgfTtcbiAgICBfRGFydEVtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdEZ1bmN0aW9uRXhwciA9IGZ1bmN0aW9uIChhc3QsIGN0eCkge1xuICAgICAgICBjdHgucHJpbnQoXCIoXCIpO1xuICAgICAgICB0aGlzLl92aXNpdFBhcmFtcyhhc3QucGFyYW1zLCBjdHgpO1xuICAgICAgICBjdHgucHJpbnRsbihcIikge1wiKTtcbiAgICAgICAgY3R4LmluY0luZGVudCgpO1xuICAgICAgICB0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyhhc3Quc3RhdGVtZW50cywgY3R4KTtcbiAgICAgICAgY3R4LmRlY0luZGVudCgpO1xuICAgICAgICBjdHgucHJpbnQoXCJ9XCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIF9EYXJ0RW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGVjbGFyZUZ1bmN0aW9uU3RtdCA9IGZ1bmN0aW9uIChzdG10LCBjdHgpIHtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoc3RtdC50eXBlKSkge1xuICAgICAgICAgICAgc3RtdC50eXBlLnZpc2l0VHlwZSh0aGlzLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3R4LnByaW50KFwidm9pZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjdHgucHJpbnQoXCIgXCIgKyBzdG10Lm5hbWUgKyBcIihcIik7XG4gICAgICAgIHRoaXMuX3Zpc2l0UGFyYW1zKHN0bXQucGFyYW1zLCBjdHgpO1xuICAgICAgICBjdHgucHJpbnRsbihcIikge1wiKTtcbiAgICAgICAgY3R4LmluY0luZGVudCgpO1xuICAgICAgICB0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyhzdG10LnN0YXRlbWVudHMsIGN0eCk7XG4gICAgICAgIGN0eC5kZWNJbmRlbnQoKTtcbiAgICAgICAgY3R4LnByaW50bG4oXCJ9XCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIF9EYXJ0RW1pdHRlclZpc2l0b3IucHJvdG90eXBlLmdldEJ1aWx0aW5NZXRob2ROYW1lID0gZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgICB2YXIgbmFtZTtcbiAgICAgICAgc3dpdGNoIChtZXRob2QpIHtcbiAgICAgICAgICAgIGNhc2Ugby5CdWlsdGluTWV0aG9kLkNvbmNhdEFycmF5OlxuICAgICAgICAgICAgICAgIG5hbWUgPSAnLmFkZEFsbCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIG8uQnVpbHRpbk1ldGhvZC5TdWJzY3JpYmVPYnNlcnZhYmxlOlxuICAgICAgICAgICAgICAgIG5hbWUgPSAnbGlzdGVuJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugby5CdWlsdGluTWV0aG9kLmJpbmQ6XG4gICAgICAgICAgICAgICAgbmFtZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbihcIlVua25vd24gYnVpbHRpbiBtZXRob2Q6IFwiICsgbWV0aG9kKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9O1xuICAgIF9EYXJ0RW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0VHJ5Q2F0Y2hTdG10ID0gZnVuY3Rpb24gKHN0bXQsIGN0eCkge1xuICAgICAgICBjdHgucHJpbnRsbihcInRyeSB7XCIpO1xuICAgICAgICBjdHguaW5jSW5kZW50KCk7XG4gICAgICAgIHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKHN0bXQuYm9keVN0bXRzLCBjdHgpO1xuICAgICAgICBjdHguZGVjSW5kZW50KCk7XG4gICAgICAgIGN0eC5wcmludGxuKFwifSBjYXRjaCAoXCIgKyBhYnN0cmFjdF9lbWl0dGVyXzEuQ0FUQ0hfRVJST1JfVkFSLm5hbWUgKyBcIiwgXCIgKyBhYnN0cmFjdF9lbWl0dGVyXzEuQ0FUQ0hfU1RBQ0tfVkFSLm5hbWUgKyBcIikge1wiKTtcbiAgICAgICAgY3R4LmluY0luZGVudCgpO1xuICAgICAgICB0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyhzdG10LmNhdGNoU3RtdHMsIGN0eCk7XG4gICAgICAgIGN0eC5kZWNJbmRlbnQoKTtcbiAgICAgICAgY3R4LnByaW50bG4oXCJ9XCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIF9EYXJ0RW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0QmluYXJ5T3BlcmF0b3JFeHByID0gZnVuY3Rpb24gKGFzdCwgY3R4KSB7XG4gICAgICAgIHN3aXRjaCAoYXN0Lm9wZXJhdG9yKSB7XG4gICAgICAgICAgICBjYXNlIG8uQmluYXJ5T3BlcmF0b3IuSWRlbnRpY2FsOlxuICAgICAgICAgICAgICAgIGN0eC5wcmludChcImlkZW50aWNhbChcIik7XG4gICAgICAgICAgICAgICAgYXN0Lmxocy52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KTtcbiAgICAgICAgICAgICAgICBjdHgucHJpbnQoXCIsIFwiKTtcbiAgICAgICAgICAgICAgICBhc3QucmhzLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpO1xuICAgICAgICAgICAgICAgIGN0eC5wcmludChcIilcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIG8uQmluYXJ5T3BlcmF0b3IuTm90SWRlbnRpY2FsOlxuICAgICAgICAgICAgICAgIGN0eC5wcmludChcIiFpZGVudGljYWwoXCIpO1xuICAgICAgICAgICAgICAgIGFzdC5saHMudmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgICAgICAgICAgICAgY3R4LnByaW50KFwiLCBcIik7XG4gICAgICAgICAgICAgICAgYXN0LnJocy52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KTtcbiAgICAgICAgICAgICAgICBjdHgucHJpbnQoXCIpXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnZpc2l0QmluYXJ5T3BlcmF0b3JFeHByLmNhbGwodGhpcywgYXN0LCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgX0RhcnRFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRMaXRlcmFsQXJyYXlFeHByID0gZnVuY3Rpb24gKGFzdCwgY3R4KSB7XG4gICAgICAgIGlmIChpc0NvbnN0VHlwZShhc3QudHlwZSkpIHtcbiAgICAgICAgICAgIGN0eC5wcmludChcImNvbnN0IFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS52aXNpdExpdGVyYWxBcnJheUV4cHIuY2FsbCh0aGlzLCBhc3QsIGN0eCk7XG4gICAgfTtcbiAgICBfRGFydEVtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdExpdGVyYWxNYXBFeHByID0gZnVuY3Rpb24gKGFzdCwgY3R4KSB7XG4gICAgICAgIGlmIChpc0NvbnN0VHlwZShhc3QudHlwZSkpIHtcbiAgICAgICAgICAgIGN0eC5wcmludChcImNvbnN0IFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChhc3QudmFsdWVUeXBlKSkge1xuICAgICAgICAgICAgY3R4LnByaW50KFwiPFN0cmluZywgXCIpO1xuICAgICAgICAgICAgYXN0LnZhbHVlVHlwZS52aXNpdFR5cGUodGhpcywgY3R4KTtcbiAgICAgICAgICAgIGN0eC5wcmludChcIj5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUudmlzaXRMaXRlcmFsTWFwRXhwci5jYWxsKHRoaXMsIGFzdCwgY3R4KTtcbiAgICB9O1xuICAgIF9EYXJ0RW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW5zdGFudGlhdGVFeHByID0gZnVuY3Rpb24gKGFzdCwgY3R4KSB7XG4gICAgICAgIGN0eC5wcmludChpc0NvbnN0VHlwZShhc3QudHlwZSkgPyBcImNvbnN0XCIgOiBcIm5ld1wiKTtcbiAgICAgICAgY3R4LnByaW50KCcgJyk7XG4gICAgICAgIGFzdC5jbGFzc0V4cHIudmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgICAgIGN0eC5wcmludChcIihcIik7XG4gICAgICAgIHRoaXMudmlzaXRBbGxFeHByZXNzaW9ucyhhc3QuYXJncywgY3R4LCBcIixcIik7XG4gICAgICAgIGN0eC5wcmludChcIilcIik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgX0RhcnRFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRCdWlsdGludFR5cGUgPSBmdW5jdGlvbiAodHlwZSwgY3R4KSB7XG4gICAgICAgIHZhciB0eXBlU3RyO1xuICAgICAgICBzd2l0Y2ggKHR5cGUubmFtZSkge1xuICAgICAgICAgICAgY2FzZSBvLkJ1aWx0aW5UeXBlTmFtZS5Cb29sOlxuICAgICAgICAgICAgICAgIHR5cGVTdHIgPSAnYm9vbCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIG8uQnVpbHRpblR5cGVOYW1lLkR5bmFtaWM6XG4gICAgICAgICAgICAgICAgdHlwZVN0ciA9ICdkeW5hbWljJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugby5CdWlsdGluVHlwZU5hbWUuRnVuY3Rpb246XG4gICAgICAgICAgICAgICAgdHlwZVN0ciA9ICdGdW5jdGlvbic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIG8uQnVpbHRpblR5cGVOYW1lLk51bWJlcjpcbiAgICAgICAgICAgICAgICB0eXBlU3RyID0gJ251bSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIG8uQnVpbHRpblR5cGVOYW1lLkludDpcbiAgICAgICAgICAgICAgICB0eXBlU3RyID0gJ2ludCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIG8uQnVpbHRpblR5cGVOYW1lLlN0cmluZzpcbiAgICAgICAgICAgICAgICB0eXBlU3RyID0gJ1N0cmluZyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbihcIlVuc3VwcG9ydGVkIGJ1aWx0aW4gdHlwZSBcIiArIHR5cGUubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnByaW50KHR5cGVTdHIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIF9EYXJ0RW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0RXh0ZXJuYWxUeXBlID0gZnVuY3Rpb24gKGFzdCwgY3R4KSB7XG4gICAgICAgIHRoaXMuX3Zpc2l0SWRlbnRpZmllcihhc3QudmFsdWUsIGFzdC50eXBlUGFyYW1zLCBjdHgpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIF9EYXJ0RW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0QXJyYXlUeXBlID0gZnVuY3Rpb24gKHR5cGUsIGN0eCkge1xuICAgICAgICBjdHgucHJpbnQoXCJMaXN0PFwiKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodHlwZS5vZikpIHtcbiAgICAgICAgICAgIHR5cGUub2YudmlzaXRUeXBlKHRoaXMsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdHgucHJpbnQoXCJkeW5hbWljXCIpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5wcmludChcIj5cIik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgX0RhcnRFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRNYXBUeXBlID0gZnVuY3Rpb24gKHR5cGUsIGN0eCkge1xuICAgICAgICBjdHgucHJpbnQoXCJNYXA8U3RyaW5nLCBcIik7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHR5cGUudmFsdWVUeXBlKSkge1xuICAgICAgICAgICAgdHlwZS52YWx1ZVR5cGUudmlzaXRUeXBlKHRoaXMsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdHgucHJpbnQoXCJkeW5hbWljXCIpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5wcmludChcIj5cIik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgX0RhcnRFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUuX3Zpc2l0UGFyYW1zID0gZnVuY3Rpb24gKHBhcmFtcywgY3R4KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMudmlzaXRBbGxPYmplY3RzKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocGFyYW0udHlwZSkpIHtcbiAgICAgICAgICAgICAgICBwYXJhbS50eXBlLnZpc2l0VHlwZShfdGhpcywgY3R4KTtcbiAgICAgICAgICAgICAgICBjdHgucHJpbnQoJyAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0eC5wcmludChwYXJhbS5uYW1lKTtcbiAgICAgICAgfSwgcGFyYW1zLCBjdHgsICcsJyk7XG4gICAgfTtcbiAgICBfRGFydEVtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS5fdmlzaXRJZGVudGlmaWVyID0gZnVuY3Rpb24gKHZhbHVlLCB0eXBlUGFyYW1zLCBjdHgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHZhbHVlLm5hbWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJJbnRlcm5hbCBlcnJvcjogdW5rbm93biBpZGVudGlmaWVyIFwiICsgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHZhbHVlLm1vZHVsZVVybCkgJiYgdmFsdWUubW9kdWxlVXJsICE9IHRoaXMuX21vZHVsZVVybCkge1xuICAgICAgICAgICAgdmFyIHByZWZpeCA9IHRoaXMuaW1wb3J0c1dpdGhQcmVmaXhlcy5nZXQodmFsdWUubW9kdWxlVXJsKTtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhwcmVmaXgpKSB7XG4gICAgICAgICAgICAgICAgcHJlZml4ID0gXCJpbXBvcnRcIiArIHRoaXMuaW1wb3J0c1dpdGhQcmVmaXhlcy5zaXplO1xuICAgICAgICAgICAgICAgIHRoaXMuaW1wb3J0c1dpdGhQcmVmaXhlcy5zZXQodmFsdWUubW9kdWxlVXJsLCBwcmVmaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LnByaW50KHByZWZpeCArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBjdHgucHJpbnQodmFsdWUubmFtZSk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHR5cGVQYXJhbXMpICYmIHR5cGVQYXJhbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY3R4LnByaW50KFwiPFwiKTtcbiAgICAgICAgICAgIHRoaXMudmlzaXRBbGxPYmplY3RzKGZ1bmN0aW9uICh0eXBlKSB7IHJldHVybiB0eXBlLnZpc2l0VHlwZShfdGhpcywgY3R4KTsgfSwgdHlwZVBhcmFtcywgY3R4LCAnLCcpO1xuICAgICAgICAgICAgY3R4LnByaW50KFwiPlwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIF9EYXJ0RW1pdHRlclZpc2l0b3I7XG59KGFic3RyYWN0X2VtaXR0ZXJfMS5BYnN0cmFjdEVtaXR0ZXJWaXNpdG9yKSk7XG5mdW5jdGlvbiBnZXRTdXBlckNvbnN0cnVjdG9yQ2FsbEV4cHIoc3RtdCkge1xuICAgIGlmIChzdG10IGluc3RhbmNlb2Ygby5FeHByZXNzaW9uU3RhdGVtZW50KSB7XG4gICAgICAgIHZhciBleHByID0gc3RtdC5leHByO1xuICAgICAgICBpZiAoZXhwciBpbnN0YW5jZW9mIG8uSW52b2tlRnVuY3Rpb25FeHByKSB7XG4gICAgICAgICAgICB2YXIgZm4gPSBleHByLmZuO1xuICAgICAgICAgICAgaWYgKGZuIGluc3RhbmNlb2Ygby5SZWFkVmFyRXhwcikge1xuICAgICAgICAgICAgICAgIGlmIChmbi5idWlsdGluID09PSBvLkJ1aWx0aW5WYXIuU3VwZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cHI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gaXNDb25zdFR5cGUodHlwZSkge1xuICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHR5cGUpICYmIHR5cGUuaGFzTW9kaWZpZXIoby5UeXBlTW9kaWZpZXIuQ29uc3QpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGFydF9lbWl0dGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgY29yZV9wcml2YXRlXzEgPSByZXF1aXJlKCcuLi8uLi9jb3JlX3ByaXZhdGUnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBJbnRlcnByZXRpdmVBcHBWaWV3SW5zdGFuY2VGYWN0b3J5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbnRlcnByZXRpdmVBcHBWaWV3SW5zdGFuY2VGYWN0b3J5KCkge1xuICAgIH1cbiAgICBJbnRlcnByZXRpdmVBcHBWaWV3SW5zdGFuY2VGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGVJbnN0YW5jZSA9IGZ1bmN0aW9uIChzdXBlckNsYXNzLCBjbGF6eiwgYXJncywgcHJvcHMsIGdldHRlcnMsIG1ldGhvZHMpIHtcbiAgICAgICAgaWYgKHN1cGVyQ2xhc3MgPT09IGNvcmVfcHJpdmF0ZV8xLkFwcFZpZXcpIHtcbiAgICAgICAgICAgIC8vIFdlIGFyZSBhbHdheXMgdXNpbmcgRGVidWdBcHBWaWV3IGFzIHBhcmVudC5cbiAgICAgICAgICAgIC8vIEhvd2V2ZXIsIGluIHByb2QgbW9kZSB3ZSBnZW5lcmF0ZSBhIGNvbnN0cnVjdG9yIGNhbGwgdGhhdCBkb2VzXG4gICAgICAgICAgICAvLyBub3QgaGF2ZSB0aGUgYXJndW1lbnQgZm9yIHRoZSBkZWJ1Z05vZGVJbmZvcy5cbiAgICAgICAgICAgIGFyZ3MgPSBhcmdzLmNvbmNhdChbbnVsbF0pO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBfSW50ZXJwcmV0aXZlQXBwVmlldyhhcmdzLCBwcm9wcywgZ2V0dGVycywgbWV0aG9kcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3VwZXJDbGFzcyA9PT0gY29yZV9wcml2YXRlXzEuRGVidWdBcHBWaWV3KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IF9JbnRlcnByZXRpdmVBcHBWaWV3KGFyZ3MsIHByb3BzLCBnZXR0ZXJzLCBtZXRob2RzKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJDYW4ndCBpbnN0YW50aWF0ZSBjbGFzcyBcIiArIHN1cGVyQ2xhc3MgKyBcIiBpbiBpbnRlcnByZXRhdGl2ZSBtb2RlXCIpO1xuICAgIH07XG4gICAgcmV0dXJuIEludGVycHJldGl2ZUFwcFZpZXdJbnN0YW5jZUZhY3Rvcnk7XG59KCkpO1xuZXhwb3J0cy5JbnRlcnByZXRpdmVBcHBWaWV3SW5zdGFuY2VGYWN0b3J5ID0gSW50ZXJwcmV0aXZlQXBwVmlld0luc3RhbmNlRmFjdG9yeTtcbnZhciBfSW50ZXJwcmV0aXZlQXBwVmlldyA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKF9JbnRlcnByZXRpdmVBcHBWaWV3LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIF9JbnRlcnByZXRpdmVBcHBWaWV3KGFyZ3MsIHByb3BzLCBnZXR0ZXJzLCBtZXRob2RzKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0sIGFyZ3NbNl0sIGFyZ3NbN10pO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgIHRoaXMuZ2V0dGVycyA9IGdldHRlcnM7XG4gICAgICAgIHRoaXMubWV0aG9kcyA9IG1ldGhvZHM7XG4gICAgfVxuICAgIF9JbnRlcnByZXRpdmVBcHBWaWV3LnByb3RvdHlwZS5jcmVhdGVJbnRlcm5hbCA9IGZ1bmN0aW9uIChyb290U2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIG0gPSB0aGlzLm1ldGhvZHMuZ2V0KCdjcmVhdGVJbnRlcm5hbCcpO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChtKSkge1xuICAgICAgICAgICAgcmV0dXJuIG0ocm9vdFNlbGVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmNyZWF0ZUludGVybmFsLmNhbGwodGhpcywgcm9vdFNlbGVjdG9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgX0ludGVycHJldGl2ZUFwcFZpZXcucHJvdG90eXBlLmluamVjdG9yR2V0SW50ZXJuYWwgPSBmdW5jdGlvbiAodG9rZW4sIG5vZGVJbmRleCwgbm90Rm91bmRSZXN1bHQpIHtcbiAgICAgICAgdmFyIG0gPSB0aGlzLm1ldGhvZHMuZ2V0KCdpbmplY3RvckdldEludGVybmFsJyk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KG0pKSB7XG4gICAgICAgICAgICByZXR1cm4gbSh0b2tlbiwgbm9kZUluZGV4LCBub3RGb3VuZFJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5pbmplY3RvckdldC5jYWxsKHRoaXMsIHRva2VuLCBub2RlSW5kZXgsIG5vdEZvdW5kUmVzdWx0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgX0ludGVycHJldGl2ZUFwcFZpZXcucHJvdG90eXBlLmRlc3Ryb3lJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG0gPSB0aGlzLm1ldGhvZHMuZ2V0KCdkZXN0cm95SW50ZXJuYWwnKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQobSkpIHtcbiAgICAgICAgICAgIHJldHVybiBtKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95SW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgX0ludGVycHJldGl2ZUFwcFZpZXcucHJvdG90eXBlLmRpcnR5UGFyZW50UXVlcmllc0ludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbSA9IHRoaXMubWV0aG9kcy5nZXQoJ2RpcnR5UGFyZW50UXVlcmllc0ludGVybmFsJyk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KG0pKSB7XG4gICAgICAgICAgICByZXR1cm4gbSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZGlydHlQYXJlbnRRdWVyaWVzSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgX0ludGVycHJldGl2ZUFwcFZpZXcucHJvdG90eXBlLmRldGVjdENoYW5nZXNJbnRlcm5hbCA9IGZ1bmN0aW9uICh0aHJvd09uQ2hhbmdlKSB7XG4gICAgICAgIHZhciBtID0gdGhpcy5tZXRob2RzLmdldCgnZGV0ZWN0Q2hhbmdlc0ludGVybmFsJyk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KG0pKSB7XG4gICAgICAgICAgICByZXR1cm4gbSh0aHJvd09uQ2hhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmRldGVjdENoYW5nZXNJbnRlcm5hbC5jYWxsKHRoaXMsIHRocm93T25DaGFuZ2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gX0ludGVycHJldGl2ZUFwcFZpZXc7XG59KGNvcmVfcHJpdmF0ZV8xLkRlYnVnQXBwVmlldykpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJwcmV0aXZlX3ZpZXcuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbi8vLy8gVHlwZXNcbihmdW5jdGlvbiAoVHlwZU1vZGlmaWVyKSB7XG4gICAgVHlwZU1vZGlmaWVyW1R5cGVNb2RpZmllcltcIkNvbnN0XCJdID0gMF0gPSBcIkNvbnN0XCI7XG59KShleHBvcnRzLlR5cGVNb2RpZmllciB8fCAoZXhwb3J0cy5UeXBlTW9kaWZpZXIgPSB7fSkpO1xudmFyIFR5cGVNb2RpZmllciA9IGV4cG9ydHMuVHlwZU1vZGlmaWVyO1xudmFyIFR5cGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFR5cGUobW9kaWZpZXJzKSB7XG4gICAgICAgIGlmIChtb2RpZmllcnMgPT09IHZvaWQgMCkgeyBtb2RpZmllcnMgPSBudWxsOyB9XG4gICAgICAgIHRoaXMubW9kaWZpZXJzID0gbW9kaWZpZXJzO1xuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsobW9kaWZpZXJzKSkge1xuICAgICAgICAgICAgdGhpcy5tb2RpZmllcnMgPSBbXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBUeXBlLnByb3RvdHlwZS5oYXNNb2RpZmllciA9IGZ1bmN0aW9uIChtb2RpZmllcikgeyByZXR1cm4gdGhpcy5tb2RpZmllcnMuaW5kZXhPZihtb2RpZmllcikgIT09IC0xOyB9O1xuICAgIHJldHVybiBUeXBlO1xufSgpKTtcbmV4cG9ydHMuVHlwZSA9IFR5cGU7XG4oZnVuY3Rpb24gKEJ1aWx0aW5UeXBlTmFtZSkge1xuICAgIEJ1aWx0aW5UeXBlTmFtZVtCdWlsdGluVHlwZU5hbWVbXCJEeW5hbWljXCJdID0gMF0gPSBcIkR5bmFtaWNcIjtcbiAgICBCdWlsdGluVHlwZU5hbWVbQnVpbHRpblR5cGVOYW1lW1wiQm9vbFwiXSA9IDFdID0gXCJCb29sXCI7XG4gICAgQnVpbHRpblR5cGVOYW1lW0J1aWx0aW5UeXBlTmFtZVtcIlN0cmluZ1wiXSA9IDJdID0gXCJTdHJpbmdcIjtcbiAgICBCdWlsdGluVHlwZU5hbWVbQnVpbHRpblR5cGVOYW1lW1wiSW50XCJdID0gM10gPSBcIkludFwiO1xuICAgIEJ1aWx0aW5UeXBlTmFtZVtCdWlsdGluVHlwZU5hbWVbXCJOdW1iZXJcIl0gPSA0XSA9IFwiTnVtYmVyXCI7XG4gICAgQnVpbHRpblR5cGVOYW1lW0J1aWx0aW5UeXBlTmFtZVtcIkZ1bmN0aW9uXCJdID0gNV0gPSBcIkZ1bmN0aW9uXCI7XG59KShleHBvcnRzLkJ1aWx0aW5UeXBlTmFtZSB8fCAoZXhwb3J0cy5CdWlsdGluVHlwZU5hbWUgPSB7fSkpO1xudmFyIEJ1aWx0aW5UeXBlTmFtZSA9IGV4cG9ydHMuQnVpbHRpblR5cGVOYW1lO1xudmFyIEJ1aWx0aW5UeXBlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQnVpbHRpblR5cGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQnVpbHRpblR5cGUobmFtZSwgbW9kaWZpZXJzKSB7XG4gICAgICAgIGlmIChtb2RpZmllcnMgPT09IHZvaWQgMCkgeyBtb2RpZmllcnMgPSBudWxsOyB9XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIG1vZGlmaWVycyk7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfVxuICAgIEJ1aWx0aW5UeXBlLnByb3RvdHlwZS52aXNpdFR5cGUgPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEJ1aWx0aW50VHlwZSh0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBCdWlsdGluVHlwZTtcbn0oVHlwZSkpO1xuZXhwb3J0cy5CdWlsdGluVHlwZSA9IEJ1aWx0aW5UeXBlO1xudmFyIEV4dGVybmFsVHlwZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEV4dGVybmFsVHlwZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBFeHRlcm5hbFR5cGUodmFsdWUsIHR5cGVQYXJhbXMsIG1vZGlmaWVycykge1xuICAgICAgICBpZiAodHlwZVBhcmFtcyA9PT0gdm9pZCAwKSB7IHR5cGVQYXJhbXMgPSBudWxsOyB9XG4gICAgICAgIGlmIChtb2RpZmllcnMgPT09IHZvaWQgMCkgeyBtb2RpZmllcnMgPSBudWxsOyB9XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIG1vZGlmaWVycyk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy50eXBlUGFyYW1zID0gdHlwZVBhcmFtcztcbiAgICB9XG4gICAgRXh0ZXJuYWxUeXBlLnByb3RvdHlwZS52aXNpdFR5cGUgPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEV4dGVybmFsVHlwZSh0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBFeHRlcm5hbFR5cGU7XG59KFR5cGUpKTtcbmV4cG9ydHMuRXh0ZXJuYWxUeXBlID0gRXh0ZXJuYWxUeXBlO1xudmFyIEFycmF5VHlwZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFycmF5VHlwZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBcnJheVR5cGUob2YsIG1vZGlmaWVycykge1xuICAgICAgICBpZiAobW9kaWZpZXJzID09PSB2b2lkIDApIHsgbW9kaWZpZXJzID0gbnVsbDsgfVxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBtb2RpZmllcnMpO1xuICAgICAgICB0aGlzLm9mID0gb2Y7XG4gICAgfVxuICAgIEFycmF5VHlwZS5wcm90b3R5cGUudmlzaXRUeXBlID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRBcnJheVR5cGUodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gQXJyYXlUeXBlO1xufShUeXBlKSk7XG5leHBvcnRzLkFycmF5VHlwZSA9IEFycmF5VHlwZTtcbnZhciBNYXBUeXBlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWFwVHlwZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNYXBUeXBlKHZhbHVlVHlwZSwgbW9kaWZpZXJzKSB7XG4gICAgICAgIGlmIChtb2RpZmllcnMgPT09IHZvaWQgMCkgeyBtb2RpZmllcnMgPSBudWxsOyB9XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIG1vZGlmaWVycyk7XG4gICAgICAgIHRoaXMudmFsdWVUeXBlID0gdmFsdWVUeXBlO1xuICAgIH1cbiAgICBNYXBUeXBlLnByb3RvdHlwZS52aXNpdFR5cGUgPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkgeyByZXR1cm4gdmlzaXRvci52aXNpdE1hcFR5cGUodGhpcywgY29udGV4dCk7IH07XG4gICAgcmV0dXJuIE1hcFR5cGU7XG59KFR5cGUpKTtcbmV4cG9ydHMuTWFwVHlwZSA9IE1hcFR5cGU7XG5leHBvcnRzLkRZTkFNSUNfVFlQRSA9IG5ldyBCdWlsdGluVHlwZShCdWlsdGluVHlwZU5hbWUuRHluYW1pYyk7XG5leHBvcnRzLkJPT0xfVFlQRSA9IG5ldyBCdWlsdGluVHlwZShCdWlsdGluVHlwZU5hbWUuQm9vbCk7XG5leHBvcnRzLklOVF9UWVBFID0gbmV3IEJ1aWx0aW5UeXBlKEJ1aWx0aW5UeXBlTmFtZS5JbnQpO1xuZXhwb3J0cy5OVU1CRVJfVFlQRSA9IG5ldyBCdWlsdGluVHlwZShCdWlsdGluVHlwZU5hbWUuTnVtYmVyKTtcbmV4cG9ydHMuU1RSSU5HX1RZUEUgPSBuZXcgQnVpbHRpblR5cGUoQnVpbHRpblR5cGVOYW1lLlN0cmluZyk7XG5leHBvcnRzLkZVTkNUSU9OX1RZUEUgPSBuZXcgQnVpbHRpblR5cGUoQnVpbHRpblR5cGVOYW1lLkZ1bmN0aW9uKTtcbi8vLy8vIEV4cHJlc3Npb25zXG4oZnVuY3Rpb24gKEJpbmFyeU9wZXJhdG9yKSB7XG4gICAgQmluYXJ5T3BlcmF0b3JbQmluYXJ5T3BlcmF0b3JbXCJFcXVhbHNcIl0gPSAwXSA9IFwiRXF1YWxzXCI7XG4gICAgQmluYXJ5T3BlcmF0b3JbQmluYXJ5T3BlcmF0b3JbXCJOb3RFcXVhbHNcIl0gPSAxXSA9IFwiTm90RXF1YWxzXCI7XG4gICAgQmluYXJ5T3BlcmF0b3JbQmluYXJ5T3BlcmF0b3JbXCJJZGVudGljYWxcIl0gPSAyXSA9IFwiSWRlbnRpY2FsXCI7XG4gICAgQmluYXJ5T3BlcmF0b3JbQmluYXJ5T3BlcmF0b3JbXCJOb3RJZGVudGljYWxcIl0gPSAzXSA9IFwiTm90SWRlbnRpY2FsXCI7XG4gICAgQmluYXJ5T3BlcmF0b3JbQmluYXJ5T3BlcmF0b3JbXCJNaW51c1wiXSA9IDRdID0gXCJNaW51c1wiO1xuICAgIEJpbmFyeU9wZXJhdG9yW0JpbmFyeU9wZXJhdG9yW1wiUGx1c1wiXSA9IDVdID0gXCJQbHVzXCI7XG4gICAgQmluYXJ5T3BlcmF0b3JbQmluYXJ5T3BlcmF0b3JbXCJEaXZpZGVcIl0gPSA2XSA9IFwiRGl2aWRlXCI7XG4gICAgQmluYXJ5T3BlcmF0b3JbQmluYXJ5T3BlcmF0b3JbXCJNdWx0aXBseVwiXSA9IDddID0gXCJNdWx0aXBseVwiO1xuICAgIEJpbmFyeU9wZXJhdG9yW0JpbmFyeU9wZXJhdG9yW1wiTW9kdWxvXCJdID0gOF0gPSBcIk1vZHVsb1wiO1xuICAgIEJpbmFyeU9wZXJhdG9yW0JpbmFyeU9wZXJhdG9yW1wiQW5kXCJdID0gOV0gPSBcIkFuZFwiO1xuICAgIEJpbmFyeU9wZXJhdG9yW0JpbmFyeU9wZXJhdG9yW1wiT3JcIl0gPSAxMF0gPSBcIk9yXCI7XG4gICAgQmluYXJ5T3BlcmF0b3JbQmluYXJ5T3BlcmF0b3JbXCJMb3dlclwiXSA9IDExXSA9IFwiTG93ZXJcIjtcbiAgICBCaW5hcnlPcGVyYXRvcltCaW5hcnlPcGVyYXRvcltcIkxvd2VyRXF1YWxzXCJdID0gMTJdID0gXCJMb3dlckVxdWFsc1wiO1xuICAgIEJpbmFyeU9wZXJhdG9yW0JpbmFyeU9wZXJhdG9yW1wiQmlnZ2VyXCJdID0gMTNdID0gXCJCaWdnZXJcIjtcbiAgICBCaW5hcnlPcGVyYXRvcltCaW5hcnlPcGVyYXRvcltcIkJpZ2dlckVxdWFsc1wiXSA9IDE0XSA9IFwiQmlnZ2VyRXF1YWxzXCI7XG59KShleHBvcnRzLkJpbmFyeU9wZXJhdG9yIHx8IChleHBvcnRzLkJpbmFyeU9wZXJhdG9yID0ge30pKTtcbnZhciBCaW5hcnlPcGVyYXRvciA9IGV4cG9ydHMuQmluYXJ5T3BlcmF0b3I7XG52YXIgRXhwcmVzc2lvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXhwcmVzc2lvbih0eXBlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgfVxuICAgIEV4cHJlc3Npb24ucHJvdG90eXBlLnByb3AgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gbmV3IFJlYWRQcm9wRXhwcih0aGlzLCBuYW1lKTsgfTtcbiAgICBFeHByZXNzaW9uLnByb3RvdHlwZS5rZXkgPSBmdW5jdGlvbiAoaW5kZXgsIHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gbmV3IFJlYWRLZXlFeHByKHRoaXMsIGluZGV4LCB0eXBlKTtcbiAgICB9O1xuICAgIEV4cHJlc3Npb24ucHJvdG90eXBlLmNhbGxNZXRob2QgPSBmdW5jdGlvbiAobmFtZSwgcGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW52b2tlTWV0aG9kRXhwcih0aGlzLCBuYW1lLCBwYXJhbXMpO1xuICAgIH07XG4gICAgRXhwcmVzc2lvbi5wcm90b3R5cGUuY2FsbEZuID0gZnVuY3Rpb24gKHBhcmFtcykgeyByZXR1cm4gbmV3IEludm9rZUZ1bmN0aW9uRXhwcih0aGlzLCBwYXJhbXMpOyB9O1xuICAgIEV4cHJlc3Npb24ucHJvdG90eXBlLmluc3RhbnRpYXRlID0gZnVuY3Rpb24gKHBhcmFtcywgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSBudWxsOyB9XG4gICAgICAgIHJldHVybiBuZXcgSW5zdGFudGlhdGVFeHByKHRoaXMsIHBhcmFtcywgdHlwZSk7XG4gICAgfTtcbiAgICBFeHByZXNzaW9uLnByb3RvdHlwZS5jb25kaXRpb25hbCA9IGZ1bmN0aW9uICh0cnVlQ2FzZSwgZmFsc2VDYXNlKSB7XG4gICAgICAgIGlmIChmYWxzZUNhc2UgPT09IHZvaWQgMCkgeyBmYWxzZUNhc2UgPSBudWxsOyB9XG4gICAgICAgIHJldHVybiBuZXcgQ29uZGl0aW9uYWxFeHByKHRoaXMsIHRydWVDYXNlLCBmYWxzZUNhc2UpO1xuICAgIH07XG4gICAgRXhwcmVzc2lvbi5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKHJocykge1xuICAgICAgICByZXR1cm4gbmV3IEJpbmFyeU9wZXJhdG9yRXhwcihCaW5hcnlPcGVyYXRvci5FcXVhbHMsIHRoaXMsIHJocyk7XG4gICAgfTtcbiAgICBFeHByZXNzaW9uLnByb3RvdHlwZS5ub3RFcXVhbHMgPSBmdW5jdGlvbiAocmhzKSB7XG4gICAgICAgIHJldHVybiBuZXcgQmluYXJ5T3BlcmF0b3JFeHByKEJpbmFyeU9wZXJhdG9yLk5vdEVxdWFscywgdGhpcywgcmhzKTtcbiAgICB9O1xuICAgIEV4cHJlc3Npb24ucHJvdG90eXBlLmlkZW50aWNhbCA9IGZ1bmN0aW9uIChyaHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5hcnlPcGVyYXRvckV4cHIoQmluYXJ5T3BlcmF0b3IuSWRlbnRpY2FsLCB0aGlzLCByaHMpO1xuICAgIH07XG4gICAgRXhwcmVzc2lvbi5wcm90b3R5cGUubm90SWRlbnRpY2FsID0gZnVuY3Rpb24gKHJocykge1xuICAgICAgICByZXR1cm4gbmV3IEJpbmFyeU9wZXJhdG9yRXhwcihCaW5hcnlPcGVyYXRvci5Ob3RJZGVudGljYWwsIHRoaXMsIHJocyk7XG4gICAgfTtcbiAgICBFeHByZXNzaW9uLnByb3RvdHlwZS5taW51cyA9IGZ1bmN0aW9uIChyaHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5hcnlPcGVyYXRvckV4cHIoQmluYXJ5T3BlcmF0b3IuTWludXMsIHRoaXMsIHJocyk7XG4gICAgfTtcbiAgICBFeHByZXNzaW9uLnByb3RvdHlwZS5wbHVzID0gZnVuY3Rpb24gKHJocykge1xuICAgICAgICByZXR1cm4gbmV3IEJpbmFyeU9wZXJhdG9yRXhwcihCaW5hcnlPcGVyYXRvci5QbHVzLCB0aGlzLCByaHMpO1xuICAgIH07XG4gICAgRXhwcmVzc2lvbi5wcm90b3R5cGUuZGl2aWRlID0gZnVuY3Rpb24gKHJocykge1xuICAgICAgICByZXR1cm4gbmV3IEJpbmFyeU9wZXJhdG9yRXhwcihCaW5hcnlPcGVyYXRvci5EaXZpZGUsIHRoaXMsIHJocyk7XG4gICAgfTtcbiAgICBFeHByZXNzaW9uLnByb3RvdHlwZS5tdWx0aXBseSA9IGZ1bmN0aW9uIChyaHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5hcnlPcGVyYXRvckV4cHIoQmluYXJ5T3BlcmF0b3IuTXVsdGlwbHksIHRoaXMsIHJocyk7XG4gICAgfTtcbiAgICBFeHByZXNzaW9uLnByb3RvdHlwZS5tb2R1bG8gPSBmdW5jdGlvbiAocmhzKSB7XG4gICAgICAgIHJldHVybiBuZXcgQmluYXJ5T3BlcmF0b3JFeHByKEJpbmFyeU9wZXJhdG9yLk1vZHVsbywgdGhpcywgcmhzKTtcbiAgICB9O1xuICAgIEV4cHJlc3Npb24ucHJvdG90eXBlLmFuZCA9IGZ1bmN0aW9uIChyaHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5hcnlPcGVyYXRvckV4cHIoQmluYXJ5T3BlcmF0b3IuQW5kLCB0aGlzLCByaHMpO1xuICAgIH07XG4gICAgRXhwcmVzc2lvbi5wcm90b3R5cGUub3IgPSBmdW5jdGlvbiAocmhzKSB7XG4gICAgICAgIHJldHVybiBuZXcgQmluYXJ5T3BlcmF0b3JFeHByKEJpbmFyeU9wZXJhdG9yLk9yLCB0aGlzLCByaHMpO1xuICAgIH07XG4gICAgRXhwcmVzc2lvbi5wcm90b3R5cGUubG93ZXIgPSBmdW5jdGlvbiAocmhzKSB7XG4gICAgICAgIHJldHVybiBuZXcgQmluYXJ5T3BlcmF0b3JFeHByKEJpbmFyeU9wZXJhdG9yLkxvd2VyLCB0aGlzLCByaHMpO1xuICAgIH07XG4gICAgRXhwcmVzc2lvbi5wcm90b3R5cGUubG93ZXJFcXVhbHMgPSBmdW5jdGlvbiAocmhzKSB7XG4gICAgICAgIHJldHVybiBuZXcgQmluYXJ5T3BlcmF0b3JFeHByKEJpbmFyeU9wZXJhdG9yLkxvd2VyRXF1YWxzLCB0aGlzLCByaHMpO1xuICAgIH07XG4gICAgRXhwcmVzc2lvbi5wcm90b3R5cGUuYmlnZ2VyID0gZnVuY3Rpb24gKHJocykge1xuICAgICAgICByZXR1cm4gbmV3IEJpbmFyeU9wZXJhdG9yRXhwcihCaW5hcnlPcGVyYXRvci5CaWdnZXIsIHRoaXMsIHJocyk7XG4gICAgfTtcbiAgICBFeHByZXNzaW9uLnByb3RvdHlwZS5iaWdnZXJFcXVhbHMgPSBmdW5jdGlvbiAocmhzKSB7XG4gICAgICAgIHJldHVybiBuZXcgQmluYXJ5T3BlcmF0b3JFeHByKEJpbmFyeU9wZXJhdG9yLkJpZ2dlckVxdWFscywgdGhpcywgcmhzKTtcbiAgICB9O1xuICAgIEV4cHJlc3Npb24ucHJvdG90eXBlLmlzQmxhbmsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIE5vdGU6IFdlIHVzZSBlcXVhbHMgYnkgcHVycG9zZSBoZXJlIHRvIGNvbXBhcmUgdG8gbnVsbCBhbmQgdW5kZWZpbmVkIGluIEpTLlxuICAgICAgICByZXR1cm4gdGhpcy5lcXVhbHMoZXhwb3J0cy5OVUxMX0VYUFIpO1xuICAgIH07XG4gICAgRXhwcmVzc2lvbi5wcm90b3R5cGUuY2FzdCA9IGZ1bmN0aW9uICh0eXBlKSB7IHJldHVybiBuZXcgQ2FzdEV4cHIodGhpcywgdHlwZSk7IH07XG4gICAgRXhwcmVzc2lvbi5wcm90b3R5cGUudG9TdG10ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IEV4cHJlc3Npb25TdGF0ZW1lbnQodGhpcyk7IH07XG4gICAgcmV0dXJuIEV4cHJlc3Npb247XG59KCkpO1xuZXhwb3J0cy5FeHByZXNzaW9uID0gRXhwcmVzc2lvbjtcbihmdW5jdGlvbiAoQnVpbHRpblZhcikge1xuICAgIEJ1aWx0aW5WYXJbQnVpbHRpblZhcltcIlRoaXNcIl0gPSAwXSA9IFwiVGhpc1wiO1xuICAgIEJ1aWx0aW5WYXJbQnVpbHRpblZhcltcIlN1cGVyXCJdID0gMV0gPSBcIlN1cGVyXCI7XG4gICAgQnVpbHRpblZhcltCdWlsdGluVmFyW1wiQ2F0Y2hFcnJvclwiXSA9IDJdID0gXCJDYXRjaEVycm9yXCI7XG4gICAgQnVpbHRpblZhcltCdWlsdGluVmFyW1wiQ2F0Y2hTdGFja1wiXSA9IDNdID0gXCJDYXRjaFN0YWNrXCI7XG59KShleHBvcnRzLkJ1aWx0aW5WYXIgfHwgKGV4cG9ydHMuQnVpbHRpblZhciA9IHt9KSk7XG52YXIgQnVpbHRpblZhciA9IGV4cG9ydHMuQnVpbHRpblZhcjtcbnZhciBSZWFkVmFyRXhwciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlYWRWYXJFeHByLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlYWRWYXJFeHByKG5hbWUsIHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gbnVsbDsgfVxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCB0eXBlKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1N0cmluZyhuYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgICAgIHRoaXMuYnVpbHRpbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5idWlsdGluID0gbmFtZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBSZWFkVmFyRXhwci5wcm90b3R5cGUudmlzaXRFeHByZXNzaW9uID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRSZWFkVmFyRXhwcih0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIFJlYWRWYXJFeHByLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIG5ldyBXcml0ZVZhckV4cHIodGhpcy5uYW1lLCB2YWx1ZSk7IH07XG4gICAgcmV0dXJuIFJlYWRWYXJFeHByO1xufShFeHByZXNzaW9uKSk7XG5leHBvcnRzLlJlYWRWYXJFeHByID0gUmVhZFZhckV4cHI7XG52YXIgV3JpdGVWYXJFeHByID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoV3JpdGVWYXJFeHByLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFdyaXRlVmFyRXhwcihuYW1lLCB2YWx1ZSwgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSBudWxsOyB9XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGxhbmdfMS5pc1ByZXNlbnQodHlwZSkgPyB0eXBlIDogdmFsdWUudHlwZSk7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgV3JpdGVWYXJFeHByLnByb3RvdHlwZS52aXNpdEV4cHJlc3Npb24gPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdFdyaXRlVmFyRXhwcih0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIFdyaXRlVmFyRXhwci5wcm90b3R5cGUudG9EZWNsU3RtdCA9IGZ1bmN0aW9uICh0eXBlLCBtb2RpZmllcnMpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gbnVsbDsgfVxuICAgICAgICBpZiAobW9kaWZpZXJzID09PSB2b2lkIDApIHsgbW9kaWZpZXJzID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gbmV3IERlY2xhcmVWYXJTdG10KHRoaXMubmFtZSwgdGhpcy52YWx1ZSwgdHlwZSwgbW9kaWZpZXJzKTtcbiAgICB9O1xuICAgIHJldHVybiBXcml0ZVZhckV4cHI7XG59KEV4cHJlc3Npb24pKTtcbmV4cG9ydHMuV3JpdGVWYXJFeHByID0gV3JpdGVWYXJFeHByO1xudmFyIFdyaXRlS2V5RXhwciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFdyaXRlS2V5RXhwciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBXcml0ZUtleUV4cHIocmVjZWl2ZXIsIGluZGV4LCB2YWx1ZSwgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSBudWxsOyB9XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGxhbmdfMS5pc1ByZXNlbnQodHlwZSkgPyB0eXBlIDogdmFsdWUudHlwZSk7XG4gICAgICAgIHRoaXMucmVjZWl2ZXIgPSByZWNlaXZlcjtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIFdyaXRlS2V5RXhwci5wcm90b3R5cGUudmlzaXRFeHByZXNzaW9uID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRXcml0ZUtleUV4cHIodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gV3JpdGVLZXlFeHByO1xufShFeHByZXNzaW9uKSk7XG5leHBvcnRzLldyaXRlS2V5RXhwciA9IFdyaXRlS2V5RXhwcjtcbnZhciBXcml0ZVByb3BFeHByID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoV3JpdGVQcm9wRXhwciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBXcml0ZVByb3BFeHByKHJlY2VpdmVyLCBuYW1lLCB2YWx1ZSwgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSBudWxsOyB9XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGxhbmdfMS5pc1ByZXNlbnQodHlwZSkgPyB0eXBlIDogdmFsdWUudHlwZSk7XG4gICAgICAgIHRoaXMucmVjZWl2ZXIgPSByZWNlaXZlcjtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBXcml0ZVByb3BFeHByLnByb3RvdHlwZS52aXNpdEV4cHJlc3Npb24gPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdFdyaXRlUHJvcEV4cHIodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gV3JpdGVQcm9wRXhwcjtcbn0oRXhwcmVzc2lvbikpO1xuZXhwb3J0cy5Xcml0ZVByb3BFeHByID0gV3JpdGVQcm9wRXhwcjtcbihmdW5jdGlvbiAoQnVpbHRpbk1ldGhvZCkge1xuICAgIEJ1aWx0aW5NZXRob2RbQnVpbHRpbk1ldGhvZFtcIkNvbmNhdEFycmF5XCJdID0gMF0gPSBcIkNvbmNhdEFycmF5XCI7XG4gICAgQnVpbHRpbk1ldGhvZFtCdWlsdGluTWV0aG9kW1wiU3Vic2NyaWJlT2JzZXJ2YWJsZVwiXSA9IDFdID0gXCJTdWJzY3JpYmVPYnNlcnZhYmxlXCI7XG4gICAgQnVpbHRpbk1ldGhvZFtCdWlsdGluTWV0aG9kW1wiYmluZFwiXSA9IDJdID0gXCJiaW5kXCI7XG59KShleHBvcnRzLkJ1aWx0aW5NZXRob2QgfHwgKGV4cG9ydHMuQnVpbHRpbk1ldGhvZCA9IHt9KSk7XG52YXIgQnVpbHRpbk1ldGhvZCA9IGV4cG9ydHMuQnVpbHRpbk1ldGhvZDtcbnZhciBJbnZva2VNZXRob2RFeHByID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW52b2tlTWV0aG9kRXhwciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJbnZva2VNZXRob2RFeHByKHJlY2VpdmVyLCBtZXRob2QsIGFyZ3MsIHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gbnVsbDsgfVxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCB0eXBlKTtcbiAgICAgICAgdGhpcy5yZWNlaXZlciA9IHJlY2VpdmVyO1xuICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xuICAgICAgICBpZiAobGFuZ18xLmlzU3RyaW5nKG1ldGhvZCkpIHtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG1ldGhvZDtcbiAgICAgICAgICAgIHRoaXMuYnVpbHRpbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5idWlsdGluID0gbWV0aG9kO1xuICAgICAgICB9XG4gICAgfVxuICAgIEludm9rZU1ldGhvZEV4cHIucHJvdG90eXBlLnZpc2l0RXhwcmVzc2lvbiA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0SW52b2tlTWV0aG9kRXhwcih0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBJbnZva2VNZXRob2RFeHByO1xufShFeHByZXNzaW9uKSk7XG5leHBvcnRzLkludm9rZU1ldGhvZEV4cHIgPSBJbnZva2VNZXRob2RFeHByO1xudmFyIEludm9rZUZ1bmN0aW9uRXhwciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEludm9rZUZ1bmN0aW9uRXhwciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJbnZva2VGdW5jdGlvbkV4cHIoZm4sIGFyZ3MsIHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gbnVsbDsgfVxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCB0eXBlKTtcbiAgICAgICAgdGhpcy5mbiA9IGZuO1xuICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xuICAgIH1cbiAgICBJbnZva2VGdW5jdGlvbkV4cHIucHJvdG90eXBlLnZpc2l0RXhwcmVzc2lvbiA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0SW52b2tlRnVuY3Rpb25FeHByKHRoaXMsIGNvbnRleHQpO1xuICAgIH07XG4gICAgcmV0dXJuIEludm9rZUZ1bmN0aW9uRXhwcjtcbn0oRXhwcmVzc2lvbikpO1xuZXhwb3J0cy5JbnZva2VGdW5jdGlvbkV4cHIgPSBJbnZva2VGdW5jdGlvbkV4cHI7XG52YXIgSW5zdGFudGlhdGVFeHByID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW5zdGFudGlhdGVFeHByLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEluc3RhbnRpYXRlRXhwcihjbGFzc0V4cHIsIGFyZ3MsIHR5cGUpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgdHlwZSk7XG4gICAgICAgIHRoaXMuY2xhc3NFeHByID0gY2xhc3NFeHByO1xuICAgICAgICB0aGlzLmFyZ3MgPSBhcmdzO1xuICAgIH1cbiAgICBJbnN0YW50aWF0ZUV4cHIucHJvdG90eXBlLnZpc2l0RXhwcmVzc2lvbiA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0SW5zdGFudGlhdGVFeHByKHRoaXMsIGNvbnRleHQpO1xuICAgIH07XG4gICAgcmV0dXJuIEluc3RhbnRpYXRlRXhwcjtcbn0oRXhwcmVzc2lvbikpO1xuZXhwb3J0cy5JbnN0YW50aWF0ZUV4cHIgPSBJbnN0YW50aWF0ZUV4cHI7XG52YXIgTGl0ZXJhbEV4cHIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMaXRlcmFsRXhwciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBMaXRlcmFsRXhwcih2YWx1ZSwgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSBudWxsOyB9XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIExpdGVyYWxFeHByLnByb3RvdHlwZS52aXNpdEV4cHJlc3Npb24gPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdExpdGVyYWxFeHByKHRoaXMsIGNvbnRleHQpO1xuICAgIH07XG4gICAgcmV0dXJuIExpdGVyYWxFeHByO1xufShFeHByZXNzaW9uKSk7XG5leHBvcnRzLkxpdGVyYWxFeHByID0gTGl0ZXJhbEV4cHI7XG52YXIgRXh0ZXJuYWxFeHByID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRXh0ZXJuYWxFeHByLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEV4dGVybmFsRXhwcih2YWx1ZSwgdHlwZSwgdHlwZVBhcmFtcykge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSBudWxsOyB9XG4gICAgICAgIGlmICh0eXBlUGFyYW1zID09PSB2b2lkIDApIHsgdHlwZVBhcmFtcyA9IG51bGw7IH1cbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgdHlwZSk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy50eXBlUGFyYW1zID0gdHlwZVBhcmFtcztcbiAgICB9XG4gICAgRXh0ZXJuYWxFeHByLnByb3RvdHlwZS52aXNpdEV4cHJlc3Npb24gPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEV4dGVybmFsRXhwcih0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBFeHRlcm5hbEV4cHI7XG59KEV4cHJlc3Npb24pKTtcbmV4cG9ydHMuRXh0ZXJuYWxFeHByID0gRXh0ZXJuYWxFeHByO1xudmFyIENvbmRpdGlvbmFsRXhwciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbmRpdGlvbmFsRXhwciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb25kaXRpb25hbEV4cHIoY29uZGl0aW9uLCB0cnVlQ2FzZSwgZmFsc2VDYXNlLCB0eXBlKSB7XG4gICAgICAgIGlmIChmYWxzZUNhc2UgPT09IHZvaWQgMCkgeyBmYWxzZUNhc2UgPSBudWxsOyB9XG4gICAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9IG51bGw7IH1cbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgbGFuZ18xLmlzUHJlc2VudCh0eXBlKSA/IHR5cGUgOiB0cnVlQ2FzZS50eXBlKTtcbiAgICAgICAgdGhpcy5jb25kaXRpb24gPSBjb25kaXRpb247XG4gICAgICAgIHRoaXMuZmFsc2VDYXNlID0gZmFsc2VDYXNlO1xuICAgICAgICB0aGlzLnRydWVDYXNlID0gdHJ1ZUNhc2U7XG4gICAgfVxuICAgIENvbmRpdGlvbmFsRXhwci5wcm90b3R5cGUudmlzaXRFeHByZXNzaW9uID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRDb25kaXRpb25hbEV4cHIodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29uZGl0aW9uYWxFeHByO1xufShFeHByZXNzaW9uKSk7XG5leHBvcnRzLkNvbmRpdGlvbmFsRXhwciA9IENvbmRpdGlvbmFsRXhwcjtcbnZhciBOb3RFeHByID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTm90RXhwciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBOb3RFeHByKGNvbmRpdGlvbikge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBleHBvcnRzLkJPT0xfVFlQRSk7XG4gICAgICAgIHRoaXMuY29uZGl0aW9uID0gY29uZGl0aW9uO1xuICAgIH1cbiAgICBOb3RFeHByLnByb3RvdHlwZS52aXNpdEV4cHJlc3Npb24gPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdE5vdEV4cHIodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gTm90RXhwcjtcbn0oRXhwcmVzc2lvbikpO1xuZXhwb3J0cy5Ob3RFeHByID0gTm90RXhwcjtcbnZhciBDYXN0RXhwciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhc3RFeHByLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENhc3RFeHByKHZhbHVlLCB0eXBlKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIENhc3RFeHByLnByb3RvdHlwZS52aXNpdEV4cHJlc3Npb24gPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdENhc3RFeHByKHRoaXMsIGNvbnRleHQpO1xuICAgIH07XG4gICAgcmV0dXJuIENhc3RFeHByO1xufShFeHByZXNzaW9uKSk7XG5leHBvcnRzLkNhc3RFeHByID0gQ2FzdEV4cHI7XG52YXIgRm5QYXJhbSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRm5QYXJhbShuYW1lLCB0eXBlKSB7XG4gICAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9IG51bGw7IH1cbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIEZuUGFyYW07XG59KCkpO1xuZXhwb3J0cy5GblBhcmFtID0gRm5QYXJhbTtcbnZhciBGdW5jdGlvbkV4cHIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGdW5jdGlvbkV4cHIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRnVuY3Rpb25FeHByKHBhcmFtcywgc3RhdGVtZW50cywgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSBudWxsOyB9XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpO1xuICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcbiAgICAgICAgdGhpcy5zdGF0ZW1lbnRzID0gc3RhdGVtZW50cztcbiAgICB9XG4gICAgRnVuY3Rpb25FeHByLnByb3RvdHlwZS52aXNpdEV4cHJlc3Npb24gPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdEZ1bmN0aW9uRXhwcih0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIEZ1bmN0aW9uRXhwci5wcm90b3R5cGUudG9EZWNsU3RtdCA9IGZ1bmN0aW9uIChuYW1lLCBtb2RpZmllcnMpIHtcbiAgICAgICAgaWYgKG1vZGlmaWVycyA9PT0gdm9pZCAwKSB7IG1vZGlmaWVycyA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIG5ldyBEZWNsYXJlRnVuY3Rpb25TdG10KG5hbWUsIHRoaXMucGFyYW1zLCB0aGlzLnN0YXRlbWVudHMsIHRoaXMudHlwZSwgbW9kaWZpZXJzKTtcbiAgICB9O1xuICAgIHJldHVybiBGdW5jdGlvbkV4cHI7XG59KEV4cHJlc3Npb24pKTtcbmV4cG9ydHMuRnVuY3Rpb25FeHByID0gRnVuY3Rpb25FeHByO1xudmFyIEJpbmFyeU9wZXJhdG9yRXhwciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJpbmFyeU9wZXJhdG9yRXhwciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCaW5hcnlPcGVyYXRvckV4cHIob3BlcmF0b3IsIGxocywgcmhzLCB0eXBlKSB7XG4gICAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9IG51bGw7IH1cbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgbGFuZ18xLmlzUHJlc2VudCh0eXBlKSA/IHR5cGUgOiBsaHMudHlwZSk7XG4gICAgICAgIHRoaXMub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgdGhpcy5yaHMgPSByaHM7XG4gICAgICAgIHRoaXMubGhzID0gbGhzO1xuICAgIH1cbiAgICBCaW5hcnlPcGVyYXRvckV4cHIucHJvdG90eXBlLnZpc2l0RXhwcmVzc2lvbiA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0QmluYXJ5T3BlcmF0b3JFeHByKHRoaXMsIGNvbnRleHQpO1xuICAgIH07XG4gICAgcmV0dXJuIEJpbmFyeU9wZXJhdG9yRXhwcjtcbn0oRXhwcmVzc2lvbikpO1xuZXhwb3J0cy5CaW5hcnlPcGVyYXRvckV4cHIgPSBCaW5hcnlPcGVyYXRvckV4cHI7XG52YXIgUmVhZFByb3BFeHByID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVhZFByb3BFeHByLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlYWRQcm9wRXhwcihyZWNlaXZlciwgbmFtZSwgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSBudWxsOyB9XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpO1xuICAgICAgICB0aGlzLnJlY2VpdmVyID0gcmVjZWl2ZXI7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfVxuICAgIFJlYWRQcm9wRXhwci5wcm90b3R5cGUudmlzaXRFeHByZXNzaW9uID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRSZWFkUHJvcEV4cHIodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICBSZWFkUHJvcEV4cHIucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFdyaXRlUHJvcEV4cHIodGhpcy5yZWNlaXZlciwgdGhpcy5uYW1lLCB2YWx1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVhZFByb3BFeHByO1xufShFeHByZXNzaW9uKSk7XG5leHBvcnRzLlJlYWRQcm9wRXhwciA9IFJlYWRQcm9wRXhwcjtcbnZhciBSZWFkS2V5RXhwciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlYWRLZXlFeHByLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlYWRLZXlFeHByKHJlY2VpdmVyLCBpbmRleCwgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSBudWxsOyB9XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpO1xuICAgICAgICB0aGlzLnJlY2VpdmVyID0gcmVjZWl2ZXI7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICB9XG4gICAgUmVhZEtleUV4cHIucHJvdG90eXBlLnZpc2l0RXhwcmVzc2lvbiA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0UmVhZEtleUV4cHIodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICBSZWFkS2V5RXhwci5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgV3JpdGVLZXlFeHByKHRoaXMucmVjZWl2ZXIsIHRoaXMuaW5kZXgsIHZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiBSZWFkS2V5RXhwcjtcbn0oRXhwcmVzc2lvbikpO1xuZXhwb3J0cy5SZWFkS2V5RXhwciA9IFJlYWRLZXlFeHByO1xudmFyIExpdGVyYWxBcnJheUV4cHIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMaXRlcmFsQXJyYXlFeHByLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExpdGVyYWxBcnJheUV4cHIoZW50cmllcywgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSBudWxsOyB9XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIHR5cGUpO1xuICAgICAgICB0aGlzLmVudHJpZXMgPSBlbnRyaWVzO1xuICAgIH1cbiAgICBMaXRlcmFsQXJyYXlFeHByLnByb3RvdHlwZS52aXNpdEV4cHJlc3Npb24gPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdExpdGVyYWxBcnJheUV4cHIodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gTGl0ZXJhbEFycmF5RXhwcjtcbn0oRXhwcmVzc2lvbikpO1xuZXhwb3J0cy5MaXRlcmFsQXJyYXlFeHByID0gTGl0ZXJhbEFycmF5RXhwcjtcbnZhciBMaXRlcmFsTWFwRXhwciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExpdGVyYWxNYXBFeHByLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExpdGVyYWxNYXBFeHByKGVudHJpZXMsIHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gbnVsbDsgfVxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCB0eXBlKTtcbiAgICAgICAgdGhpcy5lbnRyaWVzID0gZW50cmllcztcbiAgICAgICAgdGhpcy52YWx1ZVR5cGUgPSBudWxsO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0eXBlKSkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZVR5cGUgPSB0eXBlLnZhbHVlVHlwZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBMaXRlcmFsTWFwRXhwci5wcm90b3R5cGUudmlzaXRFeHByZXNzaW9uID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRMaXRlcmFsTWFwRXhwcih0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBMaXRlcmFsTWFwRXhwcjtcbn0oRXhwcmVzc2lvbikpO1xuZXhwb3J0cy5MaXRlcmFsTWFwRXhwciA9IExpdGVyYWxNYXBFeHByO1xuZXhwb3J0cy5USElTX0VYUFIgPSBuZXcgUmVhZFZhckV4cHIoQnVpbHRpblZhci5UaGlzKTtcbmV4cG9ydHMuU1VQRVJfRVhQUiA9IG5ldyBSZWFkVmFyRXhwcihCdWlsdGluVmFyLlN1cGVyKTtcbmV4cG9ydHMuQ0FUQ0hfRVJST1JfVkFSID0gbmV3IFJlYWRWYXJFeHByKEJ1aWx0aW5WYXIuQ2F0Y2hFcnJvcik7XG5leHBvcnRzLkNBVENIX1NUQUNLX1ZBUiA9IG5ldyBSZWFkVmFyRXhwcihCdWlsdGluVmFyLkNhdGNoU3RhY2spO1xuZXhwb3J0cy5OVUxMX0VYUFIgPSBuZXcgTGl0ZXJhbEV4cHIobnVsbCwgbnVsbCk7XG4vLy8vIFN0YXRlbWVudHNcbihmdW5jdGlvbiAoU3RtdE1vZGlmaWVyKSB7XG4gICAgU3RtdE1vZGlmaWVyW1N0bXRNb2RpZmllcltcIkZpbmFsXCJdID0gMF0gPSBcIkZpbmFsXCI7XG4gICAgU3RtdE1vZGlmaWVyW1N0bXRNb2RpZmllcltcIlByaXZhdGVcIl0gPSAxXSA9IFwiUHJpdmF0ZVwiO1xufSkoZXhwb3J0cy5TdG10TW9kaWZpZXIgfHwgKGV4cG9ydHMuU3RtdE1vZGlmaWVyID0ge30pKTtcbnZhciBTdG10TW9kaWZpZXIgPSBleHBvcnRzLlN0bXRNb2RpZmllcjtcbnZhciBTdGF0ZW1lbnQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YXRlbWVudChtb2RpZmllcnMpIHtcbiAgICAgICAgaWYgKG1vZGlmaWVycyA9PT0gdm9pZCAwKSB7IG1vZGlmaWVycyA9IG51bGw7IH1cbiAgICAgICAgdGhpcy5tb2RpZmllcnMgPSBtb2RpZmllcnM7XG4gICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhtb2RpZmllcnMpKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGlmaWVycyA9IFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIFN0YXRlbWVudC5wcm90b3R5cGUuaGFzTW9kaWZpZXIgPSBmdW5jdGlvbiAobW9kaWZpZXIpIHsgcmV0dXJuIHRoaXMubW9kaWZpZXJzLmluZGV4T2YobW9kaWZpZXIpICE9PSAtMTsgfTtcbiAgICByZXR1cm4gU3RhdGVtZW50O1xufSgpKTtcbmV4cG9ydHMuU3RhdGVtZW50ID0gU3RhdGVtZW50O1xudmFyIERlY2xhcmVWYXJTdG10ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRGVjbGFyZVZhclN0bXQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGVjbGFyZVZhclN0bXQobmFtZSwgdmFsdWUsIHR5cGUsIG1vZGlmaWVycykge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSBudWxsOyB9XG4gICAgICAgIGlmIChtb2RpZmllcnMgPT09IHZvaWQgMCkgeyBtb2RpZmllcnMgPSBudWxsOyB9XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIG1vZGlmaWVycyk7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy50eXBlID0gbGFuZ18xLmlzUHJlc2VudCh0eXBlKSA/IHR5cGUgOiB2YWx1ZS50eXBlO1xuICAgIH1cbiAgICBEZWNsYXJlVmFyU3RtdC5wcm90b3R5cGUudmlzaXRTdGF0ZW1lbnQgPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdERlY2xhcmVWYXJTdG10KHRoaXMsIGNvbnRleHQpO1xuICAgIH07XG4gICAgcmV0dXJuIERlY2xhcmVWYXJTdG10O1xufShTdGF0ZW1lbnQpKTtcbmV4cG9ydHMuRGVjbGFyZVZhclN0bXQgPSBEZWNsYXJlVmFyU3RtdDtcbnZhciBEZWNsYXJlRnVuY3Rpb25TdG10ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRGVjbGFyZUZ1bmN0aW9uU3RtdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEZWNsYXJlRnVuY3Rpb25TdG10KG5hbWUsIHBhcmFtcywgc3RhdGVtZW50cywgdHlwZSwgbW9kaWZpZXJzKSB7XG4gICAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKG1vZGlmaWVycyA9PT0gdm9pZCAwKSB7IG1vZGlmaWVycyA9IG51bGw7IH1cbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgbW9kaWZpZXJzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgICAgIHRoaXMuc3RhdGVtZW50cyA9IHN0YXRlbWVudHM7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgfVxuICAgIERlY2xhcmVGdW5jdGlvblN0bXQucHJvdG90eXBlLnZpc2l0U3RhdGVtZW50ID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXREZWNsYXJlRnVuY3Rpb25TdG10KHRoaXMsIGNvbnRleHQpO1xuICAgIH07XG4gICAgcmV0dXJuIERlY2xhcmVGdW5jdGlvblN0bXQ7XG59KFN0YXRlbWVudCkpO1xuZXhwb3J0cy5EZWNsYXJlRnVuY3Rpb25TdG10ID0gRGVjbGFyZUZ1bmN0aW9uU3RtdDtcbnZhciBFeHByZXNzaW9uU3RhdGVtZW50ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRXhwcmVzc2lvblN0YXRlbWVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBFeHByZXNzaW9uU3RhdGVtZW50KGV4cHIpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuZXhwciA9IGV4cHI7XG4gICAgfVxuICAgIEV4cHJlc3Npb25TdGF0ZW1lbnQucHJvdG90eXBlLnZpc2l0U3RhdGVtZW50ID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRFeHByZXNzaW9uU3RtdCh0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBFeHByZXNzaW9uU3RhdGVtZW50O1xufShTdGF0ZW1lbnQpKTtcbmV4cG9ydHMuRXhwcmVzc2lvblN0YXRlbWVudCA9IEV4cHJlc3Npb25TdGF0ZW1lbnQ7XG52YXIgUmV0dXJuU3RhdGVtZW50ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmV0dXJuU3RhdGVtZW50LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJldHVyblN0YXRlbWVudCh2YWx1ZSkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBSZXR1cm5TdGF0ZW1lbnQucHJvdG90eXBlLnZpc2l0U3RhdGVtZW50ID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRSZXR1cm5TdG10KHRoaXMsIGNvbnRleHQpO1xuICAgIH07XG4gICAgcmV0dXJuIFJldHVyblN0YXRlbWVudDtcbn0oU3RhdGVtZW50KSk7XG5leHBvcnRzLlJldHVyblN0YXRlbWVudCA9IFJldHVyblN0YXRlbWVudDtcbnZhciBBYnN0cmFjdENsYXNzUGFydCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RDbGFzc1BhcnQodHlwZSwgbW9kaWZpZXJzKSB7XG4gICAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9IG51bGw7IH1cbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5tb2RpZmllcnMgPSBtb2RpZmllcnM7XG4gICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhtb2RpZmllcnMpKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGlmaWVycyA9IFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIEFic3RyYWN0Q2xhc3NQYXJ0LnByb3RvdHlwZS5oYXNNb2RpZmllciA9IGZ1bmN0aW9uIChtb2RpZmllcikgeyByZXR1cm4gdGhpcy5tb2RpZmllcnMuaW5kZXhPZihtb2RpZmllcikgIT09IC0xOyB9O1xuICAgIHJldHVybiBBYnN0cmFjdENsYXNzUGFydDtcbn0oKSk7XG5leHBvcnRzLkFic3RyYWN0Q2xhc3NQYXJ0ID0gQWJzdHJhY3RDbGFzc1BhcnQ7XG52YXIgQ2xhc3NGaWVsZCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENsYXNzRmllbGQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ2xhc3NGaWVsZChuYW1lLCB0eXBlLCBtb2RpZmllcnMpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gbnVsbDsgfVxuICAgICAgICBpZiAobW9kaWZpZXJzID09PSB2b2lkIDApIHsgbW9kaWZpZXJzID0gbnVsbDsgfVxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCB0eXBlLCBtb2RpZmllcnMpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cbiAgICByZXR1cm4gQ2xhc3NGaWVsZDtcbn0oQWJzdHJhY3RDbGFzc1BhcnQpKTtcbmV4cG9ydHMuQ2xhc3NGaWVsZCA9IENsYXNzRmllbGQ7XG52YXIgQ2xhc3NNZXRob2QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDbGFzc01ldGhvZCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDbGFzc01ldGhvZChuYW1lLCBwYXJhbXMsIGJvZHksIHR5cGUsIG1vZGlmaWVycykge1xuICAgICAgICBpZiAodHlwZSA9PT0gdm9pZCAwKSB7IHR5cGUgPSBudWxsOyB9XG4gICAgICAgIGlmIChtb2RpZmllcnMgPT09IHZvaWQgMCkgeyBtb2RpZmllcnMgPSBudWxsOyB9XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIHR5cGUsIG1vZGlmaWVycyk7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICAgICAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gQ2xhc3NNZXRob2Q7XG59KEFic3RyYWN0Q2xhc3NQYXJ0KSk7XG5leHBvcnRzLkNsYXNzTWV0aG9kID0gQ2xhc3NNZXRob2Q7XG52YXIgQ2xhc3NHZXR0ZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDbGFzc0dldHRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDbGFzc0dldHRlcihuYW1lLCBib2R5LCB0eXBlLCBtb2RpZmllcnMpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gbnVsbDsgfVxuICAgICAgICBpZiAobW9kaWZpZXJzID09PSB2b2lkIDApIHsgbW9kaWZpZXJzID0gbnVsbDsgfVxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCB0eXBlLCBtb2RpZmllcnMpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgIH1cbiAgICByZXR1cm4gQ2xhc3NHZXR0ZXI7XG59KEFic3RyYWN0Q2xhc3NQYXJ0KSk7XG5leHBvcnRzLkNsYXNzR2V0dGVyID0gQ2xhc3NHZXR0ZXI7XG52YXIgQ2xhc3NTdG10ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2xhc3NTdG10LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENsYXNzU3RtdChuYW1lLCBwYXJlbnQsIGZpZWxkcywgZ2V0dGVycywgY29uc3RydWN0b3JNZXRob2QsIG1ldGhvZHMsIG1vZGlmaWVycykge1xuICAgICAgICBpZiAobW9kaWZpZXJzID09PSB2b2lkIDApIHsgbW9kaWZpZXJzID0gbnVsbDsgfVxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBtb2RpZmllcnMpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5maWVsZHMgPSBmaWVsZHM7XG4gICAgICAgIHRoaXMuZ2V0dGVycyA9IGdldHRlcnM7XG4gICAgICAgIHRoaXMuY29uc3RydWN0b3JNZXRob2QgPSBjb25zdHJ1Y3Rvck1ldGhvZDtcbiAgICAgICAgdGhpcy5tZXRob2RzID0gbWV0aG9kcztcbiAgICB9XG4gICAgQ2xhc3NTdG10LnByb3RvdHlwZS52aXNpdFN0YXRlbWVudCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0RGVjbGFyZUNsYXNzU3RtdCh0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBDbGFzc1N0bXQ7XG59KFN0YXRlbWVudCkpO1xuZXhwb3J0cy5DbGFzc1N0bXQgPSBDbGFzc1N0bXQ7XG52YXIgSWZTdG10ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSWZTdG10LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIElmU3RtdChjb25kaXRpb24sIHRydWVDYXNlLCBmYWxzZUNhc2UpIHtcbiAgICAgICAgaWYgKGZhbHNlQ2FzZSA9PT0gdm9pZCAwKSB7IGZhbHNlQ2FzZSA9IFtdOyB9XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcbiAgICAgICAgdGhpcy50cnVlQ2FzZSA9IHRydWVDYXNlO1xuICAgICAgICB0aGlzLmZhbHNlQ2FzZSA9IGZhbHNlQ2FzZTtcbiAgICB9XG4gICAgSWZTdG10LnByb3RvdHlwZS52aXNpdFN0YXRlbWVudCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0SWZTdG10KHRoaXMsIGNvbnRleHQpO1xuICAgIH07XG4gICAgcmV0dXJuIElmU3RtdDtcbn0oU3RhdGVtZW50KSk7XG5leHBvcnRzLklmU3RtdCA9IElmU3RtdDtcbnZhciBDb21tZW50U3RtdCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbW1lbnRTdG10LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbW1lbnRTdG10KGNvbW1lbnQpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuY29tbWVudCA9IGNvbW1lbnQ7XG4gICAgfVxuICAgIENvbW1lbnRTdG10LnByb3RvdHlwZS52aXNpdFN0YXRlbWVudCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0Q29tbWVudFN0bXQodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29tbWVudFN0bXQ7XG59KFN0YXRlbWVudCkpO1xuZXhwb3J0cy5Db21tZW50U3RtdCA9IENvbW1lbnRTdG10O1xudmFyIFRyeUNhdGNoU3RtdCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRyeUNhdGNoU3RtdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUcnlDYXRjaFN0bXQoYm9keVN0bXRzLCBjYXRjaFN0bXRzKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmJvZHlTdG10cyA9IGJvZHlTdG10cztcbiAgICAgICAgdGhpcy5jYXRjaFN0bXRzID0gY2F0Y2hTdG10cztcbiAgICB9XG4gICAgVHJ5Q2F0Y2hTdG10LnByb3RvdHlwZS52aXNpdFN0YXRlbWVudCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0VHJ5Q2F0Y2hTdG10KHRoaXMsIGNvbnRleHQpO1xuICAgIH07XG4gICAgcmV0dXJuIFRyeUNhdGNoU3RtdDtcbn0oU3RhdGVtZW50KSk7XG5leHBvcnRzLlRyeUNhdGNoU3RtdCA9IFRyeUNhdGNoU3RtdDtcbnZhciBUaHJvd1N0bXQgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUaHJvd1N0bXQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGhyb3dTdG10KGVycm9yKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgfVxuICAgIFRocm93U3RtdC5wcm90b3R5cGUudmlzaXRTdGF0ZW1lbnQgPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdFRocm93U3RtdCh0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBUaHJvd1N0bXQ7XG59KFN0YXRlbWVudCkpO1xuZXhwb3J0cy5UaHJvd1N0bXQgPSBUaHJvd1N0bXQ7XG52YXIgRXhwcmVzc2lvblRyYW5zZm9ybWVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFeHByZXNzaW9uVHJhbnNmb3JtZXIoKSB7XG4gICAgfVxuICAgIEV4cHJlc3Npb25UcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRSZWFkVmFyRXhwciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHsgcmV0dXJuIGFzdDsgfTtcbiAgICBFeHByZXNzaW9uVHJhbnNmb3JtZXIucHJvdG90eXBlLnZpc2l0V3JpdGVWYXJFeHByID0gZnVuY3Rpb24gKGV4cHIsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBXcml0ZVZhckV4cHIoZXhwci5uYW1lLCBleHByLnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjb250ZXh0KSk7XG4gICAgfTtcbiAgICBFeHByZXNzaW9uVHJhbnNmb3JtZXIucHJvdG90eXBlLnZpc2l0V3JpdGVLZXlFeHByID0gZnVuY3Rpb24gKGV4cHIsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBXcml0ZUtleUV4cHIoZXhwci5yZWNlaXZlci52aXNpdEV4cHJlc3Npb24odGhpcywgY29udGV4dCksIGV4cHIuaW5kZXgudmlzaXRFeHByZXNzaW9uKHRoaXMsIGNvbnRleHQpLCBleHByLnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjb250ZXh0KSk7XG4gICAgfTtcbiAgICBFeHByZXNzaW9uVHJhbnNmb3JtZXIucHJvdG90eXBlLnZpc2l0V3JpdGVQcm9wRXhwciA9IGZ1bmN0aW9uIChleHByLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgV3JpdGVQcm9wRXhwcihleHByLnJlY2VpdmVyLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjb250ZXh0KSwgZXhwci5uYW1lLCBleHByLnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjb250ZXh0KSk7XG4gICAgfTtcbiAgICBFeHByZXNzaW9uVHJhbnNmb3JtZXIucHJvdG90eXBlLnZpc2l0SW52b2tlTWV0aG9kRXhwciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIG1ldGhvZCA9IGxhbmdfMS5pc1ByZXNlbnQoYXN0LmJ1aWx0aW4pID8gYXN0LmJ1aWx0aW4gOiBhc3QubmFtZTtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnZva2VNZXRob2RFeHByKGFzdC5yZWNlaXZlci52aXNpdEV4cHJlc3Npb24odGhpcywgY29udGV4dCksIG1ldGhvZCwgdGhpcy52aXNpdEFsbEV4cHJlc3Npb25zKGFzdC5hcmdzLCBjb250ZXh0KSwgYXN0LnR5cGUpO1xuICAgIH07XG4gICAgRXhwcmVzc2lvblRyYW5zZm9ybWVyLnByb3RvdHlwZS52aXNpdEludm9rZUZ1bmN0aW9uRXhwciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnZva2VGdW5jdGlvbkV4cHIoYXN0LmZuLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjb250ZXh0KSwgdGhpcy52aXNpdEFsbEV4cHJlc3Npb25zKGFzdC5hcmdzLCBjb250ZXh0KSwgYXN0LnR5cGUpO1xuICAgIH07XG4gICAgRXhwcmVzc2lvblRyYW5zZm9ybWVyLnByb3RvdHlwZS52aXNpdEluc3RhbnRpYXRlRXhwciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnN0YW50aWF0ZUV4cHIoYXN0LmNsYXNzRXhwci52aXNpdEV4cHJlc3Npb24odGhpcywgY29udGV4dCksIHRoaXMudmlzaXRBbGxFeHByZXNzaW9ucyhhc3QuYXJncywgY29udGV4dCksIGFzdC50eXBlKTtcbiAgICB9O1xuICAgIEV4cHJlc3Npb25UcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRMaXRlcmFsRXhwciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHsgcmV0dXJuIGFzdDsgfTtcbiAgICBFeHByZXNzaW9uVHJhbnNmb3JtZXIucHJvdG90eXBlLnZpc2l0RXh0ZXJuYWxFeHByID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkgeyByZXR1cm4gYXN0OyB9O1xuICAgIEV4cHJlc3Npb25UcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRDb25kaXRpb25hbEV4cHIgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29uZGl0aW9uYWxFeHByKGFzdC5jb25kaXRpb24udmlzaXRFeHByZXNzaW9uKHRoaXMsIGNvbnRleHQpLCBhc3QudHJ1ZUNhc2UudmlzaXRFeHByZXNzaW9uKHRoaXMsIGNvbnRleHQpLCBhc3QuZmFsc2VDYXNlLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjb250ZXh0KSk7XG4gICAgfTtcbiAgICBFeHByZXNzaW9uVHJhbnNmb3JtZXIucHJvdG90eXBlLnZpc2l0Tm90RXhwciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOb3RFeHByKGFzdC5jb25kaXRpb24udmlzaXRFeHByZXNzaW9uKHRoaXMsIGNvbnRleHQpKTtcbiAgICB9O1xuICAgIEV4cHJlc3Npb25UcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRDYXN0RXhwciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDYXN0RXhwcihhc3QudmFsdWUudmlzaXRFeHByZXNzaW9uKHRoaXMsIGNvbnRleHQpLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIEV4cHJlc3Npb25UcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRGdW5jdGlvbkV4cHIgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7XG4gICAgICAgIC8vIERvbid0IGRlc2NlbmQgaW50byBuZXN0ZWQgZnVuY3Rpb25zXG4gICAgICAgIHJldHVybiBhc3Q7XG4gICAgfTtcbiAgICBFeHByZXNzaW9uVHJhbnNmb3JtZXIucHJvdG90eXBlLnZpc2l0QmluYXJ5T3BlcmF0b3JFeHByID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbmV3IEJpbmFyeU9wZXJhdG9yRXhwcihhc3Qub3BlcmF0b3IsIGFzdC5saHMudmlzaXRFeHByZXNzaW9uKHRoaXMsIGNvbnRleHQpLCBhc3QucmhzLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjb250ZXh0KSwgYXN0LnR5cGUpO1xuICAgIH07XG4gICAgRXhwcmVzc2lvblRyYW5zZm9ybWVyLnByb3RvdHlwZS52aXNpdFJlYWRQcm9wRXhwciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWFkUHJvcEV4cHIoYXN0LnJlY2VpdmVyLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjb250ZXh0KSwgYXN0Lm5hbWUsIGFzdC50eXBlKTtcbiAgICB9O1xuICAgIEV4cHJlc3Npb25UcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRSZWFkS2V5RXhwciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWFkS2V5RXhwcihhc3QucmVjZWl2ZXIudmlzaXRFeHByZXNzaW9uKHRoaXMsIGNvbnRleHQpLCBhc3QuaW5kZXgudmlzaXRFeHByZXNzaW9uKHRoaXMsIGNvbnRleHQpLCBhc3QudHlwZSk7XG4gICAgfTtcbiAgICBFeHByZXNzaW9uVHJhbnNmb3JtZXIucHJvdG90eXBlLnZpc2l0TGl0ZXJhbEFycmF5RXhwciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMaXRlcmFsQXJyYXlFeHByKHRoaXMudmlzaXRBbGxFeHByZXNzaW9ucyhhc3QuZW50cmllcywgY29udGV4dCkpO1xuICAgIH07XG4gICAgRXhwcmVzc2lvblRyYW5zZm9ybWVyLnByb3RvdHlwZS52aXNpdExpdGVyYWxNYXBFeHByID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IExpdGVyYWxNYXBFeHByKGFzdC5lbnRyaWVzLm1hcChmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIFtlbnRyeVswXSwgZW50cnlbMV0udmlzaXRFeHByZXNzaW9uKF90aGlzLCBjb250ZXh0KV07IH0pKTtcbiAgICB9O1xuICAgIEV4cHJlc3Npb25UcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRBbGxFeHByZXNzaW9ucyA9IGZ1bmN0aW9uIChleHBycywgY29udGV4dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZXhwcnMubWFwKGZ1bmN0aW9uIChleHByKSB7IHJldHVybiBleHByLnZpc2l0RXhwcmVzc2lvbihfdGhpcywgY29udGV4dCk7IH0pO1xuICAgIH07XG4gICAgRXhwcmVzc2lvblRyYW5zZm9ybWVyLnByb3RvdHlwZS52aXNpdERlY2xhcmVWYXJTdG10ID0gZnVuY3Rpb24gKHN0bXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEZWNsYXJlVmFyU3RtdChzdG10Lm5hbWUsIHN0bXQudmFsdWUudmlzaXRFeHByZXNzaW9uKHRoaXMsIGNvbnRleHQpLCBzdG10LnR5cGUsIHN0bXQubW9kaWZpZXJzKTtcbiAgICB9O1xuICAgIEV4cHJlc3Npb25UcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXREZWNsYXJlRnVuY3Rpb25TdG10ID0gZnVuY3Rpb24gKHN0bXQsIGNvbnRleHQpIHtcbiAgICAgICAgLy8gRG9uJ3QgZGVzY2VuZCBpbnRvIG5lc3RlZCBmdW5jdGlvbnNcbiAgICAgICAgcmV0dXJuIHN0bXQ7XG4gICAgfTtcbiAgICBFeHByZXNzaW9uVHJhbnNmb3JtZXIucHJvdG90eXBlLnZpc2l0RXhwcmVzc2lvblN0bXQgPSBmdW5jdGlvbiAoc3RtdCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25TdGF0ZW1lbnQoc3RtdC5leHByLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjb250ZXh0KSk7XG4gICAgfTtcbiAgICBFeHByZXNzaW9uVHJhbnNmb3JtZXIucHJvdG90eXBlLnZpc2l0UmV0dXJuU3RtdCA9IGZ1bmN0aW9uIChzdG10LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUmV0dXJuU3RhdGVtZW50KHN0bXQudmFsdWUudmlzaXRFeHByZXNzaW9uKHRoaXMsIGNvbnRleHQpKTtcbiAgICB9O1xuICAgIEV4cHJlc3Npb25UcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXREZWNsYXJlQ2xhc3NTdG10ID0gZnVuY3Rpb24gKHN0bXQsIGNvbnRleHQpIHtcbiAgICAgICAgLy8gRG9uJ3QgZGVzY2VuZCBpbnRvIG5lc3RlZCBmdW5jdGlvbnNcbiAgICAgICAgcmV0dXJuIHN0bXQ7XG4gICAgfTtcbiAgICBFeHByZXNzaW9uVHJhbnNmb3JtZXIucHJvdG90eXBlLnZpc2l0SWZTdG10ID0gZnVuY3Rpb24gKHN0bXQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJZlN0bXQoc3RtdC5jb25kaXRpb24udmlzaXRFeHByZXNzaW9uKHRoaXMsIGNvbnRleHQpLCB0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyhzdG10LnRydWVDYXNlLCBjb250ZXh0KSwgdGhpcy52aXNpdEFsbFN0YXRlbWVudHMoc3RtdC5mYWxzZUNhc2UsIGNvbnRleHQpKTtcbiAgICB9O1xuICAgIEV4cHJlc3Npb25UcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRUcnlDYXRjaFN0bXQgPSBmdW5jdGlvbiAoc3RtdCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbmV3IFRyeUNhdGNoU3RtdCh0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyhzdG10LmJvZHlTdG10cywgY29udGV4dCksIHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKHN0bXQuY2F0Y2hTdG10cywgY29udGV4dCkpO1xuICAgIH07XG4gICAgRXhwcmVzc2lvblRyYW5zZm9ybWVyLnByb3RvdHlwZS52aXNpdFRocm93U3RtdCA9IGZ1bmN0aW9uIChzdG10LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgVGhyb3dTdG10KHN0bXQuZXJyb3IudmlzaXRFeHByZXNzaW9uKHRoaXMsIGNvbnRleHQpKTtcbiAgICB9O1xuICAgIEV4cHJlc3Npb25UcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRDb21tZW50U3RtdCA9IGZ1bmN0aW9uIChzdG10LCBjb250ZXh0KSB7IHJldHVybiBzdG10OyB9O1xuICAgIEV4cHJlc3Npb25UcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRBbGxTdGF0ZW1lbnRzID0gZnVuY3Rpb24gKHN0bXRzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBzdG10cy5tYXAoZnVuY3Rpb24gKHN0bXQpIHsgcmV0dXJuIHN0bXQudmlzaXRTdGF0ZW1lbnQoX3RoaXMsIGNvbnRleHQpOyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBFeHByZXNzaW9uVHJhbnNmb3JtZXI7XG59KCkpO1xuZXhwb3J0cy5FeHByZXNzaW9uVHJhbnNmb3JtZXIgPSBFeHByZXNzaW9uVHJhbnNmb3JtZXI7XG52YXIgUmVjdXJzaXZlRXhwcmVzc2lvblZpc2l0b3IgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlY3Vyc2l2ZUV4cHJlc3Npb25WaXNpdG9yKCkge1xuICAgIH1cbiAgICBSZWN1cnNpdmVFeHByZXNzaW9uVmlzaXRvci5wcm90b3R5cGUudmlzaXRSZWFkVmFyRXhwciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHsgcmV0dXJuIGFzdDsgfTtcbiAgICBSZWN1cnNpdmVFeHByZXNzaW9uVmlzaXRvci5wcm90b3R5cGUudmlzaXRXcml0ZVZhckV4cHIgPSBmdW5jdGlvbiAoZXhwciwgY29udGV4dCkge1xuICAgICAgICBleHByLnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIGV4cHI7XG4gICAgfTtcbiAgICBSZWN1cnNpdmVFeHByZXNzaW9uVmlzaXRvci5wcm90b3R5cGUudmlzaXRXcml0ZUtleUV4cHIgPSBmdW5jdGlvbiAoZXhwciwgY29udGV4dCkge1xuICAgICAgICBleHByLnJlY2VpdmVyLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjb250ZXh0KTtcbiAgICAgICAgZXhwci5pbmRleC52aXNpdEV4cHJlc3Npb24odGhpcywgY29udGV4dCk7XG4gICAgICAgIGV4cHIudmFsdWUudmlzaXRFeHByZXNzaW9uKHRoaXMsIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gZXhwcjtcbiAgICB9O1xuICAgIFJlY3Vyc2l2ZUV4cHJlc3Npb25WaXNpdG9yLnByb3RvdHlwZS52aXNpdFdyaXRlUHJvcEV4cHIgPSBmdW5jdGlvbiAoZXhwciwgY29udGV4dCkge1xuICAgICAgICBleHByLnJlY2VpdmVyLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjb250ZXh0KTtcbiAgICAgICAgZXhwci52YWx1ZS52aXNpdEV4cHJlc3Npb24odGhpcywgY29udGV4dCk7XG4gICAgICAgIHJldHVybiBleHByO1xuICAgIH07XG4gICAgUmVjdXJzaXZlRXhwcmVzc2lvblZpc2l0b3IucHJvdG90eXBlLnZpc2l0SW52b2tlTWV0aG9kRXhwciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgYXN0LnJlY2VpdmVyLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy52aXNpdEFsbEV4cHJlc3Npb25zKGFzdC5hcmdzLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIGFzdDtcbiAgICB9O1xuICAgIFJlY3Vyc2l2ZUV4cHJlc3Npb25WaXNpdG9yLnByb3RvdHlwZS52aXNpdEludm9rZUZ1bmN0aW9uRXhwciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgYXN0LmZuLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy52aXNpdEFsbEV4cHJlc3Npb25zKGFzdC5hcmdzLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIGFzdDtcbiAgICB9O1xuICAgIFJlY3Vyc2l2ZUV4cHJlc3Npb25WaXNpdG9yLnByb3RvdHlwZS52aXNpdEluc3RhbnRpYXRlRXhwciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgYXN0LmNsYXNzRXhwci52aXNpdEV4cHJlc3Npb24odGhpcywgY29udGV4dCk7XG4gICAgICAgIHRoaXMudmlzaXRBbGxFeHByZXNzaW9ucyhhc3QuYXJncywgY29udGV4dCk7XG4gICAgICAgIHJldHVybiBhc3Q7XG4gICAgfTtcbiAgICBSZWN1cnNpdmVFeHByZXNzaW9uVmlzaXRvci5wcm90b3R5cGUudmlzaXRMaXRlcmFsRXhwciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHsgcmV0dXJuIGFzdDsgfTtcbiAgICBSZWN1cnNpdmVFeHByZXNzaW9uVmlzaXRvci5wcm90b3R5cGUudmlzaXRFeHRlcm5hbEV4cHIgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7IHJldHVybiBhc3Q7IH07XG4gICAgUmVjdXJzaXZlRXhwcmVzc2lvblZpc2l0b3IucHJvdG90eXBlLnZpc2l0Q29uZGl0aW9uYWxFeHByID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICBhc3QuY29uZGl0aW9uLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjb250ZXh0KTtcbiAgICAgICAgYXN0LnRydWVDYXNlLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjb250ZXh0KTtcbiAgICAgICAgYXN0LmZhbHNlQ2FzZS52aXNpdEV4cHJlc3Npb24odGhpcywgY29udGV4dCk7XG4gICAgICAgIHJldHVybiBhc3Q7XG4gICAgfTtcbiAgICBSZWN1cnNpdmVFeHByZXNzaW9uVmlzaXRvci5wcm90b3R5cGUudmlzaXROb3RFeHByID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICBhc3QuY29uZGl0aW9uLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIGFzdDtcbiAgICB9O1xuICAgIFJlY3Vyc2l2ZUV4cHJlc3Npb25WaXNpdG9yLnByb3RvdHlwZS52aXNpdENhc3RFeHByID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICBhc3QudmFsdWUudmlzaXRFeHByZXNzaW9uKHRoaXMsIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gYXN0O1xuICAgIH07XG4gICAgUmVjdXJzaXZlRXhwcmVzc2lvblZpc2l0b3IucHJvdG90eXBlLnZpc2l0RnVuY3Rpb25FeHByID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkgeyByZXR1cm4gYXN0OyB9O1xuICAgIFJlY3Vyc2l2ZUV4cHJlc3Npb25WaXNpdG9yLnByb3RvdHlwZS52aXNpdEJpbmFyeU9wZXJhdG9yRXhwciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgYXN0Lmxocy52aXNpdEV4cHJlc3Npb24odGhpcywgY29udGV4dCk7XG4gICAgICAgIGFzdC5yaHMudmlzaXRFeHByZXNzaW9uKHRoaXMsIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gYXN0O1xuICAgIH07XG4gICAgUmVjdXJzaXZlRXhwcmVzc2lvblZpc2l0b3IucHJvdG90eXBlLnZpc2l0UmVhZFByb3BFeHByID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICBhc3QucmVjZWl2ZXIudmlzaXRFeHByZXNzaW9uKHRoaXMsIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gYXN0O1xuICAgIH07XG4gICAgUmVjdXJzaXZlRXhwcmVzc2lvblZpc2l0b3IucHJvdG90eXBlLnZpc2l0UmVhZEtleUV4cHIgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7XG4gICAgICAgIGFzdC5yZWNlaXZlci52aXNpdEV4cHJlc3Npb24odGhpcywgY29udGV4dCk7XG4gICAgICAgIGFzdC5pbmRleC52aXNpdEV4cHJlc3Npb24odGhpcywgY29udGV4dCk7XG4gICAgICAgIHJldHVybiBhc3Q7XG4gICAgfTtcbiAgICBSZWN1cnNpdmVFeHByZXNzaW9uVmlzaXRvci5wcm90b3R5cGUudmlzaXRMaXRlcmFsQXJyYXlFeHByID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICB0aGlzLnZpc2l0QWxsRXhwcmVzc2lvbnMoYXN0LmVudHJpZXMsIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gYXN0O1xuICAgIH07XG4gICAgUmVjdXJzaXZlRXhwcmVzc2lvblZpc2l0b3IucHJvdG90eXBlLnZpc2l0TGl0ZXJhbE1hcEV4cHIgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGFzdC5lbnRyaWVzLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7IHJldHVybiBlbnRyeVsxXS52aXNpdEV4cHJlc3Npb24oX3RoaXMsIGNvbnRleHQpOyB9KTtcbiAgICAgICAgcmV0dXJuIGFzdDtcbiAgICB9O1xuICAgIFJlY3Vyc2l2ZUV4cHJlc3Npb25WaXNpdG9yLnByb3RvdHlwZS52aXNpdEFsbEV4cHJlc3Npb25zID0gZnVuY3Rpb24gKGV4cHJzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGV4cHJzLmZvckVhY2goZnVuY3Rpb24gKGV4cHIpIHsgcmV0dXJuIGV4cHIudmlzaXRFeHByZXNzaW9uKF90aGlzLCBjb250ZXh0KTsgfSk7XG4gICAgfTtcbiAgICBSZWN1cnNpdmVFeHByZXNzaW9uVmlzaXRvci5wcm90b3R5cGUudmlzaXREZWNsYXJlVmFyU3RtdCA9IGZ1bmN0aW9uIChzdG10LCBjb250ZXh0KSB7XG4gICAgICAgIHN0bXQudmFsdWUudmlzaXRFeHByZXNzaW9uKHRoaXMsIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gc3RtdDtcbiAgICB9O1xuICAgIFJlY3Vyc2l2ZUV4cHJlc3Npb25WaXNpdG9yLnByb3RvdHlwZS52aXNpdERlY2xhcmVGdW5jdGlvblN0bXQgPSBmdW5jdGlvbiAoc3RtdCwgY29udGV4dCkge1xuICAgICAgICAvLyBEb24ndCBkZXNjZW5kIGludG8gbmVzdGVkIGZ1bmN0aW9uc1xuICAgICAgICByZXR1cm4gc3RtdDtcbiAgICB9O1xuICAgIFJlY3Vyc2l2ZUV4cHJlc3Npb25WaXNpdG9yLnByb3RvdHlwZS52aXNpdEV4cHJlc3Npb25TdG10ID0gZnVuY3Rpb24gKHN0bXQsIGNvbnRleHQpIHtcbiAgICAgICAgc3RtdC5leHByLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIHN0bXQ7XG4gICAgfTtcbiAgICBSZWN1cnNpdmVFeHByZXNzaW9uVmlzaXRvci5wcm90b3R5cGUudmlzaXRSZXR1cm5TdG10ID0gZnVuY3Rpb24gKHN0bXQsIGNvbnRleHQpIHtcbiAgICAgICAgc3RtdC52YWx1ZS52aXNpdEV4cHJlc3Npb24odGhpcywgY29udGV4dCk7XG4gICAgICAgIHJldHVybiBzdG10O1xuICAgIH07XG4gICAgUmVjdXJzaXZlRXhwcmVzc2lvblZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGVjbGFyZUNsYXNzU3RtdCA9IGZ1bmN0aW9uIChzdG10LCBjb250ZXh0KSB7XG4gICAgICAgIC8vIERvbid0IGRlc2NlbmQgaW50byBuZXN0ZWQgZnVuY3Rpb25zXG4gICAgICAgIHJldHVybiBzdG10O1xuICAgIH07XG4gICAgUmVjdXJzaXZlRXhwcmVzc2lvblZpc2l0b3IucHJvdG90eXBlLnZpc2l0SWZTdG10ID0gZnVuY3Rpb24gKHN0bXQsIGNvbnRleHQpIHtcbiAgICAgICAgc3RtdC5jb25kaXRpb24udmlzaXRFeHByZXNzaW9uKHRoaXMsIGNvbnRleHQpO1xuICAgICAgICB0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyhzdG10LnRydWVDYXNlLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy52aXNpdEFsbFN0YXRlbWVudHMoc3RtdC5mYWxzZUNhc2UsIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gc3RtdDtcbiAgICB9O1xuICAgIFJlY3Vyc2l2ZUV4cHJlc3Npb25WaXNpdG9yLnByb3RvdHlwZS52aXNpdFRyeUNhdGNoU3RtdCA9IGZ1bmN0aW9uIChzdG10LCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKHN0bXQuYm9keVN0bXRzLCBjb250ZXh0KTtcbiAgICAgICAgdGhpcy52aXNpdEFsbFN0YXRlbWVudHMoc3RtdC5jYXRjaFN0bXRzLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIHN0bXQ7XG4gICAgfTtcbiAgICBSZWN1cnNpdmVFeHByZXNzaW9uVmlzaXRvci5wcm90b3R5cGUudmlzaXRUaHJvd1N0bXQgPSBmdW5jdGlvbiAoc3RtdCwgY29udGV4dCkge1xuICAgICAgICBzdG10LmVycm9yLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIHN0bXQ7XG4gICAgfTtcbiAgICBSZWN1cnNpdmVFeHByZXNzaW9uVmlzaXRvci5wcm90b3R5cGUudmlzaXRDb21tZW50U3RtdCA9IGZ1bmN0aW9uIChzdG10LCBjb250ZXh0KSB7IHJldHVybiBzdG10OyB9O1xuICAgIFJlY3Vyc2l2ZUV4cHJlc3Npb25WaXNpdG9yLnByb3RvdHlwZS52aXNpdEFsbFN0YXRlbWVudHMgPSBmdW5jdGlvbiAoc3RtdHMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgc3RtdHMuZm9yRWFjaChmdW5jdGlvbiAoc3RtdCkgeyByZXR1cm4gc3RtdC52aXNpdFN0YXRlbWVudChfdGhpcywgY29udGV4dCk7IH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFJlY3Vyc2l2ZUV4cHJlc3Npb25WaXNpdG9yO1xufSgpKTtcbmV4cG9ydHMuUmVjdXJzaXZlRXhwcmVzc2lvblZpc2l0b3IgPSBSZWN1cnNpdmVFeHByZXNzaW9uVmlzaXRvcjtcbmZ1bmN0aW9uIHJlcGxhY2VWYXJJbkV4cHJlc3Npb24odmFyTmFtZSwgbmV3VmFsdWUsIGV4cHJlc3Npb24pIHtcbiAgICB2YXIgdHJhbnNmb3JtZXIgPSBuZXcgX1JlcGxhY2VWYXJpYWJsZVRyYW5zZm9ybWVyKHZhck5hbWUsIG5ld1ZhbHVlKTtcbiAgICByZXR1cm4gZXhwcmVzc2lvbi52aXNpdEV4cHJlc3Npb24odHJhbnNmb3JtZXIsIG51bGwpO1xufVxuZXhwb3J0cy5yZXBsYWNlVmFySW5FeHByZXNzaW9uID0gcmVwbGFjZVZhckluRXhwcmVzc2lvbjtcbnZhciBfUmVwbGFjZVZhcmlhYmxlVHJhbnNmb3JtZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhfUmVwbGFjZVZhcmlhYmxlVHJhbnNmb3JtZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gX1JlcGxhY2VWYXJpYWJsZVRyYW5zZm9ybWVyKF92YXJOYW1lLCBfbmV3VmFsdWUpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX3Zhck5hbWUgPSBfdmFyTmFtZTtcbiAgICAgICAgdGhpcy5fbmV3VmFsdWUgPSBfbmV3VmFsdWU7XG4gICAgfVxuICAgIF9SZXBsYWNlVmFyaWFibGVUcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRSZWFkVmFyRXhwciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGFzdC5uYW1lID09IHRoaXMuX3Zhck5hbWUgPyB0aGlzLl9uZXdWYWx1ZSA6IGFzdDtcbiAgICB9O1xuICAgIHJldHVybiBfUmVwbGFjZVZhcmlhYmxlVHJhbnNmb3JtZXI7XG59KEV4cHJlc3Npb25UcmFuc2Zvcm1lcikpO1xuZnVuY3Rpb24gZmluZFJlYWRWYXJOYW1lcyhzdG10cykge1xuICAgIHZhciBmaW5kZXIgPSBuZXcgX1ZhcmlhYmxlRmluZGVyKCk7XG4gICAgZmluZGVyLnZpc2l0QWxsU3RhdGVtZW50cyhzdG10cywgbnVsbCk7XG4gICAgcmV0dXJuIGZpbmRlci52YXJOYW1lcztcbn1cbmV4cG9ydHMuZmluZFJlYWRWYXJOYW1lcyA9IGZpbmRSZWFkVmFyTmFtZXM7XG52YXIgX1ZhcmlhYmxlRmluZGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoX1ZhcmlhYmxlRmluZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIF9WYXJpYWJsZUZpbmRlcigpIHtcbiAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudmFyTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIF9WYXJpYWJsZUZpbmRlci5wcm90b3R5cGUudmlzaXRSZWFkVmFyRXhwciA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy52YXJOYW1lcy5hZGQoYXN0Lm5hbWUpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBfVmFyaWFibGVGaW5kZXI7XG59KFJlY3Vyc2l2ZUV4cHJlc3Npb25WaXNpdG9yKSk7XG5mdW5jdGlvbiB2YXJpYWJsZShuYW1lLCB0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gbnVsbDsgfVxuICAgIHJldHVybiBuZXcgUmVhZFZhckV4cHIobmFtZSwgdHlwZSk7XG59XG5leHBvcnRzLnZhcmlhYmxlID0gdmFyaWFibGU7XG5mdW5jdGlvbiBpbXBvcnRFeHByKGlkLCB0eXBlUGFyYW1zKSB7XG4gICAgaWYgKHR5cGVQYXJhbXMgPT09IHZvaWQgMCkgeyB0eXBlUGFyYW1zID0gbnVsbDsgfVxuICAgIHJldHVybiBuZXcgRXh0ZXJuYWxFeHByKGlkLCBudWxsLCB0eXBlUGFyYW1zKTtcbn1cbmV4cG9ydHMuaW1wb3J0RXhwciA9IGltcG9ydEV4cHI7XG5mdW5jdGlvbiBpbXBvcnRUeXBlKGlkLCB0eXBlUGFyYW1zLCB0eXBlTW9kaWZpZXJzKSB7XG4gICAgaWYgKHR5cGVQYXJhbXMgPT09IHZvaWQgMCkgeyB0eXBlUGFyYW1zID0gbnVsbDsgfVxuICAgIGlmICh0eXBlTW9kaWZpZXJzID09PSB2b2lkIDApIHsgdHlwZU1vZGlmaWVycyA9IG51bGw7IH1cbiAgICByZXR1cm4gbGFuZ18xLmlzUHJlc2VudChpZCkgPyBuZXcgRXh0ZXJuYWxUeXBlKGlkLCB0eXBlUGFyYW1zLCB0eXBlTW9kaWZpZXJzKSA6IG51bGw7XG59XG5leHBvcnRzLmltcG9ydFR5cGUgPSBpbXBvcnRUeXBlO1xuZnVuY3Rpb24gbGl0ZXJhbCh2YWx1ZSwgdHlwZSkge1xuICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9IG51bGw7IH1cbiAgICByZXR1cm4gbmV3IExpdGVyYWxFeHByKHZhbHVlLCB0eXBlKTtcbn1cbmV4cG9ydHMubGl0ZXJhbCA9IGxpdGVyYWw7XG5mdW5jdGlvbiBsaXRlcmFsQXJyKHZhbHVlcywgdHlwZSkge1xuICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9IG51bGw7IH1cbiAgICByZXR1cm4gbmV3IExpdGVyYWxBcnJheUV4cHIodmFsdWVzLCB0eXBlKTtcbn1cbmV4cG9ydHMubGl0ZXJhbEFyciA9IGxpdGVyYWxBcnI7XG5mdW5jdGlvbiBsaXRlcmFsTWFwKHZhbHVlcywgdHlwZSkge1xuICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9IG51bGw7IH1cbiAgICByZXR1cm4gbmV3IExpdGVyYWxNYXBFeHByKHZhbHVlcywgdHlwZSk7XG59XG5leHBvcnRzLmxpdGVyYWxNYXAgPSBsaXRlcmFsTWFwO1xuZnVuY3Rpb24gbm90KGV4cHIpIHtcbiAgICByZXR1cm4gbmV3IE5vdEV4cHIoZXhwcik7XG59XG5leHBvcnRzLm5vdCA9IG5vdDtcbmZ1bmN0aW9uIGZuKHBhcmFtcywgYm9keSwgdHlwZSkge1xuICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9IG51bGw7IH1cbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uRXhwcihwYXJhbXMsIGJvZHksIHR5cGUpO1xufVxuZXhwb3J0cy5mbiA9IGZuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3V0cHV0X2FzdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgYXN5bmNfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvYXN5bmMnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBvID0gcmVxdWlyZSgnLi9vdXRwdXRfYXN0Jyk7XG52YXIgZGFydF9lbWl0dGVyXzEgPSByZXF1aXJlKCcuL2RhcnRfZW1pdHRlcicpO1xudmFyIHRzX2VtaXR0ZXJfMSA9IHJlcXVpcmUoJy4vdHNfZW1pdHRlcicpO1xuZnVuY3Rpb24gaW50ZXJwcmV0U3RhdGVtZW50cyhzdGF0ZW1lbnRzLCByZXN1bHRWYXIsIGluc3RhbmNlRmFjdG9yeSkge1xuICAgIHZhciBzdG10c1dpdGhSZXR1cm4gPSBzdGF0ZW1lbnRzLmNvbmNhdChbbmV3IG8uUmV0dXJuU3RhdGVtZW50KG8udmFyaWFibGUocmVzdWx0VmFyKSldKTtcbiAgICB2YXIgY3R4ID0gbmV3IF9FeGVjdXRpb25Db250ZXh0KG51bGwsIG51bGwsIG51bGwsIG51bGwsIG5ldyBNYXAoKSwgbmV3IE1hcCgpLCBuZXcgTWFwKCksIG5ldyBNYXAoKSwgaW5zdGFuY2VGYWN0b3J5KTtcbiAgICB2YXIgdmlzaXRvciA9IG5ldyBTdGF0ZW1lbnRJbnRlcnByZXRlcigpO1xuICAgIHZhciByZXN1bHQgPSB2aXNpdG9yLnZpc2l0QWxsU3RhdGVtZW50cyhzdG10c1dpdGhSZXR1cm4sIGN0eCk7XG4gICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQocmVzdWx0KSA/IHJlc3VsdC52YWx1ZSA6IG51bGw7XG59XG5leHBvcnRzLmludGVycHJldFN0YXRlbWVudHMgPSBpbnRlcnByZXRTdGF0ZW1lbnRzO1xudmFyIER5bmFtaWNJbnN0YW5jZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRHluYW1pY0luc3RhbmNlKCkge1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRHluYW1pY0luc3RhbmNlLnByb3RvdHlwZSwgXCJwcm9wc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhjZXB0aW9uc18xLnVuaW1wbGVtZW50ZWQoKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KER5bmFtaWNJbnN0YW5jZS5wcm90b3R5cGUsIFwiZ2V0dGVyc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhjZXB0aW9uc18xLnVuaW1wbGVtZW50ZWQoKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KER5bmFtaWNJbnN0YW5jZS5wcm90b3R5cGUsIFwibWV0aG9kc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhjZXB0aW9uc18xLnVuaW1wbGVtZW50ZWQoKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KER5bmFtaWNJbnN0YW5jZS5wcm90b3R5cGUsIFwiY2xhenpcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4Y2VwdGlvbnNfMS51bmltcGxlbWVudGVkKCk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBEeW5hbWljSW5zdGFuY2U7XG59KCkpO1xuZXhwb3J0cy5EeW5hbWljSW5zdGFuY2UgPSBEeW5hbWljSW5zdGFuY2U7XG5mdW5jdGlvbiBpc0R5bmFtaWNJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgIGlmIChsYW5nXzEuSVNfREFSVCkge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBEeW5hbWljSW5zdGFuY2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbGFuZ18xLmlzUHJlc2VudChpbnN0YW5jZSkgJiYgbGFuZ18xLmlzUHJlc2VudChpbnN0YW5jZS5wcm9wcykgJiYgbGFuZ18xLmlzUHJlc2VudChpbnN0YW5jZS5nZXR0ZXJzKSAmJlxuICAgICAgICAgICAgbGFuZ18xLmlzUHJlc2VudChpbnN0YW5jZS5tZXRob2RzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBfZXhlY3V0ZUZ1bmN0aW9uU3RhdGVtZW50cyh2YXJOYW1lcywgdmFyVmFsdWVzLCBzdGF0ZW1lbnRzLCBjdHgsIHZpc2l0b3IpIHtcbiAgICB2YXIgY2hpbGRDdHggPSBjdHguY3JlYXRlQ2hpbGRXaWh0TG9jYWxWYXJzKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YXJOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjaGlsZEN0eC52YXJzLnNldCh2YXJOYW1lc1tpXSwgdmFyVmFsdWVzW2ldKTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IHZpc2l0b3IudmlzaXRBbGxTdGF0ZW1lbnRzKHN0YXRlbWVudHMsIGNoaWxkQ3R4KTtcbiAgICByZXR1cm4gbGFuZ18xLmlzUHJlc2VudChyZXN1bHQpID8gcmVzdWx0LnZhbHVlIDogbnVsbDtcbn1cbnZhciBfRXhlY3V0aW9uQ29udGV4dCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gX0V4ZWN1dGlvbkNvbnRleHQocGFyZW50LCBzdXBlckNsYXNzLCBzdXBlckluc3RhbmNlLCBjbGFzc05hbWUsIHZhcnMsIHByb3BzLCBnZXR0ZXJzLCBtZXRob2RzLCBpbnN0YW5jZUZhY3RvcnkpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuc3VwZXJDbGFzcyA9IHN1cGVyQ2xhc3M7XG4gICAgICAgIHRoaXMuc3VwZXJJbnN0YW5jZSA9IHN1cGVySW5zdGFuY2U7XG4gICAgICAgIHRoaXMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgICB0aGlzLnZhcnMgPSB2YXJzO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgIHRoaXMuZ2V0dGVycyA9IGdldHRlcnM7XG4gICAgICAgIHRoaXMubWV0aG9kcyA9IG1ldGhvZHM7XG4gICAgICAgIHRoaXMuaW5zdGFuY2VGYWN0b3J5ID0gaW5zdGFuY2VGYWN0b3J5O1xuICAgIH1cbiAgICBfRXhlY3V0aW9uQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlQ2hpbGRXaWh0TG9jYWxWYXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IF9FeGVjdXRpb25Db250ZXh0KHRoaXMsIHRoaXMuc3VwZXJDbGFzcywgdGhpcy5zdXBlckluc3RhbmNlLCB0aGlzLmNsYXNzTmFtZSwgbmV3IE1hcCgpLCB0aGlzLnByb3BzLCB0aGlzLmdldHRlcnMsIHRoaXMubWV0aG9kcywgdGhpcy5pbnN0YW5jZUZhY3RvcnkpO1xuICAgIH07XG4gICAgcmV0dXJuIF9FeGVjdXRpb25Db250ZXh0O1xufSgpKTtcbnZhciBSZXR1cm5WYWx1ZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmV0dXJuVmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gUmV0dXJuVmFsdWU7XG59KCkpO1xudmFyIF9EeW5hbWljQ2xhc3MgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIF9EeW5hbWljQ2xhc3MoX2NsYXNzU3RtdCwgX2N0eCwgX3Zpc2l0b3IpIHtcbiAgICAgICAgdGhpcy5fY2xhc3NTdG10ID0gX2NsYXNzU3RtdDtcbiAgICAgICAgdGhpcy5fY3R4ID0gX2N0eDtcbiAgICAgICAgdGhpcy5fdmlzaXRvciA9IF92aXNpdG9yO1xuICAgIH1cbiAgICBfRHluYW1pY0NsYXNzLnByb3RvdHlwZS5pbnN0YW50aWF0ZSA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBwcm9wcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdmFyIGdldHRlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHZhciBtZXRob2RzID0gbmV3IE1hcCgpO1xuICAgICAgICB2YXIgc3VwZXJDbGFzcyA9IHRoaXMuX2NsYXNzU3RtdC5wYXJlbnQudmlzaXRFeHByZXNzaW9uKHRoaXMuX3Zpc2l0b3IsIHRoaXMuX2N0eCk7XG4gICAgICAgIHZhciBpbnN0YW5jZUN0eCA9IG5ldyBfRXhlY3V0aW9uQ29udGV4dCh0aGlzLl9jdHgsIHN1cGVyQ2xhc3MsIG51bGwsIHRoaXMuX2NsYXNzU3RtdC5uYW1lLCB0aGlzLl9jdHgudmFycywgcHJvcHMsIGdldHRlcnMsIG1ldGhvZHMsIHRoaXMuX2N0eC5pbnN0YW5jZUZhY3RvcnkpO1xuICAgICAgICB0aGlzLl9jbGFzc1N0bXQuZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7IHByb3BzLnNldChmaWVsZC5uYW1lLCBudWxsKTsgfSk7XG4gICAgICAgIHRoaXMuX2NsYXNzU3RtdC5nZXR0ZXJzLmZvckVhY2goZnVuY3Rpb24gKGdldHRlcikge1xuICAgICAgICAgICAgZ2V0dGVycy5zZXQoZ2V0dGVyLm5hbWUsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9leGVjdXRlRnVuY3Rpb25TdGF0ZW1lbnRzKFtdLCBbXSwgZ2V0dGVyLmJvZHksIGluc3RhbmNlQ3R4LCBfdGhpcy5fdmlzaXRvcik7IH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fY2xhc3NTdG10Lm1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1OYW1lcyA9IG1ldGhvZC5wYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gcGFyYW0ubmFtZTsgfSk7XG4gICAgICAgICAgICBtZXRob2RzLnNldChtZXRob2QubmFtZSwgX2RlY2xhcmVGbihwYXJhbU5hbWVzLCBtZXRob2QuYm9keSwgaW5zdGFuY2VDdHgsIF90aGlzLl92aXNpdG9yKSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgY3RvclBhcmFtTmFtZXMgPSB0aGlzLl9jbGFzc1N0bXQuY29uc3RydWN0b3JNZXRob2QucGFyYW1zLm1hcChmdW5jdGlvbiAocGFyYW0pIHsgcmV0dXJuIHBhcmFtLm5hbWU7IH0pO1xuICAgICAgICBfZXhlY3V0ZUZ1bmN0aW9uU3RhdGVtZW50cyhjdG9yUGFyYW1OYW1lcywgYXJncywgdGhpcy5fY2xhc3NTdG10LmNvbnN0cnVjdG9yTWV0aG9kLmJvZHksIGluc3RhbmNlQ3R4LCB0aGlzLl92aXNpdG9yKTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlQ3R4LnN1cGVySW5zdGFuY2U7XG4gICAgfTtcbiAgICBfRHluYW1pY0NsYXNzLnByb3RvdHlwZS5kZWJ1Z0FzdCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3Zpc2l0b3IuZGVidWdBc3QodGhpcy5fY2xhc3NTdG10KTsgfTtcbiAgICByZXR1cm4gX0R5bmFtaWNDbGFzcztcbn0oKSk7XG52YXIgU3RhdGVtZW50SW50ZXJwcmV0ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YXRlbWVudEludGVycHJldGVyKCkge1xuICAgIH1cbiAgICBTdGF0ZW1lbnRJbnRlcnByZXRlci5wcm90b3R5cGUuZGVidWdBc3QgPSBmdW5jdGlvbiAoYXN0KSB7XG4gICAgICAgIHJldHVybiBsYW5nXzEuSVNfREFSVCA/IGRhcnRfZW1pdHRlcl8xLmRlYnVnT3V0cHV0QXN0QXNEYXJ0KGFzdCkgOiB0c19lbWl0dGVyXzEuZGVidWdPdXRwdXRBc3RBc1R5cGVTY3JpcHQoYXN0KTtcbiAgICB9O1xuICAgIFN0YXRlbWVudEludGVycHJldGVyLnByb3RvdHlwZS52aXNpdERlY2xhcmVWYXJTdG10ID0gZnVuY3Rpb24gKHN0bXQsIGN0eCkge1xuICAgICAgICBjdHgudmFycy5zZXQoc3RtdC5uYW1lLCBzdG10LnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBTdGF0ZW1lbnRJbnRlcnByZXRlci5wcm90b3R5cGUudmlzaXRXcml0ZVZhckV4cHIgPSBmdW5jdGlvbiAoZXhwciwgY3R4KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGV4cHIudmFsdWUudmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgICAgIHZhciBjdXJyQ3R4ID0gY3R4O1xuICAgICAgICB3aGlsZSAoY3VyckN0eCAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3VyckN0eC52YXJzLmhhcyhleHByLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgY3VyckN0eC52YXJzLnNldChleHByLm5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyQ3R4ID0gY3VyckN0eC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiTm90IGRlY2xhcmVkIHZhcmlhYmxlIFwiICsgZXhwci5uYW1lKTtcbiAgICB9O1xuICAgIFN0YXRlbWVudEludGVycHJldGVyLnByb3RvdHlwZS52aXNpdFJlYWRWYXJFeHByID0gZnVuY3Rpb24gKGFzdCwgY3R4KSB7XG4gICAgICAgIHZhciB2YXJOYW1lID0gYXN0Lm5hbWU7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGFzdC5idWlsdGluKSkge1xuICAgICAgICAgICAgc3dpdGNoIChhc3QuYnVpbHRpbikge1xuICAgICAgICAgICAgICAgIGNhc2Ugby5CdWlsdGluVmFyLlN1cGVyOlxuICAgICAgICAgICAgICAgIGNhc2Ugby5CdWlsdGluVmFyLlRoaXM6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHguc3VwZXJJbnN0YW5jZTtcbiAgICAgICAgICAgICAgICBjYXNlIG8uQnVpbHRpblZhci5DYXRjaEVycm9yOlxuICAgICAgICAgICAgICAgICAgICB2YXJOYW1lID0gQ0FUQ0hfRVJST1JfVkFSO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIG8uQnVpbHRpblZhci5DYXRjaFN0YWNrOlxuICAgICAgICAgICAgICAgICAgICB2YXJOYW1lID0gQ0FUQ0hfU1RBQ0tfVkFSO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJVbmtub3duIGJ1aWx0aW4gdmFyaWFibGUgXCIgKyBhc3QuYnVpbHRpbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJDdHggPSBjdHg7XG4gICAgICAgIHdoaWxlIChjdXJyQ3R4ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdXJyQ3R4LnZhcnMuaGFzKHZhck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJDdHgudmFycy5nZXQodmFyTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyQ3R4ID0gY3VyckN0eC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiTm90IGRlY2xhcmVkIHZhcmlhYmxlIFwiICsgdmFyTmFtZSk7XG4gICAgfTtcbiAgICBTdGF0ZW1lbnRJbnRlcnByZXRlci5wcm90b3R5cGUudmlzaXRXcml0ZUtleUV4cHIgPSBmdW5jdGlvbiAoZXhwciwgY3R4KSB7XG4gICAgICAgIHZhciByZWNlaXZlciA9IGV4cHIucmVjZWl2ZXIudmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgICAgIHZhciBpbmRleCA9IGV4cHIuaW5kZXgudmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgICAgIHZhciB2YWx1ZSA9IGV4cHIudmFsdWUudmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgICAgIHJlY2VpdmVyW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBTdGF0ZW1lbnRJbnRlcnByZXRlci5wcm90b3R5cGUudmlzaXRXcml0ZVByb3BFeHByID0gZnVuY3Rpb24gKGV4cHIsIGN0eCkge1xuICAgICAgICB2YXIgcmVjZWl2ZXIgPSBleHByLnJlY2VpdmVyLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpO1xuICAgICAgICB2YXIgdmFsdWUgPSBleHByLnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpO1xuICAgICAgICBpZiAoaXNEeW5hbWljSW5zdGFuY2UocmVjZWl2ZXIpKSB7XG4gICAgICAgICAgICB2YXIgZGkgPSByZWNlaXZlcjtcbiAgICAgICAgICAgIGlmIChkaS5wcm9wcy5oYXMoZXhwci5uYW1lKSkge1xuICAgICAgICAgICAgICAgIGRpLnByb3BzLnNldChleHByLm5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvcmVfMS5yZWZsZWN0b3Iuc2V0dGVyKGV4cHIubmFtZSkocmVjZWl2ZXIsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvcmVfMS5yZWZsZWN0b3Iuc2V0dGVyKGV4cHIubmFtZSkocmVjZWl2ZXIsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBTdGF0ZW1lbnRJbnRlcnByZXRlci5wcm90b3R5cGUudmlzaXRJbnZva2VNZXRob2RFeHByID0gZnVuY3Rpb24gKGV4cHIsIGN0eCkge1xuICAgICAgICB2YXIgcmVjZWl2ZXIgPSBleHByLnJlY2VpdmVyLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpO1xuICAgICAgICB2YXIgYXJncyA9IHRoaXMudmlzaXRBbGxFeHByZXNzaW9ucyhleHByLmFyZ3MsIGN0eCk7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGV4cHIuYnVpbHRpbikpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZXhwci5idWlsdGluKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBvLkJ1aWx0aW5NZXRob2QuQ29uY2F0QXJyYXk6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5jb25jYXQocmVjZWl2ZXIsIGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIG8uQnVpbHRpbk1ldGhvZC5TdWJzY3JpYmVPYnNlcnZhYmxlOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBhc3luY18xLk9ic2VydmFibGVXcmFwcGVyLnN1YnNjcmliZShyZWNlaXZlciwgYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2Ugby5CdWlsdGluTWV0aG9kLmJpbmQ6XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYW5nXzEuSVNfREFSVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVjZWl2ZXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZWNlaXZlci5iaW5kKGFyZ3NbMF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbihcIlVua25vd24gYnVpbHRpbiBtZXRob2QgXCIgKyBleHByLmJ1aWx0aW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzRHluYW1pY0luc3RhbmNlKHJlY2VpdmVyKSkge1xuICAgICAgICAgICAgdmFyIGRpID0gcmVjZWl2ZXI7XG4gICAgICAgICAgICBpZiAoZGkubWV0aG9kcy5oYXMoZXhwci5uYW1lKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGxhbmdfMS5GdW5jdGlvbldyYXBwZXIuYXBwbHkoZGkubWV0aG9kcy5nZXQoZXhwci5uYW1lKSwgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBjb3JlXzEucmVmbGVjdG9yLm1ldGhvZChleHByLm5hbWUpKHJlY2VpdmVyLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGNvcmVfMS5yZWZsZWN0b3IubWV0aG9kKGV4cHIubmFtZSkocmVjZWl2ZXIsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBTdGF0ZW1lbnRJbnRlcnByZXRlci5wcm90b3R5cGUudmlzaXRJbnZva2VGdW5jdGlvbkV4cHIgPSBmdW5jdGlvbiAoc3RtdCwgY3R4KSB7XG4gICAgICAgIHZhciBhcmdzID0gdGhpcy52aXNpdEFsbEV4cHJlc3Npb25zKHN0bXQuYXJncywgY3R4KTtcbiAgICAgICAgdmFyIGZuRXhwciA9IHN0bXQuZm47XG4gICAgICAgIGlmIChmbkV4cHIgaW5zdGFuY2VvZiBvLlJlYWRWYXJFeHByICYmIGZuRXhwci5idWlsdGluID09PSBvLkJ1aWx0aW5WYXIuU3VwZXIpIHtcbiAgICAgICAgICAgIGN0eC5zdXBlckluc3RhbmNlID0gY3R4Lmluc3RhbmNlRmFjdG9yeS5jcmVhdGVJbnN0YW5jZShjdHguc3VwZXJDbGFzcywgY3R4LmNsYXNzTmFtZSwgYXJncywgY3R4LnByb3BzLCBjdHguZ2V0dGVycywgY3R4Lm1ldGhvZHMpO1xuICAgICAgICAgICAgY3R4LnBhcmVudC5zdXBlckluc3RhbmNlID0gY3R4LnN1cGVySW5zdGFuY2U7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmbiA9IHN0bXQuZm4udmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgICAgICAgICByZXR1cm4gbGFuZ18xLkZ1bmN0aW9uV3JhcHBlci5hcHBseShmbiwgYXJncyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0YXRlbWVudEludGVycHJldGVyLnByb3RvdHlwZS52aXNpdFJldHVyblN0bXQgPSBmdW5jdGlvbiAoc3RtdCwgY3R4KSB7XG4gICAgICAgIHJldHVybiBuZXcgUmV0dXJuVmFsdWUoc3RtdC52YWx1ZS52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KSk7XG4gICAgfTtcbiAgICBTdGF0ZW1lbnRJbnRlcnByZXRlci5wcm90b3R5cGUudmlzaXREZWNsYXJlQ2xhc3NTdG10ID0gZnVuY3Rpb24gKHN0bXQsIGN0eCkge1xuICAgICAgICB2YXIgY2xhenogPSBuZXcgX0R5bmFtaWNDbGFzcyhzdG10LCBjdHgsIHRoaXMpO1xuICAgICAgICBjdHgudmFycy5zZXQoc3RtdC5uYW1lLCBjbGF6eik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgU3RhdGVtZW50SW50ZXJwcmV0ZXIucHJvdG90eXBlLnZpc2l0RXhwcmVzc2lvblN0bXQgPSBmdW5jdGlvbiAoc3RtdCwgY3R4KSB7XG4gICAgICAgIHJldHVybiBzdG10LmV4cHIudmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgfTtcbiAgICBTdGF0ZW1lbnRJbnRlcnByZXRlci5wcm90b3R5cGUudmlzaXRJZlN0bXQgPSBmdW5jdGlvbiAoc3RtdCwgY3R4KSB7XG4gICAgICAgIHZhciBjb25kaXRpb24gPSBzdG10LmNvbmRpdGlvbi52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KTtcbiAgICAgICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKHN0bXQudHJ1ZUNhc2UsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGFuZ18xLmlzUHJlc2VudChzdG10LmZhbHNlQ2FzZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyhzdG10LmZhbHNlQ2FzZSwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIFN0YXRlbWVudEludGVycHJldGVyLnByb3RvdHlwZS52aXNpdFRyeUNhdGNoU3RtdCA9IGZ1bmN0aW9uIChzdG10LCBjdHgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyhzdG10LmJvZHlTdG10cywgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkQ3R4ID0gY3R4LmNyZWF0ZUNoaWxkV2lodExvY2FsVmFycygpO1xuICAgICAgICAgICAgY2hpbGRDdHgudmFycy5zZXQoQ0FUQ0hfRVJST1JfVkFSLCBlKTtcbiAgICAgICAgICAgIGNoaWxkQ3R4LnZhcnMuc2V0KENBVENIX1NUQUNLX1ZBUiwgZS5zdGFjayk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aXNpdEFsbFN0YXRlbWVudHMoc3RtdC5jYXRjaFN0bXRzLCBjaGlsZEN0eCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0YXRlbWVudEludGVycHJldGVyLnByb3RvdHlwZS52aXNpdFRocm93U3RtdCA9IGZ1bmN0aW9uIChzdG10LCBjdHgpIHtcbiAgICAgICAgdGhyb3cgc3RtdC5lcnJvci52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KTtcbiAgICB9O1xuICAgIFN0YXRlbWVudEludGVycHJldGVyLnByb3RvdHlwZS52aXNpdENvbW1lbnRTdG10ID0gZnVuY3Rpb24gKHN0bXQsIGNvbnRleHQpIHsgcmV0dXJuIG51bGw7IH07XG4gICAgU3RhdGVtZW50SW50ZXJwcmV0ZXIucHJvdG90eXBlLnZpc2l0SW5zdGFudGlhdGVFeHByID0gZnVuY3Rpb24gKGFzdCwgY3R4KSB7XG4gICAgICAgIHZhciBhcmdzID0gdGhpcy52aXNpdEFsbEV4cHJlc3Npb25zKGFzdC5hcmdzLCBjdHgpO1xuICAgICAgICB2YXIgY2xhenogPSBhc3QuY2xhc3NFeHByLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpO1xuICAgICAgICBpZiAoY2xhenogaW5zdGFuY2VvZiBfRHluYW1pY0NsYXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gY2xhenouaW5zdGFudGlhdGUoYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbGFuZ18xLkZ1bmN0aW9uV3JhcHBlci5hcHBseShjb3JlXzEucmVmbGVjdG9yLmZhY3RvcnkoY2xhenopLCBhcmdzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RhdGVtZW50SW50ZXJwcmV0ZXIucHJvdG90eXBlLnZpc2l0TGl0ZXJhbEV4cHIgPSBmdW5jdGlvbiAoYXN0LCBjdHgpIHsgcmV0dXJuIGFzdC52YWx1ZTsgfTtcbiAgICBTdGF0ZW1lbnRJbnRlcnByZXRlci5wcm90b3R5cGUudmlzaXRFeHRlcm5hbEV4cHIgPSBmdW5jdGlvbiAoYXN0LCBjdHgpIHsgcmV0dXJuIGFzdC52YWx1ZS5ydW50aW1lOyB9O1xuICAgIFN0YXRlbWVudEludGVycHJldGVyLnByb3RvdHlwZS52aXNpdENvbmRpdGlvbmFsRXhwciA9IGZ1bmN0aW9uIChhc3QsIGN0eCkge1xuICAgICAgICBpZiAoYXN0LmNvbmRpdGlvbi52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KSkge1xuICAgICAgICAgICAgcmV0dXJuIGFzdC50cnVlQ2FzZS52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsYW5nXzEuaXNQcmVzZW50KGFzdC5mYWxzZUNhc2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gYXN0LmZhbHNlQ2FzZS52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIFN0YXRlbWVudEludGVycHJldGVyLnByb3RvdHlwZS52aXNpdE5vdEV4cHIgPSBmdW5jdGlvbiAoYXN0LCBjdHgpIHtcbiAgICAgICAgcmV0dXJuICFhc3QuY29uZGl0aW9uLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpO1xuICAgIH07XG4gICAgU3RhdGVtZW50SW50ZXJwcmV0ZXIucHJvdG90eXBlLnZpc2l0Q2FzdEV4cHIgPSBmdW5jdGlvbiAoYXN0LCBjdHgpIHtcbiAgICAgICAgcmV0dXJuIGFzdC52YWx1ZS52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KTtcbiAgICB9O1xuICAgIFN0YXRlbWVudEludGVycHJldGVyLnByb3RvdHlwZS52aXNpdEZ1bmN0aW9uRXhwciA9IGZ1bmN0aW9uIChhc3QsIGN0eCkge1xuICAgICAgICB2YXIgcGFyYW1OYW1lcyA9IGFzdC5wYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gcGFyYW0ubmFtZTsgfSk7XG4gICAgICAgIHJldHVybiBfZGVjbGFyZUZuKHBhcmFtTmFtZXMsIGFzdC5zdGF0ZW1lbnRzLCBjdHgsIHRoaXMpO1xuICAgIH07XG4gICAgU3RhdGVtZW50SW50ZXJwcmV0ZXIucHJvdG90eXBlLnZpc2l0RGVjbGFyZUZ1bmN0aW9uU3RtdCA9IGZ1bmN0aW9uIChzdG10LCBjdHgpIHtcbiAgICAgICAgdmFyIHBhcmFtTmFtZXMgPSBzdG10LnBhcmFtcy5tYXAoZnVuY3Rpb24gKHBhcmFtKSB7IHJldHVybiBwYXJhbS5uYW1lOyB9KTtcbiAgICAgICAgY3R4LnZhcnMuc2V0KHN0bXQubmFtZSwgX2RlY2xhcmVGbihwYXJhbU5hbWVzLCBzdG10LnN0YXRlbWVudHMsIGN0eCwgdGhpcykpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIFN0YXRlbWVudEludGVycHJldGVyLnByb3RvdHlwZS52aXNpdEJpbmFyeU9wZXJhdG9yRXhwciA9IGZ1bmN0aW9uIChhc3QsIGN0eCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbGhzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gYXN0Lmxocy52aXNpdEV4cHJlc3Npb24oX3RoaXMsIGN0eCk7IH07XG4gICAgICAgIHZhciByaHMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBhc3QucmhzLnZpc2l0RXhwcmVzc2lvbihfdGhpcywgY3R4KTsgfTtcbiAgICAgICAgc3dpdGNoIChhc3Qub3BlcmF0b3IpIHtcbiAgICAgICAgICAgIGNhc2Ugby5CaW5hcnlPcGVyYXRvci5FcXVhbHM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxocygpID09IHJocygpO1xuICAgICAgICAgICAgY2FzZSBvLkJpbmFyeU9wZXJhdG9yLklkZW50aWNhbDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGhzKCkgPT09IHJocygpO1xuICAgICAgICAgICAgY2FzZSBvLkJpbmFyeU9wZXJhdG9yLk5vdEVxdWFsczpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGhzKCkgIT0gcmhzKCk7XG4gICAgICAgICAgICBjYXNlIG8uQmluYXJ5T3BlcmF0b3IuTm90SWRlbnRpY2FsOlxuICAgICAgICAgICAgICAgIHJldHVybiBsaHMoKSAhPT0gcmhzKCk7XG4gICAgICAgICAgICBjYXNlIG8uQmluYXJ5T3BlcmF0b3IuQW5kOlxuICAgICAgICAgICAgICAgIHJldHVybiBsaHMoKSAmJiByaHMoKTtcbiAgICAgICAgICAgIGNhc2Ugby5CaW5hcnlPcGVyYXRvci5PcjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGhzKCkgfHwgcmhzKCk7XG4gICAgICAgICAgICBjYXNlIG8uQmluYXJ5T3BlcmF0b3IuUGx1czpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGhzKCkgKyByaHMoKTtcbiAgICAgICAgICAgIGNhc2Ugby5CaW5hcnlPcGVyYXRvci5NaW51czpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGhzKCkgLSByaHMoKTtcbiAgICAgICAgICAgIGNhc2Ugby5CaW5hcnlPcGVyYXRvci5EaXZpZGU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxocygpIC8gcmhzKCk7XG4gICAgICAgICAgICBjYXNlIG8uQmluYXJ5T3BlcmF0b3IuTXVsdGlwbHk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxocygpICogcmhzKCk7XG4gICAgICAgICAgICBjYXNlIG8uQmluYXJ5T3BlcmF0b3IuTW9kdWxvOlxuICAgICAgICAgICAgICAgIHJldHVybiBsaHMoKSAlIHJocygpO1xuICAgICAgICAgICAgY2FzZSBvLkJpbmFyeU9wZXJhdG9yLkxvd2VyOlxuICAgICAgICAgICAgICAgIHJldHVybiBsaHMoKSA8IHJocygpO1xuICAgICAgICAgICAgY2FzZSBvLkJpbmFyeU9wZXJhdG9yLkxvd2VyRXF1YWxzOlxuICAgICAgICAgICAgICAgIHJldHVybiBsaHMoKSA8PSByaHMoKTtcbiAgICAgICAgICAgIGNhc2Ugby5CaW5hcnlPcGVyYXRvci5CaWdnZXI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxocygpID4gcmhzKCk7XG4gICAgICAgICAgICBjYXNlIG8uQmluYXJ5T3BlcmF0b3IuQmlnZ2VyRXF1YWxzOlxuICAgICAgICAgICAgICAgIHJldHVybiBsaHMoKSA+PSByaHMoKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiVW5rbm93biBvcGVyYXRvciBcIiArIGFzdC5vcGVyYXRvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0YXRlbWVudEludGVycHJldGVyLnByb3RvdHlwZS52aXNpdFJlYWRQcm9wRXhwciA9IGZ1bmN0aW9uIChhc3QsIGN0eCkge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB2YXIgcmVjZWl2ZXIgPSBhc3QucmVjZWl2ZXIudmlzaXRFeHByZXNzaW9uKHRoaXMsIGN0eCk7XG4gICAgICAgIGlmIChpc0R5bmFtaWNJbnN0YW5jZShyZWNlaXZlcikpIHtcbiAgICAgICAgICAgIHZhciBkaSA9IHJlY2VpdmVyO1xuICAgICAgICAgICAgaWYgKGRpLnByb3BzLmhhcyhhc3QubmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBkaS5wcm9wcy5nZXQoYXN0Lm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGkuZ2V0dGVycy5oYXMoYXN0Lm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZGkuZ2V0dGVycy5nZXQoYXN0Lm5hbWUpKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkaS5tZXRob2RzLmhhcyhhc3QubmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBkaS5tZXRob2RzLmdldChhc3QubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBjb3JlXzEucmVmbGVjdG9yLmdldHRlcihhc3QubmFtZSkocmVjZWl2ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gY29yZV8xLnJlZmxlY3Rvci5nZXR0ZXIoYXN0Lm5hbWUpKHJlY2VpdmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgU3RhdGVtZW50SW50ZXJwcmV0ZXIucHJvdG90eXBlLnZpc2l0UmVhZEtleUV4cHIgPSBmdW5jdGlvbiAoYXN0LCBjdHgpIHtcbiAgICAgICAgdmFyIHJlY2VpdmVyID0gYXN0LnJlY2VpdmVyLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpO1xuICAgICAgICB2YXIgcHJvcCA9IGFzdC5pbmRleC52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KTtcbiAgICAgICAgcmV0dXJuIHJlY2VpdmVyW3Byb3BdO1xuICAgIH07XG4gICAgU3RhdGVtZW50SW50ZXJwcmV0ZXIucHJvdG90eXBlLnZpc2l0TGl0ZXJhbEFycmF5RXhwciA9IGZ1bmN0aW9uIChhc3QsIGN0eCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aXNpdEFsbEV4cHJlc3Npb25zKGFzdC5lbnRyaWVzLCBjdHgpO1xuICAgIH07XG4gICAgU3RhdGVtZW50SW50ZXJwcmV0ZXIucHJvdG90eXBlLnZpc2l0TGl0ZXJhbE1hcEV4cHIgPSBmdW5jdGlvbiAoYXN0LCBjdHgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgICBhc3QuZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gcmVzdWx0W2VudHJ5WzBdXSA9XG4gICAgICAgICAgICBlbnRyeVsxXS52aXNpdEV4cHJlc3Npb24oX3RoaXMsIGN0eCk7IH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgU3RhdGVtZW50SW50ZXJwcmV0ZXIucHJvdG90eXBlLnZpc2l0QWxsRXhwcmVzc2lvbnMgPSBmdW5jdGlvbiAoZXhwcmVzc2lvbnMsIGN0eCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZXhwcmVzc2lvbnMubWFwKGZ1bmN0aW9uIChleHByKSB7IHJldHVybiBleHByLnZpc2l0RXhwcmVzc2lvbihfdGhpcywgY3R4KTsgfSk7XG4gICAgfTtcbiAgICBTdGF0ZW1lbnRJbnRlcnByZXRlci5wcm90b3R5cGUudmlzaXRBbGxTdGF0ZW1lbnRzID0gZnVuY3Rpb24gKHN0YXRlbWVudHMsIGN0eCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzdG10ID0gc3RhdGVtZW50c1tpXTtcbiAgICAgICAgICAgIHZhciB2YWwgPSBzdG10LnZpc2l0U3RhdGVtZW50KHRoaXMsIGN0eCk7XG4gICAgICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgUmV0dXJuVmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRlbWVudEludGVycHJldGVyO1xufSgpKTtcbmZ1bmN0aW9uIF9kZWNsYXJlRm4odmFyTmFtZXMsIHN0YXRlbWVudHMsIGN0eCwgdmlzaXRvcikge1xuICAgIHN3aXRjaCAodmFyTmFtZXMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBfZXhlY3V0ZUZ1bmN0aW9uU3RhdGVtZW50cyh2YXJOYW1lcywgW10sIHN0YXRlbWVudHMsIGN0eCwgdmlzaXRvcik7IH07XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZDApIHsgcmV0dXJuIF9leGVjdXRlRnVuY3Rpb25TdGF0ZW1lbnRzKHZhck5hbWVzLCBbZDBdLCBzdGF0ZW1lbnRzLCBjdHgsIHZpc2l0b3IpOyB9O1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGQwLCBkMSkgeyByZXR1cm4gX2V4ZWN1dGVGdW5jdGlvblN0YXRlbWVudHModmFyTmFtZXMsIFtkMCwgZDFdLCBzdGF0ZW1lbnRzLCBjdHgsIHZpc2l0b3IpOyB9O1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGQwLCBkMSwgZDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2V4ZWN1dGVGdW5jdGlvblN0YXRlbWVudHModmFyTmFtZXMsIFtkMCwgZDEsIGQyXSwgc3RhdGVtZW50cywgY3R4LCB2aXNpdG9yKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZDAsIGQxLCBkMiwgZDMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2V4ZWN1dGVGdW5jdGlvblN0YXRlbWVudHModmFyTmFtZXMsIFtkMCwgZDEsIGQyLCBkM10sIHN0YXRlbWVudHMsIGN0eCwgdmlzaXRvcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGQwLCBkMSwgZDIsIGQzLCBkNCkgeyByZXR1cm4gX2V4ZWN1dGVGdW5jdGlvblN0YXRlbWVudHModmFyTmFtZXMsIFtkMCwgZDEsIGQyLCBkMywgZDRdLCBzdGF0ZW1lbnRzLCBjdHgsIHZpc2l0b3IpOyB9O1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGQwLCBkMSwgZDIsIGQzLCBkNCwgZDUpIHsgcmV0dXJuIF9leGVjdXRlRnVuY3Rpb25TdGF0ZW1lbnRzKHZhck5hbWVzLCBbZDAsIGQxLCBkMiwgZDMsIGQ0LCBkNV0sIHN0YXRlbWVudHMsIGN0eCwgdmlzaXRvcik7IH07XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZDAsIGQxLCBkMiwgZDMsIGQ0LCBkNSwgZDYpIHsgcmV0dXJuIF9leGVjdXRlRnVuY3Rpb25TdGF0ZW1lbnRzKHZhck5hbWVzLCBbZDAsIGQxLCBkMiwgZDMsIGQ0LCBkNSwgZDZdLCBzdGF0ZW1lbnRzLCBjdHgsIHZpc2l0b3IpOyB9O1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGQwLCBkMSwgZDIsIGQzLCBkNCwgZDUsIGQ2LCBkNykgeyByZXR1cm4gX2V4ZWN1dGVGdW5jdGlvblN0YXRlbWVudHModmFyTmFtZXMsIFtkMCwgZDEsIGQyLCBkMywgZDQsIGQ1LCBkNiwgZDddLCBzdGF0ZW1lbnRzLCBjdHgsIHZpc2l0b3IpOyB9O1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGQwLCBkMSwgZDIsIGQzLCBkNCwgZDUsIGQ2LCBkNywgZDgpIHsgcmV0dXJuIF9leGVjdXRlRnVuY3Rpb25TdGF0ZW1lbnRzKHZhck5hbWVzLCBbZDAsIGQxLCBkMiwgZDMsIGQ0LCBkNSwgZDYsIGQ3LCBkOF0sIHN0YXRlbWVudHMsIGN0eCwgdmlzaXRvcik7IH07XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGQwLCBkMSwgZDIsIGQzLCBkNCwgZDUsIGQ2LCBkNywgZDgsIGQ5KSB7IHJldHVybiBfZXhlY3V0ZUZ1bmN0aW9uU3RhdGVtZW50cyh2YXJOYW1lcywgW2QwLCBkMSwgZDIsIGQzLCBkNCwgZDUsIGQ2LCBkNywgZDgsIGQ5XSwgc3RhdGVtZW50cywgY3R4LCB2aXNpdG9yKTsgfTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbignRGVjbGFyaW5nIGZ1bmN0aW9ucyB3aXRoIG1vcmUgdGhhbiAxMCBhcmd1bWVudHMgaXMgbm90IHN1cHBvcnRlZCByaWdodCBub3cnKTtcbiAgICB9XG59XG52YXIgQ0FUQ0hfRVJST1JfVkFSID0gJ2Vycm9yJztcbnZhciBDQVRDSF9TVEFDS19WQVIgPSAnc3RhY2snO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3V0cHV0X2ludGVycHJldGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgYWJzdHJhY3RfZW1pdHRlcl8xID0gcmVxdWlyZSgnLi9hYnN0cmFjdF9lbWl0dGVyJyk7XG52YXIgYWJzdHJhY3RfanNfZW1pdHRlcl8xID0gcmVxdWlyZSgnLi9hYnN0cmFjdF9qc19lbWl0dGVyJyk7XG52YXIgdXRpbF8xID0gcmVxdWlyZSgnLi4vdXRpbCcpO1xuZnVuY3Rpb24gaml0U3RhdGVtZW50cyhzb3VyY2VVcmwsIHN0YXRlbWVudHMsIHJlc3VsdFZhcikge1xuICAgIHZhciBjb252ZXJ0ZXIgPSBuZXcgSml0RW1pdHRlclZpc2l0b3IoKTtcbiAgICB2YXIgY3R4ID0gYWJzdHJhY3RfZW1pdHRlcl8xLkVtaXR0ZXJWaXNpdG9yQ29udGV4dC5jcmVhdGVSb290KFtyZXN1bHRWYXJdKTtcbiAgICBjb252ZXJ0ZXIudmlzaXRBbGxTdGF0ZW1lbnRzKHN0YXRlbWVudHMsIGN0eCk7XG4gICAgcmV0dXJuIGxhbmdfMS5ldmFsRXhwcmVzc2lvbihzb3VyY2VVcmwsIHJlc3VsdFZhciwgY3R4LnRvU291cmNlKCksIGNvbnZlcnRlci5nZXRBcmdzKCkpO1xufVxuZXhwb3J0cy5qaXRTdGF0ZW1lbnRzID0gaml0U3RhdGVtZW50cztcbnZhciBKaXRFbWl0dGVyVmlzaXRvciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEppdEVtaXR0ZXJWaXNpdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEppdEVtaXR0ZXJWaXNpdG9yKCkge1xuICAgICAgICBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5fZXZhbEFyZ05hbWVzID0gW107XG4gICAgICAgIHRoaXMuX2V2YWxBcmdWYWx1ZXMgPSBbXTtcbiAgICB9XG4gICAgSml0RW1pdHRlclZpc2l0b3IucHJvdG90eXBlLmdldEFyZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9ldmFsQXJnTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdFt0aGlzLl9ldmFsQXJnTmFtZXNbaV1dID0gdGhpcy5fZXZhbEFyZ1ZhbHVlc1tpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgSml0RW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0RXh0ZXJuYWxFeHByID0gZnVuY3Rpb24gKGFzdCwgY3R4KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFzdC52YWx1ZS5ydW50aW1lO1xuICAgICAgICB2YXIgaWQgPSB0aGlzLl9ldmFsQXJnVmFsdWVzLmluZGV4T2YodmFsdWUpO1xuICAgICAgICBpZiAoaWQgPT09IC0xKSB7XG4gICAgICAgICAgICBpZCA9IHRoaXMuX2V2YWxBcmdWYWx1ZXMubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5fZXZhbEFyZ1ZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIHZhciBuYW1lID0gbGFuZ18xLmlzUHJlc2VudChhc3QudmFsdWUubmFtZSkgPyB1dGlsXzEuc2FuaXRpemVJZGVudGlmaWVyKGFzdC52YWx1ZS5uYW1lKSA6ICd2YWwnO1xuICAgICAgICAgICAgdGhpcy5fZXZhbEFyZ05hbWVzLnB1c2godXRpbF8xLnNhbml0aXplSWRlbnRpZmllcihcImppdF9cIiArIG5hbWUgKyBpZCkpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5wcmludCh0aGlzLl9ldmFsQXJnTmFtZXNbaWRdKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gSml0RW1pdHRlclZpc2l0b3I7XG59KGFic3RyYWN0X2pzX2VtaXR0ZXJfMS5BYnN0cmFjdEpzRW1pdHRlclZpc2l0b3IpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW91dHB1dF9qaXQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG4vLyBhc3NldDo8cGFja2FnZS1uYW1lPi88cmVhbG0+LzxwYXRoLXRvLW1vZHVsZT5cbnZhciBfQVNTRVRfVVJMX1JFID0gL2Fzc2V0OihbXlxcL10rKVxcLyhbXlxcL10rKVxcLyguKykvZztcbi8qKlxuICogSW50ZXJmYWNlIHRoYXQgZGVmaW5lcyBob3cgaW1wb3J0IHN0YXRlbWVudHMgc2hvdWxkIGJlIGdlbmVyYXRlZC5cbiAqL1xudmFyIEltcG9ydEdlbmVyYXRvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW1wb3J0R2VuZXJhdG9yKCkge1xuICAgIH1cbiAgICBJbXBvcnRHZW5lcmF0b3IucGFyc2VBc3NldFVybCA9IGZ1bmN0aW9uICh1cmwpIHsgcmV0dXJuIEFzc2V0VXJsLnBhcnNlKHVybCk7IH07XG4gICAgcmV0dXJuIEltcG9ydEdlbmVyYXRvcjtcbn0oKSk7XG5leHBvcnRzLkltcG9ydEdlbmVyYXRvciA9IEltcG9ydEdlbmVyYXRvcjtcbnZhciBBc3NldFVybCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXNzZXRVcmwocGFja2FnZU5hbWUsIGZpcnN0TGV2ZWxEaXIsIG1vZHVsZVBhdGgpIHtcbiAgICAgICAgdGhpcy5wYWNrYWdlTmFtZSA9IHBhY2thZ2VOYW1lO1xuICAgICAgICB0aGlzLmZpcnN0TGV2ZWxEaXIgPSBmaXJzdExldmVsRGlyO1xuICAgICAgICB0aGlzLm1vZHVsZVBhdGggPSBtb2R1bGVQYXRoO1xuICAgIH1cbiAgICBBc3NldFVybC5wYXJzZSA9IGZ1bmN0aW9uICh1cmwsIGFsbG93Tm9uTWF0Y2hpbmcpIHtcbiAgICAgICAgaWYgKGFsbG93Tm9uTWF0Y2hpbmcgPT09IHZvaWQgMCkgeyBhbGxvd05vbk1hdGNoaW5nID0gdHJ1ZTsgfVxuICAgICAgICB2YXIgbWF0Y2ggPSBsYW5nXzEuUmVnRXhwV3JhcHBlci5maXJzdE1hdGNoKF9BU1NFVF9VUkxfUkUsIHVybCk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KG1hdGNoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBc3NldFVybChtYXRjaFsxXSwgbWF0Y2hbMl0sIG1hdGNoWzNdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWxsb3dOb25NYXRjaGluZykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiVXJsIFwiICsgdXJsICsgXCIgaXMgbm90IGEgdmFsaWQgYXNzZXQ6IHVybFwiKTtcbiAgICB9O1xuICAgIHJldHVybiBBc3NldFVybDtcbn0oKSk7XG5leHBvcnRzLkFzc2V0VXJsID0gQXNzZXRVcmw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXRoX3V0aWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBvID0gcmVxdWlyZSgnLi9vdXRwdXRfYXN0Jyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG52YXIgYWJzdHJhY3RfZW1pdHRlcl8xID0gcmVxdWlyZSgnLi9hYnN0cmFjdF9lbWl0dGVyJyk7XG52YXIgX2RlYnVnTW9kdWxlVXJsID0gJ2Fzc2V0Oi8vZGVidWcvbGliJztcbmZ1bmN0aW9uIGRlYnVnT3V0cHV0QXN0QXNUeXBlU2NyaXB0KGFzdCkge1xuICAgIHZhciBjb252ZXJ0ZXIgPSBuZXcgX1RzRW1pdHRlclZpc2l0b3IoX2RlYnVnTW9kdWxlVXJsKTtcbiAgICB2YXIgY3R4ID0gYWJzdHJhY3RfZW1pdHRlcl8xLkVtaXR0ZXJWaXNpdG9yQ29udGV4dC5jcmVhdGVSb290KFtdKTtcbiAgICB2YXIgYXN0cztcbiAgICBpZiAobGFuZ18xLmlzQXJyYXkoYXN0KSkge1xuICAgICAgICBhc3RzID0gYXN0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXN0cyA9IFthc3RdO1xuICAgIH1cbiAgICBhc3RzLmZvckVhY2goZnVuY3Rpb24gKGFzdCkge1xuICAgICAgICBpZiAoYXN0IGluc3RhbmNlb2Ygby5TdGF0ZW1lbnQpIHtcbiAgICAgICAgICAgIGFzdC52aXNpdFN0YXRlbWVudChjb252ZXJ0ZXIsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXN0IGluc3RhbmNlb2Ygby5FeHByZXNzaW9uKSB7XG4gICAgICAgICAgICBhc3QudmlzaXRFeHByZXNzaW9uKGNvbnZlcnRlciwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhc3QgaW5zdGFuY2VvZiBvLlR5cGUpIHtcbiAgICAgICAgICAgIGFzdC52aXNpdFR5cGUoY29udmVydGVyLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiRG9uJ3Qga25vdyBob3cgdG8gcHJpbnQgZGVidWcgaW5mbyBmb3IgXCIgKyBhc3QpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGN0eC50b1NvdXJjZSgpO1xufVxuZXhwb3J0cy5kZWJ1Z091dHB1dEFzdEFzVHlwZVNjcmlwdCA9IGRlYnVnT3V0cHV0QXN0QXNUeXBlU2NyaXB0O1xudmFyIFR5cGVTY3JpcHRFbWl0dGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUeXBlU2NyaXB0RW1pdHRlcihfaW1wb3J0R2VuZXJhdG9yKSB7XG4gICAgICAgIHRoaXMuX2ltcG9ydEdlbmVyYXRvciA9IF9pbXBvcnRHZW5lcmF0b3I7XG4gICAgfVxuICAgIFR5cGVTY3JpcHRFbWl0dGVyLnByb3RvdHlwZS5lbWl0U3RhdGVtZW50cyA9IGZ1bmN0aW9uIChtb2R1bGVVcmwsIHN0bXRzLCBleHBvcnRlZFZhcnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNvbnZlcnRlciA9IG5ldyBfVHNFbWl0dGVyVmlzaXRvcihtb2R1bGVVcmwpO1xuICAgICAgICB2YXIgY3R4ID0gYWJzdHJhY3RfZW1pdHRlcl8xLkVtaXR0ZXJWaXNpdG9yQ29udGV4dC5jcmVhdGVSb290KGV4cG9ydGVkVmFycyk7XG4gICAgICAgIGNvbnZlcnRlci52aXNpdEFsbFN0YXRlbWVudHMoc3RtdHMsIGN0eCk7XG4gICAgICAgIHZhciBzcmNQYXJ0cyA9IFtdO1xuICAgICAgICBjb252ZXJ0ZXIuaW1wb3J0c1dpdGhQcmVmaXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChwcmVmaXgsIGltcG9ydGVkTW9kdWxlVXJsKSB7XG4gICAgICAgICAgICAvLyBOb3RlOiBjYW4ndCB3cml0ZSB0aGUgcmVhbCB3b3JkIGZvciBpbXBvcnQgYXMgaXQgc2NyZXdzIHVwIHN5c3RlbS5qcyBhdXRvIGRldGVjdGlvbi4uLlxuICAgICAgICAgICAgc3JjUGFydHMucHVzaChcImltcFwiICtcbiAgICAgICAgICAgICAgICAoXCJvcnQgKiBhcyBcIiArIHByZWZpeCArIFwiIGZyb20gJ1wiICsgX3RoaXMuX2ltcG9ydEdlbmVyYXRvci5nZXRJbXBvcnRQYXRoKG1vZHVsZVVybCwgaW1wb3J0ZWRNb2R1bGVVcmwpICsgXCInO1wiKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzcmNQYXJ0cy5wdXNoKGN0eC50b1NvdXJjZSgpKTtcbiAgICAgICAgcmV0dXJuIHNyY1BhcnRzLmpvaW4oJ1xcbicpO1xuICAgIH07XG4gICAgcmV0dXJuIFR5cGVTY3JpcHRFbWl0dGVyO1xufSgpKTtcbmV4cG9ydHMuVHlwZVNjcmlwdEVtaXR0ZXIgPSBUeXBlU2NyaXB0RW1pdHRlcjtcbnZhciBfVHNFbWl0dGVyVmlzaXRvciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKF9Uc0VtaXR0ZXJWaXNpdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIF9Uc0VtaXR0ZXJWaXNpdG9yKF9tb2R1bGVVcmwpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZmFsc2UpO1xuICAgICAgICB0aGlzLl9tb2R1bGVVcmwgPSBfbW9kdWxlVXJsO1xuICAgICAgICB0aGlzLmltcG9ydHNXaXRoUHJlZml4ZXMgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIF9Uc0VtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdEV4dGVybmFsRXhwciA9IGZ1bmN0aW9uIChhc3QsIGN0eCkge1xuICAgICAgICB0aGlzLl92aXNpdElkZW50aWZpZXIoYXN0LnZhbHVlLCBhc3QudHlwZVBhcmFtcywgY3R4KTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBfVHNFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXREZWNsYXJlVmFyU3RtdCA9IGZ1bmN0aW9uIChzdG10LCBjdHgpIHtcbiAgICAgICAgaWYgKGN0eC5pc0V4cG9ydGVkVmFyKHN0bXQubmFtZSkpIHtcbiAgICAgICAgICAgIGN0eC5wcmludChcImV4cG9ydCBcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0bXQuaGFzTW9kaWZpZXIoby5TdG10TW9kaWZpZXIuRmluYWwpKSB7XG4gICAgICAgICAgICBjdHgucHJpbnQoXCJjb25zdFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5wcmludChcInZhclwiKTtcbiAgICAgICAgfVxuICAgICAgICBjdHgucHJpbnQoXCIgXCIgKyBzdG10Lm5hbWUpO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChzdG10LnR5cGUpKSB7XG4gICAgICAgICAgICBjdHgucHJpbnQoXCI6XCIpO1xuICAgICAgICAgICAgc3RtdC50eXBlLnZpc2l0VHlwZSh0aGlzLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5wcmludChcIiA9IFwiKTtcbiAgICAgICAgc3RtdC52YWx1ZS52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KTtcbiAgICAgICAgY3R4LnByaW50bG4oXCI7XCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIF9Uc0VtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdENhc3RFeHByID0gZnVuY3Rpb24gKGFzdCwgY3R4KSB7XG4gICAgICAgIGN0eC5wcmludChcIig8XCIpO1xuICAgICAgICBhc3QudHlwZS52aXNpdFR5cGUodGhpcywgY3R4KTtcbiAgICAgICAgY3R4LnByaW50KFwiPlwiKTtcbiAgICAgICAgYXN0LnZhbHVlLnZpc2l0RXhwcmVzc2lvbih0aGlzLCBjdHgpO1xuICAgICAgICBjdHgucHJpbnQoXCIpXCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIF9Uc0VtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdERlY2xhcmVDbGFzc1N0bXQgPSBmdW5jdGlvbiAoc3RtdCwgY3R4KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGN0eC5wdXNoQ2xhc3Moc3RtdCk7XG4gICAgICAgIGlmIChjdHguaXNFeHBvcnRlZFZhcihzdG10Lm5hbWUpKSB7XG4gICAgICAgICAgICBjdHgucHJpbnQoXCJleHBvcnQgXCIpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5wcmludChcImNsYXNzIFwiICsgc3RtdC5uYW1lKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoc3RtdC5wYXJlbnQpKSB7XG4gICAgICAgICAgICBjdHgucHJpbnQoXCIgZXh0ZW5kcyBcIik7XG4gICAgICAgICAgICBzdG10LnBhcmVudC52aXNpdEV4cHJlc3Npb24odGhpcywgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjdHgucHJpbnRsbihcIiB7XCIpO1xuICAgICAgICBjdHguaW5jSW5kZW50KCk7XG4gICAgICAgIHN0bXQuZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7IHJldHVybiBfdGhpcy5fdmlzaXRDbGFzc0ZpZWxkKGZpZWxkLCBjdHgpOyB9KTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoc3RtdC5jb25zdHJ1Y3Rvck1ldGhvZCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3Zpc2l0Q2xhc3NDb25zdHJ1Y3RvcihzdG10LCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIHN0bXQuZ2V0dGVycy5mb3JFYWNoKGZ1bmN0aW9uIChnZXR0ZXIpIHsgcmV0dXJuIF90aGlzLl92aXNpdENsYXNzR2V0dGVyKGdldHRlciwgY3R4KTsgfSk7XG4gICAgICAgIHN0bXQubWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHsgcmV0dXJuIF90aGlzLl92aXNpdENsYXNzTWV0aG9kKG1ldGhvZCwgY3R4KTsgfSk7XG4gICAgICAgIGN0eC5kZWNJbmRlbnQoKTtcbiAgICAgICAgY3R4LnByaW50bG4oXCJ9XCIpO1xuICAgICAgICBjdHgucG9wQ2xhc3MoKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBfVHNFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUuX3Zpc2l0Q2xhc3NGaWVsZCA9IGZ1bmN0aW9uIChmaWVsZCwgY3R4KSB7XG4gICAgICAgIGlmIChmaWVsZC5oYXNNb2RpZmllcihvLlN0bXRNb2RpZmllci5Qcml2YXRlKSkge1xuICAgICAgICAgICAgY3R4LnByaW50KFwicHJpdmF0ZSBcIik7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnByaW50KGZpZWxkLm5hbWUpO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChmaWVsZC50eXBlKSkge1xuICAgICAgICAgICAgY3R4LnByaW50KFwiOlwiKTtcbiAgICAgICAgICAgIGZpZWxkLnR5cGUudmlzaXRUeXBlKHRoaXMsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdHgucHJpbnQoXCI6IGFueVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjdHgucHJpbnRsbihcIjtcIik7XG4gICAgfTtcbiAgICBfVHNFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUuX3Zpc2l0Q2xhc3NHZXR0ZXIgPSBmdW5jdGlvbiAoZ2V0dGVyLCBjdHgpIHtcbiAgICAgICAgaWYgKGdldHRlci5oYXNNb2RpZmllcihvLlN0bXRNb2RpZmllci5Qcml2YXRlKSkge1xuICAgICAgICAgICAgY3R4LnByaW50KFwicHJpdmF0ZSBcIik7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnByaW50KFwiZ2V0IFwiICsgZ2V0dGVyLm5hbWUgKyBcIigpXCIpO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChnZXR0ZXIudHlwZSkpIHtcbiAgICAgICAgICAgIGN0eC5wcmludChcIjpcIik7XG4gICAgICAgICAgICBnZXR0ZXIudHlwZS52aXNpdFR5cGUodGhpcywgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjdHgucHJpbnRsbihcIiB7XCIpO1xuICAgICAgICBjdHguaW5jSW5kZW50KCk7XG4gICAgICAgIHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKGdldHRlci5ib2R5LCBjdHgpO1xuICAgICAgICBjdHguZGVjSW5kZW50KCk7XG4gICAgICAgIGN0eC5wcmludGxuKFwifVwiKTtcbiAgICB9O1xuICAgIF9Uc0VtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS5fdmlzaXRDbGFzc0NvbnN0cnVjdG9yID0gZnVuY3Rpb24gKHN0bXQsIGN0eCkge1xuICAgICAgICBjdHgucHJpbnQoXCJjb25zdHJ1Y3RvcihcIik7XG4gICAgICAgIHRoaXMuX3Zpc2l0UGFyYW1zKHN0bXQuY29uc3RydWN0b3JNZXRob2QucGFyYW1zLCBjdHgpO1xuICAgICAgICBjdHgucHJpbnRsbihcIikge1wiKTtcbiAgICAgICAgY3R4LmluY0luZGVudCgpO1xuICAgICAgICB0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyhzdG10LmNvbnN0cnVjdG9yTWV0aG9kLmJvZHksIGN0eCk7XG4gICAgICAgIGN0eC5kZWNJbmRlbnQoKTtcbiAgICAgICAgY3R4LnByaW50bG4oXCJ9XCIpO1xuICAgIH07XG4gICAgX1RzRW1pdHRlclZpc2l0b3IucHJvdG90eXBlLl92aXNpdENsYXNzTWV0aG9kID0gZnVuY3Rpb24gKG1ldGhvZCwgY3R4KSB7XG4gICAgICAgIGlmIChtZXRob2QuaGFzTW9kaWZpZXIoby5TdG10TW9kaWZpZXIuUHJpdmF0ZSkpIHtcbiAgICAgICAgICAgIGN0eC5wcmludChcInByaXZhdGUgXCIpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5wcmludChtZXRob2QubmFtZSArIFwiKFwiKTtcbiAgICAgICAgdGhpcy5fdmlzaXRQYXJhbXMobWV0aG9kLnBhcmFtcywgY3R4KTtcbiAgICAgICAgY3R4LnByaW50KFwiKTpcIik7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KG1ldGhvZC50eXBlKSkge1xuICAgICAgICAgICAgbWV0aG9kLnR5cGUudmlzaXRUeXBlKHRoaXMsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdHgucHJpbnQoXCJ2b2lkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5wcmludGxuKFwiIHtcIik7XG4gICAgICAgIGN0eC5pbmNJbmRlbnQoKTtcbiAgICAgICAgdGhpcy52aXNpdEFsbFN0YXRlbWVudHMobWV0aG9kLmJvZHksIGN0eCk7XG4gICAgICAgIGN0eC5kZWNJbmRlbnQoKTtcbiAgICAgICAgY3R4LnByaW50bG4oXCJ9XCIpO1xuICAgIH07XG4gICAgX1RzRW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0RnVuY3Rpb25FeHByID0gZnVuY3Rpb24gKGFzdCwgY3R4KSB7XG4gICAgICAgIGN0eC5wcmludChcIihcIik7XG4gICAgICAgIHRoaXMuX3Zpc2l0UGFyYW1zKGFzdC5wYXJhbXMsIGN0eCk7XG4gICAgICAgIGN0eC5wcmludChcIik6XCIpO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChhc3QudHlwZSkpIHtcbiAgICAgICAgICAgIGFzdC50eXBlLnZpc2l0VHlwZSh0aGlzLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3R4LnByaW50KFwidm9pZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjdHgucHJpbnRsbihcIiA9PiB7XCIpO1xuICAgICAgICBjdHguaW5jSW5kZW50KCk7XG4gICAgICAgIHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKGFzdC5zdGF0ZW1lbnRzLCBjdHgpO1xuICAgICAgICBjdHguZGVjSW5kZW50KCk7XG4gICAgICAgIGN0eC5wcmludChcIn1cIik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgX1RzRW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGVjbGFyZUZ1bmN0aW9uU3RtdCA9IGZ1bmN0aW9uIChzdG10LCBjdHgpIHtcbiAgICAgICAgaWYgKGN0eC5pc0V4cG9ydGVkVmFyKHN0bXQubmFtZSkpIHtcbiAgICAgICAgICAgIGN0eC5wcmludChcImV4cG9ydCBcIik7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnByaW50KFwiZnVuY3Rpb24gXCIgKyBzdG10Lm5hbWUgKyBcIihcIik7XG4gICAgICAgIHRoaXMuX3Zpc2l0UGFyYW1zKHN0bXQucGFyYW1zLCBjdHgpO1xuICAgICAgICBjdHgucHJpbnQoXCIpOlwiKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoc3RtdC50eXBlKSkge1xuICAgICAgICAgICAgc3RtdC50eXBlLnZpc2l0VHlwZSh0aGlzLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3R4LnByaW50KFwidm9pZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjdHgucHJpbnRsbihcIiB7XCIpO1xuICAgICAgICBjdHguaW5jSW5kZW50KCk7XG4gICAgICAgIHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKHN0bXQuc3RhdGVtZW50cywgY3R4KTtcbiAgICAgICAgY3R4LmRlY0luZGVudCgpO1xuICAgICAgICBjdHgucHJpbnRsbihcIn1cIik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgX1RzRW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0VHJ5Q2F0Y2hTdG10ID0gZnVuY3Rpb24gKHN0bXQsIGN0eCkge1xuICAgICAgICBjdHgucHJpbnRsbihcInRyeSB7XCIpO1xuICAgICAgICBjdHguaW5jSW5kZW50KCk7XG4gICAgICAgIHRoaXMudmlzaXRBbGxTdGF0ZW1lbnRzKHN0bXQuYm9keVN0bXRzLCBjdHgpO1xuICAgICAgICBjdHguZGVjSW5kZW50KCk7XG4gICAgICAgIGN0eC5wcmludGxuKFwifSBjYXRjaCAoXCIgKyBhYnN0cmFjdF9lbWl0dGVyXzEuQ0FUQ0hfRVJST1JfVkFSLm5hbWUgKyBcIikge1wiKTtcbiAgICAgICAgY3R4LmluY0luZGVudCgpO1xuICAgICAgICB2YXIgY2F0Y2hTdG10cyA9IFtcbiAgICAgICAgICAgIGFic3RyYWN0X2VtaXR0ZXJfMS5DQVRDSF9TVEFDS19WQVIuc2V0KGFic3RyYWN0X2VtaXR0ZXJfMS5DQVRDSF9FUlJPUl9WQVIucHJvcCgnc3RhY2snKSlcbiAgICAgICAgICAgICAgICAudG9EZWNsU3RtdChudWxsLCBbby5TdG10TW9kaWZpZXIuRmluYWxdKVxuICAgICAgICBdLmNvbmNhdChzdG10LmNhdGNoU3RtdHMpO1xuICAgICAgICB0aGlzLnZpc2l0QWxsU3RhdGVtZW50cyhjYXRjaFN0bXRzLCBjdHgpO1xuICAgICAgICBjdHguZGVjSW5kZW50KCk7XG4gICAgICAgIGN0eC5wcmludGxuKFwifVwiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBfVHNFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRCdWlsdGludFR5cGUgPSBmdW5jdGlvbiAodHlwZSwgY3R4KSB7XG4gICAgICAgIHZhciB0eXBlU3RyO1xuICAgICAgICBzd2l0Y2ggKHR5cGUubmFtZSkge1xuICAgICAgICAgICAgY2FzZSBvLkJ1aWx0aW5UeXBlTmFtZS5Cb29sOlxuICAgICAgICAgICAgICAgIHR5cGVTdHIgPSAnYm9vbGVhbic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIG8uQnVpbHRpblR5cGVOYW1lLkR5bmFtaWM6XG4gICAgICAgICAgICAgICAgdHlwZVN0ciA9ICdhbnknO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBvLkJ1aWx0aW5UeXBlTmFtZS5GdW5jdGlvbjpcbiAgICAgICAgICAgICAgICB0eXBlU3RyID0gJ0Z1bmN0aW9uJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugby5CdWlsdGluVHlwZU5hbWUuTnVtYmVyOlxuICAgICAgICAgICAgICAgIHR5cGVTdHIgPSAnbnVtYmVyJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugby5CdWlsdGluVHlwZU5hbWUuSW50OlxuICAgICAgICAgICAgICAgIHR5cGVTdHIgPSAnbnVtYmVyJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugby5CdWlsdGluVHlwZU5hbWUuU3RyaW5nOlxuICAgICAgICAgICAgICAgIHR5cGVTdHIgPSAnc3RyaW5nJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiVW5zdXBwb3J0ZWQgYnVpbHRpbiB0eXBlIFwiICsgdHlwZS5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBjdHgucHJpbnQodHlwZVN0cik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgX1RzRW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0RXh0ZXJuYWxUeXBlID0gZnVuY3Rpb24gKGFzdCwgY3R4KSB7XG4gICAgICAgIHRoaXMuX3Zpc2l0SWRlbnRpZmllcihhc3QudmFsdWUsIGFzdC50eXBlUGFyYW1zLCBjdHgpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIF9Uc0VtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdEFycmF5VHlwZSA9IGZ1bmN0aW9uICh0eXBlLCBjdHgpIHtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodHlwZS5vZikpIHtcbiAgICAgICAgICAgIHR5cGUub2YudmlzaXRUeXBlKHRoaXMsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdHgucHJpbnQoXCJhbnlcIik7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnByaW50KFwiW11cIik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgX1RzRW1pdHRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0TWFwVHlwZSA9IGZ1bmN0aW9uICh0eXBlLCBjdHgpIHtcbiAgICAgICAgY3R4LnByaW50KFwie1trZXk6IHN0cmluZ106XCIpO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0eXBlLnZhbHVlVHlwZSkpIHtcbiAgICAgICAgICAgIHR5cGUudmFsdWVUeXBlLnZpc2l0VHlwZSh0aGlzLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3R4LnByaW50KFwiYW55XCIpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5wcmludChcIn1cIik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgX1RzRW1pdHRlclZpc2l0b3IucHJvdG90eXBlLmdldEJ1aWx0aW5NZXRob2ROYW1lID0gZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgICB2YXIgbmFtZTtcbiAgICAgICAgc3dpdGNoIChtZXRob2QpIHtcbiAgICAgICAgICAgIGNhc2Ugby5CdWlsdGluTWV0aG9kLkNvbmNhdEFycmF5OlxuICAgICAgICAgICAgICAgIG5hbWUgPSAnY29uY2F0JztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugby5CdWlsdGluTWV0aG9kLlN1YnNjcmliZU9ic2VydmFibGU6XG4gICAgICAgICAgICAgICAgbmFtZSA9ICdzdWJzY3JpYmUnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBvLkJ1aWx0aW5NZXRob2QuYmluZDpcbiAgICAgICAgICAgICAgICBuYW1lID0gJ2JpbmQnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJVbmtub3duIGJ1aWx0aW4gbWV0aG9kOiBcIiArIG1ldGhvZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfTtcbiAgICBfVHNFbWl0dGVyVmlzaXRvci5wcm90b3R5cGUuX3Zpc2l0UGFyYW1zID0gZnVuY3Rpb24gKHBhcmFtcywgY3R4KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMudmlzaXRBbGxPYmplY3RzKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgICAgICAgY3R4LnByaW50KHBhcmFtLm5hbWUpO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocGFyYW0udHlwZSkpIHtcbiAgICAgICAgICAgICAgICBjdHgucHJpbnQoXCI6XCIpO1xuICAgICAgICAgICAgICAgIHBhcmFtLnR5cGUudmlzaXRUeXBlKF90aGlzLCBjdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBwYXJhbXMsIGN0eCwgJywnKTtcbiAgICB9O1xuICAgIF9Uc0VtaXR0ZXJWaXNpdG9yLnByb3RvdHlwZS5fdmlzaXRJZGVudGlmaWVyID0gZnVuY3Rpb24gKHZhbHVlLCB0eXBlUGFyYW1zLCBjdHgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHZhbHVlLm5hbWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJJbnRlcm5hbCBlcnJvcjogdW5rbm93biBpZGVudGlmaWVyIFwiICsgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHZhbHVlLm1vZHVsZVVybCkgJiYgdmFsdWUubW9kdWxlVXJsICE9IHRoaXMuX21vZHVsZVVybCkge1xuICAgICAgICAgICAgdmFyIHByZWZpeCA9IHRoaXMuaW1wb3J0c1dpdGhQcmVmaXhlcy5nZXQodmFsdWUubW9kdWxlVXJsKTtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhwcmVmaXgpKSB7XG4gICAgICAgICAgICAgICAgcHJlZml4ID0gXCJpbXBvcnRcIiArIHRoaXMuaW1wb3J0c1dpdGhQcmVmaXhlcy5zaXplO1xuICAgICAgICAgICAgICAgIHRoaXMuaW1wb3J0c1dpdGhQcmVmaXhlcy5zZXQodmFsdWUubW9kdWxlVXJsLCBwcmVmaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LnByaW50KHByZWZpeCArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBjdHgucHJpbnQodmFsdWUubmFtZSk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHR5cGVQYXJhbXMpICYmIHR5cGVQYXJhbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY3R4LnByaW50KFwiPFwiKTtcbiAgICAgICAgICAgIHRoaXMudmlzaXRBbGxPYmplY3RzKGZ1bmN0aW9uICh0eXBlKSB7IHJldHVybiB0eXBlLnZpc2l0VHlwZShfdGhpcywgY3R4KTsgfSwgdHlwZVBhcmFtcywgY3R4LCAnLCcpO1xuICAgICAgICAgICAgY3R4LnByaW50KFwiPlwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIF9Uc0VtaXR0ZXJWaXNpdG9yO1xufShhYnN0cmFjdF9lbWl0dGVyXzEuQWJzdHJhY3RFbWl0dGVyVmlzaXRvcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHNfZW1pdHRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBQYXJzZUxvY2F0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQYXJzZUxvY2F0aW9uKGZpbGUsIG9mZnNldCwgbGluZSwgY29sKSB7XG4gICAgICAgIHRoaXMuZmlsZSA9IGZpbGU7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICB0aGlzLmxpbmUgPSBsaW5lO1xuICAgICAgICB0aGlzLmNvbCA9IGNvbDtcbiAgICB9XG4gICAgUGFyc2VMb2NhdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmZpbGUudXJsICsgXCJAXCIgKyB0aGlzLmxpbmUgKyBcIjpcIiArIHRoaXMuY29sOyB9O1xuICAgIHJldHVybiBQYXJzZUxvY2F0aW9uO1xufSgpKTtcbmV4cG9ydHMuUGFyc2VMb2NhdGlvbiA9IFBhcnNlTG9jYXRpb247XG52YXIgUGFyc2VTb3VyY2VGaWxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQYXJzZVNvdXJjZUZpbGUoY29udGVudCwgdXJsKSB7XG4gICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgIH1cbiAgICByZXR1cm4gUGFyc2VTb3VyY2VGaWxlO1xufSgpKTtcbmV4cG9ydHMuUGFyc2VTb3VyY2VGaWxlID0gUGFyc2VTb3VyY2VGaWxlO1xudmFyIFBhcnNlU291cmNlU3BhbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGFyc2VTb3VyY2VTcGFuKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgICAgICB0aGlzLmVuZCA9IGVuZDtcbiAgICB9XG4gICAgUGFyc2VTb3VyY2VTcGFuLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQuZmlsZS5jb250ZW50LnN1YnN0cmluZyh0aGlzLnN0YXJ0Lm9mZnNldCwgdGhpcy5lbmQub2Zmc2V0KTtcbiAgICB9O1xuICAgIHJldHVybiBQYXJzZVNvdXJjZVNwYW47XG59KCkpO1xuZXhwb3J0cy5QYXJzZVNvdXJjZVNwYW4gPSBQYXJzZVNvdXJjZVNwYW47XG4oZnVuY3Rpb24gKFBhcnNlRXJyb3JMZXZlbCkge1xuICAgIFBhcnNlRXJyb3JMZXZlbFtQYXJzZUVycm9yTGV2ZWxbXCJXQVJOSU5HXCJdID0gMF0gPSBcIldBUk5JTkdcIjtcbiAgICBQYXJzZUVycm9yTGV2ZWxbUGFyc2VFcnJvckxldmVsW1wiRkFUQUxcIl0gPSAxXSA9IFwiRkFUQUxcIjtcbn0pKGV4cG9ydHMuUGFyc2VFcnJvckxldmVsIHx8IChleHBvcnRzLlBhcnNlRXJyb3JMZXZlbCA9IHt9KSk7XG52YXIgUGFyc2VFcnJvckxldmVsID0gZXhwb3J0cy5QYXJzZUVycm9yTGV2ZWw7XG52YXIgUGFyc2VFcnJvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGFyc2VFcnJvcihzcGFuLCBtc2csIGxldmVsKSB7XG4gICAgICAgIGlmIChsZXZlbCA9PT0gdm9pZCAwKSB7IGxldmVsID0gUGFyc2VFcnJvckxldmVsLkZBVEFMOyB9XG4gICAgICAgIHRoaXMuc3BhbiA9IHNwYW47XG4gICAgICAgIHRoaXMubXNnID0gbXNnO1xuICAgICAgICB0aGlzLmxldmVsID0gbGV2ZWw7XG4gICAgfVxuICAgIFBhcnNlRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zcGFuLnN0YXJ0LmZpbGUuY29udGVudDtcbiAgICAgICAgdmFyIGN0eFN0YXJ0ID0gdGhpcy5zcGFuLnN0YXJ0Lm9mZnNldDtcbiAgICAgICAgaWYgKGN0eFN0YXJ0ID4gc291cmNlLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGN0eFN0YXJ0ID0gc291cmNlLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN0eEVuZCA9IGN0eFN0YXJ0O1xuICAgICAgICB2YXIgY3R4TGVuID0gMDtcbiAgICAgICAgdmFyIGN0eExpbmVzID0gMDtcbiAgICAgICAgd2hpbGUgKGN0eExlbiA8IDEwMCAmJiBjdHhTdGFydCA+IDApIHtcbiAgICAgICAgICAgIGN0eFN0YXJ0LS07XG4gICAgICAgICAgICBjdHhMZW4rKztcbiAgICAgICAgICAgIGlmIChzb3VyY2VbY3R4U3RhcnRdID09IFwiXFxuXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoKytjdHhMaW5lcyA9PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjdHhMZW4gPSAwO1xuICAgICAgICBjdHhMaW5lcyA9IDA7XG4gICAgICAgIHdoaWxlIChjdHhMZW4gPCAxMDAgJiYgY3R4RW5kIDwgc291cmNlLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGN0eEVuZCsrO1xuICAgICAgICAgICAgY3R4TGVuKys7XG4gICAgICAgICAgICBpZiAoc291cmNlW2N0eEVuZF0gPT0gXCJcXG5cIikge1xuICAgICAgICAgICAgICAgIGlmICgrK2N0eExpbmVzID09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBjb250ZXh0ID0gc291cmNlLnN1YnN0cmluZyhjdHhTdGFydCwgdGhpcy5zcGFuLnN0YXJ0Lm9mZnNldCkgKyAnW0VSUk9SIC0+XScgK1xuICAgICAgICAgICAgc291cmNlLnN1YnN0cmluZyh0aGlzLnNwYW4uc3RhcnQub2Zmc2V0LCBjdHhFbmQgKyAxKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubXNnICsgXCIgKFxcXCJcIiArIGNvbnRleHQgKyBcIlxcXCIpOiBcIiArIHRoaXMuc3Bhbi5zdGFydDtcbiAgICB9O1xuICAgIHJldHVybiBQYXJzZUVycm9yO1xufSgpKTtcbmV4cG9ydHMuUGFyc2VFcnJvciA9IFBhcnNlRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZV91dGlsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBjb3JlX3ByaXZhdGVfMSA9IHJlcXVpcmUoJy4uL2NvcmVfcHJpdmF0ZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvZXhjZXB0aW9ucycpO1xuZnVuY3Rpb24gX2lzUGlwZU1ldGFkYXRhKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZSBpbnN0YW5jZW9mIGNvcmVfMS5QaXBlTWV0YWRhdGE7XG59XG52YXIgUGlwZVJlc29sdmVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQaXBlUmVzb2x2ZXIoX3JlZmxlY3Rvcikge1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChfcmVmbGVjdG9yKSkge1xuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdG9yID0gX3JlZmxlY3RvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RvciA9IGNvcmVfMS5yZWZsZWN0b3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHtAbGluayBQaXBlTWV0YWRhdGF9IGZvciBhIGdpdmVuIGBUeXBlYC5cbiAgICAgKi9cbiAgICBQaXBlUmVzb2x2ZXIucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICB2YXIgbWV0YXMgPSB0aGlzLl9yZWZsZWN0b3IuYW5ub3RhdGlvbnMoY29yZV8xLnJlc29sdmVGb3J3YXJkUmVmKHR5cGUpKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQobWV0YXMpKSB7XG4gICAgICAgICAgICB2YXIgYW5ub3RhdGlvbiA9IG1ldGFzLmZpbmQoX2lzUGlwZU1ldGFkYXRhKTtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGFubm90YXRpb24pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFubm90YXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiTm8gUGlwZSBkZWNvcmF0b3IgZm91bmQgb24gXCIgKyBsYW5nXzEuc3RyaW5naWZ5KHR5cGUpKTtcbiAgICB9O1xuICAgIFBpcGVSZXNvbHZlci5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICBQaXBlUmVzb2x2ZXIuY3RvclBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV9wcml2YXRlXzEuUmVmbGVjdG9yUmVhZGVyLCB9LFxuICAgIF07XG4gICAgcmV0dXJuIFBpcGVSZXNvbHZlcjtcbn0oKSk7XG5leHBvcnRzLlBpcGVSZXNvbHZlciA9IFBpcGVSZXNvbHZlcjtcbmV4cG9ydHMuQ09ERUdFTl9QSVBFX1JFU09MVkVSID0gbmV3IFBpcGVSZXNvbHZlcihjb3JlXzEucmVmbGVjdG9yKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpcGVfcmVzb2x2ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciB0ZW1wbGF0ZV9hc3RfMSA9IHJlcXVpcmUoJy4vdGVtcGxhdGVfYXN0Jyk7XG52YXIgY29tcGlsZV9tZXRhZGF0YV8xID0gcmVxdWlyZSgnLi9jb21waWxlX21ldGFkYXRhJyk7XG52YXIgaWRlbnRpZmllcnNfMSA9IHJlcXVpcmUoJy4vaWRlbnRpZmllcnMnKTtcbnZhciBwYXJzZV91dGlsXzEgPSByZXF1aXJlKCcuL3BhcnNlX3V0aWwnKTtcbnZhciBQcm92aWRlckVycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUHJvdmlkZXJFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQcm92aWRlckVycm9yKG1lc3NhZ2UsIHNwYW4pIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgc3BhbiwgbWVzc2FnZSk7XG4gICAgfVxuICAgIHJldHVybiBQcm92aWRlckVycm9yO1xufShwYXJzZV91dGlsXzEuUGFyc2VFcnJvcikpO1xuZXhwb3J0cy5Qcm92aWRlckVycm9yID0gUHJvdmlkZXJFcnJvcjtcbnZhciBQcm92aWRlclZpZXdDb250ZXh0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQcm92aWRlclZpZXdDb250ZXh0KGNvbXBvbmVudCwgc291cmNlU3Bhbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICAgICAgdGhpcy5zb3VyY2VTcGFuID0gc291cmNlU3BhbjtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBbXTtcbiAgICAgICAgdGhpcy52aWV3UXVlcmllcyA9IF9nZXRWaWV3UXVlcmllcyhjb21wb25lbnQpO1xuICAgICAgICB0aGlzLnZpZXdQcm92aWRlcnMgPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVUb2tlbk1hcCgpO1xuICAgICAgICBfbm9ybWFsaXplUHJvdmlkZXJzKGNvbXBvbmVudC52aWV3UHJvdmlkZXJzLCBzb3VyY2VTcGFuLCB0aGlzLmVycm9ycylcbiAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChwcm92aWRlcikge1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKF90aGlzLnZpZXdQcm92aWRlcnMuZ2V0KHByb3ZpZGVyLnRva2VuKSkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy52aWV3UHJvdmlkZXJzLmFkZChwcm92aWRlci50b2tlbiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gUHJvdmlkZXJWaWV3Q29udGV4dDtcbn0oKSk7XG5leHBvcnRzLlByb3ZpZGVyVmlld0NvbnRleHQgPSBQcm92aWRlclZpZXdDb250ZXh0O1xudmFyIFByb3ZpZGVyRWxlbWVudENvbnRleHQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFByb3ZpZGVyRWxlbWVudENvbnRleHQoX3ZpZXdDb250ZXh0LCBfcGFyZW50LCBfaXNWaWV3Um9vdCwgX2RpcmVjdGl2ZUFzdHMsIGF0dHJzLCByZWZzLCBfc291cmNlU3Bhbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl92aWV3Q29udGV4dCA9IF92aWV3Q29udGV4dDtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gX3BhcmVudDtcbiAgICAgICAgdGhpcy5faXNWaWV3Um9vdCA9IF9pc1ZpZXdSb290O1xuICAgICAgICB0aGlzLl9kaXJlY3RpdmVBc3RzID0gX2RpcmVjdGl2ZUFzdHM7XG4gICAgICAgIHRoaXMuX3NvdXJjZVNwYW4gPSBfc291cmNlU3BhbjtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtZWRQcm92aWRlcnMgPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVUb2tlbk1hcCgpO1xuICAgICAgICB0aGlzLl9zZWVuUHJvdmlkZXJzID0gbmV3IGNvbXBpbGVfbWV0YWRhdGFfMS5Db21waWxlVG9rZW5NYXAoKTtcbiAgICAgICAgdGhpcy5faGFzVmlld0NvbnRhaW5lciA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9hdHRycyA9IHt9O1xuICAgICAgICBhdHRycy5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyQXN0KSB7IHJldHVybiBfdGhpcy5fYXR0cnNbYXR0ckFzdC5uYW1lXSA9IGF0dHJBc3QudmFsdWU7IH0pO1xuICAgICAgICB2YXIgZGlyZWN0aXZlc01ldGEgPSBfZGlyZWN0aXZlQXN0cy5tYXAoZnVuY3Rpb24gKGRpcmVjdGl2ZUFzdCkgeyByZXR1cm4gZGlyZWN0aXZlQXN0LmRpcmVjdGl2ZTsgfSk7XG4gICAgICAgIHRoaXMuX2FsbFByb3ZpZGVycyA9XG4gICAgICAgICAgICBfcmVzb2x2ZVByb3ZpZGVyc0Zyb21EaXJlY3RpdmVzKGRpcmVjdGl2ZXNNZXRhLCBfc291cmNlU3BhbiwgX3ZpZXdDb250ZXh0LmVycm9ycyk7XG4gICAgICAgIHRoaXMuX2NvbnRlbnRRdWVyaWVzID0gX2dldENvbnRlbnRRdWVyaWVzKGRpcmVjdGl2ZXNNZXRhKTtcbiAgICAgICAgdmFyIHF1ZXJpZWRUb2tlbnMgPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVUb2tlbk1hcCgpO1xuICAgICAgICB0aGlzLl9hbGxQcm92aWRlcnMudmFsdWVzKCkuZm9yRWFjaChmdW5jdGlvbiAocHJvdmlkZXIpIHsgX3RoaXMuX2FkZFF1ZXJ5UmVhZHNUbyhwcm92aWRlci50b2tlbiwgcXVlcmllZFRva2Vucyk7IH0pO1xuICAgICAgICByZWZzLmZvckVhY2goZnVuY3Rpb24gKHJlZkFzdCkge1xuICAgICAgICAgICAgX3RoaXMuX2FkZFF1ZXJ5UmVhZHNUbyhuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVUb2tlbk1ldGFkYXRhKHsgdmFsdWU6IHJlZkFzdC5uYW1lIH0pLCBxdWVyaWVkVG9rZW5zKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHF1ZXJpZWRUb2tlbnMuZ2V0KGlkZW50aWZpZXJzXzEuaWRlbnRpZmllclRva2VuKGlkZW50aWZpZXJzXzEuSWRlbnRpZmllcnMuVmlld0NvbnRhaW5lclJlZikpKSkge1xuICAgICAgICAgICAgdGhpcy5faGFzVmlld0NvbnRhaW5lciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3JlYXRlIHRoZSBwcm92aWRlcnMgdGhhdCB3ZSBrbm93IGFyZSBlYWdlciBmaXJzdFxuICAgICAgICB0aGlzLl9hbGxQcm92aWRlcnMudmFsdWVzKCkuZm9yRWFjaChmdW5jdGlvbiAocHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHZhciBlYWdlciA9IHByb3ZpZGVyLmVhZ2VyIHx8IGxhbmdfMS5pc1ByZXNlbnQocXVlcmllZFRva2Vucy5nZXQocHJvdmlkZXIudG9rZW4pKTtcbiAgICAgICAgICAgIGlmIChlYWdlcikge1xuICAgICAgICAgICAgICAgIF90aGlzLl9nZXRPckNyZWF0ZUxvY2FsUHJvdmlkZXIocHJvdmlkZXIucHJvdmlkZXJUeXBlLCBwcm92aWRlci50b2tlbiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBQcm92aWRlckVsZW1lbnRDb250ZXh0LnByb3RvdHlwZS5hZnRlckVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIGNvbGxlY3QgbGF6eSBwcm92aWRlcnNcbiAgICAgICAgdGhpcy5fYWxsUHJvdmlkZXJzLnZhbHVlcygpLmZvckVhY2goZnVuY3Rpb24gKHByb3ZpZGVyKSB7XG4gICAgICAgICAgICBfdGhpcy5fZ2V0T3JDcmVhdGVMb2NhbFByb3ZpZGVyKHByb3ZpZGVyLnByb3ZpZGVyVHlwZSwgcHJvdmlkZXIudG9rZW4sIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJvdmlkZXJFbGVtZW50Q29udGV4dC5wcm90b3R5cGUsIFwidHJhbnNmb3JtUHJvdmlkZXJzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl90cmFuc2Zvcm1lZFByb3ZpZGVycy52YWx1ZXMoKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByb3ZpZGVyRWxlbWVudENvbnRleHQucHJvdG90eXBlLCBcInRyYW5zZm9ybWVkRGlyZWN0aXZlQXN0c1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNvcnRlZFByb3ZpZGVyVHlwZXMgPSB0aGlzLl90cmFuc2Zvcm1lZFByb3ZpZGVycy52YWx1ZXMoKS5tYXAoZnVuY3Rpb24gKHByb3ZpZGVyKSB7IHJldHVybiBwcm92aWRlci50b2tlbi5pZGVudGlmaWVyOyB9KTtcbiAgICAgICAgICAgIHZhciBzb3J0ZWREaXJlY3RpdmVzID0gY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmNsb25lKHRoaXMuX2RpcmVjdGl2ZUFzdHMpO1xuICAgICAgICAgICAgY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLnNvcnQoc29ydGVkRGlyZWN0aXZlcywgZnVuY3Rpb24gKGRpcjEsIGRpcjIpIHsgcmV0dXJuIHNvcnRlZFByb3ZpZGVyVHlwZXMuaW5kZXhPZihkaXIxLmRpcmVjdGl2ZS50eXBlKSAtXG4gICAgICAgICAgICAgICAgc29ydGVkUHJvdmlkZXJUeXBlcy5pbmRleE9mKGRpcjIuZGlyZWN0aXZlLnR5cGUpOyB9KTtcbiAgICAgICAgICAgIHJldHVybiBzb3J0ZWREaXJlY3RpdmVzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUHJvdmlkZXJFbGVtZW50Q29udGV4dC5wcm90b3R5cGUsIFwidHJhbnNmb3JtZWRIYXNWaWV3Q29udGFpbmVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9oYXNWaWV3Q29udGFpbmVyOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBQcm92aWRlckVsZW1lbnRDb250ZXh0LnByb3RvdHlwZS5fYWRkUXVlcnlSZWFkc1RvID0gZnVuY3Rpb24gKHRva2VuLCBxdWVyeVJlYWRUb2tlbnMpIHtcbiAgICAgICAgdGhpcy5fZ2V0UXVlcmllc0Zvcih0b2tlbikuZm9yRWFjaChmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgICAgIHZhciBxdWVyeVJlYWRUb2tlbiA9IGxhbmdfMS5pc1ByZXNlbnQocXVlcnkucmVhZCkgPyBxdWVyeS5yZWFkIDogdG9rZW47XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsocXVlcnlSZWFkVG9rZW5zLmdldChxdWVyeVJlYWRUb2tlbikpKSB7XG4gICAgICAgICAgICAgICAgcXVlcnlSZWFkVG9rZW5zLmFkZChxdWVyeVJlYWRUb2tlbiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUHJvdmlkZXJFbGVtZW50Q29udGV4dC5wcm90b3R5cGUuX2dldFF1ZXJpZXNGb3IgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICB2YXIgY3VycmVudEVsID0gdGhpcztcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gMDtcbiAgICAgICAgdmFyIHF1ZXJpZXM7XG4gICAgICAgIHdoaWxlIChjdXJyZW50RWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJpZXMgPSBjdXJyZW50RWwuX2NvbnRlbnRRdWVyaWVzLmdldCh0b2tlbik7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChxdWVyaWVzKSkge1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5hZGRBbGwocmVzdWx0LCBxdWVyaWVzLmZpbHRlcihmdW5jdGlvbiAocXVlcnkpIHsgcmV0dXJuIHF1ZXJ5LmRlc2NlbmRhbnRzIHx8IGRpc3RhbmNlIDw9IDE7IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdXJyZW50RWwuX2RpcmVjdGl2ZUFzdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50RWwgPSBjdXJyZW50RWwuX3BhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBxdWVyaWVzID0gdGhpcy5fdmlld0NvbnRleHQudmlld1F1ZXJpZXMuZ2V0KHRva2VuKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocXVlcmllcykpIHtcbiAgICAgICAgICAgIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5hZGRBbGwocmVzdWx0LCBxdWVyaWVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgUHJvdmlkZXJFbGVtZW50Q29udGV4dC5wcm90b3R5cGUuX2dldE9yQ3JlYXRlTG9jYWxQcm92aWRlciA9IGZ1bmN0aW9uIChyZXF1ZXN0aW5nUHJvdmlkZXJUeXBlLCB0b2tlbiwgZWFnZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHJlc29sdmVkUHJvdmlkZXIgPSB0aGlzLl9hbGxQcm92aWRlcnMuZ2V0KHRva2VuKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHJlc29sdmVkUHJvdmlkZXIpIHx8XG4gICAgICAgICAgICAoKHJlcXVlc3RpbmdQcm92aWRlclR5cGUgPT09IHRlbXBsYXRlX2FzdF8xLlByb3ZpZGVyQXN0VHlwZS5EaXJlY3RpdmUgfHxcbiAgICAgICAgICAgICAgICByZXF1ZXN0aW5nUHJvdmlkZXJUeXBlID09PSB0ZW1wbGF0ZV9hc3RfMS5Qcm92aWRlckFzdFR5cGUuUHVibGljU2VydmljZSkgJiZcbiAgICAgICAgICAgICAgICByZXNvbHZlZFByb3ZpZGVyLnByb3ZpZGVyVHlwZSA9PT0gdGVtcGxhdGVfYXN0XzEuUHJvdmlkZXJBc3RUeXBlLlByaXZhdGVTZXJ2aWNlKSB8fFxuICAgICAgICAgICAgKChyZXF1ZXN0aW5nUHJvdmlkZXJUeXBlID09PSB0ZW1wbGF0ZV9hc3RfMS5Qcm92aWRlckFzdFR5cGUuUHJpdmF0ZVNlcnZpY2UgfHxcbiAgICAgICAgICAgICAgICByZXF1ZXN0aW5nUHJvdmlkZXJUeXBlID09PSB0ZW1wbGF0ZV9hc3RfMS5Qcm92aWRlckFzdFR5cGUuUHVibGljU2VydmljZSkgJiZcbiAgICAgICAgICAgICAgICByZXNvbHZlZFByb3ZpZGVyLnByb3ZpZGVyVHlwZSA9PT0gdGVtcGxhdGVfYXN0XzEuUHJvdmlkZXJBc3RUeXBlLkJ1aWx0aW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHJhbnNmb3JtZWRQcm92aWRlckFzdCA9IHRoaXMuX3RyYW5zZm9ybWVkUHJvdmlkZXJzLmdldCh0b2tlbik7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHRyYW5zZm9ybWVkUHJvdmlkZXJBc3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtZWRQcm92aWRlckFzdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLl9zZWVuUHJvdmlkZXJzLmdldCh0b2tlbikpKSB7XG4gICAgICAgICAgICB0aGlzLl92aWV3Q29udGV4dC5lcnJvcnMucHVzaChuZXcgUHJvdmlkZXJFcnJvcihcIkNhbm5vdCBpbnN0YW50aWF0ZSBjeWNsaWMgZGVwZW5kZW5jeSEgXCIgKyB0b2tlbi5uYW1lLCB0aGlzLl9zb3VyY2VTcGFuKSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZWVuUHJvdmlkZXJzLmFkZCh0b2tlbiwgdHJ1ZSk7XG4gICAgICAgIHZhciB0cmFuc2Zvcm1lZFByb3ZpZGVycyA9IHJlc29sdmVkUHJvdmlkZXIucHJvdmlkZXJzLm1hcChmdW5jdGlvbiAocHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1lZFVzZVZhbHVlID0gcHJvdmlkZXIudXNlVmFsdWU7XG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtZWRVc2VFeGlzdGluZyA9IHByb3ZpZGVyLnVzZUV4aXN0aW5nO1xuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybWVkRGVwcztcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHByb3ZpZGVyLnVzZUV4aXN0aW5nKSkge1xuICAgICAgICAgICAgICAgIHZhciBleGlzdGluZ0RpRGVwID0gX3RoaXMuX2dldERlcGVuZGVuY3kocmVzb2x2ZWRQcm92aWRlci5wcm92aWRlclR5cGUsIG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZURpRGVwZW5kZW5jeU1ldGFkYXRhKHsgdG9rZW46IHByb3ZpZGVyLnVzZUV4aXN0aW5nIH0pLCBlYWdlcik7XG4gICAgICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoZXhpc3RpbmdEaURlcC50b2tlbikpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtZWRVc2VFeGlzdGluZyA9IGV4aXN0aW5nRGlEZXAudG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1lZFVzZUV4aXN0aW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtZWRVc2VWYWx1ZSA9IGV4aXN0aW5nRGlEZXAudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFuZ18xLmlzUHJlc2VudChwcm92aWRlci51c2VGYWN0b3J5KSkge1xuICAgICAgICAgICAgICAgIHZhciBkZXBzID0gbGFuZ18xLmlzUHJlc2VudChwcm92aWRlci5kZXBzKSA/IHByb3ZpZGVyLmRlcHMgOiBwcm92aWRlci51c2VGYWN0b3J5LmRpRGVwcztcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1lZERlcHMgPVxuICAgICAgICAgICAgICAgICAgICBkZXBzLm1hcChmdW5jdGlvbiAoZGVwKSB7IHJldHVybiBfdGhpcy5fZ2V0RGVwZW5kZW5jeShyZXNvbHZlZFByb3ZpZGVyLnByb3ZpZGVyVHlwZSwgZGVwLCBlYWdlcik7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFuZ18xLmlzUHJlc2VudChwcm92aWRlci51c2VDbGFzcykpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVwcyA9IGxhbmdfMS5pc1ByZXNlbnQocHJvdmlkZXIuZGVwcykgPyBwcm92aWRlci5kZXBzIDogcHJvdmlkZXIudXNlQ2xhc3MuZGlEZXBzO1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybWVkRGVwcyA9XG4gICAgICAgICAgICAgICAgICAgIGRlcHMubWFwKGZ1bmN0aW9uIChkZXApIHsgcmV0dXJuIF90aGlzLl9nZXREZXBlbmRlbmN5KHJlc29sdmVkUHJvdmlkZXIucHJvdmlkZXJUeXBlLCBkZXAsIGVhZ2VyKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX3RyYW5zZm9ybVByb3ZpZGVyKHByb3ZpZGVyLCB7XG4gICAgICAgICAgICAgICAgdXNlRXhpc3Rpbmc6IHRyYW5zZm9ybWVkVXNlRXhpc3RpbmcsXG4gICAgICAgICAgICAgICAgdXNlVmFsdWU6IHRyYW5zZm9ybWVkVXNlVmFsdWUsXG4gICAgICAgICAgICAgICAgZGVwczogdHJhbnNmb3JtZWREZXBzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRyYW5zZm9ybWVkUHJvdmlkZXJBc3QgPVxuICAgICAgICAgICAgX3RyYW5zZm9ybVByb3ZpZGVyQXN0KHJlc29sdmVkUHJvdmlkZXIsIHsgZWFnZXI6IGVhZ2VyLCBwcm92aWRlcnM6IHRyYW5zZm9ybWVkUHJvdmlkZXJzIH0pO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1lZFByb3ZpZGVycy5hZGQodG9rZW4sIHRyYW5zZm9ybWVkUHJvdmlkZXJBc3QpO1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtZWRQcm92aWRlckFzdDtcbiAgICB9O1xuICAgIFByb3ZpZGVyRWxlbWVudENvbnRleHQucHJvdG90eXBlLl9nZXRMb2NhbERlcGVuZGVuY3kgPSBmdW5jdGlvbiAocmVxdWVzdGluZ1Byb3ZpZGVyVHlwZSwgZGVwLCBlYWdlcikge1xuICAgICAgICBpZiAoZWFnZXIgPT09IHZvaWQgMCkgeyBlYWdlciA9IG51bGw7IH1cbiAgICAgICAgaWYgKGRlcC5pc0F0dHJpYnV0ZSkge1xuICAgICAgICAgICAgdmFyIGF0dHJWYWx1ZSA9IHRoaXMuX2F0dHJzW2RlcC50b2tlbi52YWx1ZV07XG4gICAgICAgICAgICByZXR1cm4gbmV3IGNvbXBpbGVfbWV0YWRhdGFfMS5Db21waWxlRGlEZXBlbmRlbmN5TWV0YWRhdGEoeyBpc1ZhbHVlOiB0cnVlLCB2YWx1ZTogbGFuZ18xLm5vcm1hbGl6ZUJsYW5rKGF0dHJWYWx1ZSkgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoZGVwLnF1ZXJ5KSB8fCBsYW5nXzEuaXNQcmVzZW50KGRlcC52aWV3UXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGRlcC50b2tlbikpIHtcbiAgICAgICAgICAgIC8vIGFjY2VzcyBidWlsdGludHNcbiAgICAgICAgICAgIGlmICgocmVxdWVzdGluZ1Byb3ZpZGVyVHlwZSA9PT0gdGVtcGxhdGVfYXN0XzEuUHJvdmlkZXJBc3RUeXBlLkRpcmVjdGl2ZSB8fFxuICAgICAgICAgICAgICAgIHJlcXVlc3RpbmdQcm92aWRlclR5cGUgPT09IHRlbXBsYXRlX2FzdF8xLlByb3ZpZGVyQXN0VHlwZS5Db21wb25lbnQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlcC50b2tlbi5lcXVhbHNUbyhpZGVudGlmaWVyc18xLmlkZW50aWZpZXJUb2tlbihpZGVudGlmaWVyc18xLklkZW50aWZpZXJzLlJlbmRlcmVyKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgZGVwLnRva2VuLmVxdWFsc1RvKGlkZW50aWZpZXJzXzEuaWRlbnRpZmllclRva2VuKGlkZW50aWZpZXJzXzEuSWRlbnRpZmllcnMuRWxlbWVudFJlZikpIHx8XG4gICAgICAgICAgICAgICAgICAgIGRlcC50b2tlbi5lcXVhbHNUbyhpZGVudGlmaWVyc18xLmlkZW50aWZpZXJUb2tlbihpZGVudGlmaWVyc18xLklkZW50aWZpZXJzLkNoYW5nZURldGVjdG9yUmVmKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgZGVwLnRva2VuLmVxdWFsc1RvKGlkZW50aWZpZXJzXzEuaWRlbnRpZmllclRva2VuKGlkZW50aWZpZXJzXzEuSWRlbnRpZmllcnMuVGVtcGxhdGVSZWYpKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGVwLnRva2VuLmVxdWFsc1RvKGlkZW50aWZpZXJzXzEuaWRlbnRpZmllclRva2VuKGlkZW50aWZpZXJzXzEuSWRlbnRpZmllcnMuVmlld0NvbnRhaW5lclJlZikpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhc1ZpZXdDb250YWluZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFjY2VzcyB0aGUgaW5qZWN0b3JcbiAgICAgICAgICAgIGlmIChkZXAudG9rZW4uZXF1YWxzVG8oaWRlbnRpZmllcnNfMS5pZGVudGlmaWVyVG9rZW4oaWRlbnRpZmllcnNfMS5JZGVudGlmaWVycy5JbmplY3RvcikpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFjY2VzcyBwcm92aWRlcnNcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHRoaXMuX2dldE9yQ3JlYXRlTG9jYWxQcm92aWRlcihyZXF1ZXN0aW5nUHJvdmlkZXJUeXBlLCBkZXAudG9rZW4sIGVhZ2VyKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgUHJvdmlkZXJFbGVtZW50Q29udGV4dC5wcm90b3R5cGUuX2dldERlcGVuZGVuY3kgPSBmdW5jdGlvbiAocmVxdWVzdGluZ1Byb3ZpZGVyVHlwZSwgZGVwLCBlYWdlcikge1xuICAgICAgICBpZiAoZWFnZXIgPT09IHZvaWQgMCkgeyBlYWdlciA9IG51bGw7IH1cbiAgICAgICAgdmFyIGN1cnJFbGVtZW50ID0gdGhpcztcbiAgICAgICAgdmFyIGN1cnJFYWdlciA9IGVhZ2VyO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgaWYgKCFkZXAuaXNTa2lwU2VsZikge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5fZ2V0TG9jYWxEZXBlbmRlbmN5KHJlcXVlc3RpbmdQcm92aWRlclR5cGUsIGRlcCwgZWFnZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZXAuaXNTZWxmKSB7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsocmVzdWx0KSAmJiBkZXAuaXNPcHRpb25hbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZURpRGVwZW5kZW5jeU1ldGFkYXRhKHsgaXNWYWx1ZTogdHJ1ZSwgdmFsdWU6IG51bGwgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBjaGVjayBwYXJlbnQgZWxlbWVudHNcbiAgICAgICAgICAgIHdoaWxlIChsYW5nXzEuaXNCbGFuayhyZXN1bHQpICYmIGxhbmdfMS5pc1ByZXNlbnQoY3VyckVsZW1lbnQuX3BhcmVudCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJldkVsZW1lbnQgPSBjdXJyRWxlbWVudDtcbiAgICAgICAgICAgICAgICBjdXJyRWxlbWVudCA9IGN1cnJFbGVtZW50Ll9wYXJlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZFbGVtZW50Ll9pc1ZpZXdSb290KSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJFYWdlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHQgPSBjdXJyRWxlbWVudC5fZ2V0TG9jYWxEZXBlbmRlbmN5KHRlbXBsYXRlX2FzdF8xLlByb3ZpZGVyQXN0VHlwZS5QdWJsaWNTZXJ2aWNlLCBkZXAsIGN1cnJFYWdlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjaGVjayBASG9zdCByZXN0cmljdGlvblxuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWRlcC5pc0hvc3QgfHwgdGhpcy5fdmlld0NvbnRleHQuY29tcG9uZW50LnR5cGUuaXNIb3N0IHx8XG4gICAgICAgICAgICAgICAgICAgIGlkZW50aWZpZXJzXzEuaWRlbnRpZmllclRva2VuKHRoaXMuX3ZpZXdDb250ZXh0LmNvbXBvbmVudC50eXBlKS5lcXVhbHNUbyhkZXAudG9rZW4pIHx8XG4gICAgICAgICAgICAgICAgICAgIGxhbmdfMS5pc1ByZXNlbnQodGhpcy5fdmlld0NvbnRleHQudmlld1Byb3ZpZGVycy5nZXQoZGVwLnRva2VuKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZGVwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZGVwLmlzT3B0aW9uYWwgP1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IGNvbXBpbGVfbWV0YWRhdGFfMS5Db21waWxlRGlEZXBlbmRlbmN5TWV0YWRhdGEoeyBpc1ZhbHVlOiB0cnVlLCB2YWx1ZTogbnVsbCB9KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsocmVzdWx0KSkge1xuICAgICAgICAgICAgdGhpcy5fdmlld0NvbnRleHQuZXJyb3JzLnB1c2gobmV3IFByb3ZpZGVyRXJyb3IoXCJObyBwcm92aWRlciBmb3IgXCIgKyBkZXAudG9rZW4ubmFtZSwgdGhpcy5fc291cmNlU3BhbikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICByZXR1cm4gUHJvdmlkZXJFbGVtZW50Q29udGV4dDtcbn0oKSk7XG5leHBvcnRzLlByb3ZpZGVyRWxlbWVudENvbnRleHQgPSBQcm92aWRlckVsZW1lbnRDb250ZXh0O1xuZnVuY3Rpb24gX3RyYW5zZm9ybVByb3ZpZGVyKHByb3ZpZGVyLCBfYSkge1xuICAgIHZhciB1c2VFeGlzdGluZyA9IF9hLnVzZUV4aXN0aW5nLCB1c2VWYWx1ZSA9IF9hLnVzZVZhbHVlLCBkZXBzID0gX2EuZGVwcztcbiAgICByZXR1cm4gbmV3IGNvbXBpbGVfbWV0YWRhdGFfMS5Db21waWxlUHJvdmlkZXJNZXRhZGF0YSh7XG4gICAgICAgIHRva2VuOiBwcm92aWRlci50b2tlbixcbiAgICAgICAgdXNlQ2xhc3M6IHByb3ZpZGVyLnVzZUNsYXNzLFxuICAgICAgICB1c2VFeGlzdGluZzogdXNlRXhpc3RpbmcsXG4gICAgICAgIHVzZUZhY3Rvcnk6IHByb3ZpZGVyLnVzZUZhY3RvcnksXG4gICAgICAgIHVzZVZhbHVlOiB1c2VWYWx1ZSxcbiAgICAgICAgZGVwczogZGVwcyxcbiAgICAgICAgbXVsdGk6IHByb3ZpZGVyLm11bHRpXG4gICAgfSk7XG59XG5mdW5jdGlvbiBfdHJhbnNmb3JtUHJvdmlkZXJBc3QocHJvdmlkZXIsIF9hKSB7XG4gICAgdmFyIGVhZ2VyID0gX2EuZWFnZXIsIHByb3ZpZGVycyA9IF9hLnByb3ZpZGVycztcbiAgICByZXR1cm4gbmV3IHRlbXBsYXRlX2FzdF8xLlByb3ZpZGVyQXN0KHByb3ZpZGVyLnRva2VuLCBwcm92aWRlci5tdWx0aVByb3ZpZGVyLCBwcm92aWRlci5lYWdlciB8fCBlYWdlciwgcHJvdmlkZXJzLCBwcm92aWRlci5wcm92aWRlclR5cGUsIHByb3ZpZGVyLnNvdXJjZVNwYW4pO1xufVxuZnVuY3Rpb24gX25vcm1hbGl6ZVByb3ZpZGVycyhwcm92aWRlcnMsIHNvdXJjZVNwYW4sIHRhcmdldEVycm9ycywgdGFyZ2V0UHJvdmlkZXJzKSB7XG4gICAgaWYgKHRhcmdldFByb3ZpZGVycyA9PT0gdm9pZCAwKSB7IHRhcmdldFByb3ZpZGVycyA9IG51bGw7IH1cbiAgICBpZiAobGFuZ18xLmlzQmxhbmsodGFyZ2V0UHJvdmlkZXJzKSkge1xuICAgICAgICB0YXJnZXRQcm92aWRlcnMgPSBbXTtcbiAgICB9XG4gICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocHJvdmlkZXJzKSkge1xuICAgICAgICBwcm92aWRlcnMuZm9yRWFjaChmdW5jdGlvbiAocHJvdmlkZXIpIHtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNBcnJheShwcm92aWRlcikpIHtcbiAgICAgICAgICAgICAgICBfbm9ybWFsaXplUHJvdmlkZXJzKHByb3ZpZGVyLCBzb3VyY2VTcGFuLCB0YXJnZXRFcnJvcnMsIHRhcmdldFByb3ZpZGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9ybWFsaXplUHJvdmlkZXI7XG4gICAgICAgICAgICAgICAgaWYgKHByb3ZpZGVyIGluc3RhbmNlb2YgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVQcm92aWRlck1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZVByb3ZpZGVyID0gcHJvdmlkZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3ZpZGVyIGluc3RhbmNlb2YgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVUeXBlTWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplUHJvdmlkZXIgPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVQcm92aWRlck1ldGFkYXRhKHsgdG9rZW46IG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZVRva2VuTWV0YWRhdGEoeyBpZGVudGlmaWVyOiBwcm92aWRlciB9KSwgdXNlQ2xhc3M6IHByb3ZpZGVyIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RXJyb3JzLnB1c2gobmV3IFByb3ZpZGVyRXJyb3IoXCJVbmtub3duIHByb3ZpZGVyIHR5cGUgXCIgKyBwcm92aWRlciwgc291cmNlU3BhbikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChub3JtYWxpemVQcm92aWRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0UHJvdmlkZXJzLnB1c2gobm9ybWFsaXplUHJvdmlkZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXRQcm92aWRlcnM7XG59XG5mdW5jdGlvbiBfcmVzb2x2ZVByb3ZpZGVyc0Zyb21EaXJlY3RpdmVzKGRpcmVjdGl2ZXMsIHNvdXJjZVNwYW4sIHRhcmdldEVycm9ycykge1xuICAgIHZhciBwcm92aWRlcnNCeVRva2VuID0gbmV3IGNvbXBpbGVfbWV0YWRhdGFfMS5Db21waWxlVG9rZW5NYXAoKTtcbiAgICBkaXJlY3RpdmVzLmZvckVhY2goZnVuY3Rpb24gKGRpcmVjdGl2ZSkge1xuICAgICAgICB2YXIgZGlyUHJvdmlkZXIgPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVQcm92aWRlck1ldGFkYXRhKHsgdG9rZW46IG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZVRva2VuTWV0YWRhdGEoeyBpZGVudGlmaWVyOiBkaXJlY3RpdmUudHlwZSB9KSwgdXNlQ2xhc3M6IGRpcmVjdGl2ZS50eXBlIH0pO1xuICAgICAgICBfcmVzb2x2ZVByb3ZpZGVycyhbZGlyUHJvdmlkZXJdLCBkaXJlY3RpdmUuaXNDb21wb25lbnQgPyB0ZW1wbGF0ZV9hc3RfMS5Qcm92aWRlckFzdFR5cGUuQ29tcG9uZW50IDogdGVtcGxhdGVfYXN0XzEuUHJvdmlkZXJBc3RUeXBlLkRpcmVjdGl2ZSwgdHJ1ZSwgc291cmNlU3BhbiwgdGFyZ2V0RXJyb3JzLCBwcm92aWRlcnNCeVRva2VuKTtcbiAgICB9KTtcbiAgICAvLyBOb3RlOiBkaXJlY3RpdmVzIG5lZWQgdG8gYmUgYWJsZSB0byBvdmVyd3JpdGUgcHJvdmlkZXJzIG9mIGEgY29tcG9uZW50IVxuICAgIHZhciBkaXJlY3RpdmVzV2l0aENvbXBvbmVudEZpcnN0ID0gZGlyZWN0aXZlcy5maWx0ZXIoZnVuY3Rpb24gKGRpcikgeyByZXR1cm4gZGlyLmlzQ29tcG9uZW50OyB9KS5jb25jYXQoZGlyZWN0aXZlcy5maWx0ZXIoZnVuY3Rpb24gKGRpcikgeyByZXR1cm4gIWRpci5pc0NvbXBvbmVudDsgfSkpO1xuICAgIGRpcmVjdGl2ZXNXaXRoQ29tcG9uZW50Rmlyc3QuZm9yRWFjaChmdW5jdGlvbiAoZGlyZWN0aXZlKSB7XG4gICAgICAgIF9yZXNvbHZlUHJvdmlkZXJzKF9ub3JtYWxpemVQcm92aWRlcnMoZGlyZWN0aXZlLnByb3ZpZGVycywgc291cmNlU3BhbiwgdGFyZ2V0RXJyb3JzKSwgdGVtcGxhdGVfYXN0XzEuUHJvdmlkZXJBc3RUeXBlLlB1YmxpY1NlcnZpY2UsIGZhbHNlLCBzb3VyY2VTcGFuLCB0YXJnZXRFcnJvcnMsIHByb3ZpZGVyc0J5VG9rZW4pO1xuICAgICAgICBfcmVzb2x2ZVByb3ZpZGVycyhfbm9ybWFsaXplUHJvdmlkZXJzKGRpcmVjdGl2ZS52aWV3UHJvdmlkZXJzLCBzb3VyY2VTcGFuLCB0YXJnZXRFcnJvcnMpLCB0ZW1wbGF0ZV9hc3RfMS5Qcm92aWRlckFzdFR5cGUuUHJpdmF0ZVNlcnZpY2UsIGZhbHNlLCBzb3VyY2VTcGFuLCB0YXJnZXRFcnJvcnMsIHByb3ZpZGVyc0J5VG9rZW4pO1xuICAgIH0pO1xuICAgIHJldHVybiBwcm92aWRlcnNCeVRva2VuO1xufVxuZnVuY3Rpb24gX3Jlc29sdmVQcm92aWRlcnMocHJvdmlkZXJzLCBwcm92aWRlclR5cGUsIGVhZ2VyLCBzb3VyY2VTcGFuLCB0YXJnZXRFcnJvcnMsIHRhcmdldFByb3ZpZGVyc0J5VG9rZW4pIHtcbiAgICBwcm92aWRlcnMuZm9yRWFjaChmdW5jdGlvbiAocHJvdmlkZXIpIHtcbiAgICAgICAgdmFyIHJlc29sdmVkUHJvdmlkZXIgPSB0YXJnZXRQcm92aWRlcnNCeVRva2VuLmdldChwcm92aWRlci50b2tlbik7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHJlc29sdmVkUHJvdmlkZXIpICYmIHJlc29sdmVkUHJvdmlkZXIubXVsdGlQcm92aWRlciAhPT0gcHJvdmlkZXIubXVsdGkpIHtcbiAgICAgICAgICAgIHRhcmdldEVycm9ycy5wdXNoKG5ldyBQcm92aWRlckVycm9yKFwiTWl4aW5nIG11bHRpIGFuZCBub24gbXVsdGkgcHJvdmlkZXIgaXMgbm90IHBvc3NpYmxlIGZvciB0b2tlbiBcIiArIHJlc29sdmVkUHJvdmlkZXIudG9rZW4ubmFtZSwgc291cmNlU3BhbikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhyZXNvbHZlZFByb3ZpZGVyKSkge1xuICAgICAgICAgICAgcmVzb2x2ZWRQcm92aWRlciA9IG5ldyB0ZW1wbGF0ZV9hc3RfMS5Qcm92aWRlckFzdChwcm92aWRlci50b2tlbiwgcHJvdmlkZXIubXVsdGksIGVhZ2VyLCBbcHJvdmlkZXJdLCBwcm92aWRlclR5cGUsIHNvdXJjZVNwYW4pO1xuICAgICAgICAgICAgdGFyZ2V0UHJvdmlkZXJzQnlUb2tlbi5hZGQocHJvdmlkZXIudG9rZW4sIHJlc29sdmVkUHJvdmlkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFwcm92aWRlci5tdWx0aSkge1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5jbGVhcihyZXNvbHZlZFByb3ZpZGVyLnByb3ZpZGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlZFByb3ZpZGVyLnByb3ZpZGVycy5wdXNoKHByb3ZpZGVyKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gX2dldFZpZXdRdWVyaWVzKGNvbXBvbmVudCkge1xuICAgIHZhciB2aWV3UXVlcmllcyA9IG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZVRva2VuTWFwKCk7XG4gICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoY29tcG9uZW50LnZpZXdRdWVyaWVzKSkge1xuICAgICAgICBjb21wb25lbnQudmlld1F1ZXJpZXMuZm9yRWFjaChmdW5jdGlvbiAocXVlcnkpIHsgcmV0dXJuIF9hZGRRdWVyeVRvVG9rZW5NYXAodmlld1F1ZXJpZXMsIHF1ZXJ5KTsgfSk7XG4gICAgfVxuICAgIGNvbXBvbmVudC50eXBlLmRpRGVwcy5mb3JFYWNoKGZ1bmN0aW9uIChkZXApIHtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoZGVwLnZpZXdRdWVyeSkpIHtcbiAgICAgICAgICAgIF9hZGRRdWVyeVRvVG9rZW5NYXAodmlld1F1ZXJpZXMsIGRlcC52aWV3UXVlcnkpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHZpZXdRdWVyaWVzO1xufVxuZnVuY3Rpb24gX2dldENvbnRlbnRRdWVyaWVzKGRpcmVjdGl2ZXMpIHtcbiAgICB2YXIgY29udGVudFF1ZXJpZXMgPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVUb2tlbk1hcCgpO1xuICAgIGRpcmVjdGl2ZXMuZm9yRWFjaChmdW5jdGlvbiAoZGlyZWN0aXZlKSB7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGRpcmVjdGl2ZS5xdWVyaWVzKSkge1xuICAgICAgICAgICAgZGlyZWN0aXZlLnF1ZXJpZXMuZm9yRWFjaChmdW5jdGlvbiAocXVlcnkpIHsgcmV0dXJuIF9hZGRRdWVyeVRvVG9rZW5NYXAoY29udGVudFF1ZXJpZXMsIHF1ZXJ5KTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZGlyZWN0aXZlLnR5cGUuZGlEZXBzLmZvckVhY2goZnVuY3Rpb24gKGRlcCkge1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoZGVwLnF1ZXJ5KSkge1xuICAgICAgICAgICAgICAgIF9hZGRRdWVyeVRvVG9rZW5NYXAoY29udGVudFF1ZXJpZXMsIGRlcC5xdWVyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBjb250ZW50UXVlcmllcztcbn1cbmZ1bmN0aW9uIF9hZGRRdWVyeVRvVG9rZW5NYXAobWFwLCBxdWVyeSkge1xuICAgIHF1ZXJ5LnNlbGVjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICB2YXIgZW50cnkgPSBtYXAuZ2V0KHRva2VuKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKGVudHJ5KSkge1xuICAgICAgICAgICAgZW50cnkgPSBbXTtcbiAgICAgICAgICAgIG1hcC5hZGQodG9rZW4sIGVudHJ5KTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyeS5wdXNoKHF1ZXJ5KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb3ZpZGVyX3BhcnNlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9jb2xsZWN0aW9uJyk7XG52YXIgYXN5bmNfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvYXN5bmMnKTtcbnZhciBjb21waWxlX21ldGFkYXRhXzEgPSByZXF1aXJlKCcuL2NvbXBpbGVfbWV0YWRhdGEnKTtcbnZhciBzdHlsZV9jb21waWxlcl8xID0gcmVxdWlyZSgnLi9zdHlsZV9jb21waWxlcicpO1xudmFyIHZpZXdfY29tcGlsZXJfMSA9IHJlcXVpcmUoJy4vdmlld19jb21waWxlci92aWV3X2NvbXBpbGVyJyk7XG52YXIgdGVtcGxhdGVfcGFyc2VyXzEgPSByZXF1aXJlKCcuL3RlbXBsYXRlX3BhcnNlcicpO1xudmFyIGRpcmVjdGl2ZV9ub3JtYWxpemVyXzEgPSByZXF1aXJlKCcuL2RpcmVjdGl2ZV9ub3JtYWxpemVyJyk7XG52YXIgbWV0YWRhdGFfcmVzb2x2ZXJfMSA9IHJlcXVpcmUoJy4vbWV0YWRhdGFfcmVzb2x2ZXInKTtcbnZhciBjb25maWdfMSA9IHJlcXVpcmUoJy4vY29uZmlnJyk7XG52YXIgaXIgPSByZXF1aXJlKCcuL291dHB1dC9vdXRwdXRfYXN0Jyk7XG52YXIgb3V0cHV0X2ppdF8xID0gcmVxdWlyZSgnLi9vdXRwdXQvb3V0cHV0X2ppdCcpO1xudmFyIG91dHB1dF9pbnRlcnByZXRlcl8xID0gcmVxdWlyZSgnLi9vdXRwdXQvb3V0cHV0X2ludGVycHJldGVyJyk7XG52YXIgaW50ZXJwcmV0aXZlX3ZpZXdfMSA9IHJlcXVpcmUoJy4vb3V0cHV0L2ludGVycHJldGl2ZV92aWV3Jyk7XG52YXIgeGhyXzEgPSByZXF1aXJlKCcuL3hocicpO1xudmFyIFJ1bnRpbWVDb21waWxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUnVudGltZUNvbXBpbGVyKF9tZXRhZGF0YVJlc29sdmVyLCBfdGVtcGxhdGVOb3JtYWxpemVyLCBfdGVtcGxhdGVQYXJzZXIsIF9zdHlsZUNvbXBpbGVyLCBfdmlld0NvbXBpbGVyLCBfeGhyLCBfZ2VuQ29uZmlnKSB7XG4gICAgICAgIHRoaXMuX21ldGFkYXRhUmVzb2x2ZXIgPSBfbWV0YWRhdGFSZXNvbHZlcjtcbiAgICAgICAgdGhpcy5fdGVtcGxhdGVOb3JtYWxpemVyID0gX3RlbXBsYXRlTm9ybWFsaXplcjtcbiAgICAgICAgdGhpcy5fdGVtcGxhdGVQYXJzZXIgPSBfdGVtcGxhdGVQYXJzZXI7XG4gICAgICAgIHRoaXMuX3N0eWxlQ29tcGlsZXIgPSBfc3R5bGVDb21waWxlcjtcbiAgICAgICAgdGhpcy5fdmlld0NvbXBpbGVyID0gX3ZpZXdDb21waWxlcjtcbiAgICAgICAgdGhpcy5feGhyID0gX3hocjtcbiAgICAgICAgdGhpcy5fZ2VuQ29uZmlnID0gX2dlbkNvbmZpZztcbiAgICAgICAgdGhpcy5fc3R5bGVDYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5faG9zdENhY2hlS2V5cyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fY29tcGlsZWRUZW1wbGF0ZUNhY2hlID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9jb21waWxlZFRlbXBsYXRlRG9uZSA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgUnVudGltZUNvbXBpbGVyLnByb3RvdHlwZS5yZXNvbHZlQ29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudFR5cGUpIHtcbiAgICAgICAgdmFyIGNvbXBNZXRhID0gdGhpcy5fbWV0YWRhdGFSZXNvbHZlci5nZXREaXJlY3RpdmVNZXRhZGF0YShjb21wb25lbnRUeXBlKTtcbiAgICAgICAgdmFyIGhvc3RDYWNoZUtleSA9IHRoaXMuX2hvc3RDYWNoZUtleXMuZ2V0KGNvbXBvbmVudFR5cGUpO1xuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsoaG9zdENhY2hlS2V5KSkge1xuICAgICAgICAgICAgaG9zdENhY2hlS2V5ID0gbmV3IE9iamVjdCgpO1xuICAgICAgICAgICAgdGhpcy5faG9zdENhY2hlS2V5cy5zZXQoY29tcG9uZW50VHlwZSwgaG9zdENhY2hlS2V5KTtcbiAgICAgICAgICAgIGFzc2VydENvbXBvbmVudChjb21wTWV0YSk7XG4gICAgICAgICAgICB2YXIgaG9zdE1ldGEgPSBjb21waWxlX21ldGFkYXRhXzEuY3JlYXRlSG9zdENvbXBvbmVudE1ldGEoY29tcE1ldGEudHlwZSwgY29tcE1ldGEuc2VsZWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5fbG9hZEFuZENvbXBpbGVDb21wb25lbnQoaG9zdENhY2hlS2V5LCBob3N0TWV0YSwgW2NvbXBNZXRhXSwgW10sIFtdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY29tcGlsZWRUZW1wbGF0ZURvbmUuZ2V0KGhvc3RDYWNoZUtleSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChjb21waWxlZFRlbXBsYXRlKSB7IHJldHVybiBuZXcgY29yZV8xLkNvbXBvbmVudEZhY3RvcnkoY29tcE1ldGEuc2VsZWN0b3IsIGNvbXBpbGVkVGVtcGxhdGUudmlld0ZhY3RvcnksIGNvbXBvbmVudFR5cGUpOyB9KTtcbiAgICB9O1xuICAgIFJ1bnRpbWVDb21waWxlci5wcm90b3R5cGUuY2xlYXJDYWNoZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fc3R5bGVDYWNoZS5jbGVhcigpO1xuICAgICAgICB0aGlzLl9jb21waWxlZFRlbXBsYXRlQ2FjaGUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fY29tcGlsZWRUZW1wbGF0ZURvbmUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5faG9zdENhY2hlS2V5cy5jbGVhcigpO1xuICAgIH07XG4gICAgUnVudGltZUNvbXBpbGVyLnByb3RvdHlwZS5fbG9hZEFuZENvbXBpbGVDb21wb25lbnQgPSBmdW5jdGlvbiAoY2FjaGVLZXksIGNvbXBNZXRhLCB2aWV3RGlyZWN0aXZlcywgcGlwZXMsIGNvbXBpbGluZ0NvbXBvbmVudHNQYXRoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjb21waWxlZFRlbXBsYXRlID0gdGhpcy5fY29tcGlsZWRUZW1wbGF0ZUNhY2hlLmdldChjYWNoZUtleSk7XG4gICAgICAgIHZhciBkb25lID0gdGhpcy5fY29tcGlsZWRUZW1wbGF0ZURvbmUuZ2V0KGNhY2hlS2V5KTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKGNvbXBpbGVkVGVtcGxhdGUpKSB7XG4gICAgICAgICAgICBjb21waWxlZFRlbXBsYXRlID0gbmV3IENvbXBpbGVkVGVtcGxhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBpbGVkVGVtcGxhdGVDYWNoZS5zZXQoY2FjaGVLZXksIGNvbXBpbGVkVGVtcGxhdGUpO1xuICAgICAgICAgICAgZG9uZSA9XG4gICAgICAgICAgICAgICAgYXN5bmNfMS5Qcm9taXNlV3JhcHBlci5hbGwoW3RoaXMuX2NvbXBpbGVDb21wb25lbnRTdHlsZXMoY29tcE1ldGEpXS5jb25jYXQodmlld0RpcmVjdGl2ZXMubWFwKGZ1bmN0aW9uIChkaXJNZXRhKSB7IHJldHVybiBfdGhpcy5fdGVtcGxhdGVOb3JtYWxpemVyLm5vcm1hbGl6ZURpcmVjdGl2ZShkaXJNZXRhKTsgfSkpKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoc3R5bGVzQW5kTm9ybWFsaXplZFZpZXdEaXJNZXRhcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm9ybWFsaXplZFZpZXdEaXJNZXRhcyA9IHN0eWxlc0FuZE5vcm1hbGl6ZWRWaWV3RGlyTWV0YXMuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHlsZXMgPSBzdHlsZXNBbmROb3JtYWxpemVkVmlld0Rpck1ldGFzWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyc2VkVGVtcGxhdGUgPSBfdGhpcy5fdGVtcGxhdGVQYXJzZXIucGFyc2UoY29tcE1ldGEsIGNvbXBNZXRhLnRlbXBsYXRlLnRlbXBsYXRlLCBub3JtYWxpemVkVmlld0Rpck1ldGFzLCBwaXBlcywgY29tcE1ldGEudHlwZS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkUHJvbWlzZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgY29tcGlsZWRUZW1wbGF0ZS5pbml0KF90aGlzLl9jb21waWxlQ29tcG9uZW50KGNvbXBNZXRhLCBwYXJzZWRUZW1wbGF0ZSwgc3R5bGVzLCBwaXBlcywgY29tcGlsaW5nQ29tcG9uZW50c1BhdGgsIGNoaWxkUHJvbWlzZXMpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFzeW5jXzEuUHJvbWlzZVdyYXBwZXIuYWxsKGNoaWxkUHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKF8pIHsgcmV0dXJuIGNvbXBpbGVkVGVtcGxhdGU7IH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fY29tcGlsZWRUZW1wbGF0ZURvbmUuc2V0KGNhY2hlS2V5LCBkb25lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcGlsZWRUZW1wbGF0ZTtcbiAgICB9O1xuICAgIFJ1bnRpbWVDb21waWxlci5wcm90b3R5cGUuX2NvbXBpbGVDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcE1ldGEsIHBhcnNlZFRlbXBsYXRlLCBzdHlsZXMsIHBpcGVzLCBjb21waWxpbmdDb21wb25lbnRzUGF0aCwgY2hpbGRQcm9taXNlcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY29tcGlsZVJlc3VsdCA9IHRoaXMuX3ZpZXdDb21waWxlci5jb21waWxlQ29tcG9uZW50KGNvbXBNZXRhLCBwYXJzZWRUZW1wbGF0ZSwgbmV3IGlyLkV4dGVybmFsRXhwcihuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVJZGVudGlmaWVyTWV0YWRhdGEoeyBydW50aW1lOiBzdHlsZXMgfSkpLCBwaXBlcyk7XG4gICAgICAgIGNvbXBpbGVSZXN1bHQuZGVwZW5kZW5jaWVzLmZvckVhY2goZnVuY3Rpb24gKGRlcCkge1xuICAgICAgICAgICAgdmFyIGNoaWxkQ29tcGlsaW5nQ29tcG9uZW50c1BhdGggPSBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuY2xvbmUoY29tcGlsaW5nQ29tcG9uZW50c1BhdGgpO1xuICAgICAgICAgICAgdmFyIGNoaWxkQ2FjaGVLZXkgPSBkZXAuY29tcC50eXBlLnJ1bnRpbWU7XG4gICAgICAgICAgICB2YXIgY2hpbGRWaWV3RGlyZWN0aXZlcyA9IF90aGlzLl9tZXRhZGF0YVJlc29sdmVyLmdldFZpZXdEaXJlY3RpdmVzTWV0YWRhdGEoZGVwLmNvbXAudHlwZS5ydW50aW1lKTtcbiAgICAgICAgICAgIHZhciBjaGlsZFZpZXdQaXBlcyA9IF90aGlzLl9tZXRhZGF0YVJlc29sdmVyLmdldFZpZXdQaXBlc01ldGFkYXRhKGRlcC5jb21wLnR5cGUucnVudGltZSk7XG4gICAgICAgICAgICB2YXIgY2hpbGRJc1JlY3Vyc2l2ZSA9IGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5jb250YWlucyhjaGlsZENvbXBpbGluZ0NvbXBvbmVudHNQYXRoLCBjaGlsZENhY2hlS2V5KTtcbiAgICAgICAgICAgIGNoaWxkQ29tcGlsaW5nQ29tcG9uZW50c1BhdGgucHVzaChjaGlsZENhY2hlS2V5KTtcbiAgICAgICAgICAgIHZhciBjaGlsZENvbXAgPSBfdGhpcy5fbG9hZEFuZENvbXBpbGVDb21wb25lbnQoZGVwLmNvbXAudHlwZS5ydW50aW1lLCBkZXAuY29tcCwgY2hpbGRWaWV3RGlyZWN0aXZlcywgY2hpbGRWaWV3UGlwZXMsIGNoaWxkQ29tcGlsaW5nQ29tcG9uZW50c1BhdGgpO1xuICAgICAgICAgICAgZGVwLmZhY3RvcnlQbGFjZWhvbGRlci5ydW50aW1lID0gY2hpbGRDb21wLnByb3h5Vmlld0ZhY3Rvcnk7XG4gICAgICAgICAgICBkZXAuZmFjdG9yeVBsYWNlaG9sZGVyLm5hbWUgPSBcInZpZXdGYWN0b3J5X1wiICsgZGVwLmNvbXAudHlwZS5uYW1lO1xuICAgICAgICAgICAgaWYgKCFjaGlsZElzUmVjdXJzaXZlKSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSB3YWl0IGZvciBhIGNoaWxkIGlmIGl0IGlzIG5vdCBhIGN5Y2xlXG4gICAgICAgICAgICAgICAgY2hpbGRQcm9taXNlcy5wdXNoKF90aGlzLl9jb21waWxlZFRlbXBsYXRlRG9uZS5nZXQoY2hpbGRDYWNoZUtleSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGZhY3Rvcnk7XG4gICAgICAgIGlmIChsYW5nXzEuSVNfREFSVCB8fCAhdGhpcy5fZ2VuQ29uZmlnLnVzZUppdCkge1xuICAgICAgICAgICAgZmFjdG9yeSA9IG91dHB1dF9pbnRlcnByZXRlcl8xLmludGVycHJldFN0YXRlbWVudHMoY29tcGlsZVJlc3VsdC5zdGF0ZW1lbnRzLCBjb21waWxlUmVzdWx0LnZpZXdGYWN0b3J5VmFyLCBuZXcgaW50ZXJwcmV0aXZlX3ZpZXdfMS5JbnRlcnByZXRpdmVBcHBWaWV3SW5zdGFuY2VGYWN0b3J5KCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmFjdG9yeSA9IG91dHB1dF9qaXRfMS5qaXRTdGF0ZW1lbnRzKGNvbXBNZXRhLnR5cGUubmFtZSArIFwiLnRlbXBsYXRlLmpzXCIsIGNvbXBpbGVSZXN1bHQuc3RhdGVtZW50cywgY29tcGlsZVJlc3VsdC52aWV3RmFjdG9yeVZhcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG4gICAgfTtcbiAgICBSdW50aW1lQ29tcGlsZXIucHJvdG90eXBlLl9jb21waWxlQ29tcG9uZW50U3R5bGVzID0gZnVuY3Rpb24gKGNvbXBNZXRhKSB7XG4gICAgICAgIHZhciBjb21waWxlUmVzdWx0ID0gdGhpcy5fc3R5bGVDb21waWxlci5jb21waWxlQ29tcG9uZW50KGNvbXBNZXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc29sdmVTdHlsZXNDb21waWxlUmVzdWx0KGNvbXBNZXRhLnR5cGUubmFtZSwgY29tcGlsZVJlc3VsdCk7XG4gICAgfTtcbiAgICBSdW50aW1lQ29tcGlsZXIucHJvdG90eXBlLl9yZXNvbHZlU3R5bGVzQ29tcGlsZVJlc3VsdCA9IGZ1bmN0aW9uIChzb3VyY2VVcmwsIHJlc3VsdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcHJvbWlzZXMgPSByZXN1bHQuZGVwZW5kZW5jaWVzLm1hcChmdW5jdGlvbiAoZGVwKSB7IHJldHVybiBfdGhpcy5fbG9hZFN0eWxlc2hlZXREZXAoZGVwKTsgfSk7XG4gICAgICAgIHJldHVybiBhc3luY18xLlByb21pc2VXcmFwcGVyLmFsbChwcm9taXNlcylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChjc3NUZXh0cykge1xuICAgICAgICAgICAgdmFyIG5lc3RlZENvbXBpbGVSZXN1bHRQcm9taXNlcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQuZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlcCA9IHJlc3VsdC5kZXBlbmRlbmNpZXNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGNzc1RleHQgPSBjc3NUZXh0c1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgbmVzdGVkQ29tcGlsZVJlc3VsdCA9IF90aGlzLl9zdHlsZUNvbXBpbGVyLmNvbXBpbGVTdHlsZXNoZWV0KGRlcC5tb2R1bGVVcmwsIGNzc1RleHQsIGRlcC5pc1NoaW1tZWQpO1xuICAgICAgICAgICAgICAgIG5lc3RlZENvbXBpbGVSZXN1bHRQcm9taXNlcy5wdXNoKF90aGlzLl9yZXNvbHZlU3R5bGVzQ29tcGlsZVJlc3VsdChkZXAubW9kdWxlVXJsLCBuZXN0ZWRDb21waWxlUmVzdWx0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXN5bmNfMS5Qcm9taXNlV3JhcHBlci5hbGwobmVzdGVkQ29tcGlsZVJlc3VsdFByb21pc2VzKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChuZXN0ZWRTdHlsZXNBcnIpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0LmRlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBkZXAgPSByZXN1bHQuZGVwZW5kZW5jaWVzW2ldO1xuICAgICAgICAgICAgICAgIGRlcC52YWx1ZVBsYWNlaG9sZGVyLnJ1bnRpbWUgPSBuZXN0ZWRTdHlsZXNBcnJbaV07XG4gICAgICAgICAgICAgICAgZGVwLnZhbHVlUGxhY2Vob2xkZXIubmFtZSA9IFwiaW1wb3J0ZWRTdHlsZXNcIiArIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGFuZ18xLklTX0RBUlQgfHwgIV90aGlzLl9nZW5Db25maWcudXNlSml0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dF9pbnRlcnByZXRlcl8xLmludGVycHJldFN0YXRlbWVudHMocmVzdWx0LnN0YXRlbWVudHMsIHJlc3VsdC5zdHlsZXNWYXIsIG5ldyBpbnRlcnByZXRpdmVfdmlld18xLkludGVycHJldGl2ZUFwcFZpZXdJbnN0YW5jZUZhY3RvcnkoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0X2ppdF8xLmppdFN0YXRlbWVudHMoc291cmNlVXJsICsgXCIuY3NzLmpzXCIsIHJlc3VsdC5zdGF0ZW1lbnRzLCByZXN1bHQuc3R5bGVzVmFyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSdW50aW1lQ29tcGlsZXIucHJvdG90eXBlLl9sb2FkU3R5bGVzaGVldERlcCA9IGZ1bmN0aW9uIChkZXApIHtcbiAgICAgICAgdmFyIGNhY2hlS2V5ID0gXCJcIiArIGRlcC5tb2R1bGVVcmwgKyAoZGVwLmlzU2hpbW1lZCA/ICcuc2hpbScgOiAnJyk7XG4gICAgICAgIHZhciBjc3NUZXh0UHJvbWlzZSA9IHRoaXMuX3N0eWxlQ2FjaGUuZ2V0KGNhY2hlS2V5KTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKGNzc1RleHRQcm9taXNlKSkge1xuICAgICAgICAgICAgY3NzVGV4dFByb21pc2UgPSB0aGlzLl94aHIuZ2V0KGRlcC5tb2R1bGVVcmwpO1xuICAgICAgICAgICAgdGhpcy5fc3R5bGVDYWNoZS5zZXQoY2FjaGVLZXksIGNzc1RleHRQcm9taXNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3NzVGV4dFByb21pc2U7XG4gICAgfTtcbiAgICBSdW50aW1lQ29tcGlsZXIuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuSW5qZWN0YWJsZSB9LFxuICAgIF07XG4gICAgUnVudGltZUNvbXBpbGVyLmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IG1ldGFkYXRhX3Jlc29sdmVyXzEuQ29tcGlsZU1ldGFkYXRhUmVzb2x2ZXIsIH0sXG4gICAgICAgIHsgdHlwZTogZGlyZWN0aXZlX25vcm1hbGl6ZXJfMS5EaXJlY3RpdmVOb3JtYWxpemVyLCB9LFxuICAgICAgICB7IHR5cGU6IHRlbXBsYXRlX3BhcnNlcl8xLlRlbXBsYXRlUGFyc2VyLCB9LFxuICAgICAgICB7IHR5cGU6IHN0eWxlX2NvbXBpbGVyXzEuU3R5bGVDb21waWxlciwgfSxcbiAgICAgICAgeyB0eXBlOiB2aWV3X2NvbXBpbGVyXzEuVmlld0NvbXBpbGVyLCB9LFxuICAgICAgICB7IHR5cGU6IHhocl8xLlhIUiwgfSxcbiAgICAgICAgeyB0eXBlOiBjb25maWdfMS5Db21waWxlckNvbmZpZywgfSxcbiAgICBdO1xuICAgIHJldHVybiBSdW50aW1lQ29tcGlsZXI7XG59KCkpO1xuZXhwb3J0cy5SdW50aW1lQ29tcGlsZXIgPSBSdW50aW1lQ29tcGlsZXI7XG52YXIgQ29tcGlsZWRUZW1wbGF0ZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tcGlsZWRUZW1wbGF0ZSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy52aWV3RmFjdG9yeSA9IG51bGw7XG4gICAgICAgIHRoaXMucHJveHlWaWV3RmFjdG9yeSA9IGZ1bmN0aW9uICh2aWV3VXRpbHMsIGNoaWxkSW5qZWN0b3IsIGNvbnRleHRFbCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnZpZXdGYWN0b3J5KHZpZXdVdGlscywgY2hpbGRJbmplY3RvciwgY29udGV4dEVsKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgQ29tcGlsZWRUZW1wbGF0ZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICh2aWV3RmFjdG9yeSkgeyB0aGlzLnZpZXdGYWN0b3J5ID0gdmlld0ZhY3Rvcnk7IH07XG4gICAgcmV0dXJuIENvbXBpbGVkVGVtcGxhdGU7XG59KCkpO1xuZnVuY3Rpb24gYXNzZXJ0Q29tcG9uZW50KG1ldGEpIHtcbiAgICBpZiAoIW1ldGEuaXNDb21wb25lbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiQ291bGQgbm90IGNvbXBpbGUgJ1wiICsgbWV0YS50eXBlLm5hbWUgKyBcIicgYmVjYXVzZSBpdCBpcyBub3QgYSBjb21wb25lbnQuXCIpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ1bnRpbWVfY29tcGlsZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgY29yZV9wcml2YXRlXzEgPSByZXF1aXJlKCcuLi8uLi9jb3JlX3ByaXZhdGUnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi9mYWNhZGUvbGFuZycpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uL2ZhY2FkZS9jb2xsZWN0aW9uJyk7XG52YXIgZWxlbWVudF9zY2hlbWFfcmVnaXN0cnlfMSA9IHJlcXVpcmUoJy4vZWxlbWVudF9zY2hlbWFfcmVnaXN0cnknKTtcbnZhciBFVkVOVCA9ICdldmVudCc7XG52YXIgQk9PTEVBTiA9ICdib29sZWFuJztcbnZhciBOVU1CRVIgPSAnbnVtYmVyJztcbnZhciBTVFJJTkcgPSAnc3RyaW5nJztcbnZhciBPQkpFQ1QgPSAnb2JqZWN0Jztcbi8qKlxuICogVGhpcyBhcnJheSByZXByZXNlbnRzIHRoZSBET00gc2NoZW1hLiBJdCBlbmNvZGVzIGluaGVyaXRhbmNlLCBwcm9wZXJ0aWVzLCBhbmQgZXZlbnRzLlxuICpcbiAqICMjIE92ZXJ2aWV3XG4gKlxuICogRWFjaCBsaW5lIHJlcHJlc2VudHMgb25lIGtpbmQgb2YgZWxlbWVudC4gVGhlIGBlbGVtZW50X2luaGVyaXRhbmNlYCBhbmQgcHJvcGVydGllcyBhcmUgam9pbmVkXG4gKiB1c2luZyBgZWxlbWVudF9pbmhlcml0YW5jZXxwcmVwZXJ0aWVzYCBzeW50YXguXG4gKlxuICogIyMgRWxlbWVudCBJbmhlcml0YW5jZVxuICpcbiAqIFRoZSBgZWxlbWVudF9pbmhlcml0YW5jZWAgY2FuIGJlIGZ1cnRoZXIgc3ViZGl2aWRlZCBhcyBgZWxlbWVudDEsZWxlbWVudDIsLi4uXnBhcmVudEVsZW1lbnRgLlxuICogSGVyZSB0aGUgaW5kaXZpZHVhbCBlbGVtZW50cyBhcmUgc2VwYXJhdGVkIGJ5IGAsYCAoY29tbWFzKS4gRXZlcnkgZWxlbWVudCBpbiB0aGUgbGlzdFxuICogaGFzIGlkZW50aWNhbCBwcm9wZXJ0aWVzLlxuICpcbiAqIEFuIGBlbGVtZW50YCBtYXkgaW5oZXJpdCBhZGRpdGlvbmFsIHByb3BlcnRpZXMgZnJvbSBgcGFyZW50RWxlbWVudGAgSWYgbm8gYF5wYXJlbnRFbGVtZW50YCBpc1xuICogc3BlY2lmaWVkIHRoZW4gYFwiXCJgIChibGFuaykgZWxlbWVudCBpcyBhc3N1bWVkLlxuICpcbiAqIE5PVEU6IFRoZSBibGFuayBlbGVtZW50IGluaGVyaXRzIGZyb20gcm9vdCBgKmAgZWxlbWVudCwgdGhlIHN1cGVyIGVsZW1lbnQgb2YgYWxsIGVsZW1lbnRzLlxuICpcbiAqIE5PVEUgYW4gZWxlbWVudCBwcmVmaXggc3VjaCBhcyBgQHN2ZzpgIGhhcyBubyBzcGVjaWFsIG1lYW5pbmcgdG8gdGhlIHNjaGVtYS5cbiAqXG4gKiAjIyBQcm9wZXJ0aWVzXG4gKlxuICogRWFjaCBlbGVtZW50IGhhcyBhIHNldCBvZiBwcm9wZXJ0aWVzIHNlcGFyYXRlZCBieSBgLGAgKGNvbW1hcykuIEVhY2ggcHJvcGVydHkgY2FuIGJlIHByZWZpeGVkXG4gKiBieSBhIHNwZWNpYWwgY2hhcmFjdGVyIGRlc2lnbmF0aW5nIGl0cyB0eXBlOlxuICpcbiAqIC0gKG5vIHByZWZpeCk6IHByb3BlcnR5IGlzIGEgc3RyaW5nLlxuICogLSBgKmA6IHByb3BlcnR5IHJlcHJlc2VudHMgYW4gZXZlbnQuXG4gKiAtIGAhYDogcHJvcGVydHkgaXMgYSBib29sZWFuLlxuICogLSBgI2A6IHByb3BlcnR5IGlzIGEgbnVtYmVyLlxuICogLSBgJWA6IHByb3BlcnR5IGlzIGFuIG9iamVjdC5cbiAqXG4gKiAjIyBRdWVyeVxuICpcbiAqIFRoZSBjbGFzcyBjcmVhdGVzIGFuIGludGVybmFsIHNxdWFzIHJlcHJlc2VudGFpbm8gd2hpY2ggYWxsb3dzIHRvIGVhc2lseSBhbnN3ZXIgdGhlIHF1ZXJ5IG9mXG4gKiBpZiBhIGdpdmVuIHByb3BlcnR5IGV4aXN0IG9uIGEgZ2l2ZW4gZWxlbWVudC5cbiAqXG4gKiBOT1RFOiBXZSBkb24ndCB5ZXQgc3VwcG9ydCBxdWVyeWluZyBmb3IgdHlwZXMgb3IgZXZlbnRzLlxuICogTk9URTogVGhpcyBzY2hlbWEgaXMgYXV0byBleHRyYWN0ZWQgZnJvbSBgc2NoZW1hX2V4dHJhY3Rvci50c2AgbG9jYXRlZCBpbiB0aGUgdGVzdCBmb2xkZXIuXG4gKi9cbnZhciBTQ0hFTUEgPSBcbi8qQHRzMmRhcnRfY29uc3QqLyAoW1xuICAgICcqfCVjbGFzc0xpc3QsY2xhc3NOYW1lLGlkLGlubmVySFRNTCwqYmVmb3JlY29weSwqYmVmb3JlY3V0LCpiZWZvcmVwYXN0ZSwqY29weSwqY3V0LCpwYXN0ZSwqc2VhcmNoLCpzZWxlY3RzdGFydCwqd2Via2l0ZnVsbHNjcmVlbmNoYW5nZSwqd2Via2l0ZnVsbHNjcmVlbmVycm9yLCp3aGVlbCxvdXRlckhUTUwsI3Njcm9sbExlZnQsI3Njcm9sbFRvcCcsXG4gICAgJ14qfGFjY2Vzc0tleSxjb250ZW50RWRpdGFibGUsZGlyLCFkcmFnZ2FibGUsIWhpZGRlbixpbm5lclRleHQsbGFuZywqYWJvcnQsKmF1dG9jb21wbGV0ZSwqYXV0b2NvbXBsZXRlZXJyb3IsKmJlZm9yZWNvcHksKmJlZm9yZWN1dCwqYmVmb3JlcGFzdGUsKmJsdXIsKmNhbmNlbCwqY2FucGxheSwqY2FucGxheXRocm91Z2gsKmNoYW5nZSwqY2xpY2ssKmNsb3NlLCpjb250ZXh0bWVudSwqY29weSwqY3VlY2hhbmdlLCpjdXQsKmRibGNsaWNrLCpkcmFnLCpkcmFnZW5kLCpkcmFnZW50ZXIsKmRyYWdsZWF2ZSwqZHJhZ292ZXIsKmRyYWdzdGFydCwqZHJvcCwqZHVyYXRpb25jaGFuZ2UsKmVtcHRpZWQsKmVuZGVkLCplcnJvciwqZm9jdXMsKmlucHV0LCppbnZhbGlkLCprZXlkb3duLCprZXlwcmVzcywqa2V5dXAsKmxvYWQsKmxvYWRlZGRhdGEsKmxvYWRlZG1ldGFkYXRhLCpsb2Fkc3RhcnQsKm1lc3NhZ2UsKm1vdXNlZG93biwqbW91c2VlbnRlciwqbW91c2VsZWF2ZSwqbW91c2Vtb3ZlLCptb3VzZW91dCwqbW91c2VvdmVyLCptb3VzZXVwLCptb3VzZXdoZWVsLCptb3pmdWxsc2NyZWVuY2hhbmdlLCptb3pmdWxsc2NyZWVuZXJyb3IsKm1venBvaW50ZXJsb2NrY2hhbmdlLCptb3pwb2ludGVybG9ja2Vycm9yLCpwYXN0ZSwqcGF1c2UsKnBsYXksKnBsYXlpbmcsKnByb2dyZXNzLCpyYXRlY2hhbmdlLCpyZXNldCwqcmVzaXplLCpzY3JvbGwsKnNlYXJjaCwqc2Vla2VkLCpzZWVraW5nLCpzZWxlY3QsKnNlbGVjdHN0YXJ0LCpzaG93LCpzdGFsbGVkLCpzdWJtaXQsKnN1c3BlbmQsKnRpbWV1cGRhdGUsKnRvZ2dsZSwqdm9sdW1lY2hhbmdlLCp3YWl0aW5nLCp3ZWJnbGNvbnRleHRjcmVhdGlvbmVycm9yLCp3ZWJnbGNvbnRleHRsb3N0LCp3ZWJnbGNvbnRleHRyZXN0b3JlZCwqd2Via2l0ZnVsbHNjcmVlbmNoYW5nZSwqd2Via2l0ZnVsbHNjcmVlbmVycm9yLCp3aGVlbCxvdXRlclRleHQsIXNwZWxsY2hlY2ssJXN0eWxlLCN0YWJJbmRleCx0aXRsZSwhdHJhbnNsYXRlJyxcbiAgICAnbWVkaWF8IWF1dG9wbGF5LCFjb250cm9scywlY3Jvc3NPcmlnaW4sI2N1cnJlbnRUaW1lLCFkZWZhdWx0TXV0ZWQsI2RlZmF1bHRQbGF5YmFja1JhdGUsIWRpc2FibGVSZW1vdGVQbGF5YmFjaywhbG9vcCwhbXV0ZWQsKmVuY3J5cHRlZCwjcGxheWJhY2tSYXRlLHByZWxvYWQsc3JjLCN2b2x1bWUnLFxuICAgICdAc3ZnOl4qfCphYm9ydCwqYXV0b2NvbXBsZXRlLCphdXRvY29tcGxldGVlcnJvciwqYmx1ciwqY2FuY2VsLCpjYW5wbGF5LCpjYW5wbGF5dGhyb3VnaCwqY2hhbmdlLCpjbGljaywqY2xvc2UsKmNvbnRleHRtZW51LCpjdWVjaGFuZ2UsKmRibGNsaWNrLCpkcmFnLCpkcmFnZW5kLCpkcmFnZW50ZXIsKmRyYWdsZWF2ZSwqZHJhZ292ZXIsKmRyYWdzdGFydCwqZHJvcCwqZHVyYXRpb25jaGFuZ2UsKmVtcHRpZWQsKmVuZGVkLCplcnJvciwqZm9jdXMsKmlucHV0LCppbnZhbGlkLCprZXlkb3duLCprZXlwcmVzcywqa2V5dXAsKmxvYWQsKmxvYWRlZGRhdGEsKmxvYWRlZG1ldGFkYXRhLCpsb2Fkc3RhcnQsKm1vdXNlZG93biwqbW91c2VlbnRlciwqbW91c2VsZWF2ZSwqbW91c2Vtb3ZlLCptb3VzZW91dCwqbW91c2VvdmVyLCptb3VzZXVwLCptb3VzZXdoZWVsLCpwYXVzZSwqcGxheSwqcGxheWluZywqcHJvZ3Jlc3MsKnJhdGVjaGFuZ2UsKnJlc2V0LCpyZXNpemUsKnNjcm9sbCwqc2Vla2VkLCpzZWVraW5nLCpzZWxlY3QsKnNob3csKnN0YWxsZWQsKnN1Ym1pdCwqc3VzcGVuZCwqdGltZXVwZGF0ZSwqdG9nZ2xlLCp2b2x1bWVjaGFuZ2UsKndhaXRpbmcsJXN0eWxlLCN0YWJJbmRleCcsXG4gICAgJ0Bzdmc6Z3JhcGhpY3NeQHN2Zzp8JyxcbiAgICAnQHN2ZzphbmltYXRpb25eQHN2Zzp8KmJlZ2luLCplbmQsKnJlcGVhdCcsXG4gICAgJ0Bzdmc6Z2VvbWV0cnleQHN2Zzp8JyxcbiAgICAnQHN2Zzpjb21wb25lbnRUcmFuc2ZlckZ1bmN0aW9uXkBzdmc6fCcsXG4gICAgJ0Bzdmc6Z3JhZGllbnReQHN2Zzp8JyxcbiAgICAnQHN2Zzp0ZXh0Q29udGVudF5Ac3ZnOmdyYXBoaWNzfCcsXG4gICAgJ0Bzdmc6dGV4dFBvc2l0aW9uaW5nXkBzdmc6dGV4dENvbnRlbnR8JyxcbiAgICAnYXxjaGFyc2V0LGNvb3Jkcyxkb3dubG9hZCxoYXNoLGhvc3QsaG9zdG5hbWUsaHJlZixocmVmbGFuZyxuYW1lLHBhc3N3b3JkLHBhdGhuYW1lLHBpbmcscG9ydCxwcm90b2NvbCxyZWwscmV2LHNlYXJjaCxzaGFwZSx0YXJnZXQsdGV4dCx0eXBlLHVzZXJuYW1lJyxcbiAgICAnYXJlYXxhbHQsY29vcmRzLGhhc2gsaG9zdCxob3N0bmFtZSxocmVmLCFub0hyZWYscGFzc3dvcmQscGF0aG5hbWUscGluZyxwb3J0LHByb3RvY29sLHNlYXJjaCxzaGFwZSx0YXJnZXQsdXNlcm5hbWUnLFxuICAgICdhdWRpb15tZWRpYXwnLFxuICAgICdicnxjbGVhcicsXG4gICAgJ2Jhc2V8aHJlZix0YXJnZXQnLFxuICAgICdib2R5fGFMaW5rLGJhY2tncm91bmQsYmdDb2xvcixsaW5rLCpiZWZvcmV1bmxvYWQsKmJsdXIsKmVycm9yLCpmb2N1cywqaGFzaGNoYW5nZSwqbGFuZ3VhZ2VjaGFuZ2UsKmxvYWQsKm1lc3NhZ2UsKm9mZmxpbmUsKm9ubGluZSwqcGFnZWhpZGUsKnBhZ2VzaG93LCpwb3BzdGF0ZSwqcmVqZWN0aW9uaGFuZGxlZCwqcmVzaXplLCpzY3JvbGwsKnN0b3JhZ2UsKnVuaGFuZGxlZHJlamVjdGlvbiwqdW5sb2FkLHRleHQsdkxpbmsnLFxuICAgICdidXR0b258IWF1dG9mb2N1cywhZGlzYWJsZWQsZm9ybUFjdGlvbixmb3JtRW5jdHlwZSxmb3JtTWV0aG9kLCFmb3JtTm9WYWxpZGF0ZSxmb3JtVGFyZ2V0LG5hbWUsdHlwZSx2YWx1ZScsXG4gICAgJ2NhbnZhc3wjaGVpZ2h0LCN3aWR0aCcsXG4gICAgJ2NvbnRlbnR8c2VsZWN0JyxcbiAgICAnZGx8IWNvbXBhY3QnLFxuICAgICdkYXRhbGlzdHwnLFxuICAgICdkZXRhaWxzfCFvcGVuJyxcbiAgICAnZGlhbG9nfCFvcGVuLHJldHVyblZhbHVlJyxcbiAgICAnZGlyfCFjb21wYWN0JyxcbiAgICAnZGl2fGFsaWduJyxcbiAgICAnZW1iZWR8YWxpZ24saGVpZ2h0LG5hbWUsc3JjLHR5cGUsd2lkdGgnLFxuICAgICdmaWVsZHNldHwhZGlzYWJsZWQsbmFtZScsXG4gICAgJ2ZvbnR8Y29sb3IsZmFjZSxzaXplJyxcbiAgICAnZm9ybXxhY2NlcHRDaGFyc2V0LGFjdGlvbixhdXRvY29tcGxldGUsZW5jb2RpbmcsZW5jdHlwZSxtZXRob2QsbmFtZSwhbm9WYWxpZGF0ZSx0YXJnZXQnLFxuICAgICdmcmFtZXxmcmFtZUJvcmRlcixsb25nRGVzYyxtYXJnaW5IZWlnaHQsbWFyZ2luV2lkdGgsbmFtZSwhbm9SZXNpemUsc2Nyb2xsaW5nLHNyYycsXG4gICAgJ2ZyYW1lc2V0fGNvbHMsKmJlZm9yZXVubG9hZCwqYmx1ciwqZXJyb3IsKmZvY3VzLCpoYXNoY2hhbmdlLCpsYW5ndWFnZWNoYW5nZSwqbG9hZCwqbWVzc2FnZSwqb2ZmbGluZSwqb25saW5lLCpwYWdlaGlkZSwqcGFnZXNob3csKnBvcHN0YXRlLCpyZWplY3Rpb25oYW5kbGVkLCpyZXNpemUsKnNjcm9sbCwqc3RvcmFnZSwqdW5oYW5kbGVkcmVqZWN0aW9uLCp1bmxvYWQscm93cycsXG4gICAgJ2hyfGFsaWduLGNvbG9yLCFub1NoYWRlLHNpemUsd2lkdGgnLFxuICAgICdoZWFkfCcsXG4gICAgJ2gxLGgyLGgzLGg0LGg1LGg2fGFsaWduJyxcbiAgICAnaHRtbHx2ZXJzaW9uJyxcbiAgICAnaWZyYW1lfGFsaWduLCFhbGxvd0Z1bGxzY3JlZW4sZnJhbWVCb3JkZXIsaGVpZ2h0LGxvbmdEZXNjLG1hcmdpbkhlaWdodCxtYXJnaW5XaWR0aCxuYW1lLCVzYW5kYm94LHNjcm9sbGluZyxzcmMsc3JjZG9jLHdpZHRoJyxcbiAgICAnaW1nfGFsaWduLGFsdCxib3JkZXIsJWNyb3NzT3JpZ2luLCNoZWlnaHQsI2hzcGFjZSwhaXNNYXAsbG9uZ0Rlc2MsbG93c3JjLG5hbWUsc2l6ZXMsc3JjLHNyY3NldCx1c2VNYXAsI3ZzcGFjZSwjd2lkdGgnLFxuICAgICdpbnB1dHxhY2NlcHQsYWxpZ24sYWx0LGF1dG9jYXBpdGFsaXplLGF1dG9jb21wbGV0ZSwhYXV0b2ZvY3VzLCFjaGVja2VkLCFkZWZhdWx0Q2hlY2tlZCxkZWZhdWx0VmFsdWUsZGlyTmFtZSwhZGlzYWJsZWQsJWZpbGVzLGZvcm1BY3Rpb24sZm9ybUVuY3R5cGUsZm9ybU1ldGhvZCwhZm9ybU5vVmFsaWRhdGUsZm9ybVRhcmdldCwjaGVpZ2h0LCFpbmNyZW1lbnRhbCwhaW5kZXRlcm1pbmF0ZSxtYXgsI21heExlbmd0aCxtaW4sI21pbkxlbmd0aCwhbXVsdGlwbGUsbmFtZSxwYXR0ZXJuLHBsYWNlaG9sZGVyLCFyZWFkT25seSwhcmVxdWlyZWQsc2VsZWN0aW9uRGlyZWN0aW9uLCNzZWxlY3Rpb25FbmQsI3NlbGVjdGlvblN0YXJ0LCNzaXplLHNyYyxzdGVwLHR5cGUsdXNlTWFwLHZhbHVlLCV2YWx1ZUFzRGF0ZSwjdmFsdWVBc051bWJlciwjd2lkdGgnLFxuICAgICdrZXlnZW58IWF1dG9mb2N1cyxjaGFsbGVuZ2UsIWRpc2FibGVkLGtleXR5cGUsbmFtZScsXG4gICAgJ2xpfHR5cGUsI3ZhbHVlJyxcbiAgICAnbGFiZWx8aHRtbEZvcicsXG4gICAgJ2xlZ2VuZHxhbGlnbicsXG4gICAgJ2xpbmt8YXMsY2hhcnNldCwlY3Jvc3NPcmlnaW4sIWRpc2FibGVkLGhyZWYsaHJlZmxhbmcsaW50ZWdyaXR5LG1lZGlhLHJlbCwlcmVsTGlzdCxyZXYsJXNpemVzLHRhcmdldCx0eXBlJyxcbiAgICAnbWFwfG5hbWUnLFxuICAgICdtYXJxdWVlfGJlaGF2aW9yLGJnQ29sb3IsZGlyZWN0aW9uLGhlaWdodCwjaHNwYWNlLCNsb29wLCNzY3JvbGxBbW91bnQsI3Njcm9sbERlbGF5LCF0cnVlU3BlZWQsI3ZzcGFjZSx3aWR0aCcsXG4gICAgJ21lbnV8IWNvbXBhY3QnLFxuICAgICdtZXRhfGNvbnRlbnQsaHR0cEVxdWl2LG5hbWUsc2NoZW1lJyxcbiAgICAnbWV0ZXJ8I2hpZ2gsI2xvdywjbWF4LCNtaW4sI29wdGltdW0sI3ZhbHVlJyxcbiAgICAnaW5zLGRlbHxjaXRlLGRhdGVUaW1lJyxcbiAgICAnb2x8IWNvbXBhY3QsIXJldmVyc2VkLCNzdGFydCx0eXBlJyxcbiAgICAnb2JqZWN0fGFsaWduLGFyY2hpdmUsYm9yZGVyLGNvZGUsY29kZUJhc2UsY29kZVR5cGUsZGF0YSwhZGVjbGFyZSxoZWlnaHQsI2hzcGFjZSxuYW1lLHN0YW5kYnksdHlwZSx1c2VNYXAsI3ZzcGFjZSx3aWR0aCcsXG4gICAgJ29wdGdyb3VwfCFkaXNhYmxlZCxsYWJlbCcsXG4gICAgJ29wdGlvbnwhZGVmYXVsdFNlbGVjdGVkLCFkaXNhYmxlZCxsYWJlbCwhc2VsZWN0ZWQsdGV4dCx2YWx1ZScsXG4gICAgJ291dHB1dHxkZWZhdWx0VmFsdWUsJWh0bWxGb3IsbmFtZSx2YWx1ZScsXG4gICAgJ3B8YWxpZ24nLFxuICAgICdwYXJhbXxuYW1lLHR5cGUsdmFsdWUsdmFsdWVUeXBlJyxcbiAgICAncGljdHVyZXwnLFxuICAgICdwcmV8I3dpZHRoJyxcbiAgICAncHJvZ3Jlc3N8I21heCwjdmFsdWUnLFxuICAgICdxLGJsb2NrcXVvdGUsY2l0ZXwnLFxuICAgICdzY3JpcHR8IWFzeW5jLGNoYXJzZXQsJWNyb3NzT3JpZ2luLCFkZWZlcixldmVudCxodG1sRm9yLGludGVncml0eSxzcmMsdGV4dCx0eXBlJyxcbiAgICAnc2VsZWN0fCFhdXRvZm9jdXMsIWRpc2FibGVkLCNsZW5ndGgsIW11bHRpcGxlLG5hbWUsIXJlcXVpcmVkLCNzZWxlY3RlZEluZGV4LCNzaXplLHZhbHVlJyxcbiAgICAnc2hhZG93fCcsXG4gICAgJ3NvdXJjZXxtZWRpYSxzaXplcyxzcmMsc3Jjc2V0LHR5cGUnLFxuICAgICdzcGFufCcsXG4gICAgJ3N0eWxlfCFkaXNhYmxlZCxtZWRpYSx0eXBlJyxcbiAgICAnY2FwdGlvbnxhbGlnbicsXG4gICAgJ3RoLHRkfGFiYnIsYWxpZ24sYXhpcyxiZ0NvbG9yLGNoLGNoT2ZmLCNjb2xTcGFuLGhlYWRlcnMsaGVpZ2h0LCFub1dyYXAsI3Jvd1NwYW4sc2NvcGUsdkFsaWduLHdpZHRoJyxcbiAgICAnY29sLGNvbGdyb3VwfGFsaWduLGNoLGNoT2ZmLCNzcGFuLHZBbGlnbix3aWR0aCcsXG4gICAgJ3RhYmxlfGFsaWduLGJnQ29sb3IsYm9yZGVyLCVjYXB0aW9uLGNlbGxQYWRkaW5nLGNlbGxTcGFjaW5nLGZyYW1lLHJ1bGVzLHN1bW1hcnksJXRGb290LCV0SGVhZCx3aWR0aCcsXG4gICAgJ3RyfGFsaWduLGJnQ29sb3IsY2gsY2hPZmYsdkFsaWduJyxcbiAgICAndGZvb3QsdGhlYWQsdGJvZHl8YWxpZ24sY2gsY2hPZmYsdkFsaWduJyxcbiAgICAndGVtcGxhdGV8JyxcbiAgICAndGV4dGFyZWF8YXV0b2NhcGl0YWxpemUsIWF1dG9mb2N1cywjY29scyxkZWZhdWx0VmFsdWUsZGlyTmFtZSwhZGlzYWJsZWQsI21heExlbmd0aCwjbWluTGVuZ3RoLG5hbWUscGxhY2Vob2xkZXIsIXJlYWRPbmx5LCFyZXF1aXJlZCwjcm93cyxzZWxlY3Rpb25EaXJlY3Rpb24sI3NlbGVjdGlvbkVuZCwjc2VsZWN0aW9uU3RhcnQsdmFsdWUsd3JhcCcsXG4gICAgJ3RpdGxlfHRleHQnLFxuICAgICd0cmFja3whZGVmYXVsdCxraW5kLGxhYmVsLHNyYyxzcmNsYW5nJyxcbiAgICAndWx8IWNvbXBhY3QsdHlwZScsXG4gICAgJ3Vua25vd258JyxcbiAgICAndmlkZW9ebWVkaWF8I2hlaWdodCxwb3N0ZXIsI3dpZHRoJyxcbiAgICAnQHN2ZzphXkBzdmc6Z3JhcGhpY3N8JyxcbiAgICAnQHN2ZzphbmltYXRlXkBzdmc6YW5pbWF0aW9ufCcsXG4gICAgJ0Bzdmc6YW5pbWF0ZU1vdGlvbl5Ac3ZnOmFuaW1hdGlvbnwnLFxuICAgICdAc3ZnOmFuaW1hdGVUcmFuc2Zvcm1eQHN2ZzphbmltYXRpb258JyxcbiAgICAnQHN2ZzpjaXJjbGVeQHN2ZzpnZW9tZXRyeXwnLFxuICAgICdAc3ZnOmNsaXBQYXRoXkBzdmc6Z3JhcGhpY3N8JyxcbiAgICAnQHN2ZzpjdXJzb3JeQHN2Zzp8JyxcbiAgICAnQHN2ZzpkZWZzXkBzdmc6Z3JhcGhpY3N8JyxcbiAgICAnQHN2ZzpkZXNjXkBzdmc6fCcsXG4gICAgJ0Bzdmc6ZGlzY2FyZF5Ac3ZnOnwnLFxuICAgICdAc3ZnOmVsbGlwc2VeQHN2ZzpnZW9tZXRyeXwnLFxuICAgICdAc3ZnOmZlQmxlbmReQHN2Zzp8JyxcbiAgICAnQHN2ZzpmZUNvbG9yTWF0cml4XkBzdmc6fCcsXG4gICAgJ0Bzdmc6ZmVDb21wb25lbnRUcmFuc2Zlcl5Ac3ZnOnwnLFxuICAgICdAc3ZnOmZlQ29tcG9zaXRlXkBzdmc6fCcsXG4gICAgJ0Bzdmc6ZmVDb252b2x2ZU1hdHJpeF5Ac3ZnOnwnLFxuICAgICdAc3ZnOmZlRGlmZnVzZUxpZ2h0aW5nXkBzdmc6fCcsXG4gICAgJ0Bzdmc6ZmVEaXNwbGFjZW1lbnRNYXBeQHN2Zzp8JyxcbiAgICAnQHN2ZzpmZURpc3RhbnRMaWdodF5Ac3ZnOnwnLFxuICAgICdAc3ZnOmZlRHJvcFNoYWRvd15Ac3ZnOnwnLFxuICAgICdAc3ZnOmZlRmxvb2ReQHN2Zzp8JyxcbiAgICAnQHN2ZzpmZUZ1bmNBXkBzdmc6Y29tcG9uZW50VHJhbnNmZXJGdW5jdGlvbnwnLFxuICAgICdAc3ZnOmZlRnVuY0JeQHN2Zzpjb21wb25lbnRUcmFuc2ZlckZ1bmN0aW9ufCcsXG4gICAgJ0Bzdmc6ZmVGdW5jR15Ac3ZnOmNvbXBvbmVudFRyYW5zZmVyRnVuY3Rpb258JyxcbiAgICAnQHN2ZzpmZUZ1bmNSXkBzdmc6Y29tcG9uZW50VHJhbnNmZXJGdW5jdGlvbnwnLFxuICAgICdAc3ZnOmZlR2F1c3NpYW5CbHVyXkBzdmc6fCcsXG4gICAgJ0Bzdmc6ZmVJbWFnZV5Ac3ZnOnwnLFxuICAgICdAc3ZnOmZlTWVyZ2VeQHN2Zzp8JyxcbiAgICAnQHN2ZzpmZU1lcmdlTm9kZV5Ac3ZnOnwnLFxuICAgICdAc3ZnOmZlTW9ycGhvbG9neV5Ac3ZnOnwnLFxuICAgICdAc3ZnOmZlT2Zmc2V0XkBzdmc6fCcsXG4gICAgJ0Bzdmc6ZmVQb2ludExpZ2h0XkBzdmc6fCcsXG4gICAgJ0Bzdmc6ZmVTcGVjdWxhckxpZ2h0aW5nXkBzdmc6fCcsXG4gICAgJ0Bzdmc6ZmVTcG90TGlnaHReQHN2Zzp8JyxcbiAgICAnQHN2ZzpmZVRpbGVeQHN2Zzp8JyxcbiAgICAnQHN2ZzpmZVR1cmJ1bGVuY2VeQHN2Zzp8JyxcbiAgICAnQHN2ZzpmaWx0ZXJeQHN2Zzp8JyxcbiAgICAnQHN2Zzpmb3JlaWduT2JqZWN0XkBzdmc6Z3JhcGhpY3N8JyxcbiAgICAnQHN2ZzpnXkBzdmc6Z3JhcGhpY3N8JyxcbiAgICAnQHN2ZzppbWFnZV5Ac3ZnOmdyYXBoaWNzfCcsXG4gICAgJ0Bzdmc6bGluZV5Ac3ZnOmdlb21ldHJ5fCcsXG4gICAgJ0Bzdmc6bGluZWFyR3JhZGllbnReQHN2ZzpncmFkaWVudHwnLFxuICAgICdAc3ZnOm1wYXRoXkBzdmc6fCcsXG4gICAgJ0Bzdmc6bWFya2VyXkBzdmc6fCcsXG4gICAgJ0Bzdmc6bWFza15Ac3ZnOnwnLFxuICAgICdAc3ZnOm1ldGFkYXRhXkBzdmc6fCcsXG4gICAgJ0Bzdmc6cGF0aF5Ac3ZnOmdlb21ldHJ5fCcsXG4gICAgJ0Bzdmc6cGF0dGVybl5Ac3ZnOnwnLFxuICAgICdAc3ZnOnBvbHlnb25eQHN2ZzpnZW9tZXRyeXwnLFxuICAgICdAc3ZnOnBvbHlsaW5lXkBzdmc6Z2VvbWV0cnl8JyxcbiAgICAnQHN2ZzpyYWRpYWxHcmFkaWVudF5Ac3ZnOmdyYWRpZW50fCcsXG4gICAgJ0Bzdmc6cmVjdF5Ac3ZnOmdlb21ldHJ5fCcsXG4gICAgJ0Bzdmc6c3ZnXkBzdmc6Z3JhcGhpY3N8I2N1cnJlbnRTY2FsZSwjem9vbUFuZFBhbicsXG4gICAgJ0Bzdmc6c2NyaXB0XkBzdmc6fHR5cGUnLFxuICAgICdAc3ZnOnNldF5Ac3ZnOmFuaW1hdGlvbnwnLFxuICAgICdAc3ZnOnN0b3BeQHN2Zzp8JyxcbiAgICAnQHN2ZzpzdHlsZV5Ac3ZnOnwhZGlzYWJsZWQsbWVkaWEsdGl0bGUsdHlwZScsXG4gICAgJ0Bzdmc6c3dpdGNoXkBzdmc6Z3JhcGhpY3N8JyxcbiAgICAnQHN2ZzpzeW1ib2xeQHN2Zzp8JyxcbiAgICAnQHN2Zzp0c3Bhbl5Ac3ZnOnRleHRQb3NpdGlvbmluZ3wnLFxuICAgICdAc3ZnOnRleHReQHN2Zzp0ZXh0UG9zaXRpb25pbmd8JyxcbiAgICAnQHN2Zzp0ZXh0UGF0aF5Ac3ZnOnRleHRDb250ZW50fCcsXG4gICAgJ0Bzdmc6dGl0bGVeQHN2Zzp8JyxcbiAgICAnQHN2Zzp1c2VeQHN2ZzpncmFwaGljc3wnLFxuICAgICdAc3ZnOnZpZXdeQHN2Zzp8I3pvb21BbmRQYW4nXG5dKTtcbnZhciBhdHRyVG9Qcm9wTWFwID0ge1xuICAgICdjbGFzcyc6ICdjbGFzc05hbWUnLFxuICAgICdpbm5lckh0bWwnOiAnaW5uZXJIVE1MJyxcbiAgICAncmVhZG9ubHknOiAncmVhZE9ubHknLFxuICAgICd0YWJpbmRleCc6ICd0YWJJbmRleCdcbn07XG52YXIgRG9tRWxlbWVudFNjaGVtYVJlZ2lzdHJ5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRG9tRWxlbWVudFNjaGVtYVJlZ2lzdHJ5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERvbUVsZW1lbnRTY2hlbWFSZWdpc3RyeSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuc2NoZW1hID0ge307XG4gICAgICAgIFNDSEVNQS5mb3JFYWNoKGZ1bmN0aW9uIChlbmNvZGVkVHlwZSkge1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gZW5jb2RlZFR5cGUuc3BsaXQoJ3wnKTtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0gcGFydHNbMV0uc3BsaXQoJywnKTtcbiAgICAgICAgICAgIHZhciB0eXBlUGFydHMgPSAocGFydHNbMF0gKyAnXicpLnNwbGl0KCdeJyk7XG4gICAgICAgICAgICB2YXIgdHlwZU5hbWUgPSB0eXBlUGFydHNbMF07XG4gICAgICAgICAgICB2YXIgdHlwZSA9IHt9O1xuICAgICAgICAgICAgdHlwZU5hbWUuc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uICh0YWcpIHsgcmV0dXJuIF90aGlzLnNjaGVtYVt0YWddID0gdHlwZTsgfSk7XG4gICAgICAgICAgICB2YXIgc3VwZXJUeXBlID0gX3RoaXMuc2NoZW1hW3R5cGVQYXJ0c1sxXV07XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChzdXBlclR5cGUpKSB7XG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIuZm9yRWFjaChzdXBlclR5cGUsIGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiB0eXBlW2tdID0gdjsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5ID09ICcnKSB7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3BlcnR5LnN0YXJ0c1dpdGgoJyonKSkge1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wZXJ0eS5zdGFydHNXaXRoKCchJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZVtwcm9wZXJ0eS5zdWJzdHJpbmcoMSldID0gQk9PTEVBTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcGVydHkuc3RhcnRzV2l0aCgnIycpKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGVbcHJvcGVydHkuc3Vic3RyaW5nKDEpXSA9IE5VTUJFUjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvcGVydHkuc3RhcnRzV2l0aCgnJScpKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGVbcHJvcGVydHkuc3Vic3RyaW5nKDEpXSA9IE9CSkVDVDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGVbcHJvcGVydHldID0gU1RSSU5HO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgRG9tRWxlbWVudFNjaGVtYVJlZ2lzdHJ5LnByb3RvdHlwZS5oYXNQcm9wZXJ0eSA9IGZ1bmN0aW9uICh0YWdOYW1lLCBwcm9wTmFtZSkge1xuICAgICAgICBpZiAodGFnTmFtZS5pbmRleE9mKCctJykgIT09IC0xKSB7XG4gICAgICAgICAgICAvLyBjYW4ndCB0ZWxsIG5vdyBhcyB3ZSBkb24ndCBrbm93IHdoaWNoIHByb3BlcnRpZXMgYSBjdXN0b20gZWxlbWVudCB3aWxsIGdldFxuICAgICAgICAgICAgLy8gb25jZSBpdCBpcyBpbnN0YW50aWF0ZWRcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnRQcm9wZXJ0aWVzID0gdGhpcy5zY2hlbWFbdGFnTmFtZS50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgICAgIGlmICghbGFuZ18xLmlzUHJlc2VudChlbGVtZW50UHJvcGVydGllcykpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50UHJvcGVydGllcyA9IHRoaXMuc2NoZW1hWyd1bmtub3duJ107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGFuZ18xLmlzUHJlc2VudChlbGVtZW50UHJvcGVydGllc1twcm9wTmFtZV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBzZWN1cml0eUNvbnRleHQgcmV0dXJucyB0aGUgc2VjdXJpdHkgY29udGV4dCBmb3IgdGhlIGdpdmVuIHByb3BlcnR5IG9uIHRoZSBnaXZlbiBET00gdGFnLlxuICAgICAqXG4gICAgICogVGFnIGFuZCBwcm9wZXJ0eSBuYW1lIGFyZSBzdGF0aWNhbGx5IGtub3duIGFuZCBjYW5ub3QgY2hhbmdlIGF0IHJ1bnRpbWUsIGkuZS4gaXQgaXMgbm90XG4gICAgICogcG9zc2libGUgdG8gYmluZCBhIHZhbHVlIGludG8gYSBjaGFuZ2luZyBhdHRyaWJ1dGUgb3IgdGFnIG5hbWUuXG4gICAgICpcbiAgICAgKiBUaGUgZmlsdGVyaW5nIGlzIHdoaXRlIGxpc3QgYmFzZWQuIEFsbCBhdHRyaWJ1dGVzIGluIHRoZSBzY2hlbWEgYWJvdmUgYXJlIGFzc3VtZWQgdG8gaGF2ZSB0aGVcbiAgICAgKiAnTk9ORScgc2VjdXJpdHkgY29udGV4dCwgaS5lLiB0aGF0IHRoZXkgYXJlIHNhZmUgaW5lcnQgc3RyaW5nIHZhbHVlcy4gT25seSBzcGVjaWZpYyB3ZWxsIGtub3duXG4gICAgICogYXR0YWNrIHZlY3RvcnMgYXJlIGFzc2lnbmVkIHRoZWlyIGFwcHJvcHJpYXRlIGNvbnRleHQuXG4gICAgICovXG4gICAgRG9tRWxlbWVudFNjaGVtYVJlZ2lzdHJ5LnByb3RvdHlwZS5zZWN1cml0eUNvbnRleHQgPSBmdW5jdGlvbiAodGFnTmFtZSwgcHJvcE5hbWUpIHtcbiAgICAgICAgLy8gVE9ETyhtYXJ0aW5wcm9ic3QpOiBGaWxsIGluIG1pc3NpbmcgcHJvcGVydGllcy5cbiAgICAgICAgaWYgKHByb3BOYW1lID09PSAnc3R5bGUnKVxuICAgICAgICAgICAgcmV0dXJuIGNvcmVfcHJpdmF0ZV8xLlNlY3VyaXR5Q29udGV4dC5TVFlMRTtcbiAgICAgICAgaWYgKHRhZ05hbWUgPT09ICdhJyAmJiBwcm9wTmFtZSA9PT0gJ2hyZWYnKVxuICAgICAgICAgICAgcmV0dXJuIGNvcmVfcHJpdmF0ZV8xLlNlY3VyaXR5Q29udGV4dC5VUkw7XG4gICAgICAgIGlmIChwcm9wTmFtZSA9PT0gJ2lubmVySFRNTCcpXG4gICAgICAgICAgICByZXR1cm4gY29yZV9wcml2YXRlXzEuU2VjdXJpdHlDb250ZXh0LkhUTUw7XG4gICAgICAgIHJldHVybiBjb3JlX3ByaXZhdGVfMS5TZWN1cml0eUNvbnRleHQuTk9ORTtcbiAgICB9O1xuICAgIERvbUVsZW1lbnRTY2hlbWFSZWdpc3RyeS5wcm90b3R5cGUuZ2V0TWFwcGVkUHJvcE5hbWUgPSBmdW5jdGlvbiAocHJvcE5hbWUpIHtcbiAgICAgICAgdmFyIG1hcHBlZFByb3BOYW1lID0gY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIuZ2V0KGF0dHJUb1Byb3BNYXAsIHByb3BOYW1lKTtcbiAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQobWFwcGVkUHJvcE5hbWUpID8gbWFwcGVkUHJvcE5hbWUgOiBwcm9wTmFtZTtcbiAgICB9O1xuICAgIERvbUVsZW1lbnRTY2hlbWFSZWdpc3RyeS5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICBEb21FbGVtZW50U2NoZW1hUmVnaXN0cnkuY3RvclBhcmFtZXRlcnMgPSBbXTtcbiAgICByZXR1cm4gRG9tRWxlbWVudFNjaGVtYVJlZ2lzdHJ5O1xufShlbGVtZW50X3NjaGVtYV9yZWdpc3RyeV8xLkVsZW1lbnRTY2hlbWFSZWdpc3RyeSkpO1xuZXhwb3J0cy5Eb21FbGVtZW50U2NoZW1hUmVnaXN0cnkgPSBEb21FbGVtZW50U2NoZW1hUmVnaXN0cnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kb21fZWxlbWVudF9zY2hlbWFfcmVnaXN0cnkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgRWxlbWVudFNjaGVtYVJlZ2lzdHJ5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFbGVtZW50U2NoZW1hUmVnaXN0cnkoKSB7XG4gICAgfVxuICAgIHJldHVybiBFbGVtZW50U2NoZW1hUmVnaXN0cnk7XG59KCkpO1xuZXhwb3J0cy5FbGVtZW50U2NoZW1hUmVnaXN0cnkgPSBFbGVtZW50U2NoZW1hUmVnaXN0cnk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbGVtZW50X3NjaGVtYV9yZWdpc3RyeS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBfRU1QVFlfQVRUUl9WQUxVRSA9ICcnO1xuLy8gVE9ETzogQ2FuJ3QgdXNlIGBjb25zdGAgaGVyZSBhc1xuLy8gaW4gRGFydCB0aGlzIGlzIG5vdCB0cmFuc3BpbGVkIGludG8gYGZpbmFsYCB5ZXQuLi5cbnZhciBfU0VMRUNUT1JfUkVHRVhQID0gbGFuZ18xLlJlZ0V4cFdyYXBwZXIuY3JlYXRlKCcoXFxcXDpub3RcXFxcKCl8JyArXG4gICAgJyhbLVxcXFx3XSspfCcgK1xuICAgICcoPzpcXFxcLihbLVxcXFx3XSspKXwnICtcbiAgICAnKD86XFxcXFsoWy1cXFxcdypdKykoPzo9KFteXFxcXF1dKikpP1xcXFxdKXwnICtcbiAgICAnKFxcXFwpKXwnICtcbiAgICAnKFxcXFxzKixcXFxccyopJyk7IC8vIFwiLFwiXG4vKipcbiAqIEEgY3NzIHNlbGVjdG9yIGNvbnRhaW5zIGFuIGVsZW1lbnQgbmFtZSxcbiAqIGNzcyBjbGFzc2VzIGFuZCBhdHRyaWJ1dGUvdmFsdWUgcGFpcnMgd2l0aCB0aGUgcHVycG9zZVxuICogb2Ygc2VsZWN0aW5nIHN1YnNldHMgb3V0IG9mIHRoZW0uXG4gKi9cbnZhciBDc3NTZWxlY3RvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ3NzU2VsZWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2xhc3NOYW1lcyA9IFtdO1xuICAgICAgICB0aGlzLmF0dHJzID0gW107XG4gICAgICAgIHRoaXMubm90U2VsZWN0b3JzID0gW107XG4gICAgfVxuICAgIENzc1NlbGVjdG9yLnBhcnNlID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICAgIHZhciBfYWRkUmVzdWx0ID0gZnVuY3Rpb24gKHJlcywgY3NzU2VsKSB7XG4gICAgICAgICAgICBpZiAoY3NzU2VsLm5vdFNlbGVjdG9ycy5sZW5ndGggPiAwICYmIGxhbmdfMS5pc0JsYW5rKGNzc1NlbC5lbGVtZW50KSAmJlxuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5pc0VtcHR5KGNzc1NlbC5jbGFzc05hbWVzKSAmJiBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuaXNFbXB0eShjc3NTZWwuYXR0cnMpKSB7XG4gICAgICAgICAgICAgICAgY3NzU2VsLmVsZW1lbnQgPSBcIipcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5wdXNoKGNzc1NlbCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBjc3NTZWxlY3RvciA9IG5ldyBDc3NTZWxlY3RvcigpO1xuICAgICAgICB2YXIgbWF0Y2hlciA9IGxhbmdfMS5SZWdFeHBXcmFwcGVyLm1hdGNoZXIoX1NFTEVDVE9SX1JFR0VYUCwgc2VsZWN0b3IpO1xuICAgICAgICB2YXIgbWF0Y2g7XG4gICAgICAgIHZhciBjdXJyZW50ID0gY3NzU2VsZWN0b3I7XG4gICAgICAgIHZhciBpbk5vdCA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAobGFuZ18xLmlzUHJlc2VudChtYXRjaCA9IGxhbmdfMS5SZWdFeHBNYXRjaGVyV3JhcHBlci5uZXh0KG1hdGNoZXIpKSkge1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQobWF0Y2hbMV0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKGluTm90KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbignTmVzdGluZyA6bm90IGlzIG5vdCBhbGxvd2VkIGluIGEgc2VsZWN0b3InKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5Ob3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBuZXcgQ3NzU2VsZWN0b3IoKTtcbiAgICAgICAgICAgICAgICBjc3NTZWxlY3Rvci5ub3RTZWxlY3RvcnMucHVzaChjdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KG1hdGNoWzJdKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQuc2V0RWxlbWVudChtYXRjaFsyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChtYXRjaFszXSkpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50LmFkZENsYXNzTmFtZShtYXRjaFszXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChtYXRjaFs0XSkpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50LmFkZEF0dHJpYnV0ZShtYXRjaFs0XSwgbWF0Y2hbNV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQobWF0Y2hbNl0pKSB7XG4gICAgICAgICAgICAgICAgaW5Ob3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3NzU2VsZWN0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChtYXRjaFs3XSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5Ob3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKCdNdWx0aXBsZSBzZWxlY3RvcnMgaW4gOm5vdCBhcmUgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfYWRkUmVzdWx0KHJlc3VsdHMsIGNzc1NlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICBjc3NTZWxlY3RvciA9IGN1cnJlbnQgPSBuZXcgQ3NzU2VsZWN0b3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfYWRkUmVzdWx0KHJlc3VsdHMsIGNzc1NlbGVjdG9yKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfTtcbiAgICBDc3NTZWxlY3Rvci5wcm90b3R5cGUuaXNFbGVtZW50U2VsZWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHRoaXMuZWxlbWVudCkgJiYgY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmlzRW1wdHkodGhpcy5jbGFzc05hbWVzKSAmJlxuICAgICAgICAgICAgY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmlzRW1wdHkodGhpcy5hdHRycykgJiYgdGhpcy5ub3RTZWxlY3RvcnMubGVuZ3RoID09PSAwO1xuICAgIH07XG4gICAgQ3NzU2VsZWN0b3IucHJvdG90eXBlLnNldEVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudCA9PT0gdm9pZCAwKSB7IGVsZW1lbnQgPSBudWxsOyB9XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfTtcbiAgICAvKiogR2V0cyBhIHRlbXBsYXRlIHN0cmluZyBmb3IgYW4gZWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yLiAqL1xuICAgIENzc1NlbGVjdG9yLnByb3RvdHlwZS5nZXRNYXRjaGluZ0VsZW1lbnRUZW1wbGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRhZ05hbWUgPSBsYW5nXzEuaXNQcmVzZW50KHRoaXMuZWxlbWVudCkgPyB0aGlzLmVsZW1lbnQgOiAnZGl2JztcbiAgICAgICAgdmFyIGNsYXNzQXR0ciA9IHRoaXMuY2xhc3NOYW1lcy5sZW5ndGggPiAwID8gXCIgY2xhc3M9XFxcIlwiICsgdGhpcy5jbGFzc05hbWVzLmpvaW4oJyAnKSArIFwiXFxcIlwiIDogJyc7XG4gICAgICAgIHZhciBhdHRycyA9ICcnO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYXR0cnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciBhdHRyTmFtZSA9IHRoaXMuYXR0cnNbaV07XG4gICAgICAgICAgICB2YXIgYXR0clZhbHVlID0gdGhpcy5hdHRyc1tpICsgMV0gIT09ICcnID8gXCI9XFxcIlwiICsgdGhpcy5hdHRyc1tpICsgMV0gKyBcIlxcXCJcIiA6ICcnO1xuICAgICAgICAgICAgYXR0cnMgKz0gXCIgXCIgKyBhdHRyTmFtZSArIGF0dHJWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCI8XCIgKyB0YWdOYW1lICsgY2xhc3NBdHRyICsgYXR0cnMgKyBcIj48L1wiICsgdGFnTmFtZSArIFwiPlwiO1xuICAgIH07XG4gICAgQ3NzU2VsZWN0b3IucHJvdG90eXBlLmFkZEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkgeyB2YWx1ZSA9IF9FTVBUWV9BVFRSX1ZBTFVFOyB9XG4gICAgICAgIHRoaXMuYXR0cnMucHVzaChuYW1lKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IF9FTVBUWV9BVFRSX1ZBTFVFO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXR0cnMucHVzaCh2YWx1ZSk7XG4gICAgfTtcbiAgICBDc3NTZWxlY3Rvci5wcm90b3R5cGUuYWRkQ2xhc3NOYW1lID0gZnVuY3Rpb24gKG5hbWUpIHsgdGhpcy5jbGFzc05hbWVzLnB1c2gobmFtZS50b0xvd2VyQ2FzZSgpKTsgfTtcbiAgICBDc3NTZWxlY3Rvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXMgPSAnJztcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGhpcy5lbGVtZW50KSkge1xuICAgICAgICAgICAgcmVzICs9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLmNsYXNzTmFtZXMpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2xhc3NOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHJlcyArPSAnLicgKyB0aGlzLmNsYXNzTmFtZXNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGhpcy5hdHRycykpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hdHRycy5sZW5ndGg7KSB7XG4gICAgICAgICAgICAgICAgdmFyIGF0dHJOYW1lID0gdGhpcy5hdHRyc1tpKytdO1xuICAgICAgICAgICAgICAgIHZhciBhdHRyVmFsdWUgPSB0aGlzLmF0dHJzW2krK107XG4gICAgICAgICAgICAgICAgcmVzICs9ICdbJyArIGF0dHJOYW1lO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyVmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXMgKz0gJz0nICsgYXR0clZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXMgKz0gJ10nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubm90U2VsZWN0b3JzLmZvckVhY2goZnVuY3Rpb24gKG5vdFNlbGVjdG9yKSB7IHJldHVybiByZXMgKz0gXCI6bm90KFwiICsgbm90U2VsZWN0b3IgKyBcIilcIjsgfSk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICByZXR1cm4gQ3NzU2VsZWN0b3I7XG59KCkpO1xuZXhwb3J0cy5Dc3NTZWxlY3RvciA9IENzc1NlbGVjdG9yO1xuLyoqXG4gKiBSZWFkcyBhIGxpc3Qgb2YgQ3NzU2VsZWN0b3JzIGFuZCBhbGxvd3MgdG8gY2FsY3VsYXRlIHdoaWNoIG9uZXNcbiAqIGFyZSBjb250YWluZWQgaW4gYSBnaXZlbiBDc3NTZWxlY3Rvci5cbiAqL1xudmFyIFNlbGVjdG9yTWF0Y2hlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2VsZWN0b3JNYXRjaGVyKCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50TWFwID0gbmV3IGNvbGxlY3Rpb25fMS5NYXAoKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudFBhcnRpYWxNYXAgPSBuZXcgY29sbGVjdGlvbl8xLk1hcCgpO1xuICAgICAgICB0aGlzLl9jbGFzc01hcCA9IG5ldyBjb2xsZWN0aW9uXzEuTWFwKCk7XG4gICAgICAgIHRoaXMuX2NsYXNzUGFydGlhbE1hcCA9IG5ldyBjb2xsZWN0aW9uXzEuTWFwKCk7XG4gICAgICAgIHRoaXMuX2F0dHJWYWx1ZU1hcCA9IG5ldyBjb2xsZWN0aW9uXzEuTWFwKCk7XG4gICAgICAgIHRoaXMuX2F0dHJWYWx1ZVBhcnRpYWxNYXAgPSBuZXcgY29sbGVjdGlvbl8xLk1hcCgpO1xuICAgICAgICB0aGlzLl9saXN0Q29udGV4dHMgPSBbXTtcbiAgICB9XG4gICAgU2VsZWN0b3JNYXRjaGVyLmNyZWF0ZU5vdE1hdGNoZXIgPSBmdW5jdGlvbiAobm90U2VsZWN0b3JzKSB7XG4gICAgICAgIHZhciBub3RNYXRjaGVyID0gbmV3IFNlbGVjdG9yTWF0Y2hlcigpO1xuICAgICAgICBub3RNYXRjaGVyLmFkZFNlbGVjdGFibGVzKG5vdFNlbGVjdG9ycywgbnVsbCk7XG4gICAgICAgIHJldHVybiBub3RNYXRjaGVyO1xuICAgIH07XG4gICAgU2VsZWN0b3JNYXRjaGVyLnByb3RvdHlwZS5hZGRTZWxlY3RhYmxlcyA9IGZ1bmN0aW9uIChjc3NTZWxlY3RvcnMsIGNhbGxiYWNrQ3R4dCkge1xuICAgICAgICB2YXIgbGlzdENvbnRleHQgPSBudWxsO1xuICAgICAgICBpZiAoY3NzU2VsZWN0b3JzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGxpc3RDb250ZXh0ID0gbmV3IFNlbGVjdG9yTGlzdENvbnRleHQoY3NzU2VsZWN0b3JzKTtcbiAgICAgICAgICAgIHRoaXMuX2xpc3RDb250ZXh0cy5wdXNoKGxpc3RDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNzc1NlbGVjdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fYWRkU2VsZWN0YWJsZShjc3NTZWxlY3RvcnNbaV0sIGNhbGxiYWNrQ3R4dCwgbGlzdENvbnRleHQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIGZvdW5kIGxhdGVyIG9uIGJ5IGNhbGxpbmcgYG1hdGNoYC5cbiAgICAgKiBAcGFyYW0gY3NzU2VsZWN0b3IgQSBjc3Mgc2VsZWN0b3JcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tDdHh0IEFuIG9wYXF1ZSBvYmplY3QgdGhhdCB3aWxsIGJlIGdpdmVuIHRvIHRoZSBjYWxsYmFjayBvZiB0aGUgYG1hdGNoYCBmdW5jdGlvblxuICAgICAqL1xuICAgIFNlbGVjdG9yTWF0Y2hlci5wcm90b3R5cGUuX2FkZFNlbGVjdGFibGUgPSBmdW5jdGlvbiAoY3NzU2VsZWN0b3IsIGNhbGxiYWNrQ3R4dCwgbGlzdENvbnRleHQpIHtcbiAgICAgICAgdmFyIG1hdGNoZXIgPSB0aGlzO1xuICAgICAgICB2YXIgZWxlbWVudCA9IGNzc1NlbGVjdG9yLmVsZW1lbnQ7XG4gICAgICAgIHZhciBjbGFzc05hbWVzID0gY3NzU2VsZWN0b3IuY2xhc3NOYW1lcztcbiAgICAgICAgdmFyIGF0dHJzID0gY3NzU2VsZWN0b3IuYXR0cnM7XG4gICAgICAgIHZhciBzZWxlY3RhYmxlID0gbmV3IFNlbGVjdG9yQ29udGV4dChjc3NTZWxlY3RvciwgY2FsbGJhY2tDdHh0LCBsaXN0Q29udGV4dCk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGVsZW1lbnQpKSB7XG4gICAgICAgICAgICB2YXIgaXNUZXJtaW5hbCA9IGF0dHJzLmxlbmd0aCA9PT0gMCAmJiBjbGFzc05hbWVzLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgICAgIGlmIChpc1Rlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkVGVybWluYWwobWF0Y2hlci5fZWxlbWVudE1hcCwgZWxlbWVudCwgc2VsZWN0YWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVyID0gdGhpcy5fYWRkUGFydGlhbChtYXRjaGVyLl9lbGVtZW50UGFydGlhbE1hcCwgZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoY2xhc3NOYW1lcykpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBjbGFzc05hbWVzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIHZhciBpc1Rlcm1pbmFsID0gYXR0cnMubGVuZ3RoID09PSAwICYmIGluZGV4ID09PSBjbGFzc05hbWVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChpc1Rlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZFRlcm1pbmFsKG1hdGNoZXIuX2NsYXNzTWFwLCBjbGFzc05hbWUsIHNlbGVjdGFibGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlciA9IHRoaXMuX2FkZFBhcnRpYWwobWF0Y2hlci5fY2xhc3NQYXJ0aWFsTWFwLCBjbGFzc05hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChhdHRycykpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBhdHRycy5sZW5ndGg7KSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzVGVybWluYWwgPSBpbmRleCA9PT0gYXR0cnMubGVuZ3RoIC0gMjtcbiAgICAgICAgICAgICAgICB2YXIgYXR0ck5hbWUgPSBhdHRyc1tpbmRleCsrXTtcbiAgICAgICAgICAgICAgICB2YXIgYXR0clZhbHVlID0gYXR0cnNbaW5kZXgrK107XG4gICAgICAgICAgICAgICAgaWYgKGlzVGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm1pbmFsTWFwID0gbWF0Y2hlci5fYXR0clZhbHVlTWFwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGVybWluYWxWYWx1ZXNNYXAgPSB0ZXJtaW5hbE1hcC5nZXQoYXR0ck5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsodGVybWluYWxWYWx1ZXNNYXApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbFZhbHVlc01hcCA9IG5ldyBjb2xsZWN0aW9uXzEuTWFwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbE1hcC5zZXQoYXR0ck5hbWUsIHRlcm1pbmFsVmFsdWVzTWFwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRUZXJtaW5hbCh0ZXJtaW5hbFZhbHVlc01hcCwgYXR0clZhbHVlLCBzZWxlY3RhYmxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0dGlhbE1hcCA9IG1hdGNoZXIuX2F0dHJWYWx1ZVBhcnRpYWxNYXA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0aWFsVmFsdWVzTWFwID0gcGFydHRpYWxNYXAuZ2V0KGF0dHJOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHBhcnRpYWxWYWx1ZXNNYXApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsVmFsdWVzTWFwID0gbmV3IGNvbGxlY3Rpb25fMS5NYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnR0aWFsTWFwLnNldChhdHRyTmFtZSwgcGFydGlhbFZhbHVlc01hcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlciA9IHRoaXMuX2FkZFBhcnRpYWwocGFydGlhbFZhbHVlc01hcCwgYXR0clZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNlbGVjdG9yTWF0Y2hlci5wcm90b3R5cGUuX2FkZFRlcm1pbmFsID0gZnVuY3Rpb24gKG1hcCwgbmFtZSwgc2VsZWN0YWJsZSkge1xuICAgICAgICB2YXIgdGVybWluYWxMaXN0ID0gbWFwLmdldChuYW1lKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHRlcm1pbmFsTGlzdCkpIHtcbiAgICAgICAgICAgIHRlcm1pbmFsTGlzdCA9IFtdO1xuICAgICAgICAgICAgbWFwLnNldChuYW1lLCB0ZXJtaW5hbExpc3QpO1xuICAgICAgICB9XG4gICAgICAgIHRlcm1pbmFsTGlzdC5wdXNoKHNlbGVjdGFibGUpO1xuICAgIH07XG4gICAgU2VsZWN0b3JNYXRjaGVyLnByb3RvdHlwZS5fYWRkUGFydGlhbCA9IGZ1bmN0aW9uIChtYXAsIG5hbWUpIHtcbiAgICAgICAgdmFyIG1hdGNoZXIgPSBtYXAuZ2V0KG5hbWUpO1xuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsobWF0Y2hlcikpIHtcbiAgICAgICAgICAgIG1hdGNoZXIgPSBuZXcgU2VsZWN0b3JNYXRjaGVyKCk7XG4gICAgICAgICAgICBtYXAuc2V0KG5hbWUsIG1hdGNoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXRjaGVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgb2JqZWN0cyB0aGF0IGhhdmUgYmVlbiBhZGRlZCB2aWEgYGFkZFNlbGVjdGFibGVgXG4gICAgICogd2hvc2UgY3NzIHNlbGVjdG9yIGlzIGNvbnRhaW5lZCBpbiB0aGUgZ2l2ZW4gY3NzIHNlbGVjdG9yLlxuICAgICAqIEBwYXJhbSBjc3NTZWxlY3RvciBBIGNzcyBzZWxlY3RvclxuICAgICAqIEBwYXJhbSBtYXRjaGVkQ2FsbGJhY2sgVGhpcyBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBvYmplY3QgaGFuZGVkIGludG8gYGFkZFNlbGVjdGFibGVgXG4gICAgICogQHJldHVybiBib29sZWFuIHRydWUgaWYgYSBtYXRjaCB3YXMgZm91bmRcbiAgICAqL1xuICAgIFNlbGVjdG9yTWF0Y2hlci5wcm90b3R5cGUubWF0Y2ggPSBmdW5jdGlvbiAoY3NzU2VsZWN0b3IsIG1hdGNoZWRDYWxsYmFjaykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIHZhciBlbGVtZW50ID0gY3NzU2VsZWN0b3IuZWxlbWVudDtcbiAgICAgICAgdmFyIGNsYXNzTmFtZXMgPSBjc3NTZWxlY3Rvci5jbGFzc05hbWVzO1xuICAgICAgICB2YXIgYXR0cnMgPSBjc3NTZWxlY3Rvci5hdHRycztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9saXN0Q29udGV4dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX2xpc3RDb250ZXh0c1tpXS5hbHJlYWR5TWF0Y2hlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuX21hdGNoVGVybWluYWwodGhpcy5fZWxlbWVudE1hcCwgZWxlbWVudCwgY3NzU2VsZWN0b3IsIG1hdGNoZWRDYWxsYmFjaykgfHwgcmVzdWx0O1xuICAgICAgICByZXN1bHQgPSB0aGlzLl9tYXRjaFBhcnRpYWwodGhpcy5fZWxlbWVudFBhcnRpYWxNYXAsIGVsZW1lbnQsIGNzc1NlbGVjdG9yLCBtYXRjaGVkQ2FsbGJhY2spIHx8XG4gICAgICAgICAgICByZXN1bHQ7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGNsYXNzTmFtZXMpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgY2xhc3NOYW1lcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lc1tpbmRleF07XG4gICAgICAgICAgICAgICAgcmVzdWx0ID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWF0Y2hUZXJtaW5hbCh0aGlzLl9jbGFzc01hcCwgY2xhc3NOYW1lLCBjc3NTZWxlY3RvciwgbWF0Y2hlZENhbGxiYWNrKSB8fCByZXN1bHQ7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWF0Y2hQYXJ0aWFsKHRoaXMuX2NsYXNzUGFydGlhbE1hcCwgY2xhc3NOYW1lLCBjc3NTZWxlY3RvciwgbWF0Y2hlZENhbGxiYWNrKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGF0dHJzKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGF0dHJzLmxlbmd0aDspIHtcbiAgICAgICAgICAgICAgICB2YXIgYXR0ck5hbWUgPSBhdHRyc1tpbmRleCsrXTtcbiAgICAgICAgICAgICAgICB2YXIgYXR0clZhbHVlID0gYXR0cnNbaW5kZXgrK107XG4gICAgICAgICAgICAgICAgdmFyIHRlcm1pbmFsVmFsdWVzTWFwID0gdGhpcy5fYXR0clZhbHVlTWFwLmdldChhdHRyTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFsYW5nXzEuU3RyaW5nV3JhcHBlci5lcXVhbHMoYXR0clZhbHVlLCBfRU1QVFlfQVRUUl9WQUxVRSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5fbWF0Y2hUZXJtaW5hbCh0ZXJtaW5hbFZhbHVlc01hcCwgX0VNUFRZX0FUVFJfVkFMVUUsIGNzc1NlbGVjdG9yLCBtYXRjaGVkQ2FsbGJhY2spIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX21hdGNoVGVybWluYWwodGVybWluYWxWYWx1ZXNNYXAsIGF0dHJWYWx1ZSwgY3NzU2VsZWN0b3IsIG1hdGNoZWRDYWxsYmFjaykgfHxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0O1xuICAgICAgICAgICAgICAgIHZhciBwYXJ0aWFsVmFsdWVzTWFwID0gdGhpcy5fYXR0clZhbHVlUGFydGlhbE1hcC5nZXQoYXR0ck5hbWUpO1xuICAgICAgICAgICAgICAgIGlmICghbGFuZ18xLlN0cmluZ1dyYXBwZXIuZXF1YWxzKGF0dHJWYWx1ZSwgX0VNUFRZX0FUVFJfVkFMVUUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX21hdGNoUGFydGlhbChwYXJ0aWFsVmFsdWVzTWFwLCBfRU1QVFlfQVRUUl9WQUxVRSwgY3NzU2VsZWN0b3IsIG1hdGNoZWRDYWxsYmFjaykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0ID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWF0Y2hQYXJ0aWFsKHBhcnRpYWxWYWx1ZXNNYXAsIGF0dHJWYWx1ZSwgY3NzU2VsZWN0b3IsIG1hdGNoZWRDYWxsYmFjaykgfHwgcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgU2VsZWN0b3JNYXRjaGVyLnByb3RvdHlwZS5fbWF0Y2hUZXJtaW5hbCA9IGZ1bmN0aW9uIChtYXAsIG5hbWUsIGNzc1NlbGVjdG9yLCBtYXRjaGVkQ2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKG1hcCkgfHwgbGFuZ18xLmlzQmxhbmsobmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VsZWN0YWJsZXMgPSBtYXAuZ2V0KG5hbWUpO1xuICAgICAgICB2YXIgc3RhclNlbGVjdGFibGVzID0gbWFwLmdldChcIipcIik7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHN0YXJTZWxlY3RhYmxlcykpIHtcbiAgICAgICAgICAgIHNlbGVjdGFibGVzID0gc2VsZWN0YWJsZXMuY29uY2F0KHN0YXJTZWxlY3RhYmxlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHNlbGVjdGFibGVzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZWxlY3RhYmxlO1xuICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBzZWxlY3RhYmxlcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHNlbGVjdGFibGUgPSBzZWxlY3RhYmxlc1tpbmRleF07XG4gICAgICAgICAgICByZXN1bHQgPSBzZWxlY3RhYmxlLmZpbmFsaXplKGNzc1NlbGVjdG9yLCBtYXRjaGVkQ2FsbGJhY2spIHx8IHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIFNlbGVjdG9yTWF0Y2hlci5wcm90b3R5cGUuX21hdGNoUGFydGlhbCA9IGZ1bmN0aW9uIChtYXAsIG5hbWUsIGNzc1NlbGVjdG9yLCBtYXRjaGVkQ2FsbGJhY2sgLyo6IChjOiBDc3NTZWxlY3RvciwgYTogYW55KSA9PiB2b2lkKi8pIHtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKG1hcCkgfHwgbGFuZ18xLmlzQmxhbmsobmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmVzdGVkU2VsZWN0b3IgPSBtYXAuZ2V0KG5hbWUpO1xuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsobmVzdGVkU2VsZWN0b3IpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyhwZXJmKTogZ2V0IHJpZCBvZiByZWN1cnNpb24gYW5kIG1lYXN1cmUgYWdhaW5cbiAgICAgICAgLy8gVE9ETyhwZXJmKTogZG9uJ3QgcGFzcyB0aGUgd2hvbGUgc2VsZWN0b3IgaW50byB0aGUgcmVjdXJzaW9uLFxuICAgICAgICAvLyBidXQgb25seSB0aGUgbm90IHByb2Nlc3NlZCBwYXJ0c1xuICAgICAgICByZXR1cm4gbmVzdGVkU2VsZWN0b3IubWF0Y2goY3NzU2VsZWN0b3IsIG1hdGNoZWRDYWxsYmFjayk7XG4gICAgfTtcbiAgICByZXR1cm4gU2VsZWN0b3JNYXRjaGVyO1xufSgpKTtcbmV4cG9ydHMuU2VsZWN0b3JNYXRjaGVyID0gU2VsZWN0b3JNYXRjaGVyO1xudmFyIFNlbGVjdG9yTGlzdENvbnRleHQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNlbGVjdG9yTGlzdENvbnRleHQoc2VsZWN0b3JzKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0b3JzID0gc2VsZWN0b3JzO1xuICAgICAgICB0aGlzLmFscmVhZHlNYXRjaGVkID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBTZWxlY3Rvckxpc3RDb250ZXh0O1xufSgpKTtcbmV4cG9ydHMuU2VsZWN0b3JMaXN0Q29udGV4dCA9IFNlbGVjdG9yTGlzdENvbnRleHQ7XG4vLyBTdG9yZSBjb250ZXh0IHRvIHBhc3MgYmFjayBzZWxlY3RvciBhbmQgY29udGV4dCB3aGVuIGEgc2VsZWN0b3IgaXMgbWF0Y2hlZFxudmFyIFNlbGVjdG9yQ29udGV4dCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2VsZWN0b3JDb250ZXh0KHNlbGVjdG9yLCBjYkNvbnRleHQsIGxpc3RDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgdGhpcy5jYkNvbnRleHQgPSBjYkNvbnRleHQ7XG4gICAgICAgIHRoaXMubGlzdENvbnRleHQgPSBsaXN0Q29udGV4dDtcbiAgICAgICAgdGhpcy5ub3RTZWxlY3RvcnMgPSBzZWxlY3Rvci5ub3RTZWxlY3RvcnM7XG4gICAgfVxuICAgIFNlbGVjdG9yQ29udGV4dC5wcm90b3R5cGUuZmluYWxpemUgPSBmdW5jdGlvbiAoY3NzU2VsZWN0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5ub3RTZWxlY3RvcnMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgKGxhbmdfMS5pc0JsYW5rKHRoaXMubGlzdENvbnRleHQpIHx8ICF0aGlzLmxpc3RDb250ZXh0LmFscmVhZHlNYXRjaGVkKSkge1xuICAgICAgICAgICAgdmFyIG5vdE1hdGNoZXIgPSBTZWxlY3Rvck1hdGNoZXIuY3JlYXRlTm90TWF0Y2hlcih0aGlzLm5vdFNlbGVjdG9ycyk7XG4gICAgICAgICAgICByZXN1bHQgPSAhbm90TWF0Y2hlci5tYXRjaChjc3NTZWxlY3RvciwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdCAmJiBsYW5nXzEuaXNQcmVzZW50KGNhbGxiYWNrKSAmJlxuICAgICAgICAgICAgKGxhbmdfMS5pc0JsYW5rKHRoaXMubGlzdENvbnRleHQpIHx8ICF0aGlzLmxpc3RDb250ZXh0LmFscmVhZHlNYXRjaGVkKSkge1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGhpcy5saXN0Q29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RDb250ZXh0LmFscmVhZHlNYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMuc2VsZWN0b3IsIHRoaXMuY2JDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgcmV0dXJuIFNlbGVjdG9yQ29udGV4dDtcbn0oKSk7XG5leHBvcnRzLlNlbGVjdG9yQ29udGV4dCA9IFNlbGVjdG9yQ29udGV4dDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlbGVjdG9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvbGFuZycpO1xuLyoqXG4gKiBUaGlzIGZpbGUgaXMgYSBwb3J0IG9mIHNoYWRvd0NTUyBmcm9tIHdlYmNvbXBvbmVudHMuanMgdG8gVHlwZVNjcmlwdC5cbiAqXG4gKiBQbGVhc2UgbWFrZSBzdXJlIHRvIGtlZXAgdG8gZWRpdHMgaW4gc3luYyB3aXRoIHRoZSBzb3VyY2UgZmlsZS5cbiAqXG4gKiBTb3VyY2U6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vd2ViY29tcG9uZW50cy93ZWJjb21wb25lbnRzanMvYmxvYi80ZWZlY2Q3ZTBlL3NyYy9TaGFkb3dDU1MvU2hhZG93Q1NTLmpzXG4gKlxuICogVGhlIG9yaWdpbmFsIGZpbGUgbGV2ZWwgY29tbWVudCBpcyByZXByb2R1Y2VkIGJlbG93XG4gKi9cbi8qXG4gIFRoaXMgaXMgYSBsaW1pdGVkIHNoaW0gZm9yIFNoYWRvd0RPTSBjc3Mgc3R5bGluZy5cbiAgaHR0cHM6Ly9kdmNzLnczLm9yZy9oZy93ZWJjb21wb25lbnRzL3Jhdy1maWxlL3RpcC9zcGVjL3NoYWRvdy9pbmRleC5odG1sI3N0eWxlc1xuXG4gIFRoZSBpbnRlbnRpb24gaGVyZSBpcyB0byBzdXBwb3J0IG9ubHkgdGhlIHN0eWxpbmcgZmVhdHVyZXMgd2hpY2ggY2FuIGJlXG4gIHJlbGF0aXZlbHkgc2ltcGx5IGltcGxlbWVudGVkLiBUaGUgZ29hbCBpcyB0byBhbGxvdyB1c2VycyB0byBhdm9pZCB0aGVcbiAgbW9zdCBvYnZpb3VzIHBpdGZhbGxzIGFuZCBkbyBzbyB3aXRob3V0IGNvbXByb21pc2luZyBwZXJmb3JtYW5jZSBzaWduaWZpY2FudGx5LlxuICBGb3IgU2hhZG93RE9NIHN0eWxpbmcgdGhhdCdzIG5vdCBjb3ZlcmVkIGhlcmUsIGEgc2V0IG9mIGJlc3QgcHJhY3RpY2VzXG4gIGNhbiBiZSBwcm92aWRlZCB0aGF0IHNob3VsZCBhbGxvdyB1c2VycyB0byBhY2NvbXBsaXNoIG1vcmUgY29tcGxleCBzdHlsaW5nLlxuXG4gIFRoZSBmb2xsb3dpbmcgaXMgYSBsaXN0IG9mIHNwZWNpZmljIFNoYWRvd0RPTSBzdHlsaW5nIGZlYXR1cmVzIGFuZCBhIGJyaWVmXG4gIGRpc2N1c3Npb24gb2YgdGhlIGFwcHJvYWNoIHVzZWQgdG8gc2hpbS5cblxuICBTaGltbWVkIGZlYXR1cmVzOlxuXG4gICogOmhvc3QsIDpob3N0LWNvbnRleHQ6IFNoYWRvd0RPTSBhbGxvd3Mgc3R5bGluZyBvZiB0aGUgc2hhZG93Um9vdCdzIGhvc3RcbiAgZWxlbWVudCB1c2luZyB0aGUgOmhvc3QgcnVsZS4gVG8gc2hpbSB0aGlzIGZlYXR1cmUsIHRoZSA6aG9zdCBzdHlsZXMgYXJlXG4gIHJlZm9ybWF0dGVkIGFuZCBwcmVmaXhlZCB3aXRoIGEgZ2l2ZW4gc2NvcGUgbmFtZSBhbmQgcHJvbW90ZWQgdG8gYVxuICBkb2N1bWVudCBsZXZlbCBzdHlsZXNoZWV0LlxuICBGb3IgZXhhbXBsZSwgZ2l2ZW4gYSBzY29wZSBuYW1lIG9mIC5mb28sIGEgcnVsZSBsaWtlIHRoaXM6XG5cbiAgICA6aG9zdCB7XG4gICAgICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgYmVjb21lczpcblxuICAgIC5mb28ge1xuICAgICAgYmFja2dyb3VuZDogcmVkO1xuICAgIH1cblxuICAqIGVuY2Fwc3VsdGlvbjogU3R5bGVzIGRlZmluZWQgd2l0aGluIFNoYWRvd0RPTSwgYXBwbHkgb25seSB0b1xuICBkb20gaW5zaWRlIHRoZSBTaGFkb3dET00uIFBvbHltZXIgdXNlcyBvbmUgb2YgdHdvIHRlY2huaXF1ZXMgdG8gaW1wbGVtZW50XG4gIHRoaXMgZmVhdHVyZS5cblxuICBCeSBkZWZhdWx0LCBydWxlcyBhcmUgcHJlZml4ZWQgd2l0aCB0aGUgaG9zdCBlbGVtZW50IHRhZyBuYW1lXG4gIGFzIGEgZGVzY2VuZGFudCBzZWxlY3Rvci4gVGhpcyBlbnN1cmVzIHN0eWxpbmcgZG9lcyBub3QgbGVhayBvdXQgb2YgdGhlICd0b3AnXG4gIG9mIHRoZSBlbGVtZW50J3MgU2hhZG93RE9NLiBGb3IgZXhhbXBsZSxcblxuICBkaXYge1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuXG4gIGJlY29tZXM6XG5cbiAgeC1mb28gZGl2IHtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIH1cblxuICBiZWNvbWVzOlxuXG5cbiAgQWx0ZXJuYXRpdmVseSwgaWYgV2ViQ29tcG9uZW50cy5TaGFkb3dDU1Muc3RyaWN0U3R5bGluZyBpcyBzZXQgdG8gdHJ1ZSB0aGVuXG4gIHNlbGVjdG9ycyBhcmUgc2NvcGVkIGJ5IGFkZGluZyBhbiBhdHRyaWJ1dGUgc2VsZWN0b3Igc3VmZml4IHRvIGVhY2hcbiAgc2ltcGxlIHNlbGVjdG9yIHRoYXQgY29udGFpbnMgdGhlIGhvc3QgZWxlbWVudCB0YWcgbmFtZS4gRWFjaCBlbGVtZW50XG4gIGluIHRoZSBlbGVtZW50J3MgU2hhZG93RE9NIHRlbXBsYXRlIGlzIGFsc28gZ2l2ZW4gdGhlIHNjb3BlIGF0dHJpYnV0ZS5cbiAgVGh1cywgdGhlc2UgcnVsZXMgbWF0Y2ggb25seSBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHNjb3BlIGF0dHJpYnV0ZS5cbiAgRm9yIGV4YW1wbGUsIGdpdmVuIGEgc2NvcGUgbmFtZSBvZiB4LWZvbywgYSBydWxlIGxpa2UgdGhpczpcblxuICAgIGRpdiB7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG5cbiAgYmVjb21lczpcblxuICAgIGRpdlt4LWZvb10ge1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuXG4gIE5vdGUgdGhhdCBlbGVtZW50cyB0aGF0IGFyZSBkeW5hbWljYWxseSBhZGRlZCB0byBhIHNjb3BlIG11c3QgaGF2ZSB0aGUgc2NvcGVcbiAgc2VsZWN0b3IgYWRkZWQgdG8gdGhlbSBtYW51YWxseS5cblxuICAqIHVwcGVyL2xvd2VyIGJvdW5kIGVuY2Fwc3VsYXRpb246IFN0eWxlcyB3aGljaCBhcmUgZGVmaW5lZCBvdXRzaWRlIGFcbiAgc2hhZG93Um9vdCBzaG91bGQgbm90IGNyb3NzIHRoZSBTaGFkb3dET00gYm91bmRhcnkgYW5kIHNob3VsZCBub3QgYXBwbHlcbiAgaW5zaWRlIGEgc2hhZG93Um9vdC5cblxuICBUaGlzIHN0eWxpbmcgYmVoYXZpb3IgaXMgbm90IGVtdWxhdGVkLiBTb21lIHBvc3NpYmxlIHdheXMgdG8gZG8gdGhpcyB0aGF0XG4gIHdlcmUgcmVqZWN0ZWQgZHVlIHRvIGNvbXBsZXhpdHkgYW5kL29yIHBlcmZvcm1hbmNlIGNvbmNlcm5zIGluY2x1ZGU6ICgxKSByZXNldFxuICBldmVyeSBwb3NzaWJsZSBwcm9wZXJ0eSBmb3IgZXZlcnkgcG9zc2libGUgc2VsZWN0b3IgZm9yIGEgZ2l2ZW4gc2NvcGUgbmFtZTtcbiAgKDIpIHJlLWltcGxlbWVudCBjc3MgaW4gamF2YXNjcmlwdC5cblxuICBBcyBhbiBhbHRlcm5hdGl2ZSwgdXNlcnMgc2hvdWxkIG1ha2Ugc3VyZSB0byB1c2Ugc2VsZWN0b3JzXG4gIHNwZWNpZmljIHRvIHRoZSBzY29wZSBpbiB3aGljaCB0aGV5IGFyZSB3b3JraW5nLlxuXG4gICogOjpkaXN0cmlidXRlZDogVGhpcyBiZWhhdmlvciBpcyBub3QgZW11bGF0ZWQuIEl0J3Mgb2Z0ZW4gbm90IG5lY2Vzc2FyeVxuICB0byBzdHlsZSB0aGUgY29udGVudHMgb2YgYSBzcGVjaWZpYyBpbnNlcnRpb24gcG9pbnQgYW5kIGluc3RlYWQsIGRlc2NlbmRhbnRzXG4gIG9mIHRoZSBob3N0IGVsZW1lbnQgY2FuIGJlIHN0eWxlZCBzZWxlY3RpdmVseS4gVXNlcnMgY2FuIGFsc28gY3JlYXRlIGFuXG4gIGV4dHJhIG5vZGUgYXJvdW5kIGFuIGluc2VydGlvbiBwb2ludCBhbmQgc3R5bGUgdGhhdCBub2RlJ3MgY29udGVudHNcbiAgdmlhIGRlc2NlbmRlbnQgc2VsZWN0b3JzLiBGb3IgZXhhbXBsZSwgd2l0aCBhIHNoYWRvd1Jvb3QgbGlrZSB0aGlzOlxuXG4gICAgPHN0eWxlPlxuICAgICAgOjpjb250ZW50KGRpdikge1xuICAgICAgICBiYWNrZ3JvdW5kOiByZWQ7XG4gICAgICB9XG4gICAgPC9zdHlsZT5cbiAgICA8Y29udGVudD48L2NvbnRlbnQ+XG5cbiAgY291bGQgYmVjb21lOlxuXG4gICAgPHN0eWxlPlxuICAgICAgLyAqQHBvbHlmaWxsIC5jb250ZW50LWNvbnRhaW5lciBkaXYgKiAvXG4gICAgICA6OmNvbnRlbnQoZGl2KSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHJlZDtcbiAgICAgIH1cbiAgICA8L3N0eWxlPlxuICAgIDxkaXYgY2xhc3M9XCJjb250ZW50LWNvbnRhaW5lclwiPlxuICAgICAgPGNvbnRlbnQ+PC9jb250ZW50PlxuICAgIDwvZGl2PlxuXG4gIE5vdGUgdGhlIHVzZSBvZiBAcG9seWZpbGwgaW4gdGhlIGNvbW1lbnQgYWJvdmUgYSBTaGFkb3dET00gc3BlY2lmaWMgc3R5bGVcbiAgZGVjbGFyYXRpb24uIFRoaXMgaXMgYSBkaXJlY3RpdmUgdG8gdGhlIHN0eWxpbmcgc2hpbSB0byB1c2UgdGhlIHNlbGVjdG9yXG4gIGluIGNvbW1lbnRzIGluIGxpZXUgb2YgdGhlIG5leHQgc2VsZWN0b3Igd2hlbiBydW5uaW5nIHVuZGVyIHBvbHlmaWxsLlxuKi9cbnZhciBTaGFkb3dDc3MgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNoYWRvd0NzcygpIHtcbiAgICAgICAgdGhpcy5zdHJpY3RTdHlsaW5nID0gdHJ1ZTtcbiAgICB9XG4gICAgLypcbiAgICAqIFNoaW0gc29tZSBjc3NUZXh0IHdpdGggdGhlIGdpdmVuIHNlbGVjdG9yLiBSZXR1cm5zIGNzc1RleHQgdGhhdCBjYW5cbiAgICAqIGJlIGluY2x1ZGVkIGluIHRoZSBkb2N1bWVudCB2aWEgV2ViQ29tcG9uZW50cy5TaGFkb3dDU1MuYWRkQ3NzVG9Eb2N1bWVudChjc3MpLlxuICAgICpcbiAgICAqIFdoZW4gc3RyaWN0U3R5bGluZyBpcyB0cnVlOlxuICAgICogLSBzZWxlY3RvciBpcyB0aGUgYXR0cmlidXRlIGFkZGVkIHRvIGFsbCBlbGVtZW50cyBpbnNpZGUgdGhlIGhvc3QsXG4gICAgKiAtIGhvc3RTZWxlY3RvciBpcyB0aGUgYXR0cmlidXRlIGFkZGVkIHRvIHRoZSBob3N0IGl0c2VsZi5cbiAgICAqL1xuICAgIFNoYWRvd0Nzcy5wcm90b3R5cGUuc2hpbUNzc1RleHQgPSBmdW5jdGlvbiAoY3NzVGV4dCwgc2VsZWN0b3IsIGhvc3RTZWxlY3Rvcikge1xuICAgICAgICBpZiAoaG9zdFNlbGVjdG9yID09PSB2b2lkIDApIHsgaG9zdFNlbGVjdG9yID0gJyc7IH1cbiAgICAgICAgY3NzVGV4dCA9IHN0cmlwQ29tbWVudHMoY3NzVGV4dCk7XG4gICAgICAgIGNzc1RleHQgPSB0aGlzLl9pbnNlcnREaXJlY3RpdmVzKGNzc1RleHQpO1xuICAgICAgICByZXR1cm4gdGhpcy5fc2NvcGVDc3NUZXh0KGNzc1RleHQsIHNlbGVjdG9yLCBob3N0U2VsZWN0b3IpO1xuICAgIH07XG4gICAgU2hhZG93Q3NzLnByb3RvdHlwZS5faW5zZXJ0RGlyZWN0aXZlcyA9IGZ1bmN0aW9uIChjc3NUZXh0KSB7XG4gICAgICAgIGNzc1RleHQgPSB0aGlzLl9pbnNlcnRQb2x5ZmlsbERpcmVjdGl2ZXNJbkNzc1RleHQoY3NzVGV4dCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnNlcnRQb2x5ZmlsbFJ1bGVzSW5Dc3NUZXh0KGNzc1RleHQpO1xuICAgIH07XG4gICAgLypcbiAgICAgKiBQcm9jZXNzIHN0eWxlcyB0byBjb252ZXJ0IG5hdGl2ZSBTaGFkb3dET00gcnVsZXMgdGhhdCB3aWxsIHRyaXBcbiAgICAgKiB1cCB0aGUgY3NzIHBhcnNlcjsgd2UgcmVseSBvbiBkZWNvcmF0aW5nIHRoZSBzdHlsZXNoZWV0IHdpdGggaW5lcnQgcnVsZXMuXG4gICAgICpcbiAgICAgKiBGb3IgZXhhbXBsZSwgd2UgY29udmVydCB0aGlzIHJ1bGU6XG4gICAgICpcbiAgICAgKiBwb2x5ZmlsbC1uZXh0LXNlbGVjdG9yIHsgY29udGVudDogJzpob3N0IG1lbnUtaXRlbSc7IH1cbiAgICAgKiA6OmNvbnRlbnQgbWVudS1pdGVtIHtcbiAgICAgKlxuICAgICAqIHRvIHRoaXM6XG4gICAgICpcbiAgICAgKiBzY29wZU5hbWUgbWVudS1pdGVtIHtcbiAgICAgKlxuICAgICoqL1xuICAgIFNoYWRvd0Nzcy5wcm90b3R5cGUuX2luc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dCA9IGZ1bmN0aW9uIChjc3NUZXh0KSB7XG4gICAgICAgIC8vIERpZmZlcmVuY2Ugd2l0aCB3ZWJjb21wb25lbnRzLmpzOiBkb2VzIG5vdCBoYW5kbGUgY29tbWVudHNcbiAgICAgICAgcmV0dXJuIGxhbmdfMS5TdHJpbmdXcmFwcGVyLnJlcGxhY2VBbGxNYXBwZWQoY3NzVGV4dCwgX2Nzc0NvbnRlbnROZXh0U2VsZWN0b3JSZSwgZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG1bMV0gKyAneyc7IH0pO1xuICAgIH07XG4gICAgLypcbiAgICAgKiBQcm9jZXNzIHN0eWxlcyB0byBhZGQgcnVsZXMgd2hpY2ggd2lsbCBvbmx5IGFwcGx5IHVuZGVyIHRoZSBwb2x5ZmlsbFxuICAgICAqXG4gICAgICogRm9yIGV4YW1wbGUsIHdlIGNvbnZlcnQgdGhpcyBydWxlOlxuICAgICAqXG4gICAgICogcG9seWZpbGwtcnVsZSB7XG4gICAgICogICBjb250ZW50OiAnOmhvc3QgbWVudS1pdGVtJztcbiAgICAgKiAuLi5cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB0byB0aGlzOlxuICAgICAqXG4gICAgICogc2NvcGVOYW1lIG1lbnUtaXRlbSB7Li4ufVxuICAgICAqXG4gICAgKiovXG4gICAgU2hhZG93Q3NzLnByb3RvdHlwZS5faW5zZXJ0UG9seWZpbGxSdWxlc0luQ3NzVGV4dCA9IGZ1bmN0aW9uIChjc3NUZXh0KSB7XG4gICAgICAgIC8vIERpZmZlcmVuY2Ugd2l0aCB3ZWJjb21wb25lbnRzLmpzOiBkb2VzIG5vdCBoYW5kbGUgY29tbWVudHNcbiAgICAgICAgcmV0dXJuIGxhbmdfMS5TdHJpbmdXcmFwcGVyLnJlcGxhY2VBbGxNYXBwZWQoY3NzVGV4dCwgX2Nzc0NvbnRlbnRSdWxlUmUsIGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICB2YXIgcnVsZSA9IG1bMF07XG4gICAgICAgICAgICBydWxlID0gbGFuZ18xLlN0cmluZ1dyYXBwZXIucmVwbGFjZShydWxlLCBtWzFdLCAnJyk7XG4gICAgICAgICAgICBydWxlID0gbGFuZ18xLlN0cmluZ1dyYXBwZXIucmVwbGFjZShydWxlLCBtWzJdLCAnJyk7XG4gICAgICAgICAgICByZXR1cm4gbVszXSArIHJ1bGU7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyogRW5zdXJlIHN0eWxlcyBhcmUgc2NvcGVkLiBQc2V1ZG8tc2NvcGluZyB0YWtlcyBhIHJ1bGUgbGlrZTpcbiAgICAgKlxuICAgICAqICAuZm9vIHsuLi4gfVxuICAgICAqXG4gICAgICogIGFuZCBjb252ZXJ0cyB0aGlzIHRvXG4gICAgICpcbiAgICAgKiAgc2NvcGVOYW1lIC5mb28geyAuLi4gfVxuICAgICovXG4gICAgU2hhZG93Q3NzLnByb3RvdHlwZS5fc2NvcGVDc3NUZXh0ID0gZnVuY3Rpb24gKGNzc1RleHQsIHNjb3BlU2VsZWN0b3IsIGhvc3RTZWxlY3Rvcikge1xuICAgICAgICB2YXIgdW5zY29wZWQgPSB0aGlzLl9leHRyYWN0VW5zY29wZWRSdWxlc0Zyb21Dc3NUZXh0KGNzc1RleHQpO1xuICAgICAgICBjc3NUZXh0ID0gdGhpcy5faW5zZXJ0UG9seWZpbGxIb3N0SW5Dc3NUZXh0KGNzc1RleHQpO1xuICAgICAgICBjc3NUZXh0ID0gdGhpcy5fY29udmVydENvbG9uSG9zdChjc3NUZXh0KTtcbiAgICAgICAgY3NzVGV4dCA9IHRoaXMuX2NvbnZlcnRDb2xvbkhvc3RDb250ZXh0KGNzc1RleHQpO1xuICAgICAgICBjc3NUZXh0ID0gdGhpcy5fY29udmVydFNoYWRvd0RPTVNlbGVjdG9ycyhjc3NUZXh0KTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoc2NvcGVTZWxlY3RvcikpIHtcbiAgICAgICAgICAgIGNzc1RleHQgPSB0aGlzLl9zY29wZVNlbGVjdG9ycyhjc3NUZXh0LCBzY29wZVNlbGVjdG9yLCBob3N0U2VsZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGNzc1RleHQgPSBjc3NUZXh0ICsgJ1xcbicgKyB1bnNjb3BlZDtcbiAgICAgICAgcmV0dXJuIGNzc1RleHQudHJpbSgpO1xuICAgIH07XG4gICAgLypcbiAgICAgKiBQcm9jZXNzIHN0eWxlcyB0byBhZGQgcnVsZXMgd2hpY2ggd2lsbCBvbmx5IGFwcGx5IHVuZGVyIHRoZSBwb2x5ZmlsbFxuICAgICAqIGFuZCBkbyBub3QgcHJvY2VzcyB2aWEgQ1NTT00uIChDU1NPTSBpcyBkZXN0cnVjdGl2ZSB0byBydWxlcyBvbiByYXJlXG4gICAgICogb2NjYXNpb25zLCBlLmcuIC13ZWJraXQtY2FsYyBvbiBTYWZhcmkuKVxuICAgICAqIEZvciBleGFtcGxlLCB3ZSBjb252ZXJ0IHRoaXMgcnVsZTpcbiAgICAgKlxuICAgICAqIEBwb2x5ZmlsbC11bnNjb3BlZC1ydWxlIHtcbiAgICAgKiAgIGNvbnRlbnQ6ICdtZW51LWl0ZW0nO1xuICAgICAqIC4uLiB9XG4gICAgICpcbiAgICAgKiB0byB0aGlzOlxuICAgICAqXG4gICAgICogbWVudS1pdGVtIHsuLi59XG4gICAgICpcbiAgICAqKi9cbiAgICBTaGFkb3dDc3MucHJvdG90eXBlLl9leHRyYWN0VW5zY29wZWRSdWxlc0Zyb21Dc3NUZXh0ID0gZnVuY3Rpb24gKGNzc1RleHQpIHtcbiAgICAgICAgLy8gRGlmZmVyZW5jZSB3aXRoIHdlYmNvbXBvbmVudHMuanM6IGRvZXMgbm90IGhhbmRsZSBjb21tZW50c1xuICAgICAgICB2YXIgciA9ICcnLCBtO1xuICAgICAgICB2YXIgbWF0Y2hlciA9IGxhbmdfMS5SZWdFeHBXcmFwcGVyLm1hdGNoZXIoX2Nzc0NvbnRlbnRVbnNjb3BlZFJ1bGVSZSwgY3NzVGV4dCk7XG4gICAgICAgIHdoaWxlIChsYW5nXzEuaXNQcmVzZW50KG0gPSBsYW5nXzEuUmVnRXhwTWF0Y2hlcldyYXBwZXIubmV4dChtYXRjaGVyKSkpIHtcbiAgICAgICAgICAgIHZhciBydWxlID0gbVswXTtcbiAgICAgICAgICAgIHJ1bGUgPSBsYW5nXzEuU3RyaW5nV3JhcHBlci5yZXBsYWNlKHJ1bGUsIG1bMl0sICcnKTtcbiAgICAgICAgICAgIHJ1bGUgPSBsYW5nXzEuU3RyaW5nV3JhcHBlci5yZXBsYWNlKHJ1bGUsIG1bMV0sIG1bM10pO1xuICAgICAgICAgICAgciArPSBydWxlICsgJ1xcblxcbic7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcbiAgICAvKlxuICAgICAqIGNvbnZlcnQgYSBydWxlIGxpa2UgOmhvc3QoLmZvbykgPiAuYmFyIHsgfVxuICAgICAqXG4gICAgICogdG9cbiAgICAgKlxuICAgICAqIHNjb3BlTmFtZS5mb28gPiAuYmFyXG4gICAgKi9cbiAgICBTaGFkb3dDc3MucHJvdG90eXBlLl9jb252ZXJ0Q29sb25Ib3N0ID0gZnVuY3Rpb24gKGNzc1RleHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnZlcnRDb2xvblJ1bGUoY3NzVGV4dCwgX2Nzc0NvbG9uSG9zdFJlLCB0aGlzLl9jb2xvbkhvc3RQYXJ0UmVwbGFjZXIpO1xuICAgIH07XG4gICAgLypcbiAgICAgKiBjb252ZXJ0IGEgcnVsZSBsaWtlIDpob3N0LWNvbnRleHQoLmZvbykgPiAuYmFyIHsgfVxuICAgICAqXG4gICAgICogdG9cbiAgICAgKlxuICAgICAqIHNjb3BlTmFtZS5mb28gPiAuYmFyLCAuZm9vIHNjb3BlTmFtZSA+IC5iYXIgeyB9XG4gICAgICpcbiAgICAgKiBhbmRcbiAgICAgKlxuICAgICAqIDpob3N0LWNvbnRleHQoLmZvbzpob3N0KSAuYmFyIHsgLi4uIH1cbiAgICAgKlxuICAgICAqIHRvXG4gICAgICpcbiAgICAgKiBzY29wZU5hbWUuZm9vIC5iYXIgeyAuLi4gfVxuICAgICovXG4gICAgU2hhZG93Q3NzLnByb3RvdHlwZS5fY29udmVydENvbG9uSG9zdENvbnRleHQgPSBmdW5jdGlvbiAoY3NzVGV4dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udmVydENvbG9uUnVsZShjc3NUZXh0LCBfY3NzQ29sb25Ib3N0Q29udGV4dFJlLCB0aGlzLl9jb2xvbkhvc3RDb250ZXh0UGFydFJlcGxhY2VyKTtcbiAgICB9O1xuICAgIFNoYWRvd0Nzcy5wcm90b3R5cGUuX2NvbnZlcnRDb2xvblJ1bGUgPSBmdW5jdGlvbiAoY3NzVGV4dCwgcmVnRXhwLCBwYXJ0UmVwbGFjZXIpIHtcbiAgICAgICAgLy8gcDEgPSA6aG9zdCwgcDIgPSBjb250ZW50cyBvZiAoKSwgcDMgcmVzdCBvZiBydWxlXG4gICAgICAgIHJldHVybiBsYW5nXzEuU3RyaW5nV3JhcHBlci5yZXBsYWNlQWxsTWFwcGVkKGNzc1RleHQsIHJlZ0V4cCwgZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KG1bMl0pKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gbVsyXS5zcGxpdCgnLCcpLCByID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IHBhcnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsocCkpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICByLnB1c2gocGFydFJlcGxhY2VyKF9wb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IsIHAsIG1bM10pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHIuam9pbignLCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9wb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IgKyBtWzNdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNoYWRvd0Nzcy5wcm90b3R5cGUuX2NvbG9uSG9zdENvbnRleHRQYXJ0UmVwbGFjZXIgPSBmdW5jdGlvbiAoaG9zdCwgcGFydCwgc3VmZml4KSB7XG4gICAgICAgIGlmIChsYW5nXzEuU3RyaW5nV3JhcHBlci5jb250YWlucyhwYXJ0LCBfcG9seWZpbGxIb3N0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG9uSG9zdFBhcnRSZXBsYWNlcihob3N0LCBwYXJ0LCBzdWZmaXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3QgKyBwYXJ0ICsgc3VmZml4ICsgJywgJyArIHBhcnQgKyAnICcgKyBob3N0ICsgc3VmZml4O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTaGFkb3dDc3MucHJvdG90eXBlLl9jb2xvbkhvc3RQYXJ0UmVwbGFjZXIgPSBmdW5jdGlvbiAoaG9zdCwgcGFydCwgc3VmZml4KSB7XG4gICAgICAgIHJldHVybiBob3N0ICsgbGFuZ18xLlN0cmluZ1dyYXBwZXIucmVwbGFjZShwYXJ0LCBfcG9seWZpbGxIb3N0LCAnJykgKyBzdWZmaXg7XG4gICAgfTtcbiAgICAvKlxuICAgICAqIENvbnZlcnQgY29tYmluYXRvcnMgbGlrZSA6OnNoYWRvdyBhbmQgcHNldWRvLWVsZW1lbnRzIGxpa2UgOjpjb250ZW50XG4gICAgICogYnkgcmVwbGFjaW5nIHdpdGggc3BhY2UuXG4gICAgKi9cbiAgICBTaGFkb3dDc3MucHJvdG90eXBlLl9jb252ZXJ0U2hhZG93RE9NU2VsZWN0b3JzID0gZnVuY3Rpb24gKGNzc1RleHQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfc2hhZG93RE9NU2VsZWN0b3JzUmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNzc1RleHQgPSBsYW5nXzEuU3RyaW5nV3JhcHBlci5yZXBsYWNlQWxsKGNzc1RleHQsIF9zaGFkb3dET01TZWxlY3RvcnNSZVtpXSwgJyAnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3NzVGV4dDtcbiAgICB9O1xuICAgIC8vIGNoYW5nZSBhIHNlbGVjdG9yIGxpa2UgJ2RpdicgdG8gJ25hbWUgZGl2J1xuICAgIFNoYWRvd0Nzcy5wcm90b3R5cGUuX3Njb3BlU2VsZWN0b3JzID0gZnVuY3Rpb24gKGNzc1RleHQsIHNjb3BlU2VsZWN0b3IsIGhvc3RTZWxlY3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gcHJvY2Vzc1J1bGVzKGNzc1RleHQsIGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBydWxlLnNlbGVjdG9yO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBydWxlLmNvbnRlbnQ7XG4gICAgICAgICAgICBpZiAocnVsZS5zZWxlY3RvclswXSAhPSAnQCcgfHwgcnVsZS5zZWxlY3Rvci5zdGFydHNXaXRoKCdAcGFnZScpKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0b3IgPVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc2NvcGVTZWxlY3RvcihydWxlLnNlbGVjdG9yLCBzY29wZVNlbGVjdG9yLCBob3N0U2VsZWN0b3IsIF90aGlzLnN0cmljdFN0eWxpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocnVsZS5zZWxlY3Rvci5zdGFydHNXaXRoKCdAbWVkaWEnKSkge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBfdGhpcy5fc2NvcGVTZWxlY3RvcnMocnVsZS5jb250ZW50LCBzY29wZVNlbGVjdG9yLCBob3N0U2VsZWN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDc3NSdWxlKHNlbGVjdG9yLCBjb250ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTaGFkb3dDc3MucHJvdG90eXBlLl9zY29wZVNlbGVjdG9yID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBzY29wZVNlbGVjdG9yLCBob3N0U2VsZWN0b3IsIHN0cmljdCkge1xuICAgICAgICB2YXIgciA9IFtdLCBwYXJ0cyA9IHNlbGVjdG9yLnNwbGl0KCcsJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwID0gcGFydHNbaV0udHJpbSgpO1xuICAgICAgICAgICAgdmFyIGRlZXBQYXJ0cyA9IGxhbmdfMS5TdHJpbmdXcmFwcGVyLnNwbGl0KHAsIF9zaGFkb3dEZWVwU2VsZWN0b3JzKTtcbiAgICAgICAgICAgIHZhciBzaGFsbG93UGFydCA9IGRlZXBQYXJ0c1swXTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zZWxlY3Rvck5lZWRzU2NvcGluZyhzaGFsbG93UGFydCwgc2NvcGVTZWxlY3RvcikpIHtcbiAgICAgICAgICAgICAgICBkZWVwUGFydHNbMF0gPSBzdHJpY3QgJiYgIWxhbmdfMS5TdHJpbmdXcmFwcGVyLmNvbnRhaW5zKHNoYWxsb3dQYXJ0LCBfcG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yKSA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FwcGx5U3RyaWN0U2VsZWN0b3JTY29wZShzaGFsbG93UGFydCwgc2NvcGVTZWxlY3RvcikgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hcHBseVNlbGVjdG9yU2NvcGUoc2hhbGxvd1BhcnQsIHNjb3BlU2VsZWN0b3IsIGhvc3RTZWxlY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZXBsYWNlIC9kZWVwLyB3aXRoIGEgc3BhY2UgZm9yIGNoaWxkIHNlbGVjdG9yc1xuICAgICAgICAgICAgci5wdXNoKGRlZXBQYXJ0cy5qb2luKCcgJykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByLmpvaW4oJywgJyk7XG4gICAgfTtcbiAgICBTaGFkb3dDc3MucHJvdG90eXBlLl9zZWxlY3Rvck5lZWRzU2NvcGluZyA9IGZ1bmN0aW9uIChzZWxlY3Rvciwgc2NvcGVTZWxlY3Rvcikge1xuICAgICAgICB2YXIgcmUgPSB0aGlzLl9tYWtlU2NvcGVNYXRjaGVyKHNjb3BlU2VsZWN0b3IpO1xuICAgICAgICByZXR1cm4gIWxhbmdfMS5pc1ByZXNlbnQobGFuZ18xLlJlZ0V4cFdyYXBwZXIuZmlyc3RNYXRjaChyZSwgc2VsZWN0b3IpKTtcbiAgICB9O1xuICAgIFNoYWRvd0Nzcy5wcm90b3R5cGUuX21ha2VTY29wZU1hdGNoZXIgPSBmdW5jdGlvbiAoc2NvcGVTZWxlY3Rvcikge1xuICAgICAgICB2YXIgbHJlID0gL1xcWy9nO1xuICAgICAgICB2YXIgcnJlID0gL1xcXS9nO1xuICAgICAgICBzY29wZVNlbGVjdG9yID0gbGFuZ18xLlN0cmluZ1dyYXBwZXIucmVwbGFjZUFsbChzY29wZVNlbGVjdG9yLCBscmUsICdcXFxcWycpO1xuICAgICAgICBzY29wZVNlbGVjdG9yID0gbGFuZ18xLlN0cmluZ1dyYXBwZXIucmVwbGFjZUFsbChzY29wZVNlbGVjdG9yLCBycmUsICdcXFxcXScpO1xuICAgICAgICByZXR1cm4gbGFuZ18xLlJlZ0V4cFdyYXBwZXIuY3JlYXRlKCdeKCcgKyBzY29wZVNlbGVjdG9yICsgJyknICsgX3NlbGVjdG9yUmVTdWZmaXgsICdtJyk7XG4gICAgfTtcbiAgICBTaGFkb3dDc3MucHJvdG90eXBlLl9hcHBseVNlbGVjdG9yU2NvcGUgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIHNjb3BlU2VsZWN0b3IsIGhvc3RTZWxlY3Rvcikge1xuICAgICAgICAvLyBEaWZmZXJlbmNlIGZyb20gd2ViY29tcG9uZW50c2pzOiBzY29wZVNlbGVjdG9yIGNvdWxkIG5vdCBiZSBhbiBhcnJheVxuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlTaW1wbGVTZWxlY3RvclNjb3BlKHNlbGVjdG9yLCBzY29wZVNlbGVjdG9yLCBob3N0U2VsZWN0b3IpO1xuICAgIH07XG4gICAgLy8gc2NvcGUgdmlhIG5hbWUgYW5kIFtpcz1uYW1lXVxuICAgIFNoYWRvd0Nzcy5wcm90b3R5cGUuX2FwcGx5U2ltcGxlU2VsZWN0b3JTY29wZSA9IGZ1bmN0aW9uIChzZWxlY3Rvciwgc2NvcGVTZWxlY3RvciwgaG9zdFNlbGVjdG9yKSB7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGxhbmdfMS5SZWdFeHBXcmFwcGVyLmZpcnN0TWF0Y2goX3BvbHlmaWxsSG9zdFJlLCBzZWxlY3RvcikpKSB7XG4gICAgICAgICAgICB2YXIgcmVwbGFjZUJ5ID0gdGhpcy5zdHJpY3RTdHlsaW5nID8gXCJbXCIgKyBob3N0U2VsZWN0b3IgKyBcIl1cIiA6IHNjb3BlU2VsZWN0b3I7XG4gICAgICAgICAgICBzZWxlY3RvciA9IGxhbmdfMS5TdHJpbmdXcmFwcGVyLnJlcGxhY2Uoc2VsZWN0b3IsIF9wb2x5ZmlsbEhvc3ROb0NvbWJpbmF0b3IsIHJlcGxhY2VCeSk7XG4gICAgICAgICAgICByZXR1cm4gbGFuZ18xLlN0cmluZ1dyYXBwZXIucmVwbGFjZUFsbChzZWxlY3RvciwgX3BvbHlmaWxsSG9zdFJlLCByZXBsYWNlQnkgKyAnICcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNjb3BlU2VsZWN0b3IgKyAnICcgKyBzZWxlY3RvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gcmV0dXJuIGEgc2VsZWN0b3Igd2l0aCBbbmFtZV0gc3VmZml4IG9uIGVhY2ggc2ltcGxlIHNlbGVjdG9yXG4gICAgLy8gZS5nLiAuZm9vLmJhciA+IC56b3QgYmVjb21lcyAuZm9vW25hbWVdLmJhcltuYW1lXSA+IC56b3RbbmFtZV0gIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBTaGFkb3dDc3MucHJvdG90eXBlLl9hcHBseVN0cmljdFNlbGVjdG9yU2NvcGUgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIHNjb3BlU2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIGlzUmUgPSAvXFxbaXM9KFteXFxdXSopXFxdL2c7XG4gICAgICAgIHNjb3BlU2VsZWN0b3IgPSBsYW5nXzEuU3RyaW5nV3JhcHBlci5yZXBsYWNlQWxsTWFwcGVkKHNjb3BlU2VsZWN0b3IsIGlzUmUsIGZ1bmN0aW9uIChtKSB7IHJldHVybiBtWzFdOyB9KTtcbiAgICAgICAgdmFyIHNwbGl0cyA9IFsnICcsICc+JywgJysnLCAnfiddLCBzY29wZWQgPSBzZWxlY3RvciwgYXR0ck5hbWUgPSAnWycgKyBzY29wZVNlbGVjdG9yICsgJ10nO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwbGl0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHNlcCA9IHNwbGl0c1tpXTtcbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IHNjb3BlZC5zcGxpdChzZXApO1xuICAgICAgICAgICAgc2NvcGVkID0gcGFydHMubWFwKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIDpob3N0IHNpbmNlIGl0IHNob3VsZCBiZSB1bm5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgIHZhciB0ID0gbGFuZ18xLlN0cmluZ1dyYXBwZXIucmVwbGFjZUFsbChwLnRyaW0oKSwgX3BvbHlmaWxsSG9zdFJlLCAnJyk7XG4gICAgICAgICAgICAgICAgaWYgKHQubGVuZ3RoID4gMCAmJiAhY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmNvbnRhaW5zKHNwbGl0cywgdCkgJiZcbiAgICAgICAgICAgICAgICAgICAgIWxhbmdfMS5TdHJpbmdXcmFwcGVyLmNvbnRhaW5zKHQsIGF0dHJOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmUgPSAvKFteOl0qKSg6KikoLiopL2c7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtID0gbGFuZ18xLlJlZ0V4cFdyYXBwZXIuZmlyc3RNYXRjaChyZSwgdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KG0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwID0gbVsxXSArIGF0dHJOYW1lICsgbVsyXSArIG1bM107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5qb2luKHNlcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNjb3BlZDtcbiAgICB9O1xuICAgIFNoYWRvd0Nzcy5wcm90b3R5cGUuX2luc2VydFBvbHlmaWxsSG9zdEluQ3NzVGV4dCA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgICBzZWxlY3RvciA9IGxhbmdfMS5TdHJpbmdXcmFwcGVyLnJlcGxhY2VBbGwoc2VsZWN0b3IsIF9jb2xvbkhvc3RDb250ZXh0UmUsIF9wb2x5ZmlsbEhvc3RDb250ZXh0KTtcbiAgICAgICAgc2VsZWN0b3IgPSBsYW5nXzEuU3RyaW5nV3JhcHBlci5yZXBsYWNlQWxsKHNlbGVjdG9yLCBfY29sb25Ib3N0UmUsIF9wb2x5ZmlsbEhvc3QpO1xuICAgICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgfTtcbiAgICByZXR1cm4gU2hhZG93Q3NzO1xufSgpKTtcbmV4cG9ydHMuU2hhZG93Q3NzID0gU2hhZG93Q3NzO1xudmFyIF9jc3NDb250ZW50TmV4dFNlbGVjdG9yUmUgPSAvcG9seWZpbGwtbmV4dC1zZWxlY3RvcltefV0qY29udGVudDpbXFxzXSo/WydcIl0oLio/KVsnXCJdWztcXHNdKn0oW157XSo/KXsvZ2ltO1xudmFyIF9jc3NDb250ZW50UnVsZVJlID0gLyhwb2x5ZmlsbC1ydWxlKVtefV0qKGNvbnRlbnQ6W1xcc10qWydcIl0oLio/KVsnXCJdKVs7XFxzXSpbXn1dKn0vZ2ltO1xudmFyIF9jc3NDb250ZW50VW5zY29wZWRSdWxlUmUgPSAvKHBvbHlmaWxsLXVuc2NvcGVkLXJ1bGUpW159XSooY29udGVudDpbXFxzXSpbJ1wiXSguKj8pWydcIl0pWztcXHNdKltefV0qfS9naW07XG52YXIgX3BvbHlmaWxsSG9zdCA9ICctc2hhZG93Y3NzaG9zdCc7XG4vLyBub3RlOiA6aG9zdC1jb250ZXh0IHByZS1wcm9jZXNzZWQgdG8gLXNoYWRvd2Nzc2hvc3Rjb250ZXh0LlxudmFyIF9wb2x5ZmlsbEhvc3RDb250ZXh0ID0gJy1zaGFkb3djc3Njb250ZXh0JztcbnZhciBfcGFyZW5TdWZmaXggPSAnKSg/OlxcXFwoKCcgK1xuICAgICcoPzpcXFxcKFteKShdKlxcXFwpfFteKShdKikrPycgK1xuICAgICcpXFxcXCkpPyhbXix7XSopJztcbnZhciBfY3NzQ29sb25Ib3N0UmUgPSBsYW5nXzEuUmVnRXhwV3JhcHBlci5jcmVhdGUoJygnICsgX3BvbHlmaWxsSG9zdCArIF9wYXJlblN1ZmZpeCwgJ2ltJyk7XG52YXIgX2Nzc0NvbG9uSG9zdENvbnRleHRSZSA9IGxhbmdfMS5SZWdFeHBXcmFwcGVyLmNyZWF0ZSgnKCcgKyBfcG9seWZpbGxIb3N0Q29udGV4dCArIF9wYXJlblN1ZmZpeCwgJ2ltJyk7XG52YXIgX3BvbHlmaWxsSG9zdE5vQ29tYmluYXRvciA9IF9wb2x5ZmlsbEhvc3QgKyAnLW5vLWNvbWJpbmF0b3InO1xudmFyIF9zaGFkb3dET01TZWxlY3RvcnNSZSA9IFtcbiAgICAvOjpzaGFkb3cvZyxcbiAgICAvOjpjb250ZW50L2csXG4gICAgLy8gRGVwcmVjYXRlZCBzZWxlY3RvcnNcbiAgICAvLyBUT0RPKHZpY2IpOiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvY2xhbmctZm9ybWF0L2lzc3Vlcy8xNlxuICAgIC8vIGNsYW5nLWZvcm1hdCBvZmZcbiAgICAvXFwvc2hhZG93LWRlZXBcXC8vZyxcbiAgICAvXFwvc2hhZG93XFwvL2csXG5dO1xudmFyIF9zaGFkb3dEZWVwU2VsZWN0b3JzID0gLyg/Oj4+Pil8KD86XFwvZGVlcFxcLykvZztcbnZhciBfc2VsZWN0b3JSZVN1ZmZpeCA9ICcoWz5cXFxcc34rXFxbLix7Ol1bXFxcXHNcXFxcU10qKT8kJztcbnZhciBfcG9seWZpbGxIb3N0UmUgPSBsYW5nXzEuUmVnRXhwV3JhcHBlci5jcmVhdGUoX3BvbHlmaWxsSG9zdCwgJ2ltJyk7XG52YXIgX2NvbG9uSG9zdFJlID0gLzpob3N0L2dpbTtcbnZhciBfY29sb25Ib3N0Q29udGV4dFJlID0gLzpob3N0LWNvbnRleHQvZ2ltO1xudmFyIF9jb21tZW50UmUgPSAvXFwvXFwqW1xcc1xcU10qP1xcKlxcLy9nO1xuZnVuY3Rpb24gc3RyaXBDb21tZW50cyhpbnB1dCkge1xuICAgIHJldHVybiBsYW5nXzEuU3RyaW5nV3JhcHBlci5yZXBsYWNlQWxsTWFwcGVkKGlucHV0LCBfY29tbWVudFJlLCBmdW5jdGlvbiAoXykgeyByZXR1cm4gJyc7IH0pO1xufVxudmFyIF9ydWxlUmUgPSAvKFxccyopKFteO1xce1xcfV0rPykoXFxzKikoKD86eyVCTE9DSyV9P1xccyo7Pyl8KD86XFxzKjspKS9nO1xudmFyIF9jdXJseVJlID0gLyhbe31dKS9nO1xudmFyIE9QRU5fQ1VSTFkgPSAneyc7XG52YXIgQ0xPU0VfQ1VSTFkgPSAnfSc7XG52YXIgQkxPQ0tfUExBQ0VIT0xERVIgPSAnJUJMT0NLJSc7XG52YXIgQ3NzUnVsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ3NzUnVsZShzZWxlY3RvciwgY29udGVudCkge1xuICAgICAgICB0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgfVxuICAgIHJldHVybiBDc3NSdWxlO1xufSgpKTtcbmV4cG9ydHMuQ3NzUnVsZSA9IENzc1J1bGU7XG5mdW5jdGlvbiBwcm9jZXNzUnVsZXMoaW5wdXQsIHJ1bGVDYWxsYmFjaykge1xuICAgIHZhciBpbnB1dFdpdGhFc2NhcGVkQmxvY2tzID0gZXNjYXBlQmxvY2tzKGlucHV0KTtcbiAgICB2YXIgbmV4dEJsb2NrSW5kZXggPSAwO1xuICAgIHJldHVybiBsYW5nXzEuU3RyaW5nV3JhcHBlci5yZXBsYWNlQWxsTWFwcGVkKGlucHV0V2l0aEVzY2FwZWRCbG9ja3MuZXNjYXBlZFN0cmluZywgX3J1bGVSZSwgZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gbVsyXTtcbiAgICAgICAgdmFyIGNvbnRlbnQgPSAnJztcbiAgICAgICAgdmFyIHN1ZmZpeCA9IG1bNF07XG4gICAgICAgIHZhciBjb250ZW50UHJlZml4ID0gJyc7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KG1bNF0pICYmIG1bNF0uc3RhcnRzV2l0aCgneycgKyBCTE9DS19QTEFDRUhPTERFUikpIHtcbiAgICAgICAgICAgIGNvbnRlbnQgPSBpbnB1dFdpdGhFc2NhcGVkQmxvY2tzLmJsb2Nrc1tuZXh0QmxvY2tJbmRleCsrXTtcbiAgICAgICAgICAgIHN1ZmZpeCA9IG1bNF0uc3Vic3RyaW5nKEJMT0NLX1BMQUNFSE9MREVSLmxlbmd0aCArIDEpO1xuICAgICAgICAgICAgY29udGVudFByZWZpeCA9ICd7JztcbiAgICAgICAgfVxuICAgICAgICB2YXIgcnVsZSA9IHJ1bGVDYWxsYmFjayhuZXcgQ3NzUnVsZShzZWxlY3RvciwgY29udGVudCkpO1xuICAgICAgICByZXR1cm4gXCJcIiArIG1bMV0gKyBydWxlLnNlbGVjdG9yICsgbVszXSArIGNvbnRlbnRQcmVmaXggKyBydWxlLmNvbnRlbnQgKyBzdWZmaXg7XG4gICAgfSk7XG59XG5leHBvcnRzLnByb2Nlc3NSdWxlcyA9IHByb2Nlc3NSdWxlcztcbnZhciBTdHJpbmdXaXRoRXNjYXBlZEJsb2NrcyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RyaW5nV2l0aEVzY2FwZWRCbG9ja3MoZXNjYXBlZFN0cmluZywgYmxvY2tzKSB7XG4gICAgICAgIHRoaXMuZXNjYXBlZFN0cmluZyA9IGVzY2FwZWRTdHJpbmc7XG4gICAgICAgIHRoaXMuYmxvY2tzID0gYmxvY2tzO1xuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nV2l0aEVzY2FwZWRCbG9ja3M7XG59KCkpO1xuZnVuY3Rpb24gZXNjYXBlQmxvY2tzKGlucHV0KSB7XG4gICAgdmFyIGlucHV0UGFydHMgPSBsYW5nXzEuU3RyaW5nV3JhcHBlci5zcGxpdChpbnB1dCwgX2N1cmx5UmUpO1xuICAgIHZhciByZXN1bHRQYXJ0cyA9IFtdO1xuICAgIHZhciBlc2NhcGVkQmxvY2tzID0gW107XG4gICAgdmFyIGJyYWNrZXRDb3VudCA9IDA7XG4gICAgdmFyIGN1cnJlbnRCbG9ja1BhcnRzID0gW107XG4gICAgZm9yICh2YXIgcGFydEluZGV4ID0gMDsgcGFydEluZGV4IDwgaW5wdXRQYXJ0cy5sZW5ndGg7IHBhcnRJbmRleCsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gaW5wdXRQYXJ0c1twYXJ0SW5kZXhdO1xuICAgICAgICBpZiAocGFydCA9PSBDTE9TRV9DVVJMWSkge1xuICAgICAgICAgICAgYnJhY2tldENvdW50LS07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJyYWNrZXRDb3VudCA+IDApIHtcbiAgICAgICAgICAgIGN1cnJlbnRCbG9ja1BhcnRzLnB1c2gocGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudEJsb2NrUGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGVzY2FwZWRCbG9ja3MucHVzaChjdXJyZW50QmxvY2tQYXJ0cy5qb2luKCcnKSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0UGFydHMucHVzaChCTE9DS19QTEFDRUhPTERFUik7XG4gICAgICAgICAgICAgICAgY3VycmVudEJsb2NrUGFydHMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdFBhcnRzLnB1c2gocGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnQgPT0gT1BFTl9DVVJMWSkge1xuICAgICAgICAgICAgYnJhY2tldENvdW50Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGN1cnJlbnRCbG9ja1BhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZXNjYXBlZEJsb2Nrcy5wdXNoKGN1cnJlbnRCbG9ja1BhcnRzLmpvaW4oJycpKTtcbiAgICAgICAgcmVzdWx0UGFydHMucHVzaChCTE9DS19QTEFDRUhPTERFUik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU3RyaW5nV2l0aEVzY2FwZWRCbG9ja3MocmVzdWx0UGFydHMuam9pbignJyksIGVzY2FwZWRCbG9ja3MpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2hhZG93X2Nzcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgY29tcGlsZV9tZXRhZGF0YV8xID0gcmVxdWlyZSgnLi9jb21waWxlX21ldGFkYXRhJyk7XG52YXIgbyA9IHJlcXVpcmUoJy4vb3V0cHV0L291dHB1dF9hc3QnKTtcbnZhciBzaGFkb3dfY3NzXzEgPSByZXF1aXJlKCcuL3NoYWRvd19jc3MnKTtcbnZhciB1cmxfcmVzb2x2ZXJfMSA9IHJlcXVpcmUoJy4vdXJsX3Jlc29sdmVyJyk7XG52YXIgc3R5bGVfdXJsX3Jlc29sdmVyXzEgPSByZXF1aXJlKCcuL3N0eWxlX3VybF9yZXNvbHZlcicpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIENPTVBPTkVOVF9WQVJJQUJMRSA9ICclQ09NUCUnO1xudmFyIEhPU1RfQVRUUiA9IFwiX25naG9zdC1cIiArIENPTVBPTkVOVF9WQVJJQUJMRTtcbnZhciBDT05URU5UX0FUVFIgPSBcIl9uZ2NvbnRlbnQtXCIgKyBDT01QT05FTlRfVkFSSUFCTEU7XG52YXIgU3R5bGVzQ29tcGlsZURlcGVuZGVuY3kgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0eWxlc0NvbXBpbGVEZXBlbmRlbmN5KG1vZHVsZVVybCwgaXNTaGltbWVkLCB2YWx1ZVBsYWNlaG9sZGVyKSB7XG4gICAgICAgIHRoaXMubW9kdWxlVXJsID0gbW9kdWxlVXJsO1xuICAgICAgICB0aGlzLmlzU2hpbW1lZCA9IGlzU2hpbW1lZDtcbiAgICAgICAgdGhpcy52YWx1ZVBsYWNlaG9sZGVyID0gdmFsdWVQbGFjZWhvbGRlcjtcbiAgICB9XG4gICAgcmV0dXJuIFN0eWxlc0NvbXBpbGVEZXBlbmRlbmN5O1xufSgpKTtcbmV4cG9ydHMuU3R5bGVzQ29tcGlsZURlcGVuZGVuY3kgPSBTdHlsZXNDb21waWxlRGVwZW5kZW5jeTtcbnZhciBTdHlsZXNDb21waWxlUmVzdWx0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdHlsZXNDb21waWxlUmVzdWx0KHN0YXRlbWVudHMsIHN0eWxlc1ZhciwgZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgIHRoaXMuc3RhdGVtZW50cyA9IHN0YXRlbWVudHM7XG4gICAgICAgIHRoaXMuc3R5bGVzVmFyID0gc3R5bGVzVmFyO1xuICAgICAgICB0aGlzLmRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcztcbiAgICB9XG4gICAgcmV0dXJuIFN0eWxlc0NvbXBpbGVSZXN1bHQ7XG59KCkpO1xuZXhwb3J0cy5TdHlsZXNDb21waWxlUmVzdWx0ID0gU3R5bGVzQ29tcGlsZVJlc3VsdDtcbnZhciBTdHlsZUNvbXBpbGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdHlsZUNvbXBpbGVyKF91cmxSZXNvbHZlcikge1xuICAgICAgICB0aGlzLl91cmxSZXNvbHZlciA9IF91cmxSZXNvbHZlcjtcbiAgICAgICAgdGhpcy5fc2hhZG93Q3NzID0gbmV3IHNoYWRvd19jc3NfMS5TaGFkb3dDc3MoKTtcbiAgICB9XG4gICAgU3R5bGVDb21waWxlci5wcm90b3R5cGUuY29tcGlsZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wKSB7XG4gICAgICAgIHZhciBzaGltID0gY29tcC50ZW1wbGF0ZS5lbmNhcHN1bGF0aW9uID09PSBjb3JlXzEuVmlld0VuY2Fwc3VsYXRpb24uRW11bGF0ZWQ7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb21waWxlU3R5bGVzKGdldFN0eWxlc1Zhck5hbWUoY29tcCksIGNvbXAudGVtcGxhdGUuc3R5bGVzLCBjb21wLnRlbXBsYXRlLnN0eWxlVXJscywgc2hpbSk7XG4gICAgfTtcbiAgICBTdHlsZUNvbXBpbGVyLnByb3RvdHlwZS5jb21waWxlU3R5bGVzaGVldCA9IGZ1bmN0aW9uIChzdHlsZXNoZWV0VXJsLCBjc3NUZXh0LCBpc1NoaW1tZWQpIHtcbiAgICAgICAgdmFyIHN0eWxlV2l0aEltcG9ydHMgPSBzdHlsZV91cmxfcmVzb2x2ZXJfMS5leHRyYWN0U3R5bGVVcmxzKHRoaXMuX3VybFJlc29sdmVyLCBzdHlsZXNoZWV0VXJsLCBjc3NUZXh0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBpbGVTdHlsZXMoZ2V0U3R5bGVzVmFyTmFtZShudWxsKSwgW3N0eWxlV2l0aEltcG9ydHMuc3R5bGVdLCBzdHlsZVdpdGhJbXBvcnRzLnN0eWxlVXJscywgaXNTaGltbWVkKTtcbiAgICB9O1xuICAgIFN0eWxlQ29tcGlsZXIucHJvdG90eXBlLl9jb21waWxlU3R5bGVzID0gZnVuY3Rpb24gKHN0eWxlc1ZhciwgcGxhaW5TdHlsZXMsIGFic1VybHMsIHNoaW0pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHN0eWxlRXhwcmVzc2lvbnMgPSBwbGFpblN0eWxlcy5tYXAoZnVuY3Rpb24gKHBsYWluU3R5bGUpIHsgcmV0dXJuIG8ubGl0ZXJhbChfdGhpcy5fc2hpbUlmTmVlZGVkKHBsYWluU3R5bGUsIHNoaW0pKTsgfSk7XG4gICAgICAgIHZhciBkZXBlbmRlbmNpZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhYnNVcmxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaWRlbnRpZmllciA9IG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7IG5hbWU6IGdldFN0eWxlc1Zhck5hbWUobnVsbCkgfSk7XG4gICAgICAgICAgICBkZXBlbmRlbmNpZXMucHVzaChuZXcgU3R5bGVzQ29tcGlsZURlcGVuZGVuY3koYWJzVXJsc1tpXSwgc2hpbSwgaWRlbnRpZmllcikpO1xuICAgICAgICAgICAgc3R5bGVFeHByZXNzaW9ucy5wdXNoKG5ldyBvLkV4dGVybmFsRXhwcihpZGVudGlmaWVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3R5bGVzIHZhcmlhYmxlIGNvbnRhaW5zIHBsYWluIHN0cmluZ3MgYW5kIGFycmF5cyBvZiBvdGhlciBzdHlsZXMgYXJyYXlzIChyZWN1cnNpdmUpLFxuICAgICAgICAvLyBzbyB3ZSBzZXQgaXRzIHR5cGUgdG8gZHluYW1pYy5cbiAgICAgICAgdmFyIHN0bXQgPSBvLnZhcmlhYmxlKHN0eWxlc1ZhcilcbiAgICAgICAgICAgIC5zZXQoby5saXRlcmFsQXJyKHN0eWxlRXhwcmVzc2lvbnMsIG5ldyBvLkFycmF5VHlwZShvLkRZTkFNSUNfVFlQRSwgW28uVHlwZU1vZGlmaWVyLkNvbnN0XSkpKVxuICAgICAgICAgICAgLnRvRGVjbFN0bXQobnVsbCwgW28uU3RtdE1vZGlmaWVyLkZpbmFsXSk7XG4gICAgICAgIHJldHVybiBuZXcgU3R5bGVzQ29tcGlsZVJlc3VsdChbc3RtdF0sIHN0eWxlc1ZhciwgZGVwZW5kZW5jaWVzKTtcbiAgICB9O1xuICAgIFN0eWxlQ29tcGlsZXIucHJvdG90eXBlLl9zaGltSWZOZWVkZWQgPSBmdW5jdGlvbiAoc3R5bGUsIHNoaW0pIHtcbiAgICAgICAgcmV0dXJuIHNoaW0gPyB0aGlzLl9zaGFkb3dDc3Muc2hpbUNzc1RleHQoc3R5bGUsIENPTlRFTlRfQVRUUiwgSE9TVF9BVFRSKSA6IHN0eWxlO1xuICAgIH07XG4gICAgU3R5bGVDb21waWxlci5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICBTdHlsZUNvbXBpbGVyLmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IHVybF9yZXNvbHZlcl8xLlVybFJlc29sdmVyLCB9LFxuICAgIF07XG4gICAgcmV0dXJuIFN0eWxlQ29tcGlsZXI7XG59KCkpO1xuZXhwb3J0cy5TdHlsZUNvbXBpbGVyID0gU3R5bGVDb21waWxlcjtcbmZ1bmN0aW9uIGdldFN0eWxlc1Zhck5hbWUoY29tcG9uZW50KSB7XG4gICAgdmFyIHJlc3VsdCA9IFwic3R5bGVzXCI7XG4gICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoY29tcG9uZW50KSkge1xuICAgICAgICByZXN1bHQgKz0gXCJfXCIgKyBjb21wb25lbnQudHlwZS5uYW1lO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3R5bGVfY29tcGlsZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBTb21lIG9mIHRoZSBjb2RlIGNvbWVzIGZyb20gV2ViQ29tcG9uZW50cy5KU1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL3dlYmNvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzL2Jsb2IvbWFzdGVyL3NyYy9IVE1MSW1wb3J0cy9wYXRoLmpzXG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgU3R5bGVXaXRoSW1wb3J0cyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3R5bGVXaXRoSW1wb3J0cyhzdHlsZSwgc3R5bGVVcmxzKSB7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgdGhpcy5zdHlsZVVybHMgPSBzdHlsZVVybHM7XG4gICAgfVxuICAgIHJldHVybiBTdHlsZVdpdGhJbXBvcnRzO1xufSgpKTtcbmV4cG9ydHMuU3R5bGVXaXRoSW1wb3J0cyA9IFN0eWxlV2l0aEltcG9ydHM7XG5mdW5jdGlvbiBpc1N0eWxlVXJsUmVzb2x2YWJsZSh1cmwpIHtcbiAgICBpZiAobGFuZ18xLmlzQmxhbmsodXJsKSB8fCB1cmwubGVuZ3RoID09PSAwIHx8IHVybFswXSA9PSAnLycpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB2YXIgc2NoZW1lTWF0Y2ggPSBsYW5nXzEuUmVnRXhwV3JhcHBlci5maXJzdE1hdGNoKF91cmxXaXRoU2NoZW1hUmUsIHVybCk7XG4gICAgcmV0dXJuIGxhbmdfMS5pc0JsYW5rKHNjaGVtZU1hdGNoKSB8fCBzY2hlbWVNYXRjaFsxXSA9PSAncGFja2FnZScgfHwgc2NoZW1lTWF0Y2hbMV0gPT0gJ2Fzc2V0Jztcbn1cbmV4cG9ydHMuaXNTdHlsZVVybFJlc29sdmFibGUgPSBpc1N0eWxlVXJsUmVzb2x2YWJsZTtcbi8qKlxuICogUmV3cml0ZXMgc3R5bGVzaGVldHMgYnkgcmVzb2x2aW5nIGFuZCByZW1vdmluZyB0aGUgQGltcG9ydCB1cmxzIHRoYXRcbiAqIGFyZSBlaXRoZXIgcmVsYXRpdmUgb3IgZG9uJ3QgaGF2ZSBhIGBwYWNrYWdlOmAgc2NoZW1lXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RTdHlsZVVybHMocmVzb2x2ZXIsIGJhc2VVcmwsIGNzc1RleHQpIHtcbiAgICB2YXIgZm91bmRVcmxzID0gW107XG4gICAgdmFyIG1vZGlmaWVkQ3NzVGV4dCA9IGxhbmdfMS5TdHJpbmdXcmFwcGVyLnJlcGxhY2VBbGxNYXBwZWQoY3NzVGV4dCwgX2Nzc0ltcG9ydFJlLCBmdW5jdGlvbiAobSkge1xuICAgICAgICB2YXIgdXJsID0gbGFuZ18xLmlzUHJlc2VudChtWzFdKSA/IG1bMV0gOiBtWzJdO1xuICAgICAgICBpZiAoIWlzU3R5bGVVcmxSZXNvbHZhYmxlKHVybCkpIHtcbiAgICAgICAgICAgIC8vIERvIG5vdCBhdHRlbXB0IHRvIHJlc29sdmUgbm9uLXBhY2thZ2UgYWJzb2x1dGUgVVJMcyB3aXRoIFVSSSBzY2hlbWVcbiAgICAgICAgICAgIHJldHVybiBtWzBdO1xuICAgICAgICB9XG4gICAgICAgIGZvdW5kVXJscy5wdXNoKHJlc29sdmVyLnJlc29sdmUoYmFzZVVybCwgdXJsKSk7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IFN0eWxlV2l0aEltcG9ydHMobW9kaWZpZWRDc3NUZXh0LCBmb3VuZFVybHMpO1xufVxuZXhwb3J0cy5leHRyYWN0U3R5bGVVcmxzID0gZXh0cmFjdFN0eWxlVXJscztcbnZhciBfY3NzSW1wb3J0UmUgPSAvQGltcG9ydFxccysoPzp1cmxcXCgpP1xccyooPzooPzpbJ1wiXShbXidcIl0qKSl8KFteO1xcKVxcc10qKSlbXjtdKjs/L2c7XG4vLyBUT0RPOiBjYW4ndCB1c2UgL15bXjovPyMuXSs6L2cgZHVlIHRvIGNsYW5nLWZvcm1hdCBidWc6XG4vLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy80NTk2XG52YXIgX3VybFdpdGhTY2hlbWFSZSA9IC9eKFthLXpBLVpcXC1cXCtcXC5dKyk6L2c7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHlsZV91cmxfcmVzb2x2ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG4vKipcbiAqIEEgc2VnbWVudCBvZiB0ZXh0IHdpdGhpbiB0aGUgdGVtcGxhdGUuXG4gKi9cbnZhciBUZXh0QXN0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZXh0QXN0KHZhbHVlLCBuZ0NvbnRlbnRJbmRleCwgc291cmNlU3Bhbikge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMubmdDb250ZW50SW5kZXggPSBuZ0NvbnRlbnRJbmRleDtcbiAgICAgICAgdGhpcy5zb3VyY2VTcGFuID0gc291cmNlU3BhbjtcbiAgICB9XG4gICAgVGV4dEFzdC5wcm90b3R5cGUudmlzaXQgPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkgeyByZXR1cm4gdmlzaXRvci52aXNpdFRleHQodGhpcywgY29udGV4dCk7IH07XG4gICAgcmV0dXJuIFRleHRBc3Q7XG59KCkpO1xuZXhwb3J0cy5UZXh0QXN0ID0gVGV4dEFzdDtcbi8qKlxuICogQSBib3VuZCBleHByZXNzaW9uIHdpdGhpbiB0aGUgdGV4dCBvZiBhIHRlbXBsYXRlLlxuICovXG52YXIgQm91bmRUZXh0QXN0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCb3VuZFRleHRBc3QodmFsdWUsIG5nQ29udGVudEluZGV4LCBzb3VyY2VTcGFuKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5uZ0NvbnRlbnRJbmRleCA9IG5nQ29udGVudEluZGV4O1xuICAgICAgICB0aGlzLnNvdXJjZVNwYW4gPSBzb3VyY2VTcGFuO1xuICAgIH1cbiAgICBCb3VuZFRleHRBc3QucHJvdG90eXBlLnZpc2l0ID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRCb3VuZFRleHQodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gQm91bmRUZXh0QXN0O1xufSgpKTtcbmV4cG9ydHMuQm91bmRUZXh0QXN0ID0gQm91bmRUZXh0QXN0O1xuLyoqXG4gKiBBIHBsYWluIGF0dHJpYnV0ZSBvbiBhbiBlbGVtZW50LlxuICovXG52YXIgQXR0ckFzdCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXR0ckFzdChuYW1lLCB2YWx1ZSwgc291cmNlU3Bhbikge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuc291cmNlU3BhbiA9IHNvdXJjZVNwYW47XG4gICAgfVxuICAgIEF0dHJBc3QucHJvdG90eXBlLnZpc2l0ID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHsgcmV0dXJuIHZpc2l0b3IudmlzaXRBdHRyKHRoaXMsIGNvbnRleHQpOyB9O1xuICAgIHJldHVybiBBdHRyQXN0O1xufSgpKTtcbmV4cG9ydHMuQXR0ckFzdCA9IEF0dHJBc3Q7XG4vKipcbiAqIEEgYmluZGluZyBmb3IgYW4gZWxlbWVudCBwcm9wZXJ0eSAoZS5nLiBgW3Byb3BlcnR5XT1cImV4cHJlc3Npb25cImApLlxuICovXG52YXIgQm91bmRFbGVtZW50UHJvcGVydHlBc3QgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJvdW5kRWxlbWVudFByb3BlcnR5QXN0KG5hbWUsIHR5cGUsIHNlY3VyaXR5Q29udGV4dCwgdmFsdWUsIHVuaXQsIHNvdXJjZVNwYW4pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5zZWN1cml0eUNvbnRleHQgPSBzZWN1cml0eUNvbnRleHQ7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51bml0ID0gdW5pdDtcbiAgICAgICAgdGhpcy5zb3VyY2VTcGFuID0gc291cmNlU3BhbjtcbiAgICB9XG4gICAgQm91bmRFbGVtZW50UHJvcGVydHlBc3QucHJvdG90eXBlLnZpc2l0ID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRFbGVtZW50UHJvcGVydHkodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gQm91bmRFbGVtZW50UHJvcGVydHlBc3Q7XG59KCkpO1xuZXhwb3J0cy5Cb3VuZEVsZW1lbnRQcm9wZXJ0eUFzdCA9IEJvdW5kRWxlbWVudFByb3BlcnR5QXN0O1xuLyoqXG4gKiBBIGJpbmRpbmcgZm9yIGFuIGVsZW1lbnQgZXZlbnQgKGUuZy4gYChldmVudCk9XCJoYW5kbGVyKClcImApLlxuICovXG52YXIgQm91bmRFdmVudEFzdCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQm91bmRFdmVudEFzdChuYW1lLCB0YXJnZXQsIGhhbmRsZXIsIHNvdXJjZVNwYW4pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMuaGFuZGxlciA9IGhhbmRsZXI7XG4gICAgICAgIHRoaXMuc291cmNlU3BhbiA9IHNvdXJjZVNwYW47XG4gICAgfVxuICAgIEJvdW5kRXZlbnRBc3QucHJvdG90eXBlLnZpc2l0ID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRFdmVudCh0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCb3VuZEV2ZW50QXN0LnByb3RvdHlwZSwgXCJmdWxsTmFtZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGhpcy50YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0ICsgXCI6XCIgKyB0aGlzLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQm91bmRFdmVudEFzdDtcbn0oKSk7XG5leHBvcnRzLkJvdW5kRXZlbnRBc3QgPSBCb3VuZEV2ZW50QXN0O1xuLyoqXG4gKiBBIHJlZmVyZW5jZSBkZWNsYXJhdGlvbiBvbiBhbiBlbGVtZW50IChlLmcuIGBsZXQgc29tZU5hbWU9XCJleHByZXNzaW9uXCJgKS5cbiAqL1xudmFyIFJlZmVyZW5jZUFzdCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVmZXJlbmNlQXN0KG5hbWUsIHZhbHVlLCBzb3VyY2VTcGFuKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5zb3VyY2VTcGFuID0gc291cmNlU3BhbjtcbiAgICB9XG4gICAgUmVmZXJlbmNlQXN0LnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0UmVmZXJlbmNlKHRoaXMsIGNvbnRleHQpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlZmVyZW5jZUFzdDtcbn0oKSk7XG5leHBvcnRzLlJlZmVyZW5jZUFzdCA9IFJlZmVyZW5jZUFzdDtcbi8qKlxuICogQSB2YXJpYWJsZSBkZWNsYXJhdGlvbiBvbiBhIDx0ZW1wbGF0ZT4gKGUuZy4gYHZhci1zb21lTmFtZT1cInNvbWVMb2NhbE5hbWVcImApLlxuICovXG52YXIgVmFyaWFibGVBc3QgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZhcmlhYmxlQXN0KG5hbWUsIHZhbHVlLCBzb3VyY2VTcGFuKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5zb3VyY2VTcGFuID0gc291cmNlU3BhbjtcbiAgICB9XG4gICAgVmFyaWFibGVBc3QucHJvdG90eXBlLnZpc2l0ID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRWYXJpYWJsZSh0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBWYXJpYWJsZUFzdDtcbn0oKSk7XG5leHBvcnRzLlZhcmlhYmxlQXN0ID0gVmFyaWFibGVBc3Q7XG4vKipcbiAqIEFuIGVsZW1lbnQgZGVjbGFyYXRpb24gaW4gYSB0ZW1wbGF0ZS5cbiAqL1xudmFyIEVsZW1lbnRBc3QgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEVsZW1lbnRBc3QobmFtZSwgYXR0cnMsIGlucHV0cywgb3V0cHV0cywgcmVmZXJlbmNlcywgZGlyZWN0aXZlcywgcHJvdmlkZXJzLCBoYXNWaWV3Q29udGFpbmVyLCBjaGlsZHJlbiwgbmdDb250ZW50SW5kZXgsIHNvdXJjZVNwYW4pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5hdHRycyA9IGF0dHJzO1xuICAgICAgICB0aGlzLmlucHV0cyA9IGlucHV0cztcbiAgICAgICAgdGhpcy5vdXRwdXRzID0gb3V0cHV0cztcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VzID0gcmVmZXJlbmNlcztcbiAgICAgICAgdGhpcy5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcbiAgICAgICAgdGhpcy5wcm92aWRlcnMgPSBwcm92aWRlcnM7XG4gICAgICAgIHRoaXMuaGFzVmlld0NvbnRhaW5lciA9IGhhc1ZpZXdDb250YWluZXI7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgICAgdGhpcy5uZ0NvbnRlbnRJbmRleCA9IG5nQ29udGVudEluZGV4O1xuICAgICAgICB0aGlzLnNvdXJjZVNwYW4gPSBzb3VyY2VTcGFuO1xuICAgIH1cbiAgICBFbGVtZW50QXN0LnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0RWxlbWVudCh0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBFbGVtZW50QXN0O1xufSgpKTtcbmV4cG9ydHMuRWxlbWVudEFzdCA9IEVsZW1lbnRBc3Q7XG4vKipcbiAqIEEgYDx0ZW1wbGF0ZT5gIGVsZW1lbnQgaW5jbHVkZWQgaW4gYW4gQW5ndWxhciB0ZW1wbGF0ZS5cbiAqL1xudmFyIEVtYmVkZGVkVGVtcGxhdGVBc3QgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEVtYmVkZGVkVGVtcGxhdGVBc3QoYXR0cnMsIG91dHB1dHMsIHJlZmVyZW5jZXMsIHZhcmlhYmxlcywgZGlyZWN0aXZlcywgcHJvdmlkZXJzLCBoYXNWaWV3Q29udGFpbmVyLCBjaGlsZHJlbiwgbmdDb250ZW50SW5kZXgsIHNvdXJjZVNwYW4pIHtcbiAgICAgICAgdGhpcy5hdHRycyA9IGF0dHJzO1xuICAgICAgICB0aGlzLm91dHB1dHMgPSBvdXRwdXRzO1xuICAgICAgICB0aGlzLnJlZmVyZW5jZXMgPSByZWZlcmVuY2VzO1xuICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IHZhcmlhYmxlcztcbiAgICAgICAgdGhpcy5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcbiAgICAgICAgdGhpcy5wcm92aWRlcnMgPSBwcm92aWRlcnM7XG4gICAgICAgIHRoaXMuaGFzVmlld0NvbnRhaW5lciA9IGhhc1ZpZXdDb250YWluZXI7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgICAgdGhpcy5uZ0NvbnRlbnRJbmRleCA9IG5nQ29udGVudEluZGV4O1xuICAgICAgICB0aGlzLnNvdXJjZVNwYW4gPSBzb3VyY2VTcGFuO1xuICAgIH1cbiAgICBFbWJlZGRlZFRlbXBsYXRlQXN0LnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0RW1iZWRkZWRUZW1wbGF0ZSh0aGlzLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBFbWJlZGRlZFRlbXBsYXRlQXN0O1xufSgpKTtcbmV4cG9ydHMuRW1iZWRkZWRUZW1wbGF0ZUFzdCA9IEVtYmVkZGVkVGVtcGxhdGVBc3Q7XG4vKipcbiAqIEEgZGlyZWN0aXZlIHByb3BlcnR5IHdpdGggYSBib3VuZCB2YWx1ZSAoZS5nLiBgKm5nSWY9XCJjb25kaXRpb25cIikuXG4gKi9cbnZhciBCb3VuZERpcmVjdGl2ZVByb3BlcnR5QXN0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCb3VuZERpcmVjdGl2ZVByb3BlcnR5QXN0KGRpcmVjdGl2ZU5hbWUsIHRlbXBsYXRlTmFtZSwgdmFsdWUsIHNvdXJjZVNwYW4pIHtcbiAgICAgICAgdGhpcy5kaXJlY3RpdmVOYW1lID0gZGlyZWN0aXZlTmFtZTtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZU5hbWUgPSB0ZW1wbGF0ZU5hbWU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5zb3VyY2VTcGFuID0gc291cmNlU3BhbjtcbiAgICB9XG4gICAgQm91bmREaXJlY3RpdmVQcm9wZXJ0eUFzdC5wcm90b3R5cGUudmlzaXQgPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdmlzaXRvci52aXNpdERpcmVjdGl2ZVByb3BlcnR5KHRoaXMsIGNvbnRleHQpO1xuICAgIH07XG4gICAgcmV0dXJuIEJvdW5kRGlyZWN0aXZlUHJvcGVydHlBc3Q7XG59KCkpO1xuZXhwb3J0cy5Cb3VuZERpcmVjdGl2ZVByb3BlcnR5QXN0ID0gQm91bmREaXJlY3RpdmVQcm9wZXJ0eUFzdDtcbi8qKlxuICogQSBkaXJlY3RpdmUgZGVjbGFyZWQgb24gYW4gZWxlbWVudC5cbiAqL1xudmFyIERpcmVjdGl2ZUFzdCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGlyZWN0aXZlQXN0KGRpcmVjdGl2ZSwgaW5wdXRzLCBob3N0UHJvcGVydGllcywgaG9zdEV2ZW50cywgc291cmNlU3Bhbikge1xuICAgICAgICB0aGlzLmRpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgdGhpcy5pbnB1dHMgPSBpbnB1dHM7XG4gICAgICAgIHRoaXMuaG9zdFByb3BlcnRpZXMgPSBob3N0UHJvcGVydGllcztcbiAgICAgICAgdGhpcy5ob3N0RXZlbnRzID0gaG9zdEV2ZW50cztcbiAgICAgICAgdGhpcy5zb3VyY2VTcGFuID0gc291cmNlU3BhbjtcbiAgICB9XG4gICAgRGlyZWN0aXZlQXN0LnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uICh2aXNpdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0RGlyZWN0aXZlKHRoaXMsIGNvbnRleHQpO1xuICAgIH07XG4gICAgcmV0dXJuIERpcmVjdGl2ZUFzdDtcbn0oKSk7XG5leHBvcnRzLkRpcmVjdGl2ZUFzdCA9IERpcmVjdGl2ZUFzdDtcbi8qKlxuICogQSBwcm92aWRlciBkZWNsYXJlZCBvbiBhbiBlbGVtZW50XG4gKi9cbnZhciBQcm92aWRlckFzdCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHJvdmlkZXJBc3QodG9rZW4sIG11bHRpUHJvdmlkZXIsIGVhZ2VyLCBwcm92aWRlcnMsIHByb3ZpZGVyVHlwZSwgc291cmNlU3Bhbikge1xuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICAgIHRoaXMubXVsdGlQcm92aWRlciA9IG11bHRpUHJvdmlkZXI7XG4gICAgICAgIHRoaXMuZWFnZXIgPSBlYWdlcjtcbiAgICAgICAgdGhpcy5wcm92aWRlcnMgPSBwcm92aWRlcnM7XG4gICAgICAgIHRoaXMucHJvdmlkZXJUeXBlID0gcHJvdmlkZXJUeXBlO1xuICAgICAgICB0aGlzLnNvdXJjZVNwYW4gPSBzb3VyY2VTcGFuO1xuICAgIH1cbiAgICBQcm92aWRlckFzdC5wcm90b3R5cGUudmlzaXQgPSBmdW5jdGlvbiAodmlzaXRvciwgY29udGV4dCkge1xuICAgICAgICAvLyBObyB2aXNpdCBtZXRob2QgaW4gdGhlIHZpc2l0b3IgZm9yIG5vdy4uLlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBQcm92aWRlckFzdDtcbn0oKSk7XG5leHBvcnRzLlByb3ZpZGVyQXN0ID0gUHJvdmlkZXJBc3Q7XG4oZnVuY3Rpb24gKFByb3ZpZGVyQXN0VHlwZSkge1xuICAgIFByb3ZpZGVyQXN0VHlwZVtQcm92aWRlckFzdFR5cGVbXCJQdWJsaWNTZXJ2aWNlXCJdID0gMF0gPSBcIlB1YmxpY1NlcnZpY2VcIjtcbiAgICBQcm92aWRlckFzdFR5cGVbUHJvdmlkZXJBc3RUeXBlW1wiUHJpdmF0ZVNlcnZpY2VcIl0gPSAxXSA9IFwiUHJpdmF0ZVNlcnZpY2VcIjtcbiAgICBQcm92aWRlckFzdFR5cGVbUHJvdmlkZXJBc3RUeXBlW1wiQ29tcG9uZW50XCJdID0gMl0gPSBcIkNvbXBvbmVudFwiO1xuICAgIFByb3ZpZGVyQXN0VHlwZVtQcm92aWRlckFzdFR5cGVbXCJEaXJlY3RpdmVcIl0gPSAzXSA9IFwiRGlyZWN0aXZlXCI7XG4gICAgUHJvdmlkZXJBc3RUeXBlW1Byb3ZpZGVyQXN0VHlwZVtcIkJ1aWx0aW5cIl0gPSA0XSA9IFwiQnVpbHRpblwiO1xufSkoZXhwb3J0cy5Qcm92aWRlckFzdFR5cGUgfHwgKGV4cG9ydHMuUHJvdmlkZXJBc3RUeXBlID0ge30pKTtcbnZhciBQcm92aWRlckFzdFR5cGUgPSBleHBvcnRzLlByb3ZpZGVyQXN0VHlwZTtcbi8qKlxuICogUG9zaXRpb24gd2hlcmUgY29udGVudCBpcyB0byBiZSBwcm9qZWN0ZWQgKGluc3RhbmNlIG9mIGA8bmctY29udGVudD5gIGluIGEgdGVtcGxhdGUpLlxuICovXG52YXIgTmdDb250ZW50QXN0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZ0NvbnRlbnRBc3QoaW5kZXgsIG5nQ29udGVudEluZGV4LCBzb3VyY2VTcGFuKSB7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5uZ0NvbnRlbnRJbmRleCA9IG5nQ29udGVudEluZGV4O1xuICAgICAgICB0aGlzLnNvdXJjZVNwYW4gPSBzb3VyY2VTcGFuO1xuICAgIH1cbiAgICBOZ0NvbnRlbnRBc3QucHJvdG90eXBlLnZpc2l0ID0gZnVuY3Rpb24gKHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXROZ0NvbnRlbnQodGhpcywgY29udGV4dCk7XG4gICAgfTtcbiAgICByZXR1cm4gTmdDb250ZW50QXN0O1xufSgpKTtcbmV4cG9ydHMuTmdDb250ZW50QXN0ID0gTmdDb250ZW50QXN0O1xuLyoqXG4gKiBFbnVtZXJhdGlvbiBvZiB0eXBlcyBvZiBwcm9wZXJ0eSBiaW5kaW5ncy5cbiAqL1xuKGZ1bmN0aW9uIChQcm9wZXJ0eUJpbmRpbmdUeXBlKSB7XG4gICAgLyoqXG4gICAgICogQSBub3JtYWwgYmluZGluZyB0byBhIHByb3BlcnR5IChlLmcuIGBbcHJvcGVydHldPVwiZXhwcmVzc2lvblwiYCkuXG4gICAgICovXG4gICAgUHJvcGVydHlCaW5kaW5nVHlwZVtQcm9wZXJ0eUJpbmRpbmdUeXBlW1wiUHJvcGVydHlcIl0gPSAwXSA9IFwiUHJvcGVydHlcIjtcbiAgICAvKipcbiAgICAgKiBBIGJpbmRpbmcgdG8gYW4gZWxlbWVudCBhdHRyaWJ1dGUgKGUuZy4gYFthdHRyLm5hbWVdPVwiZXhwcmVzc2lvblwiYCkuXG4gICAgICovXG4gICAgUHJvcGVydHlCaW5kaW5nVHlwZVtQcm9wZXJ0eUJpbmRpbmdUeXBlW1wiQXR0cmlidXRlXCJdID0gMV0gPSBcIkF0dHJpYnV0ZVwiO1xuICAgIC8qKlxuICAgICAqIEEgYmluZGluZyB0byBhIENTUyBjbGFzcyAoZS5nLiBgW2NsYXNzLm5hbWVdPVwiY29uZGl0aW9uXCJgKS5cbiAgICAgKi9cbiAgICBQcm9wZXJ0eUJpbmRpbmdUeXBlW1Byb3BlcnR5QmluZGluZ1R5cGVbXCJDbGFzc1wiXSA9IDJdID0gXCJDbGFzc1wiO1xuICAgIC8qKlxuICAgICAqIEEgYmluZGluZyB0byBhIHN0eWxlIHJ1bGUgKGUuZy4gYFtzdHlsZS5ydWxlXT1cImV4cHJlc3Npb25cImApLlxuICAgICAqL1xuICAgIFByb3BlcnR5QmluZGluZ1R5cGVbUHJvcGVydHlCaW5kaW5nVHlwZVtcIlN0eWxlXCJdID0gM10gPSBcIlN0eWxlXCI7XG59KShleHBvcnRzLlByb3BlcnR5QmluZGluZ1R5cGUgfHwgKGV4cG9ydHMuUHJvcGVydHlCaW5kaW5nVHlwZSA9IHt9KSk7XG52YXIgUHJvcGVydHlCaW5kaW5nVHlwZSA9IGV4cG9ydHMuUHJvcGVydHlCaW5kaW5nVHlwZTtcbi8qKlxuICogVmlzaXQgZXZlcnkgbm9kZSBpbiBhIGxpc3Qgb2Yge0BsaW5rIFRlbXBsYXRlQXN0fXMgd2l0aCB0aGUgZ2l2ZW4ge0BsaW5rIFRlbXBsYXRlQXN0VmlzaXRvcn0uXG4gKi9cbmZ1bmN0aW9uIHRlbXBsYXRlVmlzaXRBbGwodmlzaXRvciwgYXN0cywgY29udGV4dCkge1xuICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgYXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChhc3QpIHtcbiAgICAgICAgdmFyIGFzdFJlc3VsdCA9IGFzdC52aXNpdCh2aXNpdG9yLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoYXN0UmVzdWx0KSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goYXN0UmVzdWx0KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLnRlbXBsYXRlVmlzaXRBbGwgPSB0ZW1wbGF0ZVZpc2l0QWxsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVtcGxhdGVfYXN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGNvcmVfcHJpdmF0ZV8xID0gcmVxdWlyZSgnLi4vY29yZV9wcml2YXRlJyk7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9jb2xsZWN0aW9uJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG52YXIgYXN0XzEgPSByZXF1aXJlKCcuL2V4cHJlc3Npb25fcGFyc2VyL2FzdCcpO1xudmFyIHBhcnNlcl8xID0gcmVxdWlyZSgnLi9leHByZXNzaW9uX3BhcnNlci9wYXJzZXInKTtcbnZhciBodG1sX3BhcnNlcl8xID0gcmVxdWlyZSgnLi9odG1sX3BhcnNlcicpO1xudmFyIGh0bWxfdGFnc18xID0gcmVxdWlyZSgnLi9odG1sX3RhZ3MnKTtcbnZhciBwYXJzZV91dGlsXzEgPSByZXF1aXJlKCcuL3BhcnNlX3V0aWwnKTtcbnZhciB0ZW1wbGF0ZV9hc3RfMSA9IHJlcXVpcmUoJy4vdGVtcGxhdGVfYXN0Jyk7XG52YXIgc2VsZWN0b3JfMSA9IHJlcXVpcmUoJy4vc2VsZWN0b3InKTtcbnZhciBlbGVtZW50X3NjaGVtYV9yZWdpc3RyeV8xID0gcmVxdWlyZSgnLi9zY2hlbWEvZWxlbWVudF9zY2hlbWFfcmVnaXN0cnknKTtcbnZhciB0ZW1wbGF0ZV9wcmVwYXJzZXJfMSA9IHJlcXVpcmUoJy4vdGVtcGxhdGVfcHJlcGFyc2VyJyk7XG52YXIgc3R5bGVfdXJsX3Jlc29sdmVyXzEgPSByZXF1aXJlKCcuL3N0eWxlX3VybF9yZXNvbHZlcicpO1xudmFyIGh0bWxfYXN0XzEgPSByZXF1aXJlKCcuL2h0bWxfYXN0Jyk7XG52YXIgdXRpbF8xID0gcmVxdWlyZSgnLi91dGlsJyk7XG52YXIgaWRlbnRpZmllcnNfMSA9IHJlcXVpcmUoJy4vaWRlbnRpZmllcnMnKTtcbnZhciBwcm92aWRlcl9wYXJzZXJfMSA9IHJlcXVpcmUoJy4vcHJvdmlkZXJfcGFyc2VyJyk7XG4vLyBHcm91cCAxID0gXCJiaW5kLVwiXG4vLyBHcm91cCAyID0gXCJ2YXItXCJcbi8vIEdyb3VwIDMgPSBcImxldC1cIlxuLy8gR3JvdXAgNCA9IFwicmVmLS8jXCJcbi8vIEdyb3VwIDUgPSBcIm9uLVwiXG4vLyBHcm91cCA2ID0gXCJiaW5kb24tXCJcbi8vIEdyb3VwIDcgPSB0aGUgaWRlbnRpZmllciBhZnRlciBcImJpbmQtXCIsIFwidmFyLS8jXCIsIG9yIFwib24tXCJcbi8vIEdyb3VwIDggPSBpZGVudGlmaWVyIGluc2lkZSBbKCldXG4vLyBHcm91cCA5ID0gaWRlbnRpZmllciBpbnNpZGUgW11cbi8vIEdyb3VwIDEwID0gaWRlbnRpZmllciBpbnNpZGUgKClcbnZhciBCSU5EX05BTUVfUkVHRVhQID0gL14oPzooPzooPzooYmluZC0pfCh2YXItKXwobGV0LSl8KHJlZi18Iyl8KG9uLSl8KGJpbmRvbi0pKSguKykpfFxcW1xcKChbXlxcKV0rKVxcKVxcXXxcXFsoW15cXF1dKylcXF18XFwoKFteXFwpXSspXFwpKSQvZztcbnZhciBURU1QTEFURV9FTEVNRU5UID0gJ3RlbXBsYXRlJztcbnZhciBURU1QTEFURV9BVFRSID0gJ3RlbXBsYXRlJztcbnZhciBURU1QTEFURV9BVFRSX1BSRUZJWCA9ICcqJztcbnZhciBDTEFTU19BVFRSID0gJ2NsYXNzJztcbnZhciBQUk9QRVJUWV9QQVJUU19TRVBBUkFUT1IgPSAnLic7XG52YXIgQVRUUklCVVRFX1BSRUZJWCA9ICdhdHRyJztcbnZhciBDTEFTU19QUkVGSVggPSAnY2xhc3MnO1xudmFyIFNUWUxFX1BSRUZJWCA9ICdzdHlsZSc7XG52YXIgVEVYVF9DU1NfU0VMRUNUT1IgPSBzZWxlY3Rvcl8xLkNzc1NlbGVjdG9yLnBhcnNlKCcqJylbMF07XG4vKipcbiAqIFByb3ZpZGVzIGFuIGFycmF5IG9mIHtAbGluayBUZW1wbGF0ZUFzdFZpc2l0b3J9cyB3aGljaCB3aWxsIGJlIHVzZWQgdG8gdHJhbnNmb3JtXG4gKiBwYXJzZWQgdGVtcGxhdGVzIGJlZm9yZSBjb21waWxhdGlvbiBpcyBpbnZva2VkLCBhbGxvd2luZyBjdXN0b20gZXhwcmVzc2lvbiBzeW50YXhcbiAqIGFuZCBvdGhlciBhZHZhbmNlZCB0cmFuc2Zvcm1hdGlvbnMuXG4gKlxuICogVGhpcyBpcyBjdXJyZW50bHkgYW4gaW50ZXJuYWwtb25seSBmZWF0dXJlIGFuZCBub3QgbWVhbnQgZm9yIGdlbmVyYWwgdXNlLlxuICovXG5leHBvcnRzLlRFTVBMQVRFX1RSQU5TRk9STVMgPSBuZXcgY29yZV8xLk9wYXF1ZVRva2VuKCdUZW1wbGF0ZVRyYW5zZm9ybXMnKTtcbnZhciBUZW1wbGF0ZVBhcnNlRXJyb3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZW1wbGF0ZVBhcnNlRXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGVtcGxhdGVQYXJzZUVycm9yKG1lc3NhZ2UsIHNwYW4sIGxldmVsKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIHNwYW4sIG1lc3NhZ2UsIGxldmVsKTtcbiAgICB9XG4gICAgcmV0dXJuIFRlbXBsYXRlUGFyc2VFcnJvcjtcbn0ocGFyc2VfdXRpbF8xLlBhcnNlRXJyb3IpKTtcbmV4cG9ydHMuVGVtcGxhdGVQYXJzZUVycm9yID0gVGVtcGxhdGVQYXJzZUVycm9yO1xudmFyIFRlbXBsYXRlUGFyc2VSZXN1bHQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRlbXBsYXRlUGFyc2VSZXN1bHQodGVtcGxhdGVBc3QsIGVycm9ycykge1xuICAgICAgICB0aGlzLnRlbXBsYXRlQXN0ID0gdGVtcGxhdGVBc3Q7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgIH1cbiAgICByZXR1cm4gVGVtcGxhdGVQYXJzZVJlc3VsdDtcbn0oKSk7XG5leHBvcnRzLlRlbXBsYXRlUGFyc2VSZXN1bHQgPSBUZW1wbGF0ZVBhcnNlUmVzdWx0O1xudmFyIFRlbXBsYXRlUGFyc2VyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZW1wbGF0ZVBhcnNlcihfZXhwclBhcnNlciwgX3NjaGVtYVJlZ2lzdHJ5LCBfaHRtbFBhcnNlciwgX2NvbnNvbGUsIHRyYW5zZm9ybXMpIHtcbiAgICAgICAgdGhpcy5fZXhwclBhcnNlciA9IF9leHByUGFyc2VyO1xuICAgICAgICB0aGlzLl9zY2hlbWFSZWdpc3RyeSA9IF9zY2hlbWFSZWdpc3RyeTtcbiAgICAgICAgdGhpcy5faHRtbFBhcnNlciA9IF9odG1sUGFyc2VyO1xuICAgICAgICB0aGlzLl9jb25zb2xlID0gX2NvbnNvbGU7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtcyA9IHRyYW5zZm9ybXM7XG4gICAgfVxuICAgIFRlbXBsYXRlUGFyc2VyLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIChjb21wb25lbnQsIHRlbXBsYXRlLCBkaXJlY3RpdmVzLCBwaXBlcywgdGVtcGxhdGVVcmwpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMudHJ5UGFyc2UoY29tcG9uZW50LCB0ZW1wbGF0ZSwgZGlyZWN0aXZlcywgcGlwZXMsIHRlbXBsYXRlVXJsKTtcbiAgICAgICAgdmFyIHdhcm5pbmdzID0gcmVzdWx0LmVycm9ycy5maWx0ZXIoZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBlcnJvci5sZXZlbCA9PT0gcGFyc2VfdXRpbF8xLlBhcnNlRXJyb3JMZXZlbC5XQVJOSU5HOyB9KTtcbiAgICAgICAgdmFyIGVycm9ycyA9IHJlc3VsdC5lcnJvcnMuZmlsdGVyKGZ1bmN0aW9uIChlcnJvcikgeyByZXR1cm4gZXJyb3IubGV2ZWwgPT09IHBhcnNlX3V0aWxfMS5QYXJzZUVycm9yTGV2ZWwuRkFUQUw7IH0pO1xuICAgICAgICBpZiAod2FybmluZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fY29uc29sZS53YXJuKFwiVGVtcGxhdGUgcGFyc2Ugd2FybmluZ3M6XFxuXCIgKyB3YXJuaW5ncy5qb2luKCdcXG4nKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3JTdHJpbmcgPSBlcnJvcnMuam9pbignXFxuJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJUZW1wbGF0ZSBwYXJzZSBlcnJvcnM6XFxuXCIgKyBlcnJvclN0cmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdC50ZW1wbGF0ZUFzdDtcbiAgICB9O1xuICAgIFRlbXBsYXRlUGFyc2VyLnByb3RvdHlwZS50cnlQYXJzZSA9IGZ1bmN0aW9uIChjb21wb25lbnQsIHRlbXBsYXRlLCBkaXJlY3RpdmVzLCBwaXBlcywgdGVtcGxhdGVVcmwpIHtcbiAgICAgICAgdmFyIGh0bWxBc3RXaXRoRXJyb3JzID0gdGhpcy5faHRtbFBhcnNlci5wYXJzZSh0ZW1wbGF0ZSwgdGVtcGxhdGVVcmwpO1xuICAgICAgICB2YXIgZXJyb3JzID0gaHRtbEFzdFdpdGhFcnJvcnMuZXJyb3JzO1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICBpZiAoaHRtbEFzdFdpdGhFcnJvcnMucm9vdE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciB1bmlxRGlyZWN0aXZlcyA9IHJlbW92ZUR1cGxpY2F0ZXMoZGlyZWN0aXZlcyk7XG4gICAgICAgICAgICB2YXIgdW5pcVBpcGVzID0gcmVtb3ZlRHVwbGljYXRlcyhwaXBlcyk7XG4gICAgICAgICAgICB2YXIgcHJvdmlkZXJWaWV3Q29udGV4dCA9IG5ldyBwcm92aWRlcl9wYXJzZXJfMS5Qcm92aWRlclZpZXdDb250ZXh0KGNvbXBvbmVudCwgaHRtbEFzdFdpdGhFcnJvcnMucm9vdE5vZGVzWzBdLnNvdXJjZVNwYW4pO1xuICAgICAgICAgICAgdmFyIHBhcnNlVmlzaXRvciA9IG5ldyBUZW1wbGF0ZVBhcnNlVmlzaXRvcihwcm92aWRlclZpZXdDb250ZXh0LCB1bmlxRGlyZWN0aXZlcywgdW5pcVBpcGVzLCB0aGlzLl9leHByUGFyc2VyLCB0aGlzLl9zY2hlbWFSZWdpc3RyeSk7XG4gICAgICAgICAgICByZXN1bHQgPSBodG1sX2FzdF8xLmh0bWxWaXNpdEFsbChwYXJzZVZpc2l0b3IsIGh0bWxBc3RXaXRoRXJyb3JzLnJvb3ROb2RlcywgRU1QVFlfRUxFTUVOVF9DT05URVhUKTtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQocGFyc2VWaXNpdG9yLmVycm9ycykuY29uY2F0KHByb3ZpZGVyVmlld0NvbnRleHQuZXJyb3JzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUZW1wbGF0ZVBhcnNlUmVzdWx0KHJlc3VsdCwgZXJyb3JzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLnRyYW5zZm9ybXMpKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybXMuZm9yRWFjaChmdW5jdGlvbiAodHJhbnNmb3JtKSB7IHJlc3VsdCA9IHRlbXBsYXRlX2FzdF8xLnRlbXBsYXRlVmlzaXRBbGwodHJhbnNmb3JtLCByZXN1bHQpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRlbXBsYXRlUGFyc2VSZXN1bHQocmVzdWx0LCBlcnJvcnMpO1xuICAgIH07XG4gICAgVGVtcGxhdGVQYXJzZXIuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuSW5qZWN0YWJsZSB9LFxuICAgIF07XG4gICAgVGVtcGxhdGVQYXJzZXIuY3RvclBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHsgdHlwZTogcGFyc2VyXzEuUGFyc2VyLCB9LFxuICAgICAgICB7IHR5cGU6IGVsZW1lbnRfc2NoZW1hX3JlZ2lzdHJ5XzEuRWxlbWVudFNjaGVtYVJlZ2lzdHJ5LCB9LFxuICAgICAgICB7IHR5cGU6IGh0bWxfcGFyc2VyXzEuSHRtbFBhcnNlciwgfSxcbiAgICAgICAgeyB0eXBlOiBjb3JlX3ByaXZhdGVfMS5Db25zb2xlLCB9LFxuICAgICAgICB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3sgdHlwZTogY29yZV8xLk9wdGlvbmFsIH0sIHsgdHlwZTogY29yZV8xLkluamVjdCwgYXJnczogW2V4cG9ydHMuVEVNUExBVEVfVFJBTlNGT1JNUyxdIH0sXSB9LFxuICAgIF07XG4gICAgcmV0dXJuIFRlbXBsYXRlUGFyc2VyO1xufSgpKTtcbmV4cG9ydHMuVGVtcGxhdGVQYXJzZXIgPSBUZW1wbGF0ZVBhcnNlcjtcbnZhciBUZW1wbGF0ZVBhcnNlVmlzaXRvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGVtcGxhdGVQYXJzZVZpc2l0b3IocHJvdmlkZXJWaWV3Q29udGV4dCwgZGlyZWN0aXZlcywgcGlwZXMsIF9leHByUGFyc2VyLCBfc2NoZW1hUmVnaXN0cnkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5wcm92aWRlclZpZXdDb250ZXh0ID0gcHJvdmlkZXJWaWV3Q29udGV4dDtcbiAgICAgICAgdGhpcy5fZXhwclBhcnNlciA9IF9leHByUGFyc2VyO1xuICAgICAgICB0aGlzLl9zY2hlbWFSZWdpc3RyeSA9IF9zY2hlbWFSZWdpc3RyeTtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5kaXJlY3RpdmVzSW5kZXggPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMubmdDb250ZW50Q291bnQgPSAwO1xuICAgICAgICB0aGlzLnNlbGVjdG9yTWF0Y2hlciA9IG5ldyBzZWxlY3Rvcl8xLlNlbGVjdG9yTWF0Y2hlcigpO1xuICAgICAgICBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuZm9yRWFjaFdpdGhJbmRleChkaXJlY3RpdmVzLCBmdW5jdGlvbiAoZGlyZWN0aXZlLCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gc2VsZWN0b3JfMS5Dc3NTZWxlY3Rvci5wYXJzZShkaXJlY3RpdmUuc2VsZWN0b3IpO1xuICAgICAgICAgICAgX3RoaXMuc2VsZWN0b3JNYXRjaGVyLmFkZFNlbGVjdGFibGVzKHNlbGVjdG9yLCBkaXJlY3RpdmUpO1xuICAgICAgICAgICAgX3RoaXMuZGlyZWN0aXZlc0luZGV4LnNldChkaXJlY3RpdmUsIGluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucGlwZXNCeU5hbWUgPSBuZXcgTWFwKCk7XG4gICAgICAgIHBpcGVzLmZvckVhY2goZnVuY3Rpb24gKHBpcGUpIHsgcmV0dXJuIF90aGlzLnBpcGVzQnlOYW1lLnNldChwaXBlLm5hbWUsIHBpcGUpOyB9KTtcbiAgICB9XG4gICAgVGVtcGxhdGVQYXJzZVZpc2l0b3IucHJvdG90eXBlLl9yZXBvcnRFcnJvciA9IGZ1bmN0aW9uIChtZXNzYWdlLCBzb3VyY2VTcGFuLCBsZXZlbCkge1xuICAgICAgICBpZiAobGV2ZWwgPT09IHZvaWQgMCkgeyBsZXZlbCA9IHBhcnNlX3V0aWxfMS5QYXJzZUVycm9yTGV2ZWwuRkFUQUw7IH1cbiAgICAgICAgdGhpcy5lcnJvcnMucHVzaChuZXcgVGVtcGxhdGVQYXJzZUVycm9yKG1lc3NhZ2UsIHNvdXJjZVNwYW4sIGxldmVsKSk7XG4gICAgfTtcbiAgICBUZW1wbGF0ZVBhcnNlVmlzaXRvci5wcm90b3R5cGUuX3BhcnNlSW50ZXJwb2xhdGlvbiA9IGZ1bmN0aW9uICh2YWx1ZSwgc291cmNlU3Bhbikge1xuICAgICAgICB2YXIgc291cmNlSW5mbyA9IHNvdXJjZVNwYW4uc3RhcnQudG9TdHJpbmcoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBhc3QgPSB0aGlzLl9leHByUGFyc2VyLnBhcnNlSW50ZXJwb2xhdGlvbih2YWx1ZSwgc291cmNlSW5mbyk7XG4gICAgICAgICAgICB0aGlzLl9jaGVja1BpcGVzKGFzdCwgc291cmNlU3Bhbik7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChhc3QpICYmXG4gICAgICAgICAgICAgICAgYXN0LmFzdC5leHByZXNzaW9ucy5sZW5ndGggPiBjb3JlX3ByaXZhdGVfMS5NQVhfSU5URVJQT0xBVElPTl9WQUxVRVMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJPbmx5IHN1cHBvcnQgYXQgbW9zdCBcIiArIGNvcmVfcHJpdmF0ZV8xLk1BWF9JTlRFUlBPTEFUSU9OX1ZBTFVFUyArIFwiIGludGVycG9sYXRpb24gdmFsdWVzIVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhc3Q7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcG9ydEVycm9yKFwiXCIgKyBlLCBzb3VyY2VTcGFuKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9leHByUGFyc2VyLndyYXBMaXRlcmFsUHJpbWl0aXZlKCdFUlJPUicsIHNvdXJjZUluZm8pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUZW1wbGF0ZVBhcnNlVmlzaXRvci5wcm90b3R5cGUuX3BhcnNlQWN0aW9uID0gZnVuY3Rpb24gKHZhbHVlLCBzb3VyY2VTcGFuKSB7XG4gICAgICAgIHZhciBzb3VyY2VJbmZvID0gc291cmNlU3Bhbi5zdGFydC50b1N0cmluZygpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGFzdCA9IHRoaXMuX2V4cHJQYXJzZXIucGFyc2VBY3Rpb24odmFsdWUsIHNvdXJjZUluZm8pO1xuICAgICAgICAgICAgdGhpcy5fY2hlY2tQaXBlcyhhc3QsIHNvdXJjZVNwYW4pO1xuICAgICAgICAgICAgcmV0dXJuIGFzdDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVwb3J0RXJyb3IoXCJcIiArIGUsIHNvdXJjZVNwYW4pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2V4cHJQYXJzZXIud3JhcExpdGVyYWxQcmltaXRpdmUoJ0VSUk9SJywgc291cmNlSW5mbyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRlbXBsYXRlUGFyc2VWaXNpdG9yLnByb3RvdHlwZS5fcGFyc2VCaW5kaW5nID0gZnVuY3Rpb24gKHZhbHVlLCBzb3VyY2VTcGFuKSB7XG4gICAgICAgIHZhciBzb3VyY2VJbmZvID0gc291cmNlU3Bhbi5zdGFydC50b1N0cmluZygpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGFzdCA9IHRoaXMuX2V4cHJQYXJzZXIucGFyc2VCaW5kaW5nKHZhbHVlLCBzb3VyY2VJbmZvKTtcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrUGlwZXMoYXN0LCBzb3VyY2VTcGFuKTtcbiAgICAgICAgICAgIHJldHVybiBhc3Q7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcG9ydEVycm9yKFwiXCIgKyBlLCBzb3VyY2VTcGFuKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9leHByUGFyc2VyLndyYXBMaXRlcmFsUHJpbWl0aXZlKCdFUlJPUicsIHNvdXJjZUluZm8pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUZW1wbGF0ZVBhcnNlVmlzaXRvci5wcm90b3R5cGUuX3BhcnNlVGVtcGxhdGVCaW5kaW5ncyA9IGZ1bmN0aW9uICh2YWx1ZSwgc291cmNlU3Bhbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc291cmNlSW5mbyA9IHNvdXJjZVNwYW4uc3RhcnQudG9TdHJpbmcoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBiaW5kaW5nc1Jlc3VsdCA9IHRoaXMuX2V4cHJQYXJzZXIucGFyc2VUZW1wbGF0ZUJpbmRpbmdzKHZhbHVlLCBzb3VyY2VJbmZvKTtcbiAgICAgICAgICAgIGJpbmRpbmdzUmVzdWx0LnRlbXBsYXRlQmluZGluZ3MuZm9yRWFjaChmdW5jdGlvbiAoYmluZGluZykge1xuICAgICAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGJpbmRpbmcuZXhwcmVzc2lvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2NoZWNrUGlwZXMoYmluZGluZy5leHByZXNzaW9uLCBzb3VyY2VTcGFuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJpbmRpbmdzUmVzdWx0Lndhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKHdhcm5pbmcpIHsgX3RoaXMuX3JlcG9ydEVycm9yKHdhcm5pbmcsIHNvdXJjZVNwYW4sIHBhcnNlX3V0aWxfMS5QYXJzZUVycm9yTGV2ZWwuV0FSTklORyk7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIGJpbmRpbmdzUmVzdWx0LnRlbXBsYXRlQmluZGluZ3M7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcG9ydEVycm9yKFwiXCIgKyBlLCBzb3VyY2VTcGFuKTtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGVtcGxhdGVQYXJzZVZpc2l0b3IucHJvdG90eXBlLl9jaGVja1BpcGVzID0gZnVuY3Rpb24gKGFzdCwgc291cmNlU3Bhbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChhc3QpKSB7XG4gICAgICAgICAgICB2YXIgY29sbGVjdG9yID0gbmV3IFBpcGVDb2xsZWN0b3IoKTtcbiAgICAgICAgICAgIGFzdC52aXNpdChjb2xsZWN0b3IpO1xuICAgICAgICAgICAgY29sbGVjdG9yLnBpcGVzLmZvckVhY2goZnVuY3Rpb24gKHBpcGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5waXBlc0J5TmFtZS5oYXMocGlwZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9yZXBvcnRFcnJvcihcIlRoZSBwaXBlICdcIiArIHBpcGVOYW1lICsgXCInIGNvdWxkIG5vdCBiZSBmb3VuZFwiLCBzb3VyY2VTcGFuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGVtcGxhdGVQYXJzZVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RXhwYW5zaW9uID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkgeyByZXR1cm4gbnVsbDsgfTtcbiAgICBUZW1wbGF0ZVBhcnNlVmlzaXRvci5wcm90b3R5cGUudmlzaXRFeHBhbnNpb25DYXNlID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkgeyByZXR1cm4gbnVsbDsgfTtcbiAgICBUZW1wbGF0ZVBhcnNlVmlzaXRvci5wcm90b3R5cGUudmlzaXRUZXh0ID0gZnVuY3Rpb24gKGFzdCwgcGFyZW50KSB7XG4gICAgICAgIHZhciBuZ0NvbnRlbnRJbmRleCA9IHBhcmVudC5maW5kTmdDb250ZW50SW5kZXgoVEVYVF9DU1NfU0VMRUNUT1IpO1xuICAgICAgICB2YXIgZXhwciA9IHRoaXMuX3BhcnNlSW50ZXJwb2xhdGlvbihhc3QudmFsdWUsIGFzdC5zb3VyY2VTcGFuKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoZXhwcikpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGVtcGxhdGVfYXN0XzEuQm91bmRUZXh0QXN0KGV4cHIsIG5nQ29udGVudEluZGV4LCBhc3Quc291cmNlU3Bhbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRlbXBsYXRlX2FzdF8xLlRleHRBc3QoYXN0LnZhbHVlLCBuZ0NvbnRlbnRJbmRleCwgYXN0LnNvdXJjZVNwYW4pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUZW1wbGF0ZVBhcnNlVmlzaXRvci5wcm90b3R5cGUudmlzaXRBdHRyID0gZnVuY3Rpb24gKGFzdCwgY29udGV4KSB7XG4gICAgICAgIHJldHVybiBuZXcgdGVtcGxhdGVfYXN0XzEuQXR0ckFzdChhc3QubmFtZSwgYXN0LnZhbHVlLCBhc3Quc291cmNlU3Bhbik7XG4gICAgfTtcbiAgICBUZW1wbGF0ZVBhcnNlVmlzaXRvci5wcm90b3R5cGUudmlzaXRDb21tZW50ID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkgeyByZXR1cm4gbnVsbDsgfTtcbiAgICBUZW1wbGF0ZVBhcnNlVmlzaXRvci5wcm90b3R5cGUudmlzaXRFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQsIHBhcmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbm9kZU5hbWUgPSBlbGVtZW50Lm5hbWU7XG4gICAgICAgIHZhciBwcmVwYXJzZWRFbGVtZW50ID0gdGVtcGxhdGVfcHJlcGFyc2VyXzEucHJlcGFyc2VFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICBpZiAocHJlcGFyc2VkRWxlbWVudC50eXBlID09PSB0ZW1wbGF0ZV9wcmVwYXJzZXJfMS5QcmVwYXJzZWRFbGVtZW50VHlwZS5TQ1JJUFQgfHxcbiAgICAgICAgICAgIHByZXBhcnNlZEVsZW1lbnQudHlwZSA9PT0gdGVtcGxhdGVfcHJlcGFyc2VyXzEuUHJlcGFyc2VkRWxlbWVudFR5cGUuU1RZTEUpIHtcbiAgICAgICAgICAgIC8vIFNraXBwaW5nIDxzY3JpcHQ+IGZvciBzZWN1cml0eSByZWFzb25zXG4gICAgICAgICAgICAvLyBTa2lwcGluZyA8c3R5bGU+IGFzIHdlIGFscmVhZHkgcHJvY2Vzc2VkIHRoZW1cbiAgICAgICAgICAgIC8vIGluIHRoZSBTdHlsZUNvbXBpbGVyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJlcGFyc2VkRWxlbWVudC50eXBlID09PSB0ZW1wbGF0ZV9wcmVwYXJzZXJfMS5QcmVwYXJzZWRFbGVtZW50VHlwZS5TVFlMRVNIRUVUICYmXG4gICAgICAgICAgICBzdHlsZV91cmxfcmVzb2x2ZXJfMS5pc1N0eWxlVXJsUmVzb2x2YWJsZShwcmVwYXJzZWRFbGVtZW50LmhyZWZBdHRyKSkge1xuICAgICAgICAgICAgLy8gU2tpcHBpbmcgc3R5bGVzaGVldHMgd2l0aCBlaXRoZXIgcmVsYXRpdmUgdXJscyBvciBwYWNrYWdlIHNjaGVtZSBhcyB3ZSBhbHJlYWR5IHByb2Nlc3NlZFxuICAgICAgICAgICAgLy8gdGhlbSBpbiB0aGUgU3R5bGVDb21waWxlclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1hdGNoYWJsZUF0dHJzID0gW107XG4gICAgICAgIHZhciBlbGVtZW50T3JEaXJlY3RpdmVQcm9wcyA9IFtdO1xuICAgICAgICB2YXIgZWxlbWVudE9yRGlyZWN0aXZlUmVmcyA9IFtdO1xuICAgICAgICB2YXIgZWxlbWVudFZhcnMgPSBbXTtcbiAgICAgICAgdmFyIGV2ZW50cyA9IFtdO1xuICAgICAgICB2YXIgdGVtcGxhdGVFbGVtZW50T3JEaXJlY3RpdmVQcm9wcyA9IFtdO1xuICAgICAgICB2YXIgdGVtcGxhdGVNYXRjaGFibGVBdHRycyA9IFtdO1xuICAgICAgICB2YXIgdGVtcGxhdGVFbGVtZW50VmFycyA9IFtdO1xuICAgICAgICB2YXIgaGFzSW5saW5lVGVtcGxhdGVzID0gZmFsc2U7XG4gICAgICAgIHZhciBhdHRycyA9IFtdO1xuICAgICAgICB2YXIgbGNFbE5hbWUgPSBodG1sX3RhZ3NfMS5zcGxpdE5zTmFtZShub2RlTmFtZS50b0xvd2VyQ2FzZSgpKVsxXTtcbiAgICAgICAgdmFyIGlzVGVtcGxhdGVFbGVtZW50ID0gbGNFbE5hbWUgPT0gVEVNUExBVEVfRUxFTUVOVDtcbiAgICAgICAgZWxlbWVudC5hdHRycy5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgICAgICB2YXIgaGFzQmluZGluZyA9IF90aGlzLl9wYXJzZUF0dHIoaXNUZW1wbGF0ZUVsZW1lbnQsIGF0dHIsIG1hdGNoYWJsZUF0dHJzLCBlbGVtZW50T3JEaXJlY3RpdmVQcm9wcywgZXZlbnRzLCBlbGVtZW50T3JEaXJlY3RpdmVSZWZzLCBlbGVtZW50VmFycyk7XG4gICAgICAgICAgICB2YXIgaGFzVGVtcGxhdGVCaW5kaW5nID0gX3RoaXMuX3BhcnNlSW5saW5lVGVtcGxhdGVCaW5kaW5nKGF0dHIsIHRlbXBsYXRlTWF0Y2hhYmxlQXR0cnMsIHRlbXBsYXRlRWxlbWVudE9yRGlyZWN0aXZlUHJvcHMsIHRlbXBsYXRlRWxlbWVudFZhcnMpO1xuICAgICAgICAgICAgaWYgKCFoYXNCaW5kaW5nICYmICFoYXNUZW1wbGF0ZUJpbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAvLyBkb24ndCBpbmNsdWRlIHRoZSBiaW5kaW5ncyBhcyBhdHRyaWJ1dGVzIGFzIHdlbGwgaW4gdGhlIEFTVFxuICAgICAgICAgICAgICAgIGF0dHJzLnB1c2goX3RoaXMudmlzaXRBdHRyKGF0dHIsIG51bGwpKTtcbiAgICAgICAgICAgICAgICBtYXRjaGFibGVBdHRycy5wdXNoKFthdHRyLm5hbWUsIGF0dHIudmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNUZW1wbGF0ZUJpbmRpbmcpIHtcbiAgICAgICAgICAgICAgICBoYXNJbmxpbmVUZW1wbGF0ZXMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGVsZW1lbnRDc3NTZWxlY3RvciA9IGNyZWF0ZUVsZW1lbnRDc3NTZWxlY3Rvcihub2RlTmFtZSwgbWF0Y2hhYmxlQXR0cnMpO1xuICAgICAgICB2YXIgZGlyZWN0aXZlTWV0YXMgPSB0aGlzLl9wYXJzZURpcmVjdGl2ZXModGhpcy5zZWxlY3Rvck1hdGNoZXIsIGVsZW1lbnRDc3NTZWxlY3Rvcik7XG4gICAgICAgIHZhciByZWZlcmVuY2VzID0gW107XG4gICAgICAgIHZhciBkaXJlY3RpdmVBc3RzID0gdGhpcy5fY3JlYXRlRGlyZWN0aXZlQXN0cyhpc1RlbXBsYXRlRWxlbWVudCwgZWxlbWVudC5uYW1lLCBkaXJlY3RpdmVNZXRhcywgZWxlbWVudE9yRGlyZWN0aXZlUHJvcHMsIGVsZW1lbnRPckRpcmVjdGl2ZVJlZnMsIGVsZW1lbnQuc291cmNlU3BhbiwgcmVmZXJlbmNlcyk7XG4gICAgICAgIHZhciBlbGVtZW50UHJvcHMgPSB0aGlzLl9jcmVhdGVFbGVtZW50UHJvcGVydHlBc3RzKGVsZW1lbnQubmFtZSwgZWxlbWVudE9yRGlyZWN0aXZlUHJvcHMsIGRpcmVjdGl2ZUFzdHMpO1xuICAgICAgICB2YXIgaXNWaWV3Um9vdCA9IHBhcmVudC5pc1RlbXBsYXRlRWxlbWVudCB8fCBoYXNJbmxpbmVUZW1wbGF0ZXM7XG4gICAgICAgIHZhciBwcm92aWRlckNvbnRleHQgPSBuZXcgcHJvdmlkZXJfcGFyc2VyXzEuUHJvdmlkZXJFbGVtZW50Q29udGV4dCh0aGlzLnByb3ZpZGVyVmlld0NvbnRleHQsIHBhcmVudC5wcm92aWRlckNvbnRleHQsIGlzVmlld1Jvb3QsIGRpcmVjdGl2ZUFzdHMsIGF0dHJzLCByZWZlcmVuY2VzLCBlbGVtZW50LnNvdXJjZVNwYW4pO1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBodG1sX2FzdF8xLmh0bWxWaXNpdEFsbChwcmVwYXJzZWRFbGVtZW50Lm5vbkJpbmRhYmxlID8gTk9OX0JJTkRBQkxFX1ZJU0lUT1IgOiB0aGlzLCBlbGVtZW50LmNoaWxkcmVuLCBFbGVtZW50Q29udGV4dC5jcmVhdGUoaXNUZW1wbGF0ZUVsZW1lbnQsIGRpcmVjdGl2ZUFzdHMsIGlzVGVtcGxhdGVFbGVtZW50ID8gcGFyZW50LnByb3ZpZGVyQ29udGV4dCA6IHByb3ZpZGVyQ29udGV4dCkpO1xuICAgICAgICBwcm92aWRlckNvbnRleHQuYWZ0ZXJFbGVtZW50KCk7XG4gICAgICAgIC8vIE92ZXJyaWRlIHRoZSBhY3R1YWwgc2VsZWN0b3Igd2hlbiB0aGUgYG5nUHJvamVjdEFzYCBhdHRyaWJ1dGUgaXMgcHJvdmlkZWRcbiAgICAgICAgdmFyIHByb2plY3Rpb25TZWxlY3RvciA9IGxhbmdfMS5pc1ByZXNlbnQocHJlcGFyc2VkRWxlbWVudC5wcm9qZWN0QXMpID9cbiAgICAgICAgICAgIHNlbGVjdG9yXzEuQ3NzU2VsZWN0b3IucGFyc2UocHJlcGFyc2VkRWxlbWVudC5wcm9qZWN0QXMpWzBdIDpcbiAgICAgICAgICAgIGVsZW1lbnRDc3NTZWxlY3RvcjtcbiAgICAgICAgdmFyIG5nQ29udGVudEluZGV4ID0gcGFyZW50LmZpbmROZ0NvbnRlbnRJbmRleChwcm9qZWN0aW9uU2VsZWN0b3IpO1xuICAgICAgICB2YXIgcGFyc2VkRWxlbWVudDtcbiAgICAgICAgaWYgKHByZXBhcnNlZEVsZW1lbnQudHlwZSA9PT0gdGVtcGxhdGVfcHJlcGFyc2VyXzEuUHJlcGFyc2VkRWxlbWVudFR5cGUuTkdfQ09OVEVOVCkge1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoZWxlbWVudC5jaGlsZHJlbikgJiYgZWxlbWVudC5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVwb3J0RXJyb3IoXCI8bmctY29udGVudD4gZWxlbWVudCBjYW5ub3QgaGF2ZSBjb250ZW50LiA8bmctY29udGVudD4gbXVzdCBiZSBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSA8L25nLWNvbnRlbnQ+XCIsIGVsZW1lbnQuc291cmNlU3Bhbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZWRFbGVtZW50ID0gbmV3IHRlbXBsYXRlX2FzdF8xLk5nQ29udGVudEFzdCh0aGlzLm5nQ29udGVudENvdW50KyssIGhhc0lubGluZVRlbXBsYXRlcyA/IG51bGwgOiBuZ0NvbnRlbnRJbmRleCwgZWxlbWVudC5zb3VyY2VTcGFuKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1RlbXBsYXRlRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fYXNzZXJ0QWxsRXZlbnRzUHVibGlzaGVkQnlEaXJlY3RpdmVzKGRpcmVjdGl2ZUFzdHMsIGV2ZW50cyk7XG4gICAgICAgICAgICB0aGlzLl9hc3NlcnROb0NvbXBvbmVudHNOb3JFbGVtZW50QmluZGluZ3NPblRlbXBsYXRlKGRpcmVjdGl2ZUFzdHMsIGVsZW1lbnRQcm9wcywgZWxlbWVudC5zb3VyY2VTcGFuKTtcbiAgICAgICAgICAgIHBhcnNlZEVsZW1lbnQgPSBuZXcgdGVtcGxhdGVfYXN0XzEuRW1iZWRkZWRUZW1wbGF0ZUFzdChhdHRycywgZXZlbnRzLCByZWZlcmVuY2VzLCBlbGVtZW50VmFycywgcHJvdmlkZXJDb250ZXh0LnRyYW5zZm9ybWVkRGlyZWN0aXZlQXN0cywgcHJvdmlkZXJDb250ZXh0LnRyYW5zZm9ybVByb3ZpZGVycywgcHJvdmlkZXJDb250ZXh0LnRyYW5zZm9ybWVkSGFzVmlld0NvbnRhaW5lciwgY2hpbGRyZW4sIGhhc0lubGluZVRlbXBsYXRlcyA/IG51bGwgOiBuZ0NvbnRlbnRJbmRleCwgZWxlbWVudC5zb3VyY2VTcGFuKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2Fzc2VydE9ubHlPbmVDb21wb25lbnQoZGlyZWN0aXZlQXN0cywgZWxlbWVudC5zb3VyY2VTcGFuKTtcbiAgICAgICAgICAgIHZhciBuZ0NvbnRlbnRJbmRleF8xID0gaGFzSW5saW5lVGVtcGxhdGVzID8gbnVsbCA6IHBhcmVudC5maW5kTmdDb250ZW50SW5kZXgocHJvamVjdGlvblNlbGVjdG9yKTtcbiAgICAgICAgICAgIHBhcnNlZEVsZW1lbnQgPSBuZXcgdGVtcGxhdGVfYXN0XzEuRWxlbWVudEFzdChub2RlTmFtZSwgYXR0cnMsIGVsZW1lbnRQcm9wcywgZXZlbnRzLCByZWZlcmVuY2VzLCBwcm92aWRlckNvbnRleHQudHJhbnNmb3JtZWREaXJlY3RpdmVBc3RzLCBwcm92aWRlckNvbnRleHQudHJhbnNmb3JtUHJvdmlkZXJzLCBwcm92aWRlckNvbnRleHQudHJhbnNmb3JtZWRIYXNWaWV3Q29udGFpbmVyLCBjaGlsZHJlbiwgaGFzSW5saW5lVGVtcGxhdGVzID8gbnVsbCA6IG5nQ29udGVudEluZGV4XzEsIGVsZW1lbnQuc291cmNlU3Bhbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc0lubGluZVRlbXBsYXRlcykge1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlQ3NzU2VsZWN0b3IgPSBjcmVhdGVFbGVtZW50Q3NzU2VsZWN0b3IoVEVNUExBVEVfRUxFTUVOVCwgdGVtcGxhdGVNYXRjaGFibGVBdHRycyk7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVEaXJlY3RpdmVNZXRhcyA9IHRoaXMuX3BhcnNlRGlyZWN0aXZlcyh0aGlzLnNlbGVjdG9yTWF0Y2hlciwgdGVtcGxhdGVDc3NTZWxlY3Rvcik7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVEaXJlY3RpdmVBc3RzID0gdGhpcy5fY3JlYXRlRGlyZWN0aXZlQXN0cyh0cnVlLCBlbGVtZW50Lm5hbWUsIHRlbXBsYXRlRGlyZWN0aXZlTWV0YXMsIHRlbXBsYXRlRWxlbWVudE9yRGlyZWN0aXZlUHJvcHMsIFtdLCBlbGVtZW50LnNvdXJjZVNwYW4sIFtdKTtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZUVsZW1lbnRQcm9wcyA9IHRoaXMuX2NyZWF0ZUVsZW1lbnRQcm9wZXJ0eUFzdHMoZWxlbWVudC5uYW1lLCB0ZW1wbGF0ZUVsZW1lbnRPckRpcmVjdGl2ZVByb3BzLCB0ZW1wbGF0ZURpcmVjdGl2ZUFzdHMpO1xuICAgICAgICAgICAgdGhpcy5fYXNzZXJ0Tm9Db21wb25lbnRzTm9yRWxlbWVudEJpbmRpbmdzT25UZW1wbGF0ZSh0ZW1wbGF0ZURpcmVjdGl2ZUFzdHMsIHRlbXBsYXRlRWxlbWVudFByb3BzLCBlbGVtZW50LnNvdXJjZVNwYW4pO1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlUHJvdmlkZXJDb250ZXh0ID0gbmV3IHByb3ZpZGVyX3BhcnNlcl8xLlByb3ZpZGVyRWxlbWVudENvbnRleHQodGhpcy5wcm92aWRlclZpZXdDb250ZXh0LCBwYXJlbnQucHJvdmlkZXJDb250ZXh0LCBwYXJlbnQuaXNUZW1wbGF0ZUVsZW1lbnQsIHRlbXBsYXRlRGlyZWN0aXZlQXN0cywgW10sIFtdLCBlbGVtZW50LnNvdXJjZVNwYW4pO1xuICAgICAgICAgICAgdGVtcGxhdGVQcm92aWRlckNvbnRleHQuYWZ0ZXJFbGVtZW50KCk7XG4gICAgICAgICAgICBwYXJzZWRFbGVtZW50ID0gbmV3IHRlbXBsYXRlX2FzdF8xLkVtYmVkZGVkVGVtcGxhdGVBc3QoW10sIFtdLCBbXSwgdGVtcGxhdGVFbGVtZW50VmFycywgdGVtcGxhdGVQcm92aWRlckNvbnRleHQudHJhbnNmb3JtZWREaXJlY3RpdmVBc3RzLCB0ZW1wbGF0ZVByb3ZpZGVyQ29udGV4dC50cmFuc2Zvcm1Qcm92aWRlcnMsIHRlbXBsYXRlUHJvdmlkZXJDb250ZXh0LnRyYW5zZm9ybWVkSGFzVmlld0NvbnRhaW5lciwgW3BhcnNlZEVsZW1lbnRdLCBuZ0NvbnRlbnRJbmRleCwgZWxlbWVudC5zb3VyY2VTcGFuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VkRWxlbWVudDtcbiAgICB9O1xuICAgIFRlbXBsYXRlUGFyc2VWaXNpdG9yLnByb3RvdHlwZS5fcGFyc2VJbmxpbmVUZW1wbGF0ZUJpbmRpbmcgPSBmdW5jdGlvbiAoYXR0ciwgdGFyZ2V0TWF0Y2hhYmxlQXR0cnMsIHRhcmdldFByb3BzLCB0YXJnZXRWYXJzKSB7XG4gICAgICAgIHZhciB0ZW1wbGF0ZUJpbmRpbmdzU291cmNlID0gbnVsbDtcbiAgICAgICAgaWYgKGF0dHIubmFtZSA9PSBURU1QTEFURV9BVFRSKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZUJpbmRpbmdzU291cmNlID0gYXR0ci52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhdHRyLm5hbWUuc3RhcnRzV2l0aChURU1QTEFURV9BVFRSX1BSRUZJWCkpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBhdHRyLm5hbWUuc3Vic3RyaW5nKFRFTVBMQVRFX0FUVFJfUFJFRklYLmxlbmd0aCk7IC8vIHJlbW92ZSB0aGUgc3RhclxuICAgICAgICAgICAgdGVtcGxhdGVCaW5kaW5nc1NvdXJjZSA9IChhdHRyLnZhbHVlLmxlbmd0aCA9PSAwKSA/IGtleSA6IGtleSArICcgJyArIGF0dHIudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGVtcGxhdGVCaW5kaW5nc1NvdXJjZSkpIHtcbiAgICAgICAgICAgIHZhciBiaW5kaW5ncyA9IHRoaXMuX3BhcnNlVGVtcGxhdGVCaW5kaW5ncyh0ZW1wbGF0ZUJpbmRpbmdzU291cmNlLCBhdHRyLnNvdXJjZVNwYW4pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaW5kaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBiaW5kaW5nID0gYmluZGluZ3NbaV07XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRpbmcua2V5SXNWYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0VmFycy5wdXNoKG5ldyB0ZW1wbGF0ZV9hc3RfMS5WYXJpYWJsZUFzdChiaW5kaW5nLmtleSwgYmluZGluZy5uYW1lLCBhdHRyLnNvdXJjZVNwYW4pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobGFuZ18xLmlzUHJlc2VudChiaW5kaW5nLmV4cHJlc3Npb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcnNlUHJvcGVydHlBc3QoYmluZGluZy5rZXksIGJpbmRpbmcuZXhwcmVzc2lvbiwgYXR0ci5zb3VyY2VTcGFuLCB0YXJnZXRNYXRjaGFibGVBdHRycywgdGFyZ2V0UHJvcHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0TWF0Y2hhYmxlQXR0cnMucHVzaChbYmluZGluZy5rZXksICcnXSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcnNlTGl0ZXJhbEF0dHIoYmluZGluZy5rZXksIG51bGwsIGF0dHIuc291cmNlU3BhbiwgdGFyZ2V0UHJvcHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFRlbXBsYXRlUGFyc2VWaXNpdG9yLnByb3RvdHlwZS5fcGFyc2VBdHRyID0gZnVuY3Rpb24gKGlzVGVtcGxhdGVFbGVtZW50LCBhdHRyLCB0YXJnZXRNYXRjaGFibGVBdHRycywgdGFyZ2V0UHJvcHMsIHRhcmdldEV2ZW50cywgdGFyZ2V0UmVmcywgdGFyZ2V0VmFycykge1xuICAgICAgICB2YXIgYXR0ck5hbWUgPSB0aGlzLl9ub3JtYWxpemVBdHRyaWJ1dGVOYW1lKGF0dHIubmFtZSk7XG4gICAgICAgIHZhciBhdHRyVmFsdWUgPSBhdHRyLnZhbHVlO1xuICAgICAgICB2YXIgYmluZFBhcnRzID0gbGFuZ18xLlJlZ0V4cFdyYXBwZXIuZmlyc3RNYXRjaChCSU5EX05BTUVfUkVHRVhQLCBhdHRyTmFtZSk7XG4gICAgICAgIHZhciBoYXNCaW5kaW5nID0gZmFsc2U7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGJpbmRQYXJ0cykpIHtcbiAgICAgICAgICAgIGhhc0JpbmRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoYmluZFBhcnRzWzFdKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcnNlUHJvcGVydHkoYmluZFBhcnRzWzddLCBhdHRyVmFsdWUsIGF0dHIuc291cmNlU3BhbiwgdGFyZ2V0TWF0Y2hhYmxlQXR0cnMsIHRhcmdldFByb3BzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhbmdfMS5pc1ByZXNlbnQoYmluZFBhcnRzWzJdKSkge1xuICAgICAgICAgICAgICAgIHZhciBpZGVudGlmaWVyID0gYmluZFBhcnRzWzddO1xuICAgICAgICAgICAgICAgIGlmIChpc1RlbXBsYXRlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXBvcnRFcnJvcihcIlxcXCJ2YXItXFxcIiBvbiA8dGVtcGxhdGU+IGVsZW1lbnRzIGlzIGRlcHJlY2F0ZWQuIFVzZSBcXFwibGV0LVxcXCIgaW5zdGVhZCFcIiwgYXR0ci5zb3VyY2VTcGFuLCBwYXJzZV91dGlsXzEuUGFyc2VFcnJvckxldmVsLldBUk5JTkcpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYXJzZVZhcmlhYmxlKGlkZW50aWZpZXIsIGF0dHJWYWx1ZSwgYXR0ci5zb3VyY2VTcGFuLCB0YXJnZXRWYXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlcG9ydEVycm9yKFwiXFxcInZhci1cXFwiIG9uIG5vbiA8dGVtcGxhdGU+IGVsZW1lbnRzIGlzIGRlcHJlY2F0ZWQuIFVzZSBcXFwicmVmLVxcXCIgaW5zdGVhZCFcIiwgYXR0ci5zb3VyY2VTcGFuLCBwYXJzZV91dGlsXzEuUGFyc2VFcnJvckxldmVsLldBUk5JTkcpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYXJzZVJlZmVyZW5jZShpZGVudGlmaWVyLCBhdHRyVmFsdWUsIGF0dHIuc291cmNlU3BhbiwgdGFyZ2V0UmVmcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFuZ18xLmlzUHJlc2VudChiaW5kUGFydHNbM10pKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzVGVtcGxhdGVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZGVudGlmaWVyID0gYmluZFBhcnRzWzddO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYXJzZVZhcmlhYmxlKGlkZW50aWZpZXIsIGF0dHJWYWx1ZSwgYXR0ci5zb3VyY2VTcGFuLCB0YXJnZXRWYXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlcG9ydEVycm9yKFwiXFxcImxldC1cXFwiIGlzIG9ubHkgc3VwcG9ydGVkIG9uIHRlbXBsYXRlIGVsZW1lbnRzLlwiLCBhdHRyLnNvdXJjZVNwYW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhbmdfMS5pc1ByZXNlbnQoYmluZFBhcnRzWzRdKSkge1xuICAgICAgICAgICAgICAgIHZhciBpZGVudGlmaWVyID0gYmluZFBhcnRzWzddO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcnNlUmVmZXJlbmNlKGlkZW50aWZpZXIsIGF0dHJWYWx1ZSwgYXR0ci5zb3VyY2VTcGFuLCB0YXJnZXRSZWZzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhbmdfMS5pc1ByZXNlbnQoYmluZFBhcnRzWzVdKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcnNlRXZlbnQoYmluZFBhcnRzWzddLCBhdHRyVmFsdWUsIGF0dHIuc291cmNlU3BhbiwgdGFyZ2V0TWF0Y2hhYmxlQXR0cnMsIHRhcmdldEV2ZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYW5nXzEuaXNQcmVzZW50KGJpbmRQYXJ0c1s2XSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJzZVByb3BlcnR5KGJpbmRQYXJ0c1s3XSwgYXR0clZhbHVlLCBhdHRyLnNvdXJjZVNwYW4sIHRhcmdldE1hdGNoYWJsZUF0dHJzLCB0YXJnZXRQcm9wcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFyc2VBc3NpZ25tZW50RXZlbnQoYmluZFBhcnRzWzddLCBhdHRyVmFsdWUsIGF0dHIuc291cmNlU3BhbiwgdGFyZ2V0TWF0Y2hhYmxlQXR0cnMsIHRhcmdldEV2ZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYW5nXzEuaXNQcmVzZW50KGJpbmRQYXJ0c1s4XSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJzZVByb3BlcnR5KGJpbmRQYXJ0c1s4XSwgYXR0clZhbHVlLCBhdHRyLnNvdXJjZVNwYW4sIHRhcmdldE1hdGNoYWJsZUF0dHJzLCB0YXJnZXRQcm9wcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFyc2VBc3NpZ25tZW50RXZlbnQoYmluZFBhcnRzWzhdLCBhdHRyVmFsdWUsIGF0dHIuc291cmNlU3BhbiwgdGFyZ2V0TWF0Y2hhYmxlQXR0cnMsIHRhcmdldEV2ZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYW5nXzEuaXNQcmVzZW50KGJpbmRQYXJ0c1s5XSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJzZVByb3BlcnR5KGJpbmRQYXJ0c1s5XSwgYXR0clZhbHVlLCBhdHRyLnNvdXJjZVNwYW4sIHRhcmdldE1hdGNoYWJsZUF0dHJzLCB0YXJnZXRQcm9wcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYW5nXzEuaXNQcmVzZW50KGJpbmRQYXJ0c1sxMF0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFyc2VFdmVudChiaW5kUGFydHNbMTBdLCBhdHRyVmFsdWUsIGF0dHIuc291cmNlU3BhbiwgdGFyZ2V0TWF0Y2hhYmxlQXR0cnMsIHRhcmdldEV2ZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoYXNCaW5kaW5nID0gdGhpcy5fcGFyc2VQcm9wZXJ0eUludGVycG9sYXRpb24oYXR0ck5hbWUsIGF0dHJWYWx1ZSwgYXR0ci5zb3VyY2VTcGFuLCB0YXJnZXRNYXRjaGFibGVBdHRycywgdGFyZ2V0UHJvcHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaGFzQmluZGluZykge1xuICAgICAgICAgICAgdGhpcy5fcGFyc2VMaXRlcmFsQXR0cihhdHRyTmFtZSwgYXR0clZhbHVlLCBhdHRyLnNvdXJjZVNwYW4sIHRhcmdldFByb3BzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFzQmluZGluZztcbiAgICB9O1xuICAgIFRlbXBsYXRlUGFyc2VWaXNpdG9yLnByb3RvdHlwZS5fbm9ybWFsaXplQXR0cmlidXRlTmFtZSA9IGZ1bmN0aW9uIChhdHRyTmFtZSkge1xuICAgICAgICByZXR1cm4gYXR0ck5hbWUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCdkYXRhLScpID8gYXR0ck5hbWUuc3Vic3RyaW5nKDUpIDogYXR0ck5hbWU7XG4gICAgfTtcbiAgICBUZW1wbGF0ZVBhcnNlVmlzaXRvci5wcm90b3R5cGUuX3BhcnNlVmFyaWFibGUgPSBmdW5jdGlvbiAoaWRlbnRpZmllciwgdmFsdWUsIHNvdXJjZVNwYW4sIHRhcmdldFZhcnMpIHtcbiAgICAgICAgaWYgKGlkZW50aWZpZXIuaW5kZXhPZignLScpID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcG9ydEVycm9yKFwiXFxcIi1cXFwiIGlzIG5vdCBhbGxvd2VkIGluIHZhcmlhYmxlIG5hbWVzXCIsIHNvdXJjZVNwYW4pO1xuICAgICAgICB9XG4gICAgICAgIHRhcmdldFZhcnMucHVzaChuZXcgdGVtcGxhdGVfYXN0XzEuVmFyaWFibGVBc3QoaWRlbnRpZmllciwgdmFsdWUsIHNvdXJjZVNwYW4pKTtcbiAgICB9O1xuICAgIFRlbXBsYXRlUGFyc2VWaXNpdG9yLnByb3RvdHlwZS5fcGFyc2VSZWZlcmVuY2UgPSBmdW5jdGlvbiAoaWRlbnRpZmllciwgdmFsdWUsIHNvdXJjZVNwYW4sIHRhcmdldFJlZnMpIHtcbiAgICAgICAgaWYgKGlkZW50aWZpZXIuaW5kZXhPZignLScpID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcG9ydEVycm9yKFwiXFxcIi1cXFwiIGlzIG5vdCBhbGxvd2VkIGluIHJlZmVyZW5jZSBuYW1lc1wiLCBzb3VyY2VTcGFuKTtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXRSZWZzLnB1c2gobmV3IEVsZW1lbnRPckRpcmVjdGl2ZVJlZihpZGVudGlmaWVyLCB2YWx1ZSwgc291cmNlU3BhbikpO1xuICAgIH07XG4gICAgVGVtcGxhdGVQYXJzZVZpc2l0b3IucHJvdG90eXBlLl9wYXJzZVByb3BlcnR5ID0gZnVuY3Rpb24gKG5hbWUsIGV4cHJlc3Npb24sIHNvdXJjZVNwYW4sIHRhcmdldE1hdGNoYWJsZUF0dHJzLCB0YXJnZXRQcm9wcykge1xuICAgICAgICB0aGlzLl9wYXJzZVByb3BlcnR5QXN0KG5hbWUsIHRoaXMuX3BhcnNlQmluZGluZyhleHByZXNzaW9uLCBzb3VyY2VTcGFuKSwgc291cmNlU3BhbiwgdGFyZ2V0TWF0Y2hhYmxlQXR0cnMsIHRhcmdldFByb3BzKTtcbiAgICB9O1xuICAgIFRlbXBsYXRlUGFyc2VWaXNpdG9yLnByb3RvdHlwZS5fcGFyc2VQcm9wZXJ0eUludGVycG9sYXRpb24gPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUsIHNvdXJjZVNwYW4sIHRhcmdldE1hdGNoYWJsZUF0dHJzLCB0YXJnZXRQcm9wcykge1xuICAgICAgICB2YXIgZXhwciA9IHRoaXMuX3BhcnNlSW50ZXJwb2xhdGlvbih2YWx1ZSwgc291cmNlU3Bhbik7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGV4cHIpKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZVByb3BlcnR5QXN0KG5hbWUsIGV4cHIsIHNvdXJjZVNwYW4sIHRhcmdldE1hdGNoYWJsZUF0dHJzLCB0YXJnZXRQcm9wcyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBUZW1wbGF0ZVBhcnNlVmlzaXRvci5wcm90b3R5cGUuX3BhcnNlUHJvcGVydHlBc3QgPSBmdW5jdGlvbiAobmFtZSwgYXN0LCBzb3VyY2VTcGFuLCB0YXJnZXRNYXRjaGFibGVBdHRycywgdGFyZ2V0UHJvcHMpIHtcbiAgICAgICAgdGFyZ2V0TWF0Y2hhYmxlQXR0cnMucHVzaChbbmFtZSwgYXN0LnNvdXJjZV0pO1xuICAgICAgICB0YXJnZXRQcm9wcy5wdXNoKG5ldyBCb3VuZEVsZW1lbnRPckRpcmVjdGl2ZVByb3BlcnR5KG5hbWUsIGFzdCwgZmFsc2UsIHNvdXJjZVNwYW4pKTtcbiAgICB9O1xuICAgIFRlbXBsYXRlUGFyc2VWaXNpdG9yLnByb3RvdHlwZS5fcGFyc2VBc3NpZ25tZW50RXZlbnQgPSBmdW5jdGlvbiAobmFtZSwgZXhwcmVzc2lvbiwgc291cmNlU3BhbiwgdGFyZ2V0TWF0Y2hhYmxlQXR0cnMsIHRhcmdldEV2ZW50cykge1xuICAgICAgICB0aGlzLl9wYXJzZUV2ZW50KG5hbWUgKyBcIkNoYW5nZVwiLCBleHByZXNzaW9uICsgXCI9JGV2ZW50XCIsIHNvdXJjZVNwYW4sIHRhcmdldE1hdGNoYWJsZUF0dHJzLCB0YXJnZXRFdmVudHMpO1xuICAgIH07XG4gICAgVGVtcGxhdGVQYXJzZVZpc2l0b3IucHJvdG90eXBlLl9wYXJzZUV2ZW50ID0gZnVuY3Rpb24gKG5hbWUsIGV4cHJlc3Npb24sIHNvdXJjZVNwYW4sIHRhcmdldE1hdGNoYWJsZUF0dHJzLCB0YXJnZXRFdmVudHMpIHtcbiAgICAgICAgLy8gbG9uZyBmb3JtYXQ6ICd0YXJnZXQ6IGV2ZW50TmFtZSdcbiAgICAgICAgdmFyIHBhcnRzID0gdXRpbF8xLnNwbGl0QXRDb2xvbihuYW1lLCBbbnVsbCwgbmFtZV0pO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gcGFydHNbMF07XG4gICAgICAgIHZhciBldmVudE5hbWUgPSBwYXJ0c1sxXTtcbiAgICAgICAgdmFyIGFzdCA9IHRoaXMuX3BhcnNlQWN0aW9uKGV4cHJlc3Npb24sIHNvdXJjZVNwYW4pO1xuICAgICAgICB0YXJnZXRNYXRjaGFibGVBdHRycy5wdXNoKFtuYW1lLCBhc3Quc291cmNlXSk7XG4gICAgICAgIHRhcmdldEV2ZW50cy5wdXNoKG5ldyB0ZW1wbGF0ZV9hc3RfMS5Cb3VuZEV2ZW50QXN0KGV2ZW50TmFtZSwgdGFyZ2V0LCBhc3QsIHNvdXJjZVNwYW4pKTtcbiAgICAgICAgLy8gRG9uJ3QgZGV0ZWN0IGRpcmVjdGl2ZXMgZm9yIGV2ZW50IG5hbWVzIGZvciBub3csXG4gICAgICAgIC8vIHNvIGRvbid0IGFkZCB0aGUgZXZlbnQgbmFtZSB0byB0aGUgbWF0Y2hhYmxlQXR0cnNcbiAgICB9O1xuICAgIFRlbXBsYXRlUGFyc2VWaXNpdG9yLnByb3RvdHlwZS5fcGFyc2VMaXRlcmFsQXR0ciA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSwgc291cmNlU3BhbiwgdGFyZ2V0UHJvcHMpIHtcbiAgICAgICAgdGFyZ2V0UHJvcHMucHVzaChuZXcgQm91bmRFbGVtZW50T3JEaXJlY3RpdmVQcm9wZXJ0eShuYW1lLCB0aGlzLl9leHByUGFyc2VyLndyYXBMaXRlcmFsUHJpbWl0aXZlKHZhbHVlLCAnJyksIHRydWUsIHNvdXJjZVNwYW4pKTtcbiAgICB9O1xuICAgIFRlbXBsYXRlUGFyc2VWaXNpdG9yLnByb3RvdHlwZS5fcGFyc2VEaXJlY3RpdmVzID0gZnVuY3Rpb24gKHNlbGVjdG9yTWF0Y2hlciwgZWxlbWVudENzc1NlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIE5lZWQgdG8gc29ydCB0aGUgZGlyZWN0aXZlcyBzbyB0aGF0IHdlIGdldCBjb25zaXN0ZW50IHJlc3VsdHMgdGhyb3VnaG91dCxcbiAgICAgICAgLy8gYXMgc2VsZWN0b3JNYXRjaGVyIHVzZXMgTWFwcyBpbnNpZGUuXG4gICAgICAgIC8vIEFsc28gZGVkdXBlIGRpcmVjdGl2ZXMgYXMgdGhleSBtaWdodCBtYXRjaCBtb3JlIHRoYW4gb25lIHRpbWUhXG4gICAgICAgIHZhciBkaXJlY3RpdmVzID0gY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmNyZWF0ZUZpeGVkU2l6ZSh0aGlzLmRpcmVjdGl2ZXNJbmRleC5zaXplKTtcbiAgICAgICAgc2VsZWN0b3JNYXRjaGVyLm1hdGNoKGVsZW1lbnRDc3NTZWxlY3RvciwgZnVuY3Rpb24gKHNlbGVjdG9yLCBkaXJlY3RpdmUpIHtcbiAgICAgICAgICAgIGRpcmVjdGl2ZXNbX3RoaXMuZGlyZWN0aXZlc0luZGV4LmdldChkaXJlY3RpdmUpXSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkaXJlY3RpdmVzLmZpbHRlcihmdW5jdGlvbiAoZGlyKSB7IHJldHVybiBsYW5nXzEuaXNQcmVzZW50KGRpcik7IH0pO1xuICAgIH07XG4gICAgVGVtcGxhdGVQYXJzZVZpc2l0b3IucHJvdG90eXBlLl9jcmVhdGVEaXJlY3RpdmVBc3RzID0gZnVuY3Rpb24gKGlzVGVtcGxhdGVFbGVtZW50LCBlbGVtZW50TmFtZSwgZGlyZWN0aXZlcywgcHJvcHMsIGVsZW1lbnRPckRpcmVjdGl2ZVJlZnMsIHNvdXJjZVNwYW4sIHRhcmdldFJlZmVyZW5jZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1hdGNoZWRSZWZlcmVuY2VzID0gbmV3IFNldCgpO1xuICAgICAgICB2YXIgY29tcG9uZW50ID0gbnVsbDtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZUFzdHMgPSBkaXJlY3RpdmVzLm1hcChmdW5jdGlvbiAoZGlyZWN0aXZlKSB7XG4gICAgICAgICAgICBpZiAoZGlyZWN0aXZlLmlzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50ID0gZGlyZWN0aXZlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhvc3RQcm9wZXJ0aWVzID0gW107XG4gICAgICAgICAgICB2YXIgaG9zdEV2ZW50cyA9IFtdO1xuICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZVByb3BlcnRpZXMgPSBbXTtcbiAgICAgICAgICAgIF90aGlzLl9jcmVhdGVEaXJlY3RpdmVIb3N0UHJvcGVydHlBc3RzKGVsZW1lbnROYW1lLCBkaXJlY3RpdmUuaG9zdFByb3BlcnRpZXMsIHNvdXJjZVNwYW4sIGhvc3RQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIF90aGlzLl9jcmVhdGVEaXJlY3RpdmVIb3N0RXZlbnRBc3RzKGRpcmVjdGl2ZS5ob3N0TGlzdGVuZXJzLCBzb3VyY2VTcGFuLCBob3N0RXZlbnRzKTtcbiAgICAgICAgICAgIF90aGlzLl9jcmVhdGVEaXJlY3RpdmVQcm9wZXJ0eUFzdHMoZGlyZWN0aXZlLmlucHV0cywgcHJvcHMsIGRpcmVjdGl2ZVByb3BlcnRpZXMpO1xuICAgICAgICAgICAgZWxlbWVudE9yRGlyZWN0aXZlUmVmcy5mb3JFYWNoKGZ1bmN0aW9uIChlbE9yRGlyUmVmKSB7XG4gICAgICAgICAgICAgICAgaWYgKChlbE9yRGlyUmVmLnZhbHVlLmxlbmd0aCA9PT0gMCAmJiBkaXJlY3RpdmUuaXNDb21wb25lbnQpIHx8XG4gICAgICAgICAgICAgICAgICAgIChkaXJlY3RpdmUuZXhwb3J0QXMgPT0gZWxPckRpclJlZi52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0UmVmZXJlbmNlcy5wdXNoKG5ldyB0ZW1wbGF0ZV9hc3RfMS5SZWZlcmVuY2VBc3QoZWxPckRpclJlZi5uYW1lLCBpZGVudGlmaWVyc18xLmlkZW50aWZpZXJUb2tlbihkaXJlY3RpdmUudHlwZSksIGVsT3JEaXJSZWYuc291cmNlU3BhbikpO1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkUmVmZXJlbmNlcy5hZGQoZWxPckRpclJlZi5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgdGVtcGxhdGVfYXN0XzEuRGlyZWN0aXZlQXN0KGRpcmVjdGl2ZSwgZGlyZWN0aXZlUHJvcGVydGllcywgaG9zdFByb3BlcnRpZXMsIGhvc3RFdmVudHMsIHNvdXJjZVNwYW4pO1xuICAgICAgICB9KTtcbiAgICAgICAgZWxlbWVudE9yRGlyZWN0aXZlUmVmcy5mb3JFYWNoKGZ1bmN0aW9uIChlbE9yRGlyUmVmKSB7XG4gICAgICAgICAgICBpZiAoZWxPckRpclJlZi52YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb2xsZWN0aW9uXzEuU2V0V3JhcHBlci5oYXMobWF0Y2hlZFJlZmVyZW5jZXMsIGVsT3JEaXJSZWYubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3JlcG9ydEVycm9yKFwiVGhlcmUgaXMgbm8gZGlyZWN0aXZlIHdpdGggXFxcImV4cG9ydEFzXFxcIiBzZXQgdG8gXFxcIlwiICsgZWxPckRpclJlZi52YWx1ZSArIFwiXFxcIlwiLCBlbE9yRGlyUmVmLnNvdXJjZVNwYW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYW5nXzEuaXNCbGFuayhjb21wb25lbnQpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlZlRva2VuID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoaXNUZW1wbGF0ZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVmVG9rZW4gPSBpZGVudGlmaWVyc18xLmlkZW50aWZpZXJUb2tlbihpZGVudGlmaWVyc18xLklkZW50aWZpZXJzLlRlbXBsYXRlUmVmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGFyZ2V0UmVmZXJlbmNlcy5wdXNoKG5ldyB0ZW1wbGF0ZV9hc3RfMS5SZWZlcmVuY2VBc3QoZWxPckRpclJlZi5uYW1lLCByZWZUb2tlbiwgZWxPckRpclJlZi5zb3VyY2VTcGFuKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pOyAvLyBmaXggc3ludGF4IGhpZ2hsaWdodGluZyBpc3N1ZTogYFxuICAgICAgICByZXR1cm4gZGlyZWN0aXZlQXN0cztcbiAgICB9O1xuICAgIFRlbXBsYXRlUGFyc2VWaXNpdG9yLnByb3RvdHlwZS5fY3JlYXRlRGlyZWN0aXZlSG9zdFByb3BlcnR5QXN0cyA9IGZ1bmN0aW9uIChlbGVtZW50TmFtZSwgaG9zdFByb3BzLCBzb3VyY2VTcGFuLCB0YXJnZXRQcm9wZXJ0eUFzdHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoaG9zdFByb3BzKSkge1xuICAgICAgICAgICAgY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIuZm9yRWFjaChob3N0UHJvcHMsIGZ1bmN0aW9uIChleHByZXNzaW9uLCBwcm9wTmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciBleHByQXN0ID0gX3RoaXMuX3BhcnNlQmluZGluZyhleHByZXNzaW9uLCBzb3VyY2VTcGFuKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRQcm9wZXJ0eUFzdHMucHVzaChfdGhpcy5fY3JlYXRlRWxlbWVudFByb3BlcnR5QXN0KGVsZW1lbnROYW1lLCBwcm9wTmFtZSwgZXhwckFzdCwgc291cmNlU3BhbikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRlbXBsYXRlUGFyc2VWaXNpdG9yLnByb3RvdHlwZS5fY3JlYXRlRGlyZWN0aXZlSG9zdEV2ZW50QXN0cyA9IGZ1bmN0aW9uIChob3N0TGlzdGVuZXJzLCBzb3VyY2VTcGFuLCB0YXJnZXRFdmVudEFzdHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoaG9zdExpc3RlbmVycykpIHtcbiAgICAgICAgICAgIGNvbGxlY3Rpb25fMS5TdHJpbmdNYXBXcmFwcGVyLmZvckVhY2goaG9zdExpc3RlbmVycywgZnVuY3Rpb24gKGV4cHJlc3Npb24sIHByb3BOYW1lKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3BhcnNlRXZlbnQocHJvcE5hbWUsIGV4cHJlc3Npb24sIHNvdXJjZVNwYW4sIFtdLCB0YXJnZXRFdmVudEFzdHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRlbXBsYXRlUGFyc2VWaXNpdG9yLnByb3RvdHlwZS5fY3JlYXRlRGlyZWN0aXZlUHJvcGVydHlBc3RzID0gZnVuY3Rpb24gKGRpcmVjdGl2ZVByb3BlcnRpZXMsIGJvdW5kUHJvcHMsIHRhcmdldEJvdW5kRGlyZWN0aXZlUHJvcHMpIHtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoZGlyZWN0aXZlUHJvcGVydGllcykpIHtcbiAgICAgICAgICAgIHZhciBib3VuZFByb3BzQnlOYW1lID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgYm91bmRQcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChib3VuZFByb3ApIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJldlZhbHVlID0gYm91bmRQcm9wc0J5TmFtZS5nZXQoYm91bmRQcm9wLm5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhwcmV2VmFsdWUpIHx8IHByZXZWYWx1ZS5pc0xpdGVyYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2l2ZSBbYV09XCJiXCIgYSBoaWdoZXIgcHJlY2VkZW5jZSB0aGFuIGE9XCJiXCIgb24gdGhlIHNhbWUgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBib3VuZFByb3BzQnlOYW1lLnNldChib3VuZFByb3AubmFtZSwgYm91bmRQcm9wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbGxlY3Rpb25fMS5TdHJpbmdNYXBXcmFwcGVyLmZvckVhY2goZGlyZWN0aXZlUHJvcGVydGllcywgZnVuY3Rpb24gKGVsUHJvcCwgZGlyUHJvcCkge1xuICAgICAgICAgICAgICAgIHZhciBib3VuZFByb3AgPSBib3VuZFByb3BzQnlOYW1lLmdldChlbFByb3ApO1xuICAgICAgICAgICAgICAgIC8vIEJpbmRpbmdzIGFyZSBvcHRpb25hbCwgc28gdGhpcyBiaW5kaW5nIG9ubHkgbmVlZHMgdG8gYmUgc2V0IHVwIGlmIGFuIGV4cHJlc3Npb24gaXMgZ2l2ZW4uXG4gICAgICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoYm91bmRQcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRCb3VuZERpcmVjdGl2ZVByb3BzLnB1c2gobmV3IHRlbXBsYXRlX2FzdF8xLkJvdW5kRGlyZWN0aXZlUHJvcGVydHlBc3QoZGlyUHJvcCwgYm91bmRQcm9wLm5hbWUsIGJvdW5kUHJvcC5leHByZXNzaW9uLCBib3VuZFByb3Auc291cmNlU3BhbikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUZW1wbGF0ZVBhcnNlVmlzaXRvci5wcm90b3R5cGUuX2NyZWF0ZUVsZW1lbnRQcm9wZXJ0eUFzdHMgPSBmdW5jdGlvbiAoZWxlbWVudE5hbWUsIHByb3BzLCBkaXJlY3RpdmVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBib3VuZEVsZW1lbnRQcm9wcyA9IFtdO1xuICAgICAgICB2YXIgYm91bmREaXJlY3RpdmVQcm9wc0luZGV4ID0gbmV3IE1hcCgpO1xuICAgICAgICBkaXJlY3RpdmVzLmZvckVhY2goZnVuY3Rpb24gKGRpcmVjdGl2ZSkge1xuICAgICAgICAgICAgZGlyZWN0aXZlLmlucHV0cy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgYm91bmREaXJlY3RpdmVQcm9wc0luZGV4LnNldChwcm9wLnRlbXBsYXRlTmFtZSwgcHJvcCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHByb3BzLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgIGlmICghcHJvcC5pc0xpdGVyYWwgJiYgbGFuZ18xLmlzQmxhbmsoYm91bmREaXJlY3RpdmVQcm9wc0luZGV4LmdldChwcm9wLm5hbWUpKSkge1xuICAgICAgICAgICAgICAgIGJvdW5kRWxlbWVudFByb3BzLnB1c2goX3RoaXMuX2NyZWF0ZUVsZW1lbnRQcm9wZXJ0eUFzdChlbGVtZW50TmFtZSwgcHJvcC5uYW1lLCBwcm9wLmV4cHJlc3Npb24sIHByb3Auc291cmNlU3BhbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGJvdW5kRWxlbWVudFByb3BzO1xuICAgIH07XG4gICAgVGVtcGxhdGVQYXJzZVZpc2l0b3IucHJvdG90eXBlLl9jcmVhdGVFbGVtZW50UHJvcGVydHlBc3QgPSBmdW5jdGlvbiAoZWxlbWVudE5hbWUsIG5hbWUsIGFzdCwgc291cmNlU3Bhbikge1xuICAgICAgICB2YXIgdW5pdCA9IG51bGw7XG4gICAgICAgIHZhciBiaW5kaW5nVHlwZTtcbiAgICAgICAgdmFyIGJvdW5kUHJvcGVydHlOYW1lO1xuICAgICAgICB2YXIgcGFydHMgPSBuYW1lLnNwbGl0KFBST1BFUlRZX1BBUlRTX1NFUEFSQVRPUik7XG4gICAgICAgIHZhciBzZWN1cml0eUNvbnRleHQ7XG4gICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGJvdW5kUHJvcGVydHlOYW1lID0gdGhpcy5fc2NoZW1hUmVnaXN0cnkuZ2V0TWFwcGVkUHJvcE5hbWUocGFydHNbMF0pO1xuICAgICAgICAgICAgc2VjdXJpdHlDb250ZXh0ID0gdGhpcy5fc2NoZW1hUmVnaXN0cnkuc2VjdXJpdHlDb250ZXh0KGVsZW1lbnROYW1lLCBib3VuZFByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgICBiaW5kaW5nVHlwZSA9IHRlbXBsYXRlX2FzdF8xLlByb3BlcnR5QmluZGluZ1R5cGUuUHJvcGVydHk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3NjaGVtYVJlZ2lzdHJ5Lmhhc1Byb3BlcnR5KGVsZW1lbnROYW1lLCBib3VuZFByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXBvcnRFcnJvcihcIkNhbid0IGJpbmQgdG8gJ1wiICsgYm91bmRQcm9wZXJ0eU5hbWUgKyBcIicgc2luY2UgaXQgaXNuJ3QgYSBrbm93biBuYXRpdmUgcHJvcGVydHlcIiwgc291cmNlU3Bhbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAocGFydHNbMF0gPT0gQVRUUklCVVRFX1BSRUZJWCkge1xuICAgICAgICAgICAgICAgIGJvdW5kUHJvcGVydHlOYW1lID0gcGFydHNbMV07XG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kUHJvcGVydHlOYW1lLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgnb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXBvcnRFcnJvcigoXCJCaW5kaW5nIHRvIGV2ZW50IGF0dHJpYnV0ZSAnXCIgKyBib3VuZFByb3BlcnR5TmFtZSArIFwiJyBpcyBkaXNhbGxvd2VkIFwiKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAoXCJmb3Igc2VjdXJpdHkgcmVhc29ucywgcGxlYXNlIHVzZSAoXCIgKyBib3VuZFByb3BlcnR5TmFtZS5zbGljZSgyKSArIFwiKT0uLi5cIiksIHNvdXJjZVNwYW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBOQjogRm9yIHNlY3VyaXR5IHB1cnBvc2VzLCB1c2UgdGhlIG1hcHBlZCBwcm9wZXJ0eSBuYW1lLCBub3QgdGhlIGF0dHJpYnV0ZSBuYW1lLlxuICAgICAgICAgICAgICAgIHNlY3VyaXR5Q29udGV4dCA9IHRoaXMuX3NjaGVtYVJlZ2lzdHJ5LnNlY3VyaXR5Q29udGV4dChlbGVtZW50TmFtZSwgdGhpcy5fc2NoZW1hUmVnaXN0cnkuZ2V0TWFwcGVkUHJvcE5hbWUoYm91bmRQcm9wZXJ0eU5hbWUpKTtcbiAgICAgICAgICAgICAgICB2YXIgbnNTZXBhcmF0b3JJZHggPSBib3VuZFByb3BlcnR5TmFtZS5pbmRleE9mKCc6Jyk7XG4gICAgICAgICAgICAgICAgaWYgKG5zU2VwYXJhdG9ySWR4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5zID0gYm91bmRQcm9wZXJ0eU5hbWUuc3Vic3RyaW5nKDAsIG5zU2VwYXJhdG9ySWR4KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWVfMSA9IGJvdW5kUHJvcGVydHlOYW1lLnN1YnN0cmluZyhuc1NlcGFyYXRvcklkeCArIDEpO1xuICAgICAgICAgICAgICAgICAgICBib3VuZFByb3BlcnR5TmFtZSA9IGh0bWxfdGFnc18xLm1lcmdlTnNBbmROYW1lKG5zLCBuYW1lXzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiaW5kaW5nVHlwZSA9IHRlbXBsYXRlX2FzdF8xLlByb3BlcnR5QmluZGluZ1R5cGUuQXR0cmlidXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFydHNbMF0gPT0gQ0xBU1NfUFJFRklYKSB7XG4gICAgICAgICAgICAgICAgYm91bmRQcm9wZXJ0eU5hbWUgPSBwYXJ0c1sxXTtcbiAgICAgICAgICAgICAgICBiaW5kaW5nVHlwZSA9IHRlbXBsYXRlX2FzdF8xLlByb3BlcnR5QmluZGluZ1R5cGUuQ2xhc3M7XG4gICAgICAgICAgICAgICAgc2VjdXJpdHlDb250ZXh0ID0gY29yZV9wcml2YXRlXzEuU2VjdXJpdHlDb250ZXh0Lk5PTkU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJ0c1swXSA9PSBTVFlMRV9QUkVGSVgpIHtcbiAgICAgICAgICAgICAgICB1bml0ID0gcGFydHMubGVuZ3RoID4gMiA/IHBhcnRzWzJdIDogbnVsbDtcbiAgICAgICAgICAgICAgICBib3VuZFByb3BlcnR5TmFtZSA9IHBhcnRzWzFdO1xuICAgICAgICAgICAgICAgIGJpbmRpbmdUeXBlID0gdGVtcGxhdGVfYXN0XzEuUHJvcGVydHlCaW5kaW5nVHlwZS5TdHlsZTtcbiAgICAgICAgICAgICAgICBzZWN1cml0eUNvbnRleHQgPSBjb3JlX3ByaXZhdGVfMS5TZWN1cml0eUNvbnRleHQuU1RZTEU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXBvcnRFcnJvcihcIkludmFsaWQgcHJvcGVydHkgbmFtZSAnXCIgKyBuYW1lICsgXCInXCIsIHNvdXJjZVNwYW4pO1xuICAgICAgICAgICAgICAgIGJpbmRpbmdUeXBlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzZWN1cml0eUNvbnRleHQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgdGVtcGxhdGVfYXN0XzEuQm91bmRFbGVtZW50UHJvcGVydHlBc3QoYm91bmRQcm9wZXJ0eU5hbWUsIGJpbmRpbmdUeXBlLCBzZWN1cml0eUNvbnRleHQsIGFzdCwgdW5pdCwgc291cmNlU3Bhbik7XG4gICAgfTtcbiAgICBUZW1wbGF0ZVBhcnNlVmlzaXRvci5wcm90b3R5cGUuX2ZpbmRDb21wb25lbnREaXJlY3RpdmVOYW1lcyA9IGZ1bmN0aW9uIChkaXJlY3RpdmVzKSB7XG4gICAgICAgIHZhciBjb21wb25lbnRUeXBlTmFtZXMgPSBbXTtcbiAgICAgICAgZGlyZWN0aXZlcy5mb3JFYWNoKGZ1bmN0aW9uIChkaXJlY3RpdmUpIHtcbiAgICAgICAgICAgIHZhciB0eXBlTmFtZSA9IGRpcmVjdGl2ZS5kaXJlY3RpdmUudHlwZS5uYW1lO1xuICAgICAgICAgICAgaWYgKGRpcmVjdGl2ZS5kaXJlY3RpdmUuaXNDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRUeXBlTmFtZXMucHVzaCh0eXBlTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY29tcG9uZW50VHlwZU5hbWVzO1xuICAgIH07XG4gICAgVGVtcGxhdGVQYXJzZVZpc2l0b3IucHJvdG90eXBlLl9hc3NlcnRPbmx5T25lQ29tcG9uZW50ID0gZnVuY3Rpb24gKGRpcmVjdGl2ZXMsIHNvdXJjZVNwYW4pIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudFR5cGVOYW1lcyA9IHRoaXMuX2ZpbmRDb21wb25lbnREaXJlY3RpdmVOYW1lcyhkaXJlY3RpdmVzKTtcbiAgICAgICAgaWYgKGNvbXBvbmVudFR5cGVOYW1lcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXBvcnRFcnJvcihcIk1vcmUgdGhhbiBvbmUgY29tcG9uZW50OiBcIiArIGNvbXBvbmVudFR5cGVOYW1lcy5qb2luKCcsJyksIHNvdXJjZVNwYW4pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUZW1wbGF0ZVBhcnNlVmlzaXRvci5wcm90b3R5cGUuX2Fzc2VydE5vQ29tcG9uZW50c05vckVsZW1lbnRCaW5kaW5nc09uVGVtcGxhdGUgPSBmdW5jdGlvbiAoZGlyZWN0aXZlcywgZWxlbWVudFByb3BzLCBzb3VyY2VTcGFuKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjb21wb25lbnRUeXBlTmFtZXMgPSB0aGlzLl9maW5kQ29tcG9uZW50RGlyZWN0aXZlTmFtZXMoZGlyZWN0aXZlcyk7XG4gICAgICAgIGlmIChjb21wb25lbnRUeXBlTmFtZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fcmVwb3J0RXJyb3IoXCJDb21wb25lbnRzIG9uIGFuIGVtYmVkZGVkIHRlbXBsYXRlOiBcIiArIGNvbXBvbmVudFR5cGVOYW1lcy5qb2luKCcsJyksIHNvdXJjZVNwYW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnRQcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgICBfdGhpcy5fcmVwb3J0RXJyb3IoXCJQcm9wZXJ0eSBiaW5kaW5nIFwiICsgcHJvcC5uYW1lICsgXCIgbm90IHVzZWQgYnkgYW55IGRpcmVjdGl2ZSBvbiBhbiBlbWJlZGRlZCB0ZW1wbGF0ZVwiLCBzb3VyY2VTcGFuKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBUZW1wbGF0ZVBhcnNlVmlzaXRvci5wcm90b3R5cGUuX2Fzc2VydEFsbEV2ZW50c1B1Ymxpc2hlZEJ5RGlyZWN0aXZlcyA9IGZ1bmN0aW9uIChkaXJlY3RpdmVzLCBldmVudHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGFsbERpcmVjdGl2ZUV2ZW50cyA9IG5ldyBTZXQoKTtcbiAgICAgICAgZGlyZWN0aXZlcy5mb3JFYWNoKGZ1bmN0aW9uIChkaXJlY3RpdmUpIHtcbiAgICAgICAgICAgIGNvbGxlY3Rpb25fMS5TdHJpbmdNYXBXcmFwcGVyLmZvckVhY2goZGlyZWN0aXZlLmRpcmVjdGl2ZS5vdXRwdXRzLCBmdW5jdGlvbiAoZXZlbnROYW1lLCBfKSB7IGFsbERpcmVjdGl2ZUV2ZW50cy5hZGQoZXZlbnROYW1lKTsgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGV2ZW50LnRhcmdldCkgfHwgIWNvbGxlY3Rpb25fMS5TZXRXcmFwcGVyLmhhcyhhbGxEaXJlY3RpdmVFdmVudHMsIGV2ZW50Lm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3JlcG9ydEVycm9yKFwiRXZlbnQgYmluZGluZyBcIiArIGV2ZW50LmZ1bGxOYW1lICsgXCIgbm90IGVtaXR0ZWQgYnkgYW55IGRpcmVjdGl2ZSBvbiBhbiBlbWJlZGRlZCB0ZW1wbGF0ZVwiLCBldmVudC5zb3VyY2VTcGFuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gVGVtcGxhdGVQYXJzZVZpc2l0b3I7XG59KCkpO1xudmFyIE5vbkJpbmRhYmxlVmlzaXRvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm9uQmluZGFibGVWaXNpdG9yKCkge1xuICAgIH1cbiAgICBOb25CaW5kYWJsZVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RWxlbWVudCA9IGZ1bmN0aW9uIChhc3QsIHBhcmVudCkge1xuICAgICAgICB2YXIgcHJlcGFyc2VkRWxlbWVudCA9IHRlbXBsYXRlX3ByZXBhcnNlcl8xLnByZXBhcnNlRWxlbWVudChhc3QpO1xuICAgICAgICBpZiAocHJlcGFyc2VkRWxlbWVudC50eXBlID09PSB0ZW1wbGF0ZV9wcmVwYXJzZXJfMS5QcmVwYXJzZWRFbGVtZW50VHlwZS5TQ1JJUFQgfHxcbiAgICAgICAgICAgIHByZXBhcnNlZEVsZW1lbnQudHlwZSA9PT0gdGVtcGxhdGVfcHJlcGFyc2VyXzEuUHJlcGFyc2VkRWxlbWVudFR5cGUuU1RZTEUgfHxcbiAgICAgICAgICAgIHByZXBhcnNlZEVsZW1lbnQudHlwZSA9PT0gdGVtcGxhdGVfcHJlcGFyc2VyXzEuUHJlcGFyc2VkRWxlbWVudFR5cGUuU1RZTEVTSEVFVCkge1xuICAgICAgICAgICAgLy8gU2tpcHBpbmcgPHNjcmlwdD4gZm9yIHNlY3VyaXR5IHJlYXNvbnNcbiAgICAgICAgICAgIC8vIFNraXBwaW5nIDxzdHlsZT4gYW5kIHN0eWxlc2hlZXRzIGFzIHdlIGFscmVhZHkgcHJvY2Vzc2VkIHRoZW1cbiAgICAgICAgICAgIC8vIGluIHRoZSBTdHlsZUNvbXBpbGVyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXR0ck5hbWVBbmRWYWx1ZXMgPSBhc3QuYXR0cnMubWFwKGZ1bmN0aW9uIChhdHRyQXN0KSB7IHJldHVybiBbYXR0ckFzdC5uYW1lLCBhdHRyQXN0LnZhbHVlXTsgfSk7XG4gICAgICAgIHZhciBzZWxlY3RvciA9IGNyZWF0ZUVsZW1lbnRDc3NTZWxlY3Rvcihhc3QubmFtZSwgYXR0ck5hbWVBbmRWYWx1ZXMpO1xuICAgICAgICB2YXIgbmdDb250ZW50SW5kZXggPSBwYXJlbnQuZmluZE5nQ29udGVudEluZGV4KHNlbGVjdG9yKTtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gaHRtbF9hc3RfMS5odG1sVmlzaXRBbGwodGhpcywgYXN0LmNoaWxkcmVuLCBFTVBUWV9FTEVNRU5UX0NPTlRFWFQpO1xuICAgICAgICByZXR1cm4gbmV3IHRlbXBsYXRlX2FzdF8xLkVsZW1lbnRBc3QoYXN0Lm5hbWUsIGh0bWxfYXN0XzEuaHRtbFZpc2l0QWxsKHRoaXMsIGFzdC5hdHRycyksIFtdLCBbXSwgW10sIFtdLCBbXSwgZmFsc2UsIGNoaWxkcmVuLCBuZ0NvbnRlbnRJbmRleCwgYXN0LnNvdXJjZVNwYW4pO1xuICAgIH07XG4gICAgTm9uQmluZGFibGVWaXNpdG9yLnByb3RvdHlwZS52aXNpdENvbW1lbnQgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7IHJldHVybiBudWxsOyB9O1xuICAgIE5vbkJpbmRhYmxlVmlzaXRvci5wcm90b3R5cGUudmlzaXRBdHRyID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkge1xuICAgICAgICByZXR1cm4gbmV3IHRlbXBsYXRlX2FzdF8xLkF0dHJBc3QoYXN0Lm5hbWUsIGFzdC52YWx1ZSwgYXN0LnNvdXJjZVNwYW4pO1xuICAgIH07XG4gICAgTm9uQmluZGFibGVWaXNpdG9yLnByb3RvdHlwZS52aXNpdFRleHQgPSBmdW5jdGlvbiAoYXN0LCBwYXJlbnQpIHtcbiAgICAgICAgdmFyIG5nQ29udGVudEluZGV4ID0gcGFyZW50LmZpbmROZ0NvbnRlbnRJbmRleChURVhUX0NTU19TRUxFQ1RPUik7XG4gICAgICAgIHJldHVybiBuZXcgdGVtcGxhdGVfYXN0XzEuVGV4dEFzdChhc3QudmFsdWUsIG5nQ29udGVudEluZGV4LCBhc3Quc291cmNlU3Bhbik7XG4gICAgfTtcbiAgICBOb25CaW5kYWJsZVZpc2l0b3IucHJvdG90eXBlLnZpc2l0RXhwYW5zaW9uID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkgeyByZXR1cm4gYXN0OyB9O1xuICAgIE5vbkJpbmRhYmxlVmlzaXRvci5wcm90b3R5cGUudmlzaXRFeHBhbnNpb25DYXNlID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkgeyByZXR1cm4gYXN0OyB9O1xuICAgIHJldHVybiBOb25CaW5kYWJsZVZpc2l0b3I7XG59KCkpO1xudmFyIEJvdW5kRWxlbWVudE9yRGlyZWN0aXZlUHJvcGVydHkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJvdW5kRWxlbWVudE9yRGlyZWN0aXZlUHJvcGVydHkobmFtZSwgZXhwcmVzc2lvbiwgaXNMaXRlcmFsLCBzb3VyY2VTcGFuKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbiA9IGV4cHJlc3Npb247XG4gICAgICAgIHRoaXMuaXNMaXRlcmFsID0gaXNMaXRlcmFsO1xuICAgICAgICB0aGlzLnNvdXJjZVNwYW4gPSBzb3VyY2VTcGFuO1xuICAgIH1cbiAgICByZXR1cm4gQm91bmRFbGVtZW50T3JEaXJlY3RpdmVQcm9wZXJ0eTtcbn0oKSk7XG52YXIgRWxlbWVudE9yRGlyZWN0aXZlUmVmID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFbGVtZW50T3JEaXJlY3RpdmVSZWYobmFtZSwgdmFsdWUsIHNvdXJjZVNwYW4pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnNvdXJjZVNwYW4gPSBzb3VyY2VTcGFuO1xuICAgIH1cbiAgICByZXR1cm4gRWxlbWVudE9yRGlyZWN0aXZlUmVmO1xufSgpKTtcbmZ1bmN0aW9uIHNwbGl0Q2xhc3NlcyhjbGFzc0F0dHJWYWx1ZSkge1xuICAgIHJldHVybiBsYW5nXzEuU3RyaW5nV3JhcHBlci5zcGxpdChjbGFzc0F0dHJWYWx1ZS50cmltKCksIC9cXHMrL2cpO1xufVxuZXhwb3J0cy5zcGxpdENsYXNzZXMgPSBzcGxpdENsYXNzZXM7XG52YXIgRWxlbWVudENvbnRleHQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEVsZW1lbnRDb250ZXh0KGlzVGVtcGxhdGVFbGVtZW50LCBfbmdDb250ZW50SW5kZXhNYXRjaGVyLCBfd2lsZGNhcmROZ0NvbnRlbnRJbmRleCwgcHJvdmlkZXJDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuaXNUZW1wbGF0ZUVsZW1lbnQgPSBpc1RlbXBsYXRlRWxlbWVudDtcbiAgICAgICAgdGhpcy5fbmdDb250ZW50SW5kZXhNYXRjaGVyID0gX25nQ29udGVudEluZGV4TWF0Y2hlcjtcbiAgICAgICAgdGhpcy5fd2lsZGNhcmROZ0NvbnRlbnRJbmRleCA9IF93aWxkY2FyZE5nQ29udGVudEluZGV4O1xuICAgICAgICB0aGlzLnByb3ZpZGVyQ29udGV4dCA9IHByb3ZpZGVyQ29udGV4dDtcbiAgICB9XG4gICAgRWxlbWVudENvbnRleHQuY3JlYXRlID0gZnVuY3Rpb24gKGlzVGVtcGxhdGVFbGVtZW50LCBkaXJlY3RpdmVzLCBwcm92aWRlckNvbnRleHQpIHtcbiAgICAgICAgdmFyIG1hdGNoZXIgPSBuZXcgc2VsZWN0b3JfMS5TZWxlY3Rvck1hdGNoZXIoKTtcbiAgICAgICAgdmFyIHdpbGRjYXJkTmdDb250ZW50SW5kZXggPSBudWxsO1xuICAgICAgICB2YXIgY29tcG9uZW50ID0gZGlyZWN0aXZlcy5maW5kKGZ1bmN0aW9uIChkaXJlY3RpdmUpIHsgcmV0dXJuIGRpcmVjdGl2ZS5kaXJlY3RpdmUuaXNDb21wb25lbnQ7IH0pO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChjb21wb25lbnQpKSB7XG4gICAgICAgICAgICB2YXIgbmdDb250ZW50U2VsZWN0b3JzID0gY29tcG9uZW50LmRpcmVjdGl2ZS50ZW1wbGF0ZS5uZ0NvbnRlbnRTZWxlY3RvcnM7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5nQ29udGVudFNlbGVjdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IG5nQ29udGVudFNlbGVjdG9yc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAobGFuZ18xLlN0cmluZ1dyYXBwZXIuZXF1YWxzKHNlbGVjdG9yLCAnKicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbGRjYXJkTmdDb250ZW50SW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlci5hZGRTZWxlY3RhYmxlcyhzZWxlY3Rvcl8xLkNzc1NlbGVjdG9yLnBhcnNlKG5nQ29udGVudFNlbGVjdG9yc1tpXSksIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEVsZW1lbnRDb250ZXh0KGlzVGVtcGxhdGVFbGVtZW50LCBtYXRjaGVyLCB3aWxkY2FyZE5nQ29udGVudEluZGV4LCBwcm92aWRlckNvbnRleHQpO1xuICAgIH07XG4gICAgRWxlbWVudENvbnRleHQucHJvdG90eXBlLmZpbmROZ0NvbnRlbnRJbmRleCA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICAgICB2YXIgbmdDb250ZW50SW5kaWNlcyA9IFtdO1xuICAgICAgICB0aGlzLl9uZ0NvbnRlbnRJbmRleE1hdGNoZXIubWF0Y2goc2VsZWN0b3IsIGZ1bmN0aW9uIChzZWxlY3RvciwgbmdDb250ZW50SW5kZXgpIHsgbmdDb250ZW50SW5kaWNlcy5wdXNoKG5nQ29udGVudEluZGV4KTsgfSk7XG4gICAgICAgIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5zb3J0KG5nQ29udGVudEluZGljZXMpO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLl93aWxkY2FyZE5nQ29udGVudEluZGV4KSkge1xuICAgICAgICAgICAgbmdDb250ZW50SW5kaWNlcy5wdXNoKHRoaXMuX3dpbGRjYXJkTmdDb250ZW50SW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZ0NvbnRlbnRJbmRpY2VzLmxlbmd0aCA+IDAgPyBuZ0NvbnRlbnRJbmRpY2VzWzBdIDogbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBFbGVtZW50Q29udGV4dDtcbn0oKSk7XG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50Q3NzU2VsZWN0b3IoZWxlbWVudE5hbWUsIG1hdGNoYWJsZUF0dHJzKSB7XG4gICAgdmFyIGNzc1NlbGVjdG9yID0gbmV3IHNlbGVjdG9yXzEuQ3NzU2VsZWN0b3IoKTtcbiAgICB2YXIgZWxOYW1lTm9OcyA9IGh0bWxfdGFnc18xLnNwbGl0TnNOYW1lKGVsZW1lbnROYW1lKVsxXTtcbiAgICBjc3NTZWxlY3Rvci5zZXRFbGVtZW50KGVsTmFtZU5vTnMpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2hhYmxlQXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGF0dHJOYW1lID0gbWF0Y2hhYmxlQXR0cnNbaV1bMF07XG4gICAgICAgIHZhciBhdHRyTmFtZU5vTnMgPSBodG1sX3RhZ3NfMS5zcGxpdE5zTmFtZShhdHRyTmFtZSlbMV07XG4gICAgICAgIHZhciBhdHRyVmFsdWUgPSBtYXRjaGFibGVBdHRyc1tpXVsxXTtcbiAgICAgICAgY3NzU2VsZWN0b3IuYWRkQXR0cmlidXRlKGF0dHJOYW1lTm9OcywgYXR0clZhbHVlKTtcbiAgICAgICAgaWYgKGF0dHJOYW1lLnRvTG93ZXJDYXNlKCkgPT0gQ0xBU1NfQVRUUikge1xuICAgICAgICAgICAgdmFyIGNsYXNzZXMgPSBzcGxpdENsYXNzZXMoYXR0clZhbHVlKTtcbiAgICAgICAgICAgIGNsYXNzZXMuZm9yRWFjaChmdW5jdGlvbiAoY2xhc3NOYW1lKSB7IHJldHVybiBjc3NTZWxlY3Rvci5hZGRDbGFzc05hbWUoY2xhc3NOYW1lKTsgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNzc1NlbGVjdG9yO1xufVxudmFyIEVNUFRZX0VMRU1FTlRfQ09OVEVYVCA9IG5ldyBFbGVtZW50Q29udGV4dCh0cnVlLCBuZXcgc2VsZWN0b3JfMS5TZWxlY3Rvck1hdGNoZXIoKSwgbnVsbCwgbnVsbCk7XG52YXIgTk9OX0JJTkRBQkxFX1ZJU0lUT1IgPSBuZXcgTm9uQmluZGFibGVWaXNpdG9yKCk7XG52YXIgUGlwZUNvbGxlY3RvciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBpcGVDb2xsZWN0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUGlwZUNvbGxlY3RvcigpIHtcbiAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucGlwZXMgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIFBpcGVDb2xsZWN0b3IucHJvdG90eXBlLnZpc2l0UGlwZSA9IGZ1bmN0aW9uIChhc3QsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5waXBlcy5hZGQoYXN0Lm5hbWUpO1xuICAgICAgICBhc3QuZXhwLnZpc2l0KHRoaXMpO1xuICAgICAgICB0aGlzLnZpc2l0QWxsKGFzdC5hcmdzLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gUGlwZUNvbGxlY3Rvcjtcbn0oYXN0XzEuUmVjdXJzaXZlQXN0VmlzaXRvcikpO1xuZXhwb3J0cy5QaXBlQ29sbGVjdG9yID0gUGlwZUNvbGxlY3RvcjtcbmZ1bmN0aW9uIHJlbW92ZUR1cGxpY2F0ZXMoaXRlbXMpIHtcbiAgICB2YXIgcmVzID0gW107XG4gICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICB2YXIgaGFzTWF0Y2ggPSByZXMuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLnR5cGUubmFtZSA9PSBpdGVtLnR5cGUubmFtZSAmJiByLnR5cGUubW9kdWxlVXJsID09IGl0ZW0udHlwZS5tb2R1bGVVcmwgJiZcbiAgICAgICAgICAgIHIudHlwZS5ydW50aW1lID09IGl0ZW0udHlwZS5ydW50aW1lOyB9KVxuICAgICAgICAgICAgLmxlbmd0aCA+IDA7XG4gICAgICAgIGlmICghaGFzTWF0Y2gpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlbXBsYXRlX3BhcnNlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBodG1sX3RhZ3NfMSA9IHJlcXVpcmUoJy4vaHRtbF90YWdzJyk7XG52YXIgTkdfQ09OVEVOVF9TRUxFQ1RfQVRUUiA9ICdzZWxlY3QnO1xudmFyIE5HX0NPTlRFTlRfRUxFTUVOVCA9ICduZy1jb250ZW50JztcbnZhciBMSU5LX0VMRU1FTlQgPSAnbGluayc7XG52YXIgTElOS19TVFlMRV9SRUxfQVRUUiA9ICdyZWwnO1xudmFyIExJTktfU1RZTEVfSFJFRl9BVFRSID0gJ2hyZWYnO1xudmFyIExJTktfU1RZTEVfUkVMX1ZBTFVFID0gJ3N0eWxlc2hlZXQnO1xudmFyIFNUWUxFX0VMRU1FTlQgPSAnc3R5bGUnO1xudmFyIFNDUklQVF9FTEVNRU5UID0gJ3NjcmlwdCc7XG52YXIgTkdfTk9OX0JJTkRBQkxFX0FUVFIgPSAnbmdOb25CaW5kYWJsZSc7XG52YXIgTkdfUFJPSkVDVF9BUyA9ICduZ1Byb2plY3RBcyc7XG5mdW5jdGlvbiBwcmVwYXJzZUVsZW1lbnQoYXN0KSB7XG4gICAgdmFyIHNlbGVjdEF0dHIgPSBudWxsO1xuICAgIHZhciBocmVmQXR0ciA9IG51bGw7XG4gICAgdmFyIHJlbEF0dHIgPSBudWxsO1xuICAgIHZhciBub25CaW5kYWJsZSA9IGZhbHNlO1xuICAgIHZhciBwcm9qZWN0QXMgPSBudWxsO1xuICAgIGFzdC5hdHRycy5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgIHZhciBsY0F0dHJOYW1lID0gYXR0ci5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChsY0F0dHJOYW1lID09IE5HX0NPTlRFTlRfU0VMRUNUX0FUVFIpIHtcbiAgICAgICAgICAgIHNlbGVjdEF0dHIgPSBhdHRyLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxjQXR0ck5hbWUgPT0gTElOS19TVFlMRV9IUkVGX0FUVFIpIHtcbiAgICAgICAgICAgIGhyZWZBdHRyID0gYXR0ci52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsY0F0dHJOYW1lID09IExJTktfU1RZTEVfUkVMX0FUVFIpIHtcbiAgICAgICAgICAgIHJlbEF0dHIgPSBhdHRyLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGF0dHIubmFtZSA9PSBOR19OT05fQklOREFCTEVfQVRUUikge1xuICAgICAgICAgICAgbm9uQmluZGFibGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGF0dHIubmFtZSA9PSBOR19QUk9KRUNUX0FTKSB7XG4gICAgICAgICAgICBpZiAoYXR0ci52YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcHJvamVjdEFzID0gYXR0ci52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHNlbGVjdEF0dHIgPSBub3JtYWxpemVOZ0NvbnRlbnRTZWxlY3Qoc2VsZWN0QXR0cik7XG4gICAgdmFyIG5vZGVOYW1lID0gYXN0Lm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB2YXIgdHlwZSA9IFByZXBhcnNlZEVsZW1lbnRUeXBlLk9USEVSO1xuICAgIGlmIChodG1sX3RhZ3NfMS5zcGxpdE5zTmFtZShub2RlTmFtZSlbMV0gPT0gTkdfQ09OVEVOVF9FTEVNRU5UKSB7XG4gICAgICAgIHR5cGUgPSBQcmVwYXJzZWRFbGVtZW50VHlwZS5OR19DT05URU5UO1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlTmFtZSA9PSBTVFlMRV9FTEVNRU5UKSB7XG4gICAgICAgIHR5cGUgPSBQcmVwYXJzZWRFbGVtZW50VHlwZS5TVFlMRTtcbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZU5hbWUgPT0gU0NSSVBUX0VMRU1FTlQpIHtcbiAgICAgICAgdHlwZSA9IFByZXBhcnNlZEVsZW1lbnRUeXBlLlNDUklQVDtcbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZU5hbWUgPT0gTElOS19FTEVNRU5UICYmIHJlbEF0dHIgPT0gTElOS19TVFlMRV9SRUxfVkFMVUUpIHtcbiAgICAgICAgdHlwZSA9IFByZXBhcnNlZEVsZW1lbnRUeXBlLlNUWUxFU0hFRVQ7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJlcGFyc2VkRWxlbWVudCh0eXBlLCBzZWxlY3RBdHRyLCBocmVmQXR0ciwgbm9uQmluZGFibGUsIHByb2plY3RBcyk7XG59XG5leHBvcnRzLnByZXBhcnNlRWxlbWVudCA9IHByZXBhcnNlRWxlbWVudDtcbihmdW5jdGlvbiAoUHJlcGFyc2VkRWxlbWVudFR5cGUpIHtcbiAgICBQcmVwYXJzZWRFbGVtZW50VHlwZVtQcmVwYXJzZWRFbGVtZW50VHlwZVtcIk5HX0NPTlRFTlRcIl0gPSAwXSA9IFwiTkdfQ09OVEVOVFwiO1xuICAgIFByZXBhcnNlZEVsZW1lbnRUeXBlW1ByZXBhcnNlZEVsZW1lbnRUeXBlW1wiU1RZTEVcIl0gPSAxXSA9IFwiU1RZTEVcIjtcbiAgICBQcmVwYXJzZWRFbGVtZW50VHlwZVtQcmVwYXJzZWRFbGVtZW50VHlwZVtcIlNUWUxFU0hFRVRcIl0gPSAyXSA9IFwiU1RZTEVTSEVFVFwiO1xuICAgIFByZXBhcnNlZEVsZW1lbnRUeXBlW1ByZXBhcnNlZEVsZW1lbnRUeXBlW1wiU0NSSVBUXCJdID0gM10gPSBcIlNDUklQVFwiO1xuICAgIFByZXBhcnNlZEVsZW1lbnRUeXBlW1ByZXBhcnNlZEVsZW1lbnRUeXBlW1wiT1RIRVJcIl0gPSA0XSA9IFwiT1RIRVJcIjtcbn0pKGV4cG9ydHMuUHJlcGFyc2VkRWxlbWVudFR5cGUgfHwgKGV4cG9ydHMuUHJlcGFyc2VkRWxlbWVudFR5cGUgPSB7fSkpO1xudmFyIFByZXBhcnNlZEVsZW1lbnRUeXBlID0gZXhwb3J0cy5QcmVwYXJzZWRFbGVtZW50VHlwZTtcbnZhciBQcmVwYXJzZWRFbGVtZW50ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQcmVwYXJzZWRFbGVtZW50KHR5cGUsIHNlbGVjdEF0dHIsIGhyZWZBdHRyLCBub25CaW5kYWJsZSwgcHJvamVjdEFzKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuc2VsZWN0QXR0ciA9IHNlbGVjdEF0dHI7XG4gICAgICAgIHRoaXMuaHJlZkF0dHIgPSBocmVmQXR0cjtcbiAgICAgICAgdGhpcy5ub25CaW5kYWJsZSA9IG5vbkJpbmRhYmxlO1xuICAgICAgICB0aGlzLnByb2plY3RBcyA9IHByb2plY3RBcztcbiAgICB9XG4gICAgcmV0dXJuIFByZXBhcnNlZEVsZW1lbnQ7XG59KCkpO1xuZXhwb3J0cy5QcmVwYXJzZWRFbGVtZW50ID0gUHJlcGFyc2VkRWxlbWVudDtcbmZ1bmN0aW9uIG5vcm1hbGl6ZU5nQ29udGVudFNlbGVjdChzZWxlY3RBdHRyKSB7XG4gICAgaWYgKGxhbmdfMS5pc0JsYW5rKHNlbGVjdEF0dHIpIHx8IHNlbGVjdEF0dHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnKic7XG4gICAgfVxuICAgIHJldHVybiBzZWxlY3RBdHRyO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVtcGxhdGVfcHJlcGFyc2VyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBfQVNTRVRfU0NIRU1FID0gJ2Fzc2V0Oic7XG4vKipcbiAqIENyZWF0ZSBhIHtAbGluayBVcmxSZXNvbHZlcn0gd2l0aCBubyBwYWNrYWdlIHByZWZpeC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlVXJsUmVzb2x2ZXJXaXRob3V0UGFja2FnZVByZWZpeCgpIHtcbiAgICByZXR1cm4gbmV3IFVybFJlc29sdmVyKCk7XG59XG5leHBvcnRzLmNyZWF0ZVVybFJlc29sdmVyV2l0aG91dFBhY2thZ2VQcmVmaXggPSBjcmVhdGVVcmxSZXNvbHZlcldpdGhvdXRQYWNrYWdlUHJlZml4O1xuZnVuY3Rpb24gY3JlYXRlT2ZmbGluZUNvbXBpbGVVcmxSZXNvbHZlcigpIHtcbiAgICByZXR1cm4gbmV3IFVybFJlc29sdmVyKF9BU1NFVF9TQ0hFTUUpO1xufVxuZXhwb3J0cy5jcmVhdGVPZmZsaW5lQ29tcGlsZVVybFJlc29sdmVyID0gY3JlYXRlT2ZmbGluZUNvbXBpbGVVcmxSZXNvbHZlcjtcbi8qKlxuICogQSBkZWZhdWx0IHByb3ZpZGVyIGZvciB7QGxpbmsgUEFDS0FHRV9ST09UX1VSTH0gdGhhdCBtYXBzIHRvICcvJy5cbiAqL1xuZXhwb3J0cy5ERUZBVUxUX1BBQ0tBR0VfVVJMX1BST1ZJREVSID0ge1xuICAgIHByb3ZpZGU6IGNvcmVfMS5QQUNLQUdFX1JPT1RfVVJMLFxuICAgIHVzZVZhbHVlOiBcIi9cIlxufTtcbnZhciBVcmxSZXNvbHZlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVXJsUmVzb2x2ZXIoX3BhY2thZ2VQcmVmaXgpIHtcbiAgICAgICAgaWYgKF9wYWNrYWdlUHJlZml4ID09PSB2b2lkIDApIHsgX3BhY2thZ2VQcmVmaXggPSBudWxsOyB9XG4gICAgICAgIHRoaXMuX3BhY2thZ2VQcmVmaXggPSBfcGFja2FnZVByZWZpeDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzb2x2ZXMgdGhlIGB1cmxgIGdpdmVuIHRoZSBgYmFzZVVybGA6XG4gICAgICogLSB3aGVuIHRoZSBgdXJsYCBpcyBudWxsLCB0aGUgYGJhc2VVcmxgIGlzIHJldHVybmVkLFxuICAgICAqIC0gaWYgYHVybGAgaXMgcmVsYXRpdmUgKCdwYXRoL3RvL2hlcmUnLCAnLi9wYXRoL3RvL2hlcmUnKSwgdGhlIHJlc29sdmVkIHVybCBpcyBhIGNvbWJpbmF0aW9uIG9mXG4gICAgICogYGJhc2VVcmxgIGFuZCBgdXJsYCxcbiAgICAgKiAtIGlmIGB1cmxgIGlzIGFic29sdXRlIChpdCBoYXMgYSBzY2hlbWU6ICdodHRwOi8vJywgJ2h0dHBzOi8vJyBvciBzdGFydCB3aXRoICcvJyksIHRoZSBgdXJsYCBpc1xuICAgICAqIHJldHVybmVkIGFzIGlzIChpZ25vcmluZyB0aGUgYGJhc2VVcmxgKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVcmxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAgICogQHJldHVybnMge3N0cmluZ30gdGhlIHJlc29sdmVkIFVSTFxuICAgICAqL1xuICAgIFVybFJlc29sdmVyLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24gKGJhc2VVcmwsIHVybCkge1xuICAgICAgICB2YXIgcmVzb2x2ZWRVcmwgPSB1cmw7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGJhc2VVcmwpICYmIGJhc2VVcmwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVzb2x2ZWRVcmwgPSBfcmVzb2x2ZVVybChiYXNlVXJsLCByZXNvbHZlZFVybCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc29sdmVkUGFydHMgPSBfc3BsaXQocmVzb2x2ZWRVcmwpO1xuICAgICAgICB2YXIgcHJlZml4ID0gdGhpcy5fcGFja2FnZVByZWZpeDtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocHJlZml4KSAmJiBsYW5nXzEuaXNQcmVzZW50KHJlc29sdmVkUGFydHMpICYmXG4gICAgICAgICAgICByZXNvbHZlZFBhcnRzW19Db21wb25lbnRJbmRleC5TY2hlbWVdID09IFwicGFja2FnZVwiKSB7XG4gICAgICAgICAgICB2YXIgcGF0aCA9IHJlc29sdmVkUGFydHNbX0NvbXBvbmVudEluZGV4LlBhdGhdO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhY2thZ2VQcmVmaXggPT09IF9BU1NFVF9TQ0hFTUUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGF0aFNlZ2VtZW50cyA9IHBhdGguc3BsaXQoL1xcLy8pO1xuICAgICAgICAgICAgICAgIHJlc29sdmVkVXJsID0gXCJhc3NldDpcIiArIHBhdGhTZWdlbWVudHNbMF0gKyBcIi9saWIvXCIgKyBwYXRoU2VnZW1lbnRzLnNsaWNlKDEpLmpvaW4oJy8nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHByZWZpeCA9IGxhbmdfMS5TdHJpbmdXcmFwcGVyLnN0cmlwUmlnaHQocHJlZml4LCAnLycpO1xuICAgICAgICAgICAgICAgIHBhdGggPSBsYW5nXzEuU3RyaW5nV3JhcHBlci5zdHJpcExlZnQocGF0aCwgJy8nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJlZml4ICsgXCIvXCIgKyBwYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNvbHZlZFVybDtcbiAgICB9O1xuICAgIFVybFJlc29sdmVyLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIFVybFJlc29sdmVyLmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3sgdHlwZTogY29yZV8xLkluamVjdCwgYXJnczogW2NvcmVfMS5QQUNLQUdFX1JPT1RfVVJMLF0gfSxdIH0sXG4gICAgXTtcbiAgICByZXR1cm4gVXJsUmVzb2x2ZXI7XG59KCkpO1xuZXhwb3J0cy5VcmxSZXNvbHZlciA9IFVybFJlc29sdmVyO1xuLyoqXG4gKiBFeHRyYWN0IHRoZSBzY2hlbWUgb2YgYSBVUkwuXG4gKi9cbmZ1bmN0aW9uIGdldFVybFNjaGVtZSh1cmwpIHtcbiAgICB2YXIgbWF0Y2ggPSBfc3BsaXQodXJsKTtcbiAgICByZXR1cm4gKG1hdGNoICYmIG1hdGNoW19Db21wb25lbnRJbmRleC5TY2hlbWVdKSB8fCBcIlwiO1xufVxuZXhwb3J0cy5nZXRVcmxTY2hlbWUgPSBnZXRVcmxTY2hlbWU7XG4vLyBUaGUgY29kZSBiZWxvdyBpcyBhZGFwdGVkIGZyb20gVHJhY2V1cjpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvdHJhY2V1ci1jb21waWxlci9ibG9iLzk1MTFjMWRhZmE5NzJiZjBkZTEyMDJhOGE4NjNiYWQwMmYwZjk1YTgvc3JjL3J1bnRpbWUvdXJsLmpzXG4vKipcbiAqIEJ1aWxkcyBhIFVSSSBzdHJpbmcgZnJvbSBhbHJlYWR5LWVuY29kZWQgcGFydHMuXG4gKlxuICogTm8gZW5jb2RpbmcgaXMgcGVyZm9ybWVkLiAgQW55IGNvbXBvbmVudCBtYXkgYmUgb21pdHRlZCBhcyBlaXRoZXIgbnVsbCBvclxuICogdW5kZWZpbmVkLlxuICpcbiAqIEBwYXJhbSB7P3N0cmluZz19IG9wdF9zY2hlbWUgVGhlIHNjaGVtZSBzdWNoIGFzICdodHRwJy5cbiAqIEBwYXJhbSB7P3N0cmluZz19IG9wdF91c2VySW5mbyBUaGUgdXNlciBuYW1lIGJlZm9yZSB0aGUgJ0AnLlxuICogQHBhcmFtIHs/c3RyaW5nPX0gb3B0X2RvbWFpbiBUaGUgZG9tYWluIHN1Y2ggYXMgJ3d3dy5nb29nbGUuY29tJywgYWxyZWFkeVxuICogICAgIFVSSS1lbmNvZGVkLlxuICogQHBhcmFtIHsoc3RyaW5nfG51bGwpPX0gb3B0X3BvcnQgVGhlIHBvcnQgbnVtYmVyLlxuICogQHBhcmFtIHs/c3RyaW5nPX0gb3B0X3BhdGggVGhlIHBhdGgsIGFscmVhZHkgVVJJLWVuY29kZWQuICBJZiBpdCBpcyBub3RcbiAqICAgICBlbXB0eSwgaXQgbXVzdCBiZWdpbiB3aXRoIGEgc2xhc2guXG4gKiBAcGFyYW0gez9zdHJpbmc9fSBvcHRfcXVlcnlEYXRhIFRoZSBVUkktZW5jb2RlZCBxdWVyeSBkYXRhLlxuICogQHBhcmFtIHs/c3RyaW5nPX0gb3B0X2ZyYWdtZW50IFRoZSBVUkktZW5jb2RlZCBmcmFnbWVudCBpZGVudGlmaWVyLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgZnVsbHkgY29tYmluZWQgVVJJLlxuICovXG5mdW5jdGlvbiBfYnVpbGRGcm9tRW5jb2RlZFBhcnRzKG9wdF9zY2hlbWUsIG9wdF91c2VySW5mbywgb3B0X2RvbWFpbiwgb3B0X3BvcnQsIG9wdF9wYXRoLCBvcHRfcXVlcnlEYXRhLCBvcHRfZnJhZ21lbnQpIHtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQob3B0X3NjaGVtZSkpIHtcbiAgICAgICAgb3V0LnB1c2gob3B0X3NjaGVtZSArICc6Jyk7XG4gICAgfVxuICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KG9wdF9kb21haW4pKSB7XG4gICAgICAgIG91dC5wdXNoKCcvLycpO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChvcHRfdXNlckluZm8pKSB7XG4gICAgICAgICAgICBvdXQucHVzaChvcHRfdXNlckluZm8gKyAnQCcpO1xuICAgICAgICB9XG4gICAgICAgIG91dC5wdXNoKG9wdF9kb21haW4pO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChvcHRfcG9ydCkpIHtcbiAgICAgICAgICAgIG91dC5wdXNoKCc6JyArIG9wdF9wb3J0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobGFuZ18xLmlzUHJlc2VudChvcHRfcGF0aCkpIHtcbiAgICAgICAgb3V0LnB1c2gob3B0X3BhdGgpO1xuICAgIH1cbiAgICBpZiAobGFuZ18xLmlzUHJlc2VudChvcHRfcXVlcnlEYXRhKSkge1xuICAgICAgICBvdXQucHVzaCgnPycgKyBvcHRfcXVlcnlEYXRhKTtcbiAgICB9XG4gICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQob3B0X2ZyYWdtZW50KSkge1xuICAgICAgICBvdXQucHVzaCgnIycgKyBvcHRfZnJhZ21lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0LmpvaW4oJycpO1xufVxuLyoqXG4gKiBBIHJlZ3VsYXIgZXhwcmVzc2lvbiBmb3IgYnJlYWtpbmcgYSBVUkkgaW50byBpdHMgY29tcG9uZW50IHBhcnRzLlxuICpcbiAqIHtAbGluayBodHRwOi8vd3d3LmdiaXYuY29tL3Byb3RvY29scy91cmkvcmZjL3JmYzM5ODYuaHRtbCNSRkMyMjM0fSBzYXlzXG4gKiBBcyB0aGUgXCJmaXJzdC1tYXRjaC13aW5zXCIgYWxnb3JpdGhtIGlzIGlkZW50aWNhbCB0byB0aGUgXCJncmVlZHlcIlxuICogZGlzYW1iaWd1YXRpb24gbWV0aG9kIHVzZWQgYnkgUE9TSVggcmVndWxhciBleHByZXNzaW9ucywgaXQgaXMgbmF0dXJhbCBhbmRcbiAqIGNvbW1vbnBsYWNlIHRvIHVzZSBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBmb3IgcGFyc2luZyB0aGUgcG90ZW50aWFsIGZpdmVcbiAqIGNvbXBvbmVudHMgb2YgYSBVUkkgcmVmZXJlbmNlLlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgbGluZSBpcyB0aGUgcmVndWxhciBleHByZXNzaW9uIGZvciBicmVha2luZy1kb3duIGFcbiAqIHdlbGwtZm9ybWVkIFVSSSByZWZlcmVuY2UgaW50byBpdHMgY29tcG9uZW50cy5cbiAqXG4gKiA8cHJlPlxuICogXigoW146Lz8jXSspOik/KC8vKFteLz8jXSopKT8oW14/I10qKShcXD8oW14jXSopKT8oIyguKikpP1xuICogIDEyICAgICAgICAgICAgMyAgNCAgICAgICAgICA1ICAgICAgIDYgIDcgICAgICAgIDggOVxuICogPC9wcmU+XG4gKlxuICogVGhlIG51bWJlcnMgaW4gdGhlIHNlY29uZCBsaW5lIGFib3ZlIGFyZSBvbmx5IHRvIGFzc2lzdCByZWFkYWJpbGl0eTsgdGhleVxuICogaW5kaWNhdGUgdGhlIHJlZmVyZW5jZSBwb2ludHMgZm9yIGVhY2ggc3ViZXhwcmVzc2lvbiAoaS5lLiwgZWFjaCBwYWlyZWRcbiAqIHBhcmVudGhlc2lzKS4gV2UgcmVmZXIgdG8gdGhlIHZhbHVlIG1hdGNoZWQgZm9yIHN1YmV4cHJlc3Npb24gPG4+IGFzICQ8bj4uXG4gKiBGb3IgZXhhbXBsZSwgbWF0Y2hpbmcgdGhlIGFib3ZlIGV4cHJlc3Npb24gdG9cbiAqIDxwcmU+XG4gKiAgICAgaHR0cDovL3d3dy5pY3MudWNpLmVkdS9wdWIvaWV0Zi91cmkvI1JlbGF0ZWRcbiAqIDwvcHJlPlxuICogcmVzdWx0cyBpbiB0aGUgZm9sbG93aW5nIHN1YmV4cHJlc3Npb24gbWF0Y2hlczpcbiAqIDxwcmU+XG4gKiAgICAkMSA9IGh0dHA6XG4gKiAgICAkMiA9IGh0dHBcbiAqICAgICQzID0gLy93d3cuaWNzLnVjaS5lZHVcbiAqICAgICQ0ID0gd3d3Lmljcy51Y2kuZWR1XG4gKiAgICAkNSA9IC9wdWIvaWV0Zi91cmkvXG4gKiAgICAkNiA9IDx1bmRlZmluZWQ+XG4gKiAgICAkNyA9IDx1bmRlZmluZWQ+XG4gKiAgICAkOCA9ICNSZWxhdGVkXG4gKiAgICAkOSA9IFJlbGF0ZWRcbiAqIDwvcHJlPlxuICogd2hlcmUgPHVuZGVmaW5lZD4gaW5kaWNhdGVzIHRoYXQgdGhlIGNvbXBvbmVudCBpcyBub3QgcHJlc2VudCwgYXMgaXMgdGhlXG4gKiBjYXNlIGZvciB0aGUgcXVlcnkgY29tcG9uZW50IGluIHRoZSBhYm92ZSBleGFtcGxlLiBUaGVyZWZvcmUsIHdlIGNhblxuICogZGV0ZXJtaW5lIHRoZSB2YWx1ZSBvZiB0aGUgZml2ZSBjb21wb25lbnRzIGFzXG4gKiA8cHJlPlxuICogICAgc2NoZW1lICAgID0gJDJcbiAqICAgIGF1dGhvcml0eSA9ICQ0XG4gKiAgICBwYXRoICAgICAgPSAkNVxuICogICAgcXVlcnkgICAgID0gJDdcbiAqICAgIGZyYWdtZW50ICA9ICQ5XG4gKiA8L3ByZT5cbiAqXG4gKiBUaGUgcmVndWxhciBleHByZXNzaW9uIGhhcyBiZWVuIG1vZGlmaWVkIHNsaWdodGx5IHRvIGV4cG9zZSB0aGVcbiAqIHVzZXJJbmZvLCBkb21haW4sIGFuZCBwb3J0IHNlcGFyYXRlbHkgZnJvbSB0aGUgYXV0aG9yaXR5LlxuICogVGhlIG1vZGlmaWVkIHZlcnNpb24geWllbGRzXG4gKiA8cHJlPlxuICogICAgJDEgPSBodHRwICAgICAgICAgICAgICBzY2hlbWVcbiAqICAgICQyID0gPHVuZGVmaW5lZD4gICAgICAgdXNlckluZm8gLVxcXG4gKiAgICAkMyA9IHd3dy5pY3MudWNpLmVkdSAgIGRvbWFpbiAgICAgfCBhdXRob3JpdHlcbiAqICAgICQ0ID0gPHVuZGVmaW5lZD4gICAgICAgcG9ydCAgICAgLS9cbiAqICAgICQ1ID0gL3B1Yi9pZXRmL3VyaS8gICAgcGF0aFxuICogICAgJDYgPSA8dW5kZWZpbmVkPiAgICAgICBxdWVyeSB3aXRob3V0ID9cbiAqICAgICQ3ID0gUmVsYXRlZCAgICAgICAgICAgZnJhZ21lbnQgd2l0aG91dCAjXG4gKiA8L3ByZT5cbiAqIEB0eXBlIHshUmVnRXhwfVxuICogQGludGVybmFsXG4gKi9cbnZhciBfc3BsaXRSZSA9IGxhbmdfMS5SZWdFeHBXcmFwcGVyLmNyZWF0ZSgnXicgK1xuICAgICcoPzonICtcbiAgICAnKFteOi8/Iy5dKyknICtcbiAgICAvLyB1c2VkIGJ5IG90aGVyIFVSTCBwYXJ0cyBzdWNoIGFzIDosXG4gICAgLy8gPywgLywgIywgYW5kIC5cbiAgICAnOik/JyArXG4gICAgJyg/Oi8vJyArXG4gICAgJyg/OihbXi8/I10qKUApPycgK1xuICAgICcoW1xcXFx3XFxcXGRcXFxcLVxcXFx1MDEwMC1cXFxcdWZmZmYuJV0qKScgK1xuICAgIC8vIGRpZ2l0cywgZGFzaGVzLCBkb3RzLCBwZXJjZW50XG4gICAgLy8gZXNjYXBlcywgYW5kIHVuaWNvZGUgY2hhcmFjdGVycy5cbiAgICAnKD86OihbMC05XSspKT8nICtcbiAgICAnKT8nICtcbiAgICAnKFtePyNdKyk/JyArXG4gICAgJyg/OlxcXFw/KFteI10qKSk/JyArXG4gICAgJyg/OiMoLiopKT8nICtcbiAgICAnJCcpO1xuLyoqXG4gKiBUaGUgaW5kZXggb2YgZWFjaCBVUkkgY29tcG9uZW50IGluIHRoZSByZXR1cm4gdmFsdWUgb2YgZ29vZy51cmkudXRpbHMuc3BsaXQuXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG52YXIgX0NvbXBvbmVudEluZGV4O1xuKGZ1bmN0aW9uIChfQ29tcG9uZW50SW5kZXgpIHtcbiAgICBfQ29tcG9uZW50SW5kZXhbX0NvbXBvbmVudEluZGV4W1wiU2NoZW1lXCJdID0gMV0gPSBcIlNjaGVtZVwiO1xuICAgIF9Db21wb25lbnRJbmRleFtfQ29tcG9uZW50SW5kZXhbXCJVc2VySW5mb1wiXSA9IDJdID0gXCJVc2VySW5mb1wiO1xuICAgIF9Db21wb25lbnRJbmRleFtfQ29tcG9uZW50SW5kZXhbXCJEb21haW5cIl0gPSAzXSA9IFwiRG9tYWluXCI7XG4gICAgX0NvbXBvbmVudEluZGV4W19Db21wb25lbnRJbmRleFtcIlBvcnRcIl0gPSA0XSA9IFwiUG9ydFwiO1xuICAgIF9Db21wb25lbnRJbmRleFtfQ29tcG9uZW50SW5kZXhbXCJQYXRoXCJdID0gNV0gPSBcIlBhdGhcIjtcbiAgICBfQ29tcG9uZW50SW5kZXhbX0NvbXBvbmVudEluZGV4W1wiUXVlcnlEYXRhXCJdID0gNl0gPSBcIlF1ZXJ5RGF0YVwiO1xuICAgIF9Db21wb25lbnRJbmRleFtfQ29tcG9uZW50SW5kZXhbXCJGcmFnbWVudFwiXSA9IDddID0gXCJGcmFnbWVudFwiO1xufSkoX0NvbXBvbmVudEluZGV4IHx8IChfQ29tcG9uZW50SW5kZXggPSB7fSkpO1xuLyoqXG4gKiBTcGxpdHMgYSBVUkkgaW50byBpdHMgY29tcG9uZW50IHBhcnRzLlxuICpcbiAqIEVhY2ggY29tcG9uZW50IGNhbiBiZSBhY2Nlc3NlZCB2aWEgdGhlIGNvbXBvbmVudCBpbmRpY2VzOyBmb3IgZXhhbXBsZTpcbiAqIDxwcmU+XG4gKiBnb29nLnVyaS51dGlscy5zcGxpdChzb21lU3RyKVtnb29nLnVyaS51dGlscy5Db21wb250ZW50SW5kZXguUVVFUllfREFUQV07XG4gKiA8L3ByZT5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJpIFRoZSBVUkkgc3RyaW5nIHRvIGV4YW1pbmUuXG4gKiBAcmV0dXJuIHshQXJyYXkuPHN0cmluZ3x1bmRlZmluZWQ+fSBFYWNoIGNvbXBvbmVudCBzdGlsbCBVUkktZW5jb2RlZC5cbiAqICAgICBFYWNoIGNvbXBvbmVudCB0aGF0IGlzIHByZXNlbnQgd2lsbCBjb250YWluIHRoZSBlbmNvZGVkIHZhbHVlLCB3aGVyZWFzXG4gKiAgICAgY29tcG9uZW50cyB0aGF0IGFyZSBub3QgcHJlc2VudCB3aWxsIGJlIHVuZGVmaW5lZCBvciBlbXB0eSwgZGVwZW5kaW5nXG4gKiAgICAgb24gdGhlIGJyb3dzZXIncyByZWd1bGFyIGV4cHJlc3Npb24gaW1wbGVtZW50YXRpb24uICBOZXZlciBudWxsLCBzaW5jZVxuICogICAgIGFyYml0cmFyeSBzdHJpbmdzIG1heSBzdGlsbCBsb29rIGxpa2UgcGF0aCBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gX3NwbGl0KHVyaSkge1xuICAgIHJldHVybiBsYW5nXzEuUmVnRXhwV3JhcHBlci5maXJzdE1hdGNoKF9zcGxpdFJlLCB1cmkpO1xufVxuLyoqXG4gICogUmVtb3ZlcyBkb3Qgc2VnbWVudHMgaW4gZ2l2ZW4gcGF0aCBjb21wb25lbnQsIGFzIGRlc2NyaWJlZCBpblxuICAqIFJGQyAzOTg2LCBzZWN0aW9uIDUuMi40LlxuICAqXG4gICogQHBhcmFtIHtzdHJpbmd9IHBhdGggQSBub24tZW1wdHkgcGF0aCBjb21wb25lbnQuXG4gICogQHJldHVybiB7c3RyaW5nfSBQYXRoIGNvbXBvbmVudCB3aXRoIHJlbW92ZWQgZG90IHNlZ21lbnRzLlxuICAqL1xuZnVuY3Rpb24gX3JlbW92ZURvdFNlZ21lbnRzKHBhdGgpIHtcbiAgICBpZiAocGF0aCA9PSAnLycpXG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgdmFyIGxlYWRpbmdTbGFzaCA9IHBhdGhbMF0gPT0gJy8nID8gJy8nIDogJyc7XG4gICAgdmFyIHRyYWlsaW5nU2xhc2ggPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV0gPT09ICcvJyA/ICcvJyA6ICcnO1xuICAgIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoJy8nKTtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgdmFyIHVwID0gMDtcbiAgICBmb3IgKHZhciBwb3MgPSAwOyBwb3MgPCBzZWdtZW50cy5sZW5ndGg7IHBvcysrKSB7XG4gICAgICAgIHZhciBzZWdtZW50ID0gc2VnbWVudHNbcG9zXTtcbiAgICAgICAgc3dpdGNoIChzZWdtZW50KSB7XG4gICAgICAgICAgICBjYXNlICcnOlxuICAgICAgICAgICAgY2FzZSAnLic6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICcuLic6XG4gICAgICAgICAgICAgICAgaWYgKG91dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dC5wb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHVwKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBvdXQucHVzaChzZWdtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobGVhZGluZ1NsYXNoID09ICcnKSB7XG4gICAgICAgIHdoaWxlICh1cC0tID4gMCkge1xuICAgICAgICAgICAgb3V0LnVuc2hpZnQoJy4uJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dC5sZW5ndGggPT09IDApXG4gICAgICAgICAgICBvdXQucHVzaCgnLicpO1xuICAgIH1cbiAgICByZXR1cm4gbGVhZGluZ1NsYXNoICsgb3V0LmpvaW4oJy8nKSArIHRyYWlsaW5nU2xhc2g7XG59XG4vKipcbiAqIFRha2VzIGFuIGFycmF5IG9mIHRoZSBwYXJ0cyBmcm9tIHNwbGl0IGFuZCBjYW5vbmljYWxpemVzIHRoZSBwYXRoIHBhcnRcbiAqIGFuZCB0aGVuIGpvaW5zIGFsbCB0aGUgcGFydHMuXG4gKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc/Pn0gcGFydHNcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gX2pvaW5BbmRDYW5vbmljYWxpemVQYXRoKHBhcnRzKSB7XG4gICAgdmFyIHBhdGggPSBwYXJ0c1tfQ29tcG9uZW50SW5kZXguUGF0aF07XG4gICAgcGF0aCA9IGxhbmdfMS5pc0JsYW5rKHBhdGgpID8gJycgOiBfcmVtb3ZlRG90U2VnbWVudHMocGF0aCk7XG4gICAgcGFydHNbX0NvbXBvbmVudEluZGV4LlBhdGhdID0gcGF0aDtcbiAgICByZXR1cm4gX2J1aWxkRnJvbUVuY29kZWRQYXJ0cyhwYXJ0c1tfQ29tcG9uZW50SW5kZXguU2NoZW1lXSwgcGFydHNbX0NvbXBvbmVudEluZGV4LlVzZXJJbmZvXSwgcGFydHNbX0NvbXBvbmVudEluZGV4LkRvbWFpbl0sIHBhcnRzW19Db21wb25lbnRJbmRleC5Qb3J0XSwgcGF0aCwgcGFydHNbX0NvbXBvbmVudEluZGV4LlF1ZXJ5RGF0YV0sIHBhcnRzW19Db21wb25lbnRJbmRleC5GcmFnbWVudF0pO1xufVxuLyoqXG4gKiBSZXNvbHZlcyBhIFVSTC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlIFRoZSBVUkwgYWN0aW5nIGFzIHRoZSBiYXNlIFVSTC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0byBUaGUgVVJMIHRvIHJlc29sdmUuXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIF9yZXNvbHZlVXJsKGJhc2UsIHVybCkge1xuICAgIHZhciBwYXJ0cyA9IF9zcGxpdChlbmNvZGVVUkkodXJsKSk7XG4gICAgdmFyIGJhc2VQYXJ0cyA9IF9zcGxpdChiYXNlKTtcbiAgICBpZiAobGFuZ18xLmlzUHJlc2VudChwYXJ0c1tfQ29tcG9uZW50SW5kZXguU2NoZW1lXSkpIHtcbiAgICAgICAgcmV0dXJuIF9qb2luQW5kQ2Fub25pY2FsaXplUGF0aChwYXJ0cyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwYXJ0c1tfQ29tcG9uZW50SW5kZXguU2NoZW1lXSA9IGJhc2VQYXJ0c1tfQ29tcG9uZW50SW5kZXguU2NoZW1lXTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IF9Db21wb25lbnRJbmRleC5TY2hlbWU7IGkgPD0gX0NvbXBvbmVudEluZGV4LlBvcnQ7IGkrKykge1xuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsocGFydHNbaV0pKSB7XG4gICAgICAgICAgICBwYXJ0c1tpXSA9IGJhc2VQYXJ0c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFydHNbX0NvbXBvbmVudEluZGV4LlBhdGhdWzBdID09ICcvJykge1xuICAgICAgICByZXR1cm4gX2pvaW5BbmRDYW5vbmljYWxpemVQYXRoKHBhcnRzKTtcbiAgICB9XG4gICAgdmFyIHBhdGggPSBiYXNlUGFydHNbX0NvbXBvbmVudEluZGV4LlBhdGhdO1xuICAgIGlmIChsYW5nXzEuaXNCbGFuayhwYXRoKSlcbiAgICAgICAgcGF0aCA9ICcvJztcbiAgICB2YXIgaW5kZXggPSBwYXRoLmxhc3RJbmRleE9mKCcvJyk7XG4gICAgcGF0aCA9IHBhdGguc3Vic3RyaW5nKDAsIGluZGV4ICsgMSkgKyBwYXJ0c1tfQ29tcG9uZW50SW5kZXguUGF0aF07XG4gICAgcGFydHNbX0NvbXBvbmVudEluZGV4LlBhdGhdID0gcGF0aDtcbiAgICByZXR1cm4gX2pvaW5BbmRDYW5vbmljYWxpemVQYXRoKHBhcnRzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVybF9yZXNvbHZlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuL2ZhY2FkZS9sYW5nJyk7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZSgnLi9mYWNhZGUvY29sbGVjdGlvbicpO1xuZXhwb3J0cy5NT0RVTEVfU1VGRklYID0gbGFuZ18xLklTX0RBUlQgPyAnLmRhcnQnIDogJyc7XG52YXIgQ0FNRUxfQ0FTRV9SRUdFWFAgPSAvKFtBLVpdKS9nO1xudmFyIERBU0hfQ0FTRV9SRUdFWFAgPSAvLShbYS16XSkvZztcbmZ1bmN0aW9uIGNhbWVsQ2FzZVRvRGFzaENhc2UoaW5wdXQpIHtcbiAgICByZXR1cm4gbGFuZ18xLlN0cmluZ1dyYXBwZXIucmVwbGFjZUFsbE1hcHBlZChpbnB1dCwgQ0FNRUxfQ0FTRV9SRUdFWFAsIGZ1bmN0aW9uIChtKSB7IHJldHVybiAnLScgKyBtWzFdLnRvTG93ZXJDYXNlKCk7IH0pO1xufVxuZXhwb3J0cy5jYW1lbENhc2VUb0Rhc2hDYXNlID0gY2FtZWxDYXNlVG9EYXNoQ2FzZTtcbmZ1bmN0aW9uIGRhc2hDYXNlVG9DYW1lbENhc2UoaW5wdXQpIHtcbiAgICByZXR1cm4gbGFuZ18xLlN0cmluZ1dyYXBwZXIucmVwbGFjZUFsbE1hcHBlZChpbnB1dCwgREFTSF9DQVNFX1JFR0VYUCwgZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG1bMV0udG9VcHBlckNhc2UoKTsgfSk7XG59XG5leHBvcnRzLmRhc2hDYXNlVG9DYW1lbENhc2UgPSBkYXNoQ2FzZVRvQ2FtZWxDYXNlO1xuZnVuY3Rpb24gc3BsaXRBdENvbG9uKGlucHV0LCBkZWZhdWx0VmFsdWVzKSB7XG4gICAgdmFyIHBhcnRzID0gbGFuZ18xLlN0cmluZ1dyYXBwZXIuc3BsaXQoaW5wdXQudHJpbSgpLCAvXFxzKjpcXHMqL2cpO1xuICAgIGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHJldHVybiBwYXJ0cztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWVzO1xuICAgIH1cbn1cbmV4cG9ydHMuc3BsaXRBdENvbG9uID0gc3BsaXRBdENvbG9uO1xuZnVuY3Rpb24gc2FuaXRpemVJZGVudGlmaWVyKG5hbWUpIHtcbiAgICByZXR1cm4gbGFuZ18xLlN0cmluZ1dyYXBwZXIucmVwbGFjZUFsbChuYW1lLCAvXFxXL2csICdfJyk7XG59XG5leHBvcnRzLnNhbml0aXplSWRlbnRpZmllciA9IHNhbml0aXplSWRlbnRpZmllcjtcbmZ1bmN0aW9uIHZpc2l0VmFsdWUodmFsdWUsIHZpc2l0b3IsIGNvbnRleHQpIHtcbiAgICBpZiAobGFuZ18xLmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0QXJyYXkodmFsdWUsIGNvbnRleHQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChsYW5nXzEuaXNTdHJpY3RTdHJpbmdNYXAodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yLnZpc2l0U3RyaW5nTWFwKHZhbHVlLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAobGFuZ18xLmlzQmxhbmsodmFsdWUpIHx8IGxhbmdfMS5pc1ByaW1pdGl2ZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRQcmltaXRpdmUodmFsdWUsIGNvbnRleHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZpc2l0b3IudmlzaXRPdGhlcih2YWx1ZSwgY29udGV4dCk7XG4gICAgfVxufVxuZXhwb3J0cy52aXNpdFZhbHVlID0gdmlzaXRWYWx1ZTtcbnZhciBWYWx1ZVRyYW5zZm9ybWVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWYWx1ZVRyYW5zZm9ybWVyKCkge1xuICAgIH1cbiAgICBWYWx1ZVRyYW5zZm9ybWVyLnByb3RvdHlwZS52aXNpdEFycmF5ID0gZnVuY3Rpb24gKGFyciwgY29udGV4dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gYXJyLm1hcChmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHZpc2l0VmFsdWUodmFsdWUsIF90aGlzLCBjb250ZXh0KTsgfSk7XG4gICAgfTtcbiAgICBWYWx1ZVRyYW5zZm9ybWVyLnByb3RvdHlwZS52aXNpdFN0cmluZ01hcCA9IGZ1bmN0aW9uIChtYXAsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgICBjb2xsZWN0aW9uXzEuU3RyaW5nTWFwV3JhcHBlci5mb3JFYWNoKG1hcCwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHsgcmVzdWx0W2tleV0gPSB2aXNpdFZhbHVlKHZhbHVlLCBfdGhpcywgY29udGV4dCk7IH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgVmFsdWVUcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRQcmltaXRpdmUgPSBmdW5jdGlvbiAodmFsdWUsIGNvbnRleHQpIHsgcmV0dXJuIHZhbHVlOyB9O1xuICAgIFZhbHVlVHJhbnNmb3JtZXIucHJvdG90eXBlLnZpc2l0T3RoZXIgPSBmdW5jdGlvbiAodmFsdWUsIGNvbnRleHQpIHsgcmV0dXJuIHZhbHVlOyB9O1xuICAgIHJldHVybiBWYWx1ZVRyYW5zZm9ybWVyO1xufSgpKTtcbmV4cG9ydHMuVmFsdWVUcmFuc2Zvcm1lciA9IFZhbHVlVHJhbnNmb3JtZXI7XG5mdW5jdGlvbiBhc3NldFVybChwa2csIHBhdGgsIHR5cGUpIHtcbiAgICBpZiAocGF0aCA9PT0gdm9pZCAwKSB7IHBhdGggPSBudWxsOyB9XG4gICAgaWYgKHR5cGUgPT09IHZvaWQgMCkgeyB0eXBlID0gJ3NyYyc7IH1cbiAgICBpZiAobGFuZ18xLklTX0RBUlQpIHtcbiAgICAgICAgaWYgKHBhdGggPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiYXNzZXQ6YW5ndWxhcjIvXCIgKyBwa2cgKyBcIi9cIiArIHBrZyArIFwiLmRhcnRcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcImFzc2V0OmFuZ3VsYXIyL2xpYi9cIiArIHBrZyArIFwiL3NyYy9cIiArIHBhdGggKyBcIi5kYXJ0XCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChwYXRoID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBcImFzc2V0OkBhbmd1bGFyL2xpYi9cIiArIHBrZyArIFwiL2luZGV4XCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJhc3NldDpAYW5ndWxhci9saWIvXCIgKyBwa2cgKyBcIi9zcmMvXCIgKyBwYXRoO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5hc3NldFVybCA9IGFzc2V0VXJsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBDb21waWxlQmluZGluZyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tcGlsZUJpbmRpbmcobm9kZSwgc291cmNlQXN0KSB7XG4gICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMuc291cmNlQXN0ID0gc291cmNlQXN0O1xuICAgIH1cbiAgICByZXR1cm4gQ29tcGlsZUJpbmRpbmc7XG59KCkpO1xuZXhwb3J0cy5Db21waWxlQmluZGluZyA9IENvbXBpbGVCaW5kaW5nO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGlsZV9iaW5kaW5nLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIG8gPSByZXF1aXJlKCcuLi9vdXRwdXQvb3V0cHV0X2FzdCcpO1xudmFyIGlkZW50aWZpZXJzXzEgPSByZXF1aXJlKCcuLi9pZGVudGlmaWVycycpO1xudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZSgnLi9jb25zdGFudHMnKTtcbnZhciB0ZW1wbGF0ZV9hc3RfMSA9IHJlcXVpcmUoJy4uL3RlbXBsYXRlX2FzdCcpO1xudmFyIGNvbXBpbGVfbWV0YWRhdGFfMSA9IHJlcXVpcmUoJy4uL2NvbXBpbGVfbWV0YWRhdGEnKTtcbnZhciB1dGlsXzEgPSByZXF1aXJlKCcuL3V0aWwnKTtcbnZhciBjb21waWxlX3F1ZXJ5XzEgPSByZXF1aXJlKCcuL2NvbXBpbGVfcXVlcnknKTtcbnZhciBjb21waWxlX21ldGhvZF8xID0gcmVxdWlyZSgnLi9jb21waWxlX21ldGhvZCcpO1xudmFyIHV0aWxfMiA9IHJlcXVpcmUoJy4uL3V0aWwnKTtcbnZhciBDb21waWxlTm9kZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tcGlsZU5vZGUocGFyZW50LCB2aWV3LCBub2RlSW5kZXgsIHJlbmRlck5vZGUsIHNvdXJjZUFzdCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5ub2RlSW5kZXggPSBub2RlSW5kZXg7XG4gICAgICAgIHRoaXMucmVuZGVyTm9kZSA9IHJlbmRlck5vZGU7XG4gICAgICAgIHRoaXMuc291cmNlQXN0ID0gc291cmNlQXN0O1xuICAgIH1cbiAgICBDb21waWxlTm9kZS5wcm90b3R5cGUuaXNOdWxsID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbGFuZ18xLmlzQmxhbmsodGhpcy5yZW5kZXJOb2RlKTsgfTtcbiAgICBDb21waWxlTm9kZS5wcm90b3R5cGUuaXNSb290RWxlbWVudCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMudmlldyAhPSB0aGlzLnBhcmVudC52aWV3OyB9O1xuICAgIHJldHVybiBDb21waWxlTm9kZTtcbn0oKSk7XG5leHBvcnRzLkNvbXBpbGVOb2RlID0gQ29tcGlsZU5vZGU7XG52YXIgQ29tcGlsZUVsZW1lbnQgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb21waWxlRWxlbWVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb21waWxlRWxlbWVudChwYXJlbnQsIHZpZXcsIG5vZGVJbmRleCwgcmVuZGVyTm9kZSwgc291cmNlQXN0LCBjb21wb25lbnQsIF9kaXJlY3RpdmVzLCBfcmVzb2x2ZWRQcm92aWRlcnNBcnJheSwgaGFzVmlld0NvbnRhaW5lciwgaGFzRW1iZWRkZWRWaWV3LCByZWZlcmVuY2VzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIHBhcmVudCwgdmlldywgbm9kZUluZGV4LCByZW5kZXJOb2RlLCBzb3VyY2VBc3QpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICAgICAgdGhpcy5fZGlyZWN0aXZlcyA9IF9kaXJlY3RpdmVzO1xuICAgICAgICB0aGlzLl9yZXNvbHZlZFByb3ZpZGVyc0FycmF5ID0gX3Jlc29sdmVkUHJvdmlkZXJzQXJyYXk7XG4gICAgICAgIHRoaXMuaGFzVmlld0NvbnRhaW5lciA9IGhhc1ZpZXdDb250YWluZXI7XG4gICAgICAgIHRoaXMuaGFzRW1iZWRkZWRWaWV3ID0gaGFzRW1iZWRkZWRWaWV3O1xuICAgICAgICB0aGlzLl9jb21wVmlld0V4cHIgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbnN0YW5jZXMgPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVUb2tlbk1hcCgpO1xuICAgICAgICB0aGlzLl9xdWVyeUNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5fcXVlcmllcyA9IG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZVRva2VuTWFwKCk7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudENvbnN0cnVjdG9yVmlld1F1ZXJ5TGlzdHMgPSBbXTtcbiAgICAgICAgdGhpcy5jb250ZW50Tm9kZXNCeU5nQ29udGVudEluZGV4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VUb2tlbnMgPSB7fTtcbiAgICAgICAgcmVmZXJlbmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChyZWYpIHsgcmV0dXJuIF90aGlzLnJlZmVyZW5jZVRva2Vuc1tyZWYubmFtZV0gPSByZWYudmFsdWU7IH0pO1xuICAgICAgICB0aGlzLmVsZW1lbnRSZWYgPSBvLmltcG9ydEV4cHIoaWRlbnRpZmllcnNfMS5JZGVudGlmaWVycy5FbGVtZW50UmVmKS5pbnN0YW50aWF0ZShbdGhpcy5yZW5kZXJOb2RlXSk7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlcy5hZGQoaWRlbnRpZmllcnNfMS5pZGVudGlmaWVyVG9rZW4oaWRlbnRpZmllcnNfMS5JZGVudGlmaWVycy5FbGVtZW50UmVmKSwgdGhpcy5lbGVtZW50UmVmKTtcbiAgICAgICAgdGhpcy5pbmplY3RvciA9IG8uVEhJU19FWFBSLmNhbGxNZXRob2QoJ2luamVjdG9yJywgW28ubGl0ZXJhbCh0aGlzLm5vZGVJbmRleCldKTtcbiAgICAgICAgdGhpcy5faW5zdGFuY2VzLmFkZChpZGVudGlmaWVyc18xLmlkZW50aWZpZXJUb2tlbihpZGVudGlmaWVyc18xLklkZW50aWZpZXJzLkluamVjdG9yKSwgdGhpcy5pbmplY3Rvcik7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlcy5hZGQoaWRlbnRpZmllcnNfMS5pZGVudGlmaWVyVG9rZW4oaWRlbnRpZmllcnNfMS5JZGVudGlmaWVycy5SZW5kZXJlciksIG8uVEhJU19FWFBSLnByb3AoJ3JlbmRlcmVyJykpO1xuICAgICAgICBpZiAodGhpcy5oYXNWaWV3Q29udGFpbmVyIHx8IHRoaXMuaGFzRW1iZWRkZWRWaWV3IHx8IGxhbmdfMS5pc1ByZXNlbnQodGhpcy5jb21wb25lbnQpKSB7XG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVBcHBFbGVtZW50KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQ29tcGlsZUVsZW1lbnQuY3JlYXRlTnVsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlRWxlbWVudChudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBbXSwgW10sIGZhbHNlLCBmYWxzZSwgW10pO1xuICAgIH07XG4gICAgQ29tcGlsZUVsZW1lbnQucHJvdG90eXBlLl9jcmVhdGVBcHBFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZmllbGROYW1lID0gXCJfYXBwRWxfXCIgKyB0aGlzLm5vZGVJbmRleDtcbiAgICAgICAgdmFyIHBhcmVudE5vZGVJbmRleCA9IHRoaXMuaXNSb290RWxlbWVudCgpID8gbnVsbCA6IHRoaXMucGFyZW50Lm5vZGVJbmRleDtcbiAgICAgICAgLy8gcHJpdmF0ZSBpcyBmaW5lIGhlcmUgYXMgbm8gY2hpbGQgdmlldyB3aWxsIHJlZmVyZW5jZSBhbiBBcHBFbGVtZW50XG4gICAgICAgIHRoaXMudmlldy5maWVsZHMucHVzaChuZXcgby5DbGFzc0ZpZWxkKGZpZWxkTmFtZSwgby5pbXBvcnRUeXBlKGlkZW50aWZpZXJzXzEuSWRlbnRpZmllcnMuQXBwRWxlbWVudCksIFtvLlN0bXRNb2RpZmllci5Qcml2YXRlXSkpO1xuICAgICAgICB2YXIgc3RhdGVtZW50ID0gby5USElTX0VYUFIucHJvcChmaWVsZE5hbWUpXG4gICAgICAgICAgICAuc2V0KG8uaW1wb3J0RXhwcihpZGVudGlmaWVyc18xLklkZW50aWZpZXJzLkFwcEVsZW1lbnQpXG4gICAgICAgICAgICAuaW5zdGFudGlhdGUoW1xuICAgICAgICAgICAgby5saXRlcmFsKHRoaXMubm9kZUluZGV4KSxcbiAgICAgICAgICAgIG8ubGl0ZXJhbChwYXJlbnROb2RlSW5kZXgpLFxuICAgICAgICAgICAgby5USElTX0VYUFIsXG4gICAgICAgICAgICB0aGlzLnJlbmRlck5vZGVcbiAgICAgICAgXSkpXG4gICAgICAgICAgICAudG9TdG10KCk7XG4gICAgICAgIHRoaXMudmlldy5jcmVhdGVNZXRob2QuYWRkU3RtdChzdGF0ZW1lbnQpO1xuICAgICAgICB0aGlzLmFwcEVsZW1lbnQgPSBvLlRISVNfRVhQUi5wcm9wKGZpZWxkTmFtZSk7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlcy5hZGQoaWRlbnRpZmllcnNfMS5pZGVudGlmaWVyVG9rZW4oaWRlbnRpZmllcnNfMS5JZGVudGlmaWVycy5BcHBFbGVtZW50KSwgdGhpcy5hcHBFbGVtZW50KTtcbiAgICB9O1xuICAgIENvbXBpbGVFbGVtZW50LnByb3RvdHlwZS5zZXRDb21wb25lbnRWaWV3ID0gZnVuY3Rpb24gKGNvbXBWaWV3RXhwcikge1xuICAgICAgICB0aGlzLl9jb21wVmlld0V4cHIgPSBjb21wVmlld0V4cHI7XG4gICAgICAgIHRoaXMuY29udGVudE5vZGVzQnlOZ0NvbnRlbnRJbmRleCA9XG4gICAgICAgICAgICBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuY3JlYXRlRml4ZWRTaXplKHRoaXMuY29tcG9uZW50LnRlbXBsYXRlLm5nQ29udGVudFNlbGVjdG9ycy5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29udGVudE5vZGVzQnlOZ0NvbnRlbnRJbmRleC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50Tm9kZXNCeU5nQ29udGVudEluZGV4W2ldID0gW107XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbXBpbGVFbGVtZW50LnByb3RvdHlwZS5zZXRFbWJlZGRlZFZpZXcgPSBmdW5jdGlvbiAoZW1iZWRkZWRWaWV3KSB7XG4gICAgICAgIHRoaXMuZW1iZWRkZWRWaWV3ID0gZW1iZWRkZWRWaWV3O1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChlbWJlZGRlZFZpZXcpKSB7XG4gICAgICAgICAgICB2YXIgY3JlYXRlVGVtcGxhdGVSZWZFeHByID0gby5pbXBvcnRFeHByKGlkZW50aWZpZXJzXzEuSWRlbnRpZmllcnMuVGVtcGxhdGVSZWZfKVxuICAgICAgICAgICAgICAgIC5pbnN0YW50aWF0ZShbdGhpcy5hcHBFbGVtZW50LCB0aGlzLmVtYmVkZGVkVmlldy52aWV3RmFjdG9yeV0pO1xuICAgICAgICAgICAgdmFyIHByb3ZpZGVyID0gbmV3IGNvbXBpbGVfbWV0YWRhdGFfMS5Db21waWxlUHJvdmlkZXJNZXRhZGF0YSh7IHRva2VuOiBpZGVudGlmaWVyc18xLmlkZW50aWZpZXJUb2tlbihpZGVudGlmaWVyc18xLklkZW50aWZpZXJzLlRlbXBsYXRlUmVmKSwgdXNlVmFsdWU6IGNyZWF0ZVRlbXBsYXRlUmVmRXhwciB9KTtcbiAgICAgICAgICAgIC8vIEFkZCBUZW1wbGF0ZVJlZiBhcyBmaXJzdCBwcm92aWRlciBhcyBpdCBkb2VzIG5vdCBoYXZlIGRlcHMgb24gb3RoZXIgcHJvdmlkZXJzXG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlZFByb3ZpZGVyc0FycmF5LnVuc2hpZnQobmV3IHRlbXBsYXRlX2FzdF8xLlByb3ZpZGVyQXN0KHByb3ZpZGVyLnRva2VuLCBmYWxzZSwgdHJ1ZSwgW3Byb3ZpZGVyXSwgdGVtcGxhdGVfYXN0XzEuUHJvdmlkZXJBc3RUeXBlLkJ1aWx0aW4sIHRoaXMuc291cmNlQXN0LnNvdXJjZVNwYW4pKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29tcGlsZUVsZW1lbnQucHJvdG90eXBlLmJlZm9yZUNoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5oYXNWaWV3Q29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZXMuYWRkKGlkZW50aWZpZXJzXzEuaWRlbnRpZmllclRva2VuKGlkZW50aWZpZXJzXzEuSWRlbnRpZmllcnMuVmlld0NvbnRhaW5lclJlZiksIHRoaXMuYXBwRWxlbWVudC5wcm9wKCd2Y1JlZicpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZXNvbHZlZFByb3ZpZGVycyA9IG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZVRva2VuTWFwKCk7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVkUHJvdmlkZXJzQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAocHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5fcmVzb2x2ZWRQcm92aWRlcnMuYWRkKHByb3ZpZGVyLnRva2VuLCBwcm92aWRlcik7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjcmVhdGUgYWxsIHRoZSBwcm92aWRlciBpbnN0YW5jZXMsIHNvbWUgaW4gdGhlIHZpZXcgY29uc3RydWN0b3IsXG4gICAgICAgIC8vIHNvbWUgYXMgZ2V0dGVycy4gV2UgcmVseSBvbiB0aGUgZmFjdCB0aGF0IHRoZXkgYXJlIGFscmVhZHkgc29ydGVkIHRvcG9sb2dpY2FsbHkuXG4gICAgICAgIHRoaXMuX3Jlc29sdmVkUHJvdmlkZXJzLnZhbHVlcygpLmZvckVhY2goZnVuY3Rpb24gKHJlc29sdmVkUHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHZhciBwcm92aWRlclZhbHVlRXhwcmVzc2lvbnMgPSByZXNvbHZlZFByb3ZpZGVyLnByb3ZpZGVycy5tYXAoZnVuY3Rpb24gKHByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocHJvdmlkZXIudXNlRXhpc3RpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fZ2V0RGVwZW5kZW5jeShyZXNvbHZlZFByb3ZpZGVyLnByb3ZpZGVyVHlwZSwgbmV3IGNvbXBpbGVfbWV0YWRhdGFfMS5Db21waWxlRGlEZXBlbmRlbmN5TWV0YWRhdGEoeyB0b2tlbjogcHJvdmlkZXIudXNlRXhpc3RpbmcgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsYW5nXzEuaXNQcmVzZW50KHByb3ZpZGVyLnVzZUZhY3RvcnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZXBzID0gbGFuZ18xLmlzUHJlc2VudChwcm92aWRlci5kZXBzKSA/IHByb3ZpZGVyLmRlcHMgOiBwcm92aWRlci51c2VGYWN0b3J5LmRpRGVwcztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlcHNFeHByID0gZGVwcy5tYXAoZnVuY3Rpb24gKGRlcCkgeyByZXR1cm4gX3RoaXMuX2dldERlcGVuZGVuY3kocmVzb2x2ZWRQcm92aWRlci5wcm92aWRlclR5cGUsIGRlcCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gby5pbXBvcnRFeHByKHByb3ZpZGVyLnVzZUZhY3RvcnkpLmNhbGxGbihkZXBzRXhwcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxhbmdfMS5pc1ByZXNlbnQocHJvdmlkZXIudXNlQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZXBzID0gbGFuZ18xLmlzUHJlc2VudChwcm92aWRlci5kZXBzKSA/IHByb3ZpZGVyLmRlcHMgOiBwcm92aWRlci51c2VDbGFzcy5kaURlcHM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZXBzRXhwciA9IGRlcHMubWFwKGZ1bmN0aW9uIChkZXApIHsgcmV0dXJuIF90aGlzLl9nZXREZXBlbmRlbmN5KHJlc29sdmVkUHJvdmlkZXIucHJvdmlkZXJUeXBlLCBkZXApOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG8uaW1wb3J0RXhwcihwcm92aWRlci51c2VDbGFzcylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5pbnN0YW50aWF0ZShkZXBzRXhwciwgby5pbXBvcnRUeXBlKHByb3ZpZGVyLnVzZUNsYXNzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnZlcnRWYWx1ZVRvT3V0cHV0QXN0KHByb3ZpZGVyLnVzZVZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBwcm9wTmFtZSA9IFwiX1wiICsgcmVzb2x2ZWRQcm92aWRlci50b2tlbi5uYW1lICsgXCJfXCIgKyBfdGhpcy5ub2RlSW5kZXggKyBcIl9cIiArIF90aGlzLl9pbnN0YW5jZXMuc2l6ZTtcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IGNyZWF0ZVByb3ZpZGVyUHJvcGVydHkocHJvcE5hbWUsIHJlc29sdmVkUHJvdmlkZXIsIHByb3ZpZGVyVmFsdWVFeHByZXNzaW9ucywgcmVzb2x2ZWRQcm92aWRlci5tdWx0aVByb3ZpZGVyLCByZXNvbHZlZFByb3ZpZGVyLmVhZ2VyLCBfdGhpcyk7XG4gICAgICAgICAgICBfdGhpcy5faW5zdGFuY2VzLmFkZChyZXNvbHZlZFByb3ZpZGVyLnRva2VuLCBpbnN0YW5jZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRpcmVjdGl2ZUluc3RhbmNlcyA9XG4gICAgICAgICAgICB0aGlzLl9kaXJlY3RpdmVzLm1hcChmdW5jdGlvbiAoZGlyZWN0aXZlKSB7IHJldHVybiBfdGhpcy5faW5zdGFuY2VzLmdldChpZGVudGlmaWVyc18xLmlkZW50aWZpZXJUb2tlbihkaXJlY3RpdmUudHlwZSkpOyB9KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRpcmVjdGl2ZUluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZUluc3RhbmNlID0gdGhpcy5kaXJlY3RpdmVJbnN0YW5jZXNbaV07XG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlID0gdGhpcy5fZGlyZWN0aXZlc1tpXTtcbiAgICAgICAgICAgIGRpcmVjdGl2ZS5xdWVyaWVzLmZvckVhY2goZnVuY3Rpb24gKHF1ZXJ5TWV0YSkgeyBfdGhpcy5fYWRkUXVlcnkocXVlcnlNZXRhLCBkaXJlY3RpdmVJbnN0YW5jZSk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBxdWVyaWVzV2l0aFJlYWRzID0gW107XG4gICAgICAgIHRoaXMuX3Jlc29sdmVkUHJvdmlkZXJzLnZhbHVlcygpLmZvckVhY2goZnVuY3Rpb24gKHJlc29sdmVkUHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHZhciBxdWVyaWVzRm9yUHJvdmlkZXIgPSBfdGhpcy5fZ2V0UXVlcmllc0ZvcihyZXNvbHZlZFByb3ZpZGVyLnRva2VuKTtcbiAgICAgICAgICAgIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5hZGRBbGwocXVlcmllc1dpdGhSZWFkcywgcXVlcmllc0ZvclByb3ZpZGVyLm1hcChmdW5jdGlvbiAocXVlcnkpIHsgcmV0dXJuIG5ldyBfUXVlcnlXaXRoUmVhZChxdWVyeSwgcmVzb2x2ZWRQcm92aWRlci50b2tlbik7IH0pKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbGxlY3Rpb25fMS5TdHJpbmdNYXBXcmFwcGVyLmZvckVhY2godGhpcy5yZWZlcmVuY2VUb2tlbnMsIGZ1bmN0aW9uIChfLCB2YXJOYW1lKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW4gPSBfdGhpcy5yZWZlcmVuY2VUb2tlbnNbdmFyTmFtZV07XG4gICAgICAgICAgICB2YXIgdmFyVmFsdWU7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0b2tlbikpIHtcbiAgICAgICAgICAgICAgICB2YXJWYWx1ZSA9IF90aGlzLl9pbnN0YW5jZXMuZ2V0KHRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhclZhbHVlID0gX3RoaXMucmVuZGVyTm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnZpZXcubG9jYWxzLnNldCh2YXJOYW1lLCB2YXJWYWx1ZSk7XG4gICAgICAgICAgICB2YXIgdmFyVG9rZW4gPSBuZXcgY29tcGlsZV9tZXRhZGF0YV8xLkNvbXBpbGVUb2tlbk1ldGFkYXRhKHsgdmFsdWU6IHZhck5hbWUgfSk7XG4gICAgICAgICAgICBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuYWRkQWxsKHF1ZXJpZXNXaXRoUmVhZHMsIF90aGlzLl9nZXRRdWVyaWVzRm9yKHZhclRva2VuKVxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHF1ZXJ5KSB7IHJldHVybiBuZXcgX1F1ZXJ5V2l0aFJlYWQocXVlcnksIHZhclRva2VuKTsgfSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcXVlcmllc1dpdGhSZWFkcy5mb3JFYWNoKGZ1bmN0aW9uIChxdWVyeVdpdGhSZWFkKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChxdWVyeVdpdGhSZWFkLnJlYWQuaWRlbnRpZmllcikpIHtcbiAgICAgICAgICAgICAgICAvLyBxdWVyeSBmb3IgYW4gaWRlbnRpZmllclxuICAgICAgICAgICAgICAgIHZhbHVlID0gX3RoaXMuX2luc3RhbmNlcy5nZXQocXVlcnlXaXRoUmVhZC5yZWFkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHF1ZXJ5IGZvciBhIHJlZmVyZW5jZVxuICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IF90aGlzLnJlZmVyZW5jZVRva2Vuc1txdWVyeVdpdGhSZWFkLnJlYWQudmFsdWVdO1xuICAgICAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHRva2VuKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF90aGlzLl9pbnN0YW5jZXMuZ2V0KHRva2VuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gX3RoaXMuZWxlbWVudFJlZjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBxdWVyeVdpdGhSZWFkLnF1ZXJ5LmFkZFZhbHVlKHZhbHVlLCBfdGhpcy52aWV3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHRoaXMuY29tcG9uZW50KSkge1xuICAgICAgICAgICAgdmFyIGNvbXBvbmVudENvbnN0cnVjdG9yVmlld1F1ZXJ5TGlzdCA9IGxhbmdfMS5pc1ByZXNlbnQodGhpcy5jb21wb25lbnQpID8gby5saXRlcmFsQXJyKHRoaXMuX2NvbXBvbmVudENvbnN0cnVjdG9yVmlld1F1ZXJ5TGlzdHMpIDpcbiAgICAgICAgICAgICAgICBvLk5VTExfRVhQUjtcbiAgICAgICAgICAgIHZhciBjb21wRXhwciA9IGxhbmdfMS5pc1ByZXNlbnQodGhpcy5nZXRDb21wb25lbnQoKSkgPyB0aGlzLmdldENvbXBvbmVudCgpIDogby5OVUxMX0VYUFI7XG4gICAgICAgICAgICB0aGlzLnZpZXcuY3JlYXRlTWV0aG9kLmFkZFN0bXQodGhpcy5hcHBFbGVtZW50LmNhbGxNZXRob2QoJ2luaXRDb21wb25lbnQnLCBbY29tcEV4cHIsIGNvbXBvbmVudENvbnN0cnVjdG9yVmlld1F1ZXJ5TGlzdCwgdGhpcy5fY29tcFZpZXdFeHByXSlcbiAgICAgICAgICAgICAgICAudG9TdG10KCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb21waWxlRWxlbWVudC5wcm90b3R5cGUuYWZ0ZXJDaGlsZHJlbiA9IGZ1bmN0aW9uIChjaGlsZE5vZGVDb3VudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9yZXNvbHZlZFByb3ZpZGVycy52YWx1ZXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChyZXNvbHZlZFByb3ZpZGVyKSB7XG4gICAgICAgICAgICAvLyBOb3RlOiBhZnRlckNoaWxkcmVuIGlzIGNhbGxlZCBhZnRlciByZWN1cnNpbmcgaW50byBjaGlsZHJlbi5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgZ29vZCBzbyB0aGF0IGFuIGluamVjdG9yIG1hdGNoIGluIGFuIGVsZW1lbnQgdGhhdCBpcyBjbG9zZXIgdG8gYSByZXF1ZXN0aW5nIGVsZW1lbnRcbiAgICAgICAgICAgIC8vIG1hdGNoZXMgZmlyc3QuXG4gICAgICAgICAgICB2YXIgcHJvdmlkZXJFeHByID0gX3RoaXMuX2luc3RhbmNlcy5nZXQocmVzb2x2ZWRQcm92aWRlci50b2tlbik7XG4gICAgICAgICAgICAvLyBOb3RlOiB2aWV3IHByb3ZpZGVycyBhcmUgb25seSB2aXNpYmxlIG9uIHRoZSBpbmplY3RvciBvZiB0aGF0IGVsZW1lbnQuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIG5vdCBmdWxseSBjb3JyZWN0IGFzIHRoZSBydWxlcyBkdXJpbmcgY29kZWdlbiBkb24ndCBhbGxvdyBhIGRpcmVjdGl2ZVxuICAgICAgICAgICAgLy8gdG8gZ2V0IGhvbGQgb2YgYSB2aWV3IHByb3ZkaWVyIG9uIHRoZSBzYW1lIGVsZW1lbnQuIFdlIHN0aWxsIGRvIHRoaXMgc2VtYW50aWNcbiAgICAgICAgICAgIC8vIGFzIGl0IHNpbXBsaWZpZXMgb3VyIG1vZGVsIHRvIGhhdmluZyBvbmx5IG9uZSBydW50aW1lIGluamVjdG9yIHBlciBlbGVtZW50LlxuICAgICAgICAgICAgdmFyIHByb3ZpZGVyQ2hpbGROb2RlQ291bnQgPSByZXNvbHZlZFByb3ZpZGVyLnByb3ZpZGVyVHlwZSA9PT0gdGVtcGxhdGVfYXN0XzEuUHJvdmlkZXJBc3RUeXBlLlByaXZhdGVTZXJ2aWNlID8gMCA6IGNoaWxkTm9kZUNvdW50O1xuICAgICAgICAgICAgX3RoaXMudmlldy5pbmplY3RvckdldE1ldGhvZC5hZGRTdG10KGNyZWF0ZUluamVjdEludGVybmFsQ29uZGl0aW9uKF90aGlzLm5vZGVJbmRleCwgcHJvdmlkZXJDaGlsZE5vZGVDb3VudCwgcmVzb2x2ZWRQcm92aWRlciwgcHJvdmlkZXJFeHByKSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9xdWVyaWVzLnZhbHVlcygpLmZvckVhY2goZnVuY3Rpb24gKHF1ZXJpZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBxdWVyaWVzLmZvckVhY2goZnVuY3Rpb24gKHF1ZXJ5KSB7IHJldHVybiBxdWVyeS5hZnRlckNoaWxkcmVuKF90aGlzLnZpZXcudXBkYXRlQ29udGVudFF1ZXJpZXNNZXRob2QpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb21waWxlRWxlbWVudC5wcm90b3R5cGUuYWRkQ29udGVudE5vZGUgPSBmdW5jdGlvbiAobmdDb250ZW50SW5kZXgsIG5vZGVFeHByKSB7XG4gICAgICAgIHRoaXMuY29udGVudE5vZGVzQnlOZ0NvbnRlbnRJbmRleFtuZ0NvbnRlbnRJbmRleF0ucHVzaChub2RlRXhwcik7XG4gICAgfTtcbiAgICBDb21waWxlRWxlbWVudC5wcm90b3R5cGUuZ2V0Q29tcG9uZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbGFuZ18xLmlzUHJlc2VudCh0aGlzLmNvbXBvbmVudCkgPyB0aGlzLl9pbnN0YW5jZXMuZ2V0KGlkZW50aWZpZXJzXzEuaWRlbnRpZmllclRva2VuKHRoaXMuY29tcG9uZW50LnR5cGUpKSA6XG4gICAgICAgICAgICBudWxsO1xuICAgIH07XG4gICAgQ29tcGlsZUVsZW1lbnQucHJvdG90eXBlLmdldFByb3ZpZGVyVG9rZW5zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzb2x2ZWRQcm92aWRlcnMudmFsdWVzKCkubWFwKGZ1bmN0aW9uIChyZXNvbHZlZFByb3ZpZGVyKSB7IHJldHVybiB1dGlsXzEuY3JlYXRlRGlUb2tlbkV4cHJlc3Npb24ocmVzb2x2ZWRQcm92aWRlci50b2tlbik7IH0pO1xuICAgIH07XG4gICAgQ29tcGlsZUVsZW1lbnQucHJvdG90eXBlLl9nZXRRdWVyaWVzRm9yID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgdmFyIGN1cnJlbnRFbCA9IHRoaXM7XG4gICAgICAgIHZhciBkaXN0YW5jZSA9IDA7XG4gICAgICAgIHZhciBxdWVyaWVzO1xuICAgICAgICB3aGlsZSAoIWN1cnJlbnRFbC5pc051bGwoKSkge1xuICAgICAgICAgICAgcXVlcmllcyA9IGN1cnJlbnRFbC5fcXVlcmllcy5nZXQodG9rZW4pO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocXVlcmllcykpIHtcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuYWRkQWxsKHJlc3VsdCwgcXVlcmllcy5maWx0ZXIoZnVuY3Rpb24gKHF1ZXJ5KSB7IHJldHVybiBxdWVyeS5tZXRhLmRlc2NlbmRhbnRzIHx8IGRpc3RhbmNlIDw9IDE7IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdXJyZW50RWwuX2RpcmVjdGl2ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50RWwgPSBjdXJyZW50RWwucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHF1ZXJpZXMgPSB0aGlzLnZpZXcuY29tcG9uZW50Vmlldy52aWV3UXVlcmllcy5nZXQodG9rZW4pO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChxdWVyaWVzKSkge1xuICAgICAgICAgICAgY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmFkZEFsbChyZXN1bHQsIHF1ZXJpZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBDb21waWxlRWxlbWVudC5wcm90b3R5cGUuX2FkZFF1ZXJ5ID0gZnVuY3Rpb24gKHF1ZXJ5TWV0YSwgZGlyZWN0aXZlSW5zdGFuY2UpIHtcbiAgICAgICAgdmFyIHByb3BOYW1lID0gXCJfcXVlcnlfXCIgKyBxdWVyeU1ldGEuc2VsZWN0b3JzWzBdLm5hbWUgKyBcIl9cIiArIHRoaXMubm9kZUluZGV4ICsgXCJfXCIgKyB0aGlzLl9xdWVyeUNvdW50Kys7XG4gICAgICAgIHZhciBxdWVyeUxpc3QgPSBjb21waWxlX3F1ZXJ5XzEuY3JlYXRlUXVlcnlMaXN0KHF1ZXJ5TWV0YSwgZGlyZWN0aXZlSW5zdGFuY2UsIHByb3BOYW1lLCB0aGlzLnZpZXcpO1xuICAgICAgICB2YXIgcXVlcnkgPSBuZXcgY29tcGlsZV9xdWVyeV8xLkNvbXBpbGVRdWVyeShxdWVyeU1ldGEsIHF1ZXJ5TGlzdCwgZGlyZWN0aXZlSW5zdGFuY2UsIHRoaXMudmlldyk7XG4gICAgICAgIGNvbXBpbGVfcXVlcnlfMS5hZGRRdWVyeVRvVG9rZW5NYXAodGhpcy5fcXVlcmllcywgcXVlcnkpO1xuICAgICAgICByZXR1cm4gcXVlcnk7XG4gICAgfTtcbiAgICBDb21waWxlRWxlbWVudC5wcm90b3R5cGUuX2dldExvY2FsRGVwZW5kZW5jeSA9IGZ1bmN0aW9uIChyZXF1ZXN0aW5nUHJvdmlkZXJUeXBlLCBkZXApIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XG4gICAgICAgIC8vIGNvbnN0cnVjdG9yIGNvbnRlbnQgcXVlcnlcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHJlc3VsdCkgJiYgbGFuZ18xLmlzUHJlc2VudChkZXAucXVlcnkpKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9hZGRRdWVyeShkZXAucXVlcnksIG51bGwpLnF1ZXJ5TGlzdDtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zdHJ1Y3RvciB2aWV3IHF1ZXJ5XG4gICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhyZXN1bHQpICYmIGxhbmdfMS5pc1ByZXNlbnQoZGVwLnZpZXdRdWVyeSkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGNvbXBpbGVfcXVlcnlfMS5jcmVhdGVRdWVyeUxpc3QoZGVwLnZpZXdRdWVyeSwgbnVsbCwgXCJfdmlld1F1ZXJ5X1wiICsgZGVwLnZpZXdRdWVyeS5zZWxlY3RvcnNbMF0ubmFtZSArIFwiX1wiICsgdGhpcy5ub2RlSW5kZXggKyBcIl9cIiArIHRoaXMuX2NvbXBvbmVudENvbnN0cnVjdG9yVmlld1F1ZXJ5TGlzdHMubGVuZ3RoLCB0aGlzLnZpZXcpO1xuICAgICAgICAgICAgdGhpcy5fY29tcG9uZW50Q29uc3RydWN0b3JWaWV3UXVlcnlMaXN0cy5wdXNoKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoZGVwLnRva2VuKSkge1xuICAgICAgICAgICAgLy8gYWNjZXNzIGJ1aWx0aW5zIHdpdGggc3BlY2lhbCB2aXNpYmlsaXR5XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsocmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIGlmIChkZXAudG9rZW4uZXF1YWxzVG8oaWRlbnRpZmllcnNfMS5pZGVudGlmaWVyVG9rZW4oaWRlbnRpZmllcnNfMS5JZGVudGlmaWVycy5DaGFuZ2VEZXRlY3RvclJlZikpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0aW5nUHJvdmlkZXJUeXBlID09PSB0ZW1wbGF0ZV9hc3RfMS5Qcm92aWRlckFzdFR5cGUuQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY29tcFZpZXdFeHByLnByb3AoJ3JlZicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHV0aWxfMS5nZXRQcm9wZXJ0eUluVmlldyhvLlRISVNfRVhQUi5wcm9wKCdyZWYnKSwgdGhpcy52aWV3LCB0aGlzLnZpZXcuY29tcG9uZW50Vmlldyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhY2Nlc3MgcmVndWxhciBwcm92aWRlcnMgb24gdGhlIGVsZW1lbnRcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhyZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5faW5zdGFuY2VzLmdldChkZXAudG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBDb21waWxlRWxlbWVudC5wcm90b3R5cGUuX2dldERlcGVuZGVuY3kgPSBmdW5jdGlvbiAocmVxdWVzdGluZ1Byb3ZpZGVyVHlwZSwgZGVwKSB7XG4gICAgICAgIHZhciBjdXJyRWxlbWVudCA9IHRoaXM7XG4gICAgICAgIHZhciByZXN1bHQgPSBudWxsO1xuICAgICAgICBpZiAoZGVwLmlzVmFsdWUpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG8ubGl0ZXJhbChkZXAudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhyZXN1bHQpICYmICFkZXAuaXNTa2lwU2VsZikge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5fZ2V0TG9jYWxEZXBlbmRlbmN5KHJlcXVlc3RpbmdQcm92aWRlclR5cGUsIGRlcCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgcGFyZW50IGVsZW1lbnRzXG4gICAgICAgIHdoaWxlIChsYW5nXzEuaXNCbGFuayhyZXN1bHQpICYmICFjdXJyRWxlbWVudC5wYXJlbnQuaXNOdWxsKCkpIHtcbiAgICAgICAgICAgIGN1cnJFbGVtZW50ID0gY3VyckVsZW1lbnQucGFyZW50O1xuICAgICAgICAgICAgcmVzdWx0ID0gY3VyckVsZW1lbnQuX2dldExvY2FsRGVwZW5kZW5jeSh0ZW1wbGF0ZV9hc3RfMS5Qcm92aWRlckFzdFR5cGUuUHVibGljU2VydmljZSwgbmV3IGNvbXBpbGVfbWV0YWRhdGFfMS5Db21waWxlRGlEZXBlbmRlbmN5TWV0YWRhdGEoeyB0b2tlbjogZGVwLnRva2VuIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsocmVzdWx0KSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdXRpbF8xLmluamVjdEZyb21WaWV3UGFyZW50SW5qZWN0b3IoZGVwLnRva2VuLCBkZXAuaXNPcHRpb25hbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG8uTlVMTF9FWFBSO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1dGlsXzEuZ2V0UHJvcGVydHlJblZpZXcocmVzdWx0LCB0aGlzLnZpZXcsIGN1cnJFbGVtZW50LnZpZXcpO1xuICAgIH07XG4gICAgcmV0dXJuIENvbXBpbGVFbGVtZW50O1xufShDb21waWxlTm9kZSkpO1xuZXhwb3J0cy5Db21waWxlRWxlbWVudCA9IENvbXBpbGVFbGVtZW50O1xuZnVuY3Rpb24gY3JlYXRlSW5qZWN0SW50ZXJuYWxDb25kaXRpb24obm9kZUluZGV4LCBjaGlsZE5vZGVDb3VudCwgcHJvdmlkZXIsIHByb3ZpZGVyRXhwcikge1xuICAgIHZhciBpbmRleENvbmRpdGlvbjtcbiAgICBpZiAoY2hpbGROb2RlQ291bnQgPiAwKSB7XG4gICAgICAgIGluZGV4Q29uZGl0aW9uID0gby5saXRlcmFsKG5vZGVJbmRleClcbiAgICAgICAgICAgIC5sb3dlckVxdWFscyhjb25zdGFudHNfMS5JbmplY3RNZXRob2RWYXJzLnJlcXVlc3ROb2RlSW5kZXgpXG4gICAgICAgICAgICAuYW5kKGNvbnN0YW50c18xLkluamVjdE1ldGhvZFZhcnMucmVxdWVzdE5vZGVJbmRleC5sb3dlckVxdWFscyhvLmxpdGVyYWwobm9kZUluZGV4ICsgY2hpbGROb2RlQ291bnQpKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbmRleENvbmRpdGlvbiA9IG8ubGl0ZXJhbChub2RlSW5kZXgpLmlkZW50aWNhbChjb25zdGFudHNfMS5JbmplY3RNZXRob2RWYXJzLnJlcXVlc3ROb2RlSW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IG8uSWZTdG10KGNvbnN0YW50c18xLkluamVjdE1ldGhvZFZhcnMudG9rZW4uaWRlbnRpY2FsKHV0aWxfMS5jcmVhdGVEaVRva2VuRXhwcmVzc2lvbihwcm92aWRlci50b2tlbikpLmFuZChpbmRleENvbmRpdGlvbiksIFtuZXcgby5SZXR1cm5TdGF0ZW1lbnQocHJvdmlkZXJFeHByKV0pO1xufVxuZnVuY3Rpb24gY3JlYXRlUHJvdmlkZXJQcm9wZXJ0eShwcm9wTmFtZSwgcHJvdmlkZXIsIHByb3ZpZGVyVmFsdWVFeHByZXNzaW9ucywgaXNNdWx0aSwgaXNFYWdlciwgY29tcGlsZUVsZW1lbnQpIHtcbiAgICB2YXIgdmlldyA9IGNvbXBpbGVFbGVtZW50LnZpZXc7XG4gICAgdmFyIHJlc29sdmVkUHJvdmlkZXJWYWx1ZUV4cHI7XG4gICAgdmFyIHR5cGU7XG4gICAgaWYgKGlzTXVsdGkpIHtcbiAgICAgICAgcmVzb2x2ZWRQcm92aWRlclZhbHVlRXhwciA9IG8ubGl0ZXJhbEFycihwcm92aWRlclZhbHVlRXhwcmVzc2lvbnMpO1xuICAgICAgICB0eXBlID0gbmV3IG8uQXJyYXlUeXBlKG8uRFlOQU1JQ19UWVBFKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlc29sdmVkUHJvdmlkZXJWYWx1ZUV4cHIgPSBwcm92aWRlclZhbHVlRXhwcmVzc2lvbnNbMF07XG4gICAgICAgIHR5cGUgPSBwcm92aWRlclZhbHVlRXhwcmVzc2lvbnNbMF0udHlwZTtcbiAgICB9XG4gICAgaWYgKGxhbmdfMS5pc0JsYW5rKHR5cGUpKSB7XG4gICAgICAgIHR5cGUgPSBvLkRZTkFNSUNfVFlQRTtcbiAgICB9XG4gICAgaWYgKGlzRWFnZXIpIHtcbiAgICAgICAgdmlldy5maWVsZHMucHVzaChuZXcgby5DbGFzc0ZpZWxkKHByb3BOYW1lLCB0eXBlKSk7XG4gICAgICAgIHZpZXcuY3JlYXRlTWV0aG9kLmFkZFN0bXQoby5USElTX0VYUFIucHJvcChwcm9wTmFtZSkuc2V0KHJlc29sdmVkUHJvdmlkZXJWYWx1ZUV4cHIpLnRvU3RtdCgpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBpbnRlcm5hbEZpZWxkID0gXCJfXCIgKyBwcm9wTmFtZTtcbiAgICAgICAgdmlldy5maWVsZHMucHVzaChuZXcgby5DbGFzc0ZpZWxkKGludGVybmFsRmllbGQsIHR5cGUpKTtcbiAgICAgICAgdmFyIGdldHRlciA9IG5ldyBjb21waWxlX21ldGhvZF8xLkNvbXBpbGVNZXRob2Qodmlldyk7XG4gICAgICAgIGdldHRlci5yZXNldERlYnVnSW5mbyhjb21waWxlRWxlbWVudC5ub2RlSW5kZXgsIGNvbXBpbGVFbGVtZW50LnNvdXJjZUFzdCk7XG4gICAgICAgIC8vIE5vdGU6IEVxdWFscyBpcyBpbXBvcnRhbnQgZm9yIEpTIHNvIHRoYXQgaXQgYWxzbyBjaGVja3MgdGhlIHVuZGVmaW5lZCBjYXNlIVxuICAgICAgICBnZXR0ZXIuYWRkU3RtdChuZXcgby5JZlN0bXQoby5USElTX0VYUFIucHJvcChpbnRlcm5hbEZpZWxkKS5pc0JsYW5rKCksIFtvLlRISVNfRVhQUi5wcm9wKGludGVybmFsRmllbGQpLnNldChyZXNvbHZlZFByb3ZpZGVyVmFsdWVFeHByKS50b1N0bXQoKV0pKTtcbiAgICAgICAgZ2V0dGVyLmFkZFN0bXQobmV3IG8uUmV0dXJuU3RhdGVtZW50KG8uVEhJU19FWFBSLnByb3AoaW50ZXJuYWxGaWVsZCkpKTtcbiAgICAgICAgdmlldy5nZXR0ZXJzLnB1c2gobmV3IG8uQ2xhc3NHZXR0ZXIocHJvcE5hbWUsIGdldHRlci5maW5pc2goKSwgdHlwZSkpO1xuICAgIH1cbiAgICByZXR1cm4gby5USElTX0VYUFIucHJvcChwcm9wTmFtZSk7XG59XG52YXIgX1F1ZXJ5V2l0aFJlYWQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIF9RdWVyeVdpdGhSZWFkKHF1ZXJ5LCBtYXRjaCkge1xuICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnk7XG4gICAgICAgIHRoaXMucmVhZCA9IGxhbmdfMS5pc1ByZXNlbnQocXVlcnkubWV0YS5yZWFkKSA/IHF1ZXJ5Lm1ldGEucmVhZCA6IG1hdGNoO1xuICAgIH1cbiAgICByZXR1cm4gX1F1ZXJ5V2l0aFJlYWQ7XG59KCkpO1xuZnVuY3Rpb24gX2NvbnZlcnRWYWx1ZVRvT3V0cHV0QXN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHV0aWxfMi52aXNpdFZhbHVlKHZhbHVlLCBuZXcgX1ZhbHVlT3V0cHV0QXN0VHJhbnNmb3JtZXIoKSwgbnVsbCk7XG59XG52YXIgX1ZhbHVlT3V0cHV0QXN0VHJhbnNmb3JtZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhfVmFsdWVPdXRwdXRBc3RUcmFuc2Zvcm1lciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBfVmFsdWVPdXRwdXRBc3RUcmFuc2Zvcm1lcigpIHtcbiAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIF9WYWx1ZU91dHB1dEFzdFRyYW5zZm9ybWVyLnByb3RvdHlwZS52aXNpdEFycmF5ID0gZnVuY3Rpb24gKGFyciwgY29udGV4dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gby5saXRlcmFsQXJyKGFyci5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB1dGlsXzIudmlzaXRWYWx1ZSh2YWx1ZSwgX3RoaXMsIGNvbnRleHQpOyB9KSk7XG4gICAgfTtcbiAgICBfVmFsdWVPdXRwdXRBc3RUcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRTdHJpbmdNYXAgPSBmdW5jdGlvbiAobWFwLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBlbnRyaWVzID0gW107XG4gICAgICAgIGNvbGxlY3Rpb25fMS5TdHJpbmdNYXBXcmFwcGVyLmZvckVhY2gobWFwLCBmdW5jdGlvbiAodmFsdWUsIGtleSkgeyBlbnRyaWVzLnB1c2goW2tleSwgdXRpbF8yLnZpc2l0VmFsdWUodmFsdWUsIF90aGlzLCBjb250ZXh0KV0pOyB9KTtcbiAgICAgICAgcmV0dXJuIG8ubGl0ZXJhbE1hcChlbnRyaWVzKTtcbiAgICB9O1xuICAgIF9WYWx1ZU91dHB1dEFzdFRyYW5zZm9ybWVyLnByb3RvdHlwZS52aXNpdFByaW1pdGl2ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgY29udGV4dCkgeyByZXR1cm4gby5saXRlcmFsKHZhbHVlKTsgfTtcbiAgICBfVmFsdWVPdXRwdXRBc3RUcmFuc2Zvcm1lci5wcm90b3R5cGUudmlzaXRPdGhlciA9IGZ1bmN0aW9uICh2YWx1ZSwgY29udGV4dCkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIG8uaW1wb3J0RXhwcih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBvLkV4cHJlc3Npb24pIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBjb3JlXzEuQmFzZUV4Y2VwdGlvbihcIklsbGVnYWwgc3RhdGU6IERvbid0IG5vdyBob3cgdG8gY29tcGlsZSB2YWx1ZSBcIiArIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIF9WYWx1ZU91dHB1dEFzdFRyYW5zZm9ybWVyO1xufSh1dGlsXzIuVmFsdWVUcmFuc2Zvcm1lcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGlsZV9lbGVtZW50LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIG8gPSByZXF1aXJlKCcuLi9vdXRwdXQvb3V0cHV0X2FzdCcpO1xudmFyIF9EZWJ1Z1N0YXRlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBfRGVidWdTdGF0ZShub2RlSW5kZXgsIHNvdXJjZUFzdCkge1xuICAgICAgICB0aGlzLm5vZGVJbmRleCA9IG5vZGVJbmRleDtcbiAgICAgICAgdGhpcy5zb3VyY2VBc3QgPSBzb3VyY2VBc3Q7XG4gICAgfVxuICAgIHJldHVybiBfRGVidWdTdGF0ZTtcbn0oKSk7XG52YXIgTlVMTF9ERUJVR19TVEFURSA9IG5ldyBfRGVidWdTdGF0ZShudWxsLCBudWxsKTtcbnZhciBDb21waWxlTWV0aG9kID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb21waWxlTWV0aG9kKF92aWV3KSB7XG4gICAgICAgIHRoaXMuX3ZpZXcgPSBfdmlldztcbiAgICAgICAgdGhpcy5fbmV3U3RhdGUgPSBOVUxMX0RFQlVHX1NUQVRFO1xuICAgICAgICB0aGlzLl9jdXJyU3RhdGUgPSBOVUxMX0RFQlVHX1NUQVRFO1xuICAgICAgICB0aGlzLl9ib2R5U3RhdGVtZW50cyA9IFtdO1xuICAgICAgICB0aGlzLl9kZWJ1Z0VuYWJsZWQgPSB0aGlzLl92aWV3LmdlbkNvbmZpZy5nZW5EZWJ1Z0luZm87XG4gICAgfVxuICAgIENvbXBpbGVNZXRob2QucHJvdG90eXBlLl91cGRhdGVEZWJ1Z0NvbnRleHRJZk5lZWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX25ld1N0YXRlLm5vZGVJbmRleCAhPT0gdGhpcy5fY3VyclN0YXRlLm5vZGVJbmRleCB8fFxuICAgICAgICAgICAgdGhpcy5fbmV3U3RhdGUuc291cmNlQXN0ICE9PSB0aGlzLl9jdXJyU3RhdGUuc291cmNlQXN0KSB7XG4gICAgICAgICAgICB2YXIgZXhwciA9IHRoaXMuX3VwZGF0ZURlYnVnQ29udGV4dCh0aGlzLl9uZXdTdGF0ZSk7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChleHByKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvZHlTdGF0ZW1lbnRzLnB1c2goZXhwci50b1N0bXQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbXBpbGVNZXRob2QucHJvdG90eXBlLl91cGRhdGVEZWJ1Z0NvbnRleHQgPSBmdW5jdGlvbiAobmV3U3RhdGUpIHtcbiAgICAgICAgdGhpcy5fY3VyclN0YXRlID0gdGhpcy5fbmV3U3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgaWYgKHRoaXMuX2RlYnVnRW5hYmxlZCkge1xuICAgICAgICAgICAgdmFyIHNvdXJjZUxvY2F0aW9uID0gbGFuZ18xLmlzUHJlc2VudChuZXdTdGF0ZS5zb3VyY2VBc3QpID8gbmV3U3RhdGUuc291cmNlQXN0LnNvdXJjZVNwYW4uc3RhcnQgOiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIG8uVEhJU19FWFBSLmNhbGxNZXRob2QoJ2RlYnVnJywgW1xuICAgICAgICAgICAgICAgIG8ubGl0ZXJhbChuZXdTdGF0ZS5ub2RlSW5kZXgpLFxuICAgICAgICAgICAgICAgIGxhbmdfMS5pc1ByZXNlbnQoc291cmNlTG9jYXRpb24pID8gby5saXRlcmFsKHNvdXJjZUxvY2F0aW9uLmxpbmUpIDogby5OVUxMX0VYUFIsXG4gICAgICAgICAgICAgICAgbGFuZ18xLmlzUHJlc2VudChzb3VyY2VMb2NhdGlvbikgPyBvLmxpdGVyYWwoc291cmNlTG9jYXRpb24uY29sKSA6IG8uTlVMTF9FWFBSXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb21waWxlTWV0aG9kLnByb3RvdHlwZS5yZXNldERlYnVnSW5mb0V4cHIgPSBmdW5jdGlvbiAobm9kZUluZGV4LCB0ZW1wbGF0ZUFzdCkge1xuICAgICAgICB2YXIgcmVzID0gdGhpcy5fdXBkYXRlRGVidWdDb250ZXh0KG5ldyBfRGVidWdTdGF0ZShub2RlSW5kZXgsIHRlbXBsYXRlQXN0KSk7XG4gICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHJlcykgPyByZXMgOiBvLk5VTExfRVhQUjtcbiAgICB9O1xuICAgIENvbXBpbGVNZXRob2QucHJvdG90eXBlLnJlc2V0RGVidWdJbmZvID0gZnVuY3Rpb24gKG5vZGVJbmRleCwgdGVtcGxhdGVBc3QpIHtcbiAgICAgICAgdGhpcy5fbmV3U3RhdGUgPSBuZXcgX0RlYnVnU3RhdGUobm9kZUluZGV4LCB0ZW1wbGF0ZUFzdCk7XG4gICAgfTtcbiAgICBDb21waWxlTWV0aG9kLnByb3RvdHlwZS5hZGRTdG10ID0gZnVuY3Rpb24gKHN0bXQpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlRGVidWdDb250ZXh0SWZOZWVkZWQoKTtcbiAgICAgICAgdGhpcy5fYm9keVN0YXRlbWVudHMucHVzaChzdG10KTtcbiAgICB9O1xuICAgIENvbXBpbGVNZXRob2QucHJvdG90eXBlLmFkZFN0bXRzID0gZnVuY3Rpb24gKHN0bXRzKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZURlYnVnQ29udGV4dElmTmVlZGVkKCk7XG4gICAgICAgIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5hZGRBbGwodGhpcy5fYm9keVN0YXRlbWVudHMsIHN0bXRzKTtcbiAgICB9O1xuICAgIENvbXBpbGVNZXRob2QucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2JvZHlTdGF0ZW1lbnRzOyB9O1xuICAgIENvbXBpbGVNZXRob2QucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9ib2R5U3RhdGVtZW50cy5sZW5ndGggPT09IDA7IH07XG4gICAgcmV0dXJuIENvbXBpbGVNZXRob2Q7XG59KCkpO1xuZXhwb3J0cy5Db21waWxlTWV0aG9kID0gQ29tcGlsZU1ldGhvZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBpbGVfbWV0aG9kLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uL2ZhY2FkZS9sYW5nJyk7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBvID0gcmVxdWlyZSgnLi4vb3V0cHV0L291dHB1dF9hc3QnKTtcbnZhciBpZGVudGlmaWVyc18xID0gcmVxdWlyZSgnLi4vaWRlbnRpZmllcnMnKTtcbnZhciB1dGlsXzEgPSByZXF1aXJlKCcuL3V0aWwnKTtcbnZhciBfUHVyZVBpcGVQcm94eSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gX1B1cmVQaXBlUHJveHkodmlldywgaW5zdGFuY2UsIGFyZ0NvdW50KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgdGhpcy5hcmdDb3VudCA9IGFyZ0NvdW50O1xuICAgIH1cbiAgICByZXR1cm4gX1B1cmVQaXBlUHJveHk7XG59KCkpO1xudmFyIENvbXBpbGVQaXBlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb21waWxlUGlwZSh2aWV3LCBtZXRhKSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMubWV0YSA9IG1ldGE7XG4gICAgICAgIHRoaXMuX3B1cmVQaXBlUHJveGllcyA9IFtdO1xuICAgICAgICB0aGlzLmluc3RhbmNlID0gby5USElTX0VYUFIucHJvcChcIl9waXBlX1wiICsgbWV0YS5uYW1lICsgXCJfXCIgKyB2aWV3LnBpcGVDb3VudCsrKTtcbiAgICB9XG4gICAgQ29tcGlsZVBpcGUuY2FsbCA9IGZ1bmN0aW9uICh2aWV3LCBuYW1lLCBhcmdzKSB7XG4gICAgICAgIHZhciBjb21wVmlldyA9IHZpZXcuY29tcG9uZW50VmlldztcbiAgICAgICAgdmFyIG1ldGEgPSBfZmluZFBpcGVNZXRhKGNvbXBWaWV3LCBuYW1lKTtcbiAgICAgICAgdmFyIHBpcGU7XG4gICAgICAgIGlmIChtZXRhLnB1cmUpIHtcbiAgICAgICAgICAgIC8vIHB1cmUgcGlwZXMgbGl2ZSBvbiB0aGUgY29tcG9uZW50IHZpZXdcbiAgICAgICAgICAgIHBpcGUgPSBjb21wVmlldy5wdXJlUGlwZXMuZ2V0KG5hbWUpO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHBpcGUpKSB7XG4gICAgICAgICAgICAgICAgcGlwZSA9IG5ldyBDb21waWxlUGlwZShjb21wVmlldywgbWV0YSk7XG4gICAgICAgICAgICAgICAgY29tcFZpZXcucHVyZVBpcGVzLnNldChuYW1lLCBwaXBlKTtcbiAgICAgICAgICAgICAgICBjb21wVmlldy5waXBlcy5wdXNoKHBpcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gTm9uIHB1cmUgcGlwZXMgbGl2ZSBvbiB0aGUgdmlldyB0aGF0IGNhbGxlZCBpdFxuICAgICAgICAgICAgcGlwZSA9IG5ldyBDb21waWxlUGlwZSh2aWV3LCBtZXRhKTtcbiAgICAgICAgICAgIHZpZXcucGlwZXMucHVzaChwaXBlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZS5fY2FsbCh2aWV3LCBhcmdzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21waWxlUGlwZS5wcm90b3R5cGUsIFwicHVyZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tZXRhLnB1cmU7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIENvbXBpbGVQaXBlLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBkZXBzID0gdGhpcy5tZXRhLnR5cGUuZGlEZXBzLm1hcChmdW5jdGlvbiAoZGlEZXApIHtcbiAgICAgICAgICAgIGlmIChkaURlcC50b2tlbi5lcXVhbHNUbyhpZGVudGlmaWVyc18xLmlkZW50aWZpZXJUb2tlbihpZGVudGlmaWVyc18xLklkZW50aWZpZXJzLkNoYW5nZURldGVjdG9yUmVmKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbF8xLmdldFByb3BlcnR5SW5WaWV3KG8uVEhJU19FWFBSLnByb3AoJ3JlZicpLCBfdGhpcy52aWV3LCBfdGhpcy52aWV3LmNvbXBvbmVudFZpZXcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHV0aWxfMS5pbmplY3RGcm9tVmlld1BhcmVudEluamVjdG9yKGRpRGVwLnRva2VuLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZpZXcuZmllbGRzLnB1c2gobmV3IG8uQ2xhc3NGaWVsZCh0aGlzLmluc3RhbmNlLm5hbWUsIG8uaW1wb3J0VHlwZSh0aGlzLm1ldGEudHlwZSkpKTtcbiAgICAgICAgdGhpcy52aWV3LmNyZWF0ZU1ldGhvZC5yZXNldERlYnVnSW5mbyhudWxsLCBudWxsKTtcbiAgICAgICAgdGhpcy52aWV3LmNyZWF0ZU1ldGhvZC5hZGRTdG10KG8uVEhJU19FWFBSLnByb3AodGhpcy5pbnN0YW5jZS5uYW1lKVxuICAgICAgICAgICAgLnNldChvLmltcG9ydEV4cHIodGhpcy5tZXRhLnR5cGUpLmluc3RhbnRpYXRlKGRlcHMpKVxuICAgICAgICAgICAgLnRvU3RtdCgpKTtcbiAgICAgICAgdGhpcy5fcHVyZVBpcGVQcm94aWVzLmZvckVhY2goZnVuY3Rpb24gKHB1cmVQaXBlUHJveHkpIHtcbiAgICAgICAgICAgIHZhciBwaXBlSW5zdGFuY2VTZWVuRnJvbVB1cmVQcm94eSA9IHV0aWxfMS5nZXRQcm9wZXJ0eUluVmlldyhfdGhpcy5pbnN0YW5jZSwgcHVyZVBpcGVQcm94eS52aWV3LCBfdGhpcy52aWV3KTtcbiAgICAgICAgICAgIHV0aWxfMS5jcmVhdGVQdXJlUHJveHkocGlwZUluc3RhbmNlU2VlbkZyb21QdXJlUHJveHkucHJvcCgndHJhbnNmb3JtJylcbiAgICAgICAgICAgICAgICAuY2FsbE1ldGhvZChvLkJ1aWx0aW5NZXRob2QuYmluZCwgW3BpcGVJbnN0YW5jZVNlZW5Gcm9tUHVyZVByb3h5XSksIHB1cmVQaXBlUHJveHkuYXJnQ291bnQsIHB1cmVQaXBlUHJveHkuaW5zdGFuY2UsIHB1cmVQaXBlUHJveHkudmlldyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQ29tcGlsZVBpcGUucHJvdG90eXBlLl9jYWxsID0gZnVuY3Rpb24gKGNhbGxpbmdWaWV3LCBhcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldGEucHVyZSkge1xuICAgICAgICAgICAgLy8gUHVyZVBpcGVQcm94aWVzIGxpdmUgb24gdGhlIHZpZXcgdGhhdCBjYWxsZWQgdGhlbS5cbiAgICAgICAgICAgIHZhciBwdXJlUGlwZVByb3h5ID0gbmV3IF9QdXJlUGlwZVByb3h5KGNhbGxpbmdWaWV3LCBvLlRISVNfRVhQUi5wcm9wKHRoaXMuaW5zdGFuY2UubmFtZSArIFwiX1wiICsgdGhpcy5fcHVyZVBpcGVQcm94aWVzLmxlbmd0aCksIGFyZ3MubGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMuX3B1cmVQaXBlUHJveGllcy5wdXNoKHB1cmVQaXBlUHJveHkpO1xuICAgICAgICAgICAgcmV0dXJuIG8uaW1wb3J0RXhwcihpZGVudGlmaWVyc18xLklkZW50aWZpZXJzLmNhc3RCeVZhbHVlKVxuICAgICAgICAgICAgICAgIC5jYWxsRm4oW1xuICAgICAgICAgICAgICAgIHB1cmVQaXBlUHJveHkuaW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgdXRpbF8xLmdldFByb3BlcnR5SW5WaWV3KHRoaXMuaW5zdGFuY2UucHJvcCgndHJhbnNmb3JtJyksIGNhbGxpbmdWaWV3LCB0aGlzLnZpZXcpXG4gICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgIC5jYWxsRm4oYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdXRpbF8xLmdldFByb3BlcnR5SW5WaWV3KHRoaXMuaW5zdGFuY2UsIGNhbGxpbmdWaWV3LCB0aGlzLnZpZXcpLmNhbGxNZXRob2QoJ3RyYW5zZm9ybScsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ29tcGlsZVBpcGU7XG59KCkpO1xuZXhwb3J0cy5Db21waWxlUGlwZSA9IENvbXBpbGVQaXBlO1xuZnVuY3Rpb24gX2ZpbmRQaXBlTWV0YSh2aWV3LCBuYW1lKSB7XG4gICAgdmFyIHBpcGVNZXRhID0gbnVsbDtcbiAgICBmb3IgKHZhciBpID0gdmlldy5waXBlTWV0YXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdmFyIGxvY2FsUGlwZU1ldGEgPSB2aWV3LnBpcGVNZXRhc1tpXTtcbiAgICAgICAgaWYgKGxvY2FsUGlwZU1ldGEubmFtZSA9PSBuYW1lKSB7XG4gICAgICAgICAgICBwaXBlTWV0YSA9IGxvY2FsUGlwZU1ldGE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobGFuZ18xLmlzQmxhbmsocGlwZU1ldGEpKSB7XG4gICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbihcIklsbGVnYWwgc3RhdGU6IENvdWxkIG5vdCBmaW5kIHBpcGUgXCIgKyBuYW1lICsgXCIgYWx0aG91Z2ggdGhlIHBhcnNlciBzaG91bGQgaGF2ZSBkZXRlY3RlZCB0aGlzIGVycm9yIVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHBpcGVNZXRhO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGlsZV9waXBlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIG8gPSByZXF1aXJlKCcuLi9vdXRwdXQvb3V0cHV0X2FzdCcpO1xudmFyIGlkZW50aWZpZXJzXzEgPSByZXF1aXJlKCcuLi9pZGVudGlmaWVycycpO1xudmFyIHV0aWxfMSA9IHJlcXVpcmUoJy4vdXRpbCcpO1xudmFyIFZpZXdRdWVyeVZhbHVlcyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlld1F1ZXJ5VmFsdWVzKHZpZXcsIHZhbHVlcykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlcztcbiAgICB9XG4gICAgcmV0dXJuIFZpZXdRdWVyeVZhbHVlcztcbn0oKSk7XG52YXIgQ29tcGlsZVF1ZXJ5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb21waWxlUXVlcnkobWV0YSwgcXVlcnlMaXN0LCBvd25lckRpcmVjdGl2ZUV4cHJlc3Npb24sIHZpZXcpIHtcbiAgICAgICAgdGhpcy5tZXRhID0gbWV0YTtcbiAgICAgICAgdGhpcy5xdWVyeUxpc3QgPSBxdWVyeUxpc3Q7XG4gICAgICAgIHRoaXMub3duZXJEaXJlY3RpdmVFeHByZXNzaW9uID0gb3duZXJEaXJlY3RpdmVFeHByZXNzaW9uO1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLl92YWx1ZXMgPSBuZXcgVmlld1F1ZXJ5VmFsdWVzKHZpZXcsIFtdKTtcbiAgICB9XG4gICAgQ29tcGlsZVF1ZXJ5LnByb3RvdHlwZS5hZGRWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgdmlldykge1xuICAgICAgICB2YXIgY3VycmVudFZpZXcgPSB2aWV3O1xuICAgICAgICB2YXIgZWxQYXRoID0gW107XG4gICAgICAgIHdoaWxlIChsYW5nXzEuaXNQcmVzZW50KGN1cnJlbnRWaWV3KSAmJiBjdXJyZW50VmlldyAhPT0gdGhpcy52aWV3KSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50RWwgPSBjdXJyZW50Vmlldy5kZWNsYXJhdGlvbkVsZW1lbnQ7XG4gICAgICAgICAgICBlbFBhdGgudW5zaGlmdChwYXJlbnRFbCk7XG4gICAgICAgICAgICBjdXJyZW50VmlldyA9IHBhcmVudEVsLnZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHF1ZXJ5TGlzdEZvckRpcnR5RXhwciA9IHV0aWxfMS5nZXRQcm9wZXJ0eUluVmlldyh0aGlzLnF1ZXJ5TGlzdCwgdmlldywgdGhpcy52aWV3KTtcbiAgICAgICAgdmFyIHZpZXdWYWx1ZXMgPSB0aGlzLl92YWx1ZXM7XG4gICAgICAgIGVsUGF0aC5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgdmFyIGxhc3QgPSB2aWV3VmFsdWVzLnZhbHVlcy5sZW5ndGggPiAwID8gdmlld1ZhbHVlcy52YWx1ZXNbdmlld1ZhbHVlcy52YWx1ZXMubGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgICAgICAgICAgaWYgKGxhc3QgaW5zdGFuY2VvZiBWaWV3UXVlcnlWYWx1ZXMgJiYgbGFzdC52aWV3ID09PSBlbC5lbWJlZGRlZFZpZXcpIHtcbiAgICAgICAgICAgICAgICB2aWV3VmFsdWVzID0gbGFzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBuZXdWaWV3VmFsdWVzID0gbmV3IFZpZXdRdWVyeVZhbHVlcyhlbC5lbWJlZGRlZFZpZXcsIFtdKTtcbiAgICAgICAgICAgICAgICB2aWV3VmFsdWVzLnZhbHVlcy5wdXNoKG5ld1ZpZXdWYWx1ZXMpO1xuICAgICAgICAgICAgICAgIHZpZXdWYWx1ZXMgPSBuZXdWaWV3VmFsdWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmlld1ZhbHVlcy52YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgIGlmIChlbFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmlldy5kaXJ0eVBhcmVudFF1ZXJpZXNNZXRob2QuYWRkU3RtdChxdWVyeUxpc3RGb3JEaXJ0eUV4cHIuY2FsbE1ldGhvZCgnc2V0RGlydHknLCBbXSkudG9TdG10KCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb21waWxlUXVlcnkucHJvdG90eXBlLmFmdGVyQ2hpbGRyZW4gPSBmdW5jdGlvbiAodGFyZ2V0TWV0aG9kKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBjcmVhdGVRdWVyeVZhbHVlcyh0aGlzLl92YWx1ZXMpO1xuICAgICAgICB2YXIgdXBkYXRlU3RtdHMgPSBbdGhpcy5xdWVyeUxpc3QuY2FsbE1ldGhvZCgncmVzZXQnLCBbby5saXRlcmFsQXJyKHZhbHVlcyldKS50b1N0bXQoKV07XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHRoaXMub3duZXJEaXJlY3RpdmVFeHByZXNzaW9uKSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlRXhwciA9IHRoaXMubWV0YS5maXJzdCA/IHRoaXMucXVlcnlMaXN0LnByb3AoJ2ZpcnN0JykgOiB0aGlzLnF1ZXJ5TGlzdDtcbiAgICAgICAgICAgIHVwZGF0ZVN0bXRzLnB1c2godGhpcy5vd25lckRpcmVjdGl2ZUV4cHJlc3Npb24ucHJvcCh0aGlzLm1ldGEucHJvcGVydHlOYW1lKS5zZXQodmFsdWVFeHByKS50b1N0bXQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLm1ldGEuZmlyc3QpIHtcbiAgICAgICAgICAgIHVwZGF0ZVN0bXRzLnB1c2godGhpcy5xdWVyeUxpc3QuY2FsbE1ldGhvZCgnbm90aWZ5T25DaGFuZ2VzJywgW10pLnRvU3RtdCgpKTtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXRNZXRob2QuYWRkU3RtdChuZXcgby5JZlN0bXQodGhpcy5xdWVyeUxpc3QucHJvcCgnZGlydHknKSwgdXBkYXRlU3RtdHMpKTtcbiAgICB9O1xuICAgIHJldHVybiBDb21waWxlUXVlcnk7XG59KCkpO1xuZXhwb3J0cy5Db21waWxlUXVlcnkgPSBDb21waWxlUXVlcnk7XG5mdW5jdGlvbiBjcmVhdGVRdWVyeVZhbHVlcyh2aWV3VmFsdWVzKSB7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5mbGF0dGVuKHZpZXdWYWx1ZXMudmFsdWVzLm1hcChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgaWYgKGVudHJ5IGluc3RhbmNlb2YgVmlld1F1ZXJ5VmFsdWVzKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFwTmVzdGVkVmlld3MoZW50cnkudmlldy5kZWNsYXJhdGlvbkVsZW1lbnQuYXBwRWxlbWVudCwgZW50cnkudmlldywgY3JlYXRlUXVlcnlWYWx1ZXMoZW50cnkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRyeTtcbiAgICAgICAgfVxuICAgIH0pKTtcbn1cbmZ1bmN0aW9uIG1hcE5lc3RlZFZpZXdzKGRlY2xhcmF0aW9uQXBwRWxlbWVudCwgdmlldywgZXhwcmVzc2lvbnMpIHtcbiAgICB2YXIgYWRqdXN0ZWRFeHByZXNzaW9ucyA9IGV4cHJlc3Npb25zLm1hcChmdW5jdGlvbiAoZXhwcikge1xuICAgICAgICByZXR1cm4gby5yZXBsYWNlVmFySW5FeHByZXNzaW9uKG8uVEhJU19FWFBSLm5hbWUsIG8udmFyaWFibGUoJ25lc3RlZFZpZXcnKSwgZXhwcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlY2xhcmF0aW9uQXBwRWxlbWVudC5jYWxsTWV0aG9kKCdtYXBOZXN0ZWRWaWV3cycsIFtcbiAgICAgICAgby52YXJpYWJsZSh2aWV3LmNsYXNzTmFtZSksXG4gICAgICAgIG8uZm4oW25ldyBvLkZuUGFyYW0oJ25lc3RlZFZpZXcnLCB2aWV3LmNsYXNzVHlwZSldLCBbbmV3IG8uUmV0dXJuU3RhdGVtZW50KG8ubGl0ZXJhbEFycihhZGp1c3RlZEV4cHJlc3Npb25zKSldKVxuICAgIF0pO1xufVxuZnVuY3Rpb24gY3JlYXRlUXVlcnlMaXN0KHF1ZXJ5LCBkaXJlY3RpdmVJbnN0YW5jZSwgcHJvcGVydHlOYW1lLCBjb21waWxlVmlldykge1xuICAgIGNvbXBpbGVWaWV3LmZpZWxkcy5wdXNoKG5ldyBvLkNsYXNzRmllbGQocHJvcGVydHlOYW1lLCBvLmltcG9ydFR5cGUoaWRlbnRpZmllcnNfMS5JZGVudGlmaWVycy5RdWVyeUxpc3QpKSk7XG4gICAgdmFyIGV4cHIgPSBvLlRISVNfRVhQUi5wcm9wKHByb3BlcnR5TmFtZSk7XG4gICAgY29tcGlsZVZpZXcuY3JlYXRlTWV0aG9kLmFkZFN0bXQoby5USElTX0VYUFIucHJvcChwcm9wZXJ0eU5hbWUpXG4gICAgICAgIC5zZXQoby5pbXBvcnRFeHByKGlkZW50aWZpZXJzXzEuSWRlbnRpZmllcnMuUXVlcnlMaXN0KS5pbnN0YW50aWF0ZShbXSkpXG4gICAgICAgIC50b1N0bXQoKSk7XG4gICAgcmV0dXJuIGV4cHI7XG59XG5leHBvcnRzLmNyZWF0ZVF1ZXJ5TGlzdCA9IGNyZWF0ZVF1ZXJ5TGlzdDtcbmZ1bmN0aW9uIGFkZFF1ZXJ5VG9Ub2tlbk1hcChtYXAsIHF1ZXJ5KSB7XG4gICAgcXVlcnkubWV0YS5zZWxlY3RvcnMuZm9yRWFjaChmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gbWFwLmdldChzZWxlY3Rvcik7XG4gICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhlbnRyeSkpIHtcbiAgICAgICAgICAgIGVudHJ5ID0gW107XG4gICAgICAgICAgICBtYXAuYWRkKHNlbGVjdG9yLCBlbnRyeSk7XG4gICAgICAgIH1cbiAgICAgICAgZW50cnkucHVzaChxdWVyeSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmFkZFF1ZXJ5VG9Ub2tlbk1hcCA9IGFkZFF1ZXJ5VG9Ub2tlbk1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBpbGVfcXVlcnkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29yZV9wcml2YXRlXzEgPSByZXF1aXJlKCcuLi8uLi9jb3JlX3ByaXZhdGUnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBvID0gcmVxdWlyZSgnLi4vb3V0cHV0L291dHB1dF9hc3QnKTtcbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoJy4vY29uc3RhbnRzJyk7XG52YXIgY29tcGlsZV9xdWVyeV8xID0gcmVxdWlyZSgnLi9jb21waWxlX3F1ZXJ5Jyk7XG52YXIgY29tcGlsZV9tZXRob2RfMSA9IHJlcXVpcmUoJy4vY29tcGlsZV9tZXRob2QnKTtcbnZhciBjb21waWxlX3BpcGVfMSA9IHJlcXVpcmUoJy4vY29tcGlsZV9waXBlJyk7XG52YXIgY29tcGlsZV9tZXRhZGF0YV8xID0gcmVxdWlyZSgnLi4vY29tcGlsZV9tZXRhZGF0YScpO1xudmFyIHV0aWxfMSA9IHJlcXVpcmUoJy4vdXRpbCcpO1xudmFyIGlkZW50aWZpZXJzXzEgPSByZXF1aXJlKCcuLi9pZGVudGlmaWVycycpO1xudmFyIENvbXBpbGVWaWV3ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb21waWxlVmlldyhjb21wb25lbnQsIGdlbkNvbmZpZywgcGlwZU1ldGFzLCBzdHlsZXMsIHZpZXdJbmRleCwgZGVjbGFyYXRpb25FbGVtZW50LCB0ZW1wbGF0ZVZhcmlhYmxlQmluZGluZ3MpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgICAgIHRoaXMuZ2VuQ29uZmlnID0gZ2VuQ29uZmlnO1xuICAgICAgICB0aGlzLnBpcGVNZXRhcyA9IHBpcGVNZXRhcztcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBzdHlsZXM7XG4gICAgICAgIHRoaXMudmlld0luZGV4ID0gdmlld0luZGV4O1xuICAgICAgICB0aGlzLmRlY2xhcmF0aW9uRWxlbWVudCA9IGRlY2xhcmF0aW9uRWxlbWVudDtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZVZhcmlhYmxlQmluZGluZ3MgPSB0ZW1wbGF0ZVZhcmlhYmxlQmluZGluZ3M7XG4gICAgICAgIHRoaXMubm9kZXMgPSBbXTtcbiAgICAgICAgLy8gcm9vdCBub2RlcyBvciBBcHBFbGVtZW50cyBmb3IgVmlld0NvbnRhaW5lcnNcbiAgICAgICAgdGhpcy5yb290Tm9kZXNPckFwcEVsZW1lbnRzID0gW107XG4gICAgICAgIHRoaXMuYmluZGluZ3MgPSBbXTtcbiAgICAgICAgdGhpcy5jbGFzc1N0YXRlbWVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJNZXRob2RzID0gW107XG4gICAgICAgIHRoaXMuZmllbGRzID0gW107XG4gICAgICAgIHRoaXMuZ2V0dGVycyA9IFtdO1xuICAgICAgICB0aGlzLmRpc3Bvc2FibGVzID0gW107XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLnB1cmVQaXBlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5waXBlcyA9IFtdO1xuICAgICAgICB0aGlzLmxvY2FscyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5saXRlcmFsQXJyYXlDb3VudCA9IDA7XG4gICAgICAgIHRoaXMubGl0ZXJhbE1hcENvdW50ID0gMDtcbiAgICAgICAgdGhpcy5waXBlQ291bnQgPSAwO1xuICAgICAgICB0aGlzLmNyZWF0ZU1ldGhvZCA9IG5ldyBjb21waWxlX21ldGhvZF8xLkNvbXBpbGVNZXRob2QodGhpcyk7XG4gICAgICAgIHRoaXMuaW5qZWN0b3JHZXRNZXRob2QgPSBuZXcgY29tcGlsZV9tZXRob2RfMS5Db21waWxlTWV0aG9kKHRoaXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbnRlbnRRdWVyaWVzTWV0aG9kID0gbmV3IGNvbXBpbGVfbWV0aG9kXzEuQ29tcGlsZU1ldGhvZCh0aGlzKTtcbiAgICAgICAgdGhpcy5kaXJ0eVBhcmVudFF1ZXJpZXNNZXRob2QgPSBuZXcgY29tcGlsZV9tZXRob2RfMS5Db21waWxlTWV0aG9kKHRoaXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZpZXdRdWVyaWVzTWV0aG9kID0gbmV3IGNvbXBpbGVfbWV0aG9kXzEuQ29tcGlsZU1ldGhvZCh0aGlzKTtcbiAgICAgICAgdGhpcy5kZXRlY3RDaGFuZ2VzSW5JbnB1dHNNZXRob2QgPSBuZXcgY29tcGlsZV9tZXRob2RfMS5Db21waWxlTWV0aG9kKHRoaXMpO1xuICAgICAgICB0aGlzLmRldGVjdENoYW5nZXNSZW5kZXJQcm9wZXJ0aWVzTWV0aG9kID0gbmV3IGNvbXBpbGVfbWV0aG9kXzEuQ29tcGlsZU1ldGhvZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hZnRlckNvbnRlbnRMaWZlY3ljbGVDYWxsYmFja3NNZXRob2QgPSBuZXcgY29tcGlsZV9tZXRob2RfMS5Db21waWxlTWV0aG9kKHRoaXMpO1xuICAgICAgICB0aGlzLmFmdGVyVmlld0xpZmVjeWNsZUNhbGxiYWNrc01ldGhvZCA9IG5ldyBjb21waWxlX21ldGhvZF8xLkNvbXBpbGVNZXRob2QodGhpcyk7XG4gICAgICAgIHRoaXMuZGVzdHJveU1ldGhvZCA9IG5ldyBjb21waWxlX21ldGhvZF8xLkNvbXBpbGVNZXRob2QodGhpcyk7XG4gICAgICAgIHRoaXMudmlld1R5cGUgPSBnZXRWaWV3VHlwZShjb21wb25lbnQsIHZpZXdJbmRleCk7XG4gICAgICAgIHRoaXMuY2xhc3NOYW1lID0gXCJfVmlld19cIiArIGNvbXBvbmVudC50eXBlLm5hbWUgKyB2aWV3SW5kZXg7XG4gICAgICAgIHRoaXMuY2xhc3NUeXBlID0gby5pbXBvcnRUeXBlKG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7IG5hbWU6IHRoaXMuY2xhc3NOYW1lIH0pKTtcbiAgICAgICAgdGhpcy52aWV3RmFjdG9yeSA9IG8udmFyaWFibGUodXRpbF8xLmdldFZpZXdGYWN0b3J5TmFtZShjb21wb25lbnQsIHZpZXdJbmRleCkpO1xuICAgICAgICBpZiAodGhpcy52aWV3VHlwZSA9PT0gY29yZV9wcml2YXRlXzEuVmlld1R5cGUuQ09NUE9ORU5UIHx8IHRoaXMudmlld1R5cGUgPT09IGNvcmVfcHJpdmF0ZV8xLlZpZXdUeXBlLkhPU1QpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50VmlldyA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudFZpZXcgPSB0aGlzLmRlY2xhcmF0aW9uRWxlbWVudC52aWV3LmNvbXBvbmVudFZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21wb25lbnRDb250ZXh0ID1cbiAgICAgICAgICAgIHV0aWxfMS5nZXRQcm9wZXJ0eUluVmlldyhvLlRISVNfRVhQUi5wcm9wKCdjb250ZXh0JyksIHRoaXMsIHRoaXMuY29tcG9uZW50Vmlldyk7XG4gICAgICAgIHZhciB2aWV3UXVlcmllcyA9IG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZVRva2VuTWFwKCk7XG4gICAgICAgIGlmICh0aGlzLnZpZXdUeXBlID09PSBjb3JlX3ByaXZhdGVfMS5WaWV3VHlwZS5DT01QT05FTlQpIHtcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmVJbnN0YW5jZSA9IG8uVEhJU19FWFBSLnByb3AoJ2NvbnRleHQnKTtcbiAgICAgICAgICAgIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5mb3JFYWNoV2l0aEluZGV4KHRoaXMuY29tcG9uZW50LnZpZXdRdWVyaWVzLCBmdW5jdGlvbiAocXVlcnlNZXRhLCBxdWVyeUluZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3BOYW1lID0gXCJfdmlld1F1ZXJ5X1wiICsgcXVlcnlNZXRhLnNlbGVjdG9yc1swXS5uYW1lICsgXCJfXCIgKyBxdWVyeUluZGV4O1xuICAgICAgICAgICAgICAgIHZhciBxdWVyeUxpc3QgPSBjb21waWxlX3F1ZXJ5XzEuY3JlYXRlUXVlcnlMaXN0KHF1ZXJ5TWV0YSwgZGlyZWN0aXZlSW5zdGFuY2UsIHByb3BOYW1lLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gbmV3IGNvbXBpbGVfcXVlcnlfMS5Db21waWxlUXVlcnkocXVlcnlNZXRhLCBxdWVyeUxpc3QsIGRpcmVjdGl2ZUluc3RhbmNlLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgY29tcGlsZV9xdWVyeV8xLmFkZFF1ZXJ5VG9Ub2tlbk1hcCh2aWV3UXVlcmllcywgcXVlcnkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgY29uc3RydWN0b3JWaWV3UXVlcnlDb3VudCA9IDA7XG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudC50eXBlLmRpRGVwcy5mb3JFYWNoKGZ1bmN0aW9uIChkZXApIHtcbiAgICAgICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChkZXAudmlld1F1ZXJ5KSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnlMaXN0ID0gby5USElTX0VYUFIucHJvcCgnZGVjbGFyYXRpb25BcHBFbGVtZW50JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5wcm9wKCdjb21wb25lbnRDb25zdHJ1Y3RvclZpZXdRdWVyaWVzJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5rZXkoby5saXRlcmFsKGNvbnN0cnVjdG9yVmlld1F1ZXJ5Q291bnQrKykpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnkgPSBuZXcgY29tcGlsZV9xdWVyeV8xLkNvbXBpbGVRdWVyeShkZXAudmlld1F1ZXJ5LCBxdWVyeUxpc3QsIG51bGwsIF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgY29tcGlsZV9xdWVyeV8xLmFkZFF1ZXJ5VG9Ub2tlbk1hcCh2aWV3UXVlcmllcywgcXVlcnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld1F1ZXJpZXMgPSB2aWV3UXVlcmllcztcbiAgICAgICAgdGVtcGxhdGVWYXJpYWJsZUJpbmRpbmdzLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7IF90aGlzLmxvY2Fscy5zZXQoZW50cnlbMV0sIG8uVEhJU19FWFBSLnByb3AoJ2NvbnRleHQnKS5wcm9wKGVudHJ5WzBdKSk7IH0pO1xuICAgICAgICBpZiAoIXRoaXMuZGVjbGFyYXRpb25FbGVtZW50LmlzTnVsbCgpKSB7XG4gICAgICAgICAgICB0aGlzLmRlY2xhcmF0aW9uRWxlbWVudC5zZXRFbWJlZGRlZFZpZXcodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQ29tcGlsZVZpZXcucHJvdG90eXBlLmNhbGxQaXBlID0gZnVuY3Rpb24gKG5hbWUsIGlucHV0LCBhcmdzKSB7XG4gICAgICAgIHJldHVybiBjb21waWxlX3BpcGVfMS5Db21waWxlUGlwZS5jYWxsKHRoaXMsIG5hbWUsIFtpbnB1dF0uY29uY2F0KGFyZ3MpKTtcbiAgICB9O1xuICAgIENvbXBpbGVWaWV3LnByb3RvdHlwZS5nZXRMb2NhbCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIGlmIChuYW1lID09IGNvbnN0YW50c18xLkV2ZW50SGFuZGxlclZhcnMuZXZlbnQubmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLkV2ZW50SGFuZGxlclZhcnMuZXZlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJWaWV3ID0gdGhpcztcbiAgICAgICAgdmFyIHJlc3VsdCA9IGN1cnJWaWV3LmxvY2Fscy5nZXQobmFtZSk7XG4gICAgICAgIHdoaWxlIChsYW5nXzEuaXNCbGFuayhyZXN1bHQpICYmIGxhbmdfMS5pc1ByZXNlbnQoY3VyclZpZXcuZGVjbGFyYXRpb25FbGVtZW50LnZpZXcpKSB7XG4gICAgICAgICAgICBjdXJyVmlldyA9IGN1cnJWaWV3LmRlY2xhcmF0aW9uRWxlbWVudC52aWV3O1xuICAgICAgICAgICAgcmVzdWx0ID0gY3VyclZpZXcubG9jYWxzLmdldChuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChyZXN1bHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdXRpbF8xLmdldFByb3BlcnR5SW5WaWV3KHJlc3VsdCwgdGhpcywgY3VyclZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbXBpbGVWaWV3LnByb3RvdHlwZS5jcmVhdGVMaXRlcmFsQXJyYXkgPSBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gby5pbXBvcnRFeHByKGlkZW50aWZpZXJzXzEuSWRlbnRpZmllcnMuRU1QVFlfQVJSQVkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm94eUV4cHIgPSBvLlRISVNfRVhQUi5wcm9wKFwiX2Fycl9cIiArIHRoaXMubGl0ZXJhbEFycmF5Q291bnQrKyk7XG4gICAgICAgIHZhciBwcm94eVBhcmFtcyA9IFtdO1xuICAgICAgICB2YXIgcHJveHlSZXR1cm5FbnRyaWVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1OYW1lID0gXCJwXCIgKyBpO1xuICAgICAgICAgICAgcHJveHlQYXJhbXMucHVzaChuZXcgby5GblBhcmFtKHBhcmFtTmFtZSkpO1xuICAgICAgICAgICAgcHJveHlSZXR1cm5FbnRyaWVzLnB1c2goby52YXJpYWJsZShwYXJhbU5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgICB1dGlsXzEuY3JlYXRlUHVyZVByb3h5KG8uZm4ocHJveHlQYXJhbXMsIFtuZXcgby5SZXR1cm5TdGF0ZW1lbnQoby5saXRlcmFsQXJyKHByb3h5UmV0dXJuRW50cmllcykpXSksIHZhbHVlcy5sZW5ndGgsIHByb3h5RXhwciwgdGhpcyk7XG4gICAgICAgIHJldHVybiBwcm94eUV4cHIuY2FsbEZuKHZhbHVlcyk7XG4gICAgfTtcbiAgICBDb21waWxlVmlldy5wcm90b3R5cGUuY3JlYXRlTGl0ZXJhbE1hcCA9IGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG8uaW1wb3J0RXhwcihpZGVudGlmaWVyc18xLklkZW50aWZpZXJzLkVNUFRZX01BUCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByb3h5RXhwciA9IG8uVEhJU19FWFBSLnByb3AoXCJfbWFwX1wiICsgdGhpcy5saXRlcmFsTWFwQ291bnQrKyk7XG4gICAgICAgIHZhciBwcm94eVBhcmFtcyA9IFtdO1xuICAgICAgICB2YXIgcHJveHlSZXR1cm5FbnRyaWVzID0gW107XG4gICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1OYW1lID0gXCJwXCIgKyBpO1xuICAgICAgICAgICAgcHJveHlQYXJhbXMucHVzaChuZXcgby5GblBhcmFtKHBhcmFtTmFtZSkpO1xuICAgICAgICAgICAgcHJveHlSZXR1cm5FbnRyaWVzLnB1c2goW2VudHJpZXNbaV1bMF0sIG8udmFyaWFibGUocGFyYW1OYW1lKV0pO1xuICAgICAgICAgICAgdmFsdWVzLnB1c2goZW50cmllc1tpXVsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgdXRpbF8xLmNyZWF0ZVB1cmVQcm94eShvLmZuKHByb3h5UGFyYW1zLCBbbmV3IG8uUmV0dXJuU3RhdGVtZW50KG8ubGl0ZXJhbE1hcChwcm94eVJldHVybkVudHJpZXMpKV0pLCBlbnRyaWVzLmxlbmd0aCwgcHJveHlFeHByLCB0aGlzKTtcbiAgICAgICAgcmV0dXJuIHByb3h5RXhwci5jYWxsRm4odmFsdWVzKTtcbiAgICB9O1xuICAgIENvbXBpbGVWaWV3LnByb3RvdHlwZS5hZnRlck5vZGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnBpcGVzLmZvckVhY2goZnVuY3Rpb24gKHBpcGUpIHsgcmV0dXJuIHBpcGUuY3JlYXRlKCk7IH0pO1xuICAgICAgICB0aGlzLnZpZXdRdWVyaWVzLnZhbHVlcygpLmZvckVhY2goZnVuY3Rpb24gKHF1ZXJpZXMpIHsgcmV0dXJuIHF1ZXJpZXMuZm9yRWFjaChmdW5jdGlvbiAocXVlcnkpIHsgcmV0dXJuIHF1ZXJ5LmFmdGVyQ2hpbGRyZW4oX3RoaXMudXBkYXRlVmlld1F1ZXJpZXNNZXRob2QpOyB9KTsgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29tcGlsZVZpZXc7XG59KCkpO1xuZXhwb3J0cy5Db21waWxlVmlldyA9IENvbXBpbGVWaWV3O1xuZnVuY3Rpb24gZ2V0Vmlld1R5cGUoY29tcG9uZW50LCBlbWJlZGRlZFRlbXBsYXRlSW5kZXgpIHtcbiAgICBpZiAoZW1iZWRkZWRUZW1wbGF0ZUluZGV4ID4gMCkge1xuICAgICAgICByZXR1cm4gY29yZV9wcml2YXRlXzEuVmlld1R5cGUuRU1CRURERUQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbXBvbmVudC50eXBlLmlzSG9zdCkge1xuICAgICAgICByZXR1cm4gY29yZV9wcml2YXRlXzEuVmlld1R5cGUuSE9TVDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBjb3JlX3ByaXZhdGVfMS5WaWV3VHlwZS5DT01QT05FTlQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGlsZV92aWV3LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBjb3JlX3ByaXZhdGVfMSA9IHJlcXVpcmUoJy4uLy4uL2NvcmVfcHJpdmF0ZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGNvbXBpbGVfbWV0YWRhdGFfMSA9IHJlcXVpcmUoJy4uL2NvbXBpbGVfbWV0YWRhdGEnKTtcbnZhciBvID0gcmVxdWlyZSgnLi4vb3V0cHV0L291dHB1dF9hc3QnKTtcbnZhciBpZGVudGlmaWVyc18xID0gcmVxdWlyZSgnLi4vaWRlbnRpZmllcnMnKTtcbmZ1bmN0aW9uIF9lbnVtRXhwcmVzc2lvbihjbGFzc0lkZW50aWZpZXIsIHZhbHVlKSB7XG4gICAgaWYgKGxhbmdfMS5pc0JsYW5rKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIG8uTlVMTF9FWFBSO1xuICAgIHZhciBuYW1lID0gbGFuZ18xLnJlc29sdmVFbnVtVG9rZW4oY2xhc3NJZGVudGlmaWVyLnJ1bnRpbWUsIHZhbHVlKTtcbiAgICByZXR1cm4gby5pbXBvcnRFeHByKG5ldyBjb21waWxlX21ldGFkYXRhXzEuQ29tcGlsZUlkZW50aWZpZXJNZXRhZGF0YSh7XG4gICAgICAgIG5hbWU6IGNsYXNzSWRlbnRpZmllci5uYW1lICsgXCIuXCIgKyBuYW1lLFxuICAgICAgICBtb2R1bGVVcmw6IGNsYXNzSWRlbnRpZmllci5tb2R1bGVVcmwsXG4gICAgICAgIHJ1bnRpbWU6IHZhbHVlXG4gICAgfSkpO1xufVxudmFyIFZpZXdUeXBlRW51bSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlld1R5cGVFbnVtKCkge1xuICAgIH1cbiAgICBWaWV3VHlwZUVudW0uZnJvbVZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBfZW51bUV4cHJlc3Npb24oaWRlbnRpZmllcnNfMS5JZGVudGlmaWVycy5WaWV3VHlwZSwgdmFsdWUpO1xuICAgIH07XG4gICAgVmlld1R5cGVFbnVtLkhPU1QgPSBWaWV3VHlwZUVudW0uZnJvbVZhbHVlKGNvcmVfcHJpdmF0ZV8xLlZpZXdUeXBlLkhPU1QpO1xuICAgIFZpZXdUeXBlRW51bS5DT01QT05FTlQgPSBWaWV3VHlwZUVudW0uZnJvbVZhbHVlKGNvcmVfcHJpdmF0ZV8xLlZpZXdUeXBlLkNPTVBPTkVOVCk7XG4gICAgVmlld1R5cGVFbnVtLkVNQkVEREVEID0gVmlld1R5cGVFbnVtLmZyb21WYWx1ZShjb3JlX3ByaXZhdGVfMS5WaWV3VHlwZS5FTUJFRERFRCk7XG4gICAgcmV0dXJuIFZpZXdUeXBlRW51bTtcbn0oKSk7XG5leHBvcnRzLlZpZXdUeXBlRW51bSA9IFZpZXdUeXBlRW51bTtcbnZhciBWaWV3RW5jYXBzdWxhdGlvbkVudW0gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZpZXdFbmNhcHN1bGF0aW9uRW51bSgpIHtcbiAgICB9XG4gICAgVmlld0VuY2Fwc3VsYXRpb25FbnVtLmZyb21WYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gX2VudW1FeHByZXNzaW9uKGlkZW50aWZpZXJzXzEuSWRlbnRpZmllcnMuVmlld0VuY2Fwc3VsYXRpb24sIHZhbHVlKTtcbiAgICB9O1xuICAgIFZpZXdFbmNhcHN1bGF0aW9uRW51bS5FbXVsYXRlZCA9IFZpZXdFbmNhcHN1bGF0aW9uRW51bS5mcm9tVmFsdWUoY29yZV8xLlZpZXdFbmNhcHN1bGF0aW9uLkVtdWxhdGVkKTtcbiAgICBWaWV3RW5jYXBzdWxhdGlvbkVudW0uTmF0aXZlID0gVmlld0VuY2Fwc3VsYXRpb25FbnVtLmZyb21WYWx1ZShjb3JlXzEuVmlld0VuY2Fwc3VsYXRpb24uTmF0aXZlKTtcbiAgICBWaWV3RW5jYXBzdWxhdGlvbkVudW0uTm9uZSA9IFZpZXdFbmNhcHN1bGF0aW9uRW51bS5mcm9tVmFsdWUoY29yZV8xLlZpZXdFbmNhcHN1bGF0aW9uLk5vbmUpO1xuICAgIHJldHVybiBWaWV3RW5jYXBzdWxhdGlvbkVudW07XG59KCkpO1xuZXhwb3J0cy5WaWV3RW5jYXBzdWxhdGlvbkVudW0gPSBWaWV3RW5jYXBzdWxhdGlvbkVudW07XG52YXIgQ2hhbmdlRGV0ZWN0b3JTdGF0ZUVudW0gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENoYW5nZURldGVjdG9yU3RhdGVFbnVtKCkge1xuICAgIH1cbiAgICBDaGFuZ2VEZXRlY3RvclN0YXRlRW51bS5mcm9tVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIF9lbnVtRXhwcmVzc2lvbihpZGVudGlmaWVyc18xLklkZW50aWZpZXJzLkNoYW5nZURldGVjdG9yU3RhdGUsIHZhbHVlKTtcbiAgICB9O1xuICAgIENoYW5nZURldGVjdG9yU3RhdGVFbnVtLk5ldmVyQ2hlY2tlZCA9IENoYW5nZURldGVjdG9yU3RhdGVFbnVtLmZyb21WYWx1ZShjb3JlX3ByaXZhdGVfMS5DaGFuZ2VEZXRlY3RvclN0YXRlLk5ldmVyQ2hlY2tlZCk7XG4gICAgQ2hhbmdlRGV0ZWN0b3JTdGF0ZUVudW0uQ2hlY2tlZEJlZm9yZSA9IENoYW5nZURldGVjdG9yU3RhdGVFbnVtLmZyb21WYWx1ZShjb3JlX3ByaXZhdGVfMS5DaGFuZ2VEZXRlY3RvclN0YXRlLkNoZWNrZWRCZWZvcmUpO1xuICAgIENoYW5nZURldGVjdG9yU3RhdGVFbnVtLkVycm9yZWQgPSBDaGFuZ2VEZXRlY3RvclN0YXRlRW51bS5mcm9tVmFsdWUoY29yZV9wcml2YXRlXzEuQ2hhbmdlRGV0ZWN0b3JTdGF0ZS5FcnJvcmVkKTtcbiAgICByZXR1cm4gQ2hhbmdlRGV0ZWN0b3JTdGF0ZUVudW07XG59KCkpO1xuZXhwb3J0cy5DaGFuZ2VEZXRlY3RvclN0YXRlRW51bSA9IENoYW5nZURldGVjdG9yU3RhdGVFbnVtO1xudmFyIENoYW5nZURldGVjdGlvblN0cmF0ZWd5RW51bSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lFbnVtKCkge1xuICAgIH1cbiAgICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneUVudW0uZnJvbVZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBfZW51bUV4cHJlc3Npb24oaWRlbnRpZmllcnNfMS5JZGVudGlmaWVycy5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgdmFsdWUpO1xuICAgIH07XG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lFbnVtLkNoZWNrT25jZSA9IENoYW5nZURldGVjdGlvblN0cmF0ZWd5RW51bS5mcm9tVmFsdWUoY29yZV8xLkNoYW5nZURldGVjdGlvblN0cmF0ZWd5LkNoZWNrT25jZSk7XG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lFbnVtLkNoZWNrZWQgPSBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneUVudW0uZnJvbVZhbHVlKGNvcmVfMS5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5DaGVja2VkKTtcbiAgICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneUVudW0uQ2hlY2tBbHdheXMgPSBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneUVudW0uZnJvbVZhbHVlKGNvcmVfMS5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5DaGVja0Fsd2F5cyk7XG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lFbnVtLkRldGFjaGVkID0gQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lFbnVtLmZyb21WYWx1ZShjb3JlXzEuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuRGV0YWNoZWQpO1xuICAgIENoYW5nZURldGVjdGlvblN0cmF0ZWd5RW51bS5PblB1c2ggPSBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneUVudW0uZnJvbVZhbHVlKGNvcmVfMS5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gpO1xuICAgIENoYW5nZURldGVjdGlvblN0cmF0ZWd5RW51bS5EZWZhdWx0ID0gQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lFbnVtLmZyb21WYWx1ZShjb3JlXzEuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuRGVmYXVsdCk7XG4gICAgcmV0dXJuIENoYW5nZURldGVjdGlvblN0cmF0ZWd5RW51bTtcbn0oKSk7XG5leHBvcnRzLkNoYW5nZURldGVjdGlvblN0cmF0ZWd5RW51bSA9IENoYW5nZURldGVjdGlvblN0cmF0ZWd5RW51bTtcbnZhciBWaWV3Q29uc3RydWN0b3JWYXJzID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWaWV3Q29uc3RydWN0b3JWYXJzKCkge1xuICAgIH1cbiAgICBWaWV3Q29uc3RydWN0b3JWYXJzLnZpZXdVdGlscyA9IG8udmFyaWFibGUoJ3ZpZXdVdGlscycpO1xuICAgIFZpZXdDb25zdHJ1Y3RvclZhcnMucGFyZW50SW5qZWN0b3IgPSBvLnZhcmlhYmxlKCdwYXJlbnRJbmplY3RvcicpO1xuICAgIFZpZXdDb25zdHJ1Y3RvclZhcnMuZGVjbGFyYXRpb25FbCA9IG8udmFyaWFibGUoJ2RlY2xhcmF0aW9uRWwnKTtcbiAgICByZXR1cm4gVmlld0NvbnN0cnVjdG9yVmFycztcbn0oKSk7XG5leHBvcnRzLlZpZXdDb25zdHJ1Y3RvclZhcnMgPSBWaWV3Q29uc3RydWN0b3JWYXJzO1xudmFyIFZpZXdQcm9wZXJ0aWVzID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWaWV3UHJvcGVydGllcygpIHtcbiAgICB9XG4gICAgVmlld1Byb3BlcnRpZXMucmVuZGVyZXIgPSBvLlRISVNfRVhQUi5wcm9wKCdyZW5kZXJlcicpO1xuICAgIFZpZXdQcm9wZXJ0aWVzLnByb2plY3RhYmxlTm9kZXMgPSBvLlRISVNfRVhQUi5wcm9wKCdwcm9qZWN0YWJsZU5vZGVzJyk7XG4gICAgVmlld1Byb3BlcnRpZXMudmlld1V0aWxzID0gby5USElTX0VYUFIucHJvcCgndmlld1V0aWxzJyk7XG4gICAgcmV0dXJuIFZpZXdQcm9wZXJ0aWVzO1xufSgpKTtcbmV4cG9ydHMuVmlld1Byb3BlcnRpZXMgPSBWaWV3UHJvcGVydGllcztcbnZhciBFdmVudEhhbmRsZXJWYXJzID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFdmVudEhhbmRsZXJWYXJzKCkge1xuICAgIH1cbiAgICBFdmVudEhhbmRsZXJWYXJzLmV2ZW50ID0gby52YXJpYWJsZSgnJGV2ZW50Jyk7XG4gICAgcmV0dXJuIEV2ZW50SGFuZGxlclZhcnM7XG59KCkpO1xuZXhwb3J0cy5FdmVudEhhbmRsZXJWYXJzID0gRXZlbnRIYW5kbGVyVmFycztcbnZhciBJbmplY3RNZXRob2RWYXJzID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbmplY3RNZXRob2RWYXJzKCkge1xuICAgIH1cbiAgICBJbmplY3RNZXRob2RWYXJzLnRva2VuID0gby52YXJpYWJsZSgndG9rZW4nKTtcbiAgICBJbmplY3RNZXRob2RWYXJzLnJlcXVlc3ROb2RlSW5kZXggPSBvLnZhcmlhYmxlKCdyZXF1ZXN0Tm9kZUluZGV4Jyk7XG4gICAgSW5qZWN0TWV0aG9kVmFycy5ub3RGb3VuZFJlc3VsdCA9IG8udmFyaWFibGUoJ25vdEZvdW5kUmVzdWx0Jyk7XG4gICAgcmV0dXJuIEluamVjdE1ldGhvZFZhcnM7XG59KCkpO1xuZXhwb3J0cy5JbmplY3RNZXRob2RWYXJzID0gSW5qZWN0TWV0aG9kVmFycztcbnZhciBEZXRlY3RDaGFuZ2VzVmFycyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGV0ZWN0Q2hhbmdlc1ZhcnMoKSB7XG4gICAgfVxuICAgIERldGVjdENoYW5nZXNWYXJzLnRocm93T25DaGFuZ2UgPSBvLnZhcmlhYmxlKFwidGhyb3dPbkNoYW5nZVwiKTtcbiAgICBEZXRlY3RDaGFuZ2VzVmFycy5jaGFuZ2VzID0gby52YXJpYWJsZShcImNoYW5nZXNcIik7XG4gICAgRGV0ZWN0Q2hhbmdlc1ZhcnMuY2hhbmdlZCA9IG8udmFyaWFibGUoXCJjaGFuZ2VkXCIpO1xuICAgIERldGVjdENoYW5nZXNWYXJzLnZhbFVud3JhcHBlciA9IG8udmFyaWFibGUoXCJ2YWxVbndyYXBwZXJcIik7XG4gICAgcmV0dXJuIERldGVjdENoYW5nZXNWYXJzO1xufSgpKTtcbmV4cG9ydHMuRGV0ZWN0Q2hhbmdlc1ZhcnMgPSBEZXRlY3RDaGFuZ2VzVmFycztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoJy4vY29uc3RhbnRzJyk7XG52YXIgbyA9IHJlcXVpcmUoJy4uL291dHB1dC9vdXRwdXRfYXN0Jyk7XG52YXIgY29tcGlsZV9tZXRob2RfMSA9IHJlcXVpcmUoJy4vY29tcGlsZV9tZXRob2QnKTtcbnZhciBleHByZXNzaW9uX2NvbnZlcnRlcl8xID0gcmVxdWlyZSgnLi9leHByZXNzaW9uX2NvbnZlcnRlcicpO1xudmFyIGNvbXBpbGVfYmluZGluZ18xID0gcmVxdWlyZSgnLi9jb21waWxlX2JpbmRpbmcnKTtcbnZhciBDb21waWxlRXZlbnRMaXN0ZW5lciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tcGlsZUV2ZW50TGlzdGVuZXIoY29tcGlsZUVsZW1lbnQsIGV2ZW50VGFyZ2V0LCBldmVudE5hbWUsIGxpc3RlbmVySW5kZXgpIHtcbiAgICAgICAgdGhpcy5jb21waWxlRWxlbWVudCA9IGNvbXBpbGVFbGVtZW50O1xuICAgICAgICB0aGlzLmV2ZW50VGFyZ2V0ID0gZXZlbnRUYXJnZXQ7XG4gICAgICAgIHRoaXMuZXZlbnROYW1lID0gZXZlbnROYW1lO1xuICAgICAgICB0aGlzLl9oYXNDb21wb25lbnRIb3N0TGlzdGVuZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYWN0aW9uUmVzdWx0RXhwcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fbWV0aG9kID0gbmV3IGNvbXBpbGVfbWV0aG9kXzEuQ29tcGlsZU1ldGhvZChjb21waWxlRWxlbWVudC52aWV3KTtcbiAgICAgICAgdGhpcy5fbWV0aG9kTmFtZSA9XG4gICAgICAgICAgICBcIl9oYW5kbGVfXCIgKyBzYW50aXRpemVFdmVudE5hbWUoZXZlbnROYW1lKSArIFwiX1wiICsgY29tcGlsZUVsZW1lbnQubm9kZUluZGV4ICsgXCJfXCIgKyBsaXN0ZW5lckluZGV4O1xuICAgICAgICB0aGlzLl9ldmVudFBhcmFtID1cbiAgICAgICAgICAgIG5ldyBvLkZuUGFyYW0oY29uc3RhbnRzXzEuRXZlbnRIYW5kbGVyVmFycy5ldmVudC5uYW1lLCBvLmltcG9ydFR5cGUodGhpcy5jb21waWxlRWxlbWVudC52aWV3LmdlbkNvbmZpZy5yZW5kZXJUeXBlcy5yZW5kZXJFdmVudCkpO1xuICAgIH1cbiAgICBDb21waWxlRXZlbnRMaXN0ZW5lci5nZXRPckNyZWF0ZSA9IGZ1bmN0aW9uIChjb21waWxlRWxlbWVudCwgZXZlbnRUYXJnZXQsIGV2ZW50TmFtZSwgdGFyZ2V0RXZlbnRMaXN0ZW5lcnMpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVyID0gdGFyZ2V0RXZlbnRMaXN0ZW5lcnMuZmluZChmdW5jdGlvbiAobGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyLmV2ZW50VGFyZ2V0ID09IGV2ZW50VGFyZ2V0ICYmXG4gICAgICAgICAgICBsaXN0ZW5lci5ldmVudE5hbWUgPT0gZXZlbnROYW1lOyB9KTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKGxpc3RlbmVyKSkge1xuICAgICAgICAgICAgbGlzdGVuZXIgPSBuZXcgQ29tcGlsZUV2ZW50TGlzdGVuZXIoY29tcGlsZUVsZW1lbnQsIGV2ZW50VGFyZ2V0LCBldmVudE5hbWUsIHRhcmdldEV2ZW50TGlzdGVuZXJzLmxlbmd0aCk7XG4gICAgICAgICAgICB0YXJnZXRFdmVudExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdGVuZXI7XG4gICAgfTtcbiAgICBDb21waWxlRXZlbnRMaXN0ZW5lci5wcm90b3R5cGUuYWRkQWN0aW9uID0gZnVuY3Rpb24gKGhvc3RFdmVudCwgZGlyZWN0aXZlLCBkaXJlY3RpdmVJbnN0YW5jZSkge1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChkaXJlY3RpdmUpICYmIGRpcmVjdGl2ZS5pc0NvbXBvbmVudCkge1xuICAgICAgICAgICAgdGhpcy5faGFzQ29tcG9uZW50SG9zdExpc3RlbmVyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tZXRob2QucmVzZXREZWJ1Z0luZm8odGhpcy5jb21waWxlRWxlbWVudC5ub2RlSW5kZXgsIGhvc3RFdmVudCk7XG4gICAgICAgIHZhciBjb250ZXh0ID0gbGFuZ18xLmlzUHJlc2VudChkaXJlY3RpdmVJbnN0YW5jZSkgPyBkaXJlY3RpdmVJbnN0YW5jZSA6XG4gICAgICAgICAgICB0aGlzLmNvbXBpbGVFbGVtZW50LnZpZXcuY29tcG9uZW50Q29udGV4dDtcbiAgICAgICAgdmFyIGFjdGlvblN0bXRzID0gZXhwcmVzc2lvbl9jb252ZXJ0ZXJfMS5jb252ZXJ0Q2RTdGF0ZW1lbnRUb0lyKHRoaXMuY29tcGlsZUVsZW1lbnQudmlldywgY29udGV4dCwgaG9zdEV2ZW50LmhhbmRsZXIpO1xuICAgICAgICB2YXIgbGFzdEluZGV4ID0gYWN0aW9uU3RtdHMubGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKGxhc3RJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICB2YXIgbGFzdFN0YXRlbWVudCA9IGFjdGlvblN0bXRzW2xhc3RJbmRleF07XG4gICAgICAgICAgICB2YXIgcmV0dXJuRXhwciA9IGNvbnZlcnRTdG10SW50b0V4cHJlc3Npb24obGFzdFN0YXRlbWVudCk7XG4gICAgICAgICAgICB2YXIgcHJldmVudERlZmF1bHRWYXIgPSBvLnZhcmlhYmxlKFwicGRfXCIgKyB0aGlzLl9hY3Rpb25SZXN1bHRFeHBycy5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5fYWN0aW9uUmVzdWx0RXhwcnMucHVzaChwcmV2ZW50RGVmYXVsdFZhcik7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChyZXR1cm5FeHByKSkge1xuICAgICAgICAgICAgICAgIC8vIE5vdGU6IFdlIG5lZWQgdG8gY2FzdCB0aGUgcmVzdWx0IG9mIHRoZSBtZXRob2QgY2FsbCB0byBkeW5hbWljLFxuICAgICAgICAgICAgICAgIC8vIGFzIGl0IG1pZ2h0IGJlIGEgdm9pZCBtZXRob2QhXG4gICAgICAgICAgICAgICAgYWN0aW9uU3RtdHNbbGFzdEluZGV4XSA9XG4gICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0VmFyLnNldChyZXR1cm5FeHByLmNhc3Qoby5EWU5BTUlDX1RZUEUpLm5vdElkZW50aWNhbChvLmxpdGVyYWwoZmFsc2UpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50b0RlY2xTdG10KG51bGwsIFtvLlN0bXRNb2RpZmllci5GaW5hbF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21ldGhvZC5hZGRTdG10cyhhY3Rpb25TdG10cyk7XG4gICAgfTtcbiAgICBDb21waWxlRXZlbnRMaXN0ZW5lci5wcm90b3R5cGUuZmluaXNoTWV0aG9kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWFya1BhdGhUb1Jvb3RTdGFydCA9IHRoaXMuX2hhc0NvbXBvbmVudEhvc3RMaXN0ZW5lciA/XG4gICAgICAgICAgICB0aGlzLmNvbXBpbGVFbGVtZW50LmFwcEVsZW1lbnQucHJvcCgnY29tcG9uZW50VmlldycpIDpcbiAgICAgICAgICAgIG8uVEhJU19FWFBSO1xuICAgICAgICB2YXIgcmVzdWx0RXhwciA9IG8ubGl0ZXJhbCh0cnVlKTtcbiAgICAgICAgdGhpcy5fYWN0aW9uUmVzdWx0RXhwcnMuZm9yRWFjaChmdW5jdGlvbiAoZXhwcikgeyByZXN1bHRFeHByID0gcmVzdWx0RXhwci5hbmQoZXhwcik7IH0pO1xuICAgICAgICB2YXIgc3RtdHMgPSBbbWFya1BhdGhUb1Jvb3RTdGFydC5jYWxsTWV0aG9kKCdtYXJrUGF0aFRvUm9vdEFzQ2hlY2tPbmNlJywgW10pLnRvU3RtdCgpXVxuICAgICAgICAgICAgLmNvbmNhdCh0aGlzLl9tZXRob2QuZmluaXNoKCkpXG4gICAgICAgICAgICAuY29uY2F0KFtuZXcgby5SZXR1cm5TdGF0ZW1lbnQocmVzdWx0RXhwcildKTtcbiAgICAgICAgLy8gcHJpdmF0ZSBpcyBmaW5lIGhlcmUgYXMgbm8gY2hpbGQgdmlldyB3aWxsIHJlZmVyZW5jZSB0aGUgZXZlbnQgaGFuZGxlci4uLlxuICAgICAgICB0aGlzLmNvbXBpbGVFbGVtZW50LnZpZXcuZXZlbnRIYW5kbGVyTWV0aG9kcy5wdXNoKG5ldyBvLkNsYXNzTWV0aG9kKHRoaXMuX21ldGhvZE5hbWUsIFt0aGlzLl9ldmVudFBhcmFtXSwgc3RtdHMsIG8uQk9PTF9UWVBFLCBbby5TdG10TW9kaWZpZXIuUHJpdmF0ZV0pKTtcbiAgICB9O1xuICAgIENvbXBpbGVFdmVudExpc3RlbmVyLnByb3RvdHlwZS5saXN0ZW5Ub1JlbmRlcmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGlzdGVuRXhwcjtcbiAgICAgICAgdmFyIGV2ZW50TGlzdGVuZXIgPSBvLlRISVNfRVhQUi5jYWxsTWV0aG9kKCdldmVudEhhbmRsZXInLCBbby5USElTX0VYUFIucHJvcCh0aGlzLl9tZXRob2ROYW1lKS5jYWxsTWV0aG9kKG8uQnVpbHRpbk1ldGhvZC5iaW5kLCBbby5USElTX0VYUFJdKV0pO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLmV2ZW50VGFyZ2V0KSkge1xuICAgICAgICAgICAgbGlzdGVuRXhwciA9IGNvbnN0YW50c18xLlZpZXdQcm9wZXJ0aWVzLnJlbmRlcmVyLmNhbGxNZXRob2QoJ2xpc3Rlbkdsb2JhbCcsIFtvLmxpdGVyYWwodGhpcy5ldmVudFRhcmdldCksIG8ubGl0ZXJhbCh0aGlzLmV2ZW50TmFtZSksIGV2ZW50TGlzdGVuZXJdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxpc3RlbkV4cHIgPSBjb25zdGFudHNfMS5WaWV3UHJvcGVydGllcy5yZW5kZXJlci5jYWxsTWV0aG9kKCdsaXN0ZW4nLCBbdGhpcy5jb21waWxlRWxlbWVudC5yZW5kZXJOb2RlLCBvLmxpdGVyYWwodGhpcy5ldmVudE5hbWUpLCBldmVudExpc3RlbmVyXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRpc3Bvc2FibGUgPSBvLnZhcmlhYmxlKFwiZGlzcG9zYWJsZV9cIiArIHRoaXMuY29tcGlsZUVsZW1lbnQudmlldy5kaXNwb3NhYmxlcy5sZW5ndGgpO1xuICAgICAgICB0aGlzLmNvbXBpbGVFbGVtZW50LnZpZXcuZGlzcG9zYWJsZXMucHVzaChkaXNwb3NhYmxlKTtcbiAgICAgICAgLy8gcHJpdmF0ZSBpcyBmaW5lIGhlcmUgYXMgbm8gY2hpbGQgdmlldyB3aWxsIHJlZmVyZW5jZSB0aGUgZXZlbnQgaGFuZGxlci4uLlxuICAgICAgICB0aGlzLmNvbXBpbGVFbGVtZW50LnZpZXcuY3JlYXRlTWV0aG9kLmFkZFN0bXQoZGlzcG9zYWJsZS5zZXQobGlzdGVuRXhwcikudG9EZWNsU3RtdChvLkZVTkNUSU9OX1RZUEUsIFtvLlN0bXRNb2RpZmllci5Qcml2YXRlXSkpO1xuICAgIH07XG4gICAgQ29tcGlsZUV2ZW50TGlzdGVuZXIucHJvdG90eXBlLmxpc3RlblRvRGlyZWN0aXZlID0gZnVuY3Rpb24gKGRpcmVjdGl2ZUluc3RhbmNlLCBvYnNlcnZhYmxlUHJvcE5hbWUpIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IG8udmFyaWFibGUoXCJzdWJzY3JpcHRpb25fXCIgKyB0aGlzLmNvbXBpbGVFbGVtZW50LnZpZXcuc3Vic2NyaXB0aW9ucy5sZW5ndGgpO1xuICAgICAgICB0aGlzLmNvbXBpbGVFbGVtZW50LnZpZXcuc3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gICAgICAgIHZhciBldmVudExpc3RlbmVyID0gby5USElTX0VYUFIuY2FsbE1ldGhvZCgnZXZlbnRIYW5kbGVyJywgW28uVEhJU19FWFBSLnByb3AodGhpcy5fbWV0aG9kTmFtZSkuY2FsbE1ldGhvZChvLkJ1aWx0aW5NZXRob2QuYmluZCwgW28uVEhJU19FWFBSXSldKTtcbiAgICAgICAgdGhpcy5jb21waWxlRWxlbWVudC52aWV3LmNyZWF0ZU1ldGhvZC5hZGRTdG10KHN1YnNjcmlwdGlvbi5zZXQoZGlyZWN0aXZlSW5zdGFuY2UucHJvcChvYnNlcnZhYmxlUHJvcE5hbWUpXG4gICAgICAgICAgICAuY2FsbE1ldGhvZChvLkJ1aWx0aW5NZXRob2QuU3Vic2NyaWJlT2JzZXJ2YWJsZSwgW2V2ZW50TGlzdGVuZXJdKSlcbiAgICAgICAgICAgIC50b0RlY2xTdG10KG51bGwsIFtvLlN0bXRNb2RpZmllci5GaW5hbF0pKTtcbiAgICB9O1xuICAgIHJldHVybiBDb21waWxlRXZlbnRMaXN0ZW5lcjtcbn0oKSk7XG5leHBvcnRzLkNvbXBpbGVFdmVudExpc3RlbmVyID0gQ29tcGlsZUV2ZW50TGlzdGVuZXI7XG5mdW5jdGlvbiBjb2xsZWN0RXZlbnRMaXN0ZW5lcnMoaG9zdEV2ZW50cywgZGlycywgY29tcGlsZUVsZW1lbnQpIHtcbiAgICB2YXIgZXZlbnRMaXN0ZW5lcnMgPSBbXTtcbiAgICBob3N0RXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGhvc3RFdmVudCkge1xuICAgICAgICBjb21waWxlRWxlbWVudC52aWV3LmJpbmRpbmdzLnB1c2gobmV3IGNvbXBpbGVfYmluZGluZ18xLkNvbXBpbGVCaW5kaW5nKGNvbXBpbGVFbGVtZW50LCBob3N0RXZlbnQpKTtcbiAgICAgICAgdmFyIGxpc3RlbmVyID0gQ29tcGlsZUV2ZW50TGlzdGVuZXIuZ2V0T3JDcmVhdGUoY29tcGlsZUVsZW1lbnQsIGhvc3RFdmVudC50YXJnZXQsIGhvc3RFdmVudC5uYW1lLCBldmVudExpc3RlbmVycyk7XG4gICAgICAgIGxpc3RlbmVyLmFkZEFjdGlvbihob3N0RXZlbnQsIG51bGwsIG51bGwpO1xuICAgIH0pO1xuICAgIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5mb3JFYWNoV2l0aEluZGV4KGRpcnMsIGZ1bmN0aW9uIChkaXJlY3RpdmVBc3QsIGkpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZUluc3RhbmNlID0gY29tcGlsZUVsZW1lbnQuZGlyZWN0aXZlSW5zdGFuY2VzW2ldO1xuICAgICAgICBkaXJlY3RpdmVBc3QuaG9zdEV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChob3N0RXZlbnQpIHtcbiAgICAgICAgICAgIGNvbXBpbGVFbGVtZW50LnZpZXcuYmluZGluZ3MucHVzaChuZXcgY29tcGlsZV9iaW5kaW5nXzEuQ29tcGlsZUJpbmRpbmcoY29tcGlsZUVsZW1lbnQsIGhvc3RFdmVudCkpO1xuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gQ29tcGlsZUV2ZW50TGlzdGVuZXIuZ2V0T3JDcmVhdGUoY29tcGlsZUVsZW1lbnQsIGhvc3RFdmVudC50YXJnZXQsIGhvc3RFdmVudC5uYW1lLCBldmVudExpc3RlbmVycyk7XG4gICAgICAgICAgICBsaXN0ZW5lci5hZGRBY3Rpb24oaG9zdEV2ZW50LCBkaXJlY3RpdmVBc3QuZGlyZWN0aXZlLCBkaXJlY3RpdmVJbnN0YW5jZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGV2ZW50TGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7IHJldHVybiBsaXN0ZW5lci5maW5pc2hNZXRob2QoKTsgfSk7XG4gICAgcmV0dXJuIGV2ZW50TGlzdGVuZXJzO1xufVxuZXhwb3J0cy5jb2xsZWN0RXZlbnRMaXN0ZW5lcnMgPSBjb2xsZWN0RXZlbnRMaXN0ZW5lcnM7XG5mdW5jdGlvbiBiaW5kRGlyZWN0aXZlT3V0cHV0cyhkaXJlY3RpdmVBc3QsIGRpcmVjdGl2ZUluc3RhbmNlLCBldmVudExpc3RlbmVycykge1xuICAgIGNvbGxlY3Rpb25fMS5TdHJpbmdNYXBXcmFwcGVyLmZvckVhY2goZGlyZWN0aXZlQXN0LmRpcmVjdGl2ZS5vdXRwdXRzLCBmdW5jdGlvbiAoZXZlbnROYW1lLCBvYnNlcnZhYmxlUHJvcE5hbWUpIHtcbiAgICAgICAgZXZlbnRMaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChsaXN0ZW5lcikgeyByZXR1cm4gbGlzdGVuZXIuZXZlbnROYW1lID09IGV2ZW50TmFtZTsgfSlcbiAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikgeyBsaXN0ZW5lci5saXN0ZW5Ub0RpcmVjdGl2ZShkaXJlY3RpdmVJbnN0YW5jZSwgb2JzZXJ2YWJsZVByb3BOYW1lKTsgfSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmJpbmREaXJlY3RpdmVPdXRwdXRzID0gYmluZERpcmVjdGl2ZU91dHB1dHM7XG5mdW5jdGlvbiBiaW5kUmVuZGVyT3V0cHV0cyhldmVudExpc3RlbmVycykge1xuICAgIGV2ZW50TGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7IHJldHVybiBsaXN0ZW5lci5saXN0ZW5Ub1JlbmRlcmVyKCk7IH0pO1xufVxuZXhwb3J0cy5iaW5kUmVuZGVyT3V0cHV0cyA9IGJpbmRSZW5kZXJPdXRwdXRzO1xuZnVuY3Rpb24gY29udmVydFN0bXRJbnRvRXhwcmVzc2lvbihzdG10KSB7XG4gICAgaWYgKHN0bXQgaW5zdGFuY2VvZiBvLkV4cHJlc3Npb25TdGF0ZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHN0bXQuZXhwcjtcbiAgICB9XG4gICAgZWxzZSBpZiAoc3RtdCBpbnN0YW5jZW9mIG8uUmV0dXJuU3RhdGVtZW50KSB7XG4gICAgICAgIHJldHVybiBzdG10LnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIHNhbnRpdGl6ZUV2ZW50TmFtZShuYW1lKSB7XG4gICAgcmV0dXJuIGxhbmdfMS5TdHJpbmdXcmFwcGVyLnJlcGxhY2VBbGwobmFtZSwgL1teYS16QS1aX10vZywgJ18nKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50X2JpbmRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBvID0gcmVxdWlyZSgnLi4vb3V0cHV0L291dHB1dF9hc3QnKTtcbnZhciBpZGVudGlmaWVyc18xID0gcmVxdWlyZSgnLi4vaWRlbnRpZmllcnMnKTtcbnZhciBJTVBMSUNJVF9SRUNFSVZFUiA9IG8udmFyaWFibGUoJyNpbXBsaWNpdCcpO1xudmFyIEV4cHJlc3Npb25XaXRoV3JhcHBlZFZhbHVlSW5mbyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXhwcmVzc2lvbldpdGhXcmFwcGVkVmFsdWVJbmZvKGV4cHJlc3Npb24sIG5lZWRzVmFsdWVVbndyYXBwZXIpIHtcbiAgICAgICAgdGhpcy5leHByZXNzaW9uID0gZXhwcmVzc2lvbjtcbiAgICAgICAgdGhpcy5uZWVkc1ZhbHVlVW53cmFwcGVyID0gbmVlZHNWYWx1ZVVud3JhcHBlcjtcbiAgICB9XG4gICAgcmV0dXJuIEV4cHJlc3Npb25XaXRoV3JhcHBlZFZhbHVlSW5mbztcbn0oKSk7XG5leHBvcnRzLkV4cHJlc3Npb25XaXRoV3JhcHBlZFZhbHVlSW5mbyA9IEV4cHJlc3Npb25XaXRoV3JhcHBlZFZhbHVlSW5mbztcbmZ1bmN0aW9uIGNvbnZlcnRDZEV4cHJlc3Npb25Ub0lyKG5hbWVSZXNvbHZlciwgaW1wbGljaXRSZWNlaXZlciwgZXhwcmVzc2lvbiwgdmFsdWVVbndyYXBwZXIpIHtcbiAgICB2YXIgdmlzaXRvciA9IG5ldyBfQXN0VG9JclZpc2l0b3IobmFtZVJlc29sdmVyLCBpbXBsaWNpdFJlY2VpdmVyLCB2YWx1ZVVud3JhcHBlcik7XG4gICAgdmFyIGlyQXN0ID0gZXhwcmVzc2lvbi52aXNpdCh2aXNpdG9yLCBfTW9kZS5FeHByZXNzaW9uKTtcbiAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25XaXRoV3JhcHBlZFZhbHVlSW5mbyhpckFzdCwgdmlzaXRvci5uZWVkc1ZhbHVlVW53cmFwcGVyKTtcbn1cbmV4cG9ydHMuY29udmVydENkRXhwcmVzc2lvblRvSXIgPSBjb252ZXJ0Q2RFeHByZXNzaW9uVG9JcjtcbmZ1bmN0aW9uIGNvbnZlcnRDZFN0YXRlbWVudFRvSXIobmFtZVJlc29sdmVyLCBpbXBsaWNpdFJlY2VpdmVyLCBzdG10KSB7XG4gICAgdmFyIHZpc2l0b3IgPSBuZXcgX0FzdFRvSXJWaXNpdG9yKG5hbWVSZXNvbHZlciwgaW1wbGljaXRSZWNlaXZlciwgbnVsbCk7XG4gICAgdmFyIHN0YXRlbWVudHMgPSBbXTtcbiAgICBmbGF0dGVuU3RhdGVtZW50cyhzdG10LnZpc2l0KHZpc2l0b3IsIF9Nb2RlLlN0YXRlbWVudCksIHN0YXRlbWVudHMpO1xuICAgIHJldHVybiBzdGF0ZW1lbnRzO1xufVxuZXhwb3J0cy5jb252ZXJ0Q2RTdGF0ZW1lbnRUb0lyID0gY29udmVydENkU3RhdGVtZW50VG9JcjtcbnZhciBfTW9kZTtcbihmdW5jdGlvbiAoX01vZGUpIHtcbiAgICBfTW9kZVtfTW9kZVtcIlN0YXRlbWVudFwiXSA9IDBdID0gXCJTdGF0ZW1lbnRcIjtcbiAgICBfTW9kZVtfTW9kZVtcIkV4cHJlc3Npb25cIl0gPSAxXSA9IFwiRXhwcmVzc2lvblwiO1xufSkoX01vZGUgfHwgKF9Nb2RlID0ge30pKTtcbmZ1bmN0aW9uIGVuc3VyZVN0YXRlbWVudE1vZGUobW9kZSwgYXN0KSB7XG4gICAgaWYgKG1vZGUgIT09IF9Nb2RlLlN0YXRlbWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJFeHBlY3RlZCBhIHN0YXRlbWVudCwgYnV0IHNhdyBcIiArIGFzdCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZW5zdXJlRXhwcmVzc2lvbk1vZGUobW9kZSwgYXN0KSB7XG4gICAgaWYgKG1vZGUgIT09IF9Nb2RlLkV4cHJlc3Npb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiRXhwZWN0ZWQgYW4gZXhwcmVzc2lvbiwgYnV0IHNhdyBcIiArIGFzdCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY29udmVydFRvU3RhdGVtZW50SWZOZWVkZWQobW9kZSwgZXhwcikge1xuICAgIGlmIChtb2RlID09PSBfTW9kZS5TdGF0ZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGV4cHIudG9TdG10KCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZXhwcjtcbiAgICB9XG59XG52YXIgX0FzdFRvSXJWaXNpdG9yID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBfQXN0VG9JclZpc2l0b3IoX25hbWVSZXNvbHZlciwgX2ltcGxpY2l0UmVjZWl2ZXIsIF92YWx1ZVVud3JhcHBlcikge1xuICAgICAgICB0aGlzLl9uYW1lUmVzb2x2ZXIgPSBfbmFtZVJlc29sdmVyO1xuICAgICAgICB0aGlzLl9pbXBsaWNpdFJlY2VpdmVyID0gX2ltcGxpY2l0UmVjZWl2ZXI7XG4gICAgICAgIHRoaXMuX3ZhbHVlVW53cmFwcGVyID0gX3ZhbHVlVW53cmFwcGVyO1xuICAgICAgICB0aGlzLm5lZWRzVmFsdWVVbndyYXBwZXIgPSBmYWxzZTtcbiAgICB9XG4gICAgX0FzdFRvSXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdEJpbmFyeSA9IGZ1bmN0aW9uIChhc3QsIG1vZGUpIHtcbiAgICAgICAgdmFyIG9wO1xuICAgICAgICBzd2l0Y2ggKGFzdC5vcGVyYXRpb24pIHtcbiAgICAgICAgICAgIGNhc2UgJysnOlxuICAgICAgICAgICAgICAgIG9wID0gby5CaW5hcnlPcGVyYXRvci5QbHVzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnLSc6XG4gICAgICAgICAgICAgICAgb3AgPSBvLkJpbmFyeU9wZXJhdG9yLk1pbnVzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnKic6XG4gICAgICAgICAgICAgICAgb3AgPSBvLkJpbmFyeU9wZXJhdG9yLk11bHRpcGx5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnLyc6XG4gICAgICAgICAgICAgICAgb3AgPSBvLkJpbmFyeU9wZXJhdG9yLkRpdmlkZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJyUnOlxuICAgICAgICAgICAgICAgIG9wID0gby5CaW5hcnlPcGVyYXRvci5Nb2R1bG87XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICcmJic6XG4gICAgICAgICAgICAgICAgb3AgPSBvLkJpbmFyeU9wZXJhdG9yLkFuZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3x8JzpcbiAgICAgICAgICAgICAgICBvcCA9IG8uQmluYXJ5T3BlcmF0b3IuT3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICc9PSc6XG4gICAgICAgICAgICAgICAgb3AgPSBvLkJpbmFyeU9wZXJhdG9yLkVxdWFscztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJyE9JzpcbiAgICAgICAgICAgICAgICBvcCA9IG8uQmluYXJ5T3BlcmF0b3IuTm90RXF1YWxzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnPT09JzpcbiAgICAgICAgICAgICAgICBvcCA9IG8uQmluYXJ5T3BlcmF0b3IuSWRlbnRpY2FsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnIT09JzpcbiAgICAgICAgICAgICAgICBvcCA9IG8uQmluYXJ5T3BlcmF0b3IuTm90SWRlbnRpY2FsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnPCc6XG4gICAgICAgICAgICAgICAgb3AgPSBvLkJpbmFyeU9wZXJhdG9yLkxvd2VyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnPic6XG4gICAgICAgICAgICAgICAgb3AgPSBvLkJpbmFyeU9wZXJhdG9yLkJpZ2dlcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJzw9JzpcbiAgICAgICAgICAgICAgICBvcCA9IG8uQmluYXJ5T3BlcmF0b3IuTG93ZXJFcXVhbHM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICc+PSc6XG4gICAgICAgICAgICAgICAgb3AgPSBvLkJpbmFyeU9wZXJhdG9yLkJpZ2dlckVxdWFscztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiVW5zdXBwb3J0ZWQgb3BlcmF0aW9uIFwiICsgYXN0Lm9wZXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnZlcnRUb1N0YXRlbWVudElmTmVlZGVkKG1vZGUsIG5ldyBvLkJpbmFyeU9wZXJhdG9yRXhwcihvcCwgYXN0LmxlZnQudmlzaXQodGhpcywgX01vZGUuRXhwcmVzc2lvbiksIGFzdC5yaWdodC52aXNpdCh0aGlzLCBfTW9kZS5FeHByZXNzaW9uKSkpO1xuICAgIH07XG4gICAgX0FzdFRvSXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdENoYWluID0gZnVuY3Rpb24gKGFzdCwgbW9kZSkge1xuICAgICAgICBlbnN1cmVTdGF0ZW1lbnRNb2RlKG1vZGUsIGFzdCk7XG4gICAgICAgIHJldHVybiB0aGlzLnZpc2l0QWxsKGFzdC5leHByZXNzaW9ucywgbW9kZSk7XG4gICAgfTtcbiAgICBfQXN0VG9JclZpc2l0b3IucHJvdG90eXBlLnZpc2l0Q29uZGl0aW9uYWwgPSBmdW5jdGlvbiAoYXN0LCBtb2RlKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFzdC5jb25kaXRpb24udmlzaXQodGhpcywgX01vZGUuRXhwcmVzc2lvbik7XG4gICAgICAgIHJldHVybiBjb252ZXJ0VG9TdGF0ZW1lbnRJZk5lZWRlZChtb2RlLCB2YWx1ZS5jb25kaXRpb25hbChhc3QudHJ1ZUV4cC52aXNpdCh0aGlzLCBfTW9kZS5FeHByZXNzaW9uKSwgYXN0LmZhbHNlRXhwLnZpc2l0KHRoaXMsIF9Nb2RlLkV4cHJlc3Npb24pKSk7XG4gICAgfTtcbiAgICBfQXN0VG9JclZpc2l0b3IucHJvdG90eXBlLnZpc2l0UGlwZSA9IGZ1bmN0aW9uIChhc3QsIG1vZGUpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gYXN0LmV4cC52aXNpdCh0aGlzLCBfTW9kZS5FeHByZXNzaW9uKTtcbiAgICAgICAgdmFyIGFyZ3MgPSB0aGlzLnZpc2l0QWxsKGFzdC5hcmdzLCBfTW9kZS5FeHByZXNzaW9uKTtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fbmFtZVJlc29sdmVyLmNhbGxQaXBlKGFzdC5uYW1lLCBpbnB1dCwgYXJncyk7XG4gICAgICAgIHRoaXMubmVlZHNWYWx1ZVVud3JhcHBlciA9IHRydWU7XG4gICAgICAgIHJldHVybiBjb252ZXJ0VG9TdGF0ZW1lbnRJZk5lZWRlZChtb2RlLCB0aGlzLl92YWx1ZVVud3JhcHBlci5jYWxsTWV0aG9kKCd1bndyYXAnLCBbdmFsdWVdKSk7XG4gICAgfTtcbiAgICBfQXN0VG9JclZpc2l0b3IucHJvdG90eXBlLnZpc2l0RnVuY3Rpb25DYWxsID0gZnVuY3Rpb24gKGFzdCwgbW9kZSkge1xuICAgICAgICByZXR1cm4gY29udmVydFRvU3RhdGVtZW50SWZOZWVkZWQobW9kZSwgYXN0LnRhcmdldC52aXNpdCh0aGlzLCBfTW9kZS5FeHByZXNzaW9uKVxuICAgICAgICAgICAgLmNhbGxGbih0aGlzLnZpc2l0QWxsKGFzdC5hcmdzLCBfTW9kZS5FeHByZXNzaW9uKSkpO1xuICAgIH07XG4gICAgX0FzdFRvSXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdEltcGxpY2l0UmVjZWl2ZXIgPSBmdW5jdGlvbiAoYXN0LCBtb2RlKSB7XG4gICAgICAgIGVuc3VyZUV4cHJlc3Npb25Nb2RlKG1vZGUsIGFzdCk7XG4gICAgICAgIHJldHVybiBJTVBMSUNJVF9SRUNFSVZFUjtcbiAgICB9O1xuICAgIF9Bc3RUb0lyVmlzaXRvci5wcm90b3R5cGUudmlzaXRJbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24gKGFzdCwgbW9kZSkge1xuICAgICAgICBlbnN1cmVFeHByZXNzaW9uTW9kZShtb2RlLCBhc3QpO1xuICAgICAgICB2YXIgYXJncyA9IFtvLmxpdGVyYWwoYXN0LmV4cHJlc3Npb25zLmxlbmd0aCldO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFzdC5zdHJpbmdzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgYXJncy5wdXNoKG8ubGl0ZXJhbChhc3Quc3RyaW5nc1tpXSkpO1xuICAgICAgICAgICAgYXJncy5wdXNoKGFzdC5leHByZXNzaW9uc1tpXS52aXNpdCh0aGlzLCBfTW9kZS5FeHByZXNzaW9uKSk7XG4gICAgICAgIH1cbiAgICAgICAgYXJncy5wdXNoKG8ubGl0ZXJhbChhc3Quc3RyaW5nc1thc3Quc3RyaW5ncy5sZW5ndGggLSAxXSkpO1xuICAgICAgICByZXR1cm4gby5pbXBvcnRFeHByKGlkZW50aWZpZXJzXzEuSWRlbnRpZmllcnMuaW50ZXJwb2xhdGUpLmNhbGxGbihhcmdzKTtcbiAgICB9O1xuICAgIF9Bc3RUb0lyVmlzaXRvci5wcm90b3R5cGUudmlzaXRLZXllZFJlYWQgPSBmdW5jdGlvbiAoYXN0LCBtb2RlKSB7XG4gICAgICAgIHJldHVybiBjb252ZXJ0VG9TdGF0ZW1lbnRJZk5lZWRlZChtb2RlLCBhc3Qub2JqLnZpc2l0KHRoaXMsIF9Nb2RlLkV4cHJlc3Npb24pLmtleShhc3Qua2V5LnZpc2l0KHRoaXMsIF9Nb2RlLkV4cHJlc3Npb24pKSk7XG4gICAgfTtcbiAgICBfQXN0VG9JclZpc2l0b3IucHJvdG90eXBlLnZpc2l0S2V5ZWRXcml0ZSA9IGZ1bmN0aW9uIChhc3QsIG1vZGUpIHtcbiAgICAgICAgdmFyIG9iaiA9IGFzdC5vYmoudmlzaXQodGhpcywgX01vZGUuRXhwcmVzc2lvbik7XG4gICAgICAgIHZhciBrZXkgPSBhc3Qua2V5LnZpc2l0KHRoaXMsIF9Nb2RlLkV4cHJlc3Npb24pO1xuICAgICAgICB2YXIgdmFsdWUgPSBhc3QudmFsdWUudmlzaXQodGhpcywgX01vZGUuRXhwcmVzc2lvbik7XG4gICAgICAgIHJldHVybiBjb252ZXJ0VG9TdGF0ZW1lbnRJZk5lZWRlZChtb2RlLCBvYmoua2V5KGtleSkuc2V0KHZhbHVlKSk7XG4gICAgfTtcbiAgICBfQXN0VG9JclZpc2l0b3IucHJvdG90eXBlLnZpc2l0TGl0ZXJhbEFycmF5ID0gZnVuY3Rpb24gKGFzdCwgbW9kZSkge1xuICAgICAgICByZXR1cm4gY29udmVydFRvU3RhdGVtZW50SWZOZWVkZWQobW9kZSwgdGhpcy5fbmFtZVJlc29sdmVyLmNyZWF0ZUxpdGVyYWxBcnJheSh0aGlzLnZpc2l0QWxsKGFzdC5leHByZXNzaW9ucywgbW9kZSkpKTtcbiAgICB9O1xuICAgIF9Bc3RUb0lyVmlzaXRvci5wcm90b3R5cGUudmlzaXRMaXRlcmFsTWFwID0gZnVuY3Rpb24gKGFzdCwgbW9kZSkge1xuICAgICAgICB2YXIgcGFydHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhc3Qua2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFydHMucHVzaChbYXN0LmtleXNbaV0sIGFzdC52YWx1ZXNbaV0udmlzaXQodGhpcywgX01vZGUuRXhwcmVzc2lvbildKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udmVydFRvU3RhdGVtZW50SWZOZWVkZWQobW9kZSwgdGhpcy5fbmFtZVJlc29sdmVyLmNyZWF0ZUxpdGVyYWxNYXAocGFydHMpKTtcbiAgICB9O1xuICAgIF9Bc3RUb0lyVmlzaXRvci5wcm90b3R5cGUudmlzaXRMaXRlcmFsUHJpbWl0aXZlID0gZnVuY3Rpb24gKGFzdCwgbW9kZSkge1xuICAgICAgICByZXR1cm4gY29udmVydFRvU3RhdGVtZW50SWZOZWVkZWQobW9kZSwgby5saXRlcmFsKGFzdC52YWx1ZSkpO1xuICAgIH07XG4gICAgX0FzdFRvSXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdE1ldGhvZENhbGwgPSBmdW5jdGlvbiAoYXN0LCBtb2RlKSB7XG4gICAgICAgIHZhciBhcmdzID0gdGhpcy52aXNpdEFsbChhc3QuYXJncywgX01vZGUuRXhwcmVzc2lvbik7XG4gICAgICAgIHZhciByZXN1bHQgPSBudWxsO1xuICAgICAgICB2YXIgcmVjZWl2ZXIgPSBhc3QucmVjZWl2ZXIudmlzaXQodGhpcywgX01vZGUuRXhwcmVzc2lvbik7XG4gICAgICAgIGlmIChyZWNlaXZlciA9PT0gSU1QTElDSVRfUkVDRUlWRVIpIHtcbiAgICAgICAgICAgIHZhciB2YXJFeHByID0gdGhpcy5fbmFtZVJlc29sdmVyLmdldExvY2FsKGFzdC5uYW1lKTtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHZhckV4cHIpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdmFyRXhwci5jYWxsRm4oYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlciA9IHRoaXMuX2ltcGxpY2l0UmVjZWl2ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlY2VpdmVyLmNhbGxNZXRob2QoYXN0Lm5hbWUsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb252ZXJ0VG9TdGF0ZW1lbnRJZk5lZWRlZChtb2RlLCByZXN1bHQpO1xuICAgIH07XG4gICAgX0FzdFRvSXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdFByZWZpeE5vdCA9IGZ1bmN0aW9uIChhc3QsIG1vZGUpIHtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRUb1N0YXRlbWVudElmTmVlZGVkKG1vZGUsIG8ubm90KGFzdC5leHByZXNzaW9uLnZpc2l0KHRoaXMsIF9Nb2RlLkV4cHJlc3Npb24pKSk7XG4gICAgfTtcbiAgICBfQXN0VG9JclZpc2l0b3IucHJvdG90eXBlLnZpc2l0UHJvcGVydHlSZWFkID0gZnVuY3Rpb24gKGFzdCwgbW9kZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgdmFyIHJlY2VpdmVyID0gYXN0LnJlY2VpdmVyLnZpc2l0KHRoaXMsIF9Nb2RlLkV4cHJlc3Npb24pO1xuICAgICAgICBpZiAocmVjZWl2ZXIgPT09IElNUExJQ0lUX1JFQ0VJVkVSKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9uYW1lUmVzb2x2ZXIuZ2V0TG9jYWwoYXN0Lm5hbWUpO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlciA9IHRoaXMuX2ltcGxpY2l0UmVjZWl2ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlY2VpdmVyLnByb3AoYXN0Lm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb252ZXJ0VG9TdGF0ZW1lbnRJZk5lZWRlZChtb2RlLCByZXN1bHQpO1xuICAgIH07XG4gICAgX0FzdFRvSXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdFByb3BlcnR5V3JpdGUgPSBmdW5jdGlvbiAoYXN0LCBtb2RlKSB7XG4gICAgICAgIHZhciByZWNlaXZlciA9IGFzdC5yZWNlaXZlci52aXNpdCh0aGlzLCBfTW9kZS5FeHByZXNzaW9uKTtcbiAgICAgICAgaWYgKHJlY2VpdmVyID09PSBJTVBMSUNJVF9SRUNFSVZFUikge1xuICAgICAgICAgICAgdmFyIHZhckV4cHIgPSB0aGlzLl9uYW1lUmVzb2x2ZXIuZ2V0TG9jYWwoYXN0Lm5hbWUpO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodmFyRXhwcikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oJ0Nhbm5vdCBhc3NpZ24gdG8gYSByZWZlcmVuY2Ugb3IgdmFyaWFibGUhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWNlaXZlciA9IHRoaXMuX2ltcGxpY2l0UmVjZWl2ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnZlcnRUb1N0YXRlbWVudElmTmVlZGVkKG1vZGUsIHJlY2VpdmVyLnByb3AoYXN0Lm5hbWUpLnNldChhc3QudmFsdWUudmlzaXQodGhpcywgX01vZGUuRXhwcmVzc2lvbikpKTtcbiAgICB9O1xuICAgIF9Bc3RUb0lyVmlzaXRvci5wcm90b3R5cGUudmlzaXRTYWZlUHJvcGVydHlSZWFkID0gZnVuY3Rpb24gKGFzdCwgbW9kZSkge1xuICAgICAgICB2YXIgcmVjZWl2ZXIgPSBhc3QucmVjZWl2ZXIudmlzaXQodGhpcywgX01vZGUuRXhwcmVzc2lvbik7XG4gICAgICAgIHJldHVybiBjb252ZXJ0VG9TdGF0ZW1lbnRJZk5lZWRlZChtb2RlLCByZWNlaXZlci5pc0JsYW5rKCkuY29uZGl0aW9uYWwoby5OVUxMX0VYUFIsIHJlY2VpdmVyLnByb3AoYXN0Lm5hbWUpKSk7XG4gICAgfTtcbiAgICBfQXN0VG9JclZpc2l0b3IucHJvdG90eXBlLnZpc2l0U2FmZU1ldGhvZENhbGwgPSBmdW5jdGlvbiAoYXN0LCBtb2RlKSB7XG4gICAgICAgIHZhciByZWNlaXZlciA9IGFzdC5yZWNlaXZlci52aXNpdCh0aGlzLCBfTW9kZS5FeHByZXNzaW9uKTtcbiAgICAgICAgdmFyIGFyZ3MgPSB0aGlzLnZpc2l0QWxsKGFzdC5hcmdzLCBfTW9kZS5FeHByZXNzaW9uKTtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRUb1N0YXRlbWVudElmTmVlZGVkKG1vZGUsIHJlY2VpdmVyLmlzQmxhbmsoKS5jb25kaXRpb25hbChvLk5VTExfRVhQUiwgcmVjZWl2ZXIuY2FsbE1ldGhvZChhc3QubmFtZSwgYXJncykpKTtcbiAgICB9O1xuICAgIF9Bc3RUb0lyVmlzaXRvci5wcm90b3R5cGUudmlzaXRBbGwgPSBmdW5jdGlvbiAoYXN0cywgbW9kZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gYXN0cy5tYXAoZnVuY3Rpb24gKGFzdCkgeyByZXR1cm4gYXN0LnZpc2l0KF90aGlzLCBtb2RlKTsgfSk7XG4gICAgfTtcbiAgICBfQXN0VG9JclZpc2l0b3IucHJvdG90eXBlLnZpc2l0UXVvdGUgPSBmdW5jdGlvbiAoYXN0LCBtb2RlKSB7XG4gICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbignUXVvdGVzIGFyZSBub3Qgc3VwcG9ydGVkIGZvciBldmFsdWF0aW9uIScpO1xuICAgIH07XG4gICAgcmV0dXJuIF9Bc3RUb0lyVmlzaXRvcjtcbn0oKSk7XG5mdW5jdGlvbiBmbGF0dGVuU3RhdGVtZW50cyhhcmcsIG91dHB1dCkge1xuICAgIGlmIChsYW5nXzEuaXNBcnJheShhcmcpKSB7XG4gICAgICAgIGFyZy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZmxhdHRlblN0YXRlbWVudHMoZW50cnksIG91dHB1dCk7IH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb3V0cHV0LnB1c2goYXJnKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHByZXNzaW9uX2NvbnZlcnRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlX3ByaXZhdGVfMSA9IHJlcXVpcmUoJy4uLy4uL2NvcmVfcHJpdmF0ZScpO1xudmFyIG8gPSByZXF1aXJlKCcuLi9vdXRwdXQvb3V0cHV0X2FzdCcpO1xudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZSgnLi9jb25zdGFudHMnKTtcbnZhciBTVEFURV9JU19ORVZFUl9DSEVDS0VEID0gby5USElTX0VYUFIucHJvcCgnY2RTdGF0ZScpLmlkZW50aWNhbChjb25zdGFudHNfMS5DaGFuZ2VEZXRlY3RvclN0YXRlRW51bS5OZXZlckNoZWNrZWQpO1xudmFyIE5PVF9USFJPV19PTl9DSEFOR0VTID0gby5ub3QoY29uc3RhbnRzXzEuRGV0ZWN0Q2hhbmdlc1ZhcnMudGhyb3dPbkNoYW5nZSk7XG5mdW5jdGlvbiBiaW5kRGlyZWN0aXZlRGV0ZWN0Q2hhbmdlc0xpZmVjeWNsZUNhbGxiYWNrcyhkaXJlY3RpdmVBc3QsIGRpcmVjdGl2ZUluc3RhbmNlLCBjb21waWxlRWxlbWVudCkge1xuICAgIHZhciB2aWV3ID0gY29tcGlsZUVsZW1lbnQudmlldztcbiAgICB2YXIgZGV0ZWN0Q2hhbmdlc0luSW5wdXRzTWV0aG9kID0gdmlldy5kZXRlY3RDaGFuZ2VzSW5JbnB1dHNNZXRob2Q7XG4gICAgdmFyIGxpZmVjeWNsZUhvb2tzID0gZGlyZWN0aXZlQXN0LmRpcmVjdGl2ZS5saWZlY3ljbGVIb29rcztcbiAgICBpZiAobGlmZWN5Y2xlSG9va3MuaW5kZXhPZihjb3JlX3ByaXZhdGVfMS5MaWZlY3ljbGVIb29rcy5PbkNoYW5nZXMpICE9PSAtMSAmJiBkaXJlY3RpdmVBc3QuaW5wdXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZGV0ZWN0Q2hhbmdlc0luSW5wdXRzTWV0aG9kLmFkZFN0bXQobmV3IG8uSWZTdG10KGNvbnN0YW50c18xLkRldGVjdENoYW5nZXNWYXJzLmNoYW5nZXMubm90SWRlbnRpY2FsKG8uTlVMTF9FWFBSKSwgW2RpcmVjdGl2ZUluc3RhbmNlLmNhbGxNZXRob2QoJ25nT25DaGFuZ2VzJywgW2NvbnN0YW50c18xLkRldGVjdENoYW5nZXNWYXJzLmNoYW5nZXNdKS50b1N0bXQoKV0pKTtcbiAgICB9XG4gICAgaWYgKGxpZmVjeWNsZUhvb2tzLmluZGV4T2YoY29yZV9wcml2YXRlXzEuTGlmZWN5Y2xlSG9va3MuT25Jbml0KSAhPT0gLTEpIHtcbiAgICAgICAgZGV0ZWN0Q2hhbmdlc0luSW5wdXRzTWV0aG9kLmFkZFN0bXQobmV3IG8uSWZTdG10KFNUQVRFX0lTX05FVkVSX0NIRUNLRUQuYW5kKE5PVF9USFJPV19PTl9DSEFOR0VTKSwgW2RpcmVjdGl2ZUluc3RhbmNlLmNhbGxNZXRob2QoJ25nT25Jbml0JywgW10pLnRvU3RtdCgpXSkpO1xuICAgIH1cbiAgICBpZiAobGlmZWN5Y2xlSG9va3MuaW5kZXhPZihjb3JlX3ByaXZhdGVfMS5MaWZlY3ljbGVIb29rcy5Eb0NoZWNrKSAhPT0gLTEpIHtcbiAgICAgICAgZGV0ZWN0Q2hhbmdlc0luSW5wdXRzTWV0aG9kLmFkZFN0bXQobmV3IG8uSWZTdG10KE5PVF9USFJPV19PTl9DSEFOR0VTLCBbZGlyZWN0aXZlSW5zdGFuY2UuY2FsbE1ldGhvZCgnbmdEb0NoZWNrJywgW10pLnRvU3RtdCgpXSkpO1xuICAgIH1cbn1cbmV4cG9ydHMuYmluZERpcmVjdGl2ZURldGVjdENoYW5nZXNMaWZlY3ljbGVDYWxsYmFja3MgPSBiaW5kRGlyZWN0aXZlRGV0ZWN0Q2hhbmdlc0xpZmVjeWNsZUNhbGxiYWNrcztcbmZ1bmN0aW9uIGJpbmREaXJlY3RpdmVBZnRlckNvbnRlbnRMaWZlY3ljbGVDYWxsYmFja3MoZGlyZWN0aXZlTWV0YSwgZGlyZWN0aXZlSW5zdGFuY2UsIGNvbXBpbGVFbGVtZW50KSB7XG4gICAgdmFyIHZpZXcgPSBjb21waWxlRWxlbWVudC52aWV3O1xuICAgIHZhciBsaWZlY3ljbGVIb29rcyA9IGRpcmVjdGl2ZU1ldGEubGlmZWN5Y2xlSG9va3M7XG4gICAgdmFyIGFmdGVyQ29udGVudExpZmVjeWNsZUNhbGxiYWNrc01ldGhvZCA9IHZpZXcuYWZ0ZXJDb250ZW50TGlmZWN5Y2xlQ2FsbGJhY2tzTWV0aG9kO1xuICAgIGFmdGVyQ29udGVudExpZmVjeWNsZUNhbGxiYWNrc01ldGhvZC5yZXNldERlYnVnSW5mbyhjb21waWxlRWxlbWVudC5ub2RlSW5kZXgsIGNvbXBpbGVFbGVtZW50LnNvdXJjZUFzdCk7XG4gICAgaWYgKGxpZmVjeWNsZUhvb2tzLmluZGV4T2YoY29yZV9wcml2YXRlXzEuTGlmZWN5Y2xlSG9va3MuQWZ0ZXJDb250ZW50SW5pdCkgIT09IC0xKSB7XG4gICAgICAgIGFmdGVyQ29udGVudExpZmVjeWNsZUNhbGxiYWNrc01ldGhvZC5hZGRTdG10KG5ldyBvLklmU3RtdChTVEFURV9JU19ORVZFUl9DSEVDS0VELCBbZGlyZWN0aXZlSW5zdGFuY2UuY2FsbE1ldGhvZCgnbmdBZnRlckNvbnRlbnRJbml0JywgW10pLnRvU3RtdCgpXSkpO1xuICAgIH1cbiAgICBpZiAobGlmZWN5Y2xlSG9va3MuaW5kZXhPZihjb3JlX3ByaXZhdGVfMS5MaWZlY3ljbGVIb29rcy5BZnRlckNvbnRlbnRDaGVja2VkKSAhPT0gLTEpIHtcbiAgICAgICAgYWZ0ZXJDb250ZW50TGlmZWN5Y2xlQ2FsbGJhY2tzTWV0aG9kLmFkZFN0bXQoZGlyZWN0aXZlSW5zdGFuY2UuY2FsbE1ldGhvZCgnbmdBZnRlckNvbnRlbnRDaGVja2VkJywgW10pLnRvU3RtdCgpKTtcbiAgICB9XG59XG5leHBvcnRzLmJpbmREaXJlY3RpdmVBZnRlckNvbnRlbnRMaWZlY3ljbGVDYWxsYmFja3MgPSBiaW5kRGlyZWN0aXZlQWZ0ZXJDb250ZW50TGlmZWN5Y2xlQ2FsbGJhY2tzO1xuZnVuY3Rpb24gYmluZERpcmVjdGl2ZUFmdGVyVmlld0xpZmVjeWNsZUNhbGxiYWNrcyhkaXJlY3RpdmVNZXRhLCBkaXJlY3RpdmVJbnN0YW5jZSwgY29tcGlsZUVsZW1lbnQpIHtcbiAgICB2YXIgdmlldyA9IGNvbXBpbGVFbGVtZW50LnZpZXc7XG4gICAgdmFyIGxpZmVjeWNsZUhvb2tzID0gZGlyZWN0aXZlTWV0YS5saWZlY3ljbGVIb29rcztcbiAgICB2YXIgYWZ0ZXJWaWV3TGlmZWN5Y2xlQ2FsbGJhY2tzTWV0aG9kID0gdmlldy5hZnRlclZpZXdMaWZlY3ljbGVDYWxsYmFja3NNZXRob2Q7XG4gICAgYWZ0ZXJWaWV3TGlmZWN5Y2xlQ2FsbGJhY2tzTWV0aG9kLnJlc2V0RGVidWdJbmZvKGNvbXBpbGVFbGVtZW50Lm5vZGVJbmRleCwgY29tcGlsZUVsZW1lbnQuc291cmNlQXN0KTtcbiAgICBpZiAobGlmZWN5Y2xlSG9va3MuaW5kZXhPZihjb3JlX3ByaXZhdGVfMS5MaWZlY3ljbGVIb29rcy5BZnRlclZpZXdJbml0KSAhPT0gLTEpIHtcbiAgICAgICAgYWZ0ZXJWaWV3TGlmZWN5Y2xlQ2FsbGJhY2tzTWV0aG9kLmFkZFN0bXQobmV3IG8uSWZTdG10KFNUQVRFX0lTX05FVkVSX0NIRUNLRUQsIFtkaXJlY3RpdmVJbnN0YW5jZS5jYWxsTWV0aG9kKCduZ0FmdGVyVmlld0luaXQnLCBbXSkudG9TdG10KCldKSk7XG4gICAgfVxuICAgIGlmIChsaWZlY3ljbGVIb29rcy5pbmRleE9mKGNvcmVfcHJpdmF0ZV8xLkxpZmVjeWNsZUhvb2tzLkFmdGVyVmlld0NoZWNrZWQpICE9PSAtMSkge1xuICAgICAgICBhZnRlclZpZXdMaWZlY3ljbGVDYWxsYmFja3NNZXRob2QuYWRkU3RtdChkaXJlY3RpdmVJbnN0YW5jZS5jYWxsTWV0aG9kKCduZ0FmdGVyVmlld0NoZWNrZWQnLCBbXSkudG9TdG10KCkpO1xuICAgIH1cbn1cbmV4cG9ydHMuYmluZERpcmVjdGl2ZUFmdGVyVmlld0xpZmVjeWNsZUNhbGxiYWNrcyA9IGJpbmREaXJlY3RpdmVBZnRlclZpZXdMaWZlY3ljbGVDYWxsYmFja3M7XG5mdW5jdGlvbiBiaW5kRGlyZWN0aXZlRGVzdHJveUxpZmVjeWNsZUNhbGxiYWNrcyhkaXJlY3RpdmVNZXRhLCBkaXJlY3RpdmVJbnN0YW5jZSwgY29tcGlsZUVsZW1lbnQpIHtcbiAgICB2YXIgb25EZXN0cm95TWV0aG9kID0gY29tcGlsZUVsZW1lbnQudmlldy5kZXN0cm95TWV0aG9kO1xuICAgIG9uRGVzdHJveU1ldGhvZC5yZXNldERlYnVnSW5mbyhjb21waWxlRWxlbWVudC5ub2RlSW5kZXgsIGNvbXBpbGVFbGVtZW50LnNvdXJjZUFzdCk7XG4gICAgaWYgKGRpcmVjdGl2ZU1ldGEubGlmZWN5Y2xlSG9va3MuaW5kZXhPZihjb3JlX3ByaXZhdGVfMS5MaWZlY3ljbGVIb29rcy5PbkRlc3Ryb3kpICE9PSAtMSkge1xuICAgICAgICBvbkRlc3Ryb3lNZXRob2QuYWRkU3RtdChkaXJlY3RpdmVJbnN0YW5jZS5jYWxsTWV0aG9kKCduZ09uRGVzdHJveScsIFtdKS50b1N0bXQoKSk7XG4gICAgfVxufVxuZXhwb3J0cy5iaW5kRGlyZWN0aXZlRGVzdHJveUxpZmVjeWNsZUNhbGxiYWNrcyA9IGJpbmREaXJlY3RpdmVEZXN0cm95TGlmZWN5Y2xlQ2FsbGJhY2tzO1xuZnVuY3Rpb24gYmluZFBpcGVEZXN0cm95TGlmZWN5Y2xlQ2FsbGJhY2tzKHBpcGVNZXRhLCBwaXBlSW5zdGFuY2UsIHZpZXcpIHtcbiAgICB2YXIgb25EZXN0cm95TWV0aG9kID0gdmlldy5kZXN0cm95TWV0aG9kO1xuICAgIGlmIChwaXBlTWV0YS5saWZlY3ljbGVIb29rcy5pbmRleE9mKGNvcmVfcHJpdmF0ZV8xLkxpZmVjeWNsZUhvb2tzLk9uRGVzdHJveSkgIT09IC0xKSB7XG4gICAgICAgIG9uRGVzdHJveU1ldGhvZC5hZGRTdG10KHBpcGVJbnN0YW5jZS5jYWxsTWV0aG9kKCduZ09uRGVzdHJveScsIFtdKS50b1N0bXQoKSk7XG4gICAgfVxufVxuZXhwb3J0cy5iaW5kUGlwZURlc3Ryb3lMaWZlY3ljbGVDYWxsYmFja3MgPSBiaW5kUGlwZURlc3Ryb3lMaWZlY3ljbGVDYWxsYmFja3M7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saWZlY3ljbGVfYmluZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfcHJpdmF0ZV8xID0gcmVxdWlyZSgnLi4vLi4vY29yZV9wcml2YXRlJyk7XG52YXIgY29yZV9wcml2YXRlXzIgPSByZXF1aXJlKCcuLi8uLi9jb3JlX3ByaXZhdGUnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBvID0gcmVxdWlyZSgnLi4vb3V0cHV0L291dHB1dF9hc3QnKTtcbnZhciBpZGVudGlmaWVyc18xID0gcmVxdWlyZSgnLi4vaWRlbnRpZmllcnMnKTtcbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoJy4vY29uc3RhbnRzJyk7XG52YXIgdGVtcGxhdGVfYXN0XzEgPSByZXF1aXJlKCcuLi90ZW1wbGF0ZV9hc3QnKTtcbnZhciB1dGlsXzEgPSByZXF1aXJlKCcuLi91dGlsJyk7XG52YXIgZXhwcmVzc2lvbl9jb252ZXJ0ZXJfMSA9IHJlcXVpcmUoJy4vZXhwcmVzc2lvbl9jb252ZXJ0ZXInKTtcbnZhciBjb21waWxlX2JpbmRpbmdfMSA9IHJlcXVpcmUoJy4vY29tcGlsZV9iaW5kaW5nJyk7XG5mdW5jdGlvbiBjcmVhdGVCaW5kRmllbGRFeHByKGV4cHJJbmRleCkge1xuICAgIHJldHVybiBvLlRISVNfRVhQUi5wcm9wKFwiX2V4cHJfXCIgKyBleHBySW5kZXgpO1xufVxuZnVuY3Rpb24gY3JlYXRlQ3VyclZhbHVlRXhwcihleHBySW5kZXgpIHtcbiAgICByZXR1cm4gby52YXJpYWJsZShcImN1cnJWYWxfXCIgKyBleHBySW5kZXgpOyAvLyBmaXggc3ludGF4IGhpZ2hsaWdodGluZzogYFxufVxuZnVuY3Rpb24gYmluZCh2aWV3LCBjdXJyVmFsRXhwciwgZmllbGRFeHByLCBwYXJzZWRFeHByZXNzaW9uLCBjb250ZXh0LCBhY3Rpb25zLCBtZXRob2QpIHtcbiAgICB2YXIgY2hlY2tFeHByZXNzaW9uID0gZXhwcmVzc2lvbl9jb252ZXJ0ZXJfMS5jb252ZXJ0Q2RFeHByZXNzaW9uVG9Jcih2aWV3LCBjb250ZXh0LCBwYXJzZWRFeHByZXNzaW9uLCBjb25zdGFudHNfMS5EZXRlY3RDaGFuZ2VzVmFycy52YWxVbndyYXBwZXIpO1xuICAgIGlmIChsYW5nXzEuaXNCbGFuayhjaGVja0V4cHJlc3Npb24uZXhwcmVzc2lvbikpIHtcbiAgICAgICAgLy8gZS5nLiBhbiBlbXB0eSBleHByZXNzaW9uIHdhcyBnaXZlblxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIHByaXZhdGUgaXMgZmluZSBoZXJlIGFzIG5vIGNoaWxkIHZpZXcgd2lsbCByZWZlcmVuY2UgdGhlIGNhY2hlZCB2YWx1ZS4uLlxuICAgIHZpZXcuZmllbGRzLnB1c2gobmV3IG8uQ2xhc3NGaWVsZChmaWVsZEV4cHIubmFtZSwgbnVsbCwgW28uU3RtdE1vZGlmaWVyLlByaXZhdGVdKSk7XG4gICAgdmlldy5jcmVhdGVNZXRob2QuYWRkU3RtdChvLlRISVNfRVhQUi5wcm9wKGZpZWxkRXhwci5uYW1lKS5zZXQoby5pbXBvcnRFeHByKGlkZW50aWZpZXJzXzEuSWRlbnRpZmllcnMudW5pbml0aWFsaXplZCkpLnRvU3RtdCgpKTtcbiAgICBpZiAoY2hlY2tFeHByZXNzaW9uLm5lZWRzVmFsdWVVbndyYXBwZXIpIHtcbiAgICAgICAgdmFyIGluaXRWYWx1ZVVud3JhcHBlclN0bXQgPSBjb25zdGFudHNfMS5EZXRlY3RDaGFuZ2VzVmFycy52YWxVbndyYXBwZXIuY2FsbE1ldGhvZCgncmVzZXQnLCBbXSkudG9TdG10KCk7XG4gICAgICAgIG1ldGhvZC5hZGRTdG10KGluaXRWYWx1ZVVud3JhcHBlclN0bXQpO1xuICAgIH1cbiAgICBtZXRob2QuYWRkU3RtdChjdXJyVmFsRXhwci5zZXQoY2hlY2tFeHByZXNzaW9uLmV4cHJlc3Npb24pLnRvRGVjbFN0bXQobnVsbCwgW28uU3RtdE1vZGlmaWVyLkZpbmFsXSkpO1xuICAgIHZhciBjb25kaXRpb24gPSBvLmltcG9ydEV4cHIoaWRlbnRpZmllcnNfMS5JZGVudGlmaWVycy5jaGVja0JpbmRpbmcpXG4gICAgICAgIC5jYWxsRm4oW2NvbnN0YW50c18xLkRldGVjdENoYW5nZXNWYXJzLnRocm93T25DaGFuZ2UsIGZpZWxkRXhwciwgY3VyclZhbEV4cHJdKTtcbiAgICBpZiAoY2hlY2tFeHByZXNzaW9uLm5lZWRzVmFsdWVVbndyYXBwZXIpIHtcbiAgICAgICAgY29uZGl0aW9uID0gY29uc3RhbnRzXzEuRGV0ZWN0Q2hhbmdlc1ZhcnMudmFsVW53cmFwcGVyLnByb3AoJ2hhc1dyYXBwZWRWYWx1ZScpLm9yKGNvbmRpdGlvbik7XG4gICAgfVxuICAgIG1ldGhvZC5hZGRTdG10KG5ldyBvLklmU3RtdChjb25kaXRpb24sIGFjdGlvbnMuY29uY2F0KFtvLlRISVNfRVhQUi5wcm9wKGZpZWxkRXhwci5uYW1lKS5zZXQoY3VyclZhbEV4cHIpLnRvU3RtdCgpXSkpKTtcbn1cbmZ1bmN0aW9uIGJpbmRSZW5kZXJUZXh0KGJvdW5kVGV4dCwgY29tcGlsZU5vZGUsIHZpZXcpIHtcbiAgICB2YXIgYmluZGluZ0luZGV4ID0gdmlldy5iaW5kaW5ncy5sZW5ndGg7XG4gICAgdmlldy5iaW5kaW5ncy5wdXNoKG5ldyBjb21waWxlX2JpbmRpbmdfMS5Db21waWxlQmluZGluZyhjb21waWxlTm9kZSwgYm91bmRUZXh0KSk7XG4gICAgdmFyIGN1cnJWYWxFeHByID0gY3JlYXRlQ3VyclZhbHVlRXhwcihiaW5kaW5nSW5kZXgpO1xuICAgIHZhciB2YWx1ZUZpZWxkID0gY3JlYXRlQmluZEZpZWxkRXhwcihiaW5kaW5nSW5kZXgpO1xuICAgIHZpZXcuZGV0ZWN0Q2hhbmdlc1JlbmRlclByb3BlcnRpZXNNZXRob2QucmVzZXREZWJ1Z0luZm8oY29tcGlsZU5vZGUubm9kZUluZGV4LCBib3VuZFRleHQpO1xuICAgIGJpbmQodmlldywgY3VyclZhbEV4cHIsIHZhbHVlRmllbGQsIGJvdW5kVGV4dC52YWx1ZSwgdmlldy5jb21wb25lbnRDb250ZXh0LCBbXG4gICAgICAgIG8uVEhJU19FWFBSLnByb3AoJ3JlbmRlcmVyJylcbiAgICAgICAgICAgIC5jYWxsTWV0aG9kKCdzZXRUZXh0JywgW2NvbXBpbGVOb2RlLnJlbmRlck5vZGUsIGN1cnJWYWxFeHByXSlcbiAgICAgICAgICAgIC50b1N0bXQoKVxuICAgIF0sIHZpZXcuZGV0ZWN0Q2hhbmdlc1JlbmRlclByb3BlcnRpZXNNZXRob2QpO1xufVxuZXhwb3J0cy5iaW5kUmVuZGVyVGV4dCA9IGJpbmRSZW5kZXJUZXh0O1xuZnVuY3Rpb24gYmluZEFuZFdyaXRlVG9SZW5kZXJlcihib3VuZFByb3BzLCBjb250ZXh0LCBjb21waWxlRWxlbWVudCkge1xuICAgIHZhciB2aWV3ID0gY29tcGlsZUVsZW1lbnQudmlldztcbiAgICB2YXIgcmVuZGVyTm9kZSA9IGNvbXBpbGVFbGVtZW50LnJlbmRlck5vZGU7XG4gICAgYm91bmRQcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChib3VuZFByb3ApIHtcbiAgICAgICAgdmFyIGJpbmRpbmdJbmRleCA9IHZpZXcuYmluZGluZ3MubGVuZ3RoO1xuICAgICAgICB2aWV3LmJpbmRpbmdzLnB1c2gobmV3IGNvbXBpbGVfYmluZGluZ18xLkNvbXBpbGVCaW5kaW5nKGNvbXBpbGVFbGVtZW50LCBib3VuZFByb3ApKTtcbiAgICAgICAgdmlldy5kZXRlY3RDaGFuZ2VzUmVuZGVyUHJvcGVydGllc01ldGhvZC5yZXNldERlYnVnSW5mbyhjb21waWxlRWxlbWVudC5ub2RlSW5kZXgsIGJvdW5kUHJvcCk7XG4gICAgICAgIHZhciBmaWVsZEV4cHIgPSBjcmVhdGVCaW5kRmllbGRFeHByKGJpbmRpbmdJbmRleCk7XG4gICAgICAgIHZhciBjdXJyVmFsRXhwciA9IGNyZWF0ZUN1cnJWYWx1ZUV4cHIoYmluZGluZ0luZGV4KTtcbiAgICAgICAgdmFyIHJlbmRlck1ldGhvZDtcbiAgICAgICAgdmFyIHJlbmRlclZhbHVlID0gc2FuaXRpemVkVmFsdWUoYm91bmRQcm9wLCBjdXJyVmFsRXhwcik7XG4gICAgICAgIHZhciB1cGRhdGVTdG10cyA9IFtdO1xuICAgICAgICBzd2l0Y2ggKGJvdW5kUHJvcC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIHRlbXBsYXRlX2FzdF8xLlByb3BlcnR5QmluZGluZ1R5cGUuUHJvcGVydHk6XG4gICAgICAgICAgICAgICAgcmVuZGVyTWV0aG9kID0gJ3NldEVsZW1lbnRQcm9wZXJ0eSc7XG4gICAgICAgICAgICAgICAgaWYgKHZpZXcuZ2VuQ29uZmlnLmxvZ0JpbmRpbmdVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlU3RtdHMucHVzaChsb2dCaW5kaW5nVXBkYXRlU3RtdChyZW5kZXJOb2RlLCBib3VuZFByb3AubmFtZSwgY3VyclZhbEV4cHIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHRlbXBsYXRlX2FzdF8xLlByb3BlcnR5QmluZGluZ1R5cGUuQXR0cmlidXRlOlxuICAgICAgICAgICAgICAgIHJlbmRlck1ldGhvZCA9ICdzZXRFbGVtZW50QXR0cmlidXRlJztcbiAgICAgICAgICAgICAgICByZW5kZXJWYWx1ZSA9XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlclZhbHVlLmlzQmxhbmsoKS5jb25kaXRpb25hbChvLk5VTExfRVhQUiwgcmVuZGVyVmFsdWUuY2FsbE1ldGhvZCgndG9TdHJpbmcnLCBbXSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0ZW1wbGF0ZV9hc3RfMS5Qcm9wZXJ0eUJpbmRpbmdUeXBlLkNsYXNzOlxuICAgICAgICAgICAgICAgIHJlbmRlck1ldGhvZCA9ICdzZXRFbGVtZW50Q2xhc3MnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0ZW1wbGF0ZV9hc3RfMS5Qcm9wZXJ0eUJpbmRpbmdUeXBlLlN0eWxlOlxuICAgICAgICAgICAgICAgIHJlbmRlck1ldGhvZCA9ICdzZXRFbGVtZW50U3R5bGUnO1xuICAgICAgICAgICAgICAgIHZhciBzdHJWYWx1ZSA9IHJlbmRlclZhbHVlLmNhbGxNZXRob2QoJ3RvU3RyaW5nJywgW10pO1xuICAgICAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGJvdW5kUHJvcC51bml0KSkge1xuICAgICAgICAgICAgICAgICAgICBzdHJWYWx1ZSA9IHN0clZhbHVlLnBsdXMoby5saXRlcmFsKGJvdW5kUHJvcC51bml0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlbmRlclZhbHVlID0gcmVuZGVyVmFsdWUuaXNCbGFuaygpLmNvbmRpdGlvbmFsKG8uTlVMTF9FWFBSLCBzdHJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlU3RtdHMucHVzaChvLlRISVNfRVhQUi5wcm9wKCdyZW5kZXJlcicpXG4gICAgICAgICAgICAuY2FsbE1ldGhvZChyZW5kZXJNZXRob2QsIFtyZW5kZXJOb2RlLCBvLmxpdGVyYWwoYm91bmRQcm9wLm5hbWUpLCByZW5kZXJWYWx1ZV0pXG4gICAgICAgICAgICAudG9TdG10KCkpO1xuICAgICAgICBiaW5kKHZpZXcsIGN1cnJWYWxFeHByLCBmaWVsZEV4cHIsIGJvdW5kUHJvcC52YWx1ZSwgY29udGV4dCwgdXBkYXRlU3RtdHMsIHZpZXcuZGV0ZWN0Q2hhbmdlc1JlbmRlclByb3BlcnRpZXNNZXRob2QpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gc2FuaXRpemVkVmFsdWUoYm91bmRQcm9wLCByZW5kZXJWYWx1ZSkge1xuICAgIHZhciBlbnVtVmFsdWU7XG4gICAgc3dpdGNoIChib3VuZFByb3Auc2VjdXJpdHlDb250ZXh0KSB7XG4gICAgICAgIGNhc2UgY29yZV9wcml2YXRlXzEuU2VjdXJpdHlDb250ZXh0Lk5PTkU6XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyVmFsdWU7IC8vIE5vIHNhbml0aXphdGlvbiBuZWVkZWQuXG4gICAgICAgIGNhc2UgY29yZV9wcml2YXRlXzEuU2VjdXJpdHlDb250ZXh0LkhUTUw6XG4gICAgICAgICAgICBlbnVtVmFsdWUgPSAnSFRNTCc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBjb3JlX3ByaXZhdGVfMS5TZWN1cml0eUNvbnRleHQuU1RZTEU6XG4gICAgICAgICAgICBlbnVtVmFsdWUgPSAnU1RZTEUnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgY29yZV9wcml2YXRlXzEuU2VjdXJpdHlDb250ZXh0LlNDUklQVDpcbiAgICAgICAgICAgIGVudW1WYWx1ZSA9ICdTQ1JJUFQnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgY29yZV9wcml2YXRlXzEuU2VjdXJpdHlDb250ZXh0LlVSTDpcbiAgICAgICAgICAgIGVudW1WYWx1ZSA9ICdVUkwnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgY29yZV9wcml2YXRlXzEuU2VjdXJpdHlDb250ZXh0LlJFU09VUkNFX1VSTDpcbiAgICAgICAgICAgIGVudW1WYWx1ZSA9ICdSRVNPVVJDRV9VUkwnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnRlcm5hbCBlcnJvciwgdW5leHBlY3RlZCBTZWN1cml0eUNvbnRleHQgXCIgKyBib3VuZFByb3Auc2VjdXJpdHlDb250ZXh0ICsgXCIuXCIpO1xuICAgIH1cbiAgICB2YXIgY3R4ID0gY29uc3RhbnRzXzEuVmlld1Byb3BlcnRpZXMudmlld1V0aWxzLnByb3AoJ3Nhbml0aXplcicpO1xuICAgIHZhciBhcmdzID0gW28uaW1wb3J0RXhwcihpZGVudGlmaWVyc18xLklkZW50aWZpZXJzLlNlY3VyaXR5Q29udGV4dCkucHJvcChlbnVtVmFsdWUpLCByZW5kZXJWYWx1ZV07XG4gICAgcmV0dXJuIGN0eC5jYWxsTWV0aG9kKCdzYW5pdGl6ZScsIGFyZ3MpO1xufVxuZnVuY3Rpb24gYmluZFJlbmRlcklucHV0cyhib3VuZFByb3BzLCBjb21waWxlRWxlbWVudCkge1xuICAgIGJpbmRBbmRXcml0ZVRvUmVuZGVyZXIoYm91bmRQcm9wcywgY29tcGlsZUVsZW1lbnQudmlldy5jb21wb25lbnRDb250ZXh0LCBjb21waWxlRWxlbWVudCk7XG59XG5leHBvcnRzLmJpbmRSZW5kZXJJbnB1dHMgPSBiaW5kUmVuZGVySW5wdXRzO1xuZnVuY3Rpb24gYmluZERpcmVjdGl2ZUhvc3RQcm9wcyhkaXJlY3RpdmVBc3QsIGRpcmVjdGl2ZUluc3RhbmNlLCBjb21waWxlRWxlbWVudCkge1xuICAgIGJpbmRBbmRXcml0ZVRvUmVuZGVyZXIoZGlyZWN0aXZlQXN0Lmhvc3RQcm9wZXJ0aWVzLCBkaXJlY3RpdmVJbnN0YW5jZSwgY29tcGlsZUVsZW1lbnQpO1xufVxuZXhwb3J0cy5iaW5kRGlyZWN0aXZlSG9zdFByb3BzID0gYmluZERpcmVjdGl2ZUhvc3RQcm9wcztcbmZ1bmN0aW9uIGJpbmREaXJlY3RpdmVJbnB1dHMoZGlyZWN0aXZlQXN0LCBkaXJlY3RpdmVJbnN0YW5jZSwgY29tcGlsZUVsZW1lbnQpIHtcbiAgICBpZiAoZGlyZWN0aXZlQXN0LmlucHV0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdmlldyA9IGNvbXBpbGVFbGVtZW50LnZpZXc7XG4gICAgdmFyIGRldGVjdENoYW5nZXNJbklucHV0c01ldGhvZCA9IHZpZXcuZGV0ZWN0Q2hhbmdlc0luSW5wdXRzTWV0aG9kO1xuICAgIGRldGVjdENoYW5nZXNJbklucHV0c01ldGhvZC5yZXNldERlYnVnSW5mbyhjb21waWxlRWxlbWVudC5ub2RlSW5kZXgsIGNvbXBpbGVFbGVtZW50LnNvdXJjZUFzdCk7XG4gICAgdmFyIGxpZmVjeWNsZUhvb2tzID0gZGlyZWN0aXZlQXN0LmRpcmVjdGl2ZS5saWZlY3ljbGVIb29rcztcbiAgICB2YXIgY2FsY0NoYW5nZXNNYXAgPSBsaWZlY3ljbGVIb29rcy5pbmRleE9mKGNvcmVfcHJpdmF0ZV8yLkxpZmVjeWNsZUhvb2tzLk9uQ2hhbmdlcykgIT09IC0xO1xuICAgIHZhciBpc09uUHVzaENvbXAgPSBkaXJlY3RpdmVBc3QuZGlyZWN0aXZlLmlzQ29tcG9uZW50ICYmXG4gICAgICAgICFjb3JlX3ByaXZhdGVfMi5pc0RlZmF1bHRDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneShkaXJlY3RpdmVBc3QuZGlyZWN0aXZlLmNoYW5nZURldGVjdGlvbik7XG4gICAgaWYgKGNhbGNDaGFuZ2VzTWFwKSB7XG4gICAgICAgIGRldGVjdENoYW5nZXNJbklucHV0c01ldGhvZC5hZGRTdG10KGNvbnN0YW50c18xLkRldGVjdENoYW5nZXNWYXJzLmNoYW5nZXMuc2V0KG8uTlVMTF9FWFBSKS50b1N0bXQoKSk7XG4gICAgfVxuICAgIGlmIChpc09uUHVzaENvbXApIHtcbiAgICAgICAgZGV0ZWN0Q2hhbmdlc0luSW5wdXRzTWV0aG9kLmFkZFN0bXQoY29uc3RhbnRzXzEuRGV0ZWN0Q2hhbmdlc1ZhcnMuY2hhbmdlZC5zZXQoby5saXRlcmFsKGZhbHNlKSkudG9TdG10KCkpO1xuICAgIH1cbiAgICBkaXJlY3RpdmVBc3QuaW5wdXRzLmZvckVhY2goZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHZhciBiaW5kaW5nSW5kZXggPSB2aWV3LmJpbmRpbmdzLmxlbmd0aDtcbiAgICAgICAgdmlldy5iaW5kaW5ncy5wdXNoKG5ldyBjb21waWxlX2JpbmRpbmdfMS5Db21waWxlQmluZGluZyhjb21waWxlRWxlbWVudCwgaW5wdXQpKTtcbiAgICAgICAgZGV0ZWN0Q2hhbmdlc0luSW5wdXRzTWV0aG9kLnJlc2V0RGVidWdJbmZvKGNvbXBpbGVFbGVtZW50Lm5vZGVJbmRleCwgaW5wdXQpO1xuICAgICAgICB2YXIgZmllbGRFeHByID0gY3JlYXRlQmluZEZpZWxkRXhwcihiaW5kaW5nSW5kZXgpO1xuICAgICAgICB2YXIgY3VyclZhbEV4cHIgPSBjcmVhdGVDdXJyVmFsdWVFeHByKGJpbmRpbmdJbmRleCk7XG4gICAgICAgIHZhciBzdGF0ZW1lbnRzID0gW2RpcmVjdGl2ZUluc3RhbmNlLnByb3AoaW5wdXQuZGlyZWN0aXZlTmFtZSkuc2V0KGN1cnJWYWxFeHByKS50b1N0bXQoKV07XG4gICAgICAgIGlmIChjYWxjQ2hhbmdlc01hcCkge1xuICAgICAgICAgICAgc3RhdGVtZW50cy5wdXNoKG5ldyBvLklmU3RtdChjb25zdGFudHNfMS5EZXRlY3RDaGFuZ2VzVmFycy5jaGFuZ2VzLmlkZW50aWNhbChvLk5VTExfRVhQUiksIFtcbiAgICAgICAgICAgICAgICBjb25zdGFudHNfMS5EZXRlY3RDaGFuZ2VzVmFycy5jaGFuZ2VzLnNldChvLmxpdGVyYWxNYXAoW10sIG5ldyBvLk1hcFR5cGUoby5pbXBvcnRUeXBlKGlkZW50aWZpZXJzXzEuSWRlbnRpZmllcnMuU2ltcGxlQ2hhbmdlKSkpKVxuICAgICAgICAgICAgICAgICAgICAudG9TdG10KClcbiAgICAgICAgICAgIF0pKTtcbiAgICAgICAgICAgIHN0YXRlbWVudHMucHVzaChjb25zdGFudHNfMS5EZXRlY3RDaGFuZ2VzVmFycy5jaGFuZ2VzLmtleShvLmxpdGVyYWwoaW5wdXQuZGlyZWN0aXZlTmFtZSkpXG4gICAgICAgICAgICAgICAgLnNldChvLmltcG9ydEV4cHIoaWRlbnRpZmllcnNfMS5JZGVudGlmaWVycy5TaW1wbGVDaGFuZ2UpLmluc3RhbnRpYXRlKFtmaWVsZEV4cHIsIGN1cnJWYWxFeHByXSkpXG4gICAgICAgICAgICAgICAgLnRvU3RtdCgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNPblB1c2hDb21wKSB7XG4gICAgICAgICAgICBzdGF0ZW1lbnRzLnB1c2goY29uc3RhbnRzXzEuRGV0ZWN0Q2hhbmdlc1ZhcnMuY2hhbmdlZC5zZXQoby5saXRlcmFsKHRydWUpKS50b1N0bXQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZpZXcuZ2VuQ29uZmlnLmxvZ0JpbmRpbmdVcGRhdGUpIHtcbiAgICAgICAgICAgIHN0YXRlbWVudHMucHVzaChsb2dCaW5kaW5nVXBkYXRlU3RtdChjb21waWxlRWxlbWVudC5yZW5kZXJOb2RlLCBpbnB1dC5kaXJlY3RpdmVOYW1lLCBjdXJyVmFsRXhwcikpO1xuICAgICAgICB9XG4gICAgICAgIGJpbmQodmlldywgY3VyclZhbEV4cHIsIGZpZWxkRXhwciwgaW5wdXQudmFsdWUsIHZpZXcuY29tcG9uZW50Q29udGV4dCwgc3RhdGVtZW50cywgZGV0ZWN0Q2hhbmdlc0luSW5wdXRzTWV0aG9kKTtcbiAgICB9KTtcbiAgICBpZiAoaXNPblB1c2hDb21wKSB7XG4gICAgICAgIGRldGVjdENoYW5nZXNJbklucHV0c01ldGhvZC5hZGRTdG10KG5ldyBvLklmU3RtdChjb25zdGFudHNfMS5EZXRlY3RDaGFuZ2VzVmFycy5jaGFuZ2VkLCBbXG4gICAgICAgICAgICBjb21waWxlRWxlbWVudC5hcHBFbGVtZW50LnByb3AoJ2NvbXBvbmVudFZpZXcnKVxuICAgICAgICAgICAgICAgIC5jYWxsTWV0aG9kKCdtYXJrQXNDaGVja09uY2UnLCBbXSlcbiAgICAgICAgICAgICAgICAudG9TdG10KClcbiAgICAgICAgXSkpO1xuICAgIH1cbn1cbmV4cG9ydHMuYmluZERpcmVjdGl2ZUlucHV0cyA9IGJpbmREaXJlY3RpdmVJbnB1dHM7XG5mdW5jdGlvbiBsb2dCaW5kaW5nVXBkYXRlU3RtdChyZW5kZXJOb2RlLCBwcm9wTmFtZSwgdmFsdWUpIHtcbiAgICByZXR1cm4gby5USElTX0VYUFIucHJvcCgncmVuZGVyZXInKVxuICAgICAgICAuY2FsbE1ldGhvZCgnc2V0QmluZGluZ0RlYnVnSW5mbycsIFtcbiAgICAgICAgcmVuZGVyTm9kZSxcbiAgICAgICAgby5saXRlcmFsKFwibmctcmVmbGVjdC1cIiArIHV0aWxfMS5jYW1lbENhc2VUb0Rhc2hDYXNlKHByb3BOYW1lKSksXG4gICAgICAgIHZhbHVlLmlzQmxhbmsoKS5jb25kaXRpb25hbChvLk5VTExfRVhQUiwgdmFsdWUuY2FsbE1ldGhvZCgndG9TdHJpbmcnLCBbXSkpXG4gICAgXSlcbiAgICAgICAgLnRvU3RtdCgpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvcGVydHlfYmluZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvZXhjZXB0aW9ucycpO1xudmFyIG8gPSByZXF1aXJlKCcuLi9vdXRwdXQvb3V0cHV0X2FzdCcpO1xudmFyIGlkZW50aWZpZXJzXzEgPSByZXF1aXJlKCcuLi9pZGVudGlmaWVycycpO1xuZnVuY3Rpb24gZ2V0UHJvcGVydHlJblZpZXcocHJvcGVydHksIGNhbGxpbmdWaWV3LCBkZWZpbmVkVmlldykge1xuICAgIGlmIChjYWxsaW5nVmlldyA9PT0gZGVmaW5lZFZpZXcpIHtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHZpZXdQcm9wID0gby5USElTX0VYUFI7XG4gICAgICAgIHZhciBjdXJyVmlldyA9IGNhbGxpbmdWaWV3O1xuICAgICAgICB3aGlsZSAoY3VyclZpZXcgIT09IGRlZmluZWRWaWV3ICYmIGxhbmdfMS5pc1ByZXNlbnQoY3VyclZpZXcuZGVjbGFyYXRpb25FbGVtZW50LnZpZXcpKSB7XG4gICAgICAgICAgICBjdXJyVmlldyA9IGN1cnJWaWV3LmRlY2xhcmF0aW9uRWxlbWVudC52aWV3O1xuICAgICAgICAgICAgdmlld1Byb3AgPSB2aWV3UHJvcC5wcm9wKCdwYXJlbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VyclZpZXcgIT09IGRlZmluZWRWaWV3KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJJbnRlcm5hbCBlcnJvcjogQ291bGQgbm90IGNhbGN1bGF0ZSBhIHByb3BlcnR5IGluIGEgcGFyZW50IHZpZXc6IFwiICsgcHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wZXJ0eSBpbnN0YW5jZW9mIG8uUmVhZFByb3BFeHByKSB7XG4gICAgICAgICAgICB2YXIgcmVhZFByb3BFeHByXzEgPSBwcm9wZXJ0eTtcbiAgICAgICAgICAgIC8vIE5vdGU6IERvbid0IGNhc3QgZm9yIG1lbWJlcnMgb2YgdGhlIEFwcFZpZXcgYmFzZSBjbGFzcy4uLlxuICAgICAgICAgICAgaWYgKGRlZmluZWRWaWV3LmZpZWxkcy5zb21lKGZ1bmN0aW9uIChmaWVsZCkgeyByZXR1cm4gZmllbGQubmFtZSA9PSByZWFkUHJvcEV4cHJfMS5uYW1lOyB9KSB8fFxuICAgICAgICAgICAgICAgIGRlZmluZWRWaWV3LmdldHRlcnMuc29tZShmdW5jdGlvbiAoZmllbGQpIHsgcmV0dXJuIGZpZWxkLm5hbWUgPT0gcmVhZFByb3BFeHByXzEubmFtZTsgfSkpIHtcbiAgICAgICAgICAgICAgICB2aWV3UHJvcCA9IHZpZXdQcm9wLmNhc3QoZGVmaW5lZFZpZXcuY2xhc3NUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gby5yZXBsYWNlVmFySW5FeHByZXNzaW9uKG8uVEhJU19FWFBSLm5hbWUsIHZpZXdQcm9wLCBwcm9wZXJ0eSk7XG4gICAgfVxufVxuZXhwb3J0cy5nZXRQcm9wZXJ0eUluVmlldyA9IGdldFByb3BlcnR5SW5WaWV3O1xuZnVuY3Rpb24gaW5qZWN0RnJvbVZpZXdQYXJlbnRJbmplY3Rvcih0b2tlbiwgb3B0aW9uYWwpIHtcbiAgICB2YXIgYXJncyA9IFtjcmVhdGVEaVRva2VuRXhwcmVzc2lvbih0b2tlbildO1xuICAgIGlmIChvcHRpb25hbCkge1xuICAgICAgICBhcmdzLnB1c2goby5OVUxMX0VYUFIpO1xuICAgIH1cbiAgICByZXR1cm4gby5USElTX0VYUFIucHJvcCgncGFyZW50SW5qZWN0b3InKS5jYWxsTWV0aG9kKCdnZXQnLCBhcmdzKTtcbn1cbmV4cG9ydHMuaW5qZWN0RnJvbVZpZXdQYXJlbnRJbmplY3RvciA9IGluamVjdEZyb21WaWV3UGFyZW50SW5qZWN0b3I7XG5mdW5jdGlvbiBnZXRWaWV3RmFjdG9yeU5hbWUoY29tcG9uZW50LCBlbWJlZGRlZFRlbXBsYXRlSW5kZXgpIHtcbiAgICByZXR1cm4gXCJ2aWV3RmFjdG9yeV9cIiArIGNvbXBvbmVudC50eXBlLm5hbWUgKyBlbWJlZGRlZFRlbXBsYXRlSW5kZXg7XG59XG5leHBvcnRzLmdldFZpZXdGYWN0b3J5TmFtZSA9IGdldFZpZXdGYWN0b3J5TmFtZTtcbmZ1bmN0aW9uIGNyZWF0ZURpVG9rZW5FeHByZXNzaW9uKHRva2VuKSB7XG4gICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodG9rZW4udmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBvLmxpdGVyYWwodG9rZW4udmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0b2tlbi5pZGVudGlmaWVySXNJbnN0YW5jZSkge1xuICAgICAgICByZXR1cm4gby5pbXBvcnRFeHByKHRva2VuLmlkZW50aWZpZXIpXG4gICAgICAgICAgICAuaW5zdGFudGlhdGUoW10sIG8uaW1wb3J0VHlwZSh0b2tlbi5pZGVudGlmaWVyLCBbXSwgW28uVHlwZU1vZGlmaWVyLkNvbnN0XSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG8uaW1wb3J0RXhwcih0b2tlbi5pZGVudGlmaWVyKTtcbiAgICB9XG59XG5leHBvcnRzLmNyZWF0ZURpVG9rZW5FeHByZXNzaW9uID0gY3JlYXRlRGlUb2tlbkV4cHJlc3Npb247XG5mdW5jdGlvbiBjcmVhdGVGbGF0QXJyYXkoZXhwcmVzc2lvbnMpIHtcbiAgICB2YXIgbGFzdE5vbkFycmF5RXhwcmVzc2lvbnMgPSBbXTtcbiAgICB2YXIgcmVzdWx0ID0gby5saXRlcmFsQXJyKFtdKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cHJlc3Npb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBleHByID0gZXhwcmVzc2lvbnNbaV07XG4gICAgICAgIGlmIChleHByLnR5cGUgaW5zdGFuY2VvZiBvLkFycmF5VHlwZSkge1xuICAgICAgICAgICAgaWYgKGxhc3ROb25BcnJheUV4cHJlc3Npb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuY2FsbE1ldGhvZChvLkJ1aWx0aW5NZXRob2QuQ29uY2F0QXJyYXksIFtvLmxpdGVyYWxBcnIobGFzdE5vbkFycmF5RXhwcmVzc2lvbnMpXSk7XG4gICAgICAgICAgICAgICAgbGFzdE5vbkFycmF5RXhwcmVzc2lvbnMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jYWxsTWV0aG9kKG8uQnVpbHRpbk1ldGhvZC5Db25jYXRBcnJheSwgW2V4cHJdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxhc3ROb25BcnJheUV4cHJlc3Npb25zLnB1c2goZXhwcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxhc3ROb25BcnJheUV4cHJlc3Npb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzdWx0ID1cbiAgICAgICAgICAgIHJlc3VsdC5jYWxsTWV0aG9kKG8uQnVpbHRpbk1ldGhvZC5Db25jYXRBcnJheSwgW28ubGl0ZXJhbEFycihsYXN0Tm9uQXJyYXlFeHByZXNzaW9ucyldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMuY3JlYXRlRmxhdEFycmF5ID0gY3JlYXRlRmxhdEFycmF5O1xuZnVuY3Rpb24gY3JlYXRlUHVyZVByb3h5KGZuLCBhcmdDb3VudCwgcHVyZVByb3h5UHJvcCwgdmlldykge1xuICAgIHZpZXcuZmllbGRzLnB1c2gobmV3IG8uQ2xhc3NGaWVsZChwdXJlUHJveHlQcm9wLm5hbWUsIG51bGwpKTtcbiAgICB2YXIgcHVyZVByb3h5SWQgPSBhcmdDb3VudCA8IGlkZW50aWZpZXJzXzEuSWRlbnRpZmllcnMucHVyZVByb3hpZXMubGVuZ3RoID8gaWRlbnRpZmllcnNfMS5JZGVudGlmaWVycy5wdXJlUHJveGllc1thcmdDb3VudF0gOiBudWxsO1xuICAgIGlmIChsYW5nXzEuaXNCbGFuayhwdXJlUHJveHlJZCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiVW5zdXBwb3J0ZWQgbnVtYmVyIG9mIGFyZ3VtZW50IGZvciBwdXJlIGZ1bmN0aW9uczogXCIgKyBhcmdDb3VudCk7XG4gICAgfVxuICAgIHZpZXcuY3JlYXRlTWV0aG9kLmFkZFN0bXQoby5USElTX0VYUFIucHJvcChwdXJlUHJveHlQcm9wLm5hbWUpLnNldChvLmltcG9ydEV4cHIocHVyZVByb3h5SWQpLmNhbGxGbihbZm5dKSkudG9TdG10KCkpO1xufVxuZXhwb3J0cy5jcmVhdGVQdXJlUHJveHkgPSBjcmVhdGVQdXJlUHJveHk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIHRlbXBsYXRlX2FzdF8xID0gcmVxdWlyZSgnLi4vdGVtcGxhdGVfYXN0Jyk7XG52YXIgcHJvcGVydHlfYmluZGVyXzEgPSByZXF1aXJlKCcuL3Byb3BlcnR5X2JpbmRlcicpO1xudmFyIGV2ZW50X2JpbmRlcl8xID0gcmVxdWlyZSgnLi9ldmVudF9iaW5kZXInKTtcbnZhciBsaWZlY3ljbGVfYmluZGVyXzEgPSByZXF1aXJlKCcuL2xpZmVjeWNsZV9iaW5kZXInKTtcbmZ1bmN0aW9uIGJpbmRWaWV3KHZpZXcsIHBhcnNlZFRlbXBsYXRlKSB7XG4gICAgdmFyIHZpc2l0b3IgPSBuZXcgVmlld0JpbmRlclZpc2l0b3Iodmlldyk7XG4gICAgdGVtcGxhdGVfYXN0XzEudGVtcGxhdGVWaXNpdEFsbCh2aXNpdG9yLCBwYXJzZWRUZW1wbGF0ZSk7XG4gICAgdmlldy5waXBlcy5mb3JFYWNoKGZ1bmN0aW9uIChwaXBlKSB7IGxpZmVjeWNsZV9iaW5kZXJfMS5iaW5kUGlwZURlc3Ryb3lMaWZlY3ljbGVDYWxsYmFja3MocGlwZS5tZXRhLCBwaXBlLmluc3RhbmNlLCBwaXBlLnZpZXcpOyB9KTtcbn1cbmV4cG9ydHMuYmluZFZpZXcgPSBiaW5kVmlldztcbnZhciBWaWV3QmluZGVyVmlzaXRvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlld0JpbmRlclZpc2l0b3Iodmlldykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLl9ub2RlSW5kZXggPSAwO1xuICAgIH1cbiAgICBWaWV3QmluZGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRCb3VuZFRleHQgPSBmdW5jdGlvbiAoYXN0LCBwYXJlbnQpIHtcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLnZpZXcubm9kZXNbdGhpcy5fbm9kZUluZGV4KytdO1xuICAgICAgICBwcm9wZXJ0eV9iaW5kZXJfMS5iaW5kUmVuZGVyVGV4dChhc3QsIG5vZGUsIHRoaXMudmlldyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgVmlld0JpbmRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGV4dCA9IGZ1bmN0aW9uIChhc3QsIHBhcmVudCkge1xuICAgICAgICB0aGlzLl9ub2RlSW5kZXgrKztcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBWaWV3QmluZGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXROZ0NvbnRlbnQgPSBmdW5jdGlvbiAoYXN0LCBwYXJlbnQpIHsgcmV0dXJuIG51bGw7IH07XG4gICAgVmlld0JpbmRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0RWxlbWVudCA9IGZ1bmN0aW9uIChhc3QsIHBhcmVudCkge1xuICAgICAgICB2YXIgY29tcGlsZUVsZW1lbnQgPSB0aGlzLnZpZXcubm9kZXNbdGhpcy5fbm9kZUluZGV4KytdO1xuICAgICAgICB2YXIgZXZlbnRMaXN0ZW5lcnMgPSBldmVudF9iaW5kZXJfMS5jb2xsZWN0RXZlbnRMaXN0ZW5lcnMoYXN0Lm91dHB1dHMsIGFzdC5kaXJlY3RpdmVzLCBjb21waWxlRWxlbWVudCk7XG4gICAgICAgIHByb3BlcnR5X2JpbmRlcl8xLmJpbmRSZW5kZXJJbnB1dHMoYXN0LmlucHV0cywgY29tcGlsZUVsZW1lbnQpO1xuICAgICAgICBldmVudF9iaW5kZXJfMS5iaW5kUmVuZGVyT3V0cHV0cyhldmVudExpc3RlbmVycyk7XG4gICAgICAgIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5mb3JFYWNoV2l0aEluZGV4KGFzdC5kaXJlY3RpdmVzLCBmdW5jdGlvbiAoZGlyZWN0aXZlQXN0LCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZUluc3RhbmNlID0gY29tcGlsZUVsZW1lbnQuZGlyZWN0aXZlSW5zdGFuY2VzW2luZGV4XTtcbiAgICAgICAgICAgIHByb3BlcnR5X2JpbmRlcl8xLmJpbmREaXJlY3RpdmVJbnB1dHMoZGlyZWN0aXZlQXN0LCBkaXJlY3RpdmVJbnN0YW5jZSwgY29tcGlsZUVsZW1lbnQpO1xuICAgICAgICAgICAgbGlmZWN5Y2xlX2JpbmRlcl8xLmJpbmREaXJlY3RpdmVEZXRlY3RDaGFuZ2VzTGlmZWN5Y2xlQ2FsbGJhY2tzKGRpcmVjdGl2ZUFzdCwgZGlyZWN0aXZlSW5zdGFuY2UsIGNvbXBpbGVFbGVtZW50KTtcbiAgICAgICAgICAgIHByb3BlcnR5X2JpbmRlcl8xLmJpbmREaXJlY3RpdmVIb3N0UHJvcHMoZGlyZWN0aXZlQXN0LCBkaXJlY3RpdmVJbnN0YW5jZSwgY29tcGlsZUVsZW1lbnQpO1xuICAgICAgICAgICAgZXZlbnRfYmluZGVyXzEuYmluZERpcmVjdGl2ZU91dHB1dHMoZGlyZWN0aXZlQXN0LCBkaXJlY3RpdmVJbnN0YW5jZSwgZXZlbnRMaXN0ZW5lcnMpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGVtcGxhdGVfYXN0XzEudGVtcGxhdGVWaXNpdEFsbCh0aGlzLCBhc3QuY2hpbGRyZW4sIGNvbXBpbGVFbGVtZW50KTtcbiAgICAgICAgLy8gYWZ0ZXJDb250ZW50IGFuZCBhZnRlclZpZXcgbGlmZWN5Y2xlcyBuZWVkIHRvIGJlIGNhbGxlZCBib3R0b20gdXBcbiAgICAgICAgLy8gc28gdGhhdCBjaGlsZHJlbiBhcmUgbm90aWZpZWQgYmVmb3JlIHBhcmVudHNcbiAgICAgICAgY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmZvckVhY2hXaXRoSW5kZXgoYXN0LmRpcmVjdGl2ZXMsIGZ1bmN0aW9uIChkaXJlY3RpdmVBc3QsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlSW5zdGFuY2UgPSBjb21waWxlRWxlbWVudC5kaXJlY3RpdmVJbnN0YW5jZXNbaW5kZXhdO1xuICAgICAgICAgICAgbGlmZWN5Y2xlX2JpbmRlcl8xLmJpbmREaXJlY3RpdmVBZnRlckNvbnRlbnRMaWZlY3ljbGVDYWxsYmFja3MoZGlyZWN0aXZlQXN0LmRpcmVjdGl2ZSwgZGlyZWN0aXZlSW5zdGFuY2UsIGNvbXBpbGVFbGVtZW50KTtcbiAgICAgICAgICAgIGxpZmVjeWNsZV9iaW5kZXJfMS5iaW5kRGlyZWN0aXZlQWZ0ZXJWaWV3TGlmZWN5Y2xlQ2FsbGJhY2tzKGRpcmVjdGl2ZUFzdC5kaXJlY3RpdmUsIGRpcmVjdGl2ZUluc3RhbmNlLCBjb21waWxlRWxlbWVudCk7XG4gICAgICAgICAgICBsaWZlY3ljbGVfYmluZGVyXzEuYmluZERpcmVjdGl2ZURlc3Ryb3lMaWZlY3ljbGVDYWxsYmFja3MoZGlyZWN0aXZlQXN0LmRpcmVjdGl2ZSwgZGlyZWN0aXZlSW5zdGFuY2UsIGNvbXBpbGVFbGVtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgVmlld0JpbmRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0RW1iZWRkZWRUZW1wbGF0ZSA9IGZ1bmN0aW9uIChhc3QsIHBhcmVudCkge1xuICAgICAgICB2YXIgY29tcGlsZUVsZW1lbnQgPSB0aGlzLnZpZXcubm9kZXNbdGhpcy5fbm9kZUluZGV4KytdO1xuICAgICAgICB2YXIgZXZlbnRMaXN0ZW5lcnMgPSBldmVudF9iaW5kZXJfMS5jb2xsZWN0RXZlbnRMaXN0ZW5lcnMoYXN0Lm91dHB1dHMsIGFzdC5kaXJlY3RpdmVzLCBjb21waWxlRWxlbWVudCk7XG4gICAgICAgIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5mb3JFYWNoV2l0aEluZGV4KGFzdC5kaXJlY3RpdmVzLCBmdW5jdGlvbiAoZGlyZWN0aXZlQXN0LCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZUluc3RhbmNlID0gY29tcGlsZUVsZW1lbnQuZGlyZWN0aXZlSW5zdGFuY2VzW2luZGV4XTtcbiAgICAgICAgICAgIHByb3BlcnR5X2JpbmRlcl8xLmJpbmREaXJlY3RpdmVJbnB1dHMoZGlyZWN0aXZlQXN0LCBkaXJlY3RpdmVJbnN0YW5jZSwgY29tcGlsZUVsZW1lbnQpO1xuICAgICAgICAgICAgbGlmZWN5Y2xlX2JpbmRlcl8xLmJpbmREaXJlY3RpdmVEZXRlY3RDaGFuZ2VzTGlmZWN5Y2xlQ2FsbGJhY2tzKGRpcmVjdGl2ZUFzdCwgZGlyZWN0aXZlSW5zdGFuY2UsIGNvbXBpbGVFbGVtZW50KTtcbiAgICAgICAgICAgIGV2ZW50X2JpbmRlcl8xLmJpbmREaXJlY3RpdmVPdXRwdXRzKGRpcmVjdGl2ZUFzdCwgZGlyZWN0aXZlSW5zdGFuY2UsIGV2ZW50TGlzdGVuZXJzKTtcbiAgICAgICAgICAgIGxpZmVjeWNsZV9iaW5kZXJfMS5iaW5kRGlyZWN0aXZlQWZ0ZXJDb250ZW50TGlmZWN5Y2xlQ2FsbGJhY2tzKGRpcmVjdGl2ZUFzdC5kaXJlY3RpdmUsIGRpcmVjdGl2ZUluc3RhbmNlLCBjb21waWxlRWxlbWVudCk7XG4gICAgICAgICAgICBsaWZlY3ljbGVfYmluZGVyXzEuYmluZERpcmVjdGl2ZUFmdGVyVmlld0xpZmVjeWNsZUNhbGxiYWNrcyhkaXJlY3RpdmVBc3QuZGlyZWN0aXZlLCBkaXJlY3RpdmVJbnN0YW5jZSwgY29tcGlsZUVsZW1lbnQpO1xuICAgICAgICAgICAgbGlmZWN5Y2xlX2JpbmRlcl8xLmJpbmREaXJlY3RpdmVEZXN0cm95TGlmZWN5Y2xlQ2FsbGJhY2tzKGRpcmVjdGl2ZUFzdC5kaXJlY3RpdmUsIGRpcmVjdGl2ZUluc3RhbmNlLCBjb21waWxlRWxlbWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICBiaW5kVmlldyhjb21waWxlRWxlbWVudC5lbWJlZGRlZFZpZXcsIGFzdC5jaGlsZHJlbik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgVmlld0JpbmRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0QXR0ciA9IGZ1bmN0aW9uIChhc3QsIGN0eCkgeyByZXR1cm4gbnVsbDsgfTtcbiAgICBWaWV3QmluZGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXREaXJlY3RpdmUgPSBmdW5jdGlvbiAoYXN0LCBjdHgpIHsgcmV0dXJuIG51bGw7IH07XG4gICAgVmlld0JpbmRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0RXZlbnQgPSBmdW5jdGlvbiAoYXN0LCBldmVudFRhcmdldEFuZE5hbWVzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgVmlld0JpbmRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0UmVmZXJlbmNlID0gZnVuY3Rpb24gKGFzdCwgY3R4KSB7IHJldHVybiBudWxsOyB9O1xuICAgIFZpZXdCaW5kZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdFZhcmlhYmxlID0gZnVuY3Rpb24gKGFzdCwgY3R4KSB7IHJldHVybiBudWxsOyB9O1xuICAgIFZpZXdCaW5kZXJWaXNpdG9yLnByb3RvdHlwZS52aXNpdERpcmVjdGl2ZVByb3BlcnR5ID0gZnVuY3Rpb24gKGFzdCwgY29udGV4dCkgeyByZXR1cm4gbnVsbDsgfTtcbiAgICBWaWV3QmluZGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRFbGVtZW50UHJvcGVydHkgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7IHJldHVybiBudWxsOyB9O1xuICAgIHJldHVybiBWaWV3QmluZGVyVmlzaXRvcjtcbn0oKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3X2JpbmRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgY29yZV9wcml2YXRlXzEgPSByZXF1aXJlKCcuLi8uLi9jb3JlX3ByaXZhdGUnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBvID0gcmVxdWlyZSgnLi4vb3V0cHV0L291dHB1dF9hc3QnKTtcbnZhciBpZGVudGlmaWVyc18xID0gcmVxdWlyZSgnLi4vaWRlbnRpZmllcnMnKTtcbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoJy4vY29uc3RhbnRzJyk7XG52YXIgY29tcGlsZV92aWV3XzEgPSByZXF1aXJlKCcuL2NvbXBpbGVfdmlldycpO1xudmFyIGNvbXBpbGVfZWxlbWVudF8xID0gcmVxdWlyZSgnLi9jb21waWxlX2VsZW1lbnQnKTtcbnZhciB0ZW1wbGF0ZV9hc3RfMSA9IHJlcXVpcmUoJy4uL3RlbXBsYXRlX2FzdCcpO1xudmFyIHV0aWxfMSA9IHJlcXVpcmUoJy4vdXRpbCcpO1xudmFyIGNvbXBpbGVfbWV0YWRhdGFfMSA9IHJlcXVpcmUoJy4uL2NvbXBpbGVfbWV0YWRhdGEnKTtcbnZhciBJTVBMSUNJVF9URU1QTEFURV9WQVIgPSAnXFwkaW1wbGljaXQnO1xudmFyIENMQVNTX0FUVFIgPSAnY2xhc3MnO1xudmFyIFNUWUxFX0FUVFIgPSAnc3R5bGUnO1xudmFyIHBhcmVudFJlbmRlck5vZGVWYXIgPSBvLnZhcmlhYmxlKCdwYXJlbnRSZW5kZXJOb2RlJyk7XG52YXIgcm9vdFNlbGVjdG9yVmFyID0gby52YXJpYWJsZSgncm9vdFNlbGVjdG9yJyk7XG52YXIgVmlld0NvbXBpbGVEZXBlbmRlbmN5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWaWV3Q29tcGlsZURlcGVuZGVuY3koY29tcCwgZmFjdG9yeVBsYWNlaG9sZGVyKSB7XG4gICAgICAgIHRoaXMuY29tcCA9IGNvbXA7XG4gICAgICAgIHRoaXMuZmFjdG9yeVBsYWNlaG9sZGVyID0gZmFjdG9yeVBsYWNlaG9sZGVyO1xuICAgIH1cbiAgICByZXR1cm4gVmlld0NvbXBpbGVEZXBlbmRlbmN5O1xufSgpKTtcbmV4cG9ydHMuVmlld0NvbXBpbGVEZXBlbmRlbmN5ID0gVmlld0NvbXBpbGVEZXBlbmRlbmN5O1xuZnVuY3Rpb24gYnVpbGRWaWV3KHZpZXcsIHRlbXBsYXRlLCB0YXJnZXREZXBlbmRlbmNpZXMpIHtcbiAgICB2YXIgYnVpbGRlclZpc2l0b3IgPSBuZXcgVmlld0J1aWxkZXJWaXNpdG9yKHZpZXcsIHRhcmdldERlcGVuZGVuY2llcyk7XG4gICAgdGVtcGxhdGVfYXN0XzEudGVtcGxhdGVWaXNpdEFsbChidWlsZGVyVmlzaXRvciwgdGVtcGxhdGUsIHZpZXcuZGVjbGFyYXRpb25FbGVtZW50LmlzTnVsbCgpID9cbiAgICAgICAgdmlldy5kZWNsYXJhdGlvbkVsZW1lbnQgOlxuICAgICAgICB2aWV3LmRlY2xhcmF0aW9uRWxlbWVudC5wYXJlbnQpO1xuICAgIHJldHVybiBidWlsZGVyVmlzaXRvci5uZXN0ZWRWaWV3Q291bnQ7XG59XG5leHBvcnRzLmJ1aWxkVmlldyA9IGJ1aWxkVmlldztcbmZ1bmN0aW9uIGZpbmlzaFZpZXcodmlldywgdGFyZ2V0U3RhdGVtZW50cykge1xuICAgIHZpZXcuYWZ0ZXJOb2RlcygpO1xuICAgIGNyZWF0ZVZpZXdUb3BMZXZlbFN0bXRzKHZpZXcsIHRhcmdldFN0YXRlbWVudHMpO1xuICAgIHZpZXcubm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIGNvbXBpbGVfZWxlbWVudF8xLkNvbXBpbGVFbGVtZW50ICYmIG5vZGUuaGFzRW1iZWRkZWRWaWV3KSB7XG4gICAgICAgICAgICBmaW5pc2hWaWV3KG5vZGUuZW1iZWRkZWRWaWV3LCB0YXJnZXRTdGF0ZW1lbnRzKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy5maW5pc2hWaWV3ID0gZmluaXNoVmlldztcbnZhciBWaWV3QnVpbGRlclZpc2l0b3IgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZpZXdCdWlsZGVyVmlzaXRvcih2aWV3LCB0YXJnZXREZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy50YXJnZXREZXBlbmRlbmNpZXMgPSB0YXJnZXREZXBlbmRlbmNpZXM7XG4gICAgICAgIHRoaXMubmVzdGVkVmlld0NvdW50ID0gMDtcbiAgICB9XG4gICAgVmlld0J1aWxkZXJWaXNpdG9yLnByb3RvdHlwZS5faXNSb290Tm9kZSA9IGZ1bmN0aW9uIChwYXJlbnQpIHsgcmV0dXJuIHBhcmVudC52aWV3ICE9PSB0aGlzLnZpZXc7IH07XG4gICAgVmlld0J1aWxkZXJWaXNpdG9yLnByb3RvdHlwZS5fYWRkUm9vdE5vZGVBbmRQcm9qZWN0ID0gZnVuY3Rpb24gKG5vZGUsIG5nQ29udGVudEluZGV4LCBwYXJlbnQpIHtcbiAgICAgICAgdmFyIHZjQXBwRWwgPSAobm9kZSBpbnN0YW5jZW9mIGNvbXBpbGVfZWxlbWVudF8xLkNvbXBpbGVFbGVtZW50ICYmIG5vZGUuaGFzVmlld0NvbnRhaW5lcikgPyBub2RlLmFwcEVsZW1lbnQgOiBudWxsO1xuICAgICAgICBpZiAodGhpcy5faXNSb290Tm9kZShwYXJlbnQpKSB7XG4gICAgICAgICAgICAvLyBzdG9yZSBhcHBFbGVtZW50IGFzIHJvb3Qgbm9kZSBvbmx5IGZvciBWaWV3Q29udGFpbmVyc1xuICAgICAgICAgICAgaWYgKHRoaXMudmlldy52aWV3VHlwZSAhPT0gY29yZV9wcml2YXRlXzEuVmlld1R5cGUuQ09NUE9ORU5UKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnJvb3ROb2Rlc09yQXBwRWxlbWVudHMucHVzaChsYW5nXzEuaXNQcmVzZW50KHZjQXBwRWwpID8gdmNBcHBFbCA6IG5vZGUucmVuZGVyTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGFuZ18xLmlzUHJlc2VudChwYXJlbnQuY29tcG9uZW50KSAmJiBsYW5nXzEuaXNQcmVzZW50KG5nQ29udGVudEluZGV4KSkge1xuICAgICAgICAgICAgcGFyZW50LmFkZENvbnRlbnROb2RlKG5nQ29udGVudEluZGV4LCBsYW5nXzEuaXNQcmVzZW50KHZjQXBwRWwpID8gdmNBcHBFbCA6IG5vZGUucmVuZGVyTm9kZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpZXdCdWlsZGVyVmlzaXRvci5wcm90b3R5cGUuX2dldFBhcmVudFJlbmRlck5vZGUgPSBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1Jvb3ROb2RlKHBhcmVudCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXcudmlld1R5cGUgPT09IGNvcmVfcHJpdmF0ZV8xLlZpZXdUeXBlLkNPTVBPTkVOVCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnRSZW5kZXJOb2RlVmFyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcm9vdCBub2RlIG9mIGFuIGVtYmVkZGVkL2hvc3Qgdmlld1xuICAgICAgICAgICAgICAgIHJldHVybiBvLk5VTExfRVhQUjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHBhcmVudC5jb21wb25lbnQpICYmXG4gICAgICAgICAgICAgICAgcGFyZW50LmNvbXBvbmVudC50ZW1wbGF0ZS5lbmNhcHN1bGF0aW9uICE9PSBjb3JlXzEuVmlld0VuY2Fwc3VsYXRpb24uTmF0aXZlID9cbiAgICAgICAgICAgICAgICBvLk5VTExfRVhQUiA6XG4gICAgICAgICAgICAgICAgcGFyZW50LnJlbmRlck5vZGU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpZXdCdWlsZGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRCb3VuZFRleHQgPSBmdW5jdGlvbiAoYXN0LCBwYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc2l0VGV4dChhc3QsICcnLCBhc3QubmdDb250ZW50SW5kZXgsIHBhcmVudCk7XG4gICAgfTtcbiAgICBWaWV3QnVpbGRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0VGV4dCA9IGZ1bmN0aW9uIChhc3QsIHBhcmVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmlzaXRUZXh0KGFzdCwgYXN0LnZhbHVlLCBhc3QubmdDb250ZW50SW5kZXgsIHBhcmVudCk7XG4gICAgfTtcbiAgICBWaWV3QnVpbGRlclZpc2l0b3IucHJvdG90eXBlLl92aXNpdFRleHQgPSBmdW5jdGlvbiAoYXN0LCB2YWx1ZSwgbmdDb250ZW50SW5kZXgsIHBhcmVudCkge1xuICAgICAgICB2YXIgZmllbGROYW1lID0gXCJfdGV4dF9cIiArIHRoaXMudmlldy5ub2Rlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMudmlldy5maWVsZHMucHVzaChuZXcgby5DbGFzc0ZpZWxkKGZpZWxkTmFtZSwgby5pbXBvcnRUeXBlKHRoaXMudmlldy5nZW5Db25maWcucmVuZGVyVHlwZXMucmVuZGVyVGV4dCkpKTtcbiAgICAgICAgdmFyIHJlbmRlck5vZGUgPSBvLlRISVNfRVhQUi5wcm9wKGZpZWxkTmFtZSk7XG4gICAgICAgIHZhciBjb21waWxlTm9kZSA9IG5ldyBjb21waWxlX2VsZW1lbnRfMS5Db21waWxlTm9kZShwYXJlbnQsIHRoaXMudmlldywgdGhpcy52aWV3Lm5vZGVzLmxlbmd0aCwgcmVuZGVyTm9kZSwgYXN0KTtcbiAgICAgICAgdmFyIGNyZWF0ZVJlbmRlck5vZGUgPSBvLlRISVNfRVhQUi5wcm9wKGZpZWxkTmFtZSlcbiAgICAgICAgICAgIC5zZXQoY29uc3RhbnRzXzEuVmlld1Byb3BlcnRpZXMucmVuZGVyZXIuY2FsbE1ldGhvZCgnY3JlYXRlVGV4dCcsIFtcbiAgICAgICAgICAgIHRoaXMuX2dldFBhcmVudFJlbmRlck5vZGUocGFyZW50KSxcbiAgICAgICAgICAgIG8ubGl0ZXJhbCh2YWx1ZSksXG4gICAgICAgICAgICB0aGlzLnZpZXcuY3JlYXRlTWV0aG9kLnJlc2V0RGVidWdJbmZvRXhwcih0aGlzLnZpZXcubm9kZXMubGVuZ3RoLCBhc3QpXG4gICAgICAgIF0pKVxuICAgICAgICAgICAgLnRvU3RtdCgpO1xuICAgICAgICB0aGlzLnZpZXcubm9kZXMucHVzaChjb21waWxlTm9kZSk7XG4gICAgICAgIHRoaXMudmlldy5jcmVhdGVNZXRob2QuYWRkU3RtdChjcmVhdGVSZW5kZXJOb2RlKTtcbiAgICAgICAgdGhpcy5fYWRkUm9vdE5vZGVBbmRQcm9qZWN0KGNvbXBpbGVOb2RlLCBuZ0NvbnRlbnRJbmRleCwgcGFyZW50KTtcbiAgICAgICAgcmV0dXJuIHJlbmRlck5vZGU7XG4gICAgfTtcbiAgICBWaWV3QnVpbGRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0TmdDb250ZW50ID0gZnVuY3Rpb24gKGFzdCwgcGFyZW50KSB7XG4gICAgICAgIC8vIHRoZSBwcm9qZWN0ZWQgbm9kZXMgb3JpZ2luYXRlIGZyb20gYSBkaWZmZXJlbnQgdmlldywgc28gd2UgZG9uJ3RcbiAgICAgICAgLy8gaGF2ZSBkZWJ1ZyBpbmZvcm1hdGlvbiBmb3IgdGhlbS4uLlxuICAgICAgICB0aGlzLnZpZXcuY3JlYXRlTWV0aG9kLnJlc2V0RGVidWdJbmZvKG51bGwsIGFzdCk7XG4gICAgICAgIHZhciBwYXJlbnRSZW5kZXJOb2RlID0gdGhpcy5fZ2V0UGFyZW50UmVuZGVyTm9kZShwYXJlbnQpO1xuICAgICAgICB2YXIgbm9kZXNFeHByZXNzaW9uID0gY29uc3RhbnRzXzEuVmlld1Byb3BlcnRpZXMucHJvamVjdGFibGVOb2Rlcy5rZXkoby5saXRlcmFsKGFzdC5pbmRleCksIG5ldyBvLkFycmF5VHlwZShvLmltcG9ydFR5cGUodGhpcy52aWV3LmdlbkNvbmZpZy5yZW5kZXJUeXBlcy5yZW5kZXJOb2RlKSkpO1xuICAgICAgICBpZiAocGFyZW50UmVuZGVyTm9kZSAhPT0gby5OVUxMX0VYUFIpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5jcmVhdGVNZXRob2QuYWRkU3RtdChjb25zdGFudHNfMS5WaWV3UHJvcGVydGllcy5yZW5kZXJlci5jYWxsTWV0aG9kKCdwcm9qZWN0Tm9kZXMnLCBbXG4gICAgICAgICAgICAgICAgcGFyZW50UmVuZGVyTm9kZSxcbiAgICAgICAgICAgICAgICBvLmltcG9ydEV4cHIoaWRlbnRpZmllcnNfMS5JZGVudGlmaWVycy5mbGF0dGVuTmVzdGVkVmlld1JlbmRlck5vZGVzKVxuICAgICAgICAgICAgICAgICAgICAuY2FsbEZuKFtub2Rlc0V4cHJlc3Npb25dKVxuICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAudG9TdG10KCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2lzUm9vdE5vZGUocGFyZW50KSkge1xuICAgICAgICAgICAgaWYgKHRoaXMudmlldy52aWV3VHlwZSAhPT0gY29yZV9wcml2YXRlXzEuVmlld1R5cGUuQ09NUE9ORU5UKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RvcmUgcm9vdCBub2RlcyBvbmx5IGZvciBlbWJlZGRlZC9ob3N0IHZpZXdzXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnJvb3ROb2Rlc09yQXBwRWxlbWVudHMucHVzaChub2Rlc0V4cHJlc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocGFyZW50LmNvbXBvbmVudCkgJiYgbGFuZ18xLmlzUHJlc2VudChhc3QubmdDb250ZW50SW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LmFkZENvbnRlbnROb2RlKGFzdC5uZ0NvbnRlbnRJbmRleCwgbm9kZXNFeHByZXNzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIFZpZXdCdWlsZGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRFbGVtZW50ID0gZnVuY3Rpb24gKGFzdCwgcGFyZW50KSB7XG4gICAgICAgIHZhciBub2RlSW5kZXggPSB0aGlzLnZpZXcubm9kZXMubGVuZ3RoO1xuICAgICAgICB2YXIgY3JlYXRlUmVuZGVyTm9kZUV4cHI7XG4gICAgICAgIHZhciBkZWJ1Z0NvbnRleHRFeHByID0gdGhpcy52aWV3LmNyZWF0ZU1ldGhvZC5yZXNldERlYnVnSW5mb0V4cHIobm9kZUluZGV4LCBhc3QpO1xuICAgICAgICBpZiAobm9kZUluZGV4ID09PSAwICYmIHRoaXMudmlldy52aWV3VHlwZSA9PT0gY29yZV9wcml2YXRlXzEuVmlld1R5cGUuSE9TVCkge1xuICAgICAgICAgICAgY3JlYXRlUmVuZGVyTm9kZUV4cHIgPSBvLlRISVNfRVhQUi5jYWxsTWV0aG9kKCdzZWxlY3RPckNyZWF0ZUhvc3RFbGVtZW50JywgW28ubGl0ZXJhbChhc3QubmFtZSksIHJvb3RTZWxlY3RvclZhciwgZGVidWdDb250ZXh0RXhwcl0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3JlYXRlUmVuZGVyTm9kZUV4cHIgPSBjb25zdGFudHNfMS5WaWV3UHJvcGVydGllcy5yZW5kZXJlci5jYWxsTWV0aG9kKCdjcmVhdGVFbGVtZW50JywgW3RoaXMuX2dldFBhcmVudFJlbmRlck5vZGUocGFyZW50KSwgby5saXRlcmFsKGFzdC5uYW1lKSwgZGVidWdDb250ZXh0RXhwcl0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmaWVsZE5hbWUgPSBcIl9lbF9cIiArIG5vZGVJbmRleDtcbiAgICAgICAgdGhpcy52aWV3LmZpZWxkcy5wdXNoKG5ldyBvLkNsYXNzRmllbGQoZmllbGROYW1lLCBvLmltcG9ydFR5cGUodGhpcy52aWV3LmdlbkNvbmZpZy5yZW5kZXJUeXBlcy5yZW5kZXJFbGVtZW50KSkpO1xuICAgICAgICB0aGlzLnZpZXcuY3JlYXRlTWV0aG9kLmFkZFN0bXQoby5USElTX0VYUFIucHJvcChmaWVsZE5hbWUpLnNldChjcmVhdGVSZW5kZXJOb2RlRXhwcikudG9TdG10KCkpO1xuICAgICAgICB2YXIgcmVuZGVyTm9kZSA9IG8uVEhJU19FWFBSLnByb3AoZmllbGROYW1lKTtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZXMgPSBhc3QuZGlyZWN0aXZlcy5tYXAoZnVuY3Rpb24gKGRpcmVjdGl2ZUFzdCkgeyByZXR1cm4gZGlyZWN0aXZlQXN0LmRpcmVjdGl2ZTsgfSk7XG4gICAgICAgIHZhciBjb21wb25lbnQgPSBkaXJlY3RpdmVzLmZpbmQoZnVuY3Rpb24gKGRpcmVjdGl2ZSkgeyByZXR1cm4gZGlyZWN0aXZlLmlzQ29tcG9uZW50OyB9KTtcbiAgICAgICAgdmFyIGh0bWxBdHRycyA9IF9yZWFkSHRtbEF0dHJzKGFzdC5hdHRycyk7XG4gICAgICAgIHZhciBhdHRyTmFtZUFuZFZhbHVlcyA9IF9tZXJnZUh0bWxBbmREaXJlY3RpdmVBdHRycyhodG1sQXR0cnMsIGRpcmVjdGl2ZXMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJOYW1lQW5kVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYXR0ck5hbWUgPSBhdHRyTmFtZUFuZFZhbHVlc1tpXVswXTtcbiAgICAgICAgICAgIHZhciBhdHRyVmFsdWUgPSBhdHRyTmFtZUFuZFZhbHVlc1tpXVsxXTtcbiAgICAgICAgICAgIHRoaXMudmlldy5jcmVhdGVNZXRob2QuYWRkU3RtdChjb25zdGFudHNfMS5WaWV3UHJvcGVydGllcy5yZW5kZXJlci5jYWxsTWV0aG9kKCdzZXRFbGVtZW50QXR0cmlidXRlJywgW3JlbmRlck5vZGUsIG8ubGl0ZXJhbChhdHRyTmFtZSksIG8ubGl0ZXJhbChhdHRyVmFsdWUpXSlcbiAgICAgICAgICAgICAgICAudG9TdG10KCkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb21waWxlRWxlbWVudCA9IG5ldyBjb21waWxlX2VsZW1lbnRfMS5Db21waWxlRWxlbWVudChwYXJlbnQsIHRoaXMudmlldywgbm9kZUluZGV4LCByZW5kZXJOb2RlLCBhc3QsIGNvbXBvbmVudCwgZGlyZWN0aXZlcywgYXN0LnByb3ZpZGVycywgYXN0Lmhhc1ZpZXdDb250YWluZXIsIGZhbHNlLCBhc3QucmVmZXJlbmNlcyk7XG4gICAgICAgIHRoaXMudmlldy5ub2Rlcy5wdXNoKGNvbXBpbGVFbGVtZW50KTtcbiAgICAgICAgdmFyIGNvbXBWaWV3RXhwciA9IG51bGw7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGNvbXBvbmVudCkpIHtcbiAgICAgICAgICAgIHZhciBuZXN0ZWRDb21wb25lbnRJZGVudGlmaWVyID0gbmV3IGNvbXBpbGVfbWV0YWRhdGFfMS5Db21waWxlSWRlbnRpZmllck1ldGFkYXRhKHsgbmFtZTogdXRpbF8xLmdldFZpZXdGYWN0b3J5TmFtZShjb21wb25lbnQsIDApIH0pO1xuICAgICAgICAgICAgdGhpcy50YXJnZXREZXBlbmRlbmNpZXMucHVzaChuZXcgVmlld0NvbXBpbGVEZXBlbmRlbmN5KGNvbXBvbmVudCwgbmVzdGVkQ29tcG9uZW50SWRlbnRpZmllcikpO1xuICAgICAgICAgICAgY29tcFZpZXdFeHByID0gby52YXJpYWJsZShcImNvbXBWaWV3X1wiICsgbm9kZUluZGV4KTsgLy8gZml4IGhpZ2hsaWdodGluZzogYFxuICAgICAgICAgICAgY29tcGlsZUVsZW1lbnQuc2V0Q29tcG9uZW50Vmlldyhjb21wVmlld0V4cHIpO1xuICAgICAgICAgICAgdGhpcy52aWV3LmNyZWF0ZU1ldGhvZC5hZGRTdG10KGNvbXBWaWV3RXhwci5zZXQoby5pbXBvcnRFeHByKG5lc3RlZENvbXBvbmVudElkZW50aWZpZXIpXG4gICAgICAgICAgICAgICAgLmNhbGxGbihbXG4gICAgICAgICAgICAgICAgY29uc3RhbnRzXzEuVmlld1Byb3BlcnRpZXMudmlld1V0aWxzLFxuICAgICAgICAgICAgICAgIGNvbXBpbGVFbGVtZW50LmluamVjdG9yLFxuICAgICAgICAgICAgICAgIGNvbXBpbGVFbGVtZW50LmFwcEVsZW1lbnRcbiAgICAgICAgICAgIF0pKVxuICAgICAgICAgICAgICAgIC50b0RlY2xTdG10KCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbXBpbGVFbGVtZW50LmJlZm9yZUNoaWxkcmVuKCk7XG4gICAgICAgIHRoaXMuX2FkZFJvb3ROb2RlQW5kUHJvamVjdChjb21waWxlRWxlbWVudCwgYXN0Lm5nQ29udGVudEluZGV4LCBwYXJlbnQpO1xuICAgICAgICB0ZW1wbGF0ZV9hc3RfMS50ZW1wbGF0ZVZpc2l0QWxsKHRoaXMsIGFzdC5jaGlsZHJlbiwgY29tcGlsZUVsZW1lbnQpO1xuICAgICAgICBjb21waWxlRWxlbWVudC5hZnRlckNoaWxkcmVuKHRoaXMudmlldy5ub2Rlcy5sZW5ndGggLSBub2RlSW5kZXggLSAxKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoY29tcFZpZXdFeHByKSkge1xuICAgICAgICAgICAgdmFyIGNvZGVHZW5Db250ZW50Tm9kZXM7XG4gICAgICAgICAgICBpZiAodGhpcy52aWV3LmNvbXBvbmVudC50eXBlLmlzSG9zdCkge1xuICAgICAgICAgICAgICAgIGNvZGVHZW5Db250ZW50Tm9kZXMgPSBjb25zdGFudHNfMS5WaWV3UHJvcGVydGllcy5wcm9qZWN0YWJsZU5vZGVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29kZUdlbkNvbnRlbnROb2RlcyA9IG8ubGl0ZXJhbEFycihjb21waWxlRWxlbWVudC5jb250ZW50Tm9kZXNCeU5nQ29udGVudEluZGV4Lm1hcChmdW5jdGlvbiAobm9kZXMpIHsgcmV0dXJuIHV0aWxfMS5jcmVhdGVGbGF0QXJyYXkobm9kZXMpOyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZpZXcuY3JlYXRlTWV0aG9kLmFkZFN0bXQoY29tcFZpZXdFeHByLmNhbGxNZXRob2QoJ2NyZWF0ZScsIFtjb21waWxlRWxlbWVudC5nZXRDb21wb25lbnQoKSwgY29kZUdlbkNvbnRlbnROb2Rlcywgby5OVUxMX0VYUFJdKVxuICAgICAgICAgICAgICAgIC50b1N0bXQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBWaWV3QnVpbGRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0RW1iZWRkZWRUZW1wbGF0ZSA9IGZ1bmN0aW9uIChhc3QsIHBhcmVudCkge1xuICAgICAgICB2YXIgbm9kZUluZGV4ID0gdGhpcy52aWV3Lm5vZGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIGZpZWxkTmFtZSA9IFwiX2FuY2hvcl9cIiArIG5vZGVJbmRleDtcbiAgICAgICAgdGhpcy52aWV3LmZpZWxkcy5wdXNoKG5ldyBvLkNsYXNzRmllbGQoZmllbGROYW1lLCBvLmltcG9ydFR5cGUodGhpcy52aWV3LmdlbkNvbmZpZy5yZW5kZXJUeXBlcy5yZW5kZXJDb21tZW50KSkpO1xuICAgICAgICB0aGlzLnZpZXcuY3JlYXRlTWV0aG9kLmFkZFN0bXQoby5USElTX0VYUFIucHJvcChmaWVsZE5hbWUpXG4gICAgICAgICAgICAuc2V0KGNvbnN0YW50c18xLlZpZXdQcm9wZXJ0aWVzLnJlbmRlcmVyLmNhbGxNZXRob2QoJ2NyZWF0ZVRlbXBsYXRlQW5jaG9yJywgW1xuICAgICAgICAgICAgdGhpcy5fZ2V0UGFyZW50UmVuZGVyTm9kZShwYXJlbnQpLFxuICAgICAgICAgICAgdGhpcy52aWV3LmNyZWF0ZU1ldGhvZC5yZXNldERlYnVnSW5mb0V4cHIobm9kZUluZGV4LCBhc3QpXG4gICAgICAgIF0pKVxuICAgICAgICAgICAgLnRvU3RtdCgpKTtcbiAgICAgICAgdmFyIHJlbmRlck5vZGUgPSBvLlRISVNfRVhQUi5wcm9wKGZpZWxkTmFtZSk7XG4gICAgICAgIHZhciB0ZW1wbGF0ZVZhcmlhYmxlQmluZGluZ3MgPSBhc3QudmFyaWFibGVzLm1hcChmdW5jdGlvbiAodmFyQXN0KSB7IHJldHVybiBbdmFyQXN0LnZhbHVlLmxlbmd0aCA+IDAgPyB2YXJBc3QudmFsdWUgOiBJTVBMSUNJVF9URU1QTEFURV9WQVIsIHZhckFzdC5uYW1lXTsgfSk7XG4gICAgICAgIHZhciBkaXJlY3RpdmVzID0gYXN0LmRpcmVjdGl2ZXMubWFwKGZ1bmN0aW9uIChkaXJlY3RpdmVBc3QpIHsgcmV0dXJuIGRpcmVjdGl2ZUFzdC5kaXJlY3RpdmU7IH0pO1xuICAgICAgICB2YXIgY29tcGlsZUVsZW1lbnQgPSBuZXcgY29tcGlsZV9lbGVtZW50XzEuQ29tcGlsZUVsZW1lbnQocGFyZW50LCB0aGlzLnZpZXcsIG5vZGVJbmRleCwgcmVuZGVyTm9kZSwgYXN0LCBudWxsLCBkaXJlY3RpdmVzLCBhc3QucHJvdmlkZXJzLCBhc3QuaGFzVmlld0NvbnRhaW5lciwgdHJ1ZSwgYXN0LnJlZmVyZW5jZXMpO1xuICAgICAgICB0aGlzLnZpZXcubm9kZXMucHVzaChjb21waWxlRWxlbWVudCk7XG4gICAgICAgIHRoaXMubmVzdGVkVmlld0NvdW50Kys7XG4gICAgICAgIHZhciBlbWJlZGRlZFZpZXcgPSBuZXcgY29tcGlsZV92aWV3XzEuQ29tcGlsZVZpZXcodGhpcy52aWV3LmNvbXBvbmVudCwgdGhpcy52aWV3LmdlbkNvbmZpZywgdGhpcy52aWV3LnBpcGVNZXRhcywgby5OVUxMX0VYUFIsIHRoaXMudmlldy52aWV3SW5kZXggKyB0aGlzLm5lc3RlZFZpZXdDb3VudCwgY29tcGlsZUVsZW1lbnQsIHRlbXBsYXRlVmFyaWFibGVCaW5kaW5ncyk7XG4gICAgICAgIHRoaXMubmVzdGVkVmlld0NvdW50ICs9IGJ1aWxkVmlldyhlbWJlZGRlZFZpZXcsIGFzdC5jaGlsZHJlbiwgdGhpcy50YXJnZXREZXBlbmRlbmNpZXMpO1xuICAgICAgICBjb21waWxlRWxlbWVudC5iZWZvcmVDaGlsZHJlbigpO1xuICAgICAgICB0aGlzLl9hZGRSb290Tm9kZUFuZFByb2plY3QoY29tcGlsZUVsZW1lbnQsIGFzdC5uZ0NvbnRlbnRJbmRleCwgcGFyZW50KTtcbiAgICAgICAgY29tcGlsZUVsZW1lbnQuYWZ0ZXJDaGlsZHJlbigwKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBWaWV3QnVpbGRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0QXR0ciA9IGZ1bmN0aW9uIChhc3QsIGN0eCkgeyByZXR1cm4gbnVsbDsgfTtcbiAgICBWaWV3QnVpbGRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGlyZWN0aXZlID0gZnVuY3Rpb24gKGFzdCwgY3R4KSB7IHJldHVybiBudWxsOyB9O1xuICAgIFZpZXdCdWlsZGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRFdmVudCA9IGZ1bmN0aW9uIChhc3QsIGV2ZW50VGFyZ2V0QW5kTmFtZXMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBWaWV3QnVpbGRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0UmVmZXJlbmNlID0gZnVuY3Rpb24gKGFzdCwgY3R4KSB7IHJldHVybiBudWxsOyB9O1xuICAgIFZpZXdCdWlsZGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRWYXJpYWJsZSA9IGZ1bmN0aW9uIChhc3QsIGN0eCkgeyByZXR1cm4gbnVsbDsgfTtcbiAgICBWaWV3QnVpbGRlclZpc2l0b3IucHJvdG90eXBlLnZpc2l0RGlyZWN0aXZlUHJvcGVydHkgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7IHJldHVybiBudWxsOyB9O1xuICAgIFZpZXdCdWlsZGVyVmlzaXRvci5wcm90b3R5cGUudmlzaXRFbGVtZW50UHJvcGVydHkgPSBmdW5jdGlvbiAoYXN0LCBjb250ZXh0KSB7IHJldHVybiBudWxsOyB9O1xuICAgIHJldHVybiBWaWV3QnVpbGRlclZpc2l0b3I7XG59KCkpO1xuZnVuY3Rpb24gX21lcmdlSHRtbEFuZERpcmVjdGl2ZUF0dHJzKGRlY2xhcmVkSHRtbEF0dHJzLCBkaXJlY3RpdmVzKSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGNvbGxlY3Rpb25fMS5TdHJpbmdNYXBXcmFwcGVyLmZvckVhY2goZGVjbGFyZWRIdG1sQXR0cnMsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7IHJlc3VsdFtrZXldID0gdmFsdWU7IH0pO1xuICAgIGRpcmVjdGl2ZXMuZm9yRWFjaChmdW5jdGlvbiAoZGlyZWN0aXZlTWV0YSkge1xuICAgICAgICBjb2xsZWN0aW9uXzEuU3RyaW5nTWFwV3JhcHBlci5mb3JFYWNoKGRpcmVjdGl2ZU1ldGEuaG9zdEF0dHJpYnV0ZXMsIGZ1bmN0aW9uICh2YWx1ZSwgbmFtZSkge1xuICAgICAgICAgICAgdmFyIHByZXZWYWx1ZSA9IHJlc3VsdFtuYW1lXTtcbiAgICAgICAgICAgIHJlc3VsdFtuYW1lXSA9IGxhbmdfMS5pc1ByZXNlbnQocHJldlZhbHVlKSA/IG1lcmdlQXR0cmlidXRlVmFsdWUobmFtZSwgcHJldlZhbHVlLCB2YWx1ZSkgOiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG1hcFRvS2V5VmFsdWVBcnJheShyZXN1bHQpO1xufVxuZnVuY3Rpb24gX3JlYWRIdG1sQXR0cnMoYXR0cnMpIHtcbiAgICB2YXIgaHRtbEF0dHJzID0ge307XG4gICAgYXR0cnMuZm9yRWFjaChmdW5jdGlvbiAoYXN0KSB7IGh0bWxBdHRyc1thc3QubmFtZV0gPSBhc3QudmFsdWU7IH0pO1xuICAgIHJldHVybiBodG1sQXR0cnM7XG59XG5mdW5jdGlvbiBtZXJnZUF0dHJpYnV0ZVZhbHVlKGF0dHJOYW1lLCBhdHRyVmFsdWUxLCBhdHRyVmFsdWUyKSB7XG4gICAgaWYgKGF0dHJOYW1lID09IENMQVNTX0FUVFIgfHwgYXR0ck5hbWUgPT0gU1RZTEVfQVRUUikge1xuICAgICAgICByZXR1cm4gYXR0clZhbHVlMSArIFwiIFwiICsgYXR0clZhbHVlMjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBhdHRyVmFsdWUyO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1hcFRvS2V5VmFsdWVBcnJheShkYXRhKSB7XG4gICAgdmFyIGVudHJ5QXJyYXkgPSBbXTtcbiAgICBjb2xsZWN0aW9uXzEuU3RyaW5nTWFwV3JhcHBlci5mb3JFYWNoKGRhdGEsIGZ1bmN0aW9uICh2YWx1ZSwgbmFtZSkgeyBlbnRyeUFycmF5LnB1c2goW25hbWUsIHZhbHVlXSk7IH0pO1xuICAgIC8vIFdlIG5lZWQgdG8gc29ydCB0byBnZXQgYSBkZWZpbmVkIG91dHB1dCBvcmRlclxuICAgIC8vIGZvciB0ZXN0cyBhbmQgZm9yIGNhY2hpbmcgZ2VuZXJhdGVkIGFydGlmYWN0cy4uLlxuICAgIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5zb3J0KGVudHJ5QXJyYXksIGZ1bmN0aW9uIChlbnRyeTEsIGVudHJ5MikgeyByZXR1cm4gbGFuZ18xLlN0cmluZ1dyYXBwZXIuY29tcGFyZShlbnRyeTFbMF0sIGVudHJ5MlswXSk7IH0pO1xuICAgIHZhciBrZXlWYWx1ZUFycmF5ID0gW107XG4gICAgZW50cnlBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkgeyBrZXlWYWx1ZUFycmF5LnB1c2goW2VudHJ5WzBdLCBlbnRyeVsxXV0pOyB9KTtcbiAgICByZXR1cm4ga2V5VmFsdWVBcnJheTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVZpZXdUb3BMZXZlbFN0bXRzKHZpZXcsIHRhcmdldFN0YXRlbWVudHMpIHtcbiAgICB2YXIgbm9kZURlYnVnSW5mb3NWYXIgPSBvLk5VTExfRVhQUjtcbiAgICBpZiAodmlldy5nZW5Db25maWcuZ2VuRGVidWdJbmZvKSB7XG4gICAgICAgIG5vZGVEZWJ1Z0luZm9zVmFyID0gby52YXJpYWJsZShcIm5vZGVEZWJ1Z0luZm9zX1wiICsgdmlldy5jb21wb25lbnQudHlwZS5uYW1lICsgdmlldy52aWV3SW5kZXgpOyAvLyBmaXggaGlnaGxpZ2h0aW5nOiBgXG4gICAgICAgIHRhcmdldFN0YXRlbWVudHMucHVzaChub2RlRGVidWdJbmZvc1ZhclxuICAgICAgICAgICAgLnNldChvLmxpdGVyYWxBcnIodmlldy5ub2Rlcy5tYXAoY3JlYXRlU3RhdGljTm9kZURlYnVnSW5mbyksIG5ldyBvLkFycmF5VHlwZShuZXcgby5FeHRlcm5hbFR5cGUoaWRlbnRpZmllcnNfMS5JZGVudGlmaWVycy5TdGF0aWNOb2RlRGVidWdJbmZvKSwgW28uVHlwZU1vZGlmaWVyLkNvbnN0XSkpKVxuICAgICAgICAgICAgLnRvRGVjbFN0bXQobnVsbCwgW28uU3RtdE1vZGlmaWVyLkZpbmFsXSkpO1xuICAgIH1cbiAgICB2YXIgcmVuZGVyQ29tcFR5cGVWYXIgPSBvLnZhcmlhYmxlKFwicmVuZGVyVHlwZV9cIiArIHZpZXcuY29tcG9uZW50LnR5cGUubmFtZSk7IC8vIGZpeCBoaWdobGlnaHRpbmc6IGBcbiAgICBpZiAodmlldy52aWV3SW5kZXggPT09IDApIHtcbiAgICAgICAgdGFyZ2V0U3RhdGVtZW50cy5wdXNoKHJlbmRlckNvbXBUeXBlVmFyLnNldChvLk5VTExfRVhQUilcbiAgICAgICAgICAgIC50b0RlY2xTdG10KG8uaW1wb3J0VHlwZShpZGVudGlmaWVyc18xLklkZW50aWZpZXJzLlJlbmRlckNvbXBvbmVudFR5cGUpKSk7XG4gICAgfVxuICAgIHZhciB2aWV3Q2xhc3MgPSBjcmVhdGVWaWV3Q2xhc3ModmlldywgcmVuZGVyQ29tcFR5cGVWYXIsIG5vZGVEZWJ1Z0luZm9zVmFyKTtcbiAgICB0YXJnZXRTdGF0ZW1lbnRzLnB1c2godmlld0NsYXNzKTtcbiAgICB0YXJnZXRTdGF0ZW1lbnRzLnB1c2goY3JlYXRlVmlld0ZhY3Rvcnkodmlldywgdmlld0NsYXNzLCByZW5kZXJDb21wVHlwZVZhcikpO1xufVxuZnVuY3Rpb24gY3JlYXRlU3RhdGljTm9kZURlYnVnSW5mbyhub2RlKSB7XG4gICAgdmFyIGNvbXBpbGVFbGVtZW50ID0gbm9kZSBpbnN0YW5jZW9mIGNvbXBpbGVfZWxlbWVudF8xLkNvbXBpbGVFbGVtZW50ID8gbm9kZSA6IG51bGw7XG4gICAgdmFyIHByb3ZpZGVyVG9rZW5zID0gW107XG4gICAgdmFyIGNvbXBvbmVudFRva2VuID0gby5OVUxMX0VYUFI7XG4gICAgdmFyIHZhclRva2VuRW50cmllcyA9IFtdO1xuICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGNvbXBpbGVFbGVtZW50KSkge1xuICAgICAgICBwcm92aWRlclRva2VucyA9IGNvbXBpbGVFbGVtZW50LmdldFByb3ZpZGVyVG9rZW5zKCk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGNvbXBpbGVFbGVtZW50LmNvbXBvbmVudCkpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudFRva2VuID0gdXRpbF8xLmNyZWF0ZURpVG9rZW5FeHByZXNzaW9uKGlkZW50aWZpZXJzXzEuaWRlbnRpZmllclRva2VuKGNvbXBpbGVFbGVtZW50LmNvbXBvbmVudC50eXBlKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIuZm9yRWFjaChjb21waWxlRWxlbWVudC5yZWZlcmVuY2VUb2tlbnMsIGZ1bmN0aW9uICh0b2tlbiwgdmFyTmFtZSkge1xuICAgICAgICAgICAgdmFyVG9rZW5FbnRyaWVzLnB1c2goW3Zhck5hbWUsIGxhbmdfMS5pc1ByZXNlbnQodG9rZW4pID8gdXRpbF8xLmNyZWF0ZURpVG9rZW5FeHByZXNzaW9uKHRva2VuKSA6IG8uTlVMTF9FWFBSXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gby5pbXBvcnRFeHByKGlkZW50aWZpZXJzXzEuSWRlbnRpZmllcnMuU3RhdGljTm9kZURlYnVnSW5mbylcbiAgICAgICAgLmluc3RhbnRpYXRlKFtcbiAgICAgICAgby5saXRlcmFsQXJyKHByb3ZpZGVyVG9rZW5zLCBuZXcgby5BcnJheVR5cGUoby5EWU5BTUlDX1RZUEUsIFtvLlR5cGVNb2RpZmllci5Db25zdF0pKSxcbiAgICAgICAgY29tcG9uZW50VG9rZW4sXG4gICAgICAgIG8ubGl0ZXJhbE1hcCh2YXJUb2tlbkVudHJpZXMsIG5ldyBvLk1hcFR5cGUoby5EWU5BTUlDX1RZUEUsIFtvLlR5cGVNb2RpZmllci5Db25zdF0pKVxuICAgIF0sIG8uaW1wb3J0VHlwZShpZGVudGlmaWVyc18xLklkZW50aWZpZXJzLlN0YXRpY05vZGVEZWJ1Z0luZm8sIG51bGwsIFtvLlR5cGVNb2RpZmllci5Db25zdF0pKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVZpZXdDbGFzcyh2aWV3LCByZW5kZXJDb21wVHlwZVZhciwgbm9kZURlYnVnSW5mb3NWYXIpIHtcbiAgICB2YXIgdmlld0NvbnN0cnVjdG9yQXJncyA9IFtcbiAgICAgICAgbmV3IG8uRm5QYXJhbShjb25zdGFudHNfMS5WaWV3Q29uc3RydWN0b3JWYXJzLnZpZXdVdGlscy5uYW1lLCBvLmltcG9ydFR5cGUoaWRlbnRpZmllcnNfMS5JZGVudGlmaWVycy5WaWV3VXRpbHMpKSxcbiAgICAgICAgbmV3IG8uRm5QYXJhbShjb25zdGFudHNfMS5WaWV3Q29uc3RydWN0b3JWYXJzLnBhcmVudEluamVjdG9yLm5hbWUsIG8uaW1wb3J0VHlwZShpZGVudGlmaWVyc18xLklkZW50aWZpZXJzLkluamVjdG9yKSksXG4gICAgICAgIG5ldyBvLkZuUGFyYW0oY29uc3RhbnRzXzEuVmlld0NvbnN0cnVjdG9yVmFycy5kZWNsYXJhdGlvbkVsLm5hbWUsIG8uaW1wb3J0VHlwZShpZGVudGlmaWVyc18xLklkZW50aWZpZXJzLkFwcEVsZW1lbnQpKVxuICAgIF07XG4gICAgdmFyIHN1cGVyQ29uc3RydWN0b3JBcmdzID0gW1xuICAgICAgICBvLnZhcmlhYmxlKHZpZXcuY2xhc3NOYW1lKSxcbiAgICAgICAgcmVuZGVyQ29tcFR5cGVWYXIsXG4gICAgICAgIGNvbnN0YW50c18xLlZpZXdUeXBlRW51bS5mcm9tVmFsdWUodmlldy52aWV3VHlwZSksXG4gICAgICAgIGNvbnN0YW50c18xLlZpZXdDb25zdHJ1Y3RvclZhcnMudmlld1V0aWxzLFxuICAgICAgICBjb25zdGFudHNfMS5WaWV3Q29uc3RydWN0b3JWYXJzLnBhcmVudEluamVjdG9yLFxuICAgICAgICBjb25zdGFudHNfMS5WaWV3Q29uc3RydWN0b3JWYXJzLmRlY2xhcmF0aW9uRWwsXG4gICAgICAgIGNvbnN0YW50c18xLkNoYW5nZURldGVjdGlvblN0cmF0ZWd5RW51bS5mcm9tVmFsdWUoZ2V0Q2hhbmdlRGV0ZWN0aW9uTW9kZSh2aWV3KSlcbiAgICBdO1xuICAgIGlmICh2aWV3LmdlbkNvbmZpZy5nZW5EZWJ1Z0luZm8pIHtcbiAgICAgICAgc3VwZXJDb25zdHJ1Y3RvckFyZ3MucHVzaChub2RlRGVidWdJbmZvc1Zhcik7XG4gICAgfVxuICAgIHZhciB2aWV3Q29uc3RydWN0b3IgPSBuZXcgby5DbGFzc01ldGhvZChudWxsLCB2aWV3Q29uc3RydWN0b3JBcmdzLCBbby5TVVBFUl9FWFBSLmNhbGxGbihzdXBlckNvbnN0cnVjdG9yQXJncykudG9TdG10KCldKTtcbiAgICB2YXIgdmlld01ldGhvZHMgPSBbXG4gICAgICAgIG5ldyBvLkNsYXNzTWV0aG9kKCdjcmVhdGVJbnRlcm5hbCcsIFtuZXcgby5GblBhcmFtKHJvb3RTZWxlY3RvclZhci5uYW1lLCBvLlNUUklOR19UWVBFKV0sIGdlbmVyYXRlQ3JlYXRlTWV0aG9kKHZpZXcpLCBvLmltcG9ydFR5cGUoaWRlbnRpZmllcnNfMS5JZGVudGlmaWVycy5BcHBFbGVtZW50KSksXG4gICAgICAgIG5ldyBvLkNsYXNzTWV0aG9kKCdpbmplY3RvckdldEludGVybmFsJywgW1xuICAgICAgICAgICAgbmV3IG8uRm5QYXJhbShjb25zdGFudHNfMS5JbmplY3RNZXRob2RWYXJzLnRva2VuLm5hbWUsIG8uRFlOQU1JQ19UWVBFKSxcbiAgICAgICAgICAgIC8vIE5vdGU6IENhbid0IHVzZSBvLklOVF9UWVBFIGhlcmUgYXMgdGhlIG1ldGhvZCBpbiBBcHBWaWV3IHVzZXMgbnVtYmVyXG4gICAgICAgICAgICBuZXcgby5GblBhcmFtKGNvbnN0YW50c18xLkluamVjdE1ldGhvZFZhcnMucmVxdWVzdE5vZGVJbmRleC5uYW1lLCBvLk5VTUJFUl9UWVBFKSxcbiAgICAgICAgICAgIG5ldyBvLkZuUGFyYW0oY29uc3RhbnRzXzEuSW5qZWN0TWV0aG9kVmFycy5ub3RGb3VuZFJlc3VsdC5uYW1lLCBvLkRZTkFNSUNfVFlQRSlcbiAgICAgICAgXSwgYWRkUmV0dXJuVmFsdWVmTm90RW1wdHkodmlldy5pbmplY3RvckdldE1ldGhvZC5maW5pc2goKSwgY29uc3RhbnRzXzEuSW5qZWN0TWV0aG9kVmFycy5ub3RGb3VuZFJlc3VsdCksIG8uRFlOQU1JQ19UWVBFKSxcbiAgICAgICAgbmV3IG8uQ2xhc3NNZXRob2QoJ2RldGVjdENoYW5nZXNJbnRlcm5hbCcsIFtuZXcgby5GblBhcmFtKGNvbnN0YW50c18xLkRldGVjdENoYW5nZXNWYXJzLnRocm93T25DaGFuZ2UubmFtZSwgby5CT09MX1RZUEUpXSwgZ2VuZXJhdGVEZXRlY3RDaGFuZ2VzTWV0aG9kKHZpZXcpKSxcbiAgICAgICAgbmV3IG8uQ2xhc3NNZXRob2QoJ2RpcnR5UGFyZW50UXVlcmllc0ludGVybmFsJywgW10sIHZpZXcuZGlydHlQYXJlbnRRdWVyaWVzTWV0aG9kLmZpbmlzaCgpKSxcbiAgICAgICAgbmV3IG8uQ2xhc3NNZXRob2QoJ2Rlc3Ryb3lJbnRlcm5hbCcsIFtdLCB2aWV3LmRlc3Ryb3lNZXRob2QuZmluaXNoKCkpXG4gICAgXS5jb25jYXQodmlldy5ldmVudEhhbmRsZXJNZXRob2RzKTtcbiAgICB2YXIgc3VwZXJDbGFzcyA9IHZpZXcuZ2VuQ29uZmlnLmdlbkRlYnVnSW5mbyA/IGlkZW50aWZpZXJzXzEuSWRlbnRpZmllcnMuRGVidWdBcHBWaWV3IDogaWRlbnRpZmllcnNfMS5JZGVudGlmaWVycy5BcHBWaWV3O1xuICAgIHZhciB2aWV3Q2xhc3MgPSBuZXcgby5DbGFzc1N0bXQodmlldy5jbGFzc05hbWUsIG8uaW1wb3J0RXhwcihzdXBlckNsYXNzLCBbZ2V0Q29udGV4dFR5cGUodmlldyldKSwgdmlldy5maWVsZHMsIHZpZXcuZ2V0dGVycywgdmlld0NvbnN0cnVjdG9yLCB2aWV3TWV0aG9kcy5maWx0ZXIoZnVuY3Rpb24gKG1ldGhvZCkgeyByZXR1cm4gbWV0aG9kLmJvZHkubGVuZ3RoID4gMDsgfSkpO1xuICAgIHJldHVybiB2aWV3Q2xhc3M7XG59XG5mdW5jdGlvbiBjcmVhdGVWaWV3RmFjdG9yeSh2aWV3LCB2aWV3Q2xhc3MsIHJlbmRlckNvbXBUeXBlVmFyKSB7XG4gICAgdmFyIHZpZXdGYWN0b3J5QXJncyA9IFtcbiAgICAgICAgbmV3IG8uRm5QYXJhbShjb25zdGFudHNfMS5WaWV3Q29uc3RydWN0b3JWYXJzLnZpZXdVdGlscy5uYW1lLCBvLmltcG9ydFR5cGUoaWRlbnRpZmllcnNfMS5JZGVudGlmaWVycy5WaWV3VXRpbHMpKSxcbiAgICAgICAgbmV3IG8uRm5QYXJhbShjb25zdGFudHNfMS5WaWV3Q29uc3RydWN0b3JWYXJzLnBhcmVudEluamVjdG9yLm5hbWUsIG8uaW1wb3J0VHlwZShpZGVudGlmaWVyc18xLklkZW50aWZpZXJzLkluamVjdG9yKSksXG4gICAgICAgIG5ldyBvLkZuUGFyYW0oY29uc3RhbnRzXzEuVmlld0NvbnN0cnVjdG9yVmFycy5kZWNsYXJhdGlvbkVsLm5hbWUsIG8uaW1wb3J0VHlwZShpZGVudGlmaWVyc18xLklkZW50aWZpZXJzLkFwcEVsZW1lbnQpKVxuICAgIF07XG4gICAgdmFyIGluaXRSZW5kZXJDb21wVHlwZVN0bXRzID0gW107XG4gICAgdmFyIHRlbXBsYXRlVXJsSW5mbztcbiAgICBpZiAodmlldy5jb21wb25lbnQudGVtcGxhdGUudGVtcGxhdGVVcmwgPT0gdmlldy5jb21wb25lbnQudHlwZS5tb2R1bGVVcmwpIHtcbiAgICAgICAgdGVtcGxhdGVVcmxJbmZvID1cbiAgICAgICAgICAgIHZpZXcuY29tcG9uZW50LnR5cGUubW9kdWxlVXJsICsgXCIgY2xhc3MgXCIgKyB2aWV3LmNvbXBvbmVudC50eXBlLm5hbWUgKyBcIiAtIGlubGluZSB0ZW1wbGF0ZVwiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGVtcGxhdGVVcmxJbmZvID0gdmlldy5jb21wb25lbnQudGVtcGxhdGUudGVtcGxhdGVVcmw7XG4gICAgfVxuICAgIGlmICh2aWV3LnZpZXdJbmRleCA9PT0gMCkge1xuICAgICAgICBpbml0UmVuZGVyQ29tcFR5cGVTdG10cyA9IFtcbiAgICAgICAgICAgIG5ldyBvLklmU3RtdChyZW5kZXJDb21wVHlwZVZhci5pZGVudGljYWwoby5OVUxMX0VYUFIpLCBbXG4gICAgICAgICAgICAgICAgcmVuZGVyQ29tcFR5cGVWYXIuc2V0KGNvbnN0YW50c18xLlZpZXdDb25zdHJ1Y3RvclZhcnNcbiAgICAgICAgICAgICAgICAgICAgLnZpZXdVdGlscy5jYWxsTWV0aG9kKCdjcmVhdGVSZW5kZXJDb21wb25lbnRUeXBlJywgW1xuICAgICAgICAgICAgICAgICAgICBvLmxpdGVyYWwodGVtcGxhdGVVcmxJbmZvKSxcbiAgICAgICAgICAgICAgICAgICAgby5saXRlcmFsKHZpZXcuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAudGVtcGxhdGUubmdDb250ZW50U2VsZWN0b3JzLmxlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0YW50c18xLlZpZXdFbmNhcHN1bGF0aW9uRW51bVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZyb21WYWx1ZSh2aWV3LmNvbXBvbmVudC50ZW1wbGF0ZS5lbmNhcHN1bGF0aW9uKSxcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zdHlsZXNcbiAgICAgICAgICAgICAgICBdKSlcbiAgICAgICAgICAgICAgICAgICAgLnRvU3RtdCgpXG4gICAgICAgICAgICBdKVxuICAgICAgICBdO1xuICAgIH1cbiAgICByZXR1cm4gby5mbih2aWV3RmFjdG9yeUFyZ3MsIGluaXRSZW5kZXJDb21wVHlwZVN0bXRzLmNvbmNhdChbXG4gICAgICAgIG5ldyBvLlJldHVyblN0YXRlbWVudChvLnZhcmlhYmxlKHZpZXdDbGFzcy5uYW1lKVxuICAgICAgICAgICAgLmluc3RhbnRpYXRlKHZpZXdDbGFzcy5jb25zdHJ1Y3Rvck1ldGhvZC5wYXJhbXMubWFwKGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gby52YXJpYWJsZShwYXJhbS5uYW1lKTsgfSkpKVxuICAgIF0pLCBvLmltcG9ydFR5cGUoaWRlbnRpZmllcnNfMS5JZGVudGlmaWVycy5BcHBWaWV3LCBbZ2V0Q29udGV4dFR5cGUodmlldyldKSlcbiAgICAgICAgLnRvRGVjbFN0bXQodmlldy52aWV3RmFjdG9yeS5uYW1lLCBbby5TdG10TW9kaWZpZXIuRmluYWxdKTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlQ3JlYXRlTWV0aG9kKHZpZXcpIHtcbiAgICB2YXIgcGFyZW50UmVuZGVyTm9kZUV4cHIgPSBvLk5VTExfRVhQUjtcbiAgICB2YXIgcGFyZW50UmVuZGVyTm9kZVN0bXRzID0gW107XG4gICAgaWYgKHZpZXcudmlld1R5cGUgPT09IGNvcmVfcHJpdmF0ZV8xLlZpZXdUeXBlLkNPTVBPTkVOVCkge1xuICAgICAgICBwYXJlbnRSZW5kZXJOb2RlRXhwciA9IGNvbnN0YW50c18xLlZpZXdQcm9wZXJ0aWVzLnJlbmRlcmVyLmNhbGxNZXRob2QoJ2NyZWF0ZVZpZXdSb290JywgW28uVEhJU19FWFBSLnByb3AoJ2RlY2xhcmF0aW9uQXBwRWxlbWVudCcpLnByb3AoJ25hdGl2ZUVsZW1lbnQnKV0pO1xuICAgICAgICBwYXJlbnRSZW5kZXJOb2RlU3RtdHMgPSBbXG4gICAgICAgICAgICBwYXJlbnRSZW5kZXJOb2RlVmFyLnNldChwYXJlbnRSZW5kZXJOb2RlRXhwcilcbiAgICAgICAgICAgICAgICAudG9EZWNsU3RtdChvLmltcG9ydFR5cGUodmlldy5nZW5Db25maWcucmVuZGVyVHlwZXMucmVuZGVyTm9kZSksIFtvLlN0bXRNb2RpZmllci5GaW5hbF0pXG4gICAgICAgIF07XG4gICAgfVxuICAgIHZhciByZXN1bHRFeHByO1xuICAgIGlmICh2aWV3LnZpZXdUeXBlID09PSBjb3JlX3ByaXZhdGVfMS5WaWV3VHlwZS5IT1NUKSB7XG4gICAgICAgIHJlc3VsdEV4cHIgPSB2aWV3Lm5vZGVzWzBdLmFwcEVsZW1lbnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXN1bHRFeHByID0gby5OVUxMX0VYUFI7XG4gICAgfVxuICAgIHJldHVybiBwYXJlbnRSZW5kZXJOb2RlU3RtdHMuY29uY2F0KHZpZXcuY3JlYXRlTWV0aG9kLmZpbmlzaCgpKVxuICAgICAgICAuY29uY2F0KFtcbiAgICAgICAgby5USElTX0VYUFIuY2FsbE1ldGhvZCgnaW5pdCcsIFtcbiAgICAgICAgICAgIHV0aWxfMS5jcmVhdGVGbGF0QXJyYXkodmlldy5yb290Tm9kZXNPckFwcEVsZW1lbnRzKSxcbiAgICAgICAgICAgIG8ubGl0ZXJhbEFycih2aWV3Lm5vZGVzLm1hcChmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5yZW5kZXJOb2RlOyB9KSksXG4gICAgICAgICAgICBvLmxpdGVyYWxBcnIodmlldy5kaXNwb3NhYmxlcyksXG4gICAgICAgICAgICBvLmxpdGVyYWxBcnIodmlldy5zdWJzY3JpcHRpb25zKVxuICAgICAgICBdKVxuICAgICAgICAgICAgLnRvU3RtdCgpLFxuICAgICAgICBuZXcgby5SZXR1cm5TdGF0ZW1lbnQocmVzdWx0RXhwcilcbiAgICBdKTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlRGV0ZWN0Q2hhbmdlc01ldGhvZCh2aWV3KSB7XG4gICAgdmFyIHN0bXRzID0gW107XG4gICAgaWYgKHZpZXcuZGV0ZWN0Q2hhbmdlc0luSW5wdXRzTWV0aG9kLmlzRW1wdHkoKSAmJiB2aWV3LnVwZGF0ZUNvbnRlbnRRdWVyaWVzTWV0aG9kLmlzRW1wdHkoKSAmJlxuICAgICAgICB2aWV3LmFmdGVyQ29udGVudExpZmVjeWNsZUNhbGxiYWNrc01ldGhvZC5pc0VtcHR5KCkgJiZcbiAgICAgICAgdmlldy5kZXRlY3RDaGFuZ2VzUmVuZGVyUHJvcGVydGllc01ldGhvZC5pc0VtcHR5KCkgJiZcbiAgICAgICAgdmlldy51cGRhdGVWaWV3UXVlcmllc01ldGhvZC5pc0VtcHR5KCkgJiYgdmlldy5hZnRlclZpZXdMaWZlY3ljbGVDYWxsYmFja3NNZXRob2QuaXNFbXB0eSgpKSB7XG4gICAgICAgIHJldHVybiBzdG10cztcbiAgICB9XG4gICAgY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmFkZEFsbChzdG10cywgdmlldy5kZXRlY3RDaGFuZ2VzSW5JbnB1dHNNZXRob2QuZmluaXNoKCkpO1xuICAgIHN0bXRzLnB1c2goby5USElTX0VYUFIuY2FsbE1ldGhvZCgnZGV0ZWN0Q29udGVudENoaWxkcmVuQ2hhbmdlcycsIFtjb25zdGFudHNfMS5EZXRlY3RDaGFuZ2VzVmFycy50aHJvd09uQ2hhbmdlXSlcbiAgICAgICAgLnRvU3RtdCgpKTtcbiAgICB2YXIgYWZ0ZXJDb250ZW50U3RtdHMgPSB2aWV3LnVwZGF0ZUNvbnRlbnRRdWVyaWVzTWV0aG9kLmZpbmlzaCgpLmNvbmNhdCh2aWV3LmFmdGVyQ29udGVudExpZmVjeWNsZUNhbGxiYWNrc01ldGhvZC5maW5pc2goKSk7XG4gICAgaWYgKGFmdGVyQ29udGVudFN0bXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc3RtdHMucHVzaChuZXcgby5JZlN0bXQoby5ub3QoY29uc3RhbnRzXzEuRGV0ZWN0Q2hhbmdlc1ZhcnMudGhyb3dPbkNoYW5nZSksIGFmdGVyQ29udGVudFN0bXRzKSk7XG4gICAgfVxuICAgIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5hZGRBbGwoc3RtdHMsIHZpZXcuZGV0ZWN0Q2hhbmdlc1JlbmRlclByb3BlcnRpZXNNZXRob2QuZmluaXNoKCkpO1xuICAgIHN0bXRzLnB1c2goby5USElTX0VYUFIuY2FsbE1ldGhvZCgnZGV0ZWN0Vmlld0NoaWxkcmVuQ2hhbmdlcycsIFtjb25zdGFudHNfMS5EZXRlY3RDaGFuZ2VzVmFycy50aHJvd09uQ2hhbmdlXSlcbiAgICAgICAgLnRvU3RtdCgpKTtcbiAgICB2YXIgYWZ0ZXJWaWV3U3RtdHMgPSB2aWV3LnVwZGF0ZVZpZXdRdWVyaWVzTWV0aG9kLmZpbmlzaCgpLmNvbmNhdCh2aWV3LmFmdGVyVmlld0xpZmVjeWNsZUNhbGxiYWNrc01ldGhvZC5maW5pc2goKSk7XG4gICAgaWYgKGFmdGVyVmlld1N0bXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc3RtdHMucHVzaChuZXcgby5JZlN0bXQoby5ub3QoY29uc3RhbnRzXzEuRGV0ZWN0Q2hhbmdlc1ZhcnMudGhyb3dPbkNoYW5nZSksIGFmdGVyVmlld1N0bXRzKSk7XG4gICAgfVxuICAgIHZhciB2YXJTdG10cyA9IFtdO1xuICAgIHZhciByZWFkVmFycyA9IG8uZmluZFJlYWRWYXJOYW1lcyhzdG10cyk7XG4gICAgaWYgKGNvbGxlY3Rpb25fMS5TZXRXcmFwcGVyLmhhcyhyZWFkVmFycywgY29uc3RhbnRzXzEuRGV0ZWN0Q2hhbmdlc1ZhcnMuY2hhbmdlZC5uYW1lKSkge1xuICAgICAgICB2YXJTdG10cy5wdXNoKGNvbnN0YW50c18xLkRldGVjdENoYW5nZXNWYXJzLmNoYW5nZWQuc2V0KG8ubGl0ZXJhbCh0cnVlKSkudG9EZWNsU3RtdChvLkJPT0xfVFlQRSkpO1xuICAgIH1cbiAgICBpZiAoY29sbGVjdGlvbl8xLlNldFdyYXBwZXIuaGFzKHJlYWRWYXJzLCBjb25zdGFudHNfMS5EZXRlY3RDaGFuZ2VzVmFycy5jaGFuZ2VzLm5hbWUpKSB7XG4gICAgICAgIHZhclN0bXRzLnB1c2goY29uc3RhbnRzXzEuRGV0ZWN0Q2hhbmdlc1ZhcnMuY2hhbmdlcy5zZXQoby5OVUxMX0VYUFIpXG4gICAgICAgICAgICAudG9EZWNsU3RtdChuZXcgby5NYXBUeXBlKG8uaW1wb3J0VHlwZShpZGVudGlmaWVyc18xLklkZW50aWZpZXJzLlNpbXBsZUNoYW5nZSkpKSk7XG4gICAgfVxuICAgIGlmIChjb2xsZWN0aW9uXzEuU2V0V3JhcHBlci5oYXMocmVhZFZhcnMsIGNvbnN0YW50c18xLkRldGVjdENoYW5nZXNWYXJzLnZhbFVud3JhcHBlci5uYW1lKSkge1xuICAgICAgICB2YXJTdG10cy5wdXNoKGNvbnN0YW50c18xLkRldGVjdENoYW5nZXNWYXJzLnZhbFVud3JhcHBlci5zZXQoby5pbXBvcnRFeHByKGlkZW50aWZpZXJzXzEuSWRlbnRpZmllcnMuVmFsdWVVbndyYXBwZXIpLmluc3RhbnRpYXRlKFtdKSlcbiAgICAgICAgICAgIC50b0RlY2xTdG10KG51bGwsIFtvLlN0bXRNb2RpZmllci5GaW5hbF0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhclN0bXRzLmNvbmNhdChzdG10cyk7XG59XG5mdW5jdGlvbiBhZGRSZXR1cm5WYWx1ZWZOb3RFbXB0eShzdGF0ZW1lbnRzLCB2YWx1ZSkge1xuICAgIGlmIChzdGF0ZW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlbWVudHMuY29uY2F0KFtuZXcgby5SZXR1cm5TdGF0ZW1lbnQodmFsdWUpXSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gc3RhdGVtZW50cztcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRDb250ZXh0VHlwZSh2aWV3KSB7XG4gICAgaWYgKHZpZXcudmlld1R5cGUgPT09IGNvcmVfcHJpdmF0ZV8xLlZpZXdUeXBlLkNPTVBPTkVOVCkge1xuICAgICAgICByZXR1cm4gby5pbXBvcnRUeXBlKHZpZXcuY29tcG9uZW50LnR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gby5EWU5BTUlDX1RZUEU7XG59XG5mdW5jdGlvbiBnZXRDaGFuZ2VEZXRlY3Rpb25Nb2RlKHZpZXcpIHtcbiAgICB2YXIgbW9kZTtcbiAgICBpZiAodmlldy52aWV3VHlwZSA9PT0gY29yZV9wcml2YXRlXzEuVmlld1R5cGUuQ09NUE9ORU5UKSB7XG4gICAgICAgIG1vZGUgPSBjb3JlX3ByaXZhdGVfMS5pc0RlZmF1bHRDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSh2aWV3LmNvbXBvbmVudC5jaGFuZ2VEZXRlY3Rpb24pID9cbiAgICAgICAgICAgIGNvcmVfMS5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5DaGVja0Fsd2F5cyA6XG4gICAgICAgICAgICBjb3JlXzEuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuQ2hlY2tPbmNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbW9kZSA9IGNvcmVfMS5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5DaGVja0Fsd2F5cztcbiAgICB9XG4gICAgcmV0dXJuIG1vZGU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3X2J1aWxkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGNvbXBpbGVfZWxlbWVudF8xID0gcmVxdWlyZSgnLi9jb21waWxlX2VsZW1lbnQnKTtcbnZhciBjb21waWxlX3ZpZXdfMSA9IHJlcXVpcmUoJy4vY29tcGlsZV92aWV3Jyk7XG52YXIgdmlld19idWlsZGVyXzEgPSByZXF1aXJlKCcuL3ZpZXdfYnVpbGRlcicpO1xudmFyIHZpZXdfYmluZGVyXzEgPSByZXF1aXJlKCcuL3ZpZXdfYmluZGVyJyk7XG52YXIgY29uZmlnXzEgPSByZXF1aXJlKCcuLi9jb25maWcnKTtcbnZhciBWaWV3Q29tcGlsZVJlc3VsdCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlld0NvbXBpbGVSZXN1bHQoc3RhdGVtZW50cywgdmlld0ZhY3RvcnlWYXIsIGRlcGVuZGVuY2llcykge1xuICAgICAgICB0aGlzLnN0YXRlbWVudHMgPSBzdGF0ZW1lbnRzO1xuICAgICAgICB0aGlzLnZpZXdGYWN0b3J5VmFyID0gdmlld0ZhY3RvcnlWYXI7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzO1xuICAgIH1cbiAgICByZXR1cm4gVmlld0NvbXBpbGVSZXN1bHQ7XG59KCkpO1xuZXhwb3J0cy5WaWV3Q29tcGlsZVJlc3VsdCA9IFZpZXdDb21waWxlUmVzdWx0O1xudmFyIFZpZXdDb21waWxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlld0NvbXBpbGVyKF9nZW5Db25maWcpIHtcbiAgICAgICAgdGhpcy5fZ2VuQ29uZmlnID0gX2dlbkNvbmZpZztcbiAgICB9XG4gICAgVmlld0NvbXBpbGVyLnByb3RvdHlwZS5jb21waWxlQ29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudCwgdGVtcGxhdGUsIHN0eWxlcywgcGlwZXMpIHtcbiAgICAgICAgdmFyIHN0YXRlbWVudHMgPSBbXTtcbiAgICAgICAgdmFyIGRlcGVuZGVuY2llcyA9IFtdO1xuICAgICAgICB2YXIgdmlldyA9IG5ldyBjb21waWxlX3ZpZXdfMS5Db21waWxlVmlldyhjb21wb25lbnQsIHRoaXMuX2dlbkNvbmZpZywgcGlwZXMsIHN0eWxlcywgMCwgY29tcGlsZV9lbGVtZW50XzEuQ29tcGlsZUVsZW1lbnQuY3JlYXRlTnVsbCgpLCBbXSk7XG4gICAgICAgIHZpZXdfYnVpbGRlcl8xLmJ1aWxkVmlldyh2aWV3LCB0ZW1wbGF0ZSwgZGVwZW5kZW5jaWVzKTtcbiAgICAgICAgLy8gTmVlZCB0byBzZXBhcmF0ZSBiaW5kaW5nIGZyb20gY3JlYXRpb24gdG8gYmUgYWJsZSB0byByZWZlciB0b1xuICAgICAgICAvLyB2YXJpYWJsZXMgdGhhdCBoYXZlIGJlZW4gZGVjbGFyZWQgYWZ0ZXIgdXNhZ2UuXG4gICAgICAgIHZpZXdfYmluZGVyXzEuYmluZFZpZXcodmlldywgdGVtcGxhdGUpO1xuICAgICAgICB2aWV3X2J1aWxkZXJfMS5maW5pc2hWaWV3KHZpZXcsIHN0YXRlbWVudHMpO1xuICAgICAgICByZXR1cm4gbmV3IFZpZXdDb21waWxlUmVzdWx0KHN0YXRlbWVudHMsIHZpZXcudmlld0ZhY3RvcnkubmFtZSwgZGVwZW5kZW5jaWVzKTtcbiAgICB9O1xuICAgIFZpZXdDb21waWxlci5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICBWaWV3Q29tcGlsZXIuY3RvclBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29uZmlnXzEuQ29tcGlsZXJDb25maWcsIH0sXG4gICAgXTtcbiAgICByZXR1cm4gVmlld0NvbXBpbGVyO1xufSgpKTtcbmV4cG9ydHMuVmlld0NvbXBpbGVyID0gVmlld0NvbXBpbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlld19jb21waWxlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgY29yZV9wcml2YXRlXzEgPSByZXF1aXJlKCcuLi9jb3JlX3ByaXZhdGUnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBWaWV3UmVzb2x2ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZpZXdSZXNvbHZlcihfcmVmbGVjdG9yKSB7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fY2FjaGUgPSBuZXcgY29sbGVjdGlvbl8xLk1hcCgpO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChfcmVmbGVjdG9yKSkge1xuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdG9yID0gX3JlZmxlY3RvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RvciA9IGNvcmVfMS5yZWZsZWN0b3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgVmlld1Jlc29sdmVyLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgICAgICB2YXIgdmlldyA9IHRoaXMuX2NhY2hlLmdldChjb21wb25lbnQpO1xuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsodmlldykpIHtcbiAgICAgICAgICAgIHZpZXcgPSB0aGlzLl9yZXNvbHZlKGNvbXBvbmVudCk7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZS5zZXQoY29tcG9uZW50LCB2aWV3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlldztcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBWaWV3UmVzb2x2ZXIucHJvdG90eXBlLl9yZXNvbHZlID0gZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgICAgICB2YXIgY29tcE1ldGE7XG4gICAgICAgIHZhciB2aWV3TWV0YTtcbiAgICAgICAgdGhpcy5fcmVmbGVjdG9yLmFubm90YXRpb25zKGNvbXBvbmVudCkuZm9yRWFjaChmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgaWYgKG0gaW5zdGFuY2VvZiBjb3JlXzEuVmlld01ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmlld01ldGEgPSBtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG0gaW5zdGFuY2VvZiBjb3JlXzEuQ29tcG9uZW50TWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb21wTWV0YSA9IG07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChjb21wTWV0YSkpIHtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhjb21wTWV0YS50ZW1wbGF0ZSkgJiYgbGFuZ18xLmlzQmxhbmsoY29tcE1ldGEudGVtcGxhdGVVcmwpICYmIGxhbmdfMS5pc0JsYW5rKHZpZXdNZXRhKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbihcIkNvbXBvbmVudCAnXCIgKyBsYW5nXzEuc3RyaW5naWZ5KGNvbXBvbmVudCkgKyBcIicgbXVzdCBoYXZlIGVpdGhlciAndGVtcGxhdGUnIG9yICd0ZW1wbGF0ZVVybCcgc2V0LlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhbmdfMS5pc1ByZXNlbnQoY29tcE1ldGEudGVtcGxhdGUpICYmIGxhbmdfMS5pc1ByZXNlbnQodmlld01ldGEpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGhyb3dNaXhpbmdWaWV3QW5kQ29tcG9uZW50KFwidGVtcGxhdGVcIiwgY29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhbmdfMS5pc1ByZXNlbnQoY29tcE1ldGEudGVtcGxhdGVVcmwpICYmIGxhbmdfMS5pc1ByZXNlbnQodmlld01ldGEpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGhyb3dNaXhpbmdWaWV3QW5kQ29tcG9uZW50KFwidGVtcGxhdGVVcmxcIiwgY29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhbmdfMS5pc1ByZXNlbnQoY29tcE1ldGEuZGlyZWN0aXZlcykgJiYgbGFuZ18xLmlzUHJlc2VudCh2aWV3TWV0YSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90aHJvd01peGluZ1ZpZXdBbmRDb21wb25lbnQoXCJkaXJlY3RpdmVzXCIsIGNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYW5nXzEuaXNQcmVzZW50KGNvbXBNZXRhLnBpcGVzKSAmJiBsYW5nXzEuaXNQcmVzZW50KHZpZXdNZXRhKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Rocm93TWl4aW5nVmlld0FuZENvbXBvbmVudChcInBpcGVzXCIsIGNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYW5nXzEuaXNQcmVzZW50KGNvbXBNZXRhLmVuY2Fwc3VsYXRpb24pICYmIGxhbmdfMS5pc1ByZXNlbnQodmlld01ldGEpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGhyb3dNaXhpbmdWaWV3QW5kQ29tcG9uZW50KFwiZW5jYXBzdWxhdGlvblwiLCBjb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGFuZ18xLmlzUHJlc2VudChjb21wTWV0YS5zdHlsZXMpICYmIGxhbmdfMS5pc1ByZXNlbnQodmlld01ldGEpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGhyb3dNaXhpbmdWaWV3QW5kQ29tcG9uZW50KFwic3R5bGVzXCIsIGNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYW5nXzEuaXNQcmVzZW50KGNvbXBNZXRhLnN0eWxlVXJscykgJiYgbGFuZ18xLmlzUHJlc2VudCh2aWV3TWV0YSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90aHJvd01peGluZ1ZpZXdBbmRDb21wb25lbnQoXCJzdHlsZVVybHNcIiwgY29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhbmdfMS5pc1ByZXNlbnQodmlld01ldGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZpZXdNZXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBjb3JlXzEuVmlld01ldGFkYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGNvbXBNZXRhLnRlbXBsYXRlVXJsLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogY29tcE1ldGEudGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IGNvbXBNZXRhLmRpcmVjdGl2ZXMsXG4gICAgICAgICAgICAgICAgICAgIHBpcGVzOiBjb21wTWV0YS5waXBlcyxcbiAgICAgICAgICAgICAgICAgICAgZW5jYXBzdWxhdGlvbjogY29tcE1ldGEuZW5jYXBzdWxhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzOiBjb21wTWV0YS5zdHlsZXMsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlVXJsczogY29tcE1ldGEuc3R5bGVVcmxzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsodmlld01ldGEpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiQ291bGQgbm90IGNvbXBpbGUgJ1wiICsgbGFuZ18xLnN0cmluZ2lmeShjb21wb25lbnQpICsgXCInIGJlY2F1c2UgaXQgaXMgbm90IGEgY29tcG9uZW50LlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB2aWV3TWV0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBWaWV3UmVzb2x2ZXIucHJvdG90eXBlLl90aHJvd01peGluZ1ZpZXdBbmRDb21wb25lbnQgPSBmdW5jdGlvbiAocHJvcGVydHlOYW1lLCBjb21wb25lbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiQ29tcG9uZW50ICdcIiArIGxhbmdfMS5zdHJpbmdpZnkoY29tcG9uZW50KSArIFwiJyBjYW5ub3QgaGF2ZSBib3RoICdcIiArIHByb3BlcnR5TmFtZSArIFwiJyBhbmQgJ0BWaWV3JyBzZXQgYXQgdGhlIHNhbWUgdGltZVxcXCJcIik7XG4gICAgfTtcbiAgICBWaWV3UmVzb2x2ZXIuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuSW5qZWN0YWJsZSB9LFxuICAgIF07XG4gICAgVmlld1Jlc29sdmVyLmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfcHJpdmF0ZV8xLlJlZmxlY3RvclJlYWRlciwgfSxcbiAgICBdO1xuICAgIHJldHVybiBWaWV3UmVzb2x2ZXI7XG59KCkpO1xuZXhwb3J0cy5WaWV3UmVzb2x2ZXIgPSBWaWV3UmVzb2x2ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aWV3X3Jlc29sdmVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8gVE9ETzogdnNhdmtpbiByZW5hbWUgaXQgaW50byBUZW1wbGF0ZUxvYWRlclxuLyoqXG4gKiBBbiBpbnRlcmZhY2UgZm9yIHJldHJpZXZpbmcgZG9jdW1lbnRzIGJ5IFVSTCB0aGF0IHRoZSBjb21waWxlciB1c2VzXG4gKiB0byBsb2FkIHRlbXBsYXRlcy5cbiAqL1xudmFyIFhIUiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gWEhSKCkge1xuICAgIH1cbiAgICBYSFIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh1cmwpIHsgcmV0dXJuIG51bGw7IH07XG4gICAgcmV0dXJuIFhIUjtcbn0oKSk7XG5leHBvcnRzLlhIUiA9IFhIUjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXhoci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG4vKipcbiogQG1vZHVsZVxuKiBAZGVzY3JpcHRpb25cbiogU3RhcnRpbmcgcG9pbnQgdG8gaW1wb3J0IGFsbCBwdWJsaWMgY29yZSBBUElzLlxuKi9cbl9fZXhwb3J0KHJlcXVpcmUoJy4vc3JjL21ldGFkYXRhJykpO1xuX19leHBvcnQocmVxdWlyZSgnLi9zcmMvdXRpbCcpKTtcbl9fZXhwb3J0KHJlcXVpcmUoJy4vc3JjL2RpJykpO1xudmFyIGFwcGxpY2F0aW9uX3JlZl8xID0gcmVxdWlyZSgnLi9zcmMvYXBwbGljYXRpb25fcmVmJyk7XG5leHBvcnRzLmNyZWF0ZVBsYXRmb3JtID0gYXBwbGljYXRpb25fcmVmXzEuY3JlYXRlUGxhdGZvcm07XG5leHBvcnRzLmFzc2VydFBsYXRmb3JtID0gYXBwbGljYXRpb25fcmVmXzEuYXNzZXJ0UGxhdGZvcm07XG5leHBvcnRzLmRpc3Bvc2VQbGF0Zm9ybSA9IGFwcGxpY2F0aW9uX3JlZl8xLmRpc3Bvc2VQbGF0Zm9ybTtcbmV4cG9ydHMuZ2V0UGxhdGZvcm0gPSBhcHBsaWNhdGlvbl9yZWZfMS5nZXRQbGF0Zm9ybTtcbmV4cG9ydHMuY29yZUJvb3RzdHJhcCA9IGFwcGxpY2F0aW9uX3JlZl8xLmNvcmVCb290c3RyYXA7XG5leHBvcnRzLmNvcmVMb2FkQW5kQm9vdHN0cmFwID0gYXBwbGljYXRpb25fcmVmXzEuY29yZUxvYWRBbmRCb290c3RyYXA7XG5leHBvcnRzLmNyZWF0ZU5nWm9uZSA9IGFwcGxpY2F0aW9uX3JlZl8xLmNyZWF0ZU5nWm9uZTtcbmV4cG9ydHMuUGxhdGZvcm1SZWYgPSBhcHBsaWNhdGlvbl9yZWZfMS5QbGF0Zm9ybVJlZjtcbmV4cG9ydHMuQXBwbGljYXRpb25SZWYgPSBhcHBsaWNhdGlvbl9yZWZfMS5BcHBsaWNhdGlvblJlZjtcbnZhciBhcHBsaWNhdGlvbl90b2tlbnNfMSA9IHJlcXVpcmUoJy4vc3JjL2FwcGxpY2F0aW9uX3Rva2VucycpO1xuZXhwb3J0cy5BUFBfSUQgPSBhcHBsaWNhdGlvbl90b2tlbnNfMS5BUFBfSUQ7XG5leHBvcnRzLkFQUF9JTklUSUFMSVpFUiA9IGFwcGxpY2F0aW9uX3Rva2Vuc18xLkFQUF9JTklUSUFMSVpFUjtcbmV4cG9ydHMuUEFDS0FHRV9ST09UX1VSTCA9IGFwcGxpY2F0aW9uX3Rva2Vuc18xLlBBQ0tBR0VfUk9PVF9VUkw7XG5leHBvcnRzLlBMQVRGT1JNX0lOSVRJQUxJWkVSID0gYXBwbGljYXRpb25fdG9rZW5zXzEuUExBVEZPUk1fSU5JVElBTElaRVI7XG5fX2V4cG9ydChyZXF1aXJlKCcuL3NyYy96b25lJykpO1xuX19leHBvcnQocmVxdWlyZSgnLi9zcmMvcmVuZGVyJykpO1xuX19leHBvcnQocmVxdWlyZSgnLi9zcmMvbGlua2VyJykpO1xudmFyIGRlYnVnX25vZGVfMSA9IHJlcXVpcmUoJy4vc3JjL2RlYnVnL2RlYnVnX25vZGUnKTtcbmV4cG9ydHMuRGVidWdFbGVtZW50ID0gZGVidWdfbm9kZV8xLkRlYnVnRWxlbWVudDtcbmV4cG9ydHMuRGVidWdOb2RlID0gZGVidWdfbm9kZV8xLkRlYnVnTm9kZTtcbmV4cG9ydHMuYXNOYXRpdmVFbGVtZW50cyA9IGRlYnVnX25vZGVfMS5hc05hdGl2ZUVsZW1lbnRzO1xuZXhwb3J0cy5nZXREZWJ1Z05vZGUgPSBkZWJ1Z19ub2RlXzEuZ2V0RGVidWdOb2RlO1xuX19leHBvcnQocmVxdWlyZSgnLi9zcmMvdGVzdGFiaWxpdHkvdGVzdGFiaWxpdHknKSk7XG5fX2V4cG9ydChyZXF1aXJlKCcuL3NyYy9jaGFuZ2VfZGV0ZWN0aW9uJykpO1xuX19leHBvcnQocmVxdWlyZSgnLi9zcmMvcGxhdGZvcm1fZGlyZWN0aXZlc19hbmRfcGlwZXMnKSk7XG5fX2V4cG9ydChyZXF1aXJlKCcuL3NyYy9wbGF0Zm9ybV9jb21tb25fcHJvdmlkZXJzJykpO1xuX19leHBvcnQocmVxdWlyZSgnLi9zcmMvYXBwbGljYXRpb25fY29tbW9uX3Byb3ZpZGVycycpKTtcbl9fZXhwb3J0KHJlcXVpcmUoJy4vc3JjL3JlZmxlY3Rpb24vcmVmbGVjdGlvbicpKTtcbnZhciBwcm9maWxlXzEgPSByZXF1aXJlKCcuL3NyYy9wcm9maWxlL3Byb2ZpbGUnKTtcbmV4cG9ydHMud3RmQ3JlYXRlU2NvcGUgPSBwcm9maWxlXzEud3RmQ3JlYXRlU2NvcGU7XG5leHBvcnRzLnd0ZkxlYXZlID0gcHJvZmlsZV8xLnd0ZkxlYXZlO1xuZXhwb3J0cy53dGZTdGFydFRpbWVSYW5nZSA9IHByb2ZpbGVfMS53dGZTdGFydFRpbWVSYW5nZTtcbmV4cG9ydHMud3RmRW5kVGltZVJhbmdlID0gcHJvZmlsZV8xLnd0ZkVuZFRpbWVSYW5nZTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKFwiLi9zcmMvZmFjYWRlL2xhbmdcIik7XG5leHBvcnRzLlR5cGUgPSBsYW5nXzEuVHlwZTtcbmV4cG9ydHMuZW5hYmxlUHJvZE1vZGUgPSBsYW5nXzEuZW5hYmxlUHJvZE1vZGU7XG52YXIgYXN5bmNfMSA9IHJlcXVpcmUoXCIuL3NyYy9mYWNhZGUvYXN5bmNcIik7XG5leHBvcnRzLkV2ZW50RW1pdHRlciA9IGFzeW5jXzEuRXZlbnRFbWl0dGVyO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoXCIuL3NyYy9mYWNhZGUvZXhjZXB0aW9uc1wiKTtcbmV4cG9ydHMuRXhjZXB0aW9uSGFuZGxlciA9IGV4Y2VwdGlvbnNfMS5FeGNlcHRpb25IYW5kbGVyO1xuZXhwb3J0cy5XcmFwcGVkRXhjZXB0aW9uID0gZXhjZXB0aW9uc18xLldyYXBwZWRFeGNlcHRpb247XG5leHBvcnRzLkJhc2VFeGNlcHRpb24gPSBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbjtcbl9fZXhwb3J0KHJlcXVpcmUoJy4vcHJpdmF0ZV9leHBvcnQnKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb25zdGFudHMgPSByZXF1aXJlKCcuL3NyYy9jaGFuZ2VfZGV0ZWN0aW9uL2NvbnN0YW50cycpO1xudmFyIHNlY3VyaXR5ID0gcmVxdWlyZSgnLi9zcmMvc2VjdXJpdHknKTtcbnZhciByZWZsZWN0aXZlX3Byb3ZpZGVyID0gcmVxdWlyZSgnLi9zcmMvZGkvcmVmbGVjdGl2ZV9wcm92aWRlcicpO1xudmFyIGxpZmVjeWNsZV9ob29rcyA9IHJlcXVpcmUoJy4vc3JjL21ldGFkYXRhL2xpZmVjeWNsZV9ob29rcycpO1xudmFyIHJlZmxlY3Rvcl9yZWFkZXIgPSByZXF1aXJlKCcuL3NyYy9yZWZsZWN0aW9uL3JlZmxlY3Rvcl9yZWFkZXInKTtcbnZhciBjb21wb25lbnRfcmVzb2x2ZXIgPSByZXF1aXJlKCcuL3NyYy9saW5rZXIvY29tcG9uZW50X3Jlc29sdmVyJyk7XG52YXIgZWxlbWVudCA9IHJlcXVpcmUoJy4vc3JjL2xpbmtlci9lbGVtZW50Jyk7XG52YXIgdmlldyA9IHJlcXVpcmUoJy4vc3JjL2xpbmtlci92aWV3Jyk7XG52YXIgdmlld190eXBlID0gcmVxdWlyZSgnLi9zcmMvbGlua2VyL3ZpZXdfdHlwZScpO1xudmFyIHZpZXdfdXRpbHMgPSByZXF1aXJlKCcuL3NyYy9saW5rZXIvdmlld191dGlscycpO1xudmFyIG1ldGFkYXRhX3ZpZXcgPSByZXF1aXJlKCcuL3NyYy9tZXRhZGF0YS92aWV3Jyk7XG52YXIgZGVidWdfY29udGV4dCA9IHJlcXVpcmUoJy4vc3JjL2xpbmtlci9kZWJ1Z19jb250ZXh0Jyk7XG52YXIgY2hhbmdlX2RldGVjdGlvbl91dGlsID0gcmVxdWlyZSgnLi9zcmMvY2hhbmdlX2RldGVjdGlvbi9jaGFuZ2VfZGV0ZWN0aW9uX3V0aWwnKTtcbnZhciBhcGkgPSByZXF1aXJlKCcuL3NyYy9yZW5kZXIvYXBpJyk7XG52YXIgdGVtcGxhdGVfcmVmID0gcmVxdWlyZSgnLi9zcmMvbGlua2VyL3RlbXBsYXRlX3JlZicpO1xudmFyIHd0Zl9pbml0ID0gcmVxdWlyZSgnLi9zcmMvcHJvZmlsZS93dGZfaW5pdCcpO1xudmFyIHJlZmxlY3Rpb25fY2FwYWJpbGl0aWVzID0gcmVxdWlyZSgnLi9zcmMvcmVmbGVjdGlvbi9yZWZsZWN0aW9uX2NhcGFiaWxpdGllcycpO1xudmFyIGRlY29yYXRvcnMgPSByZXF1aXJlKCcuL3NyYy91dGlsL2RlY29yYXRvcnMnKTtcbnZhciBkZWJ1ZyA9IHJlcXVpcmUoJy4vc3JjL2RlYnVnL2RlYnVnX3JlbmRlcmVyJyk7XG52YXIgcHJvdmlkZXJfdXRpbCA9IHJlcXVpcmUoJy4vc3JjL2RpL3Byb3ZpZGVyX3V0aWwnKTtcbnZhciBjb25zb2xlID0gcmVxdWlyZSgnLi9zcmMvY29uc29sZScpO1xuZXhwb3J0cy5fX2NvcmVfcHJpdmF0ZV9fID0ge1xuICAgIGlzRGVmYXVsdENoYW5nZURldGVjdGlvblN0cmF0ZWd5OiBjb25zdGFudHMuaXNEZWZhdWx0Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gICAgQ2hhbmdlRGV0ZWN0b3JTdGF0ZTogY29uc3RhbnRzLkNoYW5nZURldGVjdG9yU3RhdGUsXG4gICAgQ0hBTkdFX0RFVEVDVElPTl9TVFJBVEVHWV9WQUxVRVM6IGNvbnN0YW50cy5DSEFOR0VfREVURUNUSU9OX1NUUkFURUdZX1ZBTFVFUyxcbiAgICBjb25zdHJ1Y3REZXBlbmRlbmNpZXM6IHJlZmxlY3RpdmVfcHJvdmlkZXIuY29uc3RydWN0RGVwZW5kZW5jaWVzLFxuICAgIExpZmVjeWNsZUhvb2tzOiBsaWZlY3ljbGVfaG9va3MuTGlmZWN5Y2xlSG9va3MsXG4gICAgTElGRUNZQ0xFX0hPT0tTX1ZBTFVFUzogbGlmZWN5Y2xlX2hvb2tzLkxJRkVDWUNMRV9IT09LU19WQUxVRVMsXG4gICAgUmVmbGVjdG9yUmVhZGVyOiByZWZsZWN0b3JfcmVhZGVyLlJlZmxlY3RvclJlYWRlcixcbiAgICBSZWZsZWN0b3JDb21wb25lbnRSZXNvbHZlcjogY29tcG9uZW50X3Jlc29sdmVyLlJlZmxlY3RvckNvbXBvbmVudFJlc29sdmVyLFxuICAgIEFwcEVsZW1lbnQ6IGVsZW1lbnQuQXBwRWxlbWVudCxcbiAgICBBcHBWaWV3OiB2aWV3LkFwcFZpZXcsXG4gICAgRGVidWdBcHBWaWV3OiB2aWV3LkRlYnVnQXBwVmlldyxcbiAgICBWaWV3VHlwZTogdmlld190eXBlLlZpZXdUeXBlLFxuICAgIE1BWF9JTlRFUlBPTEFUSU9OX1ZBTFVFUzogdmlld191dGlscy5NQVhfSU5URVJQT0xBVElPTl9WQUxVRVMsXG4gICAgY2hlY2tCaW5kaW5nOiB2aWV3X3V0aWxzLmNoZWNrQmluZGluZyxcbiAgICBmbGF0dGVuTmVzdGVkVmlld1JlbmRlck5vZGVzOiB2aWV3X3V0aWxzLmZsYXR0ZW5OZXN0ZWRWaWV3UmVuZGVyTm9kZXMsXG4gICAgaW50ZXJwb2xhdGU6IHZpZXdfdXRpbHMuaW50ZXJwb2xhdGUsXG4gICAgVmlld1V0aWxzOiB2aWV3X3V0aWxzLlZpZXdVdGlscyxcbiAgICBWSUVXX0VOQ0FQU1VMQVRJT05fVkFMVUVTOiBtZXRhZGF0YV92aWV3LlZJRVdfRU5DQVBTVUxBVElPTl9WQUxVRVMsXG4gICAgRGVidWdDb250ZXh0OiBkZWJ1Z19jb250ZXh0LkRlYnVnQ29udGV4dCxcbiAgICBTdGF0aWNOb2RlRGVidWdJbmZvOiBkZWJ1Z19jb250ZXh0LlN0YXRpY05vZGVEZWJ1Z0luZm8sXG4gICAgZGV2TW9kZUVxdWFsOiBjaGFuZ2VfZGV0ZWN0aW9uX3V0aWwuZGV2TW9kZUVxdWFsLFxuICAgIHVuaW5pdGlhbGl6ZWQ6IGNoYW5nZV9kZXRlY3Rpb25fdXRpbC51bmluaXRpYWxpemVkLFxuICAgIFZhbHVlVW53cmFwcGVyOiBjaGFuZ2VfZGV0ZWN0aW9uX3V0aWwuVmFsdWVVbndyYXBwZXIsXG4gICAgUmVuZGVyRGVidWdJbmZvOiBhcGkuUmVuZGVyRGVidWdJbmZvLFxuICAgIFNlY3VyaXR5Q29udGV4dDogc2VjdXJpdHkuU2VjdXJpdHlDb250ZXh0LFxuICAgIFNhbml0aXphdGlvblNlcnZpY2U6IHNlY3VyaXR5LlNhbml0aXphdGlvblNlcnZpY2UsXG4gICAgVGVtcGxhdGVSZWZfOiB0ZW1wbGF0ZV9yZWYuVGVtcGxhdGVSZWZfLFxuICAgIHd0ZkluaXQ6IHd0Zl9pbml0Lnd0ZkluaXQsXG4gICAgUmVmbGVjdGlvbkNhcGFiaWxpdGllczogcmVmbGVjdGlvbl9jYXBhYmlsaXRpZXMuUmVmbGVjdGlvbkNhcGFiaWxpdGllcyxcbiAgICBtYWtlRGVjb3JhdG9yOiBkZWNvcmF0b3JzLm1ha2VEZWNvcmF0b3IsXG4gICAgRGVidWdEb21Sb290UmVuZGVyZXI6IGRlYnVnLkRlYnVnRG9tUm9vdFJlbmRlcmVyLFxuICAgIGNyZWF0ZVByb3ZpZGVyOiBwcm92aWRlcl91dGlsLmNyZWF0ZVByb3ZpZGVyLFxuICAgIGlzUHJvdmlkZXJMaXRlcmFsOiBwcm92aWRlcl91dGlsLmlzUHJvdmlkZXJMaXRlcmFsLFxuICAgIEVNUFRZX0FSUkFZOiB2aWV3X3V0aWxzLkVNUFRZX0FSUkFZLFxuICAgIEVNUFRZX01BUDogdmlld191dGlscy5FTVBUWV9NQVAsXG4gICAgcHVyZVByb3h5MTogdmlld191dGlscy5wdXJlUHJveHkxLFxuICAgIHB1cmVQcm94eTI6IHZpZXdfdXRpbHMucHVyZVByb3h5MixcbiAgICBwdXJlUHJveHkzOiB2aWV3X3V0aWxzLnB1cmVQcm94eTMsXG4gICAgcHVyZVByb3h5NDogdmlld191dGlscy5wdXJlUHJveHk0LFxuICAgIHB1cmVQcm94eTU6IHZpZXdfdXRpbHMucHVyZVByb3h5NSxcbiAgICBwdXJlUHJveHk2OiB2aWV3X3V0aWxzLnB1cmVQcm94eTYsXG4gICAgcHVyZVByb3h5Nzogdmlld191dGlscy5wdXJlUHJveHk3LFxuICAgIHB1cmVQcm94eTg6IHZpZXdfdXRpbHMucHVyZVByb3h5OCxcbiAgICBwdXJlUHJveHk5OiB2aWV3X3V0aWxzLnB1cmVQcm94eTksXG4gICAgcHVyZVByb3h5MTA6IHZpZXdfdXRpbHMucHVyZVByb3h5MTAsXG4gICAgY2FzdEJ5VmFsdWU6IHZpZXdfdXRpbHMuY2FzdEJ5VmFsdWUsXG4gICAgQ29uc29sZTogY29uc29sZS5Db25zb2xlLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByaXZhdGVfZXhwb3J0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGFwcGxpY2F0aW9uX3Rva2Vuc18xID0gcmVxdWlyZSgnLi9hcHBsaWNhdGlvbl90b2tlbnMnKTtcbnZhciBhcHBsaWNhdGlvbl9yZWZfMSA9IHJlcXVpcmUoJy4vYXBwbGljYXRpb25fcmVmJyk7XG52YXIgY2hhbmdlX2RldGVjdGlvbl8xID0gcmVxdWlyZSgnLi9jaGFuZ2VfZGV0ZWN0aW9uL2NoYW5nZV9kZXRlY3Rpb24nKTtcbnZhciB2aWV3X3V0aWxzXzEgPSByZXF1aXJlKCcuL2xpbmtlci92aWV3X3V0aWxzJyk7XG52YXIgY29tcG9uZW50X3Jlc29sdmVyXzEgPSByZXF1aXJlKCcuL2xpbmtlci9jb21wb25lbnRfcmVzb2x2ZXInKTtcbnZhciBkeW5hbWljX2NvbXBvbmVudF9sb2FkZXJfMSA9IHJlcXVpcmUoJy4vbGlua2VyL2R5bmFtaWNfY29tcG9uZW50X2xvYWRlcicpO1xudmFyIF9fdW51c2VkOyAvLyBhdm9pZCB1bnVzZWQgaW1wb3J0IHdoZW4gVHlwZSB1bmlvbiB0eXBlcyBhcmUgZXJhc2VkXG4vKipcbiAqIEEgZGVmYXVsdCBzZXQgb2YgcHJvdmlkZXJzIHdoaWNoIHNob3VsZCBiZSBpbmNsdWRlZCBpbiBhbnkgQW5ndWxhclxuICogYXBwbGljYXRpb24sIHJlZ2FyZGxlc3Mgb2YgdGhlIHBsYXRmb3JtIGl0IHJ1bnMgb250by5cbiAqL1xuZXhwb3J0cy5BUFBMSUNBVElPTl9DT01NT05fUFJPVklERVJTID0gXG4vKkB0czJkYXJ0X2NvbnN0Ki8gW1xuICAgIGFwcGxpY2F0aW9uX3JlZl8xLkFQUExJQ0FUSU9OX0NPUkVfUFJPVklERVJTLFxuICAgIC8qIEB0czJkYXJ0X1Byb3ZpZGVyICovIHsgcHJvdmlkZTogY29tcG9uZW50X3Jlc29sdmVyXzEuQ29tcG9uZW50UmVzb2x2ZXIsIHVzZUNsYXNzOiBjb21wb25lbnRfcmVzb2x2ZXJfMS5SZWZsZWN0b3JDb21wb25lbnRSZXNvbHZlciB9LFxuICAgIGFwcGxpY2F0aW9uX3Rva2Vuc18xLkFQUF9JRF9SQU5ET01fUFJPVklERVIsXG4gICAgdmlld191dGlsc18xLlZpZXdVdGlscyxcbiAgICAvKiBAdHMyZGFydF9Qcm92aWRlciAqLyB7IHByb3ZpZGU6IGNoYW5nZV9kZXRlY3Rpb25fMS5JdGVyYWJsZURpZmZlcnMsIHVzZVZhbHVlOiBjaGFuZ2VfZGV0ZWN0aW9uXzEuZGVmYXVsdEl0ZXJhYmxlRGlmZmVycyB9LFxuICAgIC8qIEB0czJkYXJ0X1Byb3ZpZGVyICovIHsgcHJvdmlkZTogY2hhbmdlX2RldGVjdGlvbl8xLktleVZhbHVlRGlmZmVycywgdXNlVmFsdWU6IGNoYW5nZV9kZXRlY3Rpb25fMS5kZWZhdWx0S2V5VmFsdWVEaWZmZXJzIH0sXG4gICAgLyogQHRzMmRhcnRfUHJvdmlkZXIgKi8geyBwcm92aWRlOiBkeW5hbWljX2NvbXBvbmVudF9sb2FkZXJfMS5EeW5hbWljQ29tcG9uZW50TG9hZGVyLCB1c2VDbGFzczogZHluYW1pY19jb21wb25lbnRfbG9hZGVyXzEuRHluYW1pY0NvbXBvbmVudExvYWRlcl8gfVxuXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcGxpY2F0aW9uX2NvbW1vbl9wcm92aWRlcnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBuZ196b25lXzEgPSByZXF1aXJlKCcuL3pvbmUvbmdfem9uZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGRpXzEgPSByZXF1aXJlKCcuL2RpJyk7XG52YXIgYXBwbGljYXRpb25fdG9rZW5zXzEgPSByZXF1aXJlKCcuL2FwcGxpY2F0aW9uX3Rva2VucycpO1xudmFyIGFzeW5jXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2FzeW5jJyk7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9jb2xsZWN0aW9uJyk7XG52YXIgdGVzdGFiaWxpdHlfMSA9IHJlcXVpcmUoJy4vdGVzdGFiaWxpdHkvdGVzdGFiaWxpdHknKTtcbnZhciBjb21wb25lbnRfcmVzb2x2ZXJfMSA9IHJlcXVpcmUoJy4vbGlua2VyL2NvbXBvbmVudF9yZXNvbHZlcicpO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvZXhjZXB0aW9ucycpO1xudmFyIGNvbnNvbGVfMSA9IHJlcXVpcmUoJy4vY29uc29sZScpO1xudmFyIHByb2ZpbGVfMSA9IHJlcXVpcmUoJy4vcHJvZmlsZS9wcm9maWxlJyk7XG4vKipcbiAqIENyZWF0ZSBhbiBBbmd1bGFyIHpvbmUuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU5nWm9uZSgpIHtcbiAgICByZXR1cm4gbmV3IG5nX3pvbmVfMS5OZ1pvbmUoeyBlbmFibGVMb25nU3RhY2tUcmFjZTogbGFuZ18xLmFzc2VydGlvbnNFbmFibGVkKCkgfSk7XG59XG5leHBvcnRzLmNyZWF0ZU5nWm9uZSA9IGNyZWF0ZU5nWm9uZTtcbnZhciBfcGxhdGZvcm07XG52YXIgX2luUGxhdGZvcm1DcmVhdGUgPSBmYWxzZTtcbi8qKlxuICogQ3JlYXRlcyBhIHBsYXRmb3JtLlxuICogUGxhdGZvcm1zIGhhdmUgdG8gYmUgZWFnZXJseSBjcmVhdGVkIHZpYSB0aGlzIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVQbGF0Zm9ybShpbmplY3Rvcikge1xuICAgIGlmIChfaW5QbGF0Zm9ybUNyZWF0ZSkge1xuICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oJ0FscmVhZHkgY3JlYXRpbmcgYSBwbGF0Zm9ybS4uLicpO1xuICAgIH1cbiAgICBpZiAobGFuZ18xLmlzUHJlc2VudChfcGxhdGZvcm0pICYmICFfcGxhdGZvcm0uZGlzcG9zZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiVGhlcmUgY2FuIGJlIG9ubHkgb25lIHBsYXRmb3JtLiBEZXN0cm95IHRoZSBwcmV2aW91cyBvbmUgdG8gY3JlYXRlIGEgbmV3IG9uZS5cIik7XG4gICAgfVxuICAgIGxhbmdfMS5sb2NrTW9kZSgpO1xuICAgIF9pblBsYXRmb3JtQ3JlYXRlID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgICBfcGxhdGZvcm0gPSBpbmplY3Rvci5nZXQoUGxhdGZvcm1SZWYpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgX2luUGxhdGZvcm1DcmVhdGUgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIF9wbGF0Zm9ybTtcbn1cbmV4cG9ydHMuY3JlYXRlUGxhdGZvcm0gPSBjcmVhdGVQbGF0Zm9ybTtcbi8qKlxuICogQ2hlY2tzIHRoYXQgdGhlcmUgY3VycmVudGx5IGlzIGEgcGxhdGZvcm1cbiAqIHdoaWNoIGNvbnRhaW5zIHRoZSBnaXZlbiB0b2tlbiBhcyBhIHByb3ZpZGVyLlxuICovXG5mdW5jdGlvbiBhc3NlcnRQbGF0Zm9ybShyZXF1aXJlZFRva2VuKSB7XG4gICAgdmFyIHBsYXRmb3JtID0gZ2V0UGxhdGZvcm0oKTtcbiAgICBpZiAobGFuZ18xLmlzQmxhbmsocGxhdGZvcm0pKSB7XG4gICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbignTm90IHBsYXRmb3JtIGV4aXN0cyEnKTtcbiAgICB9XG4gICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocGxhdGZvcm0pICYmIGxhbmdfMS5pc0JsYW5rKHBsYXRmb3JtLmluamVjdG9yLmdldChyZXF1aXJlZFRva2VuLCBudWxsKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKCdBIHBsYXRmb3JtIHdpdGggYSBkaWZmZXJlbnQgY29uZmlndXJhdGlvbiBoYXMgYmVlbiBjcmVhdGVkLiBQbGVhc2UgZGVzdHJveSBpdCBmaXJzdC4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHBsYXRmb3JtO1xufVxuZXhwb3J0cy5hc3NlcnRQbGF0Zm9ybSA9IGFzc2VydFBsYXRmb3JtO1xuLyoqXG4gKiBEaXNwb3NlIHRoZSBleGlzdGluZyBwbGF0Zm9ybS5cbiAqL1xuZnVuY3Rpb24gZGlzcG9zZVBsYXRmb3JtKCkge1xuICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KF9wbGF0Zm9ybSkgJiYgIV9wbGF0Zm9ybS5kaXNwb3NlZCkge1xuICAgICAgICBfcGxhdGZvcm0uZGlzcG9zZSgpO1xuICAgIH1cbn1cbmV4cG9ydHMuZGlzcG9zZVBsYXRmb3JtID0gZGlzcG9zZVBsYXRmb3JtO1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IHBsYXRmb3JtLlxuICovXG5mdW5jdGlvbiBnZXRQbGF0Zm9ybSgpIHtcbiAgICByZXR1cm4gbGFuZ18xLmlzUHJlc2VudChfcGxhdGZvcm0pICYmICFfcGxhdGZvcm0uZGlzcG9zZWQgPyBfcGxhdGZvcm0gOiBudWxsO1xufVxuZXhwb3J0cy5nZXRQbGF0Zm9ybSA9IGdldFBsYXRmb3JtO1xuLyoqXG4gKiBTaG9ydGN1dCBmb3IgQXBwbGljYXRpb25SZWYuYm9vdHN0cmFwLlxuICogUmVxdWlyZXMgYSBwbGF0Zm9ybSB0aGUgYmUgY3JlYXRlZCBmaXJzdC5cbiAqL1xuZnVuY3Rpb24gY29yZUJvb3RzdHJhcChpbmplY3RvciwgY29tcG9uZW50RmFjdG9yeSkge1xuICAgIHZhciBhcHBSZWYgPSBpbmplY3Rvci5nZXQoQXBwbGljYXRpb25SZWYpO1xuICAgIHJldHVybiBhcHBSZWYuYm9vdHN0cmFwKGNvbXBvbmVudEZhY3RvcnkpO1xufVxuZXhwb3J0cy5jb3JlQm9vdHN0cmFwID0gY29yZUJvb3RzdHJhcDtcbi8qKlxuICogUmVzb2x2ZXMgdGhlIGNvbXBvbmVudEZhY3RvcnkgZm9yIHRoZSBnaXZlbiBjb21wb25lbnQsXG4gKiB3YWl0cyBmb3IgYXN5bmNocm9ub3VzIGluaXRpYWxpemVycyBhbmQgYm9vdHN0cmFwcyB0aGUgY29tcG9uZW50LlxuICogUmVxdWlyZXMgYSBwbGF0Zm9ybSB0aGUgYmUgY3JlYXRlZCBmaXJzdC5cbiAqL1xuZnVuY3Rpb24gY29yZUxvYWRBbmRCb290c3RyYXAoaW5qZWN0b3IsIGNvbXBvbmVudFR5cGUpIHtcbiAgICB2YXIgYXBwUmVmID0gaW5qZWN0b3IuZ2V0KEFwcGxpY2F0aW9uUmVmKTtcbiAgICByZXR1cm4gYXBwUmVmLnJ1bihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb21wb25lbnRSZXNvbHZlciA9IGluamVjdG9yLmdldChjb21wb25lbnRfcmVzb2x2ZXJfMS5Db21wb25lbnRSZXNvbHZlcik7XG4gICAgICAgIHJldHVybiBhc3luY18xLlByb21pc2VXcmFwcGVyXG4gICAgICAgICAgICAuYWxsKFtjb21wb25lbnRSZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50KGNvbXBvbmVudFR5cGUpLCBhcHBSZWYud2FpdEZvckFzeW5jSW5pdGlhbGl6ZXJzKCldKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGFycikgeyByZXR1cm4gYXBwUmVmLmJvb3RzdHJhcChhcnJbMF0pOyB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuY29yZUxvYWRBbmRCb290c3RyYXAgPSBjb3JlTG9hZEFuZEJvb3RzdHJhcDtcbi8qKlxuICogVGhlIEFuZ3VsYXIgcGxhdGZvcm0gaXMgdGhlIGVudHJ5IHBvaW50IGZvciBBbmd1bGFyIG9uIGEgd2ViIHBhZ2UuIEVhY2ggcGFnZVxuICogaGFzIGV4YWN0bHkgb25lIHBsYXRmb3JtLCBhbmQgc2VydmljZXMgKHN1Y2ggYXMgcmVmbGVjdGlvbikgd2hpY2ggYXJlIGNvbW1vblxuICogdG8gZXZlcnkgQW5ndWxhciBhcHBsaWNhdGlvbiBydW5uaW5nIG9uIHRoZSBwYWdlIGFyZSBib3VuZCBpbiBpdHMgc2NvcGUuXG4gKlxuICogQSBwYWdlJ3MgcGxhdGZvcm0gaXMgaW5pdGlhbGl6ZWQgaW1wbGljaXRseSB3aGVuIHtAbGluayBib290c3RyYXB9KCkgaXMgY2FsbGVkLCBvclxuICogZXhwbGljaXRseSBieSBjYWxsaW5nIHtAbGluayBjcmVhdGVQbGF0Zm9ybX0oKS5cbiAqL1xudmFyIFBsYXRmb3JtUmVmID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQbGF0Zm9ybVJlZigpIHtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtUmVmLnByb3RvdHlwZSwgXCJpbmplY3RvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXRyaWV2ZSB0aGUgcGxhdGZvcm0ge0BsaW5rIEluamVjdG9yfSwgd2hpY2ggaXMgdGhlIHBhcmVudCBpbmplY3RvciBmb3JcbiAgICAgICAgICogZXZlcnkgQW5ndWxhciBhcHBsaWNhdGlvbiBvbiB0aGUgcGFnZSBhbmQgcHJvdmlkZXMgc2luZ2xldG9uIHByb3ZpZGVycy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyB0aHJvdyBleGNlcHRpb25zXzEudW5pbXBsZW1lbnRlZCgpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICA7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtUmVmLnByb3RvdHlwZSwgXCJkaXNwb3NlZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyB0aHJvdyBleGNlcHRpb25zXzEudW5pbXBsZW1lbnRlZCgpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gUGxhdGZvcm1SZWY7XG59KCkpO1xuZXhwb3J0cy5QbGF0Zm9ybVJlZiA9IFBsYXRmb3JtUmVmO1xudmFyIFBsYXRmb3JtUmVmXyA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBsYXRmb3JtUmVmXywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQbGF0Zm9ybVJlZl8oX2luamVjdG9yKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLl9pbmplY3RvciA9IF9pbmplY3RvcjtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9hcHBsaWNhdGlvbnMgPSBbXTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9kaXNwb3NlTGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIGlmICghX2luUGxhdGZvcm1DcmVhdGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbignUGxhdGZvcm1zIGhhdmUgdG8gYmUgY3JlYXRlZCB2aWEgYGNyZWF0ZVBsYXRmb3JtYCEnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5pdHMgPSBfaW5qZWN0b3IuZ2V0KGFwcGxpY2F0aW9uX3Rva2Vuc18xLlBMQVRGT1JNX0lOSVRJQUxJWkVSLCBudWxsKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoaW5pdHMpKVxuICAgICAgICAgICAgaW5pdHMuZm9yRWFjaChmdW5jdGlvbiAoaW5pdCkgeyByZXR1cm4gaW5pdCgpOyB9KTtcbiAgICB9XG4gICAgUGxhdGZvcm1SZWZfLnByb3RvdHlwZS5yZWdpc3RlckRpc3Bvc2VMaXN0ZW5lciA9IGZ1bmN0aW9uIChkaXNwb3NlKSB7IHRoaXMuX2Rpc3Bvc2VMaXN0ZW5lcnMucHVzaChkaXNwb3NlKTsgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGxhdGZvcm1SZWZfLnByb3RvdHlwZSwgXCJpbmplY3RvclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5faW5qZWN0b3I7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQbGF0Zm9ybVJlZl8ucHJvdG90eXBlLCBcImRpc3Bvc2VkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9kaXNwb3NlZDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgUGxhdGZvcm1SZWZfLnByb3RvdHlwZS5hZGRBcHBsaWNhdGlvbiA9IGZ1bmN0aW9uIChhcHBSZWYpIHsgdGhpcy5fYXBwbGljYXRpb25zLnB1c2goYXBwUmVmKTsgfTtcbiAgICBQbGF0Zm9ybVJlZl8ucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5jbG9uZSh0aGlzLl9hcHBsaWNhdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKGFwcCkgeyByZXR1cm4gYXBwLmRpc3Bvc2UoKTsgfSk7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAoZGlzcG9zZSkgeyByZXR1cm4gZGlzcG9zZSgpOyB9KTtcbiAgICAgICAgdGhpcy5fZGlzcG9zZWQgPSB0cnVlO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIFBsYXRmb3JtUmVmXy5wcm90b3R5cGUuX2FwcGxpY2F0aW9uRGlzcG9zZWQgPSBmdW5jdGlvbiAoYXBwKSB7IGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5yZW1vdmUodGhpcy5fYXBwbGljYXRpb25zLCBhcHApOyB9O1xuICAgIFBsYXRmb3JtUmVmXy5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGRpXzEuSW5qZWN0YWJsZSB9LFxuICAgIF07XG4gICAgUGxhdGZvcm1SZWZfLmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IGRpXzEuSW5qZWN0b3IsIH0sXG4gICAgXTtcbiAgICByZXR1cm4gUGxhdGZvcm1SZWZfO1xufShQbGF0Zm9ybVJlZikpO1xuZXhwb3J0cy5QbGF0Zm9ybVJlZl8gPSBQbGF0Zm9ybVJlZl87XG4vKipcbiAqIEEgcmVmZXJlbmNlIHRvIGFuIEFuZ3VsYXIgYXBwbGljYXRpb24gcnVubmluZyBvbiBhIHBhZ2UuXG4gKlxuICogRm9yIG1vcmUgYWJvdXQgQW5ndWxhciBhcHBsaWNhdGlvbnMsIHNlZSB0aGUgZG9jdW1lbnRhdGlvbiBmb3Ige0BsaW5rIGJvb3RzdHJhcH0uXG4gKi9cbnZhciBBcHBsaWNhdGlvblJlZiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXBwbGljYXRpb25SZWYoKSB7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBsaWNhdGlvblJlZi5wcm90b3R5cGUsIFwiaW5qZWN0b3JcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0cmlldmUgdGhlIGFwcGxpY2F0aW9uIHtAbGluayBJbmplY3Rvcn0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4Y2VwdGlvbnNfMS51bmltcGxlbWVudGVkKCk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwbGljYXRpb25SZWYucHJvdG90eXBlLCBcInpvbmVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0cmlldmUgdGhlIGFwcGxpY2F0aW9uIHtAbGluayBOZ1pvbmV9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleGNlcHRpb25zXzEudW5pbXBsZW1lbnRlZCgpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICA7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcGxpY2F0aW9uUmVmLnByb3RvdHlwZSwgXCJjb21wb25lbnRUeXBlc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYSBsaXN0IG9mIGNvbXBvbmVudCB0eXBlcyByZWdpc3RlcmVkIHRvIHRoaXMgYXBwbGljYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4Y2VwdGlvbnNfMS51bmltcGxlbWVudGVkKCk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIDtcbiAgICByZXR1cm4gQXBwbGljYXRpb25SZWY7XG59KCkpO1xuZXhwb3J0cy5BcHBsaWNhdGlvblJlZiA9IEFwcGxpY2F0aW9uUmVmO1xudmFyIEFwcGxpY2F0aW9uUmVmXyA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFwcGxpY2F0aW9uUmVmXywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBcHBsaWNhdGlvblJlZl8oX3BsYXRmb3JtLCBfem9uZSwgX2luamVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLl9wbGF0Zm9ybSA9IF9wbGF0Zm9ybTtcbiAgICAgICAgdGhpcy5fem9uZSA9IF96b25lO1xuICAgICAgICB0aGlzLl9pbmplY3RvciA9IF9pbmplY3RvcjtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9ib290c3RyYXBMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9kaXNwb3NlTGlzdGVuZXJzID0gW107XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fcm9vdENvbXBvbmVudHMgPSBbXTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9yb290Q29tcG9uZW50VHlwZXMgPSBbXTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9jaGFuZ2VEZXRlY3RvclJlZnMgPSBbXTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9ydW5uaW5nVGljayA9IGZhbHNlO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX2VuZm9yY2VOb05ld0NoYW5nZXMgPSBmYWxzZTtcbiAgICAgICAgdmFyIHpvbmUgPSBfaW5qZWN0b3IuZ2V0KG5nX3pvbmVfMS5OZ1pvbmUpO1xuICAgICAgICB0aGlzLl9lbmZvcmNlTm9OZXdDaGFuZ2VzID0gbGFuZ18xLmFzc2VydGlvbnNFbmFibGVkKCk7XG4gICAgICAgIHpvbmUucnVuKGZ1bmN0aW9uICgpIHsgX3RoaXMuX2V4Y2VwdGlvbkhhbmRsZXIgPSBfaW5qZWN0b3IuZ2V0KGV4Y2VwdGlvbnNfMS5FeGNlcHRpb25IYW5kbGVyKTsgfSk7XG4gICAgICAgIHRoaXMuX2FzeW5jSW5pdERvbmVQcm9taXNlID0gdGhpcy5ydW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGluaXRzID0gX2luamVjdG9yLmdldChhcHBsaWNhdGlvbl90b2tlbnNfMS5BUFBfSU5JVElBTElaRVIsIG51bGwpO1xuICAgICAgICAgICAgdmFyIGFzeW5jSW5pdFJlc3VsdHMgPSBbXTtcbiAgICAgICAgICAgIHZhciBhc3luY0luaXREb25lUHJvbWlzZTtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGluaXRzKSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5pdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluaXRSZXN1bHQgPSBpbml0c1tpXSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJvbWlzZShpbml0UmVzdWx0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmNJbml0UmVzdWx0cy5wdXNoKGluaXRSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFzeW5jSW5pdFJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGFzeW5jSW5pdERvbmVQcm9taXNlID1cbiAgICAgICAgICAgICAgICAgICAgYXN5bmNfMS5Qcm9taXNlV3JhcHBlci5hbGwoYXN5bmNJbml0UmVzdWx0cykudGhlbihmdW5jdGlvbiAoXykgeyByZXR1cm4gX3RoaXMuX2FzeW5jSW5pdERvbmUgPSB0cnVlOyB9KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fYXN5bmNJbml0RG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2FzeW5jSW5pdERvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGFzeW5jSW5pdERvbmVQcm9taXNlID0gYXN5bmNfMS5Qcm9taXNlV3JhcHBlci5yZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFzeW5jSW5pdERvbmVQcm9taXNlO1xuICAgICAgICB9KTtcbiAgICAgICAgYXN5bmNfMS5PYnNlcnZhYmxlV3JhcHBlci5zdWJzY3JpYmUoem9uZS5vbkVycm9yLCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIF90aGlzLl9leGNlcHRpb25IYW5kbGVyLmNhbGwoZXJyb3IuZXJyb3IsIGVycm9yLnN0YWNrVHJhY2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgYXN5bmNfMS5PYnNlcnZhYmxlV3JhcHBlci5zdWJzY3JpYmUodGhpcy5fem9uZS5vbk1pY3JvdGFza0VtcHR5LCBmdW5jdGlvbiAoXykgeyBfdGhpcy5fem9uZS5ydW4oZnVuY3Rpb24gKCkgeyBfdGhpcy50aWNrKCk7IH0pOyB9KTtcbiAgICB9XG4gICAgQXBwbGljYXRpb25SZWZfLnByb3RvdHlwZS5yZWdpc3RlckJvb3RzdHJhcExpc3RlbmVyID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2Jvb3RzdHJhcExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9O1xuICAgIEFwcGxpY2F0aW9uUmVmXy5wcm90b3R5cGUucmVnaXN0ZXJEaXNwb3NlTGlzdGVuZXIgPSBmdW5jdGlvbiAoZGlzcG9zZSkgeyB0aGlzLl9kaXNwb3NlTGlzdGVuZXJzLnB1c2goZGlzcG9zZSk7IH07XG4gICAgQXBwbGljYXRpb25SZWZfLnByb3RvdHlwZS5yZWdpc3RlckNoYW5nZURldGVjdG9yID0gZnVuY3Rpb24gKGNoYW5nZURldGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX2NoYW5nZURldGVjdG9yUmVmcy5wdXNoKGNoYW5nZURldGVjdG9yKTtcbiAgICB9O1xuICAgIEFwcGxpY2F0aW9uUmVmXy5wcm90b3R5cGUudW5yZWdpc3RlckNoYW5nZURldGVjdG9yID0gZnVuY3Rpb24gKGNoYW5nZURldGVjdG9yKSB7XG4gICAgICAgIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5yZW1vdmUodGhpcy5fY2hhbmdlRGV0ZWN0b3JSZWZzLCBjaGFuZ2VEZXRlY3Rvcik7XG4gICAgfTtcbiAgICBBcHBsaWNhdGlvblJlZl8ucHJvdG90eXBlLndhaXRGb3JBc3luY0luaXRpYWxpemVycyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2FzeW5jSW5pdERvbmVQcm9taXNlOyB9O1xuICAgIEFwcGxpY2F0aW9uUmVmXy5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB6b25lID0gdGhpcy5pbmplY3Rvci5nZXQobmdfem9uZV8xLk5nWm9uZSk7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIC8vIE5vdGU6IERvbid0IHVzZSB6b25lLnJ1bkd1YXJkZWQgYXMgd2Ugd2FudCB0byBrbm93IGFib3V0XG4gICAgICAgIC8vIHRoZSB0aHJvd24gZXhjZXB0aW9uIVxuICAgICAgICAvLyBOb3RlOiB0aGUgY29tcGxldGVyIG5lZWRzIHRvIGJlIGNyZWF0ZWQgb3V0c2lkZVxuICAgICAgICAvLyBvZiBgem9uZS5ydW5gIGFzIERhcnQgc3dhbGxvd3MgcmVqZWN0ZWQgcHJvbWlzZXNcbiAgICAgICAgLy8gdmlhIHRoZSBvbkVycm9yIGNhbGxiYWNrIG9mIHRoZSBwcm9taXNlLlxuICAgICAgICB2YXIgY29tcGxldGVyID0gYXN5bmNfMS5Qcm9taXNlV3JhcHBlci5jb21wbGV0ZXIoKTtcbiAgICAgICAgem9uZS5ydW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNfMS5Qcm9taXNlV3JhcHBlci50aGVuKHJlc3VsdCwgZnVuY3Rpb24gKHJlZikgeyBjb21wbGV0ZXIucmVzb2x2ZShyZWYpOyB9LCBmdW5jdGlvbiAoZXJyLCBzdGFja1RyYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZXIucmVqZWN0KGVyciwgc3RhY2tUcmFjZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZXhjZXB0aW9uSGFuZGxlci5jYWxsKGVyciwgc3RhY2tUcmFjZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2V4Y2VwdGlvbkhhbmRsZXIuY2FsbChlLCBlLnN0YWNrKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1Byb21pc2UocmVzdWx0KSA/IGNvbXBsZXRlci5wcm9taXNlIDogcmVzdWx0O1xuICAgIH07XG4gICAgQXBwbGljYXRpb25SZWZfLnByb3RvdHlwZS5ib290c3RyYXAgPSBmdW5jdGlvbiAoY29tcG9uZW50RmFjdG9yeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuX2FzeW5jSW5pdERvbmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbignQ2Fubm90IGJvb3RzdHJhcCBhcyB0aGVyZSBhcmUgc3RpbGwgYXN5bmNocm9ub3VzIGluaXRpYWxpemVycyBydW5uaW5nLiBXYWl0IGZvciB0aGVtIHVzaW5nIHdhaXRGb3JBc3luY0luaXRpYWxpemVycygpLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJ1bihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fcm9vdENvbXBvbmVudFR5cGVzLnB1c2goY29tcG9uZW50RmFjdG9yeS5jb21wb25lbnRUeXBlKTtcbiAgICAgICAgICAgIHZhciBjb21wUmVmID0gY29tcG9uZW50RmFjdG9yeS5jcmVhdGUoX3RoaXMuX2luamVjdG9yLCBbXSwgY29tcG9uZW50RmFjdG9yeS5zZWxlY3Rvcik7XG4gICAgICAgICAgICBjb21wUmVmLm9uRGVzdHJveShmdW5jdGlvbiAoKSB7IF90aGlzLl91bmxvYWRDb21wb25lbnQoY29tcFJlZik7IH0pO1xuICAgICAgICAgICAgdmFyIHRlc3RhYmlsaXR5ID0gY29tcFJlZi5pbmplY3Rvci5nZXQodGVzdGFiaWxpdHlfMS5UZXN0YWJpbGl0eSwgbnVsbCk7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0ZXN0YWJpbGl0eSkpIHtcbiAgICAgICAgICAgICAgICBjb21wUmVmLmluamVjdG9yLmdldCh0ZXN0YWJpbGl0eV8xLlRlc3RhYmlsaXR5UmVnaXN0cnkpXG4gICAgICAgICAgICAgICAgICAgIC5yZWdpc3RlckFwcGxpY2F0aW9uKGNvbXBSZWYubG9jYXRpb24ubmF0aXZlRWxlbWVudCwgdGVzdGFiaWxpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuX2xvYWRDb21wb25lbnQoY29tcFJlZik7XG4gICAgICAgICAgICB2YXIgYyA9IF90aGlzLl9pbmplY3Rvci5nZXQoY29uc29sZV8xLkNvbnNvbGUpO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5hc3NlcnRpb25zRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgYy5sb2coXCJBbmd1bGFyIDIgaXMgcnVubmluZyBpbiB0aGUgZGV2ZWxvcG1lbnQgbW9kZS4gQ2FsbCBlbmFibGVQcm9kTW9kZSgpIHRvIGVuYWJsZSB0aGUgcHJvZHVjdGlvbiBtb2RlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb21wUmVmO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBBcHBsaWNhdGlvblJlZl8ucHJvdG90eXBlLl9sb2FkQ29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudFJlZikge1xuICAgICAgICB0aGlzLl9jaGFuZ2VEZXRlY3RvclJlZnMucHVzaChjb21wb25lbnRSZWYuY2hhbmdlRGV0ZWN0b3JSZWYpO1xuICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgICAgdGhpcy5fcm9vdENvbXBvbmVudHMucHVzaChjb21wb25lbnRSZWYpO1xuICAgICAgICB0aGlzLl9ib290c3RyYXBMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyKGNvbXBvbmVudFJlZik7IH0pO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIEFwcGxpY2F0aW9uUmVmXy5wcm90b3R5cGUuX3VubG9hZENvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnRSZWYpIHtcbiAgICAgICAgaWYgKCFjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuY29udGFpbnModGhpcy5fcm9vdENvbXBvbmVudHMsIGNvbXBvbmVudFJlZikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVucmVnaXN0ZXJDaGFuZ2VEZXRlY3Rvcihjb21wb25lbnRSZWYuY2hhbmdlRGV0ZWN0b3JSZWYpO1xuICAgICAgICBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIucmVtb3ZlKHRoaXMuX3Jvb3RDb21wb25lbnRzLCBjb21wb25lbnRSZWYpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcGxpY2F0aW9uUmVmXy5wcm90b3R5cGUsIFwiaW5qZWN0b3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2luamVjdG9yOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwbGljYXRpb25SZWZfLnByb3RvdHlwZSwgXCJ6b25lXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl96b25lOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBBcHBsaWNhdGlvblJlZl8ucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9ydW5uaW5nVGljaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiQXBwbGljYXRpb25SZWYudGljayBpcyBjYWxsZWQgcmVjdXJzaXZlbHlcIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHMgPSBBcHBsaWNhdGlvblJlZl8uX3RpY2tTY29wZSgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fcnVubmluZ1RpY2sgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fY2hhbmdlRGV0ZWN0b3JSZWZzLmZvckVhY2goZnVuY3Rpb24gKGRldGVjdG9yKSB7IHJldHVybiBkZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCk7IH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2VuZm9yY2VOb05ld0NoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VEZXRlY3RvclJlZnMuZm9yRWFjaChmdW5jdGlvbiAoZGV0ZWN0b3IpIHsgcmV0dXJuIGRldGVjdG9yLmNoZWNrTm9DaGFuZ2VzKCk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5fcnVubmluZ1RpY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIHByb2ZpbGVfMS53dGZMZWF2ZShzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXBwbGljYXRpb25SZWZfLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBUT0RPKGFseGh1Yik6IERpc3Bvc2Ugb2YgdGhlIE5nWm9uZS5cbiAgICAgICAgY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmNsb25lKHRoaXMuX3Jvb3RDb21wb25lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChyZWYpIHsgcmV0dXJuIHJlZi5kZXN0cm95KCk7IH0pO1xuICAgICAgICB0aGlzLl9kaXNwb3NlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGRpc3Bvc2UpIHsgcmV0dXJuIGRpc3Bvc2UoKTsgfSk7XG4gICAgICAgIHRoaXMuX3BsYXRmb3JtLl9hcHBsaWNhdGlvbkRpc3Bvc2VkKHRoaXMpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcGxpY2F0aW9uUmVmXy5wcm90b3R5cGUsIFwiY29tcG9uZW50VHlwZXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3Jvb3RDb21wb25lbnRUeXBlczsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIEFwcGxpY2F0aW9uUmVmXy5fdGlja1Njb3BlID0gcHJvZmlsZV8xLnd0ZkNyZWF0ZVNjb3BlKCdBcHBsaWNhdGlvblJlZiN0aWNrKCknKTtcbiAgICBBcHBsaWNhdGlvblJlZl8uZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBkaV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIEFwcGxpY2F0aW9uUmVmXy5jdG9yUGFyYW1ldGVycyA9IFtcbiAgICAgICAgeyB0eXBlOiBQbGF0Zm9ybVJlZl8sIH0sXG4gICAgICAgIHsgdHlwZTogbmdfem9uZV8xLk5nWm9uZSwgfSxcbiAgICAgICAgeyB0eXBlOiBkaV8xLkluamVjdG9yLCB9LFxuICAgIF07XG4gICAgcmV0dXJuIEFwcGxpY2F0aW9uUmVmXztcbn0oQXBwbGljYXRpb25SZWYpKTtcbmV4cG9ydHMuQXBwbGljYXRpb25SZWZfID0gQXBwbGljYXRpb25SZWZfO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0cy5QTEFURk9STV9DT1JFX1BST1ZJREVSUyA9IFxuLypAdHMyZGFydF9jb25zdCovIFtcbiAgICBQbGF0Zm9ybVJlZl8sXG4gICAgLypAdHMyZGFydF9jb25zdCovIChcbiAgICAvKiBAdHMyZGFydF9Qcm92aWRlciAqLyB7IHByb3ZpZGU6IFBsYXRmb3JtUmVmLCB1c2VFeGlzdGluZzogUGxhdGZvcm1SZWZfIH0pXG5dO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0cy5BUFBMSUNBVElPTl9DT1JFX1BST1ZJREVSUyA9IFtcbiAgICAvKiBAdHMyZGFydF9Qcm92aWRlciAqLyB7IHByb3ZpZGU6IG5nX3pvbmVfMS5OZ1pvbmUsIHVzZUZhY3Rvcnk6IGNyZWF0ZU5nWm9uZSwgZGVwczogW10gfSxcbiAgICBBcHBsaWNhdGlvblJlZl8sXG4gICAgLyogQHRzMmRhcnRfUHJvdmlkZXIgKi8geyBwcm92aWRlOiBBcHBsaWNhdGlvblJlZiwgdXNlRXhpc3Rpbmc6IEFwcGxpY2F0aW9uUmVmXyB9XG5dO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwbGljYXRpb25fcmVmLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGRpXzEgPSByZXF1aXJlKCcuL2RpJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG4vKipcbiAqIEEgREkgVG9rZW4gcmVwcmVzZW50aW5nIGEgdW5pcXVlIHN0cmluZyBpZCBhc3NpZ25lZCB0byB0aGUgYXBwbGljYXRpb24gYnkgQW5ndWxhciBhbmQgdXNlZFxuICogcHJpbWFyaWx5IGZvciBwcmVmaXhpbmcgYXBwbGljYXRpb24gYXR0cmlidXRlcyBhbmQgQ1NTIHN0eWxlcyB3aGVuXG4gKiB7QGxpbmsgVmlld0VuY2Fwc3VsYXRpb24jRW11bGF0ZWR9IGlzIGJlaW5nIHVzZWQuXG4gKlxuICogSWYgeW91IG5lZWQgdG8gYXZvaWQgcmFuZG9tbHkgZ2VuZXJhdGVkIHZhbHVlIHRvIGJlIHVzZWQgYXMgYW4gYXBwbGljYXRpb24gaWQsIHlvdSBjYW4gcHJvdmlkZVxuICogYSBjdXN0b20gdmFsdWUgdmlhIGEgREkgcHJvdmlkZXIgPCEtLSBUT0RPOiBwcm92aWRlciAtLT4gY29uZmlndXJpbmcgdGhlIHJvb3Qge0BsaW5rIEluamVjdG9yfVxuICogdXNpbmcgdGhpcyB0b2tlbi5cbiAqL1xuZXhwb3J0cy5BUFBfSUQgPSBuZXcgZGlfMS5PcGFxdWVUb2tlbignQXBwSWQnKTtcbmZ1bmN0aW9uIF9hcHBJZFJhbmRvbVByb3ZpZGVyRmFjdG9yeSgpIHtcbiAgICByZXR1cm4gXCJcIiArIF9yYW5kb21DaGFyKCkgKyBfcmFuZG9tQ2hhcigpICsgX3JhbmRvbUNoYXIoKTtcbn1cbi8qKlxuICogUHJvdmlkZXJzIHRoYXQgd2lsbCBnZW5lcmF0ZSBhIHJhbmRvbSBBUFBfSURfVE9LRU4uXG4gKi9cbmV4cG9ydHMuQVBQX0lEX1JBTkRPTV9QUk9WSURFUiA9IFxuLypAdHMyZGFydF9jb25zdCovIC8qIEB0czJkYXJ0X1Byb3ZpZGVyICovIHtcbiAgICBwcm92aWRlOiBleHBvcnRzLkFQUF9JRCxcbiAgICB1c2VGYWN0b3J5OiBfYXBwSWRSYW5kb21Qcm92aWRlckZhY3RvcnksXG4gICAgZGVwczogW11cbn07XG5mdW5jdGlvbiBfcmFuZG9tQ2hhcigpIHtcbiAgICByZXR1cm4gbGFuZ18xLlN0cmluZ1dyYXBwZXIuZnJvbUNoYXJDb2RlKDk3ICsgbGFuZ18xLk1hdGguZmxvb3IobGFuZ18xLk1hdGgucmFuZG9tKCkgKiAyNSkpO1xufVxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZCB3aGVuIGEgcGxhdGZvcm0gaXMgaW5pdGlhbGl6ZWQuXG4gKi9cbmV4cG9ydHMuUExBVEZPUk1fSU5JVElBTElaRVIgPSBcbi8qQHRzMmRhcnRfY29uc3QqLyBuZXcgZGlfMS5PcGFxdWVUb2tlbihcIlBsYXRmb3JtIEluaXRpYWxpemVyXCIpO1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZCB3aGVuIGFuIGFwcGxpY2F0aW9uIGlzIGluaXRpYWxpemVkLlxuICovXG5leHBvcnRzLkFQUF9JTklUSUFMSVpFUiA9IFxuLypAdHMyZGFydF9jb25zdCovIG5ldyBkaV8xLk9wYXF1ZVRva2VuKFwiQXBwbGljYXRpb24gSW5pdGlhbGl6ZXJcIik7XG4vKipcbiAqIEEgdG9rZW4gd2hpY2ggaW5kaWNhdGVzIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGUgYXBwbGljYXRpb25cbiAqL1xuZXhwb3J0cy5QQUNLQUdFX1JPT1RfVVJMID0gXG4vKkB0czJkYXJ0X2NvbnN0Ki8gbmV3IGRpXzEuT3BhcXVlVG9rZW4oXCJBcHBsaWNhdGlvbiBQYWNrYWdlcyBSb290IFVSTFwiKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcGxpY2F0aW9uX3Rva2Vucy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuKiBAbW9kdWxlXG4qIEBkZXNjcmlwdGlvblxuKiBDaGFuZ2UgZGV0ZWN0aW9uIGVuYWJsZXMgZGF0YSBiaW5kaW5nIGluIEFuZ3VsYXIuXG4qL1xudmFyIGNoYW5nZV9kZXRlY3Rpb25fMSA9IHJlcXVpcmUoJy4vY2hhbmdlX2RldGVjdGlvbi9jaGFuZ2VfZGV0ZWN0aW9uJyk7XG5leHBvcnRzLkNoYW5nZURldGVjdGlvblN0cmF0ZWd5ID0gY2hhbmdlX2RldGVjdGlvbl8xLkNoYW5nZURldGVjdGlvblN0cmF0ZWd5O1xuZXhwb3J0cy5DaGFuZ2VEZXRlY3RvclJlZiA9IGNoYW5nZV9kZXRlY3Rpb25fMS5DaGFuZ2VEZXRlY3RvclJlZjtcbmV4cG9ydHMuV3JhcHBlZFZhbHVlID0gY2hhbmdlX2RldGVjdGlvbl8xLldyYXBwZWRWYWx1ZTtcbmV4cG9ydHMuU2ltcGxlQ2hhbmdlID0gY2hhbmdlX2RldGVjdGlvbl8xLlNpbXBsZUNoYW5nZTtcbmV4cG9ydHMuRGVmYXVsdEl0ZXJhYmxlRGlmZmVyID0gY2hhbmdlX2RldGVjdGlvbl8xLkRlZmF1bHRJdGVyYWJsZURpZmZlcjtcbmV4cG9ydHMuSXRlcmFibGVEaWZmZXJzID0gY2hhbmdlX2RldGVjdGlvbl8xLkl0ZXJhYmxlRGlmZmVycztcbmV4cG9ydHMuS2V5VmFsdWVEaWZmZXJzID0gY2hhbmdlX2RldGVjdGlvbl8xLktleVZhbHVlRGlmZmVycztcbmV4cG9ydHMuQ29sbGVjdGlvbkNoYW5nZVJlY29yZCA9IGNoYW5nZV9kZXRlY3Rpb25fMS5Db2xsZWN0aW9uQ2hhbmdlUmVjb3JkO1xuZXhwb3J0cy5LZXlWYWx1ZUNoYW5nZVJlY29yZCA9IGNoYW5nZV9kZXRlY3Rpb25fMS5LZXlWYWx1ZUNoYW5nZVJlY29yZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYW5nZV9kZXRlY3Rpb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgaXRlcmFibGVfZGlmZmVyc18xID0gcmVxdWlyZSgnLi9kaWZmZXJzL2l0ZXJhYmxlX2RpZmZlcnMnKTtcbnZhciBkZWZhdWx0X2l0ZXJhYmxlX2RpZmZlcl8xID0gcmVxdWlyZSgnLi9kaWZmZXJzL2RlZmF1bHRfaXRlcmFibGVfZGlmZmVyJyk7XG52YXIga2V5dmFsdWVfZGlmZmVyc18xID0gcmVxdWlyZSgnLi9kaWZmZXJzL2tleXZhbHVlX2RpZmZlcnMnKTtcbnZhciBkZWZhdWx0X2tleXZhbHVlX2RpZmZlcl8xID0gcmVxdWlyZSgnLi9kaWZmZXJzL2RlZmF1bHRfa2V5dmFsdWVfZGlmZmVyJyk7XG52YXIgZGVmYXVsdF9rZXl2YWx1ZV9kaWZmZXJfMiA9IHJlcXVpcmUoJy4vZGlmZmVycy9kZWZhdWx0X2tleXZhbHVlX2RpZmZlcicpO1xuZXhwb3J0cy5EZWZhdWx0S2V5VmFsdWVEaWZmZXJGYWN0b3J5ID0gZGVmYXVsdF9rZXl2YWx1ZV9kaWZmZXJfMi5EZWZhdWx0S2V5VmFsdWVEaWZmZXJGYWN0b3J5O1xuZXhwb3J0cy5LZXlWYWx1ZUNoYW5nZVJlY29yZCA9IGRlZmF1bHRfa2V5dmFsdWVfZGlmZmVyXzIuS2V5VmFsdWVDaGFuZ2VSZWNvcmQ7XG52YXIgZGVmYXVsdF9pdGVyYWJsZV9kaWZmZXJfMiA9IHJlcXVpcmUoJy4vZGlmZmVycy9kZWZhdWx0X2l0ZXJhYmxlX2RpZmZlcicpO1xuZXhwb3J0cy5EZWZhdWx0SXRlcmFibGVEaWZmZXJGYWN0b3J5ID0gZGVmYXVsdF9pdGVyYWJsZV9kaWZmZXJfMi5EZWZhdWx0SXRlcmFibGVEaWZmZXJGYWN0b3J5O1xuZXhwb3J0cy5Db2xsZWN0aW9uQ2hhbmdlUmVjb3JkID0gZGVmYXVsdF9pdGVyYWJsZV9kaWZmZXJfMi5Db2xsZWN0aW9uQ2hhbmdlUmVjb3JkO1xudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZSgnLi9jb25zdGFudHMnKTtcbmV4cG9ydHMuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgPSBjb25zdGFudHNfMS5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneTtcbmV4cG9ydHMuQ0hBTkdFX0RFVEVDVElPTl9TVFJBVEVHWV9WQUxVRVMgPSBjb25zdGFudHNfMS5DSEFOR0VfREVURUNUSU9OX1NUUkFURUdZX1ZBTFVFUztcbmV4cG9ydHMuQ2hhbmdlRGV0ZWN0b3JTdGF0ZSA9IGNvbnN0YW50c18xLkNoYW5nZURldGVjdG9yU3RhdGU7XG5leHBvcnRzLkNIQU5HRV9ERVRFQ1RPUl9TVEFURV9WQUxVRVMgPSBjb25zdGFudHNfMS5DSEFOR0VfREVURUNUT1JfU1RBVEVfVkFMVUVTO1xuZXhwb3J0cy5pc0RlZmF1bHRDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSA9IGNvbnN0YW50c18xLmlzRGVmYXVsdENoYW5nZURldGVjdGlvblN0cmF0ZWd5O1xudmFyIGNoYW5nZV9kZXRlY3Rvcl9yZWZfMSA9IHJlcXVpcmUoJy4vY2hhbmdlX2RldGVjdG9yX3JlZicpO1xuZXhwb3J0cy5DaGFuZ2VEZXRlY3RvclJlZiA9IGNoYW5nZV9kZXRlY3Rvcl9yZWZfMS5DaGFuZ2VEZXRlY3RvclJlZjtcbnZhciBpdGVyYWJsZV9kaWZmZXJzXzIgPSByZXF1aXJlKCcuL2RpZmZlcnMvaXRlcmFibGVfZGlmZmVycycpO1xuZXhwb3J0cy5JdGVyYWJsZURpZmZlcnMgPSBpdGVyYWJsZV9kaWZmZXJzXzIuSXRlcmFibGVEaWZmZXJzO1xudmFyIGtleXZhbHVlX2RpZmZlcnNfMiA9IHJlcXVpcmUoJy4vZGlmZmVycy9rZXl2YWx1ZV9kaWZmZXJzJyk7XG5leHBvcnRzLktleVZhbHVlRGlmZmVycyA9IGtleXZhbHVlX2RpZmZlcnNfMi5LZXlWYWx1ZURpZmZlcnM7XG52YXIgZGVmYXVsdF9pdGVyYWJsZV9kaWZmZXJfMyA9IHJlcXVpcmUoJy4vZGlmZmVycy9kZWZhdWx0X2l0ZXJhYmxlX2RpZmZlcicpO1xuZXhwb3J0cy5EZWZhdWx0SXRlcmFibGVEaWZmZXIgPSBkZWZhdWx0X2l0ZXJhYmxlX2RpZmZlcl8zLkRlZmF1bHRJdGVyYWJsZURpZmZlcjtcbnZhciBjaGFuZ2VfZGV0ZWN0aW9uX3V0aWxfMSA9IHJlcXVpcmUoJy4vY2hhbmdlX2RldGVjdGlvbl91dGlsJyk7XG5leHBvcnRzLldyYXBwZWRWYWx1ZSA9IGNoYW5nZV9kZXRlY3Rpb25fdXRpbF8xLldyYXBwZWRWYWx1ZTtcbmV4cG9ydHMuVmFsdWVVbndyYXBwZXIgPSBjaGFuZ2VfZGV0ZWN0aW9uX3V0aWxfMS5WYWx1ZVVud3JhcHBlcjtcbmV4cG9ydHMuU2ltcGxlQ2hhbmdlID0gY2hhbmdlX2RldGVjdGlvbl91dGlsXzEuU2ltcGxlQ2hhbmdlO1xuZXhwb3J0cy5kZXZNb2RlRXF1YWwgPSBjaGFuZ2VfZGV0ZWN0aW9uX3V0aWxfMS5kZXZNb2RlRXF1YWw7XG5leHBvcnRzLmxvb3NlSWRlbnRpY2FsID0gY2hhbmdlX2RldGVjdGlvbl91dGlsXzEubG9vc2VJZGVudGljYWw7XG5leHBvcnRzLnVuaW5pdGlhbGl6ZWQgPSBjaGFuZ2VfZGV0ZWN0aW9uX3V0aWxfMS51bmluaXRpYWxpemVkO1xuLyoqXG4gKiBTdHJ1Y3R1cmFsIGRpZmZpbmcgZm9yIGBPYmplY3RgcyBhbmQgYE1hcGBzLlxuICovXG5leHBvcnRzLmtleVZhbERpZmYgPSBcbi8qQHRzMmRhcnRfY29uc3QqLyBbbmV3IGRlZmF1bHRfa2V5dmFsdWVfZGlmZmVyXzEuRGVmYXVsdEtleVZhbHVlRGlmZmVyRmFjdG9yeSgpXTtcbi8qKlxuICogU3RydWN0dXJhbCBkaWZmaW5nIGZvciBgSXRlcmFibGVgIHR5cGVzIHN1Y2ggYXMgYEFycmF5YHMuXG4gKi9cbmV4cG9ydHMuaXRlcmFibGVEaWZmID0gXG4vKkB0czJkYXJ0X2NvbnN0Ki8gW25ldyBkZWZhdWx0X2l0ZXJhYmxlX2RpZmZlcl8xLkRlZmF1bHRJdGVyYWJsZURpZmZlckZhY3RvcnkoKV07XG5leHBvcnRzLmRlZmF1bHRJdGVyYWJsZURpZmZlcnMgPSBuZXcgaXRlcmFibGVfZGlmZmVyc18xLkl0ZXJhYmxlRGlmZmVycyhleHBvcnRzLml0ZXJhYmxlRGlmZik7XG5leHBvcnRzLmRlZmF1bHRLZXlWYWx1ZURpZmZlcnMgPSBuZXcga2V5dmFsdWVfZGlmZmVyc18xLktleVZhbHVlRGlmZmVycyhleHBvcnRzLmtleVZhbERpZmYpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhbmdlX2RldGVjdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBsYW5nXzIgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbmV4cG9ydHMubG9vc2VJZGVudGljYWwgPSBsYW5nXzIubG9vc2VJZGVudGljYWw7XG5leHBvcnRzLnVuaW5pdGlhbGl6ZWQgPSBuZXcgT2JqZWN0KCk7XG5mdW5jdGlvbiBkZXZNb2RlRXF1YWwoYSwgYikge1xuICAgIGlmIChjb2xsZWN0aW9uXzEuaXNMaXN0TGlrZUl0ZXJhYmxlKGEpICYmIGNvbGxlY3Rpb25fMS5pc0xpc3RMaWtlSXRlcmFibGUoYikpIHtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb25fMS5hcmVJdGVyYWJsZXNFcXVhbChhLCBiLCBkZXZNb2RlRXF1YWwpO1xuICAgIH1cbiAgICBlbHNlIGlmICghY29sbGVjdGlvbl8xLmlzTGlzdExpa2VJdGVyYWJsZShhKSAmJiAhbGFuZ18xLmlzUHJpbWl0aXZlKGEpICYmICFjb2xsZWN0aW9uXzEuaXNMaXN0TGlrZUl0ZXJhYmxlKGIpICYmXG4gICAgICAgICFsYW5nXzEuaXNQcmltaXRpdmUoYikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbGFuZ18xLmxvb3NlSWRlbnRpY2FsKGEsIGIpO1xuICAgIH1cbn1cbmV4cG9ydHMuZGV2TW9kZUVxdWFsID0gZGV2TW9kZUVxdWFsO1xuLyoqXG4gKiBJbmRpY2F0ZXMgdGhhdCB0aGUgcmVzdWx0IG9mIGEge0BsaW5rIFBpcGVNZXRhZGF0YX0gdHJhbnNmb3JtYXRpb24gaGFzIGNoYW5nZWQgZXZlbiB0aG91Z2ggdGhlXG4gKiByZWZlcmVuY2VcbiAqIGhhcyBub3QgY2hhbmdlZC5cbiAqXG4gKiBUaGUgd3JhcHBlZCB2YWx1ZSB3aWxsIGJlIHVud3JhcHBlZCBieSBjaGFuZ2UgZGV0ZWN0aW9uLCBhbmQgdGhlIHVud3JhcHBlZCB2YWx1ZSB3aWxsIGJlIHN0b3JlZC5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYFxuICogaWYgKHRoaXMuX2xhdGVzdFZhbHVlID09PSB0aGlzLl9sYXRlc3RSZXR1cm5lZFZhbHVlKSB7XG4gKiAgICByZXR1cm4gdGhpcy5fbGF0ZXN0UmV0dXJuZWRWYWx1ZTtcbiAqICB9IGVsc2Uge1xuICogICAgdGhpcy5fbGF0ZXN0UmV0dXJuZWRWYWx1ZSA9IHRoaXMuX2xhdGVzdFZhbHVlO1xuICogICAgcmV0dXJuIFdyYXBwZWRWYWx1ZS53cmFwKHRoaXMuX2xhdGVzdFZhbHVlKTsgLy8gdGhpcyB3aWxsIGZvcmNlIHVwZGF0ZVxuICogIH1cbiAqIGBgYFxuICovXG52YXIgV3JhcHBlZFZhbHVlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBXcmFwcGVkVmFsdWUod3JhcHBlZCkge1xuICAgICAgICB0aGlzLndyYXBwZWQgPSB3cmFwcGVkO1xuICAgIH1cbiAgICBXcmFwcGVkVmFsdWUud3JhcCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gbmV3IFdyYXBwZWRWYWx1ZSh2YWx1ZSk7IH07XG4gICAgcmV0dXJuIFdyYXBwZWRWYWx1ZTtcbn0oKSk7XG5leHBvcnRzLldyYXBwZWRWYWx1ZSA9IFdyYXBwZWRWYWx1ZTtcbi8qKlxuICogSGVscGVyIGNsYXNzIGZvciB1bndyYXBwaW5nIFdyYXBwZWRWYWx1ZSBzXG4gKi9cbnZhciBWYWx1ZVVud3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmFsdWVVbndyYXBwZXIoKSB7XG4gICAgICAgIHRoaXMuaGFzV3JhcHBlZFZhbHVlID0gZmFsc2U7XG4gICAgfVxuICAgIFZhbHVlVW53cmFwcGVyLnByb3RvdHlwZS51bndyYXAgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgV3JhcHBlZFZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmhhc1dyYXBwZWRWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUud3JhcHBlZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBWYWx1ZVVud3JhcHBlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7IHRoaXMuaGFzV3JhcHBlZFZhbHVlID0gZmFsc2U7IH07XG4gICAgcmV0dXJuIFZhbHVlVW53cmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuVmFsdWVVbndyYXBwZXIgPSBWYWx1ZVVud3JhcHBlcjtcbi8qKlxuICogUmVwcmVzZW50cyBhIGJhc2ljIGNoYW5nZSBmcm9tIGEgcHJldmlvdXMgdG8gYSBuZXcgdmFsdWUuXG4gKi9cbnZhciBTaW1wbGVDaGFuZ2UgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNpbXBsZUNoYW5nZShwcmV2aW91c1ZhbHVlLCBjdXJyZW50VmFsdWUpIHtcbiAgICAgICAgdGhpcy5wcmV2aW91c1ZhbHVlID0gcHJldmlvdXNWYWx1ZTtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBjdXJyZW50VmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIHdoZXRoZXIgdGhlIG5ldyB2YWx1ZSBpcyB0aGUgZmlyc3QgdmFsdWUgYXNzaWduZWQuXG4gICAgICovXG4gICAgU2ltcGxlQ2hhbmdlLnByb3RvdHlwZS5pc0ZpcnN0Q2hhbmdlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5wcmV2aW91c1ZhbHVlID09PSBleHBvcnRzLnVuaW5pdGlhbGl6ZWQ7IH07XG4gICAgcmV0dXJuIFNpbXBsZUNoYW5nZTtcbn0oKSk7XG5leHBvcnRzLlNpbXBsZUNoYW5nZSA9IFNpbXBsZUNoYW5nZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYW5nZV9kZXRlY3Rpb25fdXRpbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBDaGFuZ2VEZXRlY3RvclJlZiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2hhbmdlRGV0ZWN0b3JSZWYoKSB7XG4gICAgfVxuICAgIHJldHVybiBDaGFuZ2VEZXRlY3RvclJlZjtcbn0oKSk7XG5leHBvcnRzLkNoYW5nZURldGVjdG9yUmVmID0gQ2hhbmdlRGV0ZWN0b3JSZWY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGFuZ2VfZGV0ZWN0b3JfcmVmLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGNoYW5nZSBkZXRlY3Rvci5cbiAqL1xuKGZ1bmN0aW9uIChDaGFuZ2VEZXRlY3RvclN0YXRlKSB7XG4gICAgLyoqXG4gICAgICogYE5ldmVyQ2hlY2tlZGAgbWVhbnMgdGhhdCB0aGUgY2hhbmdlIGRldGVjdG9yIGhhcyBub3QgYmVlbiBjaGVja2VkIHlldCwgYW5kXG4gICAgICogaW5pdGlhbGl6YXRpb24gbWV0aG9kcyBzaG91bGQgYmUgY2FsbGVkIGR1cmluZyBkZXRlY3Rpb24uXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0b3JTdGF0ZVtDaGFuZ2VEZXRlY3RvclN0YXRlW1wiTmV2ZXJDaGVja2VkXCJdID0gMF0gPSBcIk5ldmVyQ2hlY2tlZFwiO1xuICAgIC8qKlxuICAgICAqIGBDaGVja2VkQmVmb3JlYCBtZWFucyB0aGF0IHRoZSBjaGFuZ2UgZGV0ZWN0b3IgaGFzIHN1Y2Nlc3NmdWxseSBjb21wbGV0ZWQgYXQgbGVhc3RcbiAgICAgKiBvbmUgZGV0ZWN0aW9uIHByZXZpb3VzbHkuXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0b3JTdGF0ZVtDaGFuZ2VEZXRlY3RvclN0YXRlW1wiQ2hlY2tlZEJlZm9yZVwiXSA9IDFdID0gXCJDaGVja2VkQmVmb3JlXCI7XG4gICAgLyoqXG4gICAgICogYEVycm9yZWRgIG1lYW5zIHRoYXQgdGhlIGNoYW5nZSBkZXRlY3RvciBlbmNvdW50ZXJlZCBhbiBlcnJvciBjaGVja2luZyBhIGJpbmRpbmdcbiAgICAgKiBvciBjYWxsaW5nIGEgZGlyZWN0aXZlIGxpZmVjeWNsZSBtZXRob2QgYW5kIGlzIG5vdyBpbiBhbiBpbmNvbnNpc3RlbnQgc3RhdGUuIENoYW5nZVxuICAgICAqIGRldGVjdG9ycyBpbiB0aGlzIHN0YXRlIHdpbGwgbm8gbG9uZ2VyIGRldGVjdCBjaGFuZ2VzLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdG9yU3RhdGVbQ2hhbmdlRGV0ZWN0b3JTdGF0ZVtcIkVycm9yZWRcIl0gPSAyXSA9IFwiRXJyb3JlZFwiO1xufSkoZXhwb3J0cy5DaGFuZ2VEZXRlY3RvclN0YXRlIHx8IChleHBvcnRzLkNoYW5nZURldGVjdG9yU3RhdGUgPSB7fSkpO1xudmFyIENoYW5nZURldGVjdG9yU3RhdGUgPSBleHBvcnRzLkNoYW5nZURldGVjdG9yU3RhdGU7XG4vKipcbiAqIERlc2NyaWJlcyB3aXRoaW4gdGhlIGNoYW5nZSBkZXRlY3RvciB3aGljaCBzdHJhdGVneSB3aWxsIGJlIHVzZWQgdGhlIG5leHQgdGltZSBjaGFuZ2VcbiAqIGRldGVjdGlvbiBpcyB0cmlnZ2VyZWQuXG4gKi9cbihmdW5jdGlvbiAoQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kpIHtcbiAgICAvKipcbiAgICAgKiBgQ2hlY2tlZE9uY2VgIG1lYW5zIHRoYXQgYWZ0ZXIgY2FsbGluZyBkZXRlY3RDaGFuZ2VzIHRoZSBtb2RlIG9mIHRoZSBjaGFuZ2UgZGV0ZWN0b3JcbiAgICAgKiB3aWxsIGJlY29tZSBgQ2hlY2tlZGAuXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lbQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lbXCJDaGVja09uY2VcIl0gPSAwXSA9IFwiQ2hlY2tPbmNlXCI7XG4gICAgLyoqXG4gICAgICogYENoZWNrZWRgIG1lYW5zIHRoYXQgdGhlIGNoYW5nZSBkZXRlY3RvciBzaG91bGQgYmUgc2tpcHBlZCB1bnRpbCBpdHMgbW9kZSBjaGFuZ2VzIHRvXG4gICAgICogYENoZWNrT25jZWAuXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lbQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lbXCJDaGVja2VkXCJdID0gMV0gPSBcIkNoZWNrZWRcIjtcbiAgICAvKipcbiAgICAgKiBgQ2hlY2tBbHdheXNgIG1lYW5zIHRoYXQgYWZ0ZXIgY2FsbGluZyBkZXRlY3RDaGFuZ2VzIHRoZSBtb2RlIG9mIHRoZSBjaGFuZ2UgZGV0ZWN0b3JcbiAgICAgKiB3aWxsIHJlbWFpbiBgQ2hlY2tBbHdheXNgLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdGlvblN0cmF0ZWd5W0NoYW5nZURldGVjdGlvblN0cmF0ZWd5W1wiQ2hlY2tBbHdheXNcIl0gPSAyXSA9IFwiQ2hlY2tBbHdheXNcIjtcbiAgICAvKipcbiAgICAgKiBgRGV0YWNoZWRgIG1lYW5zIHRoYXQgdGhlIGNoYW5nZSBkZXRlY3RvciBzdWIgdHJlZSBpcyBub3QgYSBwYXJ0IG9mIHRoZSBtYWluIHRyZWUgYW5kXG4gICAgICogc2hvdWxkIGJlIHNraXBwZWQuXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lbQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lbXCJEZXRhY2hlZFwiXSA9IDNdID0gXCJEZXRhY2hlZFwiO1xuICAgIC8qKlxuICAgICAqIGBPblB1c2hgIG1lYW5zIHRoYXQgdGhlIGNoYW5nZSBkZXRlY3RvcidzIG1vZGUgd2lsbCBiZSBzZXQgdG8gYENoZWNrT25jZWAgZHVyaW5nIGh5ZHJhdGlvbi5cbiAgICAgKi9cbiAgICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneVtDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneVtcIk9uUHVzaFwiXSA9IDRdID0gXCJPblB1c2hcIjtcbiAgICAvKipcbiAgICAgKiBgRGVmYXVsdGAgbWVhbnMgdGhhdCB0aGUgY2hhbmdlIGRldGVjdG9yJ3MgbW9kZSB3aWxsIGJlIHNldCB0byBgQ2hlY2tBbHdheXNgIGR1cmluZyBoeWRyYXRpb24uXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lbQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lbXCJEZWZhdWx0XCJdID0gNV0gPSBcIkRlZmF1bHRcIjtcbn0pKGV4cG9ydHMuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgfHwgKGV4cG9ydHMuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgPSB7fSkpO1xudmFyIENoYW5nZURldGVjdGlvblN0cmF0ZWd5ID0gZXhwb3J0cy5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneTtcbi8qKlxuICogTGlzdCBvZiBwb3NzaWJsZSB7QGxpbmsgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3l9IHZhbHVlcy5cbiAqL1xuZXhwb3J0cy5DSEFOR0VfREVURUNUSU9OX1NUUkFURUdZX1ZBTFVFUyA9IFtcbiAgICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5DaGVja09uY2UsXG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuQ2hlY2tlZCxcbiAgICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5DaGVja0Fsd2F5cyxcbiAgICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5EZXRhY2hlZCxcbiAgICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuRGVmYXVsdFxuXTtcbi8qKlxuICogTGlzdCBvZiBwb3NzaWJsZSB7QGxpbmsgQ2hhbmdlRGV0ZWN0b3JTdGF0ZX0gdmFsdWVzLlxuICovXG5leHBvcnRzLkNIQU5HRV9ERVRFQ1RPUl9TVEFURV9WQUxVRVMgPSBbXG4gICAgQ2hhbmdlRGV0ZWN0b3JTdGF0ZS5OZXZlckNoZWNrZWQsXG4gICAgQ2hhbmdlRGV0ZWN0b3JTdGF0ZS5DaGVja2VkQmVmb3JlLFxuICAgIENoYW5nZURldGVjdG9yU3RhdGUuRXJyb3JlZFxuXTtcbmZ1bmN0aW9uIGlzRGVmYXVsdENoYW5nZURldGVjdGlvblN0cmF0ZWd5KGNoYW5nZURldGVjdGlvblN0cmF0ZWd5KSB7XG4gICAgcmV0dXJuIGxhbmdfMS5pc0JsYW5rKGNoYW5nZURldGVjdGlvblN0cmF0ZWd5KSB8fFxuICAgICAgICBjaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSA9PT0gQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuRGVmYXVsdDtcbn1cbmV4cG9ydHMuaXNEZWZhdWx0Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgPSBpc0RlZmF1bHRDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbi8qIEB0czJkYXJ0X2NvbnN0ICovXG52YXIgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyRmFjdG9yeSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVmYXVsdEl0ZXJhYmxlRGlmZmVyRmFjdG9yeSgpIHtcbiAgICB9XG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyRmFjdG9yeS5wcm90b3R5cGUuc3VwcG9ydHMgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBjb2xsZWN0aW9uXzEuaXNMaXN0TGlrZUl0ZXJhYmxlKG9iaik7IH07XG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKGNkUmVmLCB0cmFja0J5Rm4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0SXRlcmFibGVEaWZmZXIodHJhY2tCeUZuKTtcbiAgICB9O1xuICAgIHJldHVybiBEZWZhdWx0SXRlcmFibGVEaWZmZXJGYWN0b3J5O1xufSgpKTtcbmV4cG9ydHMuRGVmYXVsdEl0ZXJhYmxlRGlmZmVyRmFjdG9yeSA9IERlZmF1bHRJdGVyYWJsZURpZmZlckZhY3Rvcnk7XG52YXIgdHJhY2tCeUlkZW50aXR5ID0gZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7IHJldHVybiBpdGVtOyB9O1xudmFyIERlZmF1bHRJdGVyYWJsZURpZmZlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVmYXVsdEl0ZXJhYmxlRGlmZmVyKF90cmFja0J5Rm4pIHtcbiAgICAgICAgdGhpcy5fdHJhY2tCeUZuID0gX3RyYWNrQnlGbjtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY29sbGVjdGlvbiA9IG51bGw7XG4gICAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSB1c2VkIHJlY29yZHMgYXQgYW55IHBvaW50IGluIHRpbWUgKGR1cmluZyAmIGFjcm9zcyBgX2NoZWNrKClgIGNhbGxzKVxuICAgICAgICB0aGlzLl9saW5rZWRSZWNvcmRzID0gbnVsbDtcbiAgICAgICAgLy8gS2VlcHMgdHJhY2sgb2YgdGhlIHJlbW92ZWQgcmVjb3JkcyBhdCBhbnkgcG9pbnQgaW4gdGltZSBkdXJpbmcgYF9jaGVjaygpYCBjYWxscy5cbiAgICAgICAgdGhpcy5fdW5saW5rZWRSZWNvcmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNJdEhlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9pdEhlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9pdFRhaWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9hZGRpdGlvbnNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX21vdmVzSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX21vdmVzVGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbW92YWxzVGFpbCA9IG51bGw7XG4gICAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHJlY29yZHMgd2hlcmUgY3VzdG9tIHRyYWNrIGJ5IGlzIHRoZSBzYW1lLCBidXQgaXRlbSBpZGVudGl0eSBoYXMgY2hhbmdlZFxuICAgICAgICB0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3RyYWNrQnlGbiA9IGxhbmdfMS5pc1ByZXNlbnQodGhpcy5fdHJhY2tCeUZuKSA/IHRoaXMuX3RyYWNrQnlGbiA6IHRyYWNrQnlJZGVudGl0eTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUsIFwiY29sbGVjdGlvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fY29sbGVjdGlvbjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUsIFwibGVuZ3RoXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9sZW5ndGg7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuZm9yRWFjaEl0ZW0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyIHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9pdEhlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0KSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLmZvckVhY2hQcmV2aW91c0l0ZW0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyIHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9wcmV2aW91c0l0SGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRQcmV2aW91cykge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS5mb3JFYWNoQWRkZWRJdGVtID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHZhciByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fYWRkaXRpb25zSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRBZGRlZCkge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS5mb3JFYWNoTW92ZWRJdGVtID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHZhciByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fbW92ZXNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dE1vdmVkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLmZvckVhY2hSZW1vdmVkSXRlbSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB2YXIgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3JlbW92YWxzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRSZW1vdmVkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLmZvckVhY2hJZGVudGl0eUNoYW5nZSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB2YXIgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0SWRlbnRpdHlDaGFuZ2UpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuZGlmZiA9IGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7XG4gICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhjb2xsZWN0aW9uKSlcbiAgICAgICAgICAgIGNvbGxlY3Rpb24gPSBbXTtcbiAgICAgICAgaWYgKCFjb2xsZWN0aW9uXzEuaXNMaXN0TGlrZUl0ZXJhYmxlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJFcnJvciB0cnlpbmcgdG8gZGlmZiAnXCIgKyBjb2xsZWN0aW9uICsgXCInXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoZWNrKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLm9uRGVzdHJveSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvLyB0b2RvKHZpY2IpOiBvcHRpbSBmb3IgVW5tb2RpZmlhYmxlTGlzdFZpZXcgKGZyb3plbiBhcnJheXMpXG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX3Jlc2V0KCk7XG4gICAgICAgIHZhciByZWNvcmQgPSB0aGlzLl9pdEhlYWQ7XG4gICAgICAgIHZhciBtYXlCZURpcnR5ID0gZmFsc2U7XG4gICAgICAgIHZhciBpbmRleDtcbiAgICAgICAgdmFyIGl0ZW07XG4gICAgICAgIHZhciBpdGVtVHJhY2tCeTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0FycmF5KGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICB2YXIgbGlzdCA9IGNvbGxlY3Rpb247XG4gICAgICAgICAgICB0aGlzLl9sZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuX2xlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGl0ZW0gPSBsaXN0W2luZGV4XTtcbiAgICAgICAgICAgICAgICBpdGVtVHJhY2tCeSA9IHRoaXMuX3RyYWNrQnlGbihpbmRleCwgaXRlbSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZCA9PT0gbnVsbCB8fCAhbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHJlY29yZC50cmFja0J5SWQsIGl0ZW1UcmFja0J5KSkge1xuICAgICAgICAgICAgICAgICAgICByZWNvcmQgPSB0aGlzLl9taXNtYXRjaChyZWNvcmQsIGl0ZW0sIGl0ZW1UcmFja0J5LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIG1heUJlRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1heUJlRGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8obWlza28pOiBjYW4gd2UgbGltaXQgdGhpcyB0byBkdXBsaWNhdGVzIG9ubHk/XG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQgPSB0aGlzLl92ZXJpZnlSZWluc2VydGlvbihyZWNvcmQsIGl0ZW0sIGl0ZW1UcmFja0J5LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsYW5nXzEubG9vc2VJZGVudGljYWwocmVjb3JkLml0ZW0sIGl0ZW0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2UocmVjb3JkLCBpdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVjb3JkID0gcmVjb3JkLl9uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgICAgY29sbGVjdGlvbl8xLml0ZXJhdGVMaXN0TGlrZShjb2xsZWN0aW9uLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgIGl0ZW1UcmFja0J5ID0gX3RoaXMuX3RyYWNrQnlGbihpbmRleCwgaXRlbSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZCA9PT0gbnVsbCB8fCAhbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHJlY29yZC50cmFja0J5SWQsIGl0ZW1UcmFja0J5KSkge1xuICAgICAgICAgICAgICAgICAgICByZWNvcmQgPSBfdGhpcy5fbWlzbWF0Y2gocmVjb3JkLCBpdGVtLCBpdGVtVHJhY2tCeSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBtYXlCZURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXlCZURpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPKG1pc2tvKTogY2FuIHdlIGxpbWl0IHRoaXMgdG8gZHVwbGljYXRlcyBvbmx5P1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkID0gX3RoaXMuX3ZlcmlmeVJlaW5zZXJ0aW9uKHJlY29yZCwgaXRlbSwgaXRlbVRyYWNrQnksIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWxhbmdfMS5sb29zZUlkZW50aWNhbChyZWNvcmQuaXRlbSwgaXRlbSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2UocmVjb3JkLCBpdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVjb3JkID0gcmVjb3JkLl9uZXh0O1xuICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX2xlbmd0aCA9IGluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RydW5jYXRlKHJlY29yZCk7XG4gICAgICAgIHRoaXMuX2NvbGxlY3Rpb24gPSBjb2xsZWN0aW9uO1xuICAgICAgICByZXR1cm4gdGhpcy5pc0RpcnR5O1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUsIFwiaXNEaXJ0eVwiLCB7XG4gICAgICAgIC8qIENvbGxlY3Rpb25DaGFuZ2VzIGlzIGNvbnNpZGVyZWQgZGlydHkgaWYgaXQgaGFzIGFueSBhZGRpdGlvbnMsIG1vdmVzLCByZW1vdmFscywgb3IgaWRlbnRpdHlcbiAgICAgICAgICogY2hhbmdlcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZGl0aW9uc0hlYWQgIT09IG51bGwgfHwgdGhpcy5fbW92ZXNIZWFkICE9PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNIZWFkICE9PSBudWxsIHx8IHRoaXMuX2lkZW50aXR5Q2hhbmdlc0hlYWQgIT09IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBzdGF0ZSBvZiB0aGUgY2hhbmdlIG9iamVjdHMgdG8gc2hvdyBubyBjaGFuZ2VzLiBUaGlzIG1lYW5zIHNldCBwcmV2aW91c0tleSB0b1xuICAgICAqIGN1cnJlbnRLZXksIGFuZCBjbGVhciBhbGwgb2YgdGhlIHF1ZXVlcyAoYWRkaXRpb25zLCBtb3ZlcywgcmVtb3ZhbHMpLlxuICAgICAqIFNldCB0aGUgcHJldmlvdXNJbmRleGVzIG9mIG1vdmVkIGFuZCBhZGRlZCBpdGVtcyB0byB0aGVpciBjdXJyZW50SW5kZXhlc1xuICAgICAqIFJlc2V0IHRoZSBsaXN0IG9mIGFkZGl0aW9ucywgbW92ZXMgYW5kIHJlbW92YWxzXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLl9yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eSkge1xuICAgICAgICAgICAgdmFyIHJlY29yZDtcbiAgICAgICAgICAgIHZhciBuZXh0UmVjb3JkO1xuICAgICAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9wcmV2aW91c0l0SGVhZCA9IHRoaXMuX2l0SGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQuX25leHRQcmV2aW91cyA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fYWRkaXRpb25zSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRBZGRlZCkge1xuICAgICAgICAgICAgICAgIHJlY29yZC5wcmV2aW91c0luZGV4ID0gcmVjb3JkLmN1cnJlbnRJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc0hlYWQgPSB0aGlzLl9hZGRpdGlvbnNUYWlsID0gbnVsbDtcbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fbW92ZXNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IG5leHRSZWNvcmQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQucHJldmlvdXNJbmRleCA9IHJlY29yZC5jdXJyZW50SW5kZXg7XG4gICAgICAgICAgICAgICAgbmV4dFJlY29yZCA9IHJlY29yZC5fbmV4dE1vdmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbW92ZXNIZWFkID0gdGhpcy5fbW92ZXNUYWlsID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCA9IHRoaXMuX3JlbW92YWxzVGFpbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkID0gdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIGNvcmUgZnVuY3Rpb24gd2hpY2ggaGFuZGxlcyBkaWZmZXJlbmNlcyBiZXR3ZWVuIGNvbGxlY3Rpb25zLlxuICAgICAqXG4gICAgICogLSBgcmVjb3JkYCBpcyB0aGUgcmVjb3JkIHdoaWNoIHdlIHNhdyBhdCB0aGlzIHBvc2l0aW9uIGxhc3QgdGltZS4gSWYgbnVsbCB0aGVuIGl0IGlzIGEgbmV3XG4gICAgICogICBpdGVtLlxuICAgICAqIC0gYGl0ZW1gIGlzIHRoZSBjdXJyZW50IGl0ZW0gaW4gdGhlIGNvbGxlY3Rpb25cbiAgICAgKiAtIGBpbmRleGAgaXMgdGhlIHBvc2l0aW9uIG9mIHRoZSBpdGVtIGluIHRoZSBjb2xsZWN0aW9uXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLl9taXNtYXRjaCA9IGZ1bmN0aW9uIChyZWNvcmQsIGl0ZW0sIGl0ZW1UcmFja0J5LCBpbmRleCkge1xuICAgICAgICAvLyBUaGUgcHJldmlvdXMgcmVjb3JkIGFmdGVyIHdoaWNoIHdlIHdpbGwgYXBwZW5kIHRoZSBjdXJyZW50IG9uZS5cbiAgICAgICAgdmFyIHByZXZpb3VzUmVjb3JkO1xuICAgICAgICBpZiAocmVjb3JkID09PSBudWxsKSB7XG4gICAgICAgICAgICBwcmV2aW91c1JlY29yZCA9IHRoaXMuX2l0VGFpbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByZXZpb3VzUmVjb3JkID0gcmVjb3JkLl9wcmV2O1xuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSByZWNvcmQgZnJvbSB0aGUgY29sbGVjdGlvbiBzaW5jZSB3ZSBrbm93IGl0IGRvZXMgbm90IG1hdGNoIHRoZSBpdGVtLlxuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXR0ZW1wdCB0byBzZWUgaWYgd2UgaGF2ZSBzZWVuIHRoZSBpdGVtIGJlZm9yZS5cbiAgICAgICAgcmVjb3JkID0gdGhpcy5fbGlua2VkUmVjb3JkcyA9PT0gbnVsbCA/IG51bGwgOiB0aGlzLl9saW5rZWRSZWNvcmRzLmdldChpdGVtVHJhY2tCeSwgaW5kZXgpO1xuICAgICAgICBpZiAocmVjb3JkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBXZSBoYXZlIHNlZW4gdGhpcyBiZWZvcmUsIHdlIG5lZWQgdG8gbW92ZSBpdCBmb3J3YXJkIGluIHRoZSBjb2xsZWN0aW9uLlxuICAgICAgICAgICAgLy8gQnV0IGZpcnN0IHdlIG5lZWQgdG8gY2hlY2sgaWYgaWRlbnRpdHkgY2hhbmdlZCwgc28gd2UgY2FuIHVwZGF0ZSBpbiB2aWV3IGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgaWYgKCFsYW5nXzEubG9vc2VJZGVudGljYWwocmVjb3JkLml0ZW0sIGl0ZW0pKVxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKHJlY29yZCwgaXRlbSk7XG4gICAgICAgICAgICB0aGlzLl9tb3ZlQWZ0ZXIocmVjb3JkLCBwcmV2aW91c1JlY29yZCwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gTmV2ZXIgc2VlbiBpdCwgY2hlY2sgZXZpY3RlZCBsaXN0LlxuICAgICAgICAgICAgcmVjb3JkID0gdGhpcy5fdW5saW5rZWRSZWNvcmRzID09PSBudWxsID8gbnVsbCA6IHRoaXMuX3VubGlua2VkUmVjb3Jkcy5nZXQoaXRlbVRyYWNrQnkpO1xuICAgICAgICAgICAgaWYgKHJlY29yZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIEl0IGlzIGFuIGl0ZW0gd2hpY2ggd2UgaGF2ZSBldmljdGVkIGVhcmxpZXI6IHJlaW5zZXJ0IGl0IGJhY2sgaW50byB0aGUgbGlzdC5cbiAgICAgICAgICAgICAgICAvLyBCdXQgZmlyc3Qgd2UgbmVlZCB0byBjaGVjayBpZiBpZGVudGl0eSBjaGFuZ2VkLCBzbyB3ZSBjYW4gdXBkYXRlIGluIHZpZXcgaWYgbmVjZXNzYXJ5XG4gICAgICAgICAgICAgICAgaWYgKCFsYW5nXzEubG9vc2VJZGVudGljYWwocmVjb3JkLml0ZW0sIGl0ZW0pKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRJZGVudGl0eUNoYW5nZShyZWNvcmQsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlaW5zZXJ0QWZ0ZXIocmVjb3JkLCBwcmV2aW91c1JlY29yZCwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSXQgaXMgYSBuZXcgaXRlbTogYWRkIGl0LlxuICAgICAgICAgICAgICAgIHJlY29yZCA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZEFmdGVyKG5ldyBDb2xsZWN0aW9uQ2hhbmdlUmVjb3JkKGl0ZW0sIGl0ZW1UcmFja0J5KSwgcHJldmlvdXNSZWNvcmQsIGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGVjayBpcyBvbmx5IG5lZWRlZCBpZiBhbiBhcnJheSBjb250YWlucyBkdXBsaWNhdGVzLiAoU2hvcnQgY2lyY3VpdCBvZiBub3RoaW5nIGRpcnR5KVxuICAgICAqXG4gICAgICogVXNlIGNhc2U6IGBbYSwgYV1gID0+IGBbYiwgYSwgYV1gXG4gICAgICpcbiAgICAgKiBJZiB3ZSBkaWQgbm90IGhhdmUgdGhpcyBjaGVjayB0aGVuIHRoZSBpbnNlcnRpb24gb2YgYGJgIHdvdWxkOlxuICAgICAqICAgMSkgZXZpY3QgZmlyc3QgYGFgXG4gICAgICogICAyKSBpbnNlcnQgYGJgIGF0IGAwYCBpbmRleC5cbiAgICAgKiAgIDMpIGxlYXZlIGBhYCBhdCBpbmRleCBgMWAgYXMgaXMuIDwtLSB0aGlzIGlzIHdyb25nIVxuICAgICAqICAgMykgcmVpbnNlcnQgYGFgIGF0IGluZGV4IDIuIDwtLSB0aGlzIGlzIHdyb25nIVxuICAgICAqXG4gICAgICogVGhlIGNvcnJlY3QgYmVoYXZpb3IgaXM6XG4gICAgICogICAxKSBldmljdCBmaXJzdCBgYWBcbiAgICAgKiAgIDIpIGluc2VydCBgYmAgYXQgYDBgIGluZGV4LlxuICAgICAqICAgMykgcmVpbnNlcnQgYGFgIGF0IGluZGV4IDEuXG4gICAgICogICAzKSBtb3ZlIGBhYCBhdCBmcm9tIGAxYCB0byBgMmAuXG4gICAgICpcbiAgICAgKlxuICAgICAqIERvdWJsZSBjaGVjayB0aGF0IHdlIGhhdmUgbm90IGV2aWN0ZWQgYSBkdXBsaWNhdGUgaXRlbS4gV2UgbmVlZCB0byBjaGVjayBpZiB0aGUgaXRlbSB0eXBlIG1heVxuICAgICAqIGhhdmUgYWxyZWFkeSBiZWVuIHJlbW92ZWQ6XG4gICAgICogVGhlIGluc2VydGlvbiBvZiBiIHdpbGwgZXZpY3QgdGhlIGZpcnN0ICdhJy4gSWYgd2UgZG9uJ3QgcmVpbnNlcnQgaXQgbm93IGl0IHdpbGwgYmUgcmVpbnNlcnRlZFxuICAgICAqIGF0IHRoZSBlbmQuIFdoaWNoIHdpbGwgc2hvdyB1cCBhcyB0aGUgdHdvICdhJ3Mgc3dpdGNoaW5nIHBvc2l0aW9uLiBUaGlzIGlzIGluY29ycmVjdCwgc2luY2UgYVxuICAgICAqIGJldHRlciB3YXkgdG8gdGhpbmsgb2YgaXQgaXMgYXMgaW5zZXJ0IG9mICdiJyByYXRoZXIgdGhlbiBzd2l0Y2ggJ2EnIHdpdGggJ2InIGFuZCB0aGVuIGFkZCAnYSdcbiAgICAgKiBhdCB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS5fdmVyaWZ5UmVpbnNlcnRpb24gPSBmdW5jdGlvbiAocmVjb3JkLCBpdGVtLCBpdGVtVHJhY2tCeSwgaW5kZXgpIHtcbiAgICAgICAgdmFyIHJlaW5zZXJ0UmVjb3JkID0gdGhpcy5fdW5saW5rZWRSZWNvcmRzID09PSBudWxsID8gbnVsbCA6IHRoaXMuX3VubGlua2VkUmVjb3Jkcy5nZXQoaXRlbVRyYWNrQnkpO1xuICAgICAgICBpZiAocmVpbnNlcnRSZWNvcmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlY29yZCA9IHRoaXMuX3JlaW5zZXJ0QWZ0ZXIocmVpbnNlcnRSZWNvcmQsIHJlY29yZC5fcHJldiwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlY29yZC5jdXJyZW50SW5kZXggIT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHJlY29yZC5jdXJyZW50SW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRvTW92ZXMocmVjb3JkLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCByaWQgb2YgYW55IGV4Y2VzcyB7QGxpbmsgQ29sbGVjdGlvbkNoYW5nZVJlY29yZH1zIGZyb20gdGhlIHByZXZpb3VzIGNvbGxlY3Rpb25cbiAgICAgKlxuICAgICAqIC0gYHJlY29yZGAgVGhlIGZpcnN0IGV4Y2VzcyB7QGxpbmsgQ29sbGVjdGlvbkNoYW5nZVJlY29yZH0uXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLl90cnVuY2F0ZSA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgLy8gQW55dGhpbmcgYWZ0ZXIgdGhhdCBuZWVkcyB0byBiZSByZW1vdmVkO1xuICAgICAgICB3aGlsZSAocmVjb3JkICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbmV4dFJlY29yZCA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRvUmVtb3ZhbHModGhpcy5fdW5saW5rKHJlY29yZCkpO1xuICAgICAgICAgICAgcmVjb3JkID0gbmV4dFJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdW5saW5rZWRSZWNvcmRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl91bmxpbmtlZFJlY29yZHMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fYWRkaXRpb25zVGFpbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbW92ZXNUYWlsICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9tb3Zlc1RhaWwuX25leHRNb3ZlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2l0VGFpbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faXRUYWlsLl9uZXh0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcmVtb3ZhbHNUYWlsICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc1RhaWwuX25leHRSZW1vdmVkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbC5fbmV4dElkZW50aXR5Q2hhbmdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuX3JlaW5zZXJ0QWZ0ZXIgPSBmdW5jdGlvbiAocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCkge1xuICAgICAgICBpZiAodGhpcy5fdW5saW5rZWRSZWNvcmRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl91bmxpbmtlZFJlY29yZHMucmVtb3ZlKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByZXYgPSByZWNvcmQuX3ByZXZSZW1vdmVkO1xuICAgICAgICB2YXIgbmV4dCA9IHJlY29yZC5fbmV4dFJlbW92ZWQ7XG4gICAgICAgIGlmIChwcmV2ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJldi5fbmV4dFJlbW92ZWQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc1RhaWwgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV4dC5fcHJldlJlbW92ZWQgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2luc2VydEFmdGVyKHJlY29yZCwgcHJldlJlY29yZCwgaW5kZXgpO1xuICAgICAgICB0aGlzLl9hZGRUb01vdmVzKHJlY29yZCwgaW5kZXgpO1xuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuX21vdmVBZnRlciA9IGZ1bmN0aW9uIChyZWNvcmQsIHByZXZSZWNvcmQsIGluZGV4KSB7XG4gICAgICAgIHRoaXMuX3VubGluayhyZWNvcmQpO1xuICAgICAgICB0aGlzLl9pbnNlcnRBZnRlcihyZWNvcmQsIHByZXZSZWNvcmQsIGluZGV4KTtcbiAgICAgICAgdGhpcy5fYWRkVG9Nb3ZlcyhyZWNvcmQsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLl9hZGRBZnRlciA9IGZ1bmN0aW9uIChyZWNvcmQsIHByZXZSZWNvcmQsIGluZGV4KSB7XG4gICAgICAgIHRoaXMuX2luc2VydEFmdGVyKHJlY29yZCwgcHJldlJlY29yZCwgaW5kZXgpO1xuICAgICAgICBpZiAodGhpcy5fYWRkaXRpb25zVGFpbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gdG9kbyh2aWNiKVxuICAgICAgICAgICAgLy8gYXNzZXJ0KHRoaXMuX2FkZGl0aW9uc0hlYWQgPT09IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbCA9IHRoaXMuX2FkZGl0aW9uc0hlYWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB0b2RvKHZpY2IpXG4gICAgICAgICAgICAvLyBhc3NlcnQoX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICAvLyBhc3NlcnQocmVjb3JkLl9uZXh0QWRkZWQgPT09IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbCA9IHRoaXMuX2FkZGl0aW9uc1RhaWwuX25leHRBZGRlZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuX2luc2VydEFmdGVyID0gZnVuY3Rpb24gKHJlY29yZCwgcHJldlJlY29yZCwgaW5kZXgpIHtcbiAgICAgICAgLy8gdG9kbyh2aWNiKVxuICAgICAgICAvLyBhc3NlcnQocmVjb3JkICE9IHByZXZSZWNvcmQpO1xuICAgICAgICAvLyBhc3NlcnQocmVjb3JkLl9uZXh0ID09PSBudWxsKTtcbiAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fcHJldiA9PT0gbnVsbCk7XG4gICAgICAgIHZhciBuZXh0ID0gcHJldlJlY29yZCA9PT0gbnVsbCA/IHRoaXMuX2l0SGVhZCA6IHByZXZSZWNvcmQuX25leHQ7XG4gICAgICAgIC8vIHRvZG8odmljYilcbiAgICAgICAgLy8gYXNzZXJ0KG5leHQgIT0gcmVjb3JkKTtcbiAgICAgICAgLy8gYXNzZXJ0KHByZXZSZWNvcmQgIT0gcmVjb3JkKTtcbiAgICAgICAgcmVjb3JkLl9uZXh0ID0gbmV4dDtcbiAgICAgICAgcmVjb3JkLl9wcmV2ID0gcHJldlJlY29yZDtcbiAgICAgICAgaWYgKG5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2l0VGFpbCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5leHQuX3ByZXYgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZXZSZWNvcmQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2l0SGVhZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByZXZSZWNvcmQuX25leHQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2xpbmtlZFJlY29yZHMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2xpbmtlZFJlY29yZHMgPSBuZXcgX0R1cGxpY2F0ZU1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xpbmtlZFJlY29yZHMucHV0KHJlY29yZCk7XG4gICAgICAgIHJlY29yZC5jdXJyZW50SW5kZXggPSBpbmRleDtcbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLl9yZW1vdmUgPSBmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRUb1JlbW92YWxzKHRoaXMuX3VubGluayhyZWNvcmQpKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLl91bmxpbmsgPSBmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgIGlmICh0aGlzLl9saW5rZWRSZWNvcmRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9saW5rZWRSZWNvcmRzLnJlbW92ZShyZWNvcmQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2ID0gcmVjb3JkLl9wcmV2O1xuICAgICAgICB2YXIgbmV4dCA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgLy8gdG9kbyh2aWNiKVxuICAgICAgICAvLyBhc3NlcnQoKHJlY29yZC5fcHJldiA9IG51bGwpID09PSBudWxsKTtcbiAgICAgICAgLy8gYXNzZXJ0KChyZWNvcmQuX25leHQgPSBudWxsKSA9PT0gbnVsbCk7XG4gICAgICAgIGlmIChwcmV2ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pdEhlYWQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJldi5fbmV4dCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2l0VGFpbCA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXh0Ll9wcmV2ID0gcHJldjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuX2FkZFRvTW92ZXMgPSBmdW5jdGlvbiAocmVjb3JkLCB0b0luZGV4KSB7XG4gICAgICAgIC8vIHRvZG8odmljYilcbiAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fbmV4dE1vdmVkID09PSBudWxsKTtcbiAgICAgICAgaWYgKHJlY29yZC5wcmV2aW91c0luZGV4ID09PSB0b0luZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9tb3Zlc1RhaWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIHRvZG8odmljYilcbiAgICAgICAgICAgIC8vIGFzc2VydChfbW92ZXNIZWFkID09PSBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX21vdmVzVGFpbCA9IHRoaXMuX21vdmVzSGVhZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRvZG8odmljYilcbiAgICAgICAgICAgIC8vIGFzc2VydChfbW92ZXNUYWlsLl9uZXh0TW92ZWQgPT09IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fbW92ZXNUYWlsID0gdGhpcy5fbW92ZXNUYWlsLl9uZXh0TW92ZWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLl9hZGRUb1JlbW92YWxzID0gZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgICBpZiAodGhpcy5fdW5saW5rZWRSZWNvcmRzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl91bmxpbmtlZFJlY29yZHMgPSBuZXcgX0R1cGxpY2F0ZU1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3VubGlua2VkUmVjb3Jkcy5wdXQocmVjb3JkKTtcbiAgICAgICAgcmVjb3JkLmN1cnJlbnRJbmRleCA9IG51bGw7XG4gICAgICAgIHJlY29yZC5fbmV4dFJlbW92ZWQgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5fcmVtb3ZhbHNUYWlsID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyB0b2RvKHZpY2IpXG4gICAgICAgICAgICAvLyBhc3NlcnQoX3JlbW92YWxzSGVhZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc1RhaWwgPSB0aGlzLl9yZW1vdmFsc0hlYWQgPSByZWNvcmQ7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXZSZW1vdmVkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRvZG8odmljYilcbiAgICAgICAgICAgIC8vIGFzc2VydChfcmVtb3ZhbHNUYWlsLl9uZXh0UmVtb3ZlZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICAvLyBhc3NlcnQocmVjb3JkLl9uZXh0UmVtb3ZlZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXZSZW1vdmVkID0gdGhpcy5fcmVtb3ZhbHNUYWlsO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNUYWlsID0gdGhpcy5fcmVtb3ZhbHNUYWlsLl9uZXh0UmVtb3ZlZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuX2FkZElkZW50aXR5Q2hhbmdlID0gZnVuY3Rpb24gKHJlY29yZCwgaXRlbSkge1xuICAgICAgICByZWNvcmQuaXRlbSA9IGl0ZW07XG4gICAgICAgIGlmICh0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsID0gdGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwgPSB0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsLl9uZXh0SWRlbnRpdHlDaGFuZ2UgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9O1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsaXN0ID0gW107XG4gICAgICAgIHRoaXMuZm9yRWFjaEl0ZW0oZnVuY3Rpb24gKHJlY29yZCkgeyByZXR1cm4gbGlzdC5wdXNoKHJlY29yZCk7IH0pO1xuICAgICAgICB2YXIgcHJldmlvdXMgPSBbXTtcbiAgICAgICAgdGhpcy5mb3JFYWNoUHJldmlvdXNJdGVtKGZ1bmN0aW9uIChyZWNvcmQpIHsgcmV0dXJuIHByZXZpb3VzLnB1c2gocmVjb3JkKTsgfSk7XG4gICAgICAgIHZhciBhZGRpdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5mb3JFYWNoQWRkZWRJdGVtKGZ1bmN0aW9uIChyZWNvcmQpIHsgcmV0dXJuIGFkZGl0aW9ucy5wdXNoKHJlY29yZCk7IH0pO1xuICAgICAgICB2YXIgbW92ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5mb3JFYWNoTW92ZWRJdGVtKGZ1bmN0aW9uIChyZWNvcmQpIHsgcmV0dXJuIG1vdmVzLnB1c2gocmVjb3JkKTsgfSk7XG4gICAgICAgIHZhciByZW1vdmFscyA9IFtdO1xuICAgICAgICB0aGlzLmZvckVhY2hSZW1vdmVkSXRlbShmdW5jdGlvbiAocmVjb3JkKSB7IHJldHVybiByZW1vdmFscy5wdXNoKHJlY29yZCk7IH0pO1xuICAgICAgICB2YXIgaWRlbnRpdHlDaGFuZ2VzID0gW107XG4gICAgICAgIHRoaXMuZm9yRWFjaElkZW50aXR5Q2hhbmdlKGZ1bmN0aW9uIChyZWNvcmQpIHsgcmV0dXJuIGlkZW50aXR5Q2hhbmdlcy5wdXNoKHJlY29yZCk7IH0pO1xuICAgICAgICByZXR1cm4gXCJjb2xsZWN0aW9uOiBcIiArIGxpc3Quam9pbignLCAnKSArIFwiXFxuXCIgKyBcInByZXZpb3VzOiBcIiArIHByZXZpb3VzLmpvaW4oJywgJykgKyBcIlxcblwiICtcbiAgICAgICAgICAgIFwiYWRkaXRpb25zOiBcIiArIGFkZGl0aW9ucy5qb2luKCcsICcpICsgXCJcXG5cIiArIFwibW92ZXM6IFwiICsgbW92ZXMuam9pbignLCAnKSArIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCJyZW1vdmFsczogXCIgKyByZW1vdmFscy5qb2luKCcsICcpICsgXCJcXG5cIiArIFwiaWRlbnRpdHlDaGFuZ2VzOiBcIiArXG4gICAgICAgICAgICBpZGVudGl0eUNoYW5nZXMuam9pbignLCAnKSArIFwiXFxuXCI7XG4gICAgfTtcbiAgICByZXR1cm4gRGVmYXVsdEl0ZXJhYmxlRGlmZmVyO1xufSgpKTtcbmV4cG9ydHMuRGVmYXVsdEl0ZXJhYmxlRGlmZmVyID0gRGVmYXVsdEl0ZXJhYmxlRGlmZmVyO1xudmFyIENvbGxlY3Rpb25DaGFuZ2VSZWNvcmQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbGxlY3Rpb25DaGFuZ2VSZWNvcmQoaXRlbSwgdHJhY2tCeUlkKSB7XG4gICAgICAgIHRoaXMuaXRlbSA9IGl0ZW07XG4gICAgICAgIHRoaXMudHJhY2tCeUlkID0gdHJhY2tCeUlkO1xuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJldmlvdXNJbmRleCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dFByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9wcmV2ID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9wcmV2RHVwID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0RHVwID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9wcmV2UmVtb3ZlZCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dFJlbW92ZWQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHRBZGRlZCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dE1vdmVkID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0SWRlbnRpdHlDaGFuZ2UgPSBudWxsO1xuICAgIH1cbiAgICBDb2xsZWN0aW9uQ2hhbmdlUmVjb3JkLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJldmlvdXNJbmRleCA9PT0gdGhpcy5jdXJyZW50SW5kZXggP1xuICAgICAgICAgICAgbGFuZ18xLnN0cmluZ2lmeSh0aGlzLml0ZW0pIDpcbiAgICAgICAgICAgIGxhbmdfMS5zdHJpbmdpZnkodGhpcy5pdGVtKSArICdbJyArIGxhbmdfMS5zdHJpbmdpZnkodGhpcy5wcmV2aW91c0luZGV4KSArICctPicgK1xuICAgICAgICAgICAgICAgIGxhbmdfMS5zdHJpbmdpZnkodGhpcy5jdXJyZW50SW5kZXgpICsgJ10nO1xuICAgIH07XG4gICAgcmV0dXJuIENvbGxlY3Rpb25DaGFuZ2VSZWNvcmQ7XG59KCkpO1xuZXhwb3J0cy5Db2xsZWN0aW9uQ2hhbmdlUmVjb3JkID0gQ29sbGVjdGlvbkNoYW5nZVJlY29yZDtcbi8vIEEgbGlua2VkIGxpc3Qgb2YgQ29sbGVjdGlvbkNoYW5nZVJlY29yZHMgd2l0aCB0aGUgc2FtZSBDb2xsZWN0aW9uQ2hhbmdlUmVjb3JkLml0ZW1cbnZhciBfRHVwbGljYXRlSXRlbVJlY29yZExpc3QgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIF9EdXBsaWNhdGVJdGVtUmVjb3JkTGlzdCgpIHtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9oZWFkID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl90YWlsID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwZW5kIHRoZSByZWNvcmQgdG8gdGhlIGxpc3Qgb2YgZHVwbGljYXRlcy5cbiAgICAgKlxuICAgICAqIE5vdGU6IGJ5IGRlc2lnbiBhbGwgcmVjb3JkcyBpbiB0aGUgbGlzdCBvZiBkdXBsaWNhdGVzIGhvbGQgdGhlIHNhbWUgdmFsdWUgaW4gcmVjb3JkLml0ZW0uXG4gICAgICovXG4gICAgX0R1cGxpY2F0ZUl0ZW1SZWNvcmRMaXN0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgIGlmICh0aGlzLl9oZWFkID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IHJlY29yZDtcbiAgICAgICAgICAgIHJlY29yZC5fbmV4dER1cCA9IG51bGw7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXZEdXAgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdG9kbyh2aWNiKVxuICAgICAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5pdGVtID09ICBfaGVhZC5pdGVtIHx8XG4gICAgICAgICAgICAvLyAgICAgICByZWNvcmQuaXRlbSBpcyBudW0gJiYgcmVjb3JkLml0ZW0uaXNOYU4gJiYgX2hlYWQuaXRlbSBpcyBudW0gJiYgX2hlYWQuaXRlbS5pc05hTik7XG4gICAgICAgICAgICB0aGlzLl90YWlsLl9uZXh0RHVwID0gcmVjb3JkO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2RHVwID0gdGhpcy5fdGFpbDtcbiAgICAgICAgICAgIHJlY29yZC5fbmV4dER1cCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl90YWlsID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBSZXR1cm5zIGEgQ29sbGVjdGlvbkNoYW5nZVJlY29yZCBoYXZpbmcgQ29sbGVjdGlvbkNoYW5nZVJlY29yZC50cmFja0J5SWQgPT0gdHJhY2tCeUlkIGFuZFxuICAgIC8vIENvbGxlY3Rpb25DaGFuZ2VSZWNvcmQuY3VycmVudEluZGV4ID49IGFmdGVySW5kZXhcbiAgICBfRHVwbGljYXRlSXRlbVJlY29yZExpc3QucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh0cmFja0J5SWQsIGFmdGVySW5kZXgpIHtcbiAgICAgICAgdmFyIHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9oZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dER1cCkge1xuICAgICAgICAgICAgaWYgKChhZnRlckluZGV4ID09PSBudWxsIHx8IGFmdGVySW5kZXggPCByZWNvcmQuY3VycmVudEluZGV4KSAmJlxuICAgICAgICAgICAgICAgIGxhbmdfMS5sb29zZUlkZW50aWNhbChyZWNvcmQudHJhY2tCeUlkLCB0cmFja0J5SWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBvbmUge0BsaW5rIENvbGxlY3Rpb25DaGFuZ2VSZWNvcmR9IGZyb20gdGhlIGxpc3Qgb2YgZHVwbGljYXRlcy5cbiAgICAgKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgbGlzdCBvZiBkdXBsaWNhdGVzIGlzIGVtcHR5LlxuICAgICAqL1xuICAgIF9EdXBsaWNhdGVJdGVtUmVjb3JkTGlzdC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgICAvLyB0b2RvKHZpY2IpXG4gICAgICAgIC8vIGFzc2VydCgoKSB7XG4gICAgICAgIC8vICAvLyB2ZXJpZnkgdGhhdCB0aGUgcmVjb3JkIGJlaW5nIHJlbW92ZWQgaXMgaW4gdGhlIGxpc3QuXG4gICAgICAgIC8vICBmb3IgKENvbGxlY3Rpb25DaGFuZ2VSZWNvcmQgY3Vyc29yID0gX2hlYWQ7IGN1cnNvciAhPSBudWxsOyBjdXJzb3IgPSBjdXJzb3IuX25leHREdXApIHtcbiAgICAgICAgLy8gICAgaWYgKGlkZW50aWNhbChjdXJzb3IsIHJlY29yZCkpIHJldHVybiB0cnVlO1xuICAgICAgICAvLyAgfVxuICAgICAgICAvLyAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvL30pO1xuICAgICAgICB2YXIgcHJldiA9IHJlY29yZC5fcHJldkR1cDtcbiAgICAgICAgdmFyIG5leHQgPSByZWNvcmQuX25leHREdXA7XG4gICAgICAgIGlmIChwcmV2ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9oZWFkID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByZXYuX25leHREdXAgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl90YWlsID0gcHJldjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5leHQuX3ByZXZEdXAgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWFkID09PSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIF9EdXBsaWNhdGVJdGVtUmVjb3JkTGlzdDtcbn0oKSk7XG52YXIgX0R1cGxpY2F0ZU1hcCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gX0R1cGxpY2F0ZU1hcCgpIHtcbiAgICAgICAgdGhpcy5tYXAgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIF9EdXBsaWNhdGVNYXAucHJvdG90eXBlLnB1dCA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgLy8gdG9kbyh2aWNiKSBoYW5kbGUgY29ybmVyIGNhc2VzXG4gICAgICAgIHZhciBrZXkgPSBsYW5nXzEuZ2V0TWFwS2V5KHJlY29yZC50cmFja0J5SWQpO1xuICAgICAgICB2YXIgZHVwbGljYXRlcyA9IHRoaXMubWFwLmdldChrZXkpO1xuICAgICAgICBpZiAoIWxhbmdfMS5pc1ByZXNlbnQoZHVwbGljYXRlcykpIHtcbiAgICAgICAgICAgIGR1cGxpY2F0ZXMgPSBuZXcgX0R1cGxpY2F0ZUl0ZW1SZWNvcmRMaXN0KCk7XG4gICAgICAgICAgICB0aGlzLm1hcC5zZXQoa2V5LCBkdXBsaWNhdGVzKTtcbiAgICAgICAgfVxuICAgICAgICBkdXBsaWNhdGVzLmFkZChyZWNvcmQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgdGhlIGB2YWx1ZWAgdXNpbmcga2V5LiBCZWNhdXNlIHRoZSBDb2xsZWN0aW9uQ2hhbmdlUmVjb3JkIHZhbHVlIG1heSBiZSBvbmUgd2hpY2ggd2VcbiAgICAgKiBoYXZlIGFscmVhZHkgaXRlcmF0ZWQgb3Zlciwgd2UgdXNlIHRoZSBhZnRlckluZGV4IHRvIHByZXRlbmQgaXQgaXMgbm90IHRoZXJlLlxuICAgICAqXG4gICAgICogVXNlIGNhc2U6IGBbYSwgYiwgYywgYSwgYV1gIGlmIHdlIGFyZSBhdCBpbmRleCBgM2Agd2hpY2ggaXMgdGhlIHNlY29uZCBgYWAgdGhlbiBhc2tpbmcgaWYgd2VcbiAgICAgKiBoYXZlIGFueSBtb3JlIGBhYHMgbmVlZHMgdG8gcmV0dXJuIHRoZSBsYXN0IGBhYCBub3QgdGhlIGZpcnN0IG9yIHNlY29uZC5cbiAgICAgKi9cbiAgICBfRHVwbGljYXRlTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodHJhY2tCeUlkLCBhZnRlckluZGV4KSB7XG4gICAgICAgIGlmIChhZnRlckluZGV4ID09PSB2b2lkIDApIHsgYWZ0ZXJJbmRleCA9IG51bGw7IH1cbiAgICAgICAgdmFyIGtleSA9IGxhbmdfMS5nZXRNYXBLZXkodHJhY2tCeUlkKTtcbiAgICAgICAgdmFyIHJlY29yZExpc3QgPSB0aGlzLm1hcC5nZXQoa2V5KTtcbiAgICAgICAgcmV0dXJuIGxhbmdfMS5pc0JsYW5rKHJlY29yZExpc3QpID8gbnVsbCA6IHJlY29yZExpc3QuZ2V0KHRyYWNrQnlJZCwgYWZ0ZXJJbmRleCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEge0BsaW5rIENvbGxlY3Rpb25DaGFuZ2VSZWNvcmR9IGZyb20gdGhlIGxpc3Qgb2YgZHVwbGljYXRlcy5cbiAgICAgKlxuICAgICAqIFRoZSBsaXN0IG9mIGR1cGxpY2F0ZXMgYWxzbyBpcyByZW1vdmVkIGZyb20gdGhlIG1hcCBpZiBpdCBnZXRzIGVtcHR5LlxuICAgICAqL1xuICAgIF9EdXBsaWNhdGVNYXAucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgdmFyIGtleSA9IGxhbmdfMS5nZXRNYXBLZXkocmVjb3JkLnRyYWNrQnlJZCk7XG4gICAgICAgIC8vIHRvZG8odmljYilcbiAgICAgICAgLy8gYXNzZXJ0KHRoaXMubWFwLmNvbnRhaW5zS2V5KGtleSkpO1xuICAgICAgICB2YXIgcmVjb3JkTGlzdCA9IHRoaXMubWFwLmdldChrZXkpO1xuICAgICAgICAvLyBSZW1vdmUgdGhlIGxpc3Qgb2YgZHVwbGljYXRlcyB3aGVuIGl0IGdldHMgZW1wdHlcbiAgICAgICAgaWYgKHJlY29yZExpc3QucmVtb3ZlKHJlY29yZCkpIHtcbiAgICAgICAgICAgIHRoaXMubWFwLmRlbGV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX0R1cGxpY2F0ZU1hcC5wcm90b3R5cGUsIFwiaXNFbXB0eVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tYXAuc2l6ZSA9PT0gMDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgX0R1cGxpY2F0ZU1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7IHRoaXMubWFwLmNsZWFyKCk7IH07XG4gICAgX0R1cGxpY2F0ZU1hcC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnX0R1cGxpY2F0ZU1hcCgnICsgbGFuZ18xLnN0cmluZ2lmeSh0aGlzLm1hcCkgKyAnKSc7IH07XG4gICAgcmV0dXJuIF9EdXBsaWNhdGVNYXA7XG59KCkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdF9pdGVyYWJsZV9kaWZmZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9jb2xsZWN0aW9uJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG4vKiBAdHMyZGFydF9jb25zdCAqL1xudmFyIERlZmF1bHRLZXlWYWx1ZURpZmZlckZhY3RvcnkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlZmF1bHRLZXlWYWx1ZURpZmZlckZhY3RvcnkoKSB7XG4gICAgfVxuICAgIERlZmF1bHRLZXlWYWx1ZURpZmZlckZhY3RvcnkucHJvdG90eXBlLnN1cHBvcnRzID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqIGluc3RhbmNlb2YgTWFwIHx8IGxhbmdfMS5pc0pzT2JqZWN0KG9iaik7IH07XG4gICAgRGVmYXVsdEtleVZhbHVlRGlmZmVyRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKGNkUmVmKSB7IHJldHVybiBuZXcgRGVmYXVsdEtleVZhbHVlRGlmZmVyKCk7IH07XG4gICAgcmV0dXJuIERlZmF1bHRLZXlWYWx1ZURpZmZlckZhY3Rvcnk7XG59KCkpO1xuZXhwb3J0cy5EZWZhdWx0S2V5VmFsdWVEaWZmZXJGYWN0b3J5ID0gRGVmYXVsdEtleVZhbHVlRGlmZmVyRmFjdG9yeTtcbnZhciBEZWZhdWx0S2V5VmFsdWVEaWZmZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlZmF1bHRLZXlWYWx1ZURpZmZlcigpIHtcbiAgICAgICAgdGhpcy5fcmVjb3JkcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fbWFwSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzTWFwSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NoYW5nZXNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY2hhbmdlc1RhaWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9hZGRpdGlvbnNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbW92YWxzVGFpbCA9IG51bGw7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLCBcImlzRGlydHlcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRpdGlvbnNIZWFkICE9PSBudWxsIHx8IHRoaXMuX2NoYW5nZXNIZWFkICE9PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNIZWFkICE9PSBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLmZvckVhY2hJdGVtID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHZhciByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fbWFwSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlZmF1bHRLZXlWYWx1ZURpZmZlci5wcm90b3R5cGUuZm9yRWFjaFByZXZpb3VzSXRlbSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB2YXIgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3ByZXZpb3VzTWFwSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRQcmV2aW91cykge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVmYXVsdEtleVZhbHVlRGlmZmVyLnByb3RvdHlwZS5mb3JFYWNoQ2hhbmdlZEl0ZW0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyIHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9jaGFuZ2VzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRDaGFuZ2VkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLmZvckVhY2hBZGRlZEl0ZW0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyIHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9hZGRpdGlvbnNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dEFkZGVkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLmZvckVhY2hSZW1vdmVkSXRlbSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB2YXIgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3JlbW92YWxzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRSZW1vdmVkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLmRpZmYgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhtYXApKVxuICAgICAgICAgICAgbWFwID0gY29sbGVjdGlvbl8xLk1hcFdyYXBwZXIuY3JlYXRlRnJvbVBhaXJzKFtdKTtcbiAgICAgICAgaWYgKCEobWFwIGluc3RhbmNlb2YgTWFwIHx8IGxhbmdfMS5pc0pzT2JqZWN0KG1hcCkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJFcnJvciB0cnlpbmcgdG8gZGlmZiAnXCIgKyBtYXAgKyBcIidcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hlY2sobWFwKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVmYXVsdEtleVZhbHVlRGlmZmVyLnByb3RvdHlwZS5vbkRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgRGVmYXVsdEtleVZhbHVlRGlmZmVyLnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICAgICAgdmFyIHJlY29yZHMgPSB0aGlzLl9yZWNvcmRzO1xuICAgICAgICB2YXIgb2xkU2VxUmVjb3JkID0gdGhpcy5fbWFwSGVhZDtcbiAgICAgICAgdmFyIGxhc3RPbGRTZXFSZWNvcmQgPSBudWxsO1xuICAgICAgICB2YXIgbGFzdE5ld1NlcVJlY29yZCA9IG51bGw7XG4gICAgICAgIHZhciBzZXFDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2ZvckVhY2gobWFwLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgICAgdmFyIG5ld1NlcVJlY29yZDtcbiAgICAgICAgICAgIGlmIChvbGRTZXFSZWNvcmQgIT09IG51bGwgJiYga2V5ID09PSBvbGRTZXFSZWNvcmQua2V5KSB7XG4gICAgICAgICAgICAgICAgbmV3U2VxUmVjb3JkID0gb2xkU2VxUmVjb3JkO1xuICAgICAgICAgICAgICAgIGlmICghbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHZhbHVlLCBvbGRTZXFSZWNvcmQuY3VycmVudFZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBvbGRTZXFSZWNvcmQucHJldmlvdXNWYWx1ZSA9IG9sZFNlcVJlY29yZC5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIG9sZFNlcVJlY29yZC5jdXJyZW50VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2FkZFRvQ2hhbmdlcyhvbGRTZXFSZWNvcmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlcUNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChvbGRTZXFSZWNvcmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgb2xkU2VxUmVjb3JkLl9uZXh0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3JlbW92ZUZyb21TZXEobGFzdE9sZFNlcVJlY29yZCwgb2xkU2VxUmVjb3JkKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2FkZFRvUmVtb3ZhbHMob2xkU2VxUmVjb3JkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZHMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3U2VxUmVjb3JkID0gcmVjb3Jkcy5nZXQoa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1NlcVJlY29yZCA9IG5ldyBLZXlWYWx1ZUNoYW5nZVJlY29yZChrZXkpO1xuICAgICAgICAgICAgICAgICAgICByZWNvcmRzLnNldChrZXksIG5ld1NlcVJlY29yZCk7XG4gICAgICAgICAgICAgICAgICAgIG5ld1NlcVJlY29yZC5jdXJyZW50VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2FkZFRvQWRkaXRpb25zKG5ld1NlcVJlY29yZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlcUNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2lzSW5SZW1vdmFscyhuZXdTZXFSZWNvcmQpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9yZW1vdmVGcm9tUmVtb3ZhbHMobmV3U2VxUmVjb3JkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGxhc3ROZXdTZXFSZWNvcmQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fbWFwSGVhZCA9IG5ld1NlcVJlY29yZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3ROZXdTZXFSZWNvcmQuX25leHQgPSBuZXdTZXFSZWNvcmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdE9sZFNlcVJlY29yZCA9IG9sZFNlcVJlY29yZDtcbiAgICAgICAgICAgIGxhc3ROZXdTZXFSZWNvcmQgPSBuZXdTZXFSZWNvcmQ7XG4gICAgICAgICAgICBvbGRTZXFSZWNvcmQgPSBvbGRTZXFSZWNvcmQgPT09IG51bGwgPyBudWxsIDogb2xkU2VxUmVjb3JkLl9uZXh0O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fdHJ1bmNhdGUobGFzdE9sZFNlcVJlY29yZCwgb2xkU2VxUmVjb3JkKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNEaXJ0eTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLl9yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXJ0eSkge1xuICAgICAgICAgICAgdmFyIHJlY29yZDtcbiAgICAgICAgICAgIC8vIFJlY29yZCB0aGUgc3RhdGUgb2YgdGhlIG1hcHBpbmdcbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fcHJldmlvdXNNYXBIZWFkID0gdGhpcy5fbWFwSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQuX25leHRQcmV2aW91cyA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fY2hhbmdlc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0Q2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHJlY29yZC5wcmV2aW91c1ZhbHVlID0gcmVjb3JkLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fYWRkaXRpb25zSGVhZDsgcmVjb3JkICE9IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dEFkZGVkKSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLnByZXZpb3VzVmFsdWUgPSByZWNvcmQuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdG9kbyh2aWNiKSBvbmNlIGFzc2VydCBpcyBzdXBwb3J0ZWRcbiAgICAgICAgICAgIC8vIGFzc2VydCgoKSB7XG4gICAgICAgICAgICAvLyAgdmFyIHIgPSBfY2hhbmdlc0hlYWQ7XG4gICAgICAgICAgICAvLyAgd2hpbGUgKHIgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gICAgdmFyIG5leHRSZWNvcmQgPSByLl9uZXh0Q2hhbmdlZDtcbiAgICAgICAgICAgIC8vICAgIHIuX25leHRDaGFuZ2VkID0gbnVsbDtcbiAgICAgICAgICAgIC8vICAgIHIgPSBuZXh0UmVjb3JkO1xuICAgICAgICAgICAgLy8gIH1cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgciA9IF9hZGRpdGlvbnNIZWFkO1xuICAgICAgICAgICAgLy8gIHdoaWxlIChyICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vICAgIHZhciBuZXh0UmVjb3JkID0gci5fbmV4dEFkZGVkO1xuICAgICAgICAgICAgLy8gICAgci5fbmV4dEFkZGVkID0gbnVsbDtcbiAgICAgICAgICAgIC8vICAgIHIgPSBuZXh0UmVjb3JkO1xuICAgICAgICAgICAgLy8gIH1cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgciA9IF9yZW1vdmFsc0hlYWQ7XG4gICAgICAgICAgICAvLyAgd2hpbGUgKHIgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gICAgdmFyIG5leHRSZWNvcmQgPSByLl9uZXh0UmVtb3ZlZDtcbiAgICAgICAgICAgIC8vICAgIHIuX25leHRSZW1vdmVkID0gbnVsbDtcbiAgICAgICAgICAgIC8vICAgIHIgPSBuZXh0UmVjb3JkO1xuICAgICAgICAgICAgLy8gIH1cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAvL30pO1xuICAgICAgICAgICAgdGhpcy5fY2hhbmdlc0hlYWQgPSB0aGlzLl9jaGFuZ2VzVGFpbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbnNIZWFkID0gdGhpcy5fYWRkaXRpb25zVGFpbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgPSB0aGlzLl9yZW1vdmFsc1RhaWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRGVmYXVsdEtleVZhbHVlRGlmZmVyLnByb3RvdHlwZS5fdHJ1bmNhdGUgPSBmdW5jdGlvbiAobGFzdFJlY29yZCwgcmVjb3JkKSB7XG4gICAgICAgIHdoaWxlIChyZWNvcmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChsYXN0UmVjb3JkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwSGVhZCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsYXN0UmVjb3JkLl9uZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBuZXh0UmVjb3JkID0gcmVjb3JkLl9uZXh0O1xuICAgICAgICAgICAgLy8gdG9kbyh2aWNiKSBhc3NlcnRcbiAgICAgICAgICAgIC8vIGFzc2VydCgoKCkge1xuICAgICAgICAgICAgLy8gIHJlY29yZC5fbmV4dCA9IG51bGw7XG4gICAgICAgICAgICAvLyAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAvL30pKTtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRvUmVtb3ZhbHMocmVjb3JkKTtcbiAgICAgICAgICAgIGxhc3RSZWNvcmQgPSByZWNvcmQ7XG4gICAgICAgICAgICByZWNvcmQgPSBuZXh0UmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIHJlYyA9IHRoaXMuX3JlbW92YWxzSGVhZDsgcmVjICE9PSBudWxsOyByZWMgPSByZWMuX25leHRSZW1vdmVkKSB7XG4gICAgICAgICAgICByZWMucHJldmlvdXNWYWx1ZSA9IHJlYy5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgICByZWMuY3VycmVudFZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3JlY29yZHMuZGVsZXRlKHJlYy5rZXkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRGVmYXVsdEtleVZhbHVlRGlmZmVyLnByb3RvdHlwZS5faXNJblJlbW92YWxzID0gZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgICByZXR1cm4gcmVjb3JkID09PSB0aGlzLl9yZW1vdmFsc0hlYWQgfHwgcmVjb3JkLl9uZXh0UmVtb3ZlZCAhPT0gbnVsbCB8fFxuICAgICAgICAgICAgcmVjb3JkLl9wcmV2UmVtb3ZlZCAhPT0gbnVsbDtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLl9hZGRUb1JlbW92YWxzID0gZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgICAvLyB0b2RvKHZpY2IpIGFzc2VydFxuICAgICAgICAvLyBhc3NlcnQocmVjb3JkLl9uZXh0ID09IG51bGwpO1xuICAgICAgICAvLyBhc3NlcnQocmVjb3JkLl9uZXh0QWRkZWQgPT0gbnVsbCk7XG4gICAgICAgIC8vIGFzc2VydChyZWNvcmQuX25leHRDaGFuZ2VkID09IG51bGwpO1xuICAgICAgICAvLyBhc3NlcnQocmVjb3JkLl9uZXh0UmVtb3ZlZCA9PSBudWxsKTtcbiAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fcHJldlJlbW92ZWQgPT0gbnVsbCk7XG4gICAgICAgIGlmICh0aGlzLl9yZW1vdmFsc0hlYWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCA9IHRoaXMuX3JlbW92YWxzVGFpbCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzVGFpbC5fbmV4dFJlbW92ZWQgPSByZWNvcmQ7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXZSZW1vdmVkID0gdGhpcy5fcmVtb3ZhbHNUYWlsO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNUYWlsID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRGVmYXVsdEtleVZhbHVlRGlmZmVyLnByb3RvdHlwZS5fcmVtb3ZlRnJvbVNlcSA9IGZ1bmN0aW9uIChwcmV2LCByZWNvcmQpIHtcbiAgICAgICAgdmFyIG5leHQgPSByZWNvcmQuX25leHQ7XG4gICAgICAgIGlmIChwcmV2ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXBIZWFkID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByZXYuX25leHQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIC8vIHRvZG8odmljYikgYXNzZXJ0XG4gICAgICAgIC8vIGFzc2VydCgoKCkge1xuICAgICAgICAvLyAgcmVjb3JkLl9uZXh0ID0gbnVsbDtcbiAgICAgICAgLy8gIHJldHVybiB0cnVlO1xuICAgICAgICAvL30pKCkpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIERlZmF1bHRLZXlWYWx1ZURpZmZlci5wcm90b3R5cGUuX3JlbW92ZUZyb21SZW1vdmFscyA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgLy8gdG9kbyh2aWNiKSBhc3NlcnRcbiAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fbmV4dCA9PSBudWxsKTtcbiAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fbmV4dEFkZGVkID09IG51bGwpO1xuICAgICAgICAvLyBhc3NlcnQocmVjb3JkLl9uZXh0Q2hhbmdlZCA9PSBudWxsKTtcbiAgICAgICAgdmFyIHByZXYgPSByZWNvcmQuX3ByZXZSZW1vdmVkO1xuICAgICAgICB2YXIgbmV4dCA9IHJlY29yZC5fbmV4dFJlbW92ZWQ7XG4gICAgICAgIGlmIChwcmV2ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJldi5fbmV4dFJlbW92ZWQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc1RhaWwgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV4dC5fcHJldlJlbW92ZWQgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIHJlY29yZC5fcHJldlJlbW92ZWQgPSByZWNvcmQuX25leHRSZW1vdmVkID0gbnVsbDtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLl9hZGRUb0FkZGl0aW9ucyA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgLy8gdG9kbyh2aWNiKTogYXNzZXJ0XG4gICAgICAgIC8vIGFzc2VydChyZWNvcmQuX25leHQgPT0gbnVsbCk7XG4gICAgICAgIC8vIGFzc2VydChyZWNvcmQuX25leHRBZGRlZCA9PSBudWxsKTtcbiAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fbmV4dENoYW5nZWQgPT0gbnVsbCk7XG4gICAgICAgIC8vIGFzc2VydChyZWNvcmQuX25leHRSZW1vdmVkID09IG51bGwpO1xuICAgICAgICAvLyBhc3NlcnQocmVjb3JkLl9wcmV2UmVtb3ZlZCA9PSBudWxsKTtcbiAgICAgICAgaWYgKHRoaXMuX2FkZGl0aW9uc0hlYWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc0hlYWQgPSB0aGlzLl9hZGRpdGlvbnNUYWlsID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkID0gcmVjb3JkO1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIERlZmF1bHRLZXlWYWx1ZURpZmZlci5wcm90b3R5cGUuX2FkZFRvQ2hhbmdlcyA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgLy8gdG9kbyh2aWNiKSBhc3NlcnRcbiAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fbmV4dEFkZGVkID09IG51bGwpO1xuICAgICAgICAvLyBhc3NlcnQocmVjb3JkLl9uZXh0Q2hhbmdlZCA9PSBudWxsKTtcbiAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fbmV4dFJlbW92ZWQgPT0gbnVsbCk7XG4gICAgICAgIC8vIGFzc2VydChyZWNvcmQuX3ByZXZSZW1vdmVkID09IG51bGwpO1xuICAgICAgICBpZiAodGhpcy5fY2hhbmdlc0hlYWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZXNIZWFkID0gdGhpcy5fY2hhbmdlc1RhaWwgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VzVGFpbC5fbmV4dENoYW5nZWQgPSByZWNvcmQ7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VzVGFpbCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVmYXVsdEtleVZhbHVlRGlmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGl0ZW1zID0gW107XG4gICAgICAgIHZhciBwcmV2aW91cyA9IFtdO1xuICAgICAgICB2YXIgY2hhbmdlcyA9IFtdO1xuICAgICAgICB2YXIgYWRkaXRpb25zID0gW107XG4gICAgICAgIHZhciByZW1vdmFscyA9IFtdO1xuICAgICAgICB2YXIgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX21hcEhlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0KSB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKGxhbmdfMS5zdHJpbmdpZnkocmVjb3JkKSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9wcmV2aW91c01hcEhlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0UHJldmlvdXMpIHtcbiAgICAgICAgICAgIHByZXZpb3VzLnB1c2gobGFuZ18xLnN0cmluZ2lmeShyZWNvcmQpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2NoYW5nZXNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dENoYW5nZWQpIHtcbiAgICAgICAgICAgIGNoYW5nZXMucHVzaChsYW5nXzEuc3RyaW5naWZ5KHJlY29yZCkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fYWRkaXRpb25zSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRBZGRlZCkge1xuICAgICAgICAgICAgYWRkaXRpb25zLnB1c2gobGFuZ18xLnN0cmluZ2lmeShyZWNvcmQpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3JlbW92YWxzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRSZW1vdmVkKSB7XG4gICAgICAgICAgICByZW1vdmFscy5wdXNoKGxhbmdfMS5zdHJpbmdpZnkocmVjb3JkKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwibWFwOiBcIiArIGl0ZW1zLmpvaW4oJywgJykgKyBcIlxcblwiICsgXCJwcmV2aW91czogXCIgKyBwcmV2aW91cy5qb2luKCcsICcpICsgXCJcXG5cIiArXG4gICAgICAgICAgICBcImFkZGl0aW9uczogXCIgKyBhZGRpdGlvbnMuam9pbignLCAnKSArIFwiXFxuXCIgKyBcImNoYW5nZXM6IFwiICsgY2hhbmdlcy5qb2luKCcsICcpICsgXCJcXG5cIiArXG4gICAgICAgICAgICBcInJlbW92YWxzOiBcIiArIHJlbW92YWxzLmpvaW4oJywgJykgKyBcIlxcblwiO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIERlZmF1bHRLZXlWYWx1ZURpZmZlci5wcm90b3R5cGUuX2ZvckVhY2ggPSBmdW5jdGlvbiAob2JqLCBmbikge1xuICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICBvYmouZm9yRWFjaChmbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb2xsZWN0aW9uXzEuU3RyaW5nTWFwV3JhcHBlci5mb3JFYWNoKG9iaiwgZm4pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRGVmYXVsdEtleVZhbHVlRGlmZmVyO1xufSgpKTtcbmV4cG9ydHMuRGVmYXVsdEtleVZhbHVlRGlmZmVyID0gRGVmYXVsdEtleVZhbHVlRGlmZmVyO1xudmFyIEtleVZhbHVlQ2hhbmdlUmVjb3JkID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBLZXlWYWx1ZUNoYW5nZVJlY29yZChrZXkpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMucHJldmlvdXNWYWx1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0UHJldmlvdXMgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHRBZGRlZCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dFJlbW92ZWQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX3ByZXZSZW1vdmVkID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0Q2hhbmdlZCA9IG51bGw7XG4gICAgfVxuICAgIEtleVZhbHVlQ2hhbmdlUmVjb3JkLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGxhbmdfMS5sb29zZUlkZW50aWNhbCh0aGlzLnByZXZpb3VzVmFsdWUsIHRoaXMuY3VycmVudFZhbHVlKSA/XG4gICAgICAgICAgICBsYW5nXzEuc3RyaW5naWZ5KHRoaXMua2V5KSA6XG4gICAgICAgICAgICAobGFuZ18xLnN0cmluZ2lmeSh0aGlzLmtleSkgKyAnWycgKyBsYW5nXzEuc3RyaW5naWZ5KHRoaXMucHJldmlvdXNWYWx1ZSkgKyAnLT4nICtcbiAgICAgICAgICAgICAgICBsYW5nXzEuc3RyaW5naWZ5KHRoaXMuY3VycmVudFZhbHVlKSArICddJyk7XG4gICAgfTtcbiAgICByZXR1cm4gS2V5VmFsdWVDaGFuZ2VSZWNvcmQ7XG59KCkpO1xuZXhwb3J0cy5LZXlWYWx1ZUNoYW5nZVJlY29yZCA9IEtleVZhbHVlQ2hhbmdlUmVjb3JkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdF9rZXl2YWx1ZV9kaWZmZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9jb2xsZWN0aW9uJyk7XG52YXIgZGlfMSA9IHJlcXVpcmUoJy4uLy4uL2RpJyk7XG4vKipcbiAqIEEgcmVwb3NpdG9yeSBvZiBkaWZmZXJlbnQgaXRlcmFibGUgZGlmZmluZyBzdHJhdGVnaWVzIHVzZWQgYnkgTmdGb3IsIE5nQ2xhc3MsIGFuZCBvdGhlcnMuXG4gKiBAdHMyZGFydF9jb25zdFxuICovXG52YXIgSXRlcmFibGVEaWZmZXJzID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKkB0czJkYXJ0X2NvbnN0Ki9cbiAgICBmdW5jdGlvbiBJdGVyYWJsZURpZmZlcnMoZmFjdG9yaWVzKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yaWVzID0gZmFjdG9yaWVzO1xuICAgIH1cbiAgICBJdGVyYWJsZURpZmZlcnMuY3JlYXRlID0gZnVuY3Rpb24gKGZhY3RvcmllcywgcGFyZW50KSB7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHBhcmVudCkpIHtcbiAgICAgICAgICAgIHZhciBjb3BpZWQgPSBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuY2xvbmUocGFyZW50LmZhY3Rvcmllcyk7XG4gICAgICAgICAgICBmYWN0b3JpZXMgPSBmYWN0b3JpZXMuY29uY2F0KGNvcGllZCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEl0ZXJhYmxlRGlmZmVycyhmYWN0b3JpZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBJdGVyYWJsZURpZmZlcnMoZmFjdG9yaWVzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGFrZXMgYW4gYXJyYXkgb2Yge0BsaW5rIEl0ZXJhYmxlRGlmZmVyRmFjdG9yeX0gYW5kIHJldHVybnMgYSBwcm92aWRlciB1c2VkIHRvIGV4dGVuZCB0aGVcbiAgICAgKiBpbmhlcml0ZWQge0BsaW5rIEl0ZXJhYmxlRGlmZmVyc30gaW5zdGFuY2Ugd2l0aCB0aGUgcHJvdmlkZWQgZmFjdG9yaWVzIGFuZCByZXR1cm4gYSBuZXdcbiAgICAgKiB7QGxpbmsgSXRlcmFibGVEaWZmZXJzfSBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gZXh0ZW5kIGFuIGV4aXN0aW5nIGxpc3Qgb2YgZmFjdG9yaWVzLFxuICAgICAgICAgICAqIHdoaWNoIHdpbGwgb25seSBiZSBhcHBsaWVkIHRvIHRoZSBpbmplY3RvciBmb3IgdGhpcyBjb21wb25lbnQgYW5kIGl0cyBjaGlsZHJlbi5cbiAgICAgICAgICAgKiBUaGlzIHN0ZXAgaXMgYWxsIHRoYXQncyByZXF1aXJlZCB0byBtYWtlIGEgbmV3IHtAbGluayBJdGVyYWJsZURpZmZlcn0gYXZhaWxhYmxlLlxuICAgICAqXG4gICAgICogIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIEBDb21wb25lbnQoe1xuICAgICAqICAgdmlld1Byb3ZpZGVyczogW1xuICAgICAqICAgICBJdGVyYWJsZURpZmZlcnMuZXh0ZW5kKFtuZXcgSW1tdXRhYmxlTGlzdERpZmZlcigpXSlcbiAgICAgKiAgIF1cbiAgICAgKiB9KVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEl0ZXJhYmxlRGlmZmVycy5leHRlbmQgPSBmdW5jdGlvbiAoZmFjdG9yaWVzKSB7XG4gICAgICAgIHJldHVybiBuZXcgZGlfMS5Qcm92aWRlcihJdGVyYWJsZURpZmZlcnMsIHtcbiAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsocGFyZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUeXBpY2FsbHkgd291bGQgb2NjdXIgd2hlbiBjYWxsaW5nIEl0ZXJhYmxlRGlmZmVycy5leHRlbmQgaW5zaWRlIG9mIGRlcGVuZGVuY2llcyBwYXNzZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gYm9vdHN0cmFwKCksIHdoaWNoIHdvdWxkIG92ZXJyaWRlIGRlZmF1bHQgcGlwZXMgaW5zdGVhZCBvZiBleHRlbmRpbmcgdGhlbS5cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKCdDYW5ub3QgZXh0ZW5kIEl0ZXJhYmxlRGlmZmVycyB3aXRob3V0IGEgcGFyZW50IGluamVjdG9yJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBJdGVyYWJsZURpZmZlcnMuY3JlYXRlKGZhY3RvcmllcywgcGFyZW50KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBEZXBlbmRlbmN5IHRlY2huaWNhbGx5IGlzbid0IG9wdGlvbmFsLCBidXQgd2UgY2FuIHByb3ZpZGUgYSBiZXR0ZXIgZXJyb3IgbWVzc2FnZSB0aGlzIHdheS5cbiAgICAgICAgICAgIGRlcHM6IFtbSXRlcmFibGVEaWZmZXJzLCBuZXcgZGlfMS5Ta2lwU2VsZk1ldGFkYXRhKCksIG5ldyBkaV8xLk9wdGlvbmFsTWV0YWRhdGEoKV1dXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSXRlcmFibGVEaWZmZXJzLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gICAgICAgIHZhciBmYWN0b3J5ID0gdGhpcy5mYWN0b3JpZXMuZmluZChmdW5jdGlvbiAoZikgeyByZXR1cm4gZi5zdXBwb3J0cyhpdGVyYWJsZSk7IH0pO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChmYWN0b3J5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJDYW5ub3QgZmluZCBhIGRpZmZlciBzdXBwb3J0aW5nIG9iamVjdCAnXCIgKyBpdGVyYWJsZSArIFwiJyBvZiB0eXBlICdcIiArIGxhbmdfMS5nZXRUeXBlTmFtZUZvckRlYnVnZ2luZyhpdGVyYWJsZSkgKyBcIidcIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBJdGVyYWJsZURpZmZlcnM7XG59KCkpO1xuZXhwb3J0cy5JdGVyYWJsZURpZmZlcnMgPSBJdGVyYWJsZURpZmZlcnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pdGVyYWJsZV9kaWZmZXJzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9mYWNhZGUvZXhjZXB0aW9ucycpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIGRpXzEgPSByZXF1aXJlKCcuLi8uLi9kaScpO1xuLyoqXG4gKiBBIHJlcG9zaXRvcnkgb2YgZGlmZmVyZW50IE1hcCBkaWZmaW5nIHN0cmF0ZWdpZXMgdXNlZCBieSBOZ0NsYXNzLCBOZ1N0eWxlLCBhbmQgb3RoZXJzLlxuICogQHRzMmRhcnRfY29uc3RcbiAqL1xudmFyIEtleVZhbHVlRGlmZmVycyA9IChmdW5jdGlvbiAoKSB7XG4gICAgLypAdHMyZGFydF9jb25zdCovXG4gICAgZnVuY3Rpb24gS2V5VmFsdWVEaWZmZXJzKGZhY3Rvcmllcykge1xuICAgICAgICB0aGlzLmZhY3RvcmllcyA9IGZhY3RvcmllcztcbiAgICB9XG4gICAgS2V5VmFsdWVEaWZmZXJzLmNyZWF0ZSA9IGZ1bmN0aW9uIChmYWN0b3JpZXMsIHBhcmVudCkge1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChwYXJlbnQpKSB7XG4gICAgICAgICAgICB2YXIgY29waWVkID0gY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmNsb25lKHBhcmVudC5mYWN0b3JpZXMpO1xuICAgICAgICAgICAgZmFjdG9yaWVzID0gZmFjdG9yaWVzLmNvbmNhdChjb3BpZWQpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBLZXlWYWx1ZURpZmZlcnMoZmFjdG9yaWVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgS2V5VmFsdWVEaWZmZXJzKGZhY3Rvcmllcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRha2VzIGFuIGFycmF5IG9mIHtAbGluayBLZXlWYWx1ZURpZmZlckZhY3Rvcnl9IGFuZCByZXR1cm5zIGEgcHJvdmlkZXIgdXNlZCB0byBleHRlbmQgdGhlXG4gICAgICogaW5oZXJpdGVkIHtAbGluayBLZXlWYWx1ZURpZmZlcnN9IGluc3RhbmNlIHdpdGggdGhlIHByb3ZpZGVkIGZhY3RvcmllcyBhbmQgcmV0dXJuIGEgbmV3XG4gICAgICoge0BsaW5rIEtleVZhbHVlRGlmZmVyc30gaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIGV4dGVuZCBhbiBleGlzdGluZyBsaXN0IG9mIGZhY3RvcmllcyxcbiAgICAgICAgICAgKiB3aGljaCB3aWxsIG9ubHkgYmUgYXBwbGllZCB0byB0aGUgaW5qZWN0b3IgZm9yIHRoaXMgY29tcG9uZW50IGFuZCBpdHMgY2hpbGRyZW4uXG4gICAgICAgICAgICogVGhpcyBzdGVwIGlzIGFsbCB0aGF0J3MgcmVxdWlyZWQgdG8gbWFrZSBhIG5ldyB7QGxpbmsgS2V5VmFsdWVEaWZmZXJ9IGF2YWlsYWJsZS5cbiAgICAgKlxuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBAQ29tcG9uZW50KHtcbiAgICAgKiAgIHZpZXdQcm92aWRlcnM6IFtcbiAgICAgKiAgICAgS2V5VmFsdWVEaWZmZXJzLmV4dGVuZChbbmV3IEltbXV0YWJsZU1hcERpZmZlcigpXSlcbiAgICAgKiAgIF1cbiAgICAgKiB9KVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEtleVZhbHVlRGlmZmVycy5leHRlbmQgPSBmdW5jdGlvbiAoZmFjdG9yaWVzKSB7XG4gICAgICAgIHJldHVybiBuZXcgZGlfMS5Qcm92aWRlcihLZXlWYWx1ZURpZmZlcnMsIHtcbiAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsocGFyZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUeXBpY2FsbHkgd291bGQgb2NjdXIgd2hlbiBjYWxsaW5nIEtleVZhbHVlRGlmZmVycy5leHRlbmQgaW5zaWRlIG9mIGRlcGVuZGVuY2llcyBwYXNzZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gYm9vdHN0cmFwKCksIHdoaWNoIHdvdWxkIG92ZXJyaWRlIGRlZmF1bHQgcGlwZXMgaW5zdGVhZCBvZiBleHRlbmRpbmcgdGhlbS5cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKCdDYW5ub3QgZXh0ZW5kIEtleVZhbHVlRGlmZmVycyB3aXRob3V0IGEgcGFyZW50IGluamVjdG9yJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBLZXlWYWx1ZURpZmZlcnMuY3JlYXRlKGZhY3RvcmllcywgcGFyZW50KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBEZXBlbmRlbmN5IHRlY2huaWNhbGx5IGlzbid0IG9wdGlvbmFsLCBidXQgd2UgY2FuIHByb3ZpZGUgYSBiZXR0ZXIgZXJyb3IgbWVzc2FnZSB0aGlzIHdheS5cbiAgICAgICAgICAgIGRlcHM6IFtbS2V5VmFsdWVEaWZmZXJzLCBuZXcgZGlfMS5Ta2lwU2VsZk1ldGFkYXRhKCksIG5ldyBkaV8xLk9wdGlvbmFsTWV0YWRhdGEoKV1dXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgS2V5VmFsdWVEaWZmZXJzLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGt2KSB7XG4gICAgICAgIHZhciBmYWN0b3J5ID0gdGhpcy5mYWN0b3JpZXMuZmluZChmdW5jdGlvbiAoZikgeyByZXR1cm4gZi5zdXBwb3J0cyhrdik7IH0pO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChmYWN0b3J5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJDYW5ub3QgZmluZCBhIGRpZmZlciBzdXBwb3J0aW5nIG9iamVjdCAnXCIgKyBrdiArIFwiJ1wiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEtleVZhbHVlRGlmZmVycztcbn0oKSk7XG5leHBvcnRzLktleVZhbHVlRGlmZmVycyA9IEtleVZhbHVlRGlmZmVycztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtleXZhbHVlX2RpZmZlcnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi9mYWNhZGUvbGFuZycpO1xudmFyIGRlY29yYXRvcnNfMSA9IHJlcXVpcmUoJy4vZGkvZGVjb3JhdG9ycycpO1xuLy8gTm90ZTogTmVlZCB0byByZW5hbWUgd2FybiBhcyBpbiBEYXJ0XG4vLyBjbGFzcyBtZW1iZXJzIGFuZCBpbXBvcnRzIGNhbid0IHVzZSB0aGUgc2FtZSBuYW1lLlxudmFyIF93YXJuSW1wbCA9IGxhbmdfMS53YXJuO1xudmFyIENvbnNvbGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnNvbGUoKSB7XG4gICAgfVxuICAgIENvbnNvbGUucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7IGxhbmdfMS5wcmludChtZXNzYWdlKTsgfTtcbiAgICAvLyBOb3RlOiBmb3IgcmVwb3J0aW5nIGVycm9ycyB1c2UgYERPTS5sb2dFcnJvcigpYCBhcyBpdCBpcyBwbGF0Zm9ybSBzcGVjaWZpY1xuICAgIENvbnNvbGUucHJvdG90eXBlLndhcm4gPSBmdW5jdGlvbiAobWVzc2FnZSkgeyBfd2FybkltcGwobWVzc2FnZSk7IH07XG4gICAgQ29uc29sZS5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGRlY29yYXRvcnNfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICByZXR1cm4gQ29uc29sZTtcbn0oKSk7XG5leHBvcnRzLkNvbnNvbGUgPSBDb25zb2xlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc29sZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIEV2ZW50TGlzdGVuZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV2ZW50TGlzdGVuZXIobmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICA7XG4gICAgcmV0dXJuIEV2ZW50TGlzdGVuZXI7XG59KCkpO1xuZXhwb3J0cy5FdmVudExpc3RlbmVyID0gRXZlbnRMaXN0ZW5lcjtcbnZhciBEZWJ1Z05vZGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlYnVnTm9kZShuYXRpdmVOb2RlLCBwYXJlbnQsIF9kZWJ1Z0luZm8pIHtcbiAgICAgICAgdGhpcy5fZGVidWdJbmZvID0gX2RlYnVnSW5mbztcbiAgICAgICAgdGhpcy5uYXRpdmVOb2RlID0gbmF0aXZlTm9kZTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocGFyZW50KSAmJiBwYXJlbnQgaW5zdGFuY2VvZiBEZWJ1Z0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHBhcmVudC5hZGRDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVidWdOb2RlLnByb3RvdHlwZSwgXCJpbmplY3RvclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbGFuZ18xLmlzUHJlc2VudCh0aGlzLl9kZWJ1Z0luZm8pID8gdGhpcy5fZGVidWdJbmZvLmluamVjdG9yIDogbnVsbDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnTm9kZS5wcm90b3R5cGUsIFwiY29tcG9uZW50SW5zdGFuY2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHRoaXMuX2RlYnVnSW5mbykgPyB0aGlzLl9kZWJ1Z0luZm8uY29tcG9uZW50IDogbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnTm9kZS5wcm90b3R5cGUsIFwiY29udGV4dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbGFuZ18xLmlzUHJlc2VudCh0aGlzLl9kZWJ1Z0luZm8pID8gdGhpcy5fZGVidWdJbmZvLmNvbnRleHQgOiBudWxsOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVidWdOb2RlLnByb3RvdHlwZSwgXCJyZWZlcmVuY2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFuZ18xLmlzUHJlc2VudCh0aGlzLl9kZWJ1Z0luZm8pID8gdGhpcy5fZGVidWdJbmZvLnJlZmVyZW5jZXMgOiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVidWdOb2RlLnByb3RvdHlwZSwgXCJwcm92aWRlclRva2Vuc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQodGhpcy5fZGVidWdJbmZvKSA/IHRoaXMuX2RlYnVnSW5mby5wcm92aWRlclRva2VucyA6IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWJ1Z05vZGUucHJvdG90eXBlLCBcInNvdXJjZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbGFuZ18xLmlzUHJlc2VudCh0aGlzLl9kZWJ1Z0luZm8pID8gdGhpcy5fZGVidWdJbmZvLnNvdXJjZSA6IG51bGw7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFVzZSBpbmplY3Rvci5nZXQodG9rZW4pIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIERlYnVnTm9kZS5wcm90b3R5cGUuaW5qZWN0ID0gZnVuY3Rpb24gKHRva2VuKSB7IHJldHVybiB0aGlzLmluamVjdG9yLmdldCh0b2tlbik7IH07XG4gICAgcmV0dXJuIERlYnVnTm9kZTtcbn0oKSk7XG5leHBvcnRzLkRlYnVnTm9kZSA9IERlYnVnTm9kZTtcbnZhciBEZWJ1Z0VsZW1lbnQgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEZWJ1Z0VsZW1lbnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGVidWdFbGVtZW50KG5hdGl2ZU5vZGUsIHBhcmVudCwgX2RlYnVnSW5mbykge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBuYXRpdmVOb2RlLCBwYXJlbnQsIF9kZWJ1Z0luZm8pO1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0ge307XG4gICAgICAgIHRoaXMuY2hpbGROb2RlcyA9IFtdO1xuICAgICAgICB0aGlzLm5hdGl2ZUVsZW1lbnQgPSBuYXRpdmVOb2RlO1xuICAgIH1cbiAgICBEZWJ1Z0VsZW1lbnQucHJvdG90eXBlLmFkZENoaWxkID0gZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGNoaWxkKSkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZE5vZGVzLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVidWdFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVDaGlsZCA9IGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICB2YXIgY2hpbGRJbmRleCA9IHRoaXMuY2hpbGROb2Rlcy5pbmRleE9mKGNoaWxkKTtcbiAgICAgICAgaWYgKGNoaWxkSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jaGlsZE5vZGVzLnNwbGljZShjaGlsZEluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVidWdFbGVtZW50LnByb3RvdHlwZS5pbnNlcnRDaGlsZHJlbkFmdGVyID0gZnVuY3Rpb24gKGNoaWxkLCBuZXdDaGlsZHJlbikge1xuICAgICAgICB2YXIgc2libGluZ0luZGV4ID0gdGhpcy5jaGlsZE5vZGVzLmluZGV4T2YoY2hpbGQpO1xuICAgICAgICBpZiAoc2libGluZ0luZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzQ2hpbGRyZW4gPSB0aGlzLmNoaWxkTm9kZXMuc2xpY2UoMCwgc2libGluZ0luZGV4ICsgMSk7XG4gICAgICAgICAgICB2YXIgbmV4dENoaWxkcmVuID0gdGhpcy5jaGlsZE5vZGVzLnNsaWNlKHNpYmxpbmdJbmRleCArIDEpO1xuICAgICAgICAgICAgdGhpcy5jaGlsZE5vZGVzID1cbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuY29uY2F0KGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5jb25jYXQocHJldmlvdXNDaGlsZHJlbiwgbmV3Q2hpbGRyZW4pLCBuZXh0Q2hpbGRyZW4pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdDaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdDaGlsZCA9IG5ld0NoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KG5ld0NoaWxkLnBhcmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKG5ld0NoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3Q2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVidWdFbGVtZW50LnByb3RvdHlwZS5xdWVyeSA9IGZ1bmN0aW9uIChwcmVkaWNhdGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSB0aGlzLnF1ZXJ5QWxsKHByZWRpY2F0ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHRzLmxlbmd0aCA+IDAgPyByZXN1bHRzWzBdIDogbnVsbDtcbiAgICB9O1xuICAgIERlYnVnRWxlbWVudC5wcm90b3R5cGUucXVlcnlBbGwgPSBmdW5jdGlvbiAocHJlZGljYXRlKSB7XG4gICAgICAgIHZhciBtYXRjaGVzID0gW107XG4gICAgICAgIF9xdWVyeUVsZW1lbnRDaGlsZHJlbih0aGlzLCBwcmVkaWNhdGUsIG1hdGNoZXMpO1xuICAgICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICB9O1xuICAgIERlYnVnRWxlbWVudC5wcm90b3R5cGUucXVlcnlBbGxOb2RlcyA9IGZ1bmN0aW9uIChwcmVkaWNhdGUpIHtcbiAgICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuKHRoaXMsIHByZWRpY2F0ZSwgbWF0Y2hlcyk7XG4gICAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnRWxlbWVudC5wcm90b3R5cGUsIFwiY2hpbGRyZW5cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuICAgICAgICAgICAgdGhpcy5jaGlsZE5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIERlYnVnRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBEZWJ1Z0VsZW1lbnQucHJvdG90eXBlLnRyaWdnZXJFdmVudEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBldmVudE9iaikge1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm5hbWUgPT0gZXZlbnROYW1lKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbGJhY2soZXZlbnRPYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBEZWJ1Z0VsZW1lbnQ7XG59KERlYnVnTm9kZSkpO1xuZXhwb3J0cy5EZWJ1Z0VsZW1lbnQgPSBEZWJ1Z0VsZW1lbnQ7XG5mdW5jdGlvbiBhc05hdGl2ZUVsZW1lbnRzKGRlYnVnRWxzKSB7XG4gICAgcmV0dXJuIGRlYnVnRWxzLm1hcChmdW5jdGlvbiAoZWwpIHsgcmV0dXJuIGVsLm5hdGl2ZUVsZW1lbnQ7IH0pO1xufVxuZXhwb3J0cy5hc05hdGl2ZUVsZW1lbnRzID0gYXNOYXRpdmVFbGVtZW50cztcbmZ1bmN0aW9uIF9xdWVyeUVsZW1lbnRDaGlsZHJlbihlbGVtZW50LCBwcmVkaWNhdGUsIG1hdGNoZXMpIHtcbiAgICBlbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIERlYnVnRWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZShub2RlKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9xdWVyeUVsZW1lbnRDaGlsZHJlbihub2RlLCBwcmVkaWNhdGUsIG1hdGNoZXMpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiBfcXVlcnlOb2RlQ2hpbGRyZW4ocGFyZW50Tm9kZSwgcHJlZGljYXRlLCBtYXRjaGVzKSB7XG4gICAgaWYgKHBhcmVudE5vZGUgaW5zdGFuY2VvZiBEZWJ1Z0VsZW1lbnQpIHtcbiAgICAgICAgcGFyZW50Tm9kZS5jaGlsZE5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUobm9kZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIERlYnVnRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIF9xdWVyeU5vZGVDaGlsZHJlbihub2RlLCBwcmVkaWNhdGUsIG1hdGNoZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyBOZWVkIHRvIGtlZXAgdGhlIG5vZGVzIGluIGEgZ2xvYmFsIE1hcCBzbyB0aGF0IG11bHRpcGxlIGFuZ3VsYXIgYXBwcyBhcmUgc3VwcG9ydGVkLlxudmFyIF9uYXRpdmVOb2RlVG9EZWJ1Z05vZGUgPSBuZXcgTWFwKCk7XG5mdW5jdGlvbiBnZXREZWJ1Z05vZGUobmF0aXZlTm9kZSkge1xuICAgIHJldHVybiBfbmF0aXZlTm9kZVRvRGVidWdOb2RlLmdldChuYXRpdmVOb2RlKTtcbn1cbmV4cG9ydHMuZ2V0RGVidWdOb2RlID0gZ2V0RGVidWdOb2RlO1xuZnVuY3Rpb24gZ2V0QWxsRGVidWdOb2RlcygpIHtcbiAgICByZXR1cm4gY29sbGVjdGlvbl8xLk1hcFdyYXBwZXIudmFsdWVzKF9uYXRpdmVOb2RlVG9EZWJ1Z05vZGUpO1xufVxuZXhwb3J0cy5nZXRBbGxEZWJ1Z05vZGVzID0gZ2V0QWxsRGVidWdOb2RlcztcbmZ1bmN0aW9uIGluZGV4RGVidWdOb2RlKG5vZGUpIHtcbiAgICBfbmF0aXZlTm9kZVRvRGVidWdOb2RlLnNldChub2RlLm5hdGl2ZU5vZGUsIG5vZGUpO1xufVxuZXhwb3J0cy5pbmRleERlYnVnTm9kZSA9IGluZGV4RGVidWdOb2RlO1xuZnVuY3Rpb24gcmVtb3ZlRGVidWdOb2RlRnJvbUluZGV4KG5vZGUpIHtcbiAgICBfbmF0aXZlTm9kZVRvRGVidWdOb2RlLmRlbGV0ZShub2RlLm5hdGl2ZU5vZGUpO1xufVxuZXhwb3J0cy5yZW1vdmVEZWJ1Z05vZGVGcm9tSW5kZXggPSByZW1vdmVEZWJ1Z05vZGVGcm9tSW5kZXg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWJ1Z19ub2RlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGRlYnVnX25vZGVfMSA9IHJlcXVpcmUoJy4vZGVidWdfbm9kZScpO1xudmFyIERlYnVnRG9tUm9vdFJlbmRlcmVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWJ1Z0RvbVJvb3RSZW5kZXJlcihfZGVsZWdhdGUpIHtcbiAgICAgICAgdGhpcy5fZGVsZWdhdGUgPSBfZGVsZWdhdGU7XG4gICAgfVxuICAgIERlYnVnRG9tUm9vdFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50UHJvdG8pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEZWJ1Z0RvbVJlbmRlcmVyKHRoaXMuX2RlbGVnYXRlLnJlbmRlckNvbXBvbmVudChjb21wb25lbnRQcm90bykpO1xuICAgIH07XG4gICAgcmV0dXJuIERlYnVnRG9tUm9vdFJlbmRlcmVyO1xufSgpKTtcbmV4cG9ydHMuRGVidWdEb21Sb290UmVuZGVyZXIgPSBEZWJ1Z0RvbVJvb3RSZW5kZXJlcjtcbnZhciBEZWJ1Z0RvbVJlbmRlcmVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWJ1Z0RvbVJlbmRlcmVyKF9kZWxlZ2F0ZSkge1xuICAgICAgICB0aGlzLl9kZWxlZ2F0ZSA9IF9kZWxlZ2F0ZTtcbiAgICB9XG4gICAgRGVidWdEb21SZW5kZXJlci5wcm90b3R5cGUuc2VsZWN0Um9vdEVsZW1lbnQgPSBmdW5jdGlvbiAoc2VsZWN0b3JPck5vZGUsIGRlYnVnSW5mbykge1xuICAgICAgICB2YXIgbmF0aXZlRWwgPSB0aGlzLl9kZWxlZ2F0ZS5zZWxlY3RSb290RWxlbWVudChzZWxlY3Rvck9yTm9kZSwgZGVidWdJbmZvKTtcbiAgICAgICAgdmFyIGRlYnVnRWwgPSBuZXcgZGVidWdfbm9kZV8xLkRlYnVnRWxlbWVudChuYXRpdmVFbCwgbnVsbCwgZGVidWdJbmZvKTtcbiAgICAgICAgZGVidWdfbm9kZV8xLmluZGV4RGVidWdOb2RlKGRlYnVnRWwpO1xuICAgICAgICByZXR1cm4gbmF0aXZlRWw7XG4gICAgfTtcbiAgICBEZWJ1Z0RvbVJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gKHBhcmVudEVsZW1lbnQsIG5hbWUsIGRlYnVnSW5mbykge1xuICAgICAgICB2YXIgbmF0aXZlRWwgPSB0aGlzLl9kZWxlZ2F0ZS5jcmVhdGVFbGVtZW50KHBhcmVudEVsZW1lbnQsIG5hbWUsIGRlYnVnSW5mbyk7XG4gICAgICAgIHZhciBkZWJ1Z0VsID0gbmV3IGRlYnVnX25vZGVfMS5EZWJ1Z0VsZW1lbnQobmF0aXZlRWwsIGRlYnVnX25vZGVfMS5nZXREZWJ1Z05vZGUocGFyZW50RWxlbWVudCksIGRlYnVnSW5mbyk7XG4gICAgICAgIGRlYnVnRWwubmFtZSA9IG5hbWU7XG4gICAgICAgIGRlYnVnX25vZGVfMS5pbmRleERlYnVnTm9kZShkZWJ1Z0VsKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUVsO1xuICAgIH07XG4gICAgRGVidWdEb21SZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlVmlld1Jvb3QgPSBmdW5jdGlvbiAoaG9zdEVsZW1lbnQpIHsgcmV0dXJuIHRoaXMuX2RlbGVnYXRlLmNyZWF0ZVZpZXdSb290KGhvc3RFbGVtZW50KTsgfTtcbiAgICBEZWJ1Z0RvbVJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVUZW1wbGF0ZUFuY2hvciA9IGZ1bmN0aW9uIChwYXJlbnRFbGVtZW50LCBkZWJ1Z0luZm8pIHtcbiAgICAgICAgdmFyIGNvbW1lbnQgPSB0aGlzLl9kZWxlZ2F0ZS5jcmVhdGVUZW1wbGF0ZUFuY2hvcihwYXJlbnRFbGVtZW50LCBkZWJ1Z0luZm8pO1xuICAgICAgICB2YXIgZGVidWdFbCA9IG5ldyBkZWJ1Z19ub2RlXzEuRGVidWdOb2RlKGNvbW1lbnQsIGRlYnVnX25vZGVfMS5nZXREZWJ1Z05vZGUocGFyZW50RWxlbWVudCksIGRlYnVnSW5mbyk7XG4gICAgICAgIGRlYnVnX25vZGVfMS5pbmRleERlYnVnTm9kZShkZWJ1Z0VsKTtcbiAgICAgICAgcmV0dXJuIGNvbW1lbnQ7XG4gICAgfTtcbiAgICBEZWJ1Z0RvbVJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVUZXh0ID0gZnVuY3Rpb24gKHBhcmVudEVsZW1lbnQsIHZhbHVlLCBkZWJ1Z0luZm8pIHtcbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLl9kZWxlZ2F0ZS5jcmVhdGVUZXh0KHBhcmVudEVsZW1lbnQsIHZhbHVlLCBkZWJ1Z0luZm8pO1xuICAgICAgICB2YXIgZGVidWdFbCA9IG5ldyBkZWJ1Z19ub2RlXzEuRGVidWdOb2RlKHRleHQsIGRlYnVnX25vZGVfMS5nZXREZWJ1Z05vZGUocGFyZW50RWxlbWVudCksIGRlYnVnSW5mbyk7XG4gICAgICAgIGRlYnVnX25vZGVfMS5pbmRleERlYnVnTm9kZShkZWJ1Z0VsKTtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfTtcbiAgICBEZWJ1Z0RvbVJlbmRlcmVyLnByb3RvdHlwZS5wcm9qZWN0Tm9kZXMgPSBmdW5jdGlvbiAocGFyZW50RWxlbWVudCwgbm9kZXMpIHtcbiAgICAgICAgdmFyIGRlYnVnUGFyZW50ID0gZGVidWdfbm9kZV8xLmdldERlYnVnTm9kZShwYXJlbnRFbGVtZW50KTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoZGVidWdQYXJlbnQpICYmIGRlYnVnUGFyZW50IGluc3RhbmNlb2YgZGVidWdfbm9kZV8xLkRlYnVnRWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGRlYnVnRWxlbWVudF8xID0gZGVidWdQYXJlbnQ7XG4gICAgICAgICAgICBub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7IGRlYnVnRWxlbWVudF8xLmFkZENoaWxkKGRlYnVnX25vZGVfMS5nZXREZWJ1Z05vZGUobm9kZSkpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kZWxlZ2F0ZS5wcm9qZWN0Tm9kZXMocGFyZW50RWxlbWVudCwgbm9kZXMpO1xuICAgIH07XG4gICAgRGVidWdEb21SZW5kZXJlci5wcm90b3R5cGUuYXR0YWNoVmlld0FmdGVyID0gZnVuY3Rpb24gKG5vZGUsIHZpZXdSb290Tm9kZXMpIHtcbiAgICAgICAgdmFyIGRlYnVnTm9kZSA9IGRlYnVnX25vZGVfMS5nZXREZWJ1Z05vZGUobm9kZSk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGRlYnVnTm9kZSkpIHtcbiAgICAgICAgICAgIHZhciBkZWJ1Z1BhcmVudCA9IGRlYnVnTm9kZS5wYXJlbnQ7XG4gICAgICAgICAgICBpZiAodmlld1Jvb3ROb2Rlcy5sZW5ndGggPiAwICYmIGxhbmdfMS5pc1ByZXNlbnQoZGVidWdQYXJlbnQpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlYnVnVmlld1Jvb3ROb2RlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHZpZXdSb290Tm9kZXMuZm9yRWFjaChmdW5jdGlvbiAocm9vdE5vZGUpIHsgcmV0dXJuIGRlYnVnVmlld1Jvb3ROb2Rlcy5wdXNoKGRlYnVnX25vZGVfMS5nZXREZWJ1Z05vZGUocm9vdE5vZGUpKTsgfSk7XG4gICAgICAgICAgICAgICAgZGVidWdQYXJlbnQuaW5zZXJ0Q2hpbGRyZW5BZnRlcihkZWJ1Z05vZGUsIGRlYnVnVmlld1Jvb3ROb2Rlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGVsZWdhdGUuYXR0YWNoVmlld0FmdGVyKG5vZGUsIHZpZXdSb290Tm9kZXMpO1xuICAgIH07XG4gICAgRGVidWdEb21SZW5kZXJlci5wcm90b3R5cGUuZGV0YWNoVmlldyA9IGZ1bmN0aW9uICh2aWV3Um9vdE5vZGVzKSB7XG4gICAgICAgIHZpZXdSb290Tm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgdmFyIGRlYnVnTm9kZSA9IGRlYnVnX25vZGVfMS5nZXREZWJ1Z05vZGUobm9kZSk7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChkZWJ1Z05vZGUpICYmIGxhbmdfMS5pc1ByZXNlbnQoZGVidWdOb2RlLnBhcmVudCkpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z05vZGUucGFyZW50LnJlbW92ZUNoaWxkKGRlYnVnTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9kZWxlZ2F0ZS5kZXRhY2hWaWV3KHZpZXdSb290Tm9kZXMpO1xuICAgIH07XG4gICAgRGVidWdEb21SZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveVZpZXcgPSBmdW5jdGlvbiAoaG9zdEVsZW1lbnQsIHZpZXdBbGxOb2Rlcykge1xuICAgICAgICB2aWV3QWxsTm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkgeyBkZWJ1Z19ub2RlXzEucmVtb3ZlRGVidWdOb2RlRnJvbUluZGV4KGRlYnVnX25vZGVfMS5nZXREZWJ1Z05vZGUobm9kZSkpOyB9KTtcbiAgICAgICAgdGhpcy5fZGVsZWdhdGUuZGVzdHJveVZpZXcoaG9zdEVsZW1lbnQsIHZpZXdBbGxOb2Rlcyk7XG4gICAgfTtcbiAgICBEZWJ1Z0RvbVJlbmRlcmVyLnByb3RvdHlwZS5saXN0ZW4gPSBmdW5jdGlvbiAocmVuZGVyRWxlbWVudCwgbmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGRlYnVnRWwgPSBkZWJ1Z19ub2RlXzEuZ2V0RGVidWdOb2RlKHJlbmRlckVsZW1lbnQpO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChkZWJ1Z0VsKSkge1xuICAgICAgICAgICAgZGVidWdFbC5saXN0ZW5lcnMucHVzaChuZXcgZGVidWdfbm9kZV8xLkV2ZW50TGlzdGVuZXIobmFtZSwgY2FsbGJhY2spKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVsZWdhdGUubGlzdGVuKHJlbmRlckVsZW1lbnQsIG5hbWUsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIERlYnVnRG9tUmVuZGVyZXIucHJvdG90eXBlLmxpc3Rlbkdsb2JhbCA9IGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWxlZ2F0ZS5saXN0ZW5HbG9iYWwodGFyZ2V0LCBuYW1lLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBEZWJ1Z0RvbVJlbmRlcmVyLnByb3RvdHlwZS5zZXRFbGVtZW50UHJvcGVydHkgPSBmdW5jdGlvbiAocmVuZGVyRWxlbWVudCwgcHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlKSB7XG4gICAgICAgIHZhciBkZWJ1Z0VsID0gZGVidWdfbm9kZV8xLmdldERlYnVnTm9kZShyZW5kZXJFbGVtZW50KTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoZGVidWdFbCkgJiYgZGVidWdFbCBpbnN0YW5jZW9mIGRlYnVnX25vZGVfMS5EZWJ1Z0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGRlYnVnRWwucHJvcGVydGllc1twcm9wZXJ0eU5hbWVdID0gcHJvcGVydHlWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kZWxlZ2F0ZS5zZXRFbGVtZW50UHJvcGVydHkocmVuZGVyRWxlbWVudCwgcHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlKTtcbiAgICB9O1xuICAgIERlYnVnRG9tUmVuZGVyZXIucHJvdG90eXBlLnNldEVsZW1lbnRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAocmVuZGVyRWxlbWVudCwgYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWUpIHtcbiAgICAgICAgdmFyIGRlYnVnRWwgPSBkZWJ1Z19ub2RlXzEuZ2V0RGVidWdOb2RlKHJlbmRlckVsZW1lbnQpO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChkZWJ1Z0VsKSAmJiBkZWJ1Z0VsIGluc3RhbmNlb2YgZGVidWdfbm9kZV8xLkRlYnVnRWxlbWVudCkge1xuICAgICAgICAgICAgZGVidWdFbC5hdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdID0gYXR0cmlidXRlVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGVsZWdhdGUuc2V0RWxlbWVudEF0dHJpYnV0ZShyZW5kZXJFbGVtZW50LCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVWYWx1ZSk7XG4gICAgfTtcbiAgICBEZWJ1Z0RvbVJlbmRlcmVyLnByb3RvdHlwZS5zZXRCaW5kaW5nRGVidWdJbmZvID0gZnVuY3Rpb24gKHJlbmRlckVsZW1lbnQsIHByb3BlcnR5TmFtZSwgcHJvcGVydHlWYWx1ZSkge1xuICAgICAgICB0aGlzLl9kZWxlZ2F0ZS5zZXRCaW5kaW5nRGVidWdJbmZvKHJlbmRlckVsZW1lbnQsIHByb3BlcnR5TmFtZSwgcHJvcGVydHlWYWx1ZSk7XG4gICAgfTtcbiAgICBEZWJ1Z0RvbVJlbmRlcmVyLnByb3RvdHlwZS5zZXRFbGVtZW50Q2xhc3MgPSBmdW5jdGlvbiAocmVuZGVyRWxlbWVudCwgY2xhc3NOYW1lLCBpc0FkZCkge1xuICAgICAgICB0aGlzLl9kZWxlZ2F0ZS5zZXRFbGVtZW50Q2xhc3MocmVuZGVyRWxlbWVudCwgY2xhc3NOYW1lLCBpc0FkZCk7XG4gICAgfTtcbiAgICBEZWJ1Z0RvbVJlbmRlcmVyLnByb3RvdHlwZS5zZXRFbGVtZW50U3R5bGUgPSBmdW5jdGlvbiAocmVuZGVyRWxlbWVudCwgc3R5bGVOYW1lLCBzdHlsZVZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2RlbGVnYXRlLnNldEVsZW1lbnRTdHlsZShyZW5kZXJFbGVtZW50LCBzdHlsZU5hbWUsIHN0eWxlVmFsdWUpO1xuICAgIH07XG4gICAgRGVidWdEb21SZW5kZXJlci5wcm90b3R5cGUuaW52b2tlRWxlbWVudE1ldGhvZCA9IGZ1bmN0aW9uIChyZW5kZXJFbGVtZW50LCBtZXRob2ROYW1lLCBhcmdzKSB7XG4gICAgICAgIHRoaXMuX2RlbGVnYXRlLmludm9rZUVsZW1lbnRNZXRob2QocmVuZGVyRWxlbWVudCwgbWV0aG9kTmFtZSwgYXJncyk7XG4gICAgfTtcbiAgICBEZWJ1Z0RvbVJlbmRlcmVyLnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gKHJlbmRlck5vZGUsIHRleHQpIHsgdGhpcy5fZGVsZWdhdGUuc2V0VGV4dChyZW5kZXJOb2RlLCB0ZXh0KTsgfTtcbiAgICByZXR1cm4gRGVidWdEb21SZW5kZXJlcjtcbn0oKSk7XG5leHBvcnRzLkRlYnVnRG9tUmVuZGVyZXIgPSBEZWJ1Z0RvbVJlbmRlcmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVidWdfcmVuZGVyZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuLyoqXG4qIEBtb2R1bGVcbiogQGRlc2NyaXB0aW9uXG4qIFRoZSBgZGlgIG1vZHVsZSBwcm92aWRlcyBkZXBlbmRlbmN5IGluamVjdGlvbiBjb250YWluZXIgc2VydmljZXMuXG4qL1xudmFyIG1ldGFkYXRhXzEgPSByZXF1aXJlKCcuL2RpL21ldGFkYXRhJyk7XG5leHBvcnRzLkluamVjdE1ldGFkYXRhID0gbWV0YWRhdGFfMS5JbmplY3RNZXRhZGF0YTtcbmV4cG9ydHMuT3B0aW9uYWxNZXRhZGF0YSA9IG1ldGFkYXRhXzEuT3B0aW9uYWxNZXRhZGF0YTtcbmV4cG9ydHMuSW5qZWN0YWJsZU1ldGFkYXRhID0gbWV0YWRhdGFfMS5JbmplY3RhYmxlTWV0YWRhdGE7XG5leHBvcnRzLlNlbGZNZXRhZGF0YSA9IG1ldGFkYXRhXzEuU2VsZk1ldGFkYXRhO1xuZXhwb3J0cy5Ib3N0TWV0YWRhdGEgPSBtZXRhZGF0YV8xLkhvc3RNZXRhZGF0YTtcbmV4cG9ydHMuU2tpcFNlbGZNZXRhZGF0YSA9IG1ldGFkYXRhXzEuU2tpcFNlbGZNZXRhZGF0YTtcbmV4cG9ydHMuRGVwZW5kZW5jeU1ldGFkYXRhID0gbWV0YWRhdGFfMS5EZXBlbmRlbmN5TWV0YWRhdGE7XG4vLyB3ZSBoYXZlIHRvIHJlZXhwb3J0ICogYmVjYXVzZSBEYXJ0IGFuZCBUUyBleHBvcnQgdHdvIGRpZmZlcmVudCBzZXRzIG9mIHR5cGVzXG5fX2V4cG9ydChyZXF1aXJlKCcuL2RpL2RlY29yYXRvcnMnKSk7XG52YXIgZm9yd2FyZF9yZWZfMSA9IHJlcXVpcmUoJy4vZGkvZm9yd2FyZF9yZWYnKTtcbmV4cG9ydHMuZm9yd2FyZFJlZiA9IGZvcndhcmRfcmVmXzEuZm9yd2FyZFJlZjtcbmV4cG9ydHMucmVzb2x2ZUZvcndhcmRSZWYgPSBmb3J3YXJkX3JlZl8xLnJlc29sdmVGb3J3YXJkUmVmO1xudmFyIGluamVjdG9yXzEgPSByZXF1aXJlKCcuL2RpL2luamVjdG9yJyk7XG5leHBvcnRzLkluamVjdG9yID0gaW5qZWN0b3JfMS5JbmplY3RvcjtcbnZhciByZWZsZWN0aXZlX2luamVjdG9yXzEgPSByZXF1aXJlKCcuL2RpL3JlZmxlY3RpdmVfaW5qZWN0b3InKTtcbmV4cG9ydHMuUmVmbGVjdGl2ZUluamVjdG9yID0gcmVmbGVjdGl2ZV9pbmplY3Rvcl8xLlJlZmxlY3RpdmVJbmplY3RvcjtcbnZhciBwcm92aWRlcl8xID0gcmVxdWlyZSgnLi9kaS9wcm92aWRlcicpO1xuZXhwb3J0cy5CaW5kaW5nID0gcHJvdmlkZXJfMS5CaW5kaW5nO1xuZXhwb3J0cy5Qcm92aWRlckJ1aWxkZXIgPSBwcm92aWRlcl8xLlByb3ZpZGVyQnVpbGRlcjtcbmV4cG9ydHMuYmluZCA9IHByb3ZpZGVyXzEuYmluZDtcbmV4cG9ydHMuUHJvdmlkZXIgPSBwcm92aWRlcl8xLlByb3ZpZGVyO1xuZXhwb3J0cy5wcm92aWRlID0gcHJvdmlkZXJfMS5wcm92aWRlO1xudmFyIHJlZmxlY3RpdmVfcHJvdmlkZXJfMSA9IHJlcXVpcmUoJy4vZGkvcmVmbGVjdGl2ZV9wcm92aWRlcicpO1xuZXhwb3J0cy5SZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5ID0gcmVmbGVjdGl2ZV9wcm92aWRlcl8xLlJlc29sdmVkUmVmbGVjdGl2ZUZhY3Rvcnk7XG5leHBvcnRzLlJlZmxlY3RpdmVEZXBlbmRlbmN5ID0gcmVmbGVjdGl2ZV9wcm92aWRlcl8xLlJlZmxlY3RpdmVEZXBlbmRlbmN5O1xudmFyIHJlZmxlY3RpdmVfa2V5XzEgPSByZXF1aXJlKCcuL2RpL3JlZmxlY3RpdmVfa2V5Jyk7XG5leHBvcnRzLlJlZmxlY3RpdmVLZXkgPSByZWZsZWN0aXZlX2tleV8xLlJlZmxlY3RpdmVLZXk7XG52YXIgcmVmbGVjdGl2ZV9leGNlcHRpb25zXzEgPSByZXF1aXJlKCcuL2RpL3JlZmxlY3RpdmVfZXhjZXB0aW9ucycpO1xuZXhwb3J0cy5Ob1Byb3ZpZGVyRXJyb3IgPSByZWZsZWN0aXZlX2V4Y2VwdGlvbnNfMS5Ob1Byb3ZpZGVyRXJyb3I7XG5leHBvcnRzLkFic3RyYWN0UHJvdmlkZXJFcnJvciA9IHJlZmxlY3RpdmVfZXhjZXB0aW9uc18xLkFic3RyYWN0UHJvdmlkZXJFcnJvcjtcbmV4cG9ydHMuQ3ljbGljRGVwZW5kZW5jeUVycm9yID0gcmVmbGVjdGl2ZV9leGNlcHRpb25zXzEuQ3ljbGljRGVwZW5kZW5jeUVycm9yO1xuZXhwb3J0cy5JbnN0YW50aWF0aW9uRXJyb3IgPSByZWZsZWN0aXZlX2V4Y2VwdGlvbnNfMS5JbnN0YW50aWF0aW9uRXJyb3I7XG5leHBvcnRzLkludmFsaWRQcm92aWRlckVycm9yID0gcmVmbGVjdGl2ZV9leGNlcHRpb25zXzEuSW52YWxpZFByb3ZpZGVyRXJyb3I7XG5leHBvcnRzLk5vQW5ub3RhdGlvbkVycm9yID0gcmVmbGVjdGl2ZV9leGNlcHRpb25zXzEuTm9Bbm5vdGF0aW9uRXJyb3I7XG5leHBvcnRzLk91dE9mQm91bmRzRXJyb3IgPSByZWZsZWN0aXZlX2V4Y2VwdGlvbnNfMS5PdXRPZkJvdW5kc0Vycm9yO1xudmFyIG9wYXF1ZV90b2tlbl8xID0gcmVxdWlyZSgnLi9kaS9vcGFxdWVfdG9rZW4nKTtcbmV4cG9ydHMuT3BhcXVlVG9rZW4gPSBvcGFxdWVfdG9rZW5fMS5PcGFxdWVUb2tlbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIG1ldGFkYXRhXzEgPSByZXF1aXJlKCcuL21ldGFkYXRhJyk7XG52YXIgZGVjb3JhdG9yc18xID0gcmVxdWlyZSgnLi4vdXRpbC9kZWNvcmF0b3JzJyk7XG4vKipcbiAqIEZhY3RvcnkgZm9yIGNyZWF0aW5nIHtAbGluayBJbmplY3RNZXRhZGF0YX0uXG4gKi9cbmV4cG9ydHMuSW5qZWN0ID0gZGVjb3JhdG9yc18xLm1ha2VQYXJhbURlY29yYXRvcihtZXRhZGF0YV8xLkluamVjdE1ldGFkYXRhKTtcbi8qKlxuICogRmFjdG9yeSBmb3IgY3JlYXRpbmcge0BsaW5rIE9wdGlvbmFsTWV0YWRhdGF9LlxuICovXG5leHBvcnRzLk9wdGlvbmFsID0gZGVjb3JhdG9yc18xLm1ha2VQYXJhbURlY29yYXRvcihtZXRhZGF0YV8xLk9wdGlvbmFsTWV0YWRhdGEpO1xuLyoqXG4gKiBGYWN0b3J5IGZvciBjcmVhdGluZyB7QGxpbmsgSW5qZWN0YWJsZU1ldGFkYXRhfS5cbiAqL1xuZXhwb3J0cy5JbmplY3RhYmxlID0gZGVjb3JhdG9yc18xLm1ha2VEZWNvcmF0b3IobWV0YWRhdGFfMS5JbmplY3RhYmxlTWV0YWRhdGEpO1xuLyoqXG4gKiBGYWN0b3J5IGZvciBjcmVhdGluZyB7QGxpbmsgU2VsZk1ldGFkYXRhfS5cbiAqL1xuZXhwb3J0cy5TZWxmID0gZGVjb3JhdG9yc18xLm1ha2VQYXJhbURlY29yYXRvcihtZXRhZGF0YV8xLlNlbGZNZXRhZGF0YSk7XG4vKipcbiAqIEZhY3RvcnkgZm9yIGNyZWF0aW5nIHtAbGluayBIb3N0TWV0YWRhdGF9LlxuICovXG5leHBvcnRzLkhvc3QgPSBkZWNvcmF0b3JzXzEubWFrZVBhcmFtRGVjb3JhdG9yKG1ldGFkYXRhXzEuSG9zdE1ldGFkYXRhKTtcbi8qKlxuICogRmFjdG9yeSBmb3IgY3JlYXRpbmcge0BsaW5rIFNraXBTZWxmTWV0YWRhdGF9LlxuICovXG5leHBvcnRzLlNraXBTZWxmID0gZGVjb3JhdG9yc18xLm1ha2VQYXJhbURlY29yYXRvcihtZXRhZGF0YV8xLlNraXBTZWxmTWV0YWRhdGEpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVjb3JhdG9ycy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbi8qKlxuICogQWxsb3dzIHRvIHJlZmVyIHRvIHJlZmVyZW5jZXMgd2hpY2ggYXJlIG5vdCB5ZXQgZGVmaW5lZC5cbiAqXG4gKiBGb3IgaW5zdGFuY2UsIGBmb3J3YXJkUmVmYCBpcyB1c2VkIHdoZW4gdGhlIGB0b2tlbmAgd2hpY2ggd2UgbmVlZCB0byByZWZlciB0byBmb3IgdGhlIHB1cnBvc2VzIG9mXG4gKiBESSBpcyBkZWNsYXJlZCxcbiAqIGJ1dCBub3QgeWV0IGRlZmluZWQuIEl0IGlzIGFsc28gdXNlZCB3aGVuIHRoZSBgdG9rZW5gIHdoaWNoIHdlIHVzZSB3aGVuIGNyZWF0aW5nIGEgcXVlcnkgaXMgbm90XG4gKiB5ZXQgZGVmaW5lZC5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICoge0BleGFtcGxlIGNvcmUvZGkvdHMvZm9yd2FyZF9yZWYvZm9yd2FyZF9yZWYudHMgcmVnaW9uPSdmb3J3YXJkX3JlZid9XG4gKi9cbmZ1bmN0aW9uIGZvcndhcmRSZWYoZm9yd2FyZFJlZkZuKSB7XG4gICAgZm9yd2FyZFJlZkZuLl9fZm9yd2FyZF9yZWZfXyA9IGZvcndhcmRSZWY7XG4gICAgZm9yd2FyZFJlZkZuLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbGFuZ18xLnN0cmluZ2lmeSh0aGlzKCkpOyB9O1xuICAgIHJldHVybiBmb3J3YXJkUmVmRm47XG59XG5leHBvcnRzLmZvcndhcmRSZWYgPSBmb3J3YXJkUmVmO1xuLyoqXG4gKiBMYXppbHkgcmV0cmlldmVzIHRoZSByZWZlcmVuY2UgdmFsdWUgZnJvbSBhIGZvcndhcmRSZWYuXG4gKlxuICogQWN0cyBhcyB0aGUgaWRlbnRpdHkgZnVuY3Rpb24gd2hlbiBnaXZlbiBhIG5vbi1mb3J3YXJkLXJlZiB2YWx1ZS5cbiAqXG4gKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvR1U3Mm1KcmsxZmlvZENoY21pRFI/cD1wcmV2aWV3KSlcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiB2YXIgcmVmID0gZm9yd2FyZFJlZigoKSA9PiBcInJlZlZhbHVlXCIpO1xuICogZXhwZWN0KHJlc29sdmVGb3J3YXJkUmVmKHJlZikpLnRvRXF1YWwoXCJyZWZWYWx1ZVwiKTtcbiAqIGV4cGVjdChyZXNvbHZlRm9yd2FyZFJlZihcInJlZ3VsYXJWYWx1ZVwiKSkudG9FcXVhbChcInJlZ3VsYXJWYWx1ZVwiKTtcbiAqIGBgYFxuICpcbiAqIFNlZToge0BsaW5rIGZvcndhcmRSZWZ9XG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpIHtcbiAgICBpZiAobGFuZ18xLmlzRnVuY3Rpb24odHlwZSkgJiYgdHlwZS5oYXNPd25Qcm9wZXJ0eSgnX19mb3J3YXJkX3JlZl9fJykgJiZcbiAgICAgICAgdHlwZS5fX2ZvcndhcmRfcmVmX18gPT09IGZvcndhcmRSZWYpIHtcbiAgICAgICAgcmV0dXJuIHR5cGUoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbn1cbmV4cG9ydHMucmVzb2x2ZUZvcndhcmRSZWYgPSByZXNvbHZlRm9yd2FyZFJlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvcndhcmRfcmVmLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvZXhjZXB0aW9ucycpO1xudmFyIF9USFJPV19JRl9OT1RfRk9VTkQgPSBuZXcgT2JqZWN0KCk7XG5leHBvcnRzLlRIUk9XX0lGX05PVF9GT1VORCA9IF9USFJPV19JRl9OT1RfRk9VTkQ7XG52YXIgSW5qZWN0b3IgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEluamVjdG9yKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYW4gaW5zdGFuY2UgZnJvbSB0aGUgaW5qZWN0b3IgYmFzZWQgb24gdGhlIHByb3ZpZGVkIHRva2VuLlxuICAgICAqIElmIG5vdCBmb3VuZDpcbiAgICAgKiAtIFRocm93cyB7QGxpbmsgTm9Qcm92aWRlckVycm9yfSBpZiBubyBgbm90Rm91bmRWYWx1ZWAgdGhhdCBpcyBub3QgZXF1YWwgdG9cbiAgICAgKiBJbmplY3Rvci5USFJPV19JRl9OT1RfRk9VTkQgaXMgZ2l2ZW5cbiAgICAgKiAtIFJldHVybnMgdGhlIGBub3RGb3VuZFZhbHVlYCBvdGhlcndpc2VcbiAgICAgKlxuICAgICAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9IZVhTSGc/cD1wcmV2aWV3KSlcbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiB2YXIgaW5qZWN0b3IgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbXG4gICAgICogICBwcm92aWRlKFwidmFsaWRUb2tlblwiLCB7dXNlVmFsdWU6IFwiVmFsdWVcIn0pXG4gICAgICogXSk7XG4gICAgICogZXhwZWN0KGluamVjdG9yLmdldChcInZhbGlkVG9rZW5cIikpLnRvRXF1YWwoXCJWYWx1ZVwiKTtcbiAgICAgKiBleHBlY3QoKCkgPT4gaW5qZWN0b3IuZ2V0KFwiaW52YWxpZFRva2VuXCIpKS50b1Rocm93RXJyb3IoKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIGBJbmplY3RvcmAgcmV0dXJucyBpdHNlbGYgd2hlbiBnaXZlbiBgSW5qZWN0b3JgIGFzIGEgdG9rZW4uXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogdmFyIGluamVjdG9yID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW10pO1xuICAgICAqIGV4cGVjdChpbmplY3Rvci5nZXQoSW5qZWN0b3IpKS50b0JlKGluamVjdG9yKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBJbmplY3Rvci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHRva2VuLCBub3RGb3VuZFZhbHVlKSB7IHJldHVybiBleGNlcHRpb25zXzEudW5pbXBsZW1lbnRlZCgpOyB9O1xuICAgIEluamVjdG9yLlRIUk9XX0lGX05PVF9GT1VORCA9IF9USFJPV19JRl9OT1RfRk9VTkQ7XG4gICAgcmV0dXJuIEluamVjdG9yO1xufSgpKTtcbmV4cG9ydHMuSW5qZWN0b3IgPSBJbmplY3Rvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluamVjdG9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xuLyoqXG4gKiBBIHBhcmFtZXRlciBtZXRhZGF0YSB0aGF0IHNwZWNpZmllcyBhIGRlcGVuZGVuY3kuXG4gKlxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0LzZ1SFlKSz9wPXByZXZpZXcpKVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNsYXNzIEVuZ2luZSB7fVxuICpcbiAqIEBJbmplY3RhYmxlKClcbiAqIGNsYXNzIENhciB7XG4gKiAgIGVuZ2luZTtcbiAqICAgY29uc3RydWN0b3IoQEluamVjdChcIk15RW5naW5lXCIpIGVuZ2luZTpFbmdpbmUpIHtcbiAqICAgICB0aGlzLmVuZ2luZSA9IGVuZ2luZTtcbiAqICAgfVxuICogfVxuICpcbiAqIHZhciBpbmplY3RvciA9IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW1xuICogIHByb3ZpZGUoXCJNeUVuZ2luZVwiLCB7dXNlQ2xhc3M6IEVuZ2luZX0pLFxuICogIENhclxuICogXSk7XG4gKlxuICogZXhwZWN0KGluamVjdG9yLmdldChDYXIpLmVuZ2luZSBpbnN0YW5jZW9mIEVuZ2luZSkudG9CZSh0cnVlKTtcbiAqIGBgYFxuICpcbiAqIFdoZW4gYEBJbmplY3QoKWAgaXMgbm90IHByZXNlbnQsIHtAbGluayBJbmplY3Rvcn0gd2lsbCB1c2UgdGhlIHR5cGUgYW5ub3RhdGlvbiBvZiB0aGUgcGFyYW1ldGVyLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY2xhc3MgRW5naW5lIHt9XG4gKlxuICogQEluamVjdGFibGUoKVxuICogY2xhc3MgQ2FyIHtcbiAqICAgY29uc3RydWN0b3IocHVibGljIGVuZ2luZTogRW5naW5lKSB7fSAvL3NhbWUgYXMgY29uc3RydWN0b3IoQEluamVjdChFbmdpbmUpIGVuZ2luZTpFbmdpbmUpXG4gKiB9XG4gKlxuICogdmFyIGluamVjdG9yID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbRW5naW5lLCBDYXJdKTtcbiAqIGV4cGVjdChpbmplY3Rvci5nZXQoQ2FyKS5lbmdpbmUgaW5zdGFuY2VvZiBFbmdpbmUpLnRvQmUodHJ1ZSk7XG4gKiBgYGBcbiAqIEB0czJkYXJ0X2NvbnN0XG4gKi9cbnZhciBJbmplY3RNZXRhZGF0YSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW5qZWN0TWV0YWRhdGEodG9rZW4pIHtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIH1cbiAgICBJbmplY3RNZXRhZGF0YS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBcIkBJbmplY3QoXCIgKyBsYW5nXzEuc3RyaW5naWZ5KHRoaXMudG9rZW4pICsgXCIpXCI7IH07XG4gICAgcmV0dXJuIEluamVjdE1ldGFkYXRhO1xufSgpKTtcbmV4cG9ydHMuSW5qZWN0TWV0YWRhdGEgPSBJbmplY3RNZXRhZGF0YTtcbi8qKlxuICogQSBwYXJhbWV0ZXIgbWV0YWRhdGEgdGhhdCBtYXJrcyBhIGRlcGVuZGVuY3kgYXMgb3B0aW9uYWwuIHtAbGluayBJbmplY3Rvcn0gcHJvdmlkZXMgYG51bGxgIGlmXG4gKiB0aGUgZGVwZW5kZW5jeSBpcyBub3QgZm91bmQuXG4gKlxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L0FzcnlPbT9wPXByZXZpZXcpKVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNsYXNzIEVuZ2luZSB7fVxuICpcbiAqIEBJbmplY3RhYmxlKClcbiAqIGNsYXNzIENhciB7XG4gKiAgIGVuZ2luZTtcbiAqICAgY29uc3RydWN0b3IoQE9wdGlvbmFsKCkgZW5naW5lOkVuZ2luZSkge1xuICogICAgIHRoaXMuZW5naW5lID0gZW5naW5lO1xuICogICB9XG4gKiB9XG4gKlxuICogdmFyIGluamVjdG9yID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQ2FyXSk7XG4gKiBleHBlY3QoaW5qZWN0b3IuZ2V0KENhcikuZW5naW5lKS50b0JlTnVsbCgpO1xuICogYGBgXG4gKiBAdHMyZGFydF9jb25zdFxuICovXG52YXIgT3B0aW9uYWxNZXRhZGF0YSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT3B0aW9uYWxNZXRhZGF0YSgpIHtcbiAgICB9XG4gICAgT3B0aW9uYWxNZXRhZGF0YS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBcIkBPcHRpb25hbCgpXCI7IH07XG4gICAgcmV0dXJuIE9wdGlvbmFsTWV0YWRhdGE7XG59KCkpO1xuZXhwb3J0cy5PcHRpb25hbE1ldGFkYXRhID0gT3B0aW9uYWxNZXRhZGF0YTtcbi8qKlxuICogYERlcGVuZGVuY3lNZXRhZGF0YWAgaXMgdXNlZCBieSB0aGUgZnJhbWV3b3JrIHRvIGV4dGVuZCBESS5cbiAqIFRoaXMgaXMgaW50ZXJuYWwgdG8gQW5ndWxhciBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIGRpcmVjdGx5LlxuICogQHRzMmRhcnRfY29uc3RcbiAqL1xudmFyIERlcGVuZGVuY3lNZXRhZGF0YSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVwZW5kZW5jeU1ldGFkYXRhKCkge1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVwZW5kZW5jeU1ldGFkYXRhLnByb3RvdHlwZSwgXCJ0b2tlblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIERlcGVuZGVuY3lNZXRhZGF0YTtcbn0oKSk7XG5leHBvcnRzLkRlcGVuZGVuY3lNZXRhZGF0YSA9IERlcGVuZGVuY3lNZXRhZGF0YTtcbi8qKlxuICogQSBtYXJrZXIgbWV0YWRhdGEgdGhhdCBtYXJrcyBhIGNsYXNzIGFzIGF2YWlsYWJsZSB0byB7QGxpbmsgSW5qZWN0b3J9IGZvciBjcmVhdGlvbi5cbiAqXG4gKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvV2s0RE1RP3A9cHJldmlldykpXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogQEluamVjdGFibGUoKVxuICogY2xhc3MgVXNlZnVsU2VydmljZSB7fVxuICpcbiAqIEBJbmplY3RhYmxlKClcbiAqIGNsYXNzIE5lZWRzU2VydmljZSB7XG4gKiAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzZXJ2aWNlOlVzZWZ1bFNlcnZpY2UpIHt9XG4gKiB9XG4gKlxuICogdmFyIGluamVjdG9yID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbTmVlZHNTZXJ2aWNlLCBVc2VmdWxTZXJ2aWNlXSk7XG4gKiBleHBlY3QoaW5qZWN0b3IuZ2V0KE5lZWRzU2VydmljZSkuc2VydmljZSBpbnN0YW5jZW9mIFVzZWZ1bFNlcnZpY2UpLnRvQmUodHJ1ZSk7XG4gKiBgYGBcbiAqIHtAbGluayBJbmplY3Rvcn0gd2lsbCB0aHJvdyB7QGxpbmsgTm9Bbm5vdGF0aW9uRXJyb3J9IHdoZW4gdHJ5aW5nIHRvIGluc3RhbnRpYXRlIGEgY2xhc3MgdGhhdFxuICogZG9lcyBub3QgaGF2ZSBgQEluamVjdGFibGVgIG1hcmtlciwgYXMgc2hvd24gaW4gdGhlIGV4YW1wbGUgYmVsb3cuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY2xhc3MgVXNlZnVsU2VydmljZSB7fVxuICpcbiAqIGNsYXNzIE5lZWRzU2VydmljZSB7XG4gKiAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzZXJ2aWNlOlVzZWZ1bFNlcnZpY2UpIHt9XG4gKiB9XG4gKlxuICogdmFyIGluamVjdG9yID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbTmVlZHNTZXJ2aWNlLCBVc2VmdWxTZXJ2aWNlXSk7XG4gKiBleHBlY3QoKCkgPT4gaW5qZWN0b3IuZ2V0KE5lZWRzU2VydmljZSkpLnRvVGhyb3dFcnJvcigpO1xuICogYGBgXG4gKiBAdHMyZGFydF9jb25zdFxuICovXG52YXIgSW5qZWN0YWJsZU1ldGFkYXRhID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbmplY3RhYmxlTWV0YWRhdGEoKSB7XG4gICAgfVxuICAgIHJldHVybiBJbmplY3RhYmxlTWV0YWRhdGE7XG59KCkpO1xuZXhwb3J0cy5JbmplY3RhYmxlTWV0YWRhdGEgPSBJbmplY3RhYmxlTWV0YWRhdGE7XG4vKipcbiAqIFNwZWNpZmllcyB0aGF0IGFuIHtAbGluayBJbmplY3Rvcn0gc2hvdWxkIHJldHJpZXZlIGEgZGVwZW5kZW5jeSBvbmx5IGZyb20gaXRzZWxmLlxuICpcbiAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9OZWFnQWc/cD1wcmV2aWV3KSlcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjbGFzcyBEZXBlbmRlbmN5IHtcbiAqIH1cbiAqXG4gKiBASW5qZWN0YWJsZSgpXG4gKiBjbGFzcyBOZWVkc0RlcGVuZGVuY3kge1xuICogICBkZXBlbmRlbmN5O1xuICogICBjb25zdHJ1Y3RvcihAU2VsZigpIGRlcGVuZGVuY3k6RGVwZW5kZW5jeSkge1xuICogICAgIHRoaXMuZGVwZW5kZW5jeSA9IGRlcGVuZGVuY3k7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiB2YXIgaW5qID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbRGVwZW5kZW5jeSwgTmVlZHNEZXBlbmRlbmN5XSk7XG4gKiB2YXIgbmQgPSBpbmouZ2V0KE5lZWRzRGVwZW5kZW5jeSk7XG4gKlxuICogZXhwZWN0KG5kLmRlcGVuZGVuY3kgaW5zdGFuY2VvZiBEZXBlbmRlbmN5KS50b0JlKHRydWUpO1xuICpcbiAqIHZhciBpbmogPSBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtEZXBlbmRlbmN5XSk7XG4gKiB2YXIgY2hpbGQgPSBpbmoucmVzb2x2ZUFuZENyZWF0ZUNoaWxkKFtOZWVkc0RlcGVuZGVuY3ldKTtcbiAqIGV4cGVjdCgoKSA9PiBjaGlsZC5nZXQoTmVlZHNEZXBlbmRlbmN5KSkudG9UaHJvd0Vycm9yKCk7XG4gKiBgYGBcbiAqIEB0czJkYXJ0X2NvbnN0XG4gKi9cbnZhciBTZWxmTWV0YWRhdGEgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNlbGZNZXRhZGF0YSgpIHtcbiAgICB9XG4gICAgU2VsZk1ldGFkYXRhLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiQFNlbGYoKVwiOyB9O1xuICAgIHJldHVybiBTZWxmTWV0YWRhdGE7XG59KCkpO1xuZXhwb3J0cy5TZWxmTWV0YWRhdGEgPSBTZWxmTWV0YWRhdGE7XG4vKipcbiAqIFNwZWNpZmllcyB0aGF0IHRoZSBkZXBlbmRlbmN5IHJlc29sdXRpb24gc2hvdWxkIHN0YXJ0IGZyb20gdGhlIHBhcmVudCBpbmplY3Rvci5cbiAqXG4gKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvV2NoZHpiP3A9cHJldmlldykpXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY2xhc3MgRGVwZW5kZW5jeSB7XG4gKiB9XG4gKlxuICogQEluamVjdGFibGUoKVxuICogY2xhc3MgTmVlZHNEZXBlbmRlbmN5IHtcbiAqICAgZGVwZW5kZW5jeTtcbiAqICAgY29uc3RydWN0b3IoQFNraXBTZWxmKCkgZGVwZW5kZW5jeTpEZXBlbmRlbmN5KSB7XG4gKiAgICAgdGhpcy5kZXBlbmRlbmN5ID0gZGVwZW5kZW5jeTtcbiAqICAgfVxuICogfVxuICpcbiAqIHZhciBwYXJlbnQgPSBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtEZXBlbmRlbmN5XSk7XG4gKiB2YXIgY2hpbGQgPSBwYXJlbnQucmVzb2x2ZUFuZENyZWF0ZUNoaWxkKFtOZWVkc0RlcGVuZGVuY3ldKTtcbiAqIGV4cGVjdChjaGlsZC5nZXQoTmVlZHNEZXBlbmRlbmN5KS5kZXBlbmRlbmN5IGluc3RhbmNlb2YgRGVwZWRlbmN5KS50b0JlKHRydWUpO1xuICpcbiAqIHZhciBpbmogPSBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtEZXBlbmRlbmN5LCBOZWVkc0RlcGVuZGVuY3ldKTtcbiAqIGV4cGVjdCgoKSA9PiBpbmouZ2V0KE5lZWRzRGVwZW5kZW5jeSkpLnRvVGhyb3dFcnJvcigpO1xuICogYGBgXG4gKiBAdHMyZGFydF9jb25zdFxuICovXG52YXIgU2tpcFNlbGZNZXRhZGF0YSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2tpcFNlbGZNZXRhZGF0YSgpIHtcbiAgICB9XG4gICAgU2tpcFNlbGZNZXRhZGF0YS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBcIkBTa2lwU2VsZigpXCI7IH07XG4gICAgcmV0dXJuIFNraXBTZWxmTWV0YWRhdGE7XG59KCkpO1xuZXhwb3J0cy5Ta2lwU2VsZk1ldGFkYXRhID0gU2tpcFNlbGZNZXRhZGF0YTtcbi8qKlxuICogU3BlY2lmaWVzIHRoYXQgYW4gaW5qZWN0b3Igc2hvdWxkIHJldHJpZXZlIGEgZGVwZW5kZW5jeSBmcm9tIGFueSBpbmplY3RvciB1bnRpbCByZWFjaGluZyB0aGVcbiAqIGNsb3Nlc3QgaG9zdC5cbiAqXG4gKiBJbiBBbmd1bGFyLCBhIGNvbXBvbmVudCBlbGVtZW50IGlzIGF1dG9tYXRpY2FsbHkgZGVjbGFyZWQgYXMgYSBob3N0IGZvciBhbGwgdGhlIGluamVjdG9ycyBpblxuICogaXRzIHZpZXcuXG4gKlxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L0dYNzlwVj9wPXByZXZpZXcpKVxuICpcbiAqIEluIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSBgQXBwYCBjb250YWlucyBgUGFyZW50Q21wYCwgd2hpY2ggY29udGFpbnMgYENoaWxkRGlyZWN0aXZlYC5cbiAqIFNvIGBQYXJlbnRDbXBgIGlzIHRoZSBob3N0IG9mIGBDaGlsZERpcmVjdGl2ZWAuXG4gKlxuICogYENoaWxkRGlyZWN0aXZlYCBkZXBlbmRzIG9uIHR3byBzZXJ2aWNlczogYEhvc3RTZXJ2aWNlYCBhbmQgYE90aGVyU2VydmljZWAuXG4gKiBgSG9zdFNlcnZpY2VgIGlzIGRlZmluZWQgYXQgYFBhcmVudENtcGAsIGFuZCBgT3RoZXJTZXJ2aWNlYCBpcyBkZWZpbmVkIGF0IGBBcHBgLlxuICpcbiAqYGBgdHlwZXNjcmlwdFxuICogY2xhc3MgT3RoZXJTZXJ2aWNlIHt9XG4gKiBjbGFzcyBIb3N0U2VydmljZSB7fVxuICpcbiAqIEBEaXJlY3RpdmUoe1xuICogICBzZWxlY3RvcjogJ2NoaWxkLWRpcmVjdGl2ZSdcbiAqIH0pXG4gKiBjbGFzcyBDaGlsZERpcmVjdGl2ZSB7XG4gKiAgIGNvbnN0cnVjdG9yKEBPcHRpb25hbCgpIEBIb3N0KCkgb3M6T3RoZXJTZXJ2aWNlLCBAT3B0aW9uYWwoKSBASG9zdCgpIGhzOkhvc3RTZXJ2aWNlKXtcbiAqICAgICBjb25zb2xlLmxvZyhcIm9zIGlzIG51bGxcIiwgb3MpO1xuICogICAgIGNvbnNvbGUubG9nKFwiaHMgaXMgTk9UIG51bGxcIiwgaHMpO1xuICogICB9XG4gKiB9XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAncGFyZW50LWNtcCcsXG4gKiAgIHByb3ZpZGVyczogW0hvc3RTZXJ2aWNlXSxcbiAqICAgdGVtcGxhdGU6IGBcbiAqICAgICBEaXI6IDxjaGlsZC1kaXJlY3RpdmU+PC9jaGlsZC1kaXJlY3RpdmU+XG4gKiAgIGAsXG4gKiAgIGRpcmVjdGl2ZXM6IFtDaGlsZERpcmVjdGl2ZV1cbiAqIH0pXG4gKiBjbGFzcyBQYXJlbnRDbXAge1xuICogfVxuICpcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ2FwcCcsXG4gKiAgIHByb3ZpZGVyczogW090aGVyU2VydmljZV0sXG4gKiAgIHRlbXBsYXRlOiBgXG4gKiAgICAgUGFyZW50OiA8cGFyZW50LWNtcD48L3BhcmVudC1jbXA+XG4gKiAgIGAsXG4gKiAgIGRpcmVjdGl2ZXM6IFtQYXJlbnRDbXBdXG4gKiB9KVxuICogY2xhc3MgQXBwIHtcbiAqIH1cbiAqXG4gKiBib290c3RyYXAoQXBwKTtcbiAqYGBgXG4gKiBAdHMyZGFydF9jb25zdFxuICovXG52YXIgSG9zdE1ldGFkYXRhID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIb3N0TWV0YWRhdGEoKSB7XG4gICAgfVxuICAgIEhvc3RNZXRhZGF0YS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBcIkBIb3N0KClcIjsgfTtcbiAgICByZXR1cm4gSG9zdE1ldGFkYXRhO1xufSgpKTtcbmV4cG9ydHMuSG9zdE1ldGFkYXRhID0gSG9zdE1ldGFkYXRhO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWV0YWRhdGEuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiogQ3JlYXRlcyBhIHRva2VuIHRoYXQgY2FuIGJlIHVzZWQgaW4gYSBESSBQcm92aWRlci5cbipcbiogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L1lzOWV6WHBqMk1ub3kzVWM4S0JwP3A9cHJldmlldykpXG4qXG4qIGBgYHR5cGVzY3JpcHRcbiogdmFyIHQgPSBuZXcgT3BhcXVlVG9rZW4oXCJ2YWx1ZVwiKTtcbipcbiogdmFyIGluamVjdG9yID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbXG4qICAgcHJvdmlkZSh0LCB7dXNlVmFsdWU6IFwiYmluZGluZ1ZhbHVlXCJ9KVxuKiBdKTtcbipcbiogZXhwZWN0KGluamVjdG9yLmdldCh0KSkudG9FcXVhbChcImJpbmRpbmdWYWx1ZVwiKTtcbiogYGBgXG4qXG4qIFVzaW5nIGFuIGBPcGFxdWVUb2tlbmAgaXMgcHJlZmVyYWJsZSB0byB1c2luZyBzdHJpbmdzIGFzIHRva2VucyBiZWNhdXNlIG9mIHBvc3NpYmxlIGNvbGxpc2lvbnNcbiogY2F1c2VkIGJ5IG11bHRpcGxlIHByb3ZpZGVycyB1c2luZyB0aGUgc2FtZSBzdHJpbmcgYXMgdHdvIGRpZmZlcmVudCB0b2tlbnMuXG4qXG4qIFVzaW5nIGFuIGBPcGFxdWVUb2tlbmAgaXMgcHJlZmVyYWJsZSB0byB1c2luZyBhbiBgT2JqZWN0YCBhcyB0b2tlbnMgYmVjYXVzZSBpdCBwcm92aWRlcyBiZXR0ZXJcbiogZXJyb3IgbWVzc2FnZXMuXG4qIEB0czJkYXJ0X2NvbnN0XG4qL1xudmFyIE9wYXF1ZVRva2VuID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPcGFxdWVUb2tlbihfZGVzYykge1xuICAgICAgICB0aGlzLl9kZXNjID0gX2Rlc2M7XG4gICAgfVxuICAgIE9wYXF1ZVRva2VuLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiVG9rZW4gXCIgKyB0aGlzLl9kZXNjOyB9O1xuICAgIHJldHVybiBPcGFxdWVUb2tlbjtcbn0oKSk7XG5leHBvcnRzLk9wYXF1ZVRva2VuID0gT3BhcXVlVG9rZW47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vcGFxdWVfdG9rZW4uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbi8qKlxuICogRGVzY3JpYmVzIGhvdyB0aGUge0BsaW5rIEluamVjdG9yfSBzaG91bGQgaW5zdGFudGlhdGUgYSBnaXZlbiB0b2tlbi5cbiAqXG4gKiBTZWUge0BsaW5rIHByb3ZpZGV9LlxuICpcbiAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9HTkF5ajZLNlBmWWcyTkJ6Z3daNT9wJTNEcHJldmlldyZwPXByZXZpZXcpKVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIHZhciBpbmplY3RvciA9IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW1xuICogICBuZXcgUHJvdmlkZXIoXCJtZXNzYWdlXCIsIHsgdXNlVmFsdWU6ICdIZWxsbycgfSlcbiAqIF0pO1xuICpcbiAqIGV4cGVjdChpbmplY3Rvci5nZXQoXCJtZXNzYWdlXCIpKS50b0VxdWFsKCdIZWxsbycpO1xuICogYGBgXG4gKiBAdHMyZGFydF9jb25zdFxuICovXG52YXIgUHJvdmlkZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFByb3ZpZGVyKHRva2VuLCBfYSkge1xuICAgICAgICB2YXIgdXNlQ2xhc3MgPSBfYS51c2VDbGFzcywgdXNlVmFsdWUgPSBfYS51c2VWYWx1ZSwgdXNlRXhpc3RpbmcgPSBfYS51c2VFeGlzdGluZywgdXNlRmFjdG9yeSA9IF9hLnVzZUZhY3RvcnksIGRlcHMgPSBfYS5kZXBzLCBtdWx0aSA9IF9hLm11bHRpO1xuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICAgIHRoaXMudXNlQ2xhc3MgPSB1c2VDbGFzcztcbiAgICAgICAgdGhpcy51c2VWYWx1ZSA9IHVzZVZhbHVlO1xuICAgICAgICB0aGlzLnVzZUV4aXN0aW5nID0gdXNlRXhpc3Rpbmc7XG4gICAgICAgIHRoaXMudXNlRmFjdG9yeSA9IHVzZUZhY3Rvcnk7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gZGVwcztcbiAgICAgICAgdGhpcy5fbXVsdGkgPSBtdWx0aTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByb3ZpZGVyLnByb3RvdHlwZSwgXCJtdWx0aVwiLCB7XG4gICAgICAgIC8vIFRPRE86IFByb3ZpZGUgYSBmdWxsIHdvcmtpbmcgZXhhbXBsZSBhZnRlciBhbHBoYTM4IGlzIHJlbGVhc2VkLlxuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlcyBtdWx0aXBsZSBwcm92aWRlcnMgbWF0Y2hpbmcgdGhlIHNhbWUgdG9rZW4gKGEgbXVsdGktcHJvdmlkZXIpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBNdWx0aS1wcm92aWRlcnMgYXJlIHVzZWQgZm9yIGNyZWF0aW5nIHBsdWdnYWJsZSBzZXJ2aWNlLCB3aGVyZSB0aGUgc3lzdGVtIGNvbWVzXG4gICAgICAgICAqIHdpdGggc29tZSBkZWZhdWx0IHByb3ZpZGVycywgYW5kIHRoZSB1c2VyIGNhbiByZWdpc3RlciBhZGRpdGlvbmFsIHByb3ZpZGVycy5cbiAgICAgICAgICogVGhlIGNvbWJpbmF0aW9uIG9mIHRoZSBkZWZhdWx0IHByb3ZpZGVycyBhbmQgdGhlIGFkZGl0aW9uYWwgcHJvdmlkZXJzIHdpbGwgYmVcbiAgICAgICAgICogdXNlZCB0byBkcml2ZSB0aGUgYmVoYXZpb3Igb2YgdGhlIHN5c3RlbS5cbiAgICAgICAgICpcbiAgICAgICAgICogIyMjIEV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAgICAgKiB2YXIgaW5qZWN0b3IgPSBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtcbiAgICAgICAgICogICBuZXcgUHJvdmlkZXIoXCJTdHJpbmdzXCIsIHsgdXNlVmFsdWU6IFwiU3RyaW5nMVwiLCBtdWx0aTogdHJ1ZX0pLFxuICAgICAgICAgKiAgIG5ldyBQcm92aWRlcihcIlN0cmluZ3NcIiwgeyB1c2VWYWx1ZTogXCJTdHJpbmcyXCIsIG11bHRpOiB0cnVlfSlcbiAgICAgICAgICogXSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIGV4cGVjdChpbmplY3Rvci5nZXQoXCJTdHJpbmdzXCIpKS50b0VxdWFsKFtcIlN0cmluZzFcIiwgXCJTdHJpbmcyXCJdKTtcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqXG4gICAgICAgICAqIE11bHRpLXByb3ZpZGVycyBhbmQgcmVndWxhciBwcm92aWRlcnMgY2Fubm90IGJlIG1peGVkLiBUaGUgZm9sbG93aW5nXG4gICAgICAgICAqIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uOlxuICAgICAgICAgKlxuICAgICAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICAgICAqIHZhciBpbmplY3RvciA9IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW1xuICAgICAgICAgKiAgIG5ldyBQcm92aWRlcihcIlN0cmluZ3NcIiwgeyB1c2VWYWx1ZTogXCJTdHJpbmcxXCIsIG11bHRpOiB0cnVlIH0pLFxuICAgICAgICAgKiAgIG5ldyBQcm92aWRlcihcIlN0cmluZ3NcIiwgeyB1c2VWYWx1ZTogXCJTdHJpbmcyXCJ9KVxuICAgICAgICAgKiBdKTtcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxhbmdfMS5ub3JtYWxpemVCb29sKHRoaXMuX211bHRpKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFByb3ZpZGVyO1xufSgpKTtcbmV4cG9ydHMuUHJvdmlkZXIgPSBQcm92aWRlcjtcbi8qKlxuICogU2VlIHtAbGluayBQcm92aWRlcn0gaW5zdGVhZC5cbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogQHRzMmRhcnRfY29uc3RcbiAqL1xudmFyIEJpbmRpbmcgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCaW5kaW5nLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJpbmRpbmcodG9rZW4sIF9hKSB7XG4gICAgICAgIHZhciB0b0NsYXNzID0gX2EudG9DbGFzcywgdG9WYWx1ZSA9IF9hLnRvVmFsdWUsIHRvQWxpYXMgPSBfYS50b0FsaWFzLCB0b0ZhY3RvcnkgPSBfYS50b0ZhY3RvcnksIGRlcHMgPSBfYS5kZXBzLCBtdWx0aSA9IF9hLm11bHRpO1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCB0b2tlbiwge1xuICAgICAgICAgICAgdXNlQ2xhc3M6IHRvQ2xhc3MsXG4gICAgICAgICAgICB1c2VWYWx1ZTogdG9WYWx1ZSxcbiAgICAgICAgICAgIHVzZUV4aXN0aW5nOiB0b0FsaWFzLFxuICAgICAgICAgICAgdXNlRmFjdG9yeTogdG9GYWN0b3J5LFxuICAgICAgICAgICAgZGVwczogZGVwcyxcbiAgICAgICAgICAgIG11bHRpOiBtdWx0aVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpbmRpbmcucHJvdG90eXBlLCBcInRvQ2xhc3NcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy51c2VDbGFzczsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpbmRpbmcucHJvdG90eXBlLCBcInRvQWxpYXNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy51c2VFeGlzdGluZzsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpbmRpbmcucHJvdG90eXBlLCBcInRvRmFjdG9yeVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnVzZUZhY3Rvcnk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaW5kaW5nLnByb3RvdHlwZSwgXCJ0b1ZhbHVlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXByZWNhdGVkXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMudXNlVmFsdWU7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCaW5kaW5nO1xufShQcm92aWRlcikpO1xuZXhwb3J0cy5CaW5kaW5nID0gQmluZGluZztcbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBQcm92aWRlcn0uXG4gKlxuICogVG8gY29uc3RydWN0IGEge0BsaW5rIFByb3ZpZGVyfSwgYmluZCBhIGB0b2tlbmAgdG8gZWl0aGVyIGEgY2xhc3MsIGEgdmFsdWUsIGEgZmFjdG9yeSBmdW5jdGlvbixcbiAqIG9yXG4gKiB0byBhbiBleGlzdGluZyBgdG9rZW5gLlxuICogU2VlIHtAbGluayBQcm92aWRlckJ1aWxkZXJ9IGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogVGhlIGB0b2tlbmAgaXMgbW9zdCBjb21tb25seSBhIGNsYXNzIG9yIHtAbGluayBPcGFxdWVUb2tlbi1jbGFzcy5odG1sfS5cbiAqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5mdW5jdGlvbiBiaW5kKHRva2VuKSB7XG4gICAgcmV0dXJuIG5ldyBQcm92aWRlckJ1aWxkZXIodG9rZW4pO1xufVxuZXhwb3J0cy5iaW5kID0gYmluZDtcbi8qKlxuICogSGVscGVyIGNsYXNzIGZvciB0aGUge0BsaW5rIGJpbmR9IGZ1bmN0aW9uLlxuICovXG52YXIgUHJvdmlkZXJCdWlsZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQcm92aWRlckJ1aWxkZXIodG9rZW4pIHtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCaW5kcyBhIERJIHRva2VuIHRvIGEgY2xhc3MuXG4gICAgICpcbiAgICAgKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvWnBCQ1NZcXY2ZTJ1ZDVLWExkeFE/cD1wcmV2aWV3KSlcbiAgICAgKlxuICAgICAqIEJlY2F1c2UgYHRvQWxpYXNgIGFuZCBgdG9DbGFzc2AgYXJlIG9mdGVuIGNvbmZ1c2VkLCB0aGUgZXhhbXBsZSBjb250YWluc1xuICAgICAqIGJvdGggdXNlIGNhc2VzIGZvciBlYXN5IGNvbXBhcmlzb24uXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY2xhc3MgVmVoaWNsZSB7fVxuICAgICAqXG4gICAgICogY2xhc3MgQ2FyIGV4dGVuZHMgVmVoaWNsZSB7fVxuICAgICAqXG4gICAgICogdmFyIGluamVjdG9yQ2xhc3MgPSBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtcbiAgICAgKiAgIENhcixcbiAgICAgKiAgIHByb3ZpZGUoVmVoaWNsZSwge3VzZUNsYXNzOiBDYXJ9KVxuICAgICAqIF0pO1xuICAgICAqIHZhciBpbmplY3RvckFsaWFzID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbXG4gICAgICogICBDYXIsXG4gICAgICogICBwcm92aWRlKFZlaGljbGUsIHt1c2VFeGlzdGluZzogQ2FyfSlcbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIGV4cGVjdChpbmplY3RvckNsYXNzLmdldChWZWhpY2xlKSkubm90LnRvQmUoaW5qZWN0b3JDbGFzcy5nZXQoQ2FyKSk7XG4gICAgICogZXhwZWN0KGluamVjdG9yQ2xhc3MuZ2V0KFZlaGljbGUpIGluc3RhbmNlb2YgQ2FyKS50b0JlKHRydWUpO1xuICAgICAqXG4gICAgICogZXhwZWN0KGluamVjdG9yQWxpYXMuZ2V0KFZlaGljbGUpKS50b0JlKGluamVjdG9yQWxpYXMuZ2V0KENhcikpO1xuICAgICAqIGV4cGVjdChpbmplY3RvckFsaWFzLmdldChWZWhpY2xlKSBpbnN0YW5jZW9mIENhcikudG9CZSh0cnVlKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBQcm92aWRlckJ1aWxkZXIucHJvdG90eXBlLnRvQ2xhc3MgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBpZiAoIWxhbmdfMS5pc1R5cGUodHlwZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbihcIlRyeWluZyB0byBjcmVhdGUgYSBjbGFzcyBwcm92aWRlciBidXQgXFxcIlwiICsgbGFuZ18xLnN0cmluZ2lmeSh0eXBlKSArIFwiXFxcIiBpcyBub3QgYSBjbGFzcyFcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm92aWRlcih0aGlzLnRva2VuLCB7IHVzZUNsYXNzOiB0eXBlIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZHMgYSBESSB0b2tlbiB0byBhIHZhbHVlLlxuICAgICAqXG4gICAgICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L0cwMjRQRkhtREwwY0pGZ2ZaSzhPP3A9cHJldmlldykpXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogdmFyIGluamVjdG9yID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbXG4gICAgICogICBwcm92aWRlKCdtZXNzYWdlJywge3VzZVZhbHVlOiAnSGVsbG8nfSlcbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIGV4cGVjdChpbmplY3Rvci5nZXQoJ21lc3NhZ2UnKSkudG9FcXVhbCgnSGVsbG8nKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBQcm92aWRlckJ1aWxkZXIucHJvdG90eXBlLnRvVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIG5ldyBQcm92aWRlcih0aGlzLnRva2VuLCB7IHVzZVZhbHVlOiB2YWx1ZSB9KTsgfTtcbiAgICAvKipcbiAgICAgKiBCaW5kcyBhIERJIHRva2VuIHRvIGFuIGV4aXN0aW5nIHRva2VuLlxuICAgICAqXG4gICAgICogQW5ndWxhciB3aWxsIHJldHVybiB0aGUgc2FtZSBpbnN0YW5jZSBhcyBpZiB0aGUgcHJvdmlkZWQgdG9rZW4gd2FzIHVzZWQuIChUaGlzIGlzXG4gICAgICogaW4gY29udHJhc3QgdG8gYHVzZUNsYXNzYCB3aGVyZSBhIHNlcGFyYXRlIGluc3RhbmNlIG9mIGB1c2VDbGFzc2Agd2lsbCBiZSByZXR1cm5lZC4pXG4gICAgICpcbiAgICAgKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvdUJhb0YycE41Y2ZjNUFmWmFwTnc/cD1wcmV2aWV3KSlcbiAgICAgKlxuICAgICAqIEJlY2F1c2UgYHRvQWxpYXNgIGFuZCBgdG9DbGFzc2AgYXJlIG9mdGVuIGNvbmZ1c2VkLCB0aGUgZXhhbXBsZSBjb250YWluc1xuICAgICAqIGJvdGggdXNlIGNhc2VzIGZvciBlYXN5IGNvbXBhcmlzb24uXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY2xhc3MgVmVoaWNsZSB7fVxuICAgICAqXG4gICAgICogY2xhc3MgQ2FyIGV4dGVuZHMgVmVoaWNsZSB7fVxuICAgICAqXG4gICAgICogdmFyIGluamVjdG9yQWxpYXMgPSBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtcbiAgICAgKiAgIENhcixcbiAgICAgKiAgIHByb3ZpZGUoVmVoaWNsZSwge3VzZUV4aXN0aW5nOiBDYXJ9KVxuICAgICAqIF0pO1xuICAgICAqIHZhciBpbmplY3RvckNsYXNzID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbXG4gICAgICogICBDYXIsXG4gICAgICogICBwcm92aWRlKFZlaGljbGUsIHt1c2VDbGFzczogQ2FyfSlcbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIGV4cGVjdChpbmplY3RvckFsaWFzLmdldChWZWhpY2xlKSkudG9CZShpbmplY3RvckFsaWFzLmdldChDYXIpKTtcbiAgICAgKiBleHBlY3QoaW5qZWN0b3JBbGlhcy5nZXQoVmVoaWNsZSkgaW5zdGFuY2VvZiBDYXIpLnRvQmUodHJ1ZSk7XG4gICAgICpcbiAgICAgKiBleHBlY3QoaW5qZWN0b3JDbGFzcy5nZXQoVmVoaWNsZSkpLm5vdC50b0JlKGluamVjdG9yQ2xhc3MuZ2V0KENhcikpO1xuICAgICAqIGV4cGVjdChpbmplY3RvckNsYXNzLmdldChWZWhpY2xlKSBpbnN0YW5jZW9mIENhcikudG9CZSh0cnVlKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBQcm92aWRlckJ1aWxkZXIucHJvdG90eXBlLnRvQWxpYXMgPSBmdW5jdGlvbiAoYWxpYXNUb2tlbikge1xuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsoYWxpYXNUb2tlbikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbihcIkNhbiBub3QgYWxpYXMgXCIgKyBsYW5nXzEuc3RyaW5naWZ5KHRoaXMudG9rZW4pICsgXCIgdG8gYSBibGFuayB2YWx1ZSFcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm92aWRlcih0aGlzLnRva2VuLCB7IHVzZUV4aXN0aW5nOiBhbGlhc1Rva2VuIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZHMgYSBESSB0b2tlbiB0byBhIGZ1bmN0aW9uIHdoaWNoIGNvbXB1dGVzIHRoZSB2YWx1ZS5cbiAgICAgKlxuICAgICAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9PZWpOSWZUVDN6YjFpQnhhSVlPYj9wPXByZXZpZXcpKVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIHZhciBpbmplY3RvciA9IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW1xuICAgICAqICAgcHJvdmlkZShOdW1iZXIsIHt1c2VGYWN0b3J5OiAoKSA9PiB7IHJldHVybiAxKzI7IH19KSxcbiAgICAgKiAgIHByb3ZpZGUoU3RyaW5nLCB7dXNlRmFjdG9yeTogKHYpID0+IHsgcmV0dXJuIFwiVmFsdWU6IFwiICsgdjsgfSwgZGVwczogW051bWJlcl19KVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogZXhwZWN0KGluamVjdG9yLmdldChOdW1iZXIpKS50b0VxdWFsKDMpO1xuICAgICAqIGV4cGVjdChpbmplY3Rvci5nZXQoU3RyaW5nKSkudG9FcXVhbCgnVmFsdWU6IDMnKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBQcm92aWRlckJ1aWxkZXIucHJvdG90eXBlLnRvRmFjdG9yeSA9IGZ1bmN0aW9uIChmYWN0b3J5LCBkZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgaWYgKCFsYW5nXzEuaXNGdW5jdGlvbihmYWN0b3J5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiVHJ5aW5nIHRvIGNyZWF0ZSBhIGZhY3RvcnkgcHJvdmlkZXIgYnV0IFxcXCJcIiArIGxhbmdfMS5zdHJpbmdpZnkoZmFjdG9yeSkgKyBcIlxcXCIgaXMgbm90IGEgZnVuY3Rpb24hXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvdmlkZXIodGhpcy50b2tlbiwgeyB1c2VGYWN0b3J5OiBmYWN0b3J5LCBkZXBzOiBkZXBlbmRlbmNpZXMgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gUHJvdmlkZXJCdWlsZGVyO1xufSgpKTtcbmV4cG9ydHMuUHJvdmlkZXJCdWlsZGVyID0gUHJvdmlkZXJCdWlsZGVyO1xuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIFByb3ZpZGVyfS5cbiAqXG4gKiBTZWUge0BsaW5rIFByb3ZpZGVyfSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIDwhLS0gVE9ETzogaW1wcm92ZSB0aGUgZG9jcyAtLT5cbiAqL1xuZnVuY3Rpb24gcHJvdmlkZSh0b2tlbiwgX2EpIHtcbiAgICB2YXIgdXNlQ2xhc3MgPSBfYS51c2VDbGFzcywgdXNlVmFsdWUgPSBfYS51c2VWYWx1ZSwgdXNlRXhpc3RpbmcgPSBfYS51c2VFeGlzdGluZywgdXNlRmFjdG9yeSA9IF9hLnVzZUZhY3RvcnksIGRlcHMgPSBfYS5kZXBzLCBtdWx0aSA9IF9hLm11bHRpO1xuICAgIHJldHVybiBuZXcgUHJvdmlkZXIodG9rZW4sIHtcbiAgICAgICAgdXNlQ2xhc3M6IHVzZUNsYXNzLFxuICAgICAgICB1c2VWYWx1ZTogdXNlVmFsdWUsXG4gICAgICAgIHVzZUV4aXN0aW5nOiB1c2VFeGlzdGluZyxcbiAgICAgICAgdXNlRmFjdG9yeTogdXNlRmFjdG9yeSxcbiAgICAgICAgZGVwczogZGVwcyxcbiAgICAgICAgbXVsdGk6IG11bHRpXG4gICAgfSk7XG59XG5leHBvcnRzLnByb3ZpZGUgPSBwcm92aWRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvdmlkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgcHJvdmlkZXJfMSA9IHJlcXVpcmUoJy4vcHJvdmlkZXInKTtcbmZ1bmN0aW9uIGlzUHJvdmlkZXJMaXRlcmFsKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgdHlwZW9mIG9iaiA9PSAnb2JqZWN0JyAmJiBvYmoucHJvdmlkZTtcbn1cbmV4cG9ydHMuaXNQcm92aWRlckxpdGVyYWwgPSBpc1Byb3ZpZGVyTGl0ZXJhbDtcbmZ1bmN0aW9uIGNyZWF0ZVByb3ZpZGVyKG9iaikge1xuICAgIHJldHVybiBuZXcgcHJvdmlkZXJfMS5Qcm92aWRlcihvYmoucHJvdmlkZSwgb2JqKTtcbn1cbmV4cG9ydHMuY3JlYXRlUHJvdmlkZXIgPSBjcmVhdGVQcm92aWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb3ZpZGVyX3V0aWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbmZ1bmN0aW9uIGZpbmRGaXJzdENsb3NlZEN5Y2xlKGtleXMpIHtcbiAgICB2YXIgcmVzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuY29udGFpbnMocmVzLCBrZXlzW2ldKSkge1xuICAgICAgICAgICAgcmVzLnB1c2goa2V5c1tpXSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzLnB1c2goa2V5c1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGNvbnN0cnVjdFJlc29sdmluZ1BhdGgoa2V5cykge1xuICAgIGlmIChrZXlzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFyIHJldmVyc2VkID0gZmluZEZpcnN0Q2xvc2VkQ3ljbGUoY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLnJldmVyc2VkKGtleXMpKTtcbiAgICAgICAgdmFyIHRva2VuU3RycyA9IHJldmVyc2VkLm1hcChmdW5jdGlvbiAoaykgeyByZXR1cm4gbGFuZ18xLnN0cmluZ2lmeShrLnRva2VuKTsgfSk7XG4gICAgICAgIHJldHVybiBcIiAoXCIgKyB0b2tlblN0cnMuam9pbignIC0+ICcpICsgXCIpXCI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGFsbCBlcnJvcnMgYXJpc2luZyBmcm9tIG1pc2NvbmZpZ3VyZWQgcHJvdmlkZXJzLlxuICovXG52YXIgQWJzdHJhY3RQcm92aWRlckVycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWJzdHJhY3RQcm92aWRlckVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0UHJvdmlkZXJFcnJvcihpbmplY3Rvciwga2V5LCBjb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIFwiREkgRXhjZXB0aW9uXCIpO1xuICAgICAgICB0aGlzLmtleXMgPSBba2V5XTtcbiAgICAgICAgdGhpcy5pbmplY3RvcnMgPSBbaW5qZWN0b3JdO1xuICAgICAgICB0aGlzLmNvbnN0cnVjdFJlc29sdmluZ01lc3NhZ2UgPSBjb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLmNvbnN0cnVjdFJlc29sdmluZ01lc3NhZ2UodGhpcy5rZXlzKTtcbiAgICB9XG4gICAgQWJzdHJhY3RQcm92aWRlckVycm9yLnByb3RvdHlwZS5hZGRLZXkgPSBmdW5jdGlvbiAoaW5qZWN0b3IsIGtleSkge1xuICAgICAgICB0aGlzLmluamVjdG9ycy5wdXNoKGluamVjdG9yKTtcbiAgICAgICAgdGhpcy5rZXlzLnB1c2goa2V5KTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gdGhpcy5jb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlKHRoaXMua2V5cyk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RQcm92aWRlckVycm9yLnByb3RvdHlwZSwgXCJjb250ZXh0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmluamVjdG9yc1t0aGlzLmluamVjdG9ycy5sZW5ndGggLSAxXS5kZWJ1Z0NvbnRleHQoKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEFic3RyYWN0UHJvdmlkZXJFcnJvcjtcbn0oZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24pKTtcbmV4cG9ydHMuQWJzdHJhY3RQcm92aWRlckVycm9yID0gQWJzdHJhY3RQcm92aWRlckVycm9yO1xuLyoqXG4gKiBUaHJvd24gd2hlbiB0cnlpbmcgdG8gcmV0cmlldmUgYSBkZXBlbmRlbmN5IGJ5IGBLZXlgIGZyb20ge0BsaW5rIEluamVjdG9yfSwgYnV0IHRoZVxuICoge0BsaW5rIEluamVjdG9yfSBkb2VzIG5vdCBoYXZlIGEge0BsaW5rIFByb3ZpZGVyfSBmb3Ige0BsaW5rIEtleX0uXG4gKlxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L3ZxOEQzRlJCOWFHYm5XSnF0RVBFP3A9cHJldmlldykpXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY2xhc3MgQSB7XG4gKiAgIGNvbnN0cnVjdG9yKGI6Qikge31cbiAqIH1cbiAqXG4gKiBleHBlY3QoKCkgPT4gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQV0pKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICovXG52YXIgTm9Qcm92aWRlckVycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTm9Qcm92aWRlckVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE5vUHJvdmlkZXJFcnJvcihpbmplY3Rvciwga2V5KSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGluamVjdG9yLCBrZXksIGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgICAgICAgICB2YXIgZmlyc3QgPSBsYW5nXzEuc3RyaW5naWZ5KGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5maXJzdChrZXlzKS50b2tlbik7XG4gICAgICAgICAgICByZXR1cm4gXCJObyBwcm92aWRlciBmb3IgXCIgKyBmaXJzdCArIFwiIVwiICsgY29uc3RydWN0UmVzb2x2aW5nUGF0aChrZXlzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBOb1Byb3ZpZGVyRXJyb3I7XG59KEFic3RyYWN0UHJvdmlkZXJFcnJvcikpO1xuZXhwb3J0cy5Ob1Byb3ZpZGVyRXJyb3IgPSBOb1Byb3ZpZGVyRXJyb3I7XG4vKipcbiAqIFRocm93biB3aGVuIGRlcGVuZGVuY2llcyBmb3JtIGEgY3ljbGUuXG4gKlxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L3dZUWROb3MwVHpxbDNlaTFFVjlqP3A9aW5mbykpXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogdmFyIGluamVjdG9yID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbXG4gKiAgIHByb3ZpZGUoXCJvbmVcIiwge3VzZUZhY3Rvcnk6ICh0d28pID0+IFwidHdvXCIsIGRlcHM6IFtbbmV3IEluamVjdChcInR3b1wiKV1dfSksXG4gKiAgIHByb3ZpZGUoXCJ0d29cIiwge3VzZUZhY3Rvcnk6IChvbmUpID0+IFwib25lXCIsIGRlcHM6IFtbbmV3IEluamVjdChcIm9uZVwiKV1dfSlcbiAqIF0pO1xuICpcbiAqIGV4cGVjdCgoKSA9PiBpbmplY3Rvci5nZXQoXCJvbmVcIikpLnRvVGhyb3dFcnJvcigpO1xuICogYGBgXG4gKlxuICogUmV0cmlldmluZyBgQWAgb3IgYEJgIHRocm93cyBhIGBDeWNsaWNEZXBlbmRlbmN5RXJyb3JgIGFzIHRoZSBncmFwaCBhYm92ZSBjYW5ub3QgYmUgY29uc3RydWN0ZWQuXG4gKi9cbnZhciBDeWNsaWNEZXBlbmRlbmN5RXJyb3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDeWNsaWNEZXBlbmRlbmN5RXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ3ljbGljRGVwZW5kZW5jeUVycm9yKGluamVjdG9yLCBrZXkpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgaW5qZWN0b3IsIGtleSwgZnVuY3Rpb24gKGtleXMpIHtcbiAgICAgICAgICAgIHJldHVybiBcIkNhbm5vdCBpbnN0YW50aWF0ZSBjeWNsaWMgZGVwZW5kZW5jeSFcIiArIGNvbnN0cnVjdFJlc29sdmluZ1BhdGgoa2V5cyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gQ3ljbGljRGVwZW5kZW5jeUVycm9yO1xufShBYnN0cmFjdFByb3ZpZGVyRXJyb3IpKTtcbmV4cG9ydHMuQ3ljbGljRGVwZW5kZW5jeUVycm9yID0gQ3ljbGljRGVwZW5kZW5jeUVycm9yO1xuLyoqXG4gKiBUaHJvd24gd2hlbiBhIGNvbnN0cnVjdGluZyB0eXBlIHJldHVybnMgd2l0aCBhbiBFcnJvci5cbiAqXG4gKiBUaGUgYEluc3RhbnRpYXRpb25FcnJvcmAgY2xhc3MgY29udGFpbnMgdGhlIG9yaWdpbmFsIGVycm9yIHBsdXMgdGhlIGRlcGVuZGVuY3kgZ3JhcGggd2hpY2ggY2F1c2VkXG4gKiB0aGlzIG9iamVjdCB0byBiZSBpbnN0YW50aWF0ZWQuXG4gKlxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0LzdhV1lkY3FUUXNQMGVOcUVkVUFmP3A9cHJldmlldykpXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY2xhc3MgQSB7XG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgIHRocm93IG5ldyBFcnJvcignbWVzc2FnZScpO1xuICogICB9XG4gKiB9XG4gKlxuICogdmFyIGluamVjdG9yID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQV0pO1xuXG4gKiB0cnkge1xuICogICBpbmplY3Rvci5nZXQoQSk7XG4gKiB9IGNhdGNoIChlKSB7XG4gKiAgIGV4cGVjdChlIGluc3RhbmNlb2YgSW5zdGFudGlhdGlvbkVycm9yKS50b0JlKHRydWUpO1xuICogICBleHBlY3QoZS5vcmlnaW5hbEV4Y2VwdGlvbi5tZXNzYWdlKS50b0VxdWFsKFwibWVzc2FnZVwiKTtcbiAqICAgZXhwZWN0KGUub3JpZ2luYWxTdGFjaykudG9CZURlZmluZWQoKTtcbiAqIH1cbiAqIGBgYFxuICovXG52YXIgSW5zdGFudGlhdGlvbkVycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW5zdGFudGlhdGlvbkVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEluc3RhbnRpYXRpb25FcnJvcihpbmplY3Rvciwgb3JpZ2luYWxFeGNlcHRpb24sIG9yaWdpbmFsU3RhY2ssIGtleSkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBcIkRJIEV4Y2VwdGlvblwiLCBvcmlnaW5hbEV4Y2VwdGlvbiwgb3JpZ2luYWxTdGFjaywgbnVsbCk7XG4gICAgICAgIHRoaXMua2V5cyA9IFtrZXldO1xuICAgICAgICB0aGlzLmluamVjdG9ycyA9IFtpbmplY3Rvcl07XG4gICAgfVxuICAgIEluc3RhbnRpYXRpb25FcnJvci5wcm90b3R5cGUuYWRkS2V5ID0gZnVuY3Rpb24gKGluamVjdG9yLCBrZXkpIHtcbiAgICAgICAgdGhpcy5pbmplY3RvcnMucHVzaChpbmplY3Rvcik7XG4gICAgICAgIHRoaXMua2V5cy5wdXNoKGtleSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW5zdGFudGlhdGlvbkVycm9yLnByb3RvdHlwZSwgXCJ3cmFwcGVyTWVzc2FnZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGZpcnN0ID0gbGFuZ18xLnN0cmluZ2lmeShjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuZmlyc3QodGhpcy5rZXlzKS50b2tlbik7XG4gICAgICAgICAgICByZXR1cm4gXCJFcnJvciBkdXJpbmcgaW5zdGFudGlhdGlvbiBvZiBcIiArIGZpcnN0ICsgXCIhXCIgKyBjb25zdHJ1Y3RSZXNvbHZpbmdQYXRoKHRoaXMua2V5cykgKyBcIi5cIjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEluc3RhbnRpYXRpb25FcnJvci5wcm90b3R5cGUsIFwiY2F1c2VLZXlcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMua2V5c1swXTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEluc3RhbnRpYXRpb25FcnJvci5wcm90b3R5cGUsIFwiY29udGV4dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5pbmplY3RvcnNbdGhpcy5pbmplY3RvcnMubGVuZ3RoIC0gMV0uZGVidWdDb250ZXh0KCk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBJbnN0YW50aWF0aW9uRXJyb3I7XG59KGV4Y2VwdGlvbnNfMS5XcmFwcGVkRXhjZXB0aW9uKSk7XG5leHBvcnRzLkluc3RhbnRpYXRpb25FcnJvciA9IEluc3RhbnRpYXRpb25FcnJvcjtcbi8qKlxuICogVGhyb3duIHdoZW4gYW4gb2JqZWN0IG90aGVyIHRoZW4ge0BsaW5rIFByb3ZpZGVyfSAob3IgYFR5cGVgKSBpcyBwYXNzZWQgdG8ge0BsaW5rIEluamVjdG9yfVxuICogY3JlYXRpb24uXG4gKlxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L1lhdENGYlBBTUNMMEpTU1E0bXZIP3A9cHJldmlldykpXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogZXhwZWN0KCgpID0+IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW1wibm90IGEgdHlwZVwiXSkpLnRvVGhyb3dFcnJvcigpO1xuICogYGBgXG4gKi9cbnZhciBJbnZhbGlkUHJvdmlkZXJFcnJvciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEludmFsaWRQcm92aWRlckVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEludmFsaWRQcm92aWRlckVycm9yKHByb3ZpZGVyKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIFwiSW52YWxpZCBwcm92aWRlciAtIG9ubHkgaW5zdGFuY2VzIG9mIFByb3ZpZGVyIGFuZCBUeXBlIGFyZSBhbGxvd2VkLCBnb3Q6IFwiICtcbiAgICAgICAgICAgIHByb3ZpZGVyLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICByZXR1cm4gSW52YWxpZFByb3ZpZGVyRXJyb3I7XG59KGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKSk7XG5leHBvcnRzLkludmFsaWRQcm92aWRlckVycm9yID0gSW52YWxpZFByb3ZpZGVyRXJyb3I7XG4vKipcbiAqIFRocm93biB3aGVuIHRoZSBjbGFzcyBoYXMgbm8gYW5ub3RhdGlvbiBpbmZvcm1hdGlvbi5cbiAqXG4gKiBMYWNrIG9mIGFubm90YXRpb24gaW5mb3JtYXRpb24gcHJldmVudHMgdGhlIHtAbGluayBJbmplY3Rvcn0gZnJvbSBkZXRlcm1pbmluZyB3aGljaCBkZXBlbmRlbmNpZXNcbiAqIG5lZWQgdG8gYmUgaW5qZWN0ZWQgaW50byB0aGUgY29uc3RydWN0b3IuXG4gKlxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L3JIblp0bE5TN3ZKT1BRNnBjVmttP3A9cHJldmlldykpXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY2xhc3MgQSB7XG4gKiAgIGNvbnN0cnVjdG9yKGIpIHt9XG4gKiB9XG4gKlxuICogZXhwZWN0KCgpID0+IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0FdKSkudG9UaHJvd0Vycm9yKCk7XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGVycm9yIGlzIGFsc28gdGhyb3duIHdoZW4gdGhlIGNsYXNzIG5vdCBtYXJrZWQgd2l0aCB7QGxpbmsgSW5qZWN0YWJsZX0gaGFzIHBhcmFtZXRlciB0eXBlcy5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjbGFzcyBCIHt9XG4gKlxuICogY2xhc3MgQSB7XG4gKiAgIGNvbnN0cnVjdG9yKGI6Qikge30gLy8gbm8gaW5mb3JtYXRpb24gYWJvdXQgdGhlIHBhcmFtZXRlciB0eXBlcyBvZiBBIGlzIGF2YWlsYWJsZSBhdCBydW50aW1lLlxuICogfVxuICpcbiAqIGV4cGVjdCgoKSA9PiBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtBLEJdKSkudG9UaHJvd0Vycm9yKCk7XG4gKiBgYGBcbiAqL1xudmFyIE5vQW5ub3RhdGlvbkVycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTm9Bbm5vdGF0aW9uRXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTm9Bbm5vdGF0aW9uRXJyb3IodHlwZU9yRnVuYywgcGFyYW1zKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIE5vQW5ub3RhdGlvbkVycm9yLl9nZW5NZXNzYWdlKHR5cGVPckZ1bmMsIHBhcmFtcykpO1xuICAgIH1cbiAgICBOb0Fubm90YXRpb25FcnJvci5fZ2VuTWVzc2FnZSA9IGZ1bmN0aW9uICh0eXBlT3JGdW5jLCBwYXJhbXMpIHtcbiAgICAgICAgdmFyIHNpZ25hdHVyZSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBwYXJhbXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhcmFtZXRlciA9IHBhcmFtc1tpXTtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhwYXJhbWV0ZXIpIHx8IHBhcmFtZXRlci5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIHNpZ25hdHVyZS5wdXNoKCc/Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaWduYXR1cmUucHVzaChwYXJhbWV0ZXIubWFwKGxhbmdfMS5zdHJpbmdpZnkpLmpvaW4oJyAnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiQ2Fubm90IHJlc29sdmUgYWxsIHBhcmFtZXRlcnMgZm9yICdcIiArIGxhbmdfMS5zdHJpbmdpZnkodHlwZU9yRnVuYykgKyBcIicoXCIgK1xuICAgICAgICAgICAgc2lnbmF0dXJlLmpvaW4oJywgJykgKyBcIikuIFwiICtcbiAgICAgICAgICAgIFwiTWFrZSBzdXJlIHRoYXQgYWxsIHRoZSBwYXJhbWV0ZXJzIGFyZSBkZWNvcmF0ZWQgd2l0aCBJbmplY3Qgb3IgaGF2ZSB2YWxpZCB0eXBlIGFubm90YXRpb25zIGFuZCB0aGF0ICdcIiArXG4gICAgICAgICAgICBsYW5nXzEuc3RyaW5naWZ5KHR5cGVPckZ1bmMpICsgXCInIGlzIGRlY29yYXRlZCB3aXRoIEluamVjdGFibGUuXCI7XG4gICAgfTtcbiAgICByZXR1cm4gTm9Bbm5vdGF0aW9uRXJyb3I7XG59KGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKSk7XG5leHBvcnRzLk5vQW5ub3RhdGlvbkVycm9yID0gTm9Bbm5vdGF0aW9uRXJyb3I7XG4vKipcbiAqIFRocm93biB3aGVuIGdldHRpbmcgYW4gb2JqZWN0IGJ5IGluZGV4LlxuICpcbiAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9iUnMwU1gyT1RRaUp6cXZqZ2w4UD9wPXByZXZpZXcpKVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNsYXNzIEEge31cbiAqXG4gKiB2YXIgaW5qZWN0b3IgPSBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtBXSk7XG4gKlxuICogZXhwZWN0KCgpID0+IGluamVjdG9yLmdldEF0KDEwMCkpLnRvVGhyb3dFcnJvcigpO1xuICogYGBgXG4gKi9cbnZhciBPdXRPZkJvdW5kc0Vycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoT3V0T2ZCb3VuZHNFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPdXRPZkJvdW5kc0Vycm9yKGluZGV4KSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIFwiSW5kZXggXCIgKyBpbmRleCArIFwiIGlzIG91dC1vZi1ib3VuZHMuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gT3V0T2ZCb3VuZHNFcnJvcjtcbn0oZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24pKTtcbmV4cG9ydHMuT3V0T2ZCb3VuZHNFcnJvciA9IE91dE9mQm91bmRzRXJyb3I7XG4vLyBUT0RPOiBhZGQgYSB3b3JraW5nIGV4YW1wbGUgYWZ0ZXIgYWxwaGEzOCBpcyByZWxlYXNlZFxuLyoqXG4gKiBUaHJvd24gd2hlbiBhIG11bHRpIHByb3ZpZGVyIGFuZCBhIHJlZ3VsYXIgcHJvdmlkZXIgYXJlIGJvdW5kIHRvIHRoZSBzYW1lIHRva2VuLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogZXhwZWN0KCgpID0+IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW1xuICogICBuZXcgUHJvdmlkZXIoXCJTdHJpbmdzXCIsIHt1c2VWYWx1ZTogXCJzdHJpbmcxXCIsIG11bHRpOiB0cnVlfSksXG4gKiAgIG5ldyBQcm92aWRlcihcIlN0cmluZ3NcIiwge3VzZVZhbHVlOiBcInN0cmluZzJcIiwgbXVsdGk6IGZhbHNlfSlcbiAqIF0pKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICovXG52YXIgTWl4aW5nTXVsdGlQcm92aWRlcnNXaXRoUmVndWxhclByb3ZpZGVyc0Vycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTWl4aW5nTXVsdGlQcm92aWRlcnNXaXRoUmVndWxhclByb3ZpZGVyc0Vycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1peGluZ011bHRpUHJvdmlkZXJzV2l0aFJlZ3VsYXJQcm92aWRlcnNFcnJvcihwcm92aWRlcjEsIHByb3ZpZGVyMikge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBcIkNhbm5vdCBtaXggbXVsdGkgcHJvdmlkZXJzIGFuZCByZWd1bGFyIHByb3ZpZGVycywgZ290OiBcIiArIHByb3ZpZGVyMS50b1N0cmluZygpICsgXCIgXCIgK1xuICAgICAgICAgICAgcHJvdmlkZXIyLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICByZXR1cm4gTWl4aW5nTXVsdGlQcm92aWRlcnNXaXRoUmVndWxhclByb3ZpZGVyc0Vycm9yO1xufShleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbikpO1xuZXhwb3J0cy5NaXhpbmdNdWx0aVByb3ZpZGVyc1dpdGhSZWd1bGFyUHJvdmlkZXJzRXJyb3IgPSBNaXhpbmdNdWx0aVByb3ZpZGVyc1dpdGhSZWd1bGFyUHJvdmlkZXJzRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWZsZWN0aXZlX2V4Y2VwdGlvbnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9jb2xsZWN0aW9uJyk7XG52YXIgcmVmbGVjdGl2ZV9wcm92aWRlcl8xID0gcmVxdWlyZSgnLi9yZWZsZWN0aXZlX3Byb3ZpZGVyJyk7XG52YXIgcmVmbGVjdGl2ZV9leGNlcHRpb25zXzEgPSByZXF1aXJlKCcuL3JlZmxlY3RpdmVfZXhjZXB0aW9ucycpO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvZXhjZXB0aW9ucycpO1xudmFyIHJlZmxlY3RpdmVfa2V5XzEgPSByZXF1aXJlKCcuL3JlZmxlY3RpdmVfa2V5Jyk7XG52YXIgbWV0YWRhdGFfMSA9IHJlcXVpcmUoJy4vbWV0YWRhdGEnKTtcbnZhciBpbmplY3Rvcl8xID0gcmVxdWlyZSgnLi9pbmplY3RvcicpO1xudmFyIF9fdW51c2VkOyAvLyBhdm9pZCB1bnVzZWQgaW1wb3J0IHdoZW4gVHlwZSB1bmlvbiB0eXBlcyBhcmUgZXJhc2VkXG4vLyBUaHJlc2hvbGQgZm9yIHRoZSBkeW5hbWljIHZlcnNpb25cbnZhciBfTUFYX0NPTlNUUlVDVElPTl9DT1VOVEVSID0gMTA7XG52YXIgVU5ERUZJTkVEID0gbmV3IE9iamVjdCgpO1xudmFyIFJlZmxlY3RpdmVQcm90b0luamVjdG9ySW5saW5lU3RyYXRlZ3kgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlZmxlY3RpdmVQcm90b0luamVjdG9ySW5saW5lU3RyYXRlZ3kocHJvdG9FSSwgcHJvdmlkZXJzKSB7XG4gICAgICAgIHRoaXMucHJvdmlkZXIwID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm92aWRlcjEgPSBudWxsO1xuICAgICAgICB0aGlzLnByb3ZpZGVyMiA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvdmlkZXIzID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm92aWRlcjQgPSBudWxsO1xuICAgICAgICB0aGlzLnByb3ZpZGVyNSA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvdmlkZXI2ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm92aWRlcjcgPSBudWxsO1xuICAgICAgICB0aGlzLnByb3ZpZGVyOCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvdmlkZXI5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5rZXlJZDAgPSBudWxsO1xuICAgICAgICB0aGlzLmtleUlkMSA9IG51bGw7XG4gICAgICAgIHRoaXMua2V5SWQyID0gbnVsbDtcbiAgICAgICAgdGhpcy5rZXlJZDMgPSBudWxsO1xuICAgICAgICB0aGlzLmtleUlkNCA9IG51bGw7XG4gICAgICAgIHRoaXMua2V5SWQ1ID0gbnVsbDtcbiAgICAgICAgdGhpcy5rZXlJZDYgPSBudWxsO1xuICAgICAgICB0aGlzLmtleUlkNyA9IG51bGw7XG4gICAgICAgIHRoaXMua2V5SWQ4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5rZXlJZDkgPSBudWxsO1xuICAgICAgICB2YXIgbGVuZ3RoID0gcHJvdmlkZXJzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMucHJvdmlkZXIwID0gcHJvdmlkZXJzWzBdO1xuICAgICAgICAgICAgdGhpcy5rZXlJZDAgPSBwcm92aWRlcnNbMF0ua2V5LmlkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aGlzLnByb3ZpZGVyMSA9IHByb3ZpZGVyc1sxXTtcbiAgICAgICAgICAgIHRoaXMua2V5SWQxID0gcHJvdmlkZXJzWzFdLmtleS5pZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGVuZ3RoID4gMikge1xuICAgICAgICAgICAgdGhpcy5wcm92aWRlcjIgPSBwcm92aWRlcnNbMl07XG4gICAgICAgICAgICB0aGlzLmtleUlkMiA9IHByb3ZpZGVyc1syXS5rZXkuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlbmd0aCA+IDMpIHtcbiAgICAgICAgICAgIHRoaXMucHJvdmlkZXIzID0gcHJvdmlkZXJzWzNdO1xuICAgICAgICAgICAgdGhpcy5rZXlJZDMgPSBwcm92aWRlcnNbM10ua2V5LmlkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsZW5ndGggPiA0KSB7XG4gICAgICAgICAgICB0aGlzLnByb3ZpZGVyNCA9IHByb3ZpZGVyc1s0XTtcbiAgICAgICAgICAgIHRoaXMua2V5SWQ0ID0gcHJvdmlkZXJzWzRdLmtleS5pZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGVuZ3RoID4gNSkge1xuICAgICAgICAgICAgdGhpcy5wcm92aWRlcjUgPSBwcm92aWRlcnNbNV07XG4gICAgICAgICAgICB0aGlzLmtleUlkNSA9IHByb3ZpZGVyc1s1XS5rZXkuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlbmd0aCA+IDYpIHtcbiAgICAgICAgICAgIHRoaXMucHJvdmlkZXI2ID0gcHJvdmlkZXJzWzZdO1xuICAgICAgICAgICAgdGhpcy5rZXlJZDYgPSBwcm92aWRlcnNbNl0ua2V5LmlkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsZW5ndGggPiA3KSB7XG4gICAgICAgICAgICB0aGlzLnByb3ZpZGVyNyA9IHByb3ZpZGVyc1s3XTtcbiAgICAgICAgICAgIHRoaXMua2V5SWQ3ID0gcHJvdmlkZXJzWzddLmtleS5pZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGVuZ3RoID4gOCkge1xuICAgICAgICAgICAgdGhpcy5wcm92aWRlcjggPSBwcm92aWRlcnNbOF07XG4gICAgICAgICAgICB0aGlzLmtleUlkOCA9IHByb3ZpZGVyc1s4XS5rZXkuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlbmd0aCA+IDkpIHtcbiAgICAgICAgICAgIHRoaXMucHJvdmlkZXI5ID0gcHJvdmlkZXJzWzldO1xuICAgICAgICAgICAgdGhpcy5rZXlJZDkgPSBwcm92aWRlcnNbOV0ua2V5LmlkO1xuICAgICAgICB9XG4gICAgfVxuICAgIFJlZmxlY3RpdmVQcm90b0luamVjdG9ySW5saW5lU3RyYXRlZ3kucHJvdG90eXBlLmdldFByb3ZpZGVyQXRJbmRleCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPT0gMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVyMDtcbiAgICAgICAgaWYgKGluZGV4ID09IDEpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm92aWRlcjE7XG4gICAgICAgIGlmIChpbmRleCA9PSAyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXIyO1xuICAgICAgICBpZiAoaW5kZXggPT0gMylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVyMztcbiAgICAgICAgaWYgKGluZGV4ID09IDQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm92aWRlcjQ7XG4gICAgICAgIGlmIChpbmRleCA9PSA1KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXI1O1xuICAgICAgICBpZiAoaW5kZXggPT0gNilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVyNjtcbiAgICAgICAgaWYgKGluZGV4ID09IDcpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm92aWRlcjc7XG4gICAgICAgIGlmIChpbmRleCA9PSA4KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXI4O1xuICAgICAgICBpZiAoaW5kZXggPT0gOSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVyOTtcbiAgICAgICAgdGhyb3cgbmV3IHJlZmxlY3RpdmVfZXhjZXB0aW9uc18xLk91dE9mQm91bmRzRXJyb3IoaW5kZXgpO1xuICAgIH07XG4gICAgUmVmbGVjdGl2ZVByb3RvSW5qZWN0b3JJbmxpbmVTdHJhdGVneS5wcm90b3R5cGUuY3JlYXRlSW5qZWN0b3JTdHJhdGVneSA9IGZ1bmN0aW9uIChpbmplY3Rvcikge1xuICAgICAgICByZXR1cm4gbmV3IFJlZmxlY3RpdmVJbmplY3RvcklubGluZVN0cmF0ZWd5KGluamVjdG9yLCB0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBSZWZsZWN0aXZlUHJvdG9JbmplY3RvcklubGluZVN0cmF0ZWd5O1xufSgpKTtcbmV4cG9ydHMuUmVmbGVjdGl2ZVByb3RvSW5qZWN0b3JJbmxpbmVTdHJhdGVneSA9IFJlZmxlY3RpdmVQcm90b0luamVjdG9ySW5saW5lU3RyYXRlZ3k7XG52YXIgUmVmbGVjdGl2ZVByb3RvSW5qZWN0b3JEeW5hbWljU3RyYXRlZ3kgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlZmxlY3RpdmVQcm90b0luamVjdG9yRHluYW1pY1N0cmF0ZWd5KHByb3RvSW5qLCBwcm92aWRlcnMpIHtcbiAgICAgICAgdGhpcy5wcm92aWRlcnMgPSBwcm92aWRlcnM7XG4gICAgICAgIHZhciBsZW4gPSBwcm92aWRlcnMubGVuZ3RoO1xuICAgICAgICB0aGlzLmtleUlkcyA9IGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5jcmVhdGVGaXhlZFNpemUobGVuKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdGhpcy5rZXlJZHNbaV0gPSBwcm92aWRlcnNbaV0ua2V5LmlkO1xuICAgICAgICB9XG4gICAgfVxuICAgIFJlZmxlY3RpdmVQcm90b0luamVjdG9yRHluYW1pY1N0cmF0ZWd5LnByb3RvdHlwZS5nZXRQcm92aWRlckF0SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLnByb3ZpZGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyByZWZsZWN0aXZlX2V4Y2VwdGlvbnNfMS5PdXRPZkJvdW5kc0Vycm9yKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wcm92aWRlcnNbaW5kZXhdO1xuICAgIH07XG4gICAgUmVmbGVjdGl2ZVByb3RvSW5qZWN0b3JEeW5hbWljU3RyYXRlZ3kucHJvdG90eXBlLmNyZWF0ZUluamVjdG9yU3RyYXRlZ3kgPSBmdW5jdGlvbiAoZWkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWZsZWN0aXZlSW5qZWN0b3JEeW5hbWljU3RyYXRlZ3kodGhpcywgZWkpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlZmxlY3RpdmVQcm90b0luamVjdG9yRHluYW1pY1N0cmF0ZWd5O1xufSgpKTtcbmV4cG9ydHMuUmVmbGVjdGl2ZVByb3RvSW5qZWN0b3JEeW5hbWljU3RyYXRlZ3kgPSBSZWZsZWN0aXZlUHJvdG9JbmplY3RvckR5bmFtaWNTdHJhdGVneTtcbnZhciBSZWZsZWN0aXZlUHJvdG9JbmplY3RvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVmbGVjdGl2ZVByb3RvSW5qZWN0b3IocHJvdmlkZXJzKSB7XG4gICAgICAgIHRoaXMubnVtYmVyT2ZQcm92aWRlcnMgPSBwcm92aWRlcnMubGVuZ3RoO1xuICAgICAgICB0aGlzLl9zdHJhdGVneSA9IHByb3ZpZGVycy5sZW5ndGggPiBfTUFYX0NPTlNUUlVDVElPTl9DT1VOVEVSID9cbiAgICAgICAgICAgIG5ldyBSZWZsZWN0aXZlUHJvdG9JbmplY3RvckR5bmFtaWNTdHJhdGVneSh0aGlzLCBwcm92aWRlcnMpIDpcbiAgICAgICAgICAgIG5ldyBSZWZsZWN0aXZlUHJvdG9JbmplY3RvcklubGluZVN0cmF0ZWd5KHRoaXMsIHByb3ZpZGVycyk7XG4gICAgfVxuICAgIFJlZmxlY3RpdmVQcm90b0luamVjdG9yLmZyb21SZXNvbHZlZFByb3ZpZGVycyA9IGZ1bmN0aW9uIChwcm92aWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWZsZWN0aXZlUHJvdG9JbmplY3Rvcihwcm92aWRlcnMpO1xuICAgIH07XG4gICAgUmVmbGVjdGl2ZVByb3RvSW5qZWN0b3IucHJvdG90eXBlLmdldFByb3ZpZGVyQXRJbmRleCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RyYXRlZ3kuZ2V0UHJvdmlkZXJBdEluZGV4KGluZGV4KTtcbiAgICB9O1xuICAgIHJldHVybiBSZWZsZWN0aXZlUHJvdG9JbmplY3Rvcjtcbn0oKSk7XG5leHBvcnRzLlJlZmxlY3RpdmVQcm90b0luamVjdG9yID0gUmVmbGVjdGl2ZVByb3RvSW5qZWN0b3I7XG52YXIgUmVmbGVjdGl2ZUluamVjdG9ySW5saW5lU3RyYXRlZ3kgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlZmxlY3RpdmVJbmplY3RvcklubGluZVN0cmF0ZWd5KGluamVjdG9yLCBwcm90b1N0cmF0ZWd5KSB7XG4gICAgICAgIHRoaXMuaW5qZWN0b3IgPSBpbmplY3RvcjtcbiAgICAgICAgdGhpcy5wcm90b1N0cmF0ZWd5ID0gcHJvdG9TdHJhdGVneTtcbiAgICAgICAgdGhpcy5vYmowID0gVU5ERUZJTkVEO1xuICAgICAgICB0aGlzLm9iajEgPSBVTkRFRklORUQ7XG4gICAgICAgIHRoaXMub2JqMiA9IFVOREVGSU5FRDtcbiAgICAgICAgdGhpcy5vYmozID0gVU5ERUZJTkVEO1xuICAgICAgICB0aGlzLm9iajQgPSBVTkRFRklORUQ7XG4gICAgICAgIHRoaXMub2JqNSA9IFVOREVGSU5FRDtcbiAgICAgICAgdGhpcy5vYmo2ID0gVU5ERUZJTkVEO1xuICAgICAgICB0aGlzLm9iajcgPSBVTkRFRklORUQ7XG4gICAgICAgIHRoaXMub2JqOCA9IFVOREVGSU5FRDtcbiAgICAgICAgdGhpcy5vYmo5ID0gVU5ERUZJTkVEO1xuICAgIH1cbiAgICBSZWZsZWN0aXZlSW5qZWN0b3JJbmxpbmVTdHJhdGVneS5wcm90b3R5cGUucmVzZXRDb25zdHJ1Y3Rpb25Db3VudGVyID0gZnVuY3Rpb24gKCkgeyB0aGlzLmluamVjdG9yLl9jb25zdHJ1Y3Rpb25Db3VudGVyID0gMDsgfTtcbiAgICBSZWZsZWN0aXZlSW5qZWN0b3JJbmxpbmVTdHJhdGVneS5wcm90b3R5cGUuaW5zdGFudGlhdGVQcm92aWRlciA9IGZ1bmN0aW9uIChwcm92aWRlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmplY3Rvci5fbmV3KHByb3ZpZGVyKTtcbiAgICB9O1xuICAgIFJlZmxlY3RpdmVJbmplY3RvcklubGluZVN0cmF0ZWd5LnByb3RvdHlwZS5nZXRPYmpCeUtleUlkID0gZnVuY3Rpb24gKGtleUlkKSB7XG4gICAgICAgIHZhciBwID0gdGhpcy5wcm90b1N0cmF0ZWd5O1xuICAgICAgICB2YXIgaW5qID0gdGhpcy5pbmplY3RvcjtcbiAgICAgICAgaWYgKHAua2V5SWQwID09PSBrZXlJZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMub2JqMCA9PT0gVU5ERUZJTkVEKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vYmowID0gaW5qLl9uZXcocC5wcm92aWRlcjApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub2JqMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocC5rZXlJZDEgPT09IGtleUlkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vYmoxID09PSBVTkRFRklORUQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9iajEgPSBpbmouX25ldyhwLnByb3ZpZGVyMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vYmoxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwLmtleUlkMiA9PT0ga2V5SWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9iajIgPT09IFVOREVGSU5FRCkge1xuICAgICAgICAgICAgICAgIHRoaXMub2JqMiA9IGluai5fbmV3KHAucHJvdmlkZXIyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9iajI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHAua2V5SWQzID09PSBrZXlJZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMub2JqMyA9PT0gVU5ERUZJTkVEKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vYmozID0gaW5qLl9uZXcocC5wcm92aWRlcjMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub2JqMztcbiAgICAgICAgfVxuICAgICAgICBpZiAocC5rZXlJZDQgPT09IGtleUlkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vYmo0ID09PSBVTkRFRklORUQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9iajQgPSBpbmouX25ldyhwLnByb3ZpZGVyNCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vYmo0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChwLmtleUlkNSA9PT0ga2V5SWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9iajUgPT09IFVOREVGSU5FRCkge1xuICAgICAgICAgICAgICAgIHRoaXMub2JqNSA9IGluai5fbmV3KHAucHJvdmlkZXI1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9iajU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHAua2V5SWQ2ID09PSBrZXlJZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMub2JqNiA9PT0gVU5ERUZJTkVEKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vYmo2ID0gaW5qLl9uZXcocC5wcm92aWRlcjYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub2JqNjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocC5rZXlJZDcgPT09IGtleUlkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vYmo3ID09PSBVTkRFRklORUQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9iajcgPSBpbmouX25ldyhwLnByb3ZpZGVyNyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vYmo3O1xuICAgICAgICB9XG4gICAgICAgIGlmIChwLmtleUlkOCA9PT0ga2V5SWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9iajggPT09IFVOREVGSU5FRCkge1xuICAgICAgICAgICAgICAgIHRoaXMub2JqOCA9IGluai5fbmV3KHAucHJvdmlkZXI4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9iajg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHAua2V5SWQ5ID09PSBrZXlJZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMub2JqOSA9PT0gVU5ERUZJTkVEKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vYmo5ID0gaW5qLl9uZXcocC5wcm92aWRlcjkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub2JqOTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVU5ERUZJTkVEO1xuICAgIH07XG4gICAgUmVmbGVjdGl2ZUluamVjdG9ySW5saW5lU3RyYXRlZ3kucHJvdG90eXBlLmdldE9iakF0SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4ID09IDApXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vYmowO1xuICAgICAgICBpZiAoaW5kZXggPT0gMSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9iajE7XG4gICAgICAgIGlmIChpbmRleCA9PSAyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub2JqMjtcbiAgICAgICAgaWYgKGluZGV4ID09IDMpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vYmozO1xuICAgICAgICBpZiAoaW5kZXggPT0gNClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9iajQ7XG4gICAgICAgIGlmIChpbmRleCA9PSA1KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub2JqNTtcbiAgICAgICAgaWYgKGluZGV4ID09IDYpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vYmo2O1xuICAgICAgICBpZiAoaW5kZXggPT0gNylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9iajc7XG4gICAgICAgIGlmIChpbmRleCA9PSA4KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub2JqODtcbiAgICAgICAgaWYgKGluZGV4ID09IDkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vYmo5O1xuICAgICAgICB0aHJvdyBuZXcgcmVmbGVjdGl2ZV9leGNlcHRpb25zXzEuT3V0T2ZCb3VuZHNFcnJvcihpbmRleCk7XG4gICAgfTtcbiAgICBSZWZsZWN0aXZlSW5qZWN0b3JJbmxpbmVTdHJhdGVneS5wcm90b3R5cGUuZ2V0TWF4TnVtYmVyT2ZPYmplY3RzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX01BWF9DT05TVFJVQ1RJT05fQ09VTlRFUjsgfTtcbiAgICByZXR1cm4gUmVmbGVjdGl2ZUluamVjdG9ySW5saW5lU3RyYXRlZ3k7XG59KCkpO1xuZXhwb3J0cy5SZWZsZWN0aXZlSW5qZWN0b3JJbmxpbmVTdHJhdGVneSA9IFJlZmxlY3RpdmVJbmplY3RvcklubGluZVN0cmF0ZWd5O1xudmFyIFJlZmxlY3RpdmVJbmplY3RvckR5bmFtaWNTdHJhdGVneSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVmbGVjdGl2ZUluamVjdG9yRHluYW1pY1N0cmF0ZWd5KHByb3RvU3RyYXRlZ3ksIGluamVjdG9yKSB7XG4gICAgICAgIHRoaXMucHJvdG9TdHJhdGVneSA9IHByb3RvU3RyYXRlZ3k7XG4gICAgICAgIHRoaXMuaW5qZWN0b3IgPSBpbmplY3RvcjtcbiAgICAgICAgdGhpcy5vYmpzID0gY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmNyZWF0ZUZpeGVkU2l6ZShwcm90b1N0cmF0ZWd5LnByb3ZpZGVycy5sZW5ndGgpO1xuICAgICAgICBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuZmlsbCh0aGlzLm9ianMsIFVOREVGSU5FRCk7XG4gICAgfVxuICAgIFJlZmxlY3RpdmVJbmplY3RvckR5bmFtaWNTdHJhdGVneS5wcm90b3R5cGUucmVzZXRDb25zdHJ1Y3Rpb25Db3VudGVyID0gZnVuY3Rpb24gKCkgeyB0aGlzLmluamVjdG9yLl9jb25zdHJ1Y3Rpb25Db3VudGVyID0gMDsgfTtcbiAgICBSZWZsZWN0aXZlSW5qZWN0b3JEeW5hbWljU3RyYXRlZ3kucHJvdG90eXBlLmluc3RhbnRpYXRlUHJvdmlkZXIgPSBmdW5jdGlvbiAocHJvdmlkZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5qZWN0b3IuX25ldyhwcm92aWRlcik7XG4gICAgfTtcbiAgICBSZWZsZWN0aXZlSW5qZWN0b3JEeW5hbWljU3RyYXRlZ3kucHJvdG90eXBlLmdldE9iakJ5S2V5SWQgPSBmdW5jdGlvbiAoa2V5SWQpIHtcbiAgICAgICAgdmFyIHAgPSB0aGlzLnByb3RvU3RyYXRlZ3k7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcC5rZXlJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChwLmtleUlkc1tpXSA9PT0ga2V5SWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vYmpzW2ldID09PSBVTkRFRklORUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmpzW2ldID0gdGhpcy5pbmplY3Rvci5fbmV3KHAucHJvdmlkZXJzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub2Jqc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVU5ERUZJTkVEO1xuICAgIH07XG4gICAgUmVmbGVjdGl2ZUluamVjdG9yRHluYW1pY1N0cmF0ZWd5LnByb3RvdHlwZS5nZXRPYmpBdEluZGV4ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5vYmpzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IHJlZmxlY3RpdmVfZXhjZXB0aW9uc18xLk91dE9mQm91bmRzRXJyb3IoaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm9ianNbaW5kZXhdO1xuICAgIH07XG4gICAgUmVmbGVjdGl2ZUluamVjdG9yRHluYW1pY1N0cmF0ZWd5LnByb3RvdHlwZS5nZXRNYXhOdW1iZXJPZk9iamVjdHMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm9ianMubGVuZ3RoOyB9O1xuICAgIHJldHVybiBSZWZsZWN0aXZlSW5qZWN0b3JEeW5hbWljU3RyYXRlZ3k7XG59KCkpO1xuZXhwb3J0cy5SZWZsZWN0aXZlSW5qZWN0b3JEeW5hbWljU3RyYXRlZ3kgPSBSZWZsZWN0aXZlSW5qZWN0b3JEeW5hbWljU3RyYXRlZ3k7XG4vKipcbiAqIEEgUmVmbGVjdGl2ZURlcGVuZGVuY3kgaW5qZWN0aW9uIGNvbnRhaW5lciB1c2VkIGZvciBpbnN0YW50aWF0aW5nIG9iamVjdHMgYW5kIHJlc29sdmluZ1xuICogZGVwZW5kZW5jaWVzLlxuICpcbiAqIEFuIGBJbmplY3RvcmAgaXMgYSByZXBsYWNlbWVudCBmb3IgYSBgbmV3YCBvcGVyYXRvciwgd2hpY2ggY2FuIGF1dG9tYXRpY2FsbHkgcmVzb2x2ZSB0aGVcbiAqIGNvbnN0cnVjdG9yIGRlcGVuZGVuY2llcy5cbiAqXG4gKiBJbiB0eXBpY2FsIHVzZSwgYXBwbGljYXRpb24gY29kZSBhc2tzIGZvciB0aGUgZGVwZW5kZW5jaWVzIGluIHRoZSBjb25zdHJ1Y3RvciBhbmQgdGhleSBhcmVcbiAqIHJlc29sdmVkIGJ5IHRoZSBgSW5qZWN0b3JgLlxuICpcbiAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9qemplYzA/cD1wcmV2aWV3KSlcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgY3JlYXRlcyBhbiBgSW5qZWN0b3JgIGNvbmZpZ3VyZWQgdG8gY3JlYXRlIGBFbmdpbmVgIGFuZCBgQ2FyYC5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBASW5qZWN0YWJsZSgpXG4gKiBjbGFzcyBFbmdpbmUge1xuICogfVxuICpcbiAqIEBJbmplY3RhYmxlKClcbiAqIGNsYXNzIENhciB7XG4gKiAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbmdpbmU6RW5naW5lKSB7fVxuICogfVxuICpcbiAqIHZhciBpbmplY3RvciA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtDYXIsIEVuZ2luZV0pO1xuICogdmFyIGNhciA9IGluamVjdG9yLmdldChDYXIpO1xuICogZXhwZWN0KGNhciBpbnN0YW5jZW9mIENhcikudG9CZSh0cnVlKTtcbiAqIGV4cGVjdChjYXIuZW5naW5lIGluc3RhbmNlb2YgRW5naW5lKS50b0JlKHRydWUpO1xuICogYGBgXG4gKlxuICogTm90aWNlLCB3ZSBkb24ndCB1c2UgdGhlIGBuZXdgIG9wZXJhdG9yIGJlY2F1c2Ugd2UgZXhwbGljaXRseSB3YW50IHRvIGhhdmUgdGhlIGBJbmplY3RvcmBcbiAqIHJlc29sdmUgYWxsIG9mIHRoZSBvYmplY3QncyBkZXBlbmRlbmNpZXMgYXV0b21hdGljYWxseS5cbiAqL1xudmFyIFJlZmxlY3RpdmVJbmplY3RvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVmbGVjdGl2ZUluamVjdG9yKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUdXJucyBhbiBhcnJheSBvZiBwcm92aWRlciBkZWZpbml0aW9ucyBpbnRvIGFuIGFycmF5IG9mIHJlc29sdmVkIHByb3ZpZGVycy5cbiAgICAgKlxuICAgICAqIEEgcmVzb2x1dGlvbiBpcyBhIHByb2Nlc3Mgb2YgZmxhdHRlbmluZyBtdWx0aXBsZSBuZXN0ZWQgYXJyYXlzIGFuZCBjb252ZXJ0aW5nIGluZGl2aWR1YWxcbiAgICAgKiBwcm92aWRlcnMgaW50byBhbiBhcnJheSBvZiB7QGxpbmsgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJ9cy5cbiAgICAgKlxuICAgICAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9BaVhUSGk/cD1wcmV2aWV3KSlcbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgRW5naW5lIHtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgQ2FyIHtcbiAgICAgKiAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbmdpbmU6RW5naW5lKSB7fVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBwcm92aWRlcnMgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZShbQ2FyLCBbW0VuZ2luZV1dXSk7XG4gICAgICpcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzLmxlbmd0aCkudG9FcXVhbCgyKTtcbiAgICAgKlxuICAgICAqIGV4cGVjdChwcm92aWRlcnNbMF0gaW5zdGFuY2VvZiBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcikudG9CZSh0cnVlKTtcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzWzBdLmtleS5kaXNwbGF5TmFtZSkudG9CZShcIkNhclwiKTtcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzWzBdLmRlcGVuZGVuY2llcy5sZW5ndGgpLnRvRXF1YWwoMSk7XG4gICAgICogZXhwZWN0KHByb3ZpZGVyc1swXS5mYWN0b3J5KS50b0JlRGVmaW5lZCgpO1xuICAgICAqXG4gICAgICogZXhwZWN0KHByb3ZpZGVyc1sxXS5rZXkuZGlzcGxheU5hbWUpLnRvQmUoXCJFbmdpbmVcIik7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBTZWUge0BsaW5rIFJlZmxlY3RpdmVJbmplY3RvciNmcm9tUmVzb2x2ZWRQcm92aWRlcnN9IGZvciBtb3JlIGluZm8uXG4gICAgICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmUgPSBmdW5jdGlvbiAocHJvdmlkZXJzKSB7XG4gICAgICAgIHJldHVybiByZWZsZWN0aXZlX3Byb3ZpZGVyXzEucmVzb2x2ZVJlZmxlY3RpdmVQcm92aWRlcnMocHJvdmlkZXJzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIGFuIGFycmF5IG9mIHByb3ZpZGVycyBhbmQgY3JlYXRlcyBhbiBpbmplY3RvciBmcm9tIHRob3NlIHByb3ZpZGVycy5cbiAgICAgKlxuICAgICAqIFRoZSBwYXNzZWQtaW4gcHJvdmlkZXJzIGNhbiBiZSBhbiBhcnJheSBvZiBgVHlwZWAsIHtAbGluayBQcm92aWRlcn0sXG4gICAgICogb3IgYSByZWN1cnNpdmUgYXJyYXkgb2YgbW9yZSBwcm92aWRlcnMuXG4gICAgICpcbiAgICAgKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvZVBPY2NBP3A9cHJldmlldykpXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogQEluamVjdGFibGUoKVxuICAgICAqIGNsYXNzIEVuZ2luZSB7XG4gICAgICogfVxuICAgICAqXG4gICAgICogQEluamVjdGFibGUoKVxuICAgICAqIGNsYXNzIENhciB7XG4gICAgICogICBjb25zdHJ1Y3RvcihwdWJsaWMgZW5naW5lOkVuZ2luZSkge31cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgaW5qZWN0b3IgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQ2FyLCBFbmdpbmVdKTtcbiAgICAgKiBleHBlY3QoaW5qZWN0b3IuZ2V0KENhcikgaW5zdGFuY2VvZiBDYXIpLnRvQmUodHJ1ZSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHNsb3dlciB0aGFuIHRoZSBjb3JyZXNwb25kaW5nIGBmcm9tUmVzb2x2ZWRQcm92aWRlcnNgXG4gICAgICogYmVjYXVzZSBpdCBuZWVkcyB0byByZXNvbHZlIHRoZSBwYXNzZWQtaW4gcHJvdmlkZXJzIGZpcnN0LlxuICAgICAqIFNlZSB7QGxpbmsgSW5qZWN0b3IjcmVzb2x2ZX0gYW5kIHtAbGluayBJbmplY3RvciNmcm9tUmVzb2x2ZWRQcm92aWRlcnN9LlxuICAgICAqL1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlID0gZnVuY3Rpb24gKHByb3ZpZGVycywgcGFyZW50KSB7XG4gICAgICAgIGlmIChwYXJlbnQgPT09IHZvaWQgMCkgeyBwYXJlbnQgPSBudWxsOyB9XG4gICAgICAgIHZhciBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZShwcm92aWRlcnMpO1xuICAgICAgICByZXR1cm4gUmVmbGVjdGl2ZUluamVjdG9yLmZyb21SZXNvbHZlZFByb3ZpZGVycyhSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMsIHBhcmVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluamVjdG9yIGZyb20gcHJldmlvdXNseSByZXNvbHZlZCBwcm92aWRlcnMuXG4gICAgICpcbiAgICAgKiBUaGlzIEFQSSBpcyB0aGUgcmVjb21tZW5kZWQgd2F5IHRvIGNvbnN0cnVjdCBpbmplY3RvcnMgaW4gcGVyZm9ybWFuY2Utc2Vuc2l0aXZlIHBhcnRzLlxuICAgICAqXG4gICAgICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L0tyU01jaT9wPXByZXZpZXcpKVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBFbmdpbmUge1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBDYXIge1xuICAgICAqICAgY29uc3RydWN0b3IocHVibGljIGVuZ2luZTpFbmdpbmUpIHt9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHByb3ZpZGVycyA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKFtDYXIsIEVuZ2luZV0pO1xuICAgICAqIHZhciBpbmplY3RvciA9IFJlZmxlY3RpdmVJbmplY3Rvci5mcm9tUmVzb2x2ZWRQcm92aWRlcnMocHJvdmlkZXJzKTtcbiAgICAgKiBleHBlY3QoaW5qZWN0b3IuZ2V0KENhcikgaW5zdGFuY2VvZiBDYXIpLnRvQmUodHJ1ZSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yLmZyb21SZXNvbHZlZFByb3ZpZGVycyA9IGZ1bmN0aW9uIChwcm92aWRlcnMsIHBhcmVudCkge1xuICAgICAgICBpZiAocGFyZW50ID09PSB2b2lkIDApIHsgcGFyZW50ID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gbmV3IFJlZmxlY3RpdmVJbmplY3Rvcl8oUmVmbGVjdGl2ZVByb3RvSW5qZWN0b3IuZnJvbVJlc29sdmVkUHJvdmlkZXJzKHByb3ZpZGVycyksIHBhcmVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvci5mcm9tUmVzb2x2ZWRCaW5kaW5ncyA9IGZ1bmN0aW9uIChwcm92aWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIFJlZmxlY3RpdmVJbmplY3Rvci5mcm9tUmVzb2x2ZWRQcm92aWRlcnMocHJvdmlkZXJzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWZsZWN0aXZlSW5qZWN0b3IucHJvdG90eXBlLCBcInBhcmVudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXJlbnQgb2YgdGhpcyBpbmplY3Rvci5cbiAgICAgICAgICpcbiAgICAgICAgICogPCEtLSBUT0RPOiBBZGQgYSBsaW5rIHRvIHRoZSBzZWN0aW9uIG9mIHRoZSB1c2VyIGd1aWRlIHRhbGtpbmcgYWJvdXQgaGllcmFyY2hpY2FsIGluamVjdGlvbi5cbiAgICAgICAgICogLS0+XG4gICAgICAgICAqXG4gICAgICAgICAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9lb3NNR28/cD1wcmV2aWV3KSlcbiAgICAgICAgICpcbiAgICAgICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAgICAgKiB2YXIgcGFyZW50ID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW10pO1xuICAgICAgICAgKiB2YXIgY2hpbGQgPSBwYXJlbnQucmVzb2x2ZUFuZENyZWF0ZUNoaWxkKFtdKTtcbiAgICAgICAgICogZXhwZWN0KGNoaWxkLnBhcmVudCkudG9CZShwYXJlbnQpO1xuICAgICAgICAgKiBgYGBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhjZXB0aW9uc18xLnVuaW1wbGVtZW50ZWQoKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yLnByb3RvdHlwZS5kZWJ1Z0NvbnRleHQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9O1xuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIGFuIGFycmF5IG9mIHByb3ZpZGVycyBhbmQgY3JlYXRlcyBhIGNoaWxkIGluamVjdG9yIGZyb20gdGhvc2UgcHJvdmlkZXJzLlxuICAgICAqXG4gICAgICogPCEtLSBUT0RPOiBBZGQgYSBsaW5rIHRvIHRoZSBzZWN0aW9uIG9mIHRoZSB1c2VyIGd1aWRlIHRhbGtpbmcgYWJvdXQgaGllcmFyY2hpY2FsIGluamVjdGlvbi5cbiAgICAgKiAtLT5cbiAgICAgKlxuICAgICAqIFRoZSBwYXNzZWQtaW4gcHJvdmlkZXJzIGNhbiBiZSBhbiBhcnJheSBvZiBgVHlwZWAsIHtAbGluayBQcm92aWRlcn0sXG4gICAgICogb3IgYSByZWN1cnNpdmUgYXJyYXkgb2YgbW9yZSBwcm92aWRlcnMuXG4gICAgICpcbiAgICAgKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvb3BCM1Q0P3A9cHJldmlldykpXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogY2xhc3MgUGFyZW50UHJvdmlkZXIge31cbiAgICAgKiBjbGFzcyBDaGlsZFByb3ZpZGVyIHt9XG4gICAgICpcbiAgICAgKiB2YXIgcGFyZW50ID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW1BhcmVudFByb3ZpZGVyXSk7XG4gICAgICogdmFyIGNoaWxkID0gcGFyZW50LnJlc29sdmVBbmRDcmVhdGVDaGlsZChbQ2hpbGRQcm92aWRlcl0pO1xuICAgICAqXG4gICAgICogZXhwZWN0KGNoaWxkLmdldChQYXJlbnRQcm92aWRlcikgaW5zdGFuY2VvZiBQYXJlbnRQcm92aWRlcikudG9CZSh0cnVlKTtcbiAgICAgKiBleHBlY3QoY2hpbGQuZ2V0KENoaWxkUHJvdmlkZXIpIGluc3RhbmNlb2YgQ2hpbGRQcm92aWRlcikudG9CZSh0cnVlKTtcbiAgICAgKiBleHBlY3QoY2hpbGQuZ2V0KFBhcmVudFByb3ZpZGVyKSkudG9CZShwYXJlbnQuZ2V0KFBhcmVudFByb3ZpZGVyKSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHNsb3dlciB0aGFuIHRoZSBjb3JyZXNwb25kaW5nIGBjcmVhdGVDaGlsZEZyb21SZXNvbHZlZGBcbiAgICAgKiBiZWNhdXNlIGl0IG5lZWRzIHRvIHJlc29sdmUgdGhlIHBhc3NlZC1pbiBwcm92aWRlcnMgZmlyc3QuXG4gICAgICogU2VlIHtAbGluayBJbmplY3RvciNyZXNvbHZlfSBhbmQge0BsaW5rIEluamVjdG9yI2NyZWF0ZUNoaWxkRnJvbVJlc29sdmVkfS5cbiAgICAgKi9cbiAgICBSZWZsZWN0aXZlSW5qZWN0b3IucHJvdG90eXBlLnJlc29sdmVBbmRDcmVhdGVDaGlsZCA9IGZ1bmN0aW9uIChwcm92aWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIGV4Y2VwdGlvbnNfMS51bmltcGxlbWVudGVkKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2hpbGQgaW5qZWN0b3IgZnJvbSBwcmV2aW91c2x5IHJlc29sdmVkIHByb3ZpZGVycy5cbiAgICAgKlxuICAgICAqIDwhLS0gVE9ETzogQWRkIGEgbGluayB0byB0aGUgc2VjdGlvbiBvZiB0aGUgdXNlciBndWlkZSB0YWxraW5nIGFib3V0IGhpZXJhcmNoaWNhbCBpbmplY3Rpb24uXG4gICAgICogLS0+XG4gICAgICpcbiAgICAgKiBUaGlzIEFQSSBpcyB0aGUgcmVjb21tZW5kZWQgd2F5IHRvIGNvbnN0cnVjdCBpbmplY3RvcnMgaW4gcGVyZm9ybWFuY2Utc2Vuc2l0aXZlIHBhcnRzLlxuICAgICAqXG4gICAgICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L1ZoeWZqTj9wPXByZXZpZXcpKVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNsYXNzIFBhcmVudFByb3ZpZGVyIHt9XG4gICAgICogY2xhc3MgQ2hpbGRQcm92aWRlciB7fVxuICAgICAqXG4gICAgICogdmFyIHBhcmVudFByb3ZpZGVycyA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKFtQYXJlbnRQcm92aWRlcl0pO1xuICAgICAqIHZhciBjaGlsZFByb3ZpZGVycyA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKFtDaGlsZFByb3ZpZGVyXSk7XG4gICAgICpcbiAgICAgKiB2YXIgcGFyZW50ID0gUmVmbGVjdGl2ZUluamVjdG9yLmZyb21SZXNvbHZlZFByb3ZpZGVycyhwYXJlbnRQcm92aWRlcnMpO1xuICAgICAqIHZhciBjaGlsZCA9IHBhcmVudC5jcmVhdGVDaGlsZEZyb21SZXNvbHZlZChjaGlsZFByb3ZpZGVycyk7XG4gICAgICpcbiAgICAgKiBleHBlY3QoY2hpbGQuZ2V0KFBhcmVudFByb3ZpZGVyKSBpbnN0YW5jZW9mIFBhcmVudFByb3ZpZGVyKS50b0JlKHRydWUpO1xuICAgICAqIGV4cGVjdChjaGlsZC5nZXQoQ2hpbGRQcm92aWRlcikgaW5zdGFuY2VvZiBDaGlsZFByb3ZpZGVyKS50b0JlKHRydWUpO1xuICAgICAqIGV4cGVjdChjaGlsZC5nZXQoUGFyZW50UHJvdmlkZXIpKS50b0JlKHBhcmVudC5nZXQoUGFyZW50UHJvdmlkZXIpKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBSZWZsZWN0aXZlSW5qZWN0b3IucHJvdG90eXBlLmNyZWF0ZUNoaWxkRnJvbVJlc29sdmVkID0gZnVuY3Rpb24gKHByb3ZpZGVycykge1xuICAgICAgICByZXR1cm4gZXhjZXB0aW9uc18xLnVuaW1wbGVtZW50ZWQoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIGEgcHJvdmlkZXIgYW5kIGluc3RhbnRpYXRlcyBhbiBvYmplY3QgaW4gdGhlIGNvbnRleHQgb2YgdGhlIGluamVjdG9yLlxuICAgICAqXG4gICAgICogVGhlIGNyZWF0ZWQgb2JqZWN0IGRvZXMgbm90IGdldCBjYWNoZWQgYnkgdGhlIGluamVjdG9yLlxuICAgICAqXG4gICAgICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L3l2VlhvQj9wPXByZXZpZXcpKVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBFbmdpbmUge1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBDYXIge1xuICAgICAqICAgY29uc3RydWN0b3IocHVibGljIGVuZ2luZTpFbmdpbmUpIHt9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGluamVjdG9yID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0VuZ2luZV0pO1xuICAgICAqXG4gICAgICogdmFyIGNhciA9IGluamVjdG9yLnJlc29sdmVBbmRJbnN0YW50aWF0ZShDYXIpO1xuICAgICAqIGV4cGVjdChjYXIuZW5naW5lKS50b0JlKGluamVjdG9yLmdldChFbmdpbmUpKTtcbiAgICAgKiBleHBlY3QoY2FyKS5ub3QudG9CZShpbmplY3Rvci5yZXNvbHZlQW5kSW5zdGFudGlhdGUoQ2FyKSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yLnByb3RvdHlwZS5yZXNvbHZlQW5kSW5zdGFudGlhdGUgPSBmdW5jdGlvbiAocHJvdmlkZXIpIHsgcmV0dXJuIGV4Y2VwdGlvbnNfMS51bmltcGxlbWVudGVkKCk7IH07XG4gICAgLyoqXG4gICAgICogSW5zdGFudGlhdGVzIGFuIG9iamVjdCB1c2luZyBhIHJlc29sdmVkIHByb3ZpZGVyIGluIHRoZSBjb250ZXh0IG9mIHRoZSBpbmplY3Rvci5cbiAgICAgKlxuICAgICAqIFRoZSBjcmVhdGVkIG9iamVjdCBkb2VzIG5vdCBnZXQgY2FjaGVkIGJ5IHRoZSBpbmplY3Rvci5cbiAgICAgKlxuICAgICAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9wdENJbVE/cD1wcmV2aWV3KSlcbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgRW5naW5lIHtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgQ2FyIHtcbiAgICAgKiAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbmdpbmU6RW5naW5lKSB7fVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBpbmplY3RvciA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtFbmdpbmVdKTtcbiAgICAgKiB2YXIgY2FyUHJvdmlkZXIgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZShbQ2FyXSlbMF07XG4gICAgICogdmFyIGNhciA9IGluamVjdG9yLmluc3RhbnRpYXRlUmVzb2x2ZWQoY2FyUHJvdmlkZXIpO1xuICAgICAqIGV4cGVjdChjYXIuZW5naW5lKS50b0JlKGluamVjdG9yLmdldChFbmdpbmUpKTtcbiAgICAgKiBleHBlY3QoY2FyKS5ub3QudG9CZShpbmplY3Rvci5pbnN0YW50aWF0ZVJlc29sdmVkKGNhclByb3ZpZGVyKSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yLnByb3RvdHlwZS5pbnN0YW50aWF0ZVJlc29sdmVkID0gZnVuY3Rpb24gKHByb3ZpZGVyKSB7IHJldHVybiBleGNlcHRpb25zXzEudW5pbXBsZW1lbnRlZCgpOyB9O1xuICAgIHJldHVybiBSZWZsZWN0aXZlSW5qZWN0b3I7XG59KCkpO1xuZXhwb3J0cy5SZWZsZWN0aXZlSW5qZWN0b3IgPSBSZWZsZWN0aXZlSW5qZWN0b3I7XG52YXIgUmVmbGVjdGl2ZUluamVjdG9yXyA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogUHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlZmxlY3RpdmVJbmplY3Rvcl8oX3Byb3RvIC8qIFByb3RvSW5qZWN0b3IgKi8sIF9wYXJlbnQsIF9kZWJ1Z0NvbnRleHQpIHtcbiAgICAgICAgaWYgKF9wYXJlbnQgPT09IHZvaWQgMCkgeyBfcGFyZW50ID0gbnVsbDsgfVxuICAgICAgICBpZiAoX2RlYnVnQ29udGV4dCA9PT0gdm9pZCAwKSB7IF9kZWJ1Z0NvbnRleHQgPSBudWxsOyB9XG4gICAgICAgIHRoaXMuX2RlYnVnQ29udGV4dCA9IF9kZWJ1Z0NvbnRleHQ7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fY29uc3RydWN0aW9uQ291bnRlciA9IDA7XG4gICAgICAgIHRoaXMuX3Byb3RvID0gX3Byb3RvO1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBfcGFyZW50O1xuICAgICAgICB0aGlzLl9zdHJhdGVneSA9IF9wcm90by5fc3RyYXRlZ3kuY3JlYXRlSW5qZWN0b3JTdHJhdGVneSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUuZGVidWdDb250ZXh0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fZGVidWdDb250ZXh0KCk7IH07XG4gICAgUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHRva2VuLCBub3RGb3VuZFZhbHVlKSB7XG4gICAgICAgIGlmIChub3RGb3VuZFZhbHVlID09PSB2b2lkIDApIHsgbm90Rm91bmRWYWx1ZSA9IGluamVjdG9yXzEuVEhST1dfSUZfTk9UX0ZPVU5EOyB9XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRCeUtleShyZWZsZWN0aXZlX2tleV8xLlJlZmxlY3RpdmVLZXkuZ2V0KHRva2VuKSwgbnVsbCwgbnVsbCwgbm90Rm91bmRWYWx1ZSk7XG4gICAgfTtcbiAgICBSZWZsZWN0aXZlSW5qZWN0b3JfLnByb3RvdHlwZS5nZXRBdCA9IGZ1bmN0aW9uIChpbmRleCkgeyByZXR1cm4gdGhpcy5fc3RyYXRlZ3kuZ2V0T2JqQXRJbmRleChpbmRleCk7IH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlZmxlY3RpdmVJbmplY3Rvcl8ucHJvdG90eXBlLCBcInBhcmVudFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fcGFyZW50OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUsIFwiaW50ZXJuYWxTdHJhdGVneVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICogSW50ZXJuYWwuIERvIG5vdCB1c2UuXG4gICAgICAgICAqIFdlIHJldHVybiBgYW55YCBub3QgdG8gZXhwb3J0IHRoZSBJbmplY3RvclN0cmF0ZWd5IHR5cGUuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3N0cmF0ZWd5OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBSZWZsZWN0aXZlSW5qZWN0b3JfLnByb3RvdHlwZS5yZXNvbHZlQW5kQ3JlYXRlQ2hpbGQgPSBmdW5jdGlvbiAocHJvdmlkZXJzKSB7XG4gICAgICAgIHZhciBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZShwcm92aWRlcnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVDaGlsZEZyb21SZXNvbHZlZChSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMpO1xuICAgIH07XG4gICAgUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUuY3JlYXRlQ2hpbGRGcm9tUmVzb2x2ZWQgPSBmdW5jdGlvbiAocHJvdmlkZXJzKSB7XG4gICAgICAgIHZhciBwcm90byA9IG5ldyBSZWZsZWN0aXZlUHJvdG9JbmplY3Rvcihwcm92aWRlcnMpO1xuICAgICAgICB2YXIgaW5qID0gbmV3IFJlZmxlY3RpdmVJbmplY3Rvcl8ocHJvdG8pO1xuICAgICAgICBpbmouX3BhcmVudCA9IHRoaXM7XG4gICAgICAgIHJldHVybiBpbmo7XG4gICAgfTtcbiAgICBSZWZsZWN0aXZlSW5qZWN0b3JfLnByb3RvdHlwZS5yZXNvbHZlQW5kSW5zdGFudGlhdGUgPSBmdW5jdGlvbiAocHJvdmlkZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFudGlhdGVSZXNvbHZlZChSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZShbcHJvdmlkZXJdKVswXSk7XG4gICAgfTtcbiAgICBSZWZsZWN0aXZlSW5qZWN0b3JfLnByb3RvdHlwZS5pbnN0YW50aWF0ZVJlc29sdmVkID0gZnVuY3Rpb24gKHByb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW50aWF0ZVByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBSZWZsZWN0aXZlSW5qZWN0b3JfLnByb3RvdHlwZS5fbmV3ID0gZnVuY3Rpb24gKHByb3ZpZGVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb25zdHJ1Y3Rpb25Db3VudGVyKysgPiB0aGlzLl9zdHJhdGVneS5nZXRNYXhOdW1iZXJPZk9iamVjdHMoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IHJlZmxlY3RpdmVfZXhjZXB0aW9uc18xLkN5Y2xpY0RlcGVuZGVuY3lFcnJvcih0aGlzLCBwcm92aWRlci5rZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW50aWF0ZVByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICB9O1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvcl8ucHJvdG90eXBlLl9pbnN0YW50aWF0ZVByb3ZpZGVyID0gZnVuY3Rpb24gKHByb3ZpZGVyKSB7XG4gICAgICAgIGlmIChwcm92aWRlci5tdWx0aVByb3ZpZGVyKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmNyZWF0ZUZpeGVkU2l6ZShwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllcy5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHJlc1tpXSA9IHRoaXMuX2luc3RhbnRpYXRlKHByb3ZpZGVyLCBwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbnRpYXRlKHByb3ZpZGVyLCBwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllc1swXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvcl8ucHJvdG90eXBlLl9pbnN0YW50aWF0ZSA9IGZ1bmN0aW9uIChwcm92aWRlciwgUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeSkge1xuICAgICAgICB2YXIgZmFjdG9yeSA9IFJlc29sdmVkUmVmbGVjdGl2ZUZhY3RvcnkuZmFjdG9yeTtcbiAgICAgICAgdmFyIGRlcHMgPSBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5LmRlcGVuZGVuY2llcztcbiAgICAgICAgdmFyIGxlbmd0aCA9IGRlcHMubGVuZ3RoO1xuICAgICAgICB2YXIgZDA7XG4gICAgICAgIHZhciBkMTtcbiAgICAgICAgdmFyIGQyO1xuICAgICAgICB2YXIgZDM7XG4gICAgICAgIHZhciBkNDtcbiAgICAgICAgdmFyIGQ1O1xuICAgICAgICB2YXIgZDY7XG4gICAgICAgIHZhciBkNztcbiAgICAgICAgdmFyIGQ4O1xuICAgICAgICB2YXIgZDk7XG4gICAgICAgIHZhciBkMTA7XG4gICAgICAgIHZhciBkMTE7XG4gICAgICAgIHZhciBkMTI7XG4gICAgICAgIHZhciBkMTM7XG4gICAgICAgIHZhciBkMTQ7XG4gICAgICAgIHZhciBkMTU7XG4gICAgICAgIHZhciBkMTY7XG4gICAgICAgIHZhciBkMTc7XG4gICAgICAgIHZhciBkMTg7XG4gICAgICAgIHZhciBkMTk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkMCA9IGxlbmd0aCA+IDAgPyB0aGlzLl9nZXRCeVJlZmxlY3RpdmVEZXBlbmRlbmN5KHByb3ZpZGVyLCBkZXBzWzBdKSA6IG51bGw7XG4gICAgICAgICAgICBkMSA9IGxlbmd0aCA+IDEgPyB0aGlzLl9nZXRCeVJlZmxlY3RpdmVEZXBlbmRlbmN5KHByb3ZpZGVyLCBkZXBzWzFdKSA6IG51bGw7XG4gICAgICAgICAgICBkMiA9IGxlbmd0aCA+IDIgPyB0aGlzLl9nZXRCeVJlZmxlY3RpdmVEZXBlbmRlbmN5KHByb3ZpZGVyLCBkZXBzWzJdKSA6IG51bGw7XG4gICAgICAgICAgICBkMyA9IGxlbmd0aCA+IDMgPyB0aGlzLl9nZXRCeVJlZmxlY3RpdmVEZXBlbmRlbmN5KHByb3ZpZGVyLCBkZXBzWzNdKSA6IG51bGw7XG4gICAgICAgICAgICBkNCA9IGxlbmd0aCA+IDQgPyB0aGlzLl9nZXRCeVJlZmxlY3RpdmVEZXBlbmRlbmN5KHByb3ZpZGVyLCBkZXBzWzRdKSA6IG51bGw7XG4gICAgICAgICAgICBkNSA9IGxlbmd0aCA+IDUgPyB0aGlzLl9nZXRCeVJlZmxlY3RpdmVEZXBlbmRlbmN5KHByb3ZpZGVyLCBkZXBzWzVdKSA6IG51bGw7XG4gICAgICAgICAgICBkNiA9IGxlbmd0aCA+IDYgPyB0aGlzLl9nZXRCeVJlZmxlY3RpdmVEZXBlbmRlbmN5KHByb3ZpZGVyLCBkZXBzWzZdKSA6IG51bGw7XG4gICAgICAgICAgICBkNyA9IGxlbmd0aCA+IDcgPyB0aGlzLl9nZXRCeVJlZmxlY3RpdmVEZXBlbmRlbmN5KHByb3ZpZGVyLCBkZXBzWzddKSA6IG51bGw7XG4gICAgICAgICAgICBkOCA9IGxlbmd0aCA+IDggPyB0aGlzLl9nZXRCeVJlZmxlY3RpdmVEZXBlbmRlbmN5KHByb3ZpZGVyLCBkZXBzWzhdKSA6IG51bGw7XG4gICAgICAgICAgICBkOSA9IGxlbmd0aCA+IDkgPyB0aGlzLl9nZXRCeVJlZmxlY3RpdmVEZXBlbmRlbmN5KHByb3ZpZGVyLCBkZXBzWzldKSA6IG51bGw7XG4gICAgICAgICAgICBkMTAgPSBsZW5ndGggPiAxMCA/IHRoaXMuX2dldEJ5UmVmbGVjdGl2ZURlcGVuZGVuY3kocHJvdmlkZXIsIGRlcHNbMTBdKSA6IG51bGw7XG4gICAgICAgICAgICBkMTEgPSBsZW5ndGggPiAxMSA/IHRoaXMuX2dldEJ5UmVmbGVjdGl2ZURlcGVuZGVuY3kocHJvdmlkZXIsIGRlcHNbMTFdKSA6IG51bGw7XG4gICAgICAgICAgICBkMTIgPSBsZW5ndGggPiAxMiA/IHRoaXMuX2dldEJ5UmVmbGVjdGl2ZURlcGVuZGVuY3kocHJvdmlkZXIsIGRlcHNbMTJdKSA6IG51bGw7XG4gICAgICAgICAgICBkMTMgPSBsZW5ndGggPiAxMyA/IHRoaXMuX2dldEJ5UmVmbGVjdGl2ZURlcGVuZGVuY3kocHJvdmlkZXIsIGRlcHNbMTNdKSA6IG51bGw7XG4gICAgICAgICAgICBkMTQgPSBsZW5ndGggPiAxNCA/IHRoaXMuX2dldEJ5UmVmbGVjdGl2ZURlcGVuZGVuY3kocHJvdmlkZXIsIGRlcHNbMTRdKSA6IG51bGw7XG4gICAgICAgICAgICBkMTUgPSBsZW5ndGggPiAxNSA/IHRoaXMuX2dldEJ5UmVmbGVjdGl2ZURlcGVuZGVuY3kocHJvdmlkZXIsIGRlcHNbMTVdKSA6IG51bGw7XG4gICAgICAgICAgICBkMTYgPSBsZW5ndGggPiAxNiA/IHRoaXMuX2dldEJ5UmVmbGVjdGl2ZURlcGVuZGVuY3kocHJvdmlkZXIsIGRlcHNbMTZdKSA6IG51bGw7XG4gICAgICAgICAgICBkMTcgPSBsZW5ndGggPiAxNyA/IHRoaXMuX2dldEJ5UmVmbGVjdGl2ZURlcGVuZGVuY3kocHJvdmlkZXIsIGRlcHNbMTddKSA6IG51bGw7XG4gICAgICAgICAgICBkMTggPSBsZW5ndGggPiAxOCA/IHRoaXMuX2dldEJ5UmVmbGVjdGl2ZURlcGVuZGVuY3kocHJvdmlkZXIsIGRlcHNbMThdKSA6IG51bGw7XG4gICAgICAgICAgICBkMTkgPSBsZW5ndGggPiAxOSA/IHRoaXMuX2dldEJ5UmVmbGVjdGl2ZURlcGVuZGVuY3kocHJvdmlkZXIsIGRlcHNbMTldKSA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgcmVmbGVjdGl2ZV9leGNlcHRpb25zXzEuQWJzdHJhY3RQcm92aWRlckVycm9yIHx8IGUgaW5zdGFuY2VvZiByZWZsZWN0aXZlX2V4Y2VwdGlvbnNfMS5JbnN0YW50aWF0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBlLmFkZEtleSh0aGlzLCBwcm92aWRlci5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb2JqO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIG9iaiA9IGZhY3RvcnkoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBvYmogPSBmYWN0b3J5KGQwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBvYmogPSBmYWN0b3J5KGQwLCBkMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgb2JqID0gZmFjdG9yeShkMCwgZDEsIGQyKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBvYmogPSBmYWN0b3J5KGQwLCBkMSwgZDIsIGQzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBvYmogPSBmYWN0b3J5KGQwLCBkMSwgZDIsIGQzLCBkNCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgb2JqID0gZmFjdG9yeShkMCwgZDEsIGQyLCBkMywgZDQsIGQ1KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBvYmogPSBmYWN0b3J5KGQwLCBkMSwgZDIsIGQzLCBkNCwgZDUsIGQ2KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICBvYmogPSBmYWN0b3J5KGQwLCBkMSwgZDIsIGQzLCBkNCwgZDUsIGQ2LCBkNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgb2JqID0gZmFjdG9yeShkMCwgZDEsIGQyLCBkMywgZDQsIGQ1LCBkNiwgZDcsIGQ4KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgb2JqID0gZmFjdG9yeShkMCwgZDEsIGQyLCBkMywgZDQsIGQ1LCBkNiwgZDcsIGQ4LCBkOSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgIG9iaiA9IGZhY3RvcnkoZDAsIGQxLCBkMiwgZDMsIGQ0LCBkNSwgZDYsIGQ3LCBkOCwgZDksIGQxMCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgICAgIG9iaiA9IGZhY3RvcnkoZDAsIGQxLCBkMiwgZDMsIGQ0LCBkNSwgZDYsIGQ3LCBkOCwgZDksIGQxMCwgZDExKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgb2JqID0gZmFjdG9yeShkMCwgZDEsIGQyLCBkMywgZDQsIGQ1LCBkNiwgZDcsIGQ4LCBkOSwgZDEwLCBkMTEsIGQxMik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgICAgICAgIG9iaiA9IGZhY3RvcnkoZDAsIGQxLCBkMiwgZDMsIGQ0LCBkNSwgZDYsIGQ3LCBkOCwgZDksIGQxMCwgZDExLCBkMTIsIGQxMyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgICAgIG9iaiA9IGZhY3RvcnkoZDAsIGQxLCBkMiwgZDMsIGQ0LCBkNSwgZDYsIGQ3LCBkOCwgZDksIGQxMCwgZDExLCBkMTIsIGQxMywgZDE0KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgICAgICAgICAgb2JqID0gZmFjdG9yeShkMCwgZDEsIGQyLCBkMywgZDQsIGQ1LCBkNiwgZDcsIGQ4LCBkOSwgZDEwLCBkMTEsIGQxMiwgZDEzLCBkMTQsIGQxNSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgICAgIG9iaiA9IGZhY3RvcnkoZDAsIGQxLCBkMiwgZDMsIGQ0LCBkNSwgZDYsIGQ3LCBkOCwgZDksIGQxMCwgZDExLCBkMTIsIGQxMywgZDE0LCBkMTUsIGQxNik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgICAgICAgICAgIG9iaiA9IGZhY3RvcnkoZDAsIGQxLCBkMiwgZDMsIGQ0LCBkNSwgZDYsIGQ3LCBkOCwgZDksIGQxMCwgZDExLCBkMTIsIGQxMywgZDE0LCBkMTUsIGQxNiwgZDE3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICAgICAgICAgICAgb2JqID0gZmFjdG9yeShkMCwgZDEsIGQyLCBkMywgZDQsIGQ1LCBkNiwgZDcsIGQ4LCBkOSwgZDEwLCBkMTEsIGQxMiwgZDEzLCBkMTQsIGQxNSwgZDE2LCBkMTcsIGQxOCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgICAgICAgIG9iaiA9IGZhY3RvcnkoZDAsIGQxLCBkMiwgZDMsIGQ0LCBkNSwgZDYsIGQ3LCBkOCwgZDksIGQxMCwgZDExLCBkMTIsIGQxMywgZDE0LCBkMTUsIGQxNiwgZDE3LCBkMTgsIGQxOSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbihcIkNhbm5vdCBpbnN0YW50aWF0ZSAnXCIgKyBwcm92aWRlci5rZXkuZGlzcGxheU5hbWUgKyBcIicgYmVjYXVzZSBpdCBoYXMgbW9yZSB0aGFuIDIwIGRlcGVuZGVuY2llc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IHJlZmxlY3RpdmVfZXhjZXB0aW9uc18xLkluc3RhbnRpYXRpb25FcnJvcih0aGlzLCBlLCBlLnN0YWNrLCBwcm92aWRlci5rZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICBSZWZsZWN0aXZlSW5qZWN0b3JfLnByb3RvdHlwZS5fZ2V0QnlSZWZsZWN0aXZlRGVwZW5kZW5jeSA9IGZ1bmN0aW9uIChwcm92aWRlciwgZGVwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRCeUtleShkZXAua2V5LCBkZXAubG93ZXJCb3VuZFZpc2liaWxpdHksIGRlcC51cHBlckJvdW5kVmlzaWJpbGl0eSwgZGVwLm9wdGlvbmFsID8gbnVsbCA6IGluamVjdG9yXzEuVEhST1dfSUZfTk9UX0ZPVU5EKTtcbiAgICB9O1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvcl8ucHJvdG90eXBlLl9nZXRCeUtleSA9IGZ1bmN0aW9uIChrZXksIGxvd2VyQm91bmRWaXNpYmlsaXR5LCB1cHBlckJvdW5kVmlzaWJpbGl0eSwgbm90Rm91bmRWYWx1ZSkge1xuICAgICAgICBpZiAoa2V5ID09PSBJTkpFQ1RPUl9LRVkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cHBlckJvdW5kVmlzaWJpbGl0eSBpbnN0YW5jZW9mIG1ldGFkYXRhXzEuU2VsZk1ldGFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0QnlLZXlTZWxmKGtleSwgbm90Rm91bmRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0QnlLZXlEZWZhdWx0KGtleSwgbm90Rm91bmRWYWx1ZSwgbG93ZXJCb3VuZFZpc2liaWxpdHkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUuX3Rocm93T3JOdWxsID0gZnVuY3Rpb24gKGtleSwgbm90Rm91bmRWYWx1ZSkge1xuICAgICAgICBpZiAobm90Rm91bmRWYWx1ZSAhPT0gaW5qZWN0b3JfMS5USFJPV19JRl9OT1RfRk9VTkQpIHtcbiAgICAgICAgICAgIHJldHVybiBub3RGb3VuZFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IHJlZmxlY3RpdmVfZXhjZXB0aW9uc18xLk5vUHJvdmlkZXJFcnJvcih0aGlzLCBrZXkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUuX2dldEJ5S2V5U2VsZiA9IGZ1bmN0aW9uIChrZXksIG5vdEZvdW5kVmFsdWUpIHtcbiAgICAgICAgdmFyIG9iaiA9IHRoaXMuX3N0cmF0ZWd5LmdldE9iakJ5S2V5SWQoa2V5LmlkKTtcbiAgICAgICAgcmV0dXJuIChvYmogIT09IFVOREVGSU5FRCkgPyBvYmogOiB0aGlzLl90aHJvd09yTnVsbChrZXksIG5vdEZvdW5kVmFsdWUpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvcl8ucHJvdG90eXBlLl9nZXRCeUtleURlZmF1bHQgPSBmdW5jdGlvbiAoa2V5LCBub3RGb3VuZFZhbHVlLCBsb3dlckJvdW5kVmlzaWJpbGl0eSkge1xuICAgICAgICB2YXIgaW5qO1xuICAgICAgICBpZiAobG93ZXJCb3VuZFZpc2liaWxpdHkgaW5zdGFuY2VvZiBtZXRhZGF0YV8xLlNraXBTZWxmTWV0YWRhdGEpIHtcbiAgICAgICAgICAgIGluaiA9IHRoaXMuX3BhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluaiA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGluaiBpbnN0YW5jZW9mIFJlZmxlY3RpdmVJbmplY3Rvcl8pIHtcbiAgICAgICAgICAgIHZhciBpbmpfID0gaW5qO1xuICAgICAgICAgICAgdmFyIG9iaiA9IGlual8uX3N0cmF0ZWd5LmdldE9iakJ5S2V5SWQoa2V5LmlkKTtcbiAgICAgICAgICAgIGlmIChvYmogIT09IFVOREVGSU5FRClcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgaW5qID0gaW5qXy5fcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmogIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmouZ2V0KGtleS50b2tlbiwgbm90Rm91bmRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGhyb3dPck51bGwoa2V5LCBub3RGb3VuZFZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlZmxlY3RpdmVJbmplY3Rvcl8ucHJvdG90eXBlLCBcImRpc3BsYXlOYW1lXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJSZWZsZWN0aXZlSW5qZWN0b3IocHJvdmlkZXJzOiBbXCIgKyBfbWFwUHJvdmlkZXJzKHRoaXMsIGZ1bmN0aW9uIChiKSB7IHJldHVybiAoXCIgXFxcIlwiICsgYi5rZXkuZGlzcGxheU5hbWUgKyBcIlxcXCIgXCIpOyB9KS5qb2luKFwiLCBcIikgKyBcIl0pXCI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvcl8ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5kaXNwbGF5TmFtZTsgfTtcbiAgICByZXR1cm4gUmVmbGVjdGl2ZUluamVjdG9yXztcbn0oKSk7XG5leHBvcnRzLlJlZmxlY3RpdmVJbmplY3Rvcl8gPSBSZWZsZWN0aXZlSW5qZWN0b3JfO1xudmFyIElOSkVDVE9SX0tFWSA9IHJlZmxlY3RpdmVfa2V5XzEuUmVmbGVjdGl2ZUtleS5nZXQoaW5qZWN0b3JfMS5JbmplY3Rvcik7XG5mdW5jdGlvbiBfbWFwUHJvdmlkZXJzKGluamVjdG9yLCBmbikge1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluamVjdG9yLl9wcm90by5udW1iZXJPZlByb3ZpZGVyczsgKytpKSB7XG4gICAgICAgIHJlcy5wdXNoKGZuKGluamVjdG9yLl9wcm90by5nZXRQcm92aWRlckF0SW5kZXgoaSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZmxlY3RpdmVfaW5qZWN0b3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG52YXIgZm9yd2FyZF9yZWZfMSA9IHJlcXVpcmUoJy4vZm9yd2FyZF9yZWYnKTtcbi8qKlxuICogQSB1bmlxdWUgb2JqZWN0IHVzZWQgZm9yIHJldHJpZXZpbmcgaXRlbXMgZnJvbSB0aGUge0BsaW5rIFJlZmxlY3RpdmVJbmplY3Rvcn0uXG4gKlxuICogS2V5cyBoYXZlOlxuICogLSBhIHN5c3RlbS13aWRlIHVuaXF1ZSBgaWRgLlxuICogLSBhIGB0b2tlbmAuXG4gKlxuICogYEtleWAgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IHtAbGluayBSZWZsZWN0aXZlSW5qZWN0b3J9IGJlY2F1c2UgaXRzIHN5c3RlbS13aWRlIHVuaXF1ZSBgaWRgIGFsbG93c1xuICogdGhlXG4gKiBpbmplY3RvciB0byBzdG9yZSBjcmVhdGVkIG9iamVjdHMgaW4gYSBtb3JlIGVmZmljaWVudCB3YXkuXG4gKlxuICogYEtleWAgc2hvdWxkIG5vdCBiZSBjcmVhdGVkIGRpcmVjdGx5LiB7QGxpbmsgUmVmbGVjdGl2ZUluamVjdG9yfSBjcmVhdGVzIGtleXMgYXV0b21hdGljYWxseSB3aGVuXG4gKiByZXNvbHZpbmdcbiAqIHByb3ZpZGVycy5cbiAqL1xudmFyIFJlZmxlY3RpdmVLZXkgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIFByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZWZsZWN0aXZlS2V5KHRva2VuLCBpZCkge1xuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHRva2VuKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKCdUb2tlbiBtdXN0IGJlIGRlZmluZWQhJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlZmxlY3RpdmVLZXkucHJvdG90eXBlLCBcImRpc3BsYXlOYW1lXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgYSBzdHJpbmdpZmllZCB0b2tlbi5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbGFuZ18xLnN0cmluZ2lmeSh0aGlzLnRva2VuKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgYEtleWAgZm9yIGEgdG9rZW4uXG4gICAgICovXG4gICAgUmVmbGVjdGl2ZUtleS5nZXQgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIF9nbG9iYWxLZXlSZWdpc3RyeS5nZXQoZm9yd2FyZF9yZWZfMS5yZXNvbHZlRm9yd2FyZFJlZih0b2tlbikpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlZmxlY3RpdmVLZXksIFwibnVtYmVyT2ZLZXlzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHRoZSBudW1iZXIgb2Yga2V5cyByZWdpc3RlcmVkIGluIHRoZSBzeXN0ZW0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9nbG9iYWxLZXlSZWdpc3RyeS5udW1iZXJPZktleXM7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBSZWZsZWN0aXZlS2V5O1xufSgpKTtcbmV4cG9ydHMuUmVmbGVjdGl2ZUtleSA9IFJlZmxlY3RpdmVLZXk7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG52YXIgS2V5UmVnaXN0cnkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEtleVJlZ2lzdHJ5KCkge1xuICAgICAgICB0aGlzLl9hbGxLZXlzID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBLZXlSZWdpc3RyeS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIGlmICh0b2tlbiBpbnN0YW5jZW9mIFJlZmxlY3RpdmVLZXkpXG4gICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgIGlmICh0aGlzLl9hbGxLZXlzLmhhcyh0b2tlbikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbGxLZXlzLmdldCh0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5ld0tleSA9IG5ldyBSZWZsZWN0aXZlS2V5KHRva2VuLCBSZWZsZWN0aXZlS2V5Lm51bWJlck9mS2V5cyk7XG4gICAgICAgIHRoaXMuX2FsbEtleXMuc2V0KHRva2VuLCBuZXdLZXkpO1xuICAgICAgICByZXR1cm4gbmV3S2V5O1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEtleVJlZ2lzdHJ5LnByb3RvdHlwZSwgXCJudW1iZXJPZktleXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2FsbEtleXMuc2l6ZTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEtleVJlZ2lzdHJ5O1xufSgpKTtcbmV4cG9ydHMuS2V5UmVnaXN0cnkgPSBLZXlSZWdpc3RyeTtcbnZhciBfZ2xvYmFsS2V5UmVnaXN0cnkgPSBuZXcgS2V5UmVnaXN0cnkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZmxlY3RpdmVfa2V5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIHJlZmxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uL3JlZmxlY3Rpb24vcmVmbGVjdGlvbicpO1xudmFyIHJlZmxlY3RpdmVfa2V5XzEgPSByZXF1aXJlKCcuL3JlZmxlY3RpdmVfa2V5Jyk7XG52YXIgbWV0YWRhdGFfMSA9IHJlcXVpcmUoJy4vbWV0YWRhdGEnKTtcbnZhciByZWZsZWN0aXZlX2V4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4vcmVmbGVjdGl2ZV9leGNlcHRpb25zJyk7XG52YXIgZm9yd2FyZF9yZWZfMSA9IHJlcXVpcmUoJy4vZm9yd2FyZF9yZWYnKTtcbnZhciBwcm92aWRlcl8xID0gcmVxdWlyZSgnLi9wcm92aWRlcicpO1xudmFyIHByb3ZpZGVyX3V0aWxfMSA9IHJlcXVpcmUoJy4vcHJvdmlkZXJfdXRpbCcpO1xuLyoqXG4gKiBgRGVwZW5kZW5jeWAgaXMgdXNlZCBieSB0aGUgZnJhbWV3b3JrIHRvIGV4dGVuZCBESS5cbiAqIFRoaXMgaXMgaW50ZXJuYWwgdG8gQW5ndWxhciBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIGRpcmVjdGx5LlxuICovXG52YXIgUmVmbGVjdGl2ZURlcGVuZGVuY3kgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlZmxlY3RpdmVEZXBlbmRlbmN5KGtleSwgb3B0aW9uYWwsIGxvd2VyQm91bmRWaXNpYmlsaXR5LCB1cHBlckJvdW5kVmlzaWJpbGl0eSwgcHJvcGVydGllcykge1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy5vcHRpb25hbCA9IG9wdGlvbmFsO1xuICAgICAgICB0aGlzLmxvd2VyQm91bmRWaXNpYmlsaXR5ID0gbG93ZXJCb3VuZFZpc2liaWxpdHk7XG4gICAgICAgIHRoaXMudXBwZXJCb3VuZFZpc2liaWxpdHkgPSB1cHBlckJvdW5kVmlzaWJpbGl0eTtcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gcHJvcGVydGllcztcbiAgICB9XG4gICAgUmVmbGVjdGl2ZURlcGVuZGVuY3kuZnJvbUtleSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWZsZWN0aXZlRGVwZW5kZW5jeShrZXksIGZhbHNlLCBudWxsLCBudWxsLCBbXSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVmbGVjdGl2ZURlcGVuZGVuY3k7XG59KCkpO1xuZXhwb3J0cy5SZWZsZWN0aXZlRGVwZW5kZW5jeSA9IFJlZmxlY3RpdmVEZXBlbmRlbmN5O1xudmFyIF9FTVBUWV9MSVNUID0gW107XG52YXIgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJfID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcl8oa2V5LCByZXNvbHZlZEZhY3RvcmllcywgbXVsdGlQcm92aWRlcikge1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy5yZXNvbHZlZEZhY3RvcmllcyA9IHJlc29sdmVkRmFjdG9yaWVzO1xuICAgICAgICB0aGlzLm11bHRpUHJvdmlkZXIgPSBtdWx0aVByb3ZpZGVyO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJfLnByb3RvdHlwZSwgXCJyZXNvbHZlZEZhY3RvcnlcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMucmVzb2x2ZWRGYWN0b3JpZXNbMF07IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcl87XG59KCkpO1xuZXhwb3J0cy5SZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcl8gPSBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcl87XG4vKipcbiAqIEFuIGludGVybmFsIHJlc29sdmVkIHJlcHJlc2VudGF0aW9uIG9mIGEgZmFjdG9yeSBmdW5jdGlvbiBjcmVhdGVkIGJ5IHJlc29sdmluZyB7QGxpbmsgUHJvdmlkZXJ9LlxuICovXG52YXIgUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZhY3RvcnkgZnVuY3Rpb24gd2hpY2ggY2FuIHJldHVybiBhbiBpbnN0YW5jZSBvZiBhbiBvYmplY3QgcmVwcmVzZW50ZWQgYnkgYSBrZXkuXG4gICAgICAgICAqL1xuICAgICAgICBmYWN0b3J5LCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFyZ3VtZW50cyAoZGVwZW5kZW5jaWVzKSB0byB0aGUgYGZhY3RvcnlgIGZ1bmN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzO1xuICAgIH1cbiAgICByZXR1cm4gUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeTtcbn0oKSk7XG5leHBvcnRzLlJlc29sdmVkUmVmbGVjdGl2ZUZhY3RvcnkgPSBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5O1xuLyoqXG4gKiBSZXNvbHZlIGEgc2luZ2xlIHByb3ZpZGVyLlxuICovXG5mdW5jdGlvbiByZXNvbHZlUmVmbGVjdGl2ZUZhY3RvcnkocHJvdmlkZXIpIHtcbiAgICB2YXIgZmFjdG9yeUZuO1xuICAgIHZhciByZXNvbHZlZERlcHM7XG4gICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocHJvdmlkZXIudXNlQ2xhc3MpKSB7XG4gICAgICAgIHZhciB1c2VDbGFzcyA9IGZvcndhcmRfcmVmXzEucmVzb2x2ZUZvcndhcmRSZWYocHJvdmlkZXIudXNlQ2xhc3MpO1xuICAgICAgICBmYWN0b3J5Rm4gPSByZWZsZWN0aW9uXzEucmVmbGVjdG9yLmZhY3RvcnkodXNlQ2xhc3MpO1xuICAgICAgICByZXNvbHZlZERlcHMgPSBfZGVwZW5kZW5jaWVzRm9yKHVzZUNsYXNzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobGFuZ18xLmlzUHJlc2VudChwcm92aWRlci51c2VFeGlzdGluZykpIHtcbiAgICAgICAgZmFjdG9yeUZuID0gZnVuY3Rpb24gKGFsaWFzSW5zdGFuY2UpIHsgcmV0dXJuIGFsaWFzSW5zdGFuY2U7IH07XG4gICAgICAgIHJlc29sdmVkRGVwcyA9IFtSZWZsZWN0aXZlRGVwZW5kZW5jeS5mcm9tS2V5KHJlZmxlY3RpdmVfa2V5XzEuUmVmbGVjdGl2ZUtleS5nZXQocHJvdmlkZXIudXNlRXhpc3RpbmcpKV07XG4gICAgfVxuICAgIGVsc2UgaWYgKGxhbmdfMS5pc1ByZXNlbnQocHJvdmlkZXIudXNlRmFjdG9yeSkpIHtcbiAgICAgICAgZmFjdG9yeUZuID0gcHJvdmlkZXIudXNlRmFjdG9yeTtcbiAgICAgICAgcmVzb2x2ZWREZXBzID0gY29uc3RydWN0RGVwZW5kZW5jaWVzKHByb3ZpZGVyLnVzZUZhY3RvcnksIHByb3ZpZGVyLmRlcGVuZGVuY2llcyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmYWN0b3J5Rm4gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm92aWRlci51c2VWYWx1ZTsgfTtcbiAgICAgICAgcmVzb2x2ZWREZXBzID0gX0VNUFRZX0xJU1Q7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeShmYWN0b3J5Rm4sIHJlc29sdmVkRGVwcyk7XG59XG5leHBvcnRzLnJlc29sdmVSZWZsZWN0aXZlRmFjdG9yeSA9IHJlc29sdmVSZWZsZWN0aXZlRmFjdG9yeTtcbi8qKlxuICogQ29udmVydHMgdGhlIHtAbGluayBQcm92aWRlcn0gaW50byB7QGxpbmsgUmVzb2x2ZWRQcm92aWRlcn0uXG4gKlxuICoge0BsaW5rIEluamVjdG9yfSBpbnRlcm5hbGx5IG9ubHkgdXNlcyB7QGxpbmsgUmVzb2x2ZWRQcm92aWRlcn0sIHtAbGluayBQcm92aWRlcn0gY29udGFpbnNcbiAqIGNvbnZlbmllbmNlIHByb3ZpZGVyIHN5bnRheC5cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZVJlZmxlY3RpdmVQcm92aWRlcihwcm92aWRlcikge1xuICAgIHJldHVybiBuZXcgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJfKHJlZmxlY3RpdmVfa2V5XzEuUmVmbGVjdGl2ZUtleS5nZXQocHJvdmlkZXIudG9rZW4pLCBbcmVzb2x2ZVJlZmxlY3RpdmVGYWN0b3J5KHByb3ZpZGVyKV0sIHByb3ZpZGVyLm11bHRpKTtcbn1cbmV4cG9ydHMucmVzb2x2ZVJlZmxlY3RpdmVQcm92aWRlciA9IHJlc29sdmVSZWZsZWN0aXZlUHJvdmlkZXI7XG4vKipcbiAqIFJlc29sdmUgYSBsaXN0IG9mIFByb3ZpZGVycy5cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZVJlZmxlY3RpdmVQcm92aWRlcnMocHJvdmlkZXJzKSB7XG4gICAgdmFyIG5vcm1hbGl6ZWQgPSBfbm9ybWFsaXplUHJvdmlkZXJzKHByb3ZpZGVycywgW10pO1xuICAgIHZhciByZXNvbHZlZCA9IG5vcm1hbGl6ZWQubWFwKHJlc29sdmVSZWZsZWN0aXZlUHJvdmlkZXIpO1xuICAgIHJldHVybiBjb2xsZWN0aW9uXzEuTWFwV3JhcHBlci52YWx1ZXMobWVyZ2VSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMocmVzb2x2ZWQsIG5ldyBNYXAoKSkpO1xufVxuZXhwb3J0cy5yZXNvbHZlUmVmbGVjdGl2ZVByb3ZpZGVycyA9IHJlc29sdmVSZWZsZWN0aXZlUHJvdmlkZXJzO1xuLyoqXG4gKiBNZXJnZXMgYSBsaXN0IG9mIFJlc29sdmVkUHJvdmlkZXJzIGludG8gYSBsaXN0IHdoZXJlXG4gKiBlYWNoIGtleSBpcyBjb250YWluZWQgZXhhY3RseSBvbmNlIGFuZCBtdWx0aSBwcm92aWRlcnNcbiAqIGhhdmUgYmVlbiBtZXJnZWQuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJzKHByb3ZpZGVycywgbm9ybWFsaXplZFByb3ZpZGVyc01hcCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvdmlkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwcm92aWRlciA9IHByb3ZpZGVyc1tpXTtcbiAgICAgICAgdmFyIGV4aXN0aW5nID0gbm9ybWFsaXplZFByb3ZpZGVyc01hcC5nZXQocHJvdmlkZXIua2V5LmlkKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoZXhpc3RpbmcpKSB7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXIubXVsdGlQcm92aWRlciAhPT0gZXhpc3RpbmcubXVsdGlQcm92aWRlcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyByZWZsZWN0aXZlX2V4Y2VwdGlvbnNfMS5NaXhpbmdNdWx0aVByb3ZpZGVyc1dpdGhSZWd1bGFyUHJvdmlkZXJzRXJyb3IoZXhpc3RpbmcsIHByb3ZpZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm92aWRlci5tdWx0aVByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5yZXNvbHZlZEZhY3Rvcmllcy5wdXNoKHByb3ZpZGVyLnJlc29sdmVkRmFjdG9yaWVzW2pdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkUHJvdmlkZXJzTWFwLnNldChwcm92aWRlci5rZXkuaWQsIHByb3ZpZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciByZXNvbHZlZFByb3ZpZGVyO1xuICAgICAgICAgICAgaWYgKHByb3ZpZGVyLm11bHRpUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlZFByb3ZpZGVyID0gbmV3IFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyXyhwcm92aWRlci5rZXksIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5jbG9uZShwcm92aWRlci5yZXNvbHZlZEZhY3RvcmllcyksIHByb3ZpZGVyLm11bHRpUHJvdmlkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRQcm92aWRlciA9IHByb3ZpZGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9ybWFsaXplZFByb3ZpZGVyc01hcC5zZXQocHJvdmlkZXIua2V5LmlkLCByZXNvbHZlZFByb3ZpZGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplZFByb3ZpZGVyc01hcDtcbn1cbmV4cG9ydHMubWVyZ2VSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMgPSBtZXJnZVJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVycztcbmZ1bmN0aW9uIF9ub3JtYWxpemVQcm92aWRlcnMocHJvdmlkZXJzLCByZXMpIHtcbiAgICBwcm92aWRlcnMuZm9yRWFjaChmdW5jdGlvbiAoYikge1xuICAgICAgICBpZiAoYiBpbnN0YW5jZW9mIGxhbmdfMS5UeXBlKSB7XG4gICAgICAgICAgICByZXMucHVzaChwcm92aWRlcl8xLnByb3ZpZGUoYiwgeyB1c2VDbGFzczogYiB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYiBpbnN0YW5jZW9mIHByb3ZpZGVyXzEuUHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKGIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb3ZpZGVyX3V0aWxfMS5pc1Byb3ZpZGVyTGl0ZXJhbChiKSkge1xuICAgICAgICAgICAgcmVzLnB1c2gocHJvdmlkZXJfdXRpbF8xLmNyZWF0ZVByb3ZpZGVyKGIpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIF9ub3JtYWxpemVQcm92aWRlcnMoYiwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiIGluc3RhbmNlb2YgcHJvdmlkZXJfMS5Qcm92aWRlckJ1aWxkZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyByZWZsZWN0aXZlX2V4Y2VwdGlvbnNfMS5JbnZhbGlkUHJvdmlkZXJFcnJvcihiLnRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyByZWZsZWN0aXZlX2V4Y2VwdGlvbnNfMS5JbnZhbGlkUHJvdmlkZXJFcnJvcihiKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBjb25zdHJ1Y3REZXBlbmRlbmNpZXModHlwZU9yRnVuYywgZGVwZW5kZW5jaWVzKSB7XG4gICAgaWYgKGxhbmdfMS5pc0JsYW5rKGRlcGVuZGVuY2llcykpIHtcbiAgICAgICAgcmV0dXJuIF9kZXBlbmRlbmNpZXNGb3IodHlwZU9yRnVuYyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgcGFyYW1zID0gZGVwZW5kZW5jaWVzLm1hcChmdW5jdGlvbiAodCkgeyByZXR1cm4gW3RdOyB9KTtcbiAgICAgICAgcmV0dXJuIGRlcGVuZGVuY2llcy5tYXAoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIF9leHRyYWN0VG9rZW4odHlwZU9yRnVuYywgdCwgcGFyYW1zKTsgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5jb25zdHJ1Y3REZXBlbmRlbmNpZXMgPSBjb25zdHJ1Y3REZXBlbmRlbmNpZXM7XG5mdW5jdGlvbiBfZGVwZW5kZW5jaWVzRm9yKHR5cGVPckZ1bmMpIHtcbiAgICB2YXIgcGFyYW1zID0gcmVmbGVjdGlvbl8xLnJlZmxlY3Rvci5wYXJhbWV0ZXJzKHR5cGVPckZ1bmMpO1xuICAgIGlmIChsYW5nXzEuaXNCbGFuayhwYXJhbXMpKVxuICAgICAgICByZXR1cm4gW107XG4gICAgaWYgKHBhcmFtcy5zb21lKGxhbmdfMS5pc0JsYW5rKSkge1xuICAgICAgICB0aHJvdyBuZXcgcmVmbGVjdGl2ZV9leGNlcHRpb25zXzEuTm9Bbm5vdGF0aW9uRXJyb3IodHlwZU9yRnVuYywgcGFyYW1zKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmFtcy5tYXAoZnVuY3Rpb24gKHApIHsgcmV0dXJuIF9leHRyYWN0VG9rZW4odHlwZU9yRnVuYywgcCwgcGFyYW1zKTsgfSk7XG59XG5mdW5jdGlvbiBfZXh0cmFjdFRva2VuKHR5cGVPckZ1bmMsIG1ldGFkYXRhIC8qYW55W10gfCBhbnkqLywgcGFyYW1zKSB7XG4gICAgdmFyIGRlcFByb3BzID0gW107XG4gICAgdmFyIHRva2VuID0gbnVsbDtcbiAgICB2YXIgb3B0aW9uYWwgPSBmYWxzZTtcbiAgICBpZiAoIWxhbmdfMS5pc0FycmF5KG1ldGFkYXRhKSkge1xuICAgICAgICBpZiAobWV0YWRhdGEgaW5zdGFuY2VvZiBtZXRhZGF0YV8xLkluamVjdE1ldGFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gX2NyZWF0ZURlcGVuZGVuY3kobWV0YWRhdGEudG9rZW4sIG9wdGlvbmFsLCBudWxsLCBudWxsLCBkZXBQcm9wcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX2NyZWF0ZURlcGVuZGVuY3kobWV0YWRhdGEsIG9wdGlvbmFsLCBudWxsLCBudWxsLCBkZXBQcm9wcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGxvd2VyQm91bmRWaXNpYmlsaXR5ID0gbnVsbDtcbiAgICB2YXIgdXBwZXJCb3VuZFZpc2liaWxpdHkgPSBudWxsO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWV0YWRhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHBhcmFtTWV0YWRhdGEgPSBtZXRhZGF0YVtpXTtcbiAgICAgICAgaWYgKHBhcmFtTWV0YWRhdGEgaW5zdGFuY2VvZiBsYW5nXzEuVHlwZSkge1xuICAgICAgICAgICAgdG9rZW4gPSBwYXJhbU1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmFtTWV0YWRhdGEgaW5zdGFuY2VvZiBtZXRhZGF0YV8xLkluamVjdE1ldGFkYXRhKSB7XG4gICAgICAgICAgICB0b2tlbiA9IHBhcmFtTWV0YWRhdGEudG9rZW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyYW1NZXRhZGF0YSBpbnN0YW5jZW9mIG1ldGFkYXRhXzEuT3B0aW9uYWxNZXRhZGF0YSkge1xuICAgICAgICAgICAgb3B0aW9uYWwgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmFtTWV0YWRhdGEgaW5zdGFuY2VvZiBtZXRhZGF0YV8xLlNlbGZNZXRhZGF0YSkge1xuICAgICAgICAgICAgdXBwZXJCb3VuZFZpc2liaWxpdHkgPSBwYXJhbU1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmFtTWV0YWRhdGEgaW5zdGFuY2VvZiBtZXRhZGF0YV8xLkhvc3RNZXRhZGF0YSkge1xuICAgICAgICAgICAgdXBwZXJCb3VuZFZpc2liaWxpdHkgPSBwYXJhbU1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmFtTWV0YWRhdGEgaW5zdGFuY2VvZiBtZXRhZGF0YV8xLlNraXBTZWxmTWV0YWRhdGEpIHtcbiAgICAgICAgICAgIGxvd2VyQm91bmRWaXNpYmlsaXR5ID0gcGFyYW1NZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgbWV0YWRhdGFfMS5EZXBlbmRlbmN5TWV0YWRhdGEpIHtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHBhcmFtTWV0YWRhdGEudG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSBwYXJhbU1ldGFkYXRhLnRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVwUHJvcHMucHVzaChwYXJhbU1ldGFkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b2tlbiA9IGZvcndhcmRfcmVmXzEucmVzb2x2ZUZvcndhcmRSZWYodG9rZW4pO1xuICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHRva2VuKSkge1xuICAgICAgICByZXR1cm4gX2NyZWF0ZURlcGVuZGVuY3kodG9rZW4sIG9wdGlvbmFsLCBsb3dlckJvdW5kVmlzaWJpbGl0eSwgdXBwZXJCb3VuZFZpc2liaWxpdHksIGRlcFByb3BzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyByZWZsZWN0aXZlX2V4Y2VwdGlvbnNfMS5Ob0Fubm90YXRpb25FcnJvcih0eXBlT3JGdW5jLCBwYXJhbXMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIF9jcmVhdGVEZXBlbmRlbmN5KHRva2VuLCBvcHRpb25hbCwgbG93ZXJCb3VuZFZpc2liaWxpdHksIHVwcGVyQm91bmRWaXNpYmlsaXR5LCBkZXBQcm9wcykge1xuICAgIHJldHVybiBuZXcgUmVmbGVjdGl2ZURlcGVuZGVuY3kocmVmbGVjdGl2ZV9rZXlfMS5SZWZsZWN0aXZlS2V5LmdldCh0b2tlbiksIG9wdGlvbmFsLCBsb3dlckJvdW5kVmlzaWJpbGl0eSwgdXBwZXJCb3VuZFZpc2liaWxpdHksIGRlcFByb3BzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZmxlY3RpdmVfcHJvdmlkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuL2xhbmcnKTtcbnZhciBwcm9taXNlXzEgPSByZXF1aXJlKCcuL3Byb21pc2UnKTtcbmV4cG9ydHMuUHJvbWlzZVdyYXBwZXIgPSBwcm9taXNlXzEuUHJvbWlzZVdyYXBwZXI7XG5leHBvcnRzLlByb21pc2VDb21wbGV0ZXIgPSBwcm9taXNlXzEuUHJvbWlzZUNvbXBsZXRlcjtcbnZhciBTdWJqZWN0XzEgPSByZXF1aXJlKCdyeGpzL1N1YmplY3QnKTtcbnZhciBQcm9taXNlT2JzZXJ2YWJsZV8xID0gcmVxdWlyZSgncnhqcy9vYnNlcnZhYmxlL1Byb21pc2VPYnNlcnZhYmxlJyk7XG52YXIgdG9Qcm9taXNlXzEgPSByZXF1aXJlKCdyeGpzL29wZXJhdG9yL3RvUHJvbWlzZScpO1xudmFyIE9ic2VydmFibGVfMSA9IHJlcXVpcmUoJ3J4anMvT2JzZXJ2YWJsZScpO1xuZXhwb3J0cy5PYnNlcnZhYmxlID0gT2JzZXJ2YWJsZV8xLk9ic2VydmFibGU7XG52YXIgU3ViamVjdF8yID0gcmVxdWlyZSgncnhqcy9TdWJqZWN0Jyk7XG5leHBvcnRzLlN1YmplY3QgPSBTdWJqZWN0XzIuU3ViamVjdDtcbnZhciBUaW1lcldyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRpbWVyV3JhcHBlcigpIHtcbiAgICB9XG4gICAgVGltZXJXcmFwcGVyLnNldFRpbWVvdXQgPSBmdW5jdGlvbiAoZm4sIG1pbGxpcykge1xuICAgICAgICByZXR1cm4gbGFuZ18xLmdsb2JhbC5zZXRUaW1lb3V0KGZuLCBtaWxsaXMpO1xuICAgIH07XG4gICAgVGltZXJXcmFwcGVyLmNsZWFyVGltZW91dCA9IGZ1bmN0aW9uIChpZCkgeyBsYW5nXzEuZ2xvYmFsLmNsZWFyVGltZW91dChpZCk7IH07XG4gICAgVGltZXJXcmFwcGVyLnNldEludGVydmFsID0gZnVuY3Rpb24gKGZuLCBtaWxsaXMpIHtcbiAgICAgICAgcmV0dXJuIGxhbmdfMS5nbG9iYWwuc2V0SW50ZXJ2YWwoZm4sIG1pbGxpcyk7XG4gICAgfTtcbiAgICBUaW1lcldyYXBwZXIuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uIChpZCkgeyBsYW5nXzEuZ2xvYmFsLmNsZWFySW50ZXJ2YWwoaWQpOyB9O1xuICAgIHJldHVybiBUaW1lcldyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5UaW1lcldyYXBwZXIgPSBUaW1lcldyYXBwZXI7XG52YXIgT2JzZXJ2YWJsZVdyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGVXcmFwcGVyKCkge1xuICAgIH1cbiAgICAvLyBUT0RPKHZzYXZraW4pOiB3aGVuIHdlIHVzZSByeG5leHQsIHRyeSBpbmZlcnJpbmcgdGhlIGdlbmVyaWMgdHlwZSBmcm9tIHRoZSBmaXJzdCBhcmdcbiAgICBPYnNlcnZhYmxlV3JhcHBlci5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoZW1pdHRlciwgb25OZXh0LCBvbkVycm9yLCBvbkNvbXBsZXRlKSB7XG4gICAgICAgIGlmIChvbkNvbXBsZXRlID09PSB2b2lkIDApIHsgb25Db21wbGV0ZSA9IGZ1bmN0aW9uICgpIHsgfTsgfVxuICAgICAgICBvbkVycm9yID0gKHR5cGVvZiBvbkVycm9yID09PSBcImZ1bmN0aW9uXCIpICYmIG9uRXJyb3IgfHwgbGFuZ18xLm5vb3A7XG4gICAgICAgIG9uQ29tcGxldGUgPSAodHlwZW9mIG9uQ29tcGxldGUgPT09IFwiZnVuY3Rpb25cIikgJiYgb25Db21wbGV0ZSB8fCBsYW5nXzEubm9vcDtcbiAgICAgICAgcmV0dXJuIGVtaXR0ZXIuc3Vic2NyaWJlKHsgbmV4dDogb25OZXh0LCBlcnJvcjogb25FcnJvciwgY29tcGxldGU6IG9uQ29tcGxldGUgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlV3JhcHBlci5pc09ic2VydmFibGUgPSBmdW5jdGlvbiAob2JzKSB7IHJldHVybiAhIW9icy5zdWJzY3JpYmU7IH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIGBvYnNgIGhhcyBhbnkgc3Vic2NyaWJlcnMgbGlzdGVuaW5nIHRvIGV2ZW50cy5cbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlV3JhcHBlci5oYXNTdWJzY3JpYmVycyA9IGZ1bmN0aW9uIChvYnMpIHsgcmV0dXJuIG9icy5vYnNlcnZlcnMubGVuZ3RoID4gMDsgfTtcbiAgICBPYnNlcnZhYmxlV3JhcHBlci5kaXNwb3NlID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikgeyBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTsgfTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCAtIHVzZSBjYWxsRW1pdCgpIGluc3RlYWRcbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlV3JhcHBlci5jYWxsTmV4dCA9IGZ1bmN0aW9uIChlbWl0dGVyLCB2YWx1ZSkgeyBlbWl0dGVyLm5leHQodmFsdWUpOyB9O1xuICAgIE9ic2VydmFibGVXcmFwcGVyLmNhbGxFbWl0ID0gZnVuY3Rpb24gKGVtaXR0ZXIsIHZhbHVlKSB7IGVtaXR0ZXIuZW1pdCh2YWx1ZSk7IH07XG4gICAgT2JzZXJ2YWJsZVdyYXBwZXIuY2FsbEVycm9yID0gZnVuY3Rpb24gKGVtaXR0ZXIsIGVycm9yKSB7IGVtaXR0ZXIuZXJyb3IoZXJyb3IpOyB9O1xuICAgIE9ic2VydmFibGVXcmFwcGVyLmNhbGxDb21wbGV0ZSA9IGZ1bmN0aW9uIChlbWl0dGVyKSB7IGVtaXR0ZXIuY29tcGxldGUoKTsgfTtcbiAgICBPYnNlcnZhYmxlV3JhcHBlci5mcm9tUHJvbWlzZSA9IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlT2JzZXJ2YWJsZV8xLlByb21pc2VPYnNlcnZhYmxlLmNyZWF0ZShwcm9taXNlKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGVXcmFwcGVyLnRvUHJvbWlzZSA9IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHRvUHJvbWlzZV8xLnRvUHJvbWlzZS5jYWxsKG9iaik7IH07XG4gICAgcmV0dXJuIE9ic2VydmFibGVXcmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuT2JzZXJ2YWJsZVdyYXBwZXIgPSBPYnNlcnZhYmxlV3JhcHBlcjtcbi8qKlxuICogVXNlIGJ5IGRpcmVjdGl2ZXMgYW5kIGNvbXBvbmVudHMgdG8gZW1pdCBjdXN0b20gRXZlbnRzLlxuICpcbiAqICMjIyBFeGFtcGxlc1xuICpcbiAqIEluIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSwgYFppcHB5YCBhbHRlcm5hdGl2ZWx5IGVtaXRzIGBvcGVuYCBhbmQgYGNsb3NlYCBldmVudHMgd2hlbiBpdHNcbiAqIHRpdGxlIGdldHMgY2xpY2tlZDpcbiAqXG4gKiBgYGBcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ3ppcHB5JyxcbiAqICAgdGVtcGxhdGU6IGBcbiAqICAgPGRpdiBjbGFzcz1cInppcHB5XCI+XG4gKiAgICAgPGRpdiAoY2xpY2spPVwidG9nZ2xlKClcIj5Ub2dnbGU8L2Rpdj5cbiAqICAgICA8ZGl2IFtoaWRkZW5dPVwiIXZpc2libGVcIj5cbiAqICAgICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cbiAqICAgICA8L2Rpdj5cbiAqICA8L2Rpdj5gfSlcbiAqIGV4cG9ydCBjbGFzcyBaaXBweSB7XG4gKiAgIHZpc2libGU6IGJvb2xlYW4gPSB0cnVlO1xuICogICBAT3V0cHV0KCkgb3BlbjogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gKiAgIEBPdXRwdXQoKSBjbG9zZTogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gKlxuICogICB0b2dnbGUoKSB7XG4gKiAgICAgdGhpcy52aXNpYmxlID0gIXRoaXMudmlzaWJsZTtcbiAqICAgICBpZiAodGhpcy52aXNpYmxlKSB7XG4gKiAgICAgICB0aGlzLm9wZW4uZW1pdChudWxsKTtcbiAqICAgICB9IGVsc2Uge1xuICogICAgICAgdGhpcy5jbG9zZS5lbWl0KG51bGwpO1xuICogICAgIH1cbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogVXNlIFJ4Lk9ic2VydmFibGUgYnV0IHByb3ZpZGVzIGFuIGFkYXB0ZXIgdG8gbWFrZSBpdCB3b3JrIGFzIHNwZWNpZmllZCBoZXJlOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2podXNhaW4vb2JzZXJ2YWJsZS1zcGVjXG4gKlxuICogT25jZSBhIHJlZmVyZW5jZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgc3BlYyBpcyBhdmFpbGFibGUsIHN3aXRjaCB0byBpdC5cbiAqL1xudmFyIEV2ZW50RW1pdHRlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEV2ZW50RW1pdHRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIFtFdmVudEVtaXR0ZXJdLCB3aGljaCBkZXBlbmRpbmcgb24gW2lzQXN5bmNdLFxuICAgICAqIGRlbGl2ZXJzIGV2ZW50cyBzeW5jaHJvbm91c2x5IG9yIGFzeW5jaHJvbm91c2x5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcihpc0FzeW5jKSB7XG4gICAgICAgIGlmIChpc0FzeW5jID09PSB2b2lkIDApIHsgaXNBc3luYyA9IHRydWU7IH1cbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX2lzQXN5bmMgPSBpc0FzeW5jO1xuICAgIH1cbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiAodmFsdWUpIHsgX3N1cGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcywgdmFsdWUpOyB9O1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIC0gdXNlIC5lbWl0KHZhbHVlKSBpbnN0ZWFkXG4gICAgICovXG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7IF9zdXBlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsIHZhbHVlKTsgfTtcbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChnZW5lcmF0b3JPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgc2NoZWR1bGVyRm47XG4gICAgICAgIHZhciBlcnJvckZuID0gZnVuY3Rpb24gKGVycikgeyByZXR1cm4gbnVsbDsgfTtcbiAgICAgICAgdmFyIGNvbXBsZXRlRm4gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9O1xuICAgICAgICBpZiAoZ2VuZXJhdG9yT3JOZXh0ICYmIHR5cGVvZiBnZW5lcmF0b3JPck5leHQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBzY2hlZHVsZXJGbiA9IHRoaXMuX2lzQXN5bmMgPyBmdW5jdGlvbiAodmFsdWUpIHsgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBnZW5lcmF0b3JPck5leHQubmV4dCh2YWx1ZSk7IH0pOyB9IDpcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHsgZ2VuZXJhdG9yT3JOZXh0Lm5leHQodmFsdWUpOyB9O1xuICAgICAgICAgICAgaWYgKGdlbmVyYXRvck9yTmV4dC5lcnJvcikge1xuICAgICAgICAgICAgICAgIGVycm9yRm4gPSB0aGlzLl9pc0FzeW5jID8gZnVuY3Rpb24gKGVycikgeyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdlbmVyYXRvck9yTmV4dC5lcnJvcihlcnIpOyB9KTsgfSA6XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnIpIHsgZ2VuZXJhdG9yT3JOZXh0LmVycm9yKGVycik7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2VuZXJhdG9yT3JOZXh0LmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVGbiA9IHRoaXMuX2lzQXN5bmMgPyBmdW5jdGlvbiAoKSB7IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2VuZXJhdG9yT3JOZXh0LmNvbXBsZXRlKCk7IH0pOyB9IDpcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyBnZW5lcmF0b3JPck5leHQuY29tcGxldGUoKTsgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNjaGVkdWxlckZuID0gdGhpcy5faXNBc3luYyA/IGZ1bmN0aW9uICh2YWx1ZSkgeyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdlbmVyYXRvck9yTmV4dCh2YWx1ZSk7IH0pOyB9IDpcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHsgZ2VuZXJhdG9yT3JOZXh0KHZhbHVlKTsgfTtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGVycm9yRm4gPVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0FzeW5jID8gZnVuY3Rpb24gKGVycikgeyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVycm9yKGVycik7IH0pOyB9IDogZnVuY3Rpb24gKGVycikgeyBlcnJvcihlcnIpOyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVGbiA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQXN5bmMgPyBmdW5jdGlvbiAoKSB7IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gY29tcGxldGUoKTsgfSk7IH0gOiBmdW5jdGlvbiAoKSB7IGNvbXBsZXRlKCk7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuc3Vic2NyaWJlLmNhbGwodGhpcywgc2NoZWR1bGVyRm4sIGVycm9yRm4sIGNvbXBsZXRlRm4pO1xuICAgIH07XG4gICAgcmV0dXJuIEV2ZW50RW1pdHRlcjtcbn0oU3ViamVjdF8xLlN1YmplY3QpKTtcbmV4cG9ydHMuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN5bmMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbi8qKlxuKiBBIGJhc2UgY2xhc3MgZm9yIHRoZSBXcmFwcGVkRXhjZXB0aW9uIHRoYXQgY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnlcbiogYSBXcmFwcGVkRXhjZXB0aW9uIGZyb20gRXhjZXB0aW9uSGFuZGxlciB3aXRob3V0IGFkZGluZyBjaXJjdWxhclxuKiBkZXBlbmRlbmN5LlxuKi9cbnZhciBCYXNlV3JhcHBlZEV4Y2VwdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VXcmFwcGVkRXhjZXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJhc2VXcmFwcGVkRXhjZXB0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwid3JhcHBlck1lc3NhZ2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcnOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZVdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcIndyYXBwZXJTdGFja1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJvcmlnaW5hbEV4Y2VwdGlvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJvcmlnaW5hbFN0YWNrXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZVdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcImNvbnRleHRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwibWVzc2FnZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gJyc7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCYXNlV3JhcHBlZEV4Y2VwdGlvbjtcbn0oRXJyb3IpKTtcbmV4cG9ydHMuQmFzZVdyYXBwZWRFeGNlcHRpb24gPSBCYXNlV3JhcHBlZEV4Y2VwdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2Vfd3JhcHBlZF9leGNlcHRpb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi9sYW5nJyk7XG5leHBvcnRzLk1hcCA9IGxhbmdfMS5nbG9iYWwuTWFwO1xuZXhwb3J0cy5TZXQgPSBsYW5nXzEuZ2xvYmFsLlNldDtcbi8vIFNhZmFyaSBhbmQgSW50ZXJuZXQgRXhwbG9yZXIgZG8gbm90IHN1cHBvcnQgdGhlIGl0ZXJhYmxlIHBhcmFtZXRlciB0byB0aGVcbi8vIE1hcCBjb25zdHJ1Y3Rvci4gIFdlIHdvcmsgYXJvdW5kIHRoYXQgYnkgbWFudWFsbHkgYWRkaW5nIHRoZSBpdGVtcy5cbnZhciBjcmVhdGVNYXBGcm9tUGFpcnMgPSAoZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChuZXcgZXhwb3J0cy5NYXAoW1sxLCAyXV0pLnNpemUgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVNYXBGcm9tUGFpcnMocGFpcnMpIHsgcmV0dXJuIG5ldyBleHBvcnRzLk1hcChwYWlycyk7IH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZU1hcEFuZFBvcHVsYXRlRnJvbVBhaXJzKHBhaXJzKSB7XG4gICAgICAgIHZhciBtYXAgPSBuZXcgZXhwb3J0cy5NYXAoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpXTtcbiAgICAgICAgICAgIG1hcC5zZXQocGFpclswXSwgcGFpclsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICB9O1xufSkoKTtcbnZhciBjcmVhdGVNYXBGcm9tTWFwID0gKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAobmV3IGV4cG9ydHMuTWFwKG5ldyBleHBvcnRzLk1hcCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZU1hcEZyb21NYXAobSkgeyByZXR1cm4gbmV3IGV4cG9ydHMuTWFwKG0pOyB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVNYXBBbmRQb3B1bGF0ZUZyb21NYXAobSkge1xuICAgICAgICB2YXIgbWFwID0gbmV3IGV4cG9ydHMuTWFwKCk7XG4gICAgICAgIG0uZm9yRWFjaChmdW5jdGlvbiAodiwgaykgeyBtYXAuc2V0KGssIHYpOyB9KTtcbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICB9O1xufSkoKTtcbnZhciBfY2xlYXJWYWx1ZXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGlmICgobmV3IGV4cG9ydHMuTWFwKCkpLmtleXMoKS5uZXh0KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfY2xlYXJWYWx1ZXMobSkge1xuICAgICAgICAgICAgdmFyIGtleUl0ZXJhdG9yID0gbS5rZXlzKCk7XG4gICAgICAgICAgICB2YXIgaztcbiAgICAgICAgICAgIHdoaWxlICghKChrID0ga2V5SXRlcmF0b3IubmV4dCgpKS5kb25lKSkge1xuICAgICAgICAgICAgICAgIG0uc2V0KGsudmFsdWUsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9jbGVhclZhbHVlc1dpdGhGb3JlRWFjaChtKSB7XG4gICAgICAgICAgICBtLmZvckVhY2goZnVuY3Rpb24gKHYsIGspIHsgbS5zZXQoaywgbnVsbCk7IH0pO1xuICAgICAgICB9O1xuICAgIH1cbn0pKCk7XG4vLyBTYWZhcmkgZG9lc24ndCBpbXBsZW1lbnQgTWFwSXRlcmF0b3IubmV4dCgpLCB3aGljaCBpcyB1c2VkIGlzIFRyYWNldXIncyBwb2x5ZmlsbCBvZiBBcnJheS5mcm9tXG4vLyBUT0RPKG1sYXZhbCk6IHJlbW92ZSB0aGUgd29yayBhcm91bmQgb25jZSB3ZSBoYXZlIGEgd29ya2luZyBwb2x5ZmlsbCBvZiBBcnJheS5mcm9tXG52YXIgX2FycmF5RnJvbU1hcCA9IChmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKChuZXcgZXhwb3J0cy5NYXAoKSkudmFsdWVzKCkubmV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUFycmF5RnJvbU1hcChtLCBnZXRWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VmFsdWVzID8gQXJyYXkuZnJvbShtLnZhbHVlcygpKSA6IEFycmF5LmZyb20obS5rZXlzKCkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlQXJyYXlGcm9tTWFwV2l0aEZvcmVhY2gobSwgZ2V0VmFsdWVzKSB7XG4gICAgICAgIHZhciByZXMgPSBMaXN0V3JhcHBlci5jcmVhdGVGaXhlZFNpemUobS5zaXplKSwgaSA9IDA7XG4gICAgICAgIG0uZm9yRWFjaChmdW5jdGlvbiAodiwgaykge1xuICAgICAgICAgICAgcmVzW2ldID0gZ2V0VmFsdWVzID8gdiA6IGs7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG59KSgpO1xudmFyIE1hcFdyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1hcFdyYXBwZXIoKSB7XG4gICAgfVxuICAgIE1hcFdyYXBwZXIuY2xvbmUgPSBmdW5jdGlvbiAobSkgeyByZXR1cm4gY3JlYXRlTWFwRnJvbU1hcChtKTsgfTtcbiAgICBNYXBXcmFwcGVyLmNyZWF0ZUZyb21TdHJpbmdNYXAgPSBmdW5jdGlvbiAoc3RyaW5nTWFwKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgZXhwb3J0cy5NYXAoKTtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzdHJpbmdNYXApIHtcbiAgICAgICAgICAgIHJlc3VsdC5zZXQocHJvcCwgc3RyaW5nTWFwW3Byb3BdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgTWFwV3JhcHBlci50b1N0cmluZ01hcCA9IGZ1bmN0aW9uIChtKSB7XG4gICAgICAgIHZhciByID0ge307XG4gICAgICAgIG0uZm9yRWFjaChmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gcltrXSA9IHY7IH0pO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9O1xuICAgIE1hcFdyYXBwZXIuY3JlYXRlRnJvbVBhaXJzID0gZnVuY3Rpb24gKHBhaXJzKSB7IHJldHVybiBjcmVhdGVNYXBGcm9tUGFpcnMocGFpcnMpOyB9O1xuICAgIE1hcFdyYXBwZXIuY2xlYXJWYWx1ZXMgPSBmdW5jdGlvbiAobSkgeyBfY2xlYXJWYWx1ZXMobSk7IH07XG4gICAgTWFwV3JhcHBlci5pdGVyYWJsZSA9IGZ1bmN0aW9uIChtKSB7IHJldHVybiBtOyB9O1xuICAgIE1hcFdyYXBwZXIua2V5cyA9IGZ1bmN0aW9uIChtKSB7IHJldHVybiBfYXJyYXlGcm9tTWFwKG0sIGZhbHNlKTsgfTtcbiAgICBNYXBXcmFwcGVyLnZhbHVlcyA9IGZ1bmN0aW9uIChtKSB7IHJldHVybiBfYXJyYXlGcm9tTWFwKG0sIHRydWUpOyB9O1xuICAgIHJldHVybiBNYXBXcmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuTWFwV3JhcHBlciA9IE1hcFdyYXBwZXI7XG4vKipcbiAqIFdyYXBzIEphdmFzY3JpcHQgT2JqZWN0c1xuICovXG52YXIgU3RyaW5nTWFwV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RyaW5nTWFwV3JhcHBlcigpIHtcbiAgICB9XG4gICAgU3RyaW5nTWFwV3JhcHBlci5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIE5vdGU6IFdlIGFyZSBub3QgdXNpbmcgT2JqZWN0LmNyZWF0ZShudWxsKSBoZXJlIGR1ZSB0b1xuICAgICAgICAvLyBwZXJmb3JtYW5jZSFcbiAgICAgICAgLy8gaHR0cDovL2pzcGVyZi5jb20vbmcyLW9iamVjdC1jcmVhdGUtbnVsbFxuICAgICAgICByZXR1cm4ge307XG4gICAgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLmNvbnRhaW5zID0gZnVuY3Rpb24gKG1hcCwga2V5KSB7XG4gICAgICAgIHJldHVybiBtYXAuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgICB9O1xuICAgIFN0cmluZ01hcFdyYXBwZXIuZ2V0ID0gZnVuY3Rpb24gKG1hcCwga2V5KSB7XG4gICAgICAgIHJldHVybiBtYXAuaGFzT3duUHJvcGVydHkoa2V5KSA/IG1hcFtrZXldIDogdW5kZWZpbmVkO1xuICAgIH07XG4gICAgU3RyaW5nTWFwV3JhcHBlci5zZXQgPSBmdW5jdGlvbiAobWFwLCBrZXksIHZhbHVlKSB7IG1hcFtrZXldID0gdmFsdWU7IH07XG4gICAgU3RyaW5nTWFwV3JhcHBlci5rZXlzID0gZnVuY3Rpb24gKG1hcCkgeyByZXR1cm4gT2JqZWN0LmtleXMobWFwKTsgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLnZhbHVlcyA9IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG1hcCkucmVkdWNlKGZ1bmN0aW9uIChyLCBhKSB7XG4gICAgICAgICAgICByLnB1c2gobWFwW2FdKTtcbiAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICB9LCBbXSk7XG4gICAgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLmlzRW1wdHkgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gbWFwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLmRlbGV0ZSA9IGZ1bmN0aW9uIChtYXAsIGtleSkgeyBkZWxldGUgbWFwW2tleV07IH07XG4gICAgU3RyaW5nTWFwV3JhcHBlci5mb3JFYWNoID0gZnVuY3Rpb24gKG1hcCwgY2FsbGJhY2spIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBtYXApIHtcbiAgICAgICAgICAgIGlmIChtYXAuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhtYXBbcHJvcF0sIHByb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLm1lcmdlID0gZnVuY3Rpb24gKG0xLCBtMikge1xuICAgICAgICB2YXIgbSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBhdHRyIGluIG0xKSB7XG4gICAgICAgICAgICBpZiAobTEuaGFzT3duUHJvcGVydHkoYXR0cikpIHtcbiAgICAgICAgICAgICAgICBtW2F0dHJdID0gbTFbYXR0cl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBtMikge1xuICAgICAgICAgICAgaWYgKG0yLmhhc093blByb3BlcnR5KGF0dHIpKSB7XG4gICAgICAgICAgICAgICAgbVthdHRyXSA9IG0yW2F0dHJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtO1xuICAgIH07XG4gICAgU3RyaW5nTWFwV3JhcHBlci5lcXVhbHMgPSBmdW5jdGlvbiAobTEsIG0yKSB7XG4gICAgICAgIHZhciBrMSA9IE9iamVjdC5rZXlzKG0xKTtcbiAgICAgICAgdmFyIGsyID0gT2JqZWN0LmtleXMobTIpO1xuICAgICAgICBpZiAoazEubGVuZ3RoICE9IGsyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgazEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGtleSA9IGsxW2ldO1xuICAgICAgICAgICAgaWYgKG0xW2tleV0gIT09IG0yW2tleV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gU3RyaW5nTWFwV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLlN0cmluZ01hcFdyYXBwZXIgPSBTdHJpbmdNYXBXcmFwcGVyO1xudmFyIExpc3RXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMaXN0V3JhcHBlcigpIHtcbiAgICB9XG4gICAgLy8gSlMgaGFzIG5vIHdheSB0byBleHByZXNzIGEgc3RhdGljYWxseSBmaXhlZCBzaXplIGxpc3QsIGJ1dCBkYXJ0IGRvZXMgc28gd2VcbiAgICAvLyBrZWVwIGJvdGggbWV0aG9kcy5cbiAgICBMaXN0V3JhcHBlci5jcmVhdGVGaXhlZFNpemUgPSBmdW5jdGlvbiAoc2l6ZSkgeyByZXR1cm4gbmV3IEFycmF5KHNpemUpOyB9O1xuICAgIExpc3RXcmFwcGVyLmNyZWF0ZUdyb3dhYmxlU2l6ZSA9IGZ1bmN0aW9uIChzaXplKSB7IHJldHVybiBuZXcgQXJyYXkoc2l6ZSk7IH07XG4gICAgTGlzdFdyYXBwZXIuY2xvbmUgPSBmdW5jdGlvbiAoYXJyYXkpIHsgcmV0dXJuIGFycmF5LnNsaWNlKDApOyB9O1xuICAgIExpc3RXcmFwcGVyLmZvckVhY2hXaXRoSW5kZXggPSBmdW5jdGlvbiAoYXJyYXksIGZuKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZuKGFycmF5W2ldLCBpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuZmlyc3QgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgaWYgKCFhcnJheSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gYXJyYXlbMF07XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5sYXN0ID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgIGlmICghYXJyYXkgfHwgYXJyYXkubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuaW5kZXhPZiA9IGZ1bmN0aW9uIChhcnJheSwgdmFsdWUsIHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgaWYgKHN0YXJ0SW5kZXggPT09IHZvaWQgMCkgeyBzdGFydEluZGV4ID0gMDsgfVxuICAgICAgICByZXR1cm4gYXJyYXkuaW5kZXhPZih2YWx1ZSwgc3RhcnRJbmRleCk7XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5jb250YWlucyA9IGZ1bmN0aW9uIChsaXN0LCBlbCkgeyByZXR1cm4gbGlzdC5pbmRleE9mKGVsKSAhPT0gLTE7IH07XG4gICAgTGlzdFdyYXBwZXIucmV2ZXJzZWQgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgdmFyIGEgPSBMaXN0V3JhcHBlci5jbG9uZShhcnJheSk7XG4gICAgICAgIHJldHVybiBhLnJldmVyc2UoKTtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLmNvbmNhdCA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmNvbmNhdChiKTsgfTtcbiAgICBMaXN0V3JhcHBlci5pbnNlcnQgPSBmdW5jdGlvbiAobGlzdCwgaW5kZXgsIHZhbHVlKSB7IGxpc3Quc3BsaWNlKGluZGV4LCAwLCB2YWx1ZSk7IH07XG4gICAgTGlzdFdyYXBwZXIucmVtb3ZlQXQgPSBmdW5jdGlvbiAobGlzdCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIHJlcyA9IGxpc3RbaW5kZXhdO1xuICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5yZW1vdmVBbGwgPSBmdW5jdGlvbiAobGlzdCwgaXRlbXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdC5pbmRleE9mKGl0ZW1zW2ldKTtcbiAgICAgICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGlzdFdyYXBwZXIucmVtb3ZlID0gZnVuY3Rpb24gKGxpc3QsIGVsKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGxpc3QuaW5kZXhPZihlbCk7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5jbGVhciA9IGZ1bmN0aW9uIChsaXN0KSB7IGxpc3QubGVuZ3RoID0gMDsgfTtcbiAgICBMaXN0V3JhcHBlci5pc0VtcHR5ID0gZnVuY3Rpb24gKGxpc3QpIHsgcmV0dXJuIGxpc3QubGVuZ3RoID09IDA7IH07XG4gICAgTGlzdFdyYXBwZXIuZmlsbCA9IGZ1bmN0aW9uIChsaXN0LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgICBpZiAoc3RhcnQgPT09IHZvaWQgMCkgeyBzdGFydCA9IDA7IH1cbiAgICAgICAgaWYgKGVuZCA9PT0gdm9pZCAwKSB7IGVuZCA9IG51bGw7IH1cbiAgICAgICAgbGlzdC5maWxsKHZhbHVlLCBzdGFydCwgZW5kID09PSBudWxsID8gbGlzdC5sZW5ndGggOiBlbmQpO1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuZXF1YWxzID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoICE9IGIubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChhW2ldICE9PSBiW2ldKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLnNsaWNlID0gZnVuY3Rpb24gKGwsIGZyb20sIHRvKSB7XG4gICAgICAgIGlmIChmcm9tID09PSB2b2lkIDApIHsgZnJvbSA9IDA7IH1cbiAgICAgICAgaWYgKHRvID09PSB2b2lkIDApIHsgdG8gPSBudWxsOyB9XG4gICAgICAgIHJldHVybiBsLnNsaWNlKGZyb20sIHRvID09PSBudWxsID8gdW5kZWZpbmVkIDogdG8pO1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuc3BsaWNlID0gZnVuY3Rpb24gKGwsIGZyb20sIGxlbmd0aCkgeyByZXR1cm4gbC5zcGxpY2UoZnJvbSwgbGVuZ3RoKTsgfTtcbiAgICBMaXN0V3JhcHBlci5zb3J0ID0gZnVuY3Rpb24gKGwsIGNvbXBhcmVGbikge1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChjb21wYXJlRm4pKSB7XG4gICAgICAgICAgICBsLnNvcnQoY29tcGFyZUZuKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGwuc29ydCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci50b1N0cmluZyA9IGZ1bmN0aW9uIChsKSB7IHJldHVybiBsLnRvU3RyaW5nKCk7IH07XG4gICAgTGlzdFdyYXBwZXIudG9KU09OID0gZnVuY3Rpb24gKGwpIHsgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGwpOyB9O1xuICAgIExpc3RXcmFwcGVyLm1heGltdW0gPSBmdW5jdGlvbiAobGlzdCwgcHJlZGljYXRlKSB7XG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc29sdXRpb24gPSBudWxsO1xuICAgICAgICB2YXIgbWF4VmFsdWUgPSAtSW5maW5pdHk7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IGxpc3RbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKGNhbmRpZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjYW5kaWRhdGVWYWx1ZSA9IHByZWRpY2F0ZShjYW5kaWRhdGUpO1xuICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZVZhbHVlID4gbWF4VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzb2x1dGlvbiA9IGNhbmRpZGF0ZTtcbiAgICAgICAgICAgICAgICBtYXhWYWx1ZSA9IGNhbmRpZGF0ZVZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb2x1dGlvbjtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLmZsYXR0ZW4gPSBmdW5jdGlvbiAobGlzdCkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gW107XG4gICAgICAgIF9mbGF0dGVuQXJyYXkobGlzdCwgdGFyZ2V0KTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLmFkZEFsbCA9IGZ1bmN0aW9uIChsaXN0LCBzb3VyY2UpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxpc3QucHVzaChzb3VyY2VbaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTGlzdFdyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5MaXN0V3JhcHBlciA9IExpc3RXcmFwcGVyO1xuZnVuY3Rpb24gX2ZsYXR0ZW5BcnJheShzb3VyY2UsIHRhcmdldCkge1xuICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHNvdXJjZSkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gc291cmNlW2ldO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgX2ZsYXR0ZW5BcnJheShpdGVtLCB0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIGlzTGlzdExpa2VJdGVyYWJsZShvYmopIHtcbiAgICBpZiAoIWxhbmdfMS5pc0pzT2JqZWN0KG9iaikpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gbGFuZ18xLmlzQXJyYXkob2JqKSB8fFxuICAgICAgICAoIShvYmogaW5zdGFuY2VvZiBleHBvcnRzLk1hcCkgJiZcbiAgICAgICAgICAgIGxhbmdfMS5nZXRTeW1ib2xJdGVyYXRvcigpIGluIG9iaik7IC8vIEpTIEl0ZXJhYmxlIGhhdmUgYSBTeW1ib2wuaXRlcmF0b3IgcHJvcFxufVxuZXhwb3J0cy5pc0xpc3RMaWtlSXRlcmFibGUgPSBpc0xpc3RMaWtlSXRlcmFibGU7XG5mdW5jdGlvbiBhcmVJdGVyYWJsZXNFcXVhbChhLCBiLCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGl0ZXJhdG9yMSA9IGFbbGFuZ18xLmdldFN5bWJvbEl0ZXJhdG9yKCldKCk7XG4gICAgdmFyIGl0ZXJhdG9yMiA9IGJbbGFuZ18xLmdldFN5bWJvbEl0ZXJhdG9yKCldKCk7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGl0ZW0xID0gaXRlcmF0b3IxLm5leHQoKTtcbiAgICAgICAgdmFyIGl0ZW0yID0gaXRlcmF0b3IyLm5leHQoKTtcbiAgICAgICAgaWYgKGl0ZW0xLmRvbmUgJiYgaXRlbTIuZG9uZSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoaXRlbTEuZG9uZSB8fCBpdGVtMi5kb25lKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIWNvbXBhcmF0b3IoaXRlbTEudmFsdWUsIGl0ZW0yLnZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5leHBvcnRzLmFyZUl0ZXJhYmxlc0VxdWFsID0gYXJlSXRlcmFibGVzRXF1YWw7XG5mdW5jdGlvbiBpdGVyYXRlTGlzdExpa2Uob2JqLCBmbikge1xuICAgIGlmIChsYW5nXzEuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmbihvYmpbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBvYmpbbGFuZ18xLmdldFN5bWJvbEl0ZXJhdG9yKCldKCk7XG4gICAgICAgIHZhciBpdGVtO1xuICAgICAgICB3aGlsZSAoISgoaXRlbSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkpIHtcbiAgICAgICAgICAgIGZuKGl0ZW0udmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5pdGVyYXRlTGlzdExpa2UgPSBpdGVyYXRlTGlzdExpa2U7XG4vLyBTYWZhcmkgYW5kIEludGVybmV0IEV4cGxvcmVyIGRvIG5vdCBzdXBwb3J0IHRoZSBpdGVyYWJsZSBwYXJhbWV0ZXIgdG8gdGhlXG4vLyBTZXQgY29uc3RydWN0b3IuICBXZSB3b3JrIGFyb3VuZCB0aGF0IGJ5IG1hbnVhbGx5IGFkZGluZyB0aGUgaXRlbXMuXG52YXIgY3JlYXRlU2V0RnJvbUxpc3QgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciB0ZXN0ID0gbmV3IGV4cG9ydHMuU2V0KFsxLCAyLCAzXSk7XG4gICAgaWYgKHRlc3Quc2l6ZSA9PT0gMykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlU2V0RnJvbUxpc3QobHN0KSB7IHJldHVybiBuZXcgZXhwb3J0cy5TZXQobHN0KTsgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVTZXRBbmRQb3B1bGF0ZUZyb21MaXN0KGxzdCkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IG5ldyBleHBvcnRzLlNldChsc3QpO1xuICAgICAgICAgICAgaWYgKHJlcy5zaXplICE9PSBsc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmFkZChsc3RbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcbnZhciBTZXRXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZXRXcmFwcGVyKCkge1xuICAgIH1cbiAgICBTZXRXcmFwcGVyLmNyZWF0ZUZyb21MaXN0ID0gZnVuY3Rpb24gKGxzdCkgeyByZXR1cm4gY3JlYXRlU2V0RnJvbUxpc3QobHN0KTsgfTtcbiAgICBTZXRXcmFwcGVyLmhhcyA9IGZ1bmN0aW9uIChzLCBrZXkpIHsgcmV0dXJuIHMuaGFzKGtleSk7IH07XG4gICAgU2V0V3JhcHBlci5kZWxldGUgPSBmdW5jdGlvbiAobSwgaykgeyBtLmRlbGV0ZShrKTsgfTtcbiAgICByZXR1cm4gU2V0V3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLlNldFdyYXBwZXIgPSBTZXRXcmFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sbGVjdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuL2xhbmcnKTtcbnZhciBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEgPSByZXF1aXJlKCcuL2Jhc2Vfd3JhcHBlZF9leGNlcHRpb24nKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuL2NvbGxlY3Rpb24nKTtcbnZhciBfQXJyYXlMb2dnZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIF9BcnJheUxvZ2dlcigpIHtcbiAgICAgICAgdGhpcy5yZXMgPSBbXTtcbiAgICB9XG4gICAgX0FycmF5TG9nZ2VyLnByb3RvdHlwZS5sb2cgPSBmdW5jdGlvbiAocykgeyB0aGlzLnJlcy5wdXNoKHMpOyB9O1xuICAgIF9BcnJheUxvZ2dlci5wcm90b3R5cGUubG9nRXJyb3IgPSBmdW5jdGlvbiAocykgeyB0aGlzLnJlcy5wdXNoKHMpOyB9O1xuICAgIF9BcnJheUxvZ2dlci5wcm90b3R5cGUubG9nR3JvdXAgPSBmdW5jdGlvbiAocykgeyB0aGlzLnJlcy5wdXNoKHMpOyB9O1xuICAgIF9BcnJheUxvZ2dlci5wcm90b3R5cGUubG9nR3JvdXBFbmQgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgO1xuICAgIHJldHVybiBfQXJyYXlMb2dnZXI7XG59KCkpO1xuLyoqXG4gKiBQcm92aWRlcyBhIGhvb2sgZm9yIGNlbnRyYWxpemVkIGV4Y2VwdGlvbiBoYW5kbGluZy5cbiAqXG4gKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiBgRXhjZXB0aW9uSGFuZGxlcmAgcHJpbnRzIGVycm9yIG1lc3NhZ2VzIHRvIHRoZSBgQ29uc29sZWAuIFRvXG4gKiBpbnRlcmNlcHQgZXJyb3IgaGFuZGxpbmcsXG4gKiB3cml0ZSBhIGN1c3RvbSBleGNlcHRpb24gaGFuZGxlciB0aGF0IHJlcGxhY2VzIHRoaXMgZGVmYXVsdCBhcyBhcHByb3ByaWF0ZSBmb3IgeW91ciBhcHAuXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKlxuICogY2xhc3MgTXlFeGNlcHRpb25IYW5kbGVyIGltcGxlbWVudHMgRXhjZXB0aW9uSGFuZGxlciB7XG4gKiAgIGNhbGwoZXJyb3IsIHN0YWNrVHJhY2UgPSBudWxsLCByZWFzb24gPSBudWxsKSB7XG4gKiAgICAgLy8gZG8gc29tZXRoaW5nIHdpdGggdGhlIGV4Y2VwdGlvblxuICogICB9XG4gKiB9XG4gKlxuICogYm9vdHN0cmFwKE15QXBwLCBbcHJvdmlkZShFeGNlcHRpb25IYW5kbGVyLCB7dXNlQ2xhc3M6IE15RXhjZXB0aW9uSGFuZGxlcn0pXSlcbiAqXG4gKiBgYGBcbiAqL1xudmFyIEV4Y2VwdGlvbkhhbmRsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbkhhbmRsZXIoX2xvZ2dlciwgX3JldGhyb3dFeGNlcHRpb24pIHtcbiAgICAgICAgaWYgKF9yZXRocm93RXhjZXB0aW9uID09PSB2b2lkIDApIHsgX3JldGhyb3dFeGNlcHRpb24gPSB0cnVlOyB9XG4gICAgICAgIHRoaXMuX2xvZ2dlciA9IF9sb2dnZXI7XG4gICAgICAgIHRoaXMuX3JldGhyb3dFeGNlcHRpb24gPSBfcmV0aHJvd0V4Y2VwdGlvbjtcbiAgICB9XG4gICAgRXhjZXB0aW9uSGFuZGxlci5leGNlcHRpb25Ub1N0cmluZyA9IGZ1bmN0aW9uIChleGNlcHRpb24sIHN0YWNrVHJhY2UsIHJlYXNvbikge1xuICAgICAgICBpZiAoc3RhY2tUcmFjZSA9PT0gdm9pZCAwKSB7IHN0YWNrVHJhY2UgPSBudWxsOyB9XG4gICAgICAgIGlmIChyZWFzb24gPT09IHZvaWQgMCkgeyByZWFzb24gPSBudWxsOyB9XG4gICAgICAgIHZhciBsID0gbmV3IF9BcnJheUxvZ2dlcigpO1xuICAgICAgICB2YXIgZSA9IG5ldyBFeGNlcHRpb25IYW5kbGVyKGwsIGZhbHNlKTtcbiAgICAgICAgZS5jYWxsKGV4Y2VwdGlvbiwgc3RhY2tUcmFjZSwgcmVhc29uKTtcbiAgICAgICAgcmV0dXJuIGwucmVzLmpvaW4oXCJcXG5cIik7XG4gICAgfTtcbiAgICBFeGNlcHRpb25IYW5kbGVyLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKGV4Y2VwdGlvbiwgc3RhY2tUcmFjZSwgcmVhc29uKSB7XG4gICAgICAgIGlmIChzdGFja1RyYWNlID09PSB2b2lkIDApIHsgc3RhY2tUcmFjZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKHJlYXNvbiA9PT0gdm9pZCAwKSB7IHJlYXNvbiA9IG51bGw7IH1cbiAgICAgICAgdmFyIG9yaWdpbmFsRXhjZXB0aW9uID0gdGhpcy5fZmluZE9yaWdpbmFsRXhjZXB0aW9uKGV4Y2VwdGlvbik7XG4gICAgICAgIHZhciBvcmlnaW5hbFN0YWNrID0gdGhpcy5fZmluZE9yaWdpbmFsU3RhY2soZXhjZXB0aW9uKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLl9maW5kQ29udGV4dChleGNlcHRpb24pO1xuICAgICAgICB0aGlzLl9sb2dnZXIubG9nR3JvdXAoXCJFWENFUFRJT046IFwiICsgdGhpcy5fZXh0cmFjdE1lc3NhZ2UoZXhjZXB0aW9uKSk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHN0YWNrVHJhY2UpICYmIGxhbmdfMS5pc0JsYW5rKG9yaWdpbmFsU3RhY2spKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nRXJyb3IoXCJTVEFDS1RSQUNFOlwiKTtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2dFcnJvcih0aGlzLl9sb25nU3RhY2tUcmFjZShzdGFja1RyYWNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocmVhc29uKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZ0Vycm9yKFwiUkVBU09OOiBcIiArIHJlYXNvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQob3JpZ2luYWxFeGNlcHRpb24pKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nRXJyb3IoXCJPUklHSU5BTCBFWENFUFRJT046IFwiICsgdGhpcy5fZXh0cmFjdE1lc3NhZ2Uob3JpZ2luYWxFeGNlcHRpb24pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChvcmlnaW5hbFN0YWNrKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZ0Vycm9yKFwiT1JJR0lOQUwgU1RBQ0tUUkFDRTpcIik7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nRXJyb3IodGhpcy5fbG9uZ1N0YWNrVHJhY2Uob3JpZ2luYWxTdGFjaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGNvbnRleHQpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nRXJyb3IoXCJFUlJPUiBDT05URVhUOlwiKTtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2dFcnJvcihjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2dnZXIubG9nR3JvdXBFbmQoKTtcbiAgICAgICAgLy8gV2UgcmV0aHJvdyBleGNlcHRpb25zLCBzbyBvcGVyYXRpb25zIGxpa2UgJ2Jvb3RzdHJhcCcgd2lsbCByZXN1bHQgaW4gYW4gZXJyb3JcbiAgICAgICAgLy8gd2hlbiBhbiBleGNlcHRpb24gaGFwcGVucy4gSWYgd2UgZG8gbm90IHJldGhyb3csIGJvb3RzdHJhcCB3aWxsIGFsd2F5cyBzdWNjZWVkLlxuICAgICAgICBpZiAodGhpcy5fcmV0aHJvd0V4Y2VwdGlvbilcbiAgICAgICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBFeGNlcHRpb25IYW5kbGVyLnByb3RvdHlwZS5fZXh0cmFjdE1lc3NhZ2UgPSBmdW5jdGlvbiAoZXhjZXB0aW9uKSB7XG4gICAgICAgIHJldHVybiBleGNlcHRpb24gaW5zdGFuY2VvZiBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEuQmFzZVdyYXBwZWRFeGNlcHRpb24gPyBleGNlcHRpb24ud3JhcHBlck1lc3NhZ2UgOlxuICAgICAgICAgICAgZXhjZXB0aW9uLnRvU3RyaW5nKCk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRXhjZXB0aW9uSGFuZGxlci5wcm90b3R5cGUuX2xvbmdTdGFja1RyYWNlID0gZnVuY3Rpb24gKHN0YWNrVHJhY2UpIHtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb25fMS5pc0xpc3RMaWtlSXRlcmFibGUoc3RhY2tUcmFjZSkgPyBzdGFja1RyYWNlLmpvaW4oXCJcXG5cXG4tLS0tLWFzeW5jIGdhcC0tLS0tXFxuXCIpIDpcbiAgICAgICAgICAgIHN0YWNrVHJhY2UudG9TdHJpbmcoKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBFeGNlcHRpb25IYW5kbGVyLnByb3RvdHlwZS5fZmluZENvbnRleHQgPSBmdW5jdGlvbiAoZXhjZXB0aW9uKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIShleGNlcHRpb24gaW5zdGFuY2VvZiBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEuQmFzZVdyYXBwZWRFeGNlcHRpb24pKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQoZXhjZXB0aW9uLmNvbnRleHQpID8gZXhjZXB0aW9uLmNvbnRleHQgOlxuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbmRDb250ZXh0KGV4Y2VwdGlvbi5vcmlnaW5hbEV4Y2VwdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIGV4Y2VwdGlvbi5jb250ZXh0IGNhbiB0aHJvdyBhbiBleGNlcHRpb24uIGlmIGl0IGhhcHBlbnMsIHdlIGlnbm9yZSB0aGUgY29udGV4dC5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRXhjZXB0aW9uSGFuZGxlci5wcm90b3R5cGUuX2ZpbmRPcmlnaW5hbEV4Y2VwdGlvbiA9IGZ1bmN0aW9uIChleGNlcHRpb24pIHtcbiAgICAgICAgaWYgKCEoZXhjZXB0aW9uIGluc3RhbmNlb2YgYmFzZV93cmFwcGVkX2V4Y2VwdGlvbl8xLkJhc2VXcmFwcGVkRXhjZXB0aW9uKSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB2YXIgZSA9IGV4Y2VwdGlvbi5vcmlnaW5hbEV4Y2VwdGlvbjtcbiAgICAgICAgd2hpbGUgKGUgaW5zdGFuY2VvZiBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEuQmFzZVdyYXBwZWRFeGNlcHRpb24gJiYgbGFuZ18xLmlzUHJlc2VudChlLm9yaWdpbmFsRXhjZXB0aW9uKSkge1xuICAgICAgICAgICAgZSA9IGUub3JpZ2luYWxFeGNlcHRpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRXhjZXB0aW9uSGFuZGxlci5wcm90b3R5cGUuX2ZpbmRPcmlnaW5hbFN0YWNrID0gZnVuY3Rpb24gKGV4Y2VwdGlvbikge1xuICAgICAgICBpZiAoIShleGNlcHRpb24gaW5zdGFuY2VvZiBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEuQmFzZVdyYXBwZWRFeGNlcHRpb24pKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBlID0gZXhjZXB0aW9uO1xuICAgICAgICB2YXIgc3RhY2sgPSBleGNlcHRpb24ub3JpZ2luYWxTdGFjaztcbiAgICAgICAgd2hpbGUgKGUgaW5zdGFuY2VvZiBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEuQmFzZVdyYXBwZWRFeGNlcHRpb24gJiYgbGFuZ18xLmlzUHJlc2VudChlLm9yaWdpbmFsRXhjZXB0aW9uKSkge1xuICAgICAgICAgICAgZSA9IGUub3JpZ2luYWxFeGNlcHRpb247XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMS5CYXNlV3JhcHBlZEV4Y2VwdGlvbiAmJiBsYW5nXzEuaXNQcmVzZW50KGUub3JpZ2luYWxFeGNlcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgc3RhY2sgPSBlLm9yaWdpbmFsU3RhY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YWNrO1xuICAgIH07XG4gICAgcmV0dXJuIEV4Y2VwdGlvbkhhbmRsZXI7XG59KCkpO1xuZXhwb3J0cy5FeGNlcHRpb25IYW5kbGVyID0gRXhjZXB0aW9uSGFuZGxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4Y2VwdGlvbl9oYW5kbGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgYmFzZV93cmFwcGVkX2V4Y2VwdGlvbl8xID0gcmVxdWlyZSgnLi9iYXNlX3dyYXBwZWRfZXhjZXB0aW9uJyk7XG52YXIgZXhjZXB0aW9uX2hhbmRsZXJfMSA9IHJlcXVpcmUoJy4vZXhjZXB0aW9uX2hhbmRsZXInKTtcbnZhciBleGNlcHRpb25faGFuZGxlcl8yID0gcmVxdWlyZSgnLi9leGNlcHRpb25faGFuZGxlcicpO1xuZXhwb3J0cy5FeGNlcHRpb25IYW5kbGVyID0gZXhjZXB0aW9uX2hhbmRsZXJfMi5FeGNlcHRpb25IYW5kbGVyO1xudmFyIEJhc2VFeGNlcHRpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlRXhjZXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJhc2VFeGNlcHRpb24obWVzc2FnZSkge1xuICAgICAgICBpZiAobWVzc2FnZSA9PT0gdm9pZCAwKSB7IG1lc3NhZ2UgPSBcIi0tXCI7IH1cbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKG1lc3NhZ2UpKS5zdGFjaztcbiAgICB9XG4gICAgQmFzZUV4Y2VwdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1lc3NhZ2U7IH07XG4gICAgcmV0dXJuIEJhc2VFeGNlcHRpb247XG59KEVycm9yKSk7XG5leHBvcnRzLkJhc2VFeGNlcHRpb24gPSBCYXNlRXhjZXB0aW9uO1xuLyoqXG4gKiBXcmFwcyBhbiBleGNlcHRpb24gYW5kIHByb3ZpZGVzIGFkZGl0aW9uYWwgY29udGV4dCBvciBpbmZvcm1hdGlvbi5cbiAqL1xudmFyIFdyYXBwZWRFeGNlcHRpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhXcmFwcGVkRXhjZXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFdyYXBwZWRFeGNlcHRpb24oX3dyYXBwZXJNZXNzYWdlLCBfb3JpZ2luYWxFeGNlcHRpb24sIF9vcmlnaW5hbFN0YWNrLCBfY29udGV4dCkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBfd3JhcHBlck1lc3NhZ2UpO1xuICAgICAgICB0aGlzLl93cmFwcGVyTWVzc2FnZSA9IF93cmFwcGVyTWVzc2FnZTtcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxFeGNlcHRpb24gPSBfb3JpZ2luYWxFeGNlcHRpb247XG4gICAgICAgIHRoaXMuX29yaWdpbmFsU3RhY2sgPSBfb3JpZ2luYWxTdGFjaztcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IF9jb250ZXh0O1xuICAgICAgICB0aGlzLl93cmFwcGVyU3RhY2sgPSAobmV3IEVycm9yKF93cmFwcGVyTWVzc2FnZSkpLnN0YWNrO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwid3JhcHBlck1lc3NhZ2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3dyYXBwZXJNZXNzYWdlOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwid3JhcHBlclN0YWNrXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl93cmFwcGVyU3RhY2s7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJvcmlnaW5hbEV4Y2VwdGlvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fb3JpZ2luYWxFeGNlcHRpb247IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJvcmlnaW5hbFN0YWNrXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9vcmlnaW5hbFN0YWNrOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwiY29udGV4dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fY29udGV4dDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcIm1lc3NhZ2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4Y2VwdGlvbl9oYW5kbGVyXzEuRXhjZXB0aW9uSGFuZGxlci5leGNlcHRpb25Ub1N0cmluZyh0aGlzKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1lc3NhZ2U7IH07XG4gICAgcmV0dXJuIFdyYXBwZWRFeGNlcHRpb247XG59KGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMS5CYXNlV3JhcHBlZEV4Y2VwdGlvbikpO1xuZXhwb3J0cy5XcmFwcGVkRXhjZXB0aW9uID0gV3JhcHBlZEV4Y2VwdGlvbjtcbmZ1bmN0aW9uIG1ha2VUeXBlRXJyb3IobWVzc2FnZSkge1xuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKG1lc3NhZ2UpO1xufVxuZXhwb3J0cy5tYWtlVHlwZUVycm9yID0gbWFrZVR5cGVFcnJvcjtcbmZ1bmN0aW9uIHVuaW1wbGVtZW50ZWQoKSB7XG4gICAgdGhyb3cgbmV3IEJhc2VFeGNlcHRpb24oJ3VuaW1wbGVtZW50ZWQnKTtcbn1cbmV4cG9ydHMudW5pbXBsZW1lbnRlZCA9IHVuaW1wbGVtZW50ZWQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGNlcHRpb25zLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgZ2xvYmFsU2NvcGU7XG5pZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyAmJiBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUpIHtcbiAgICAgICAgLy8gVE9ETzogUmVwbGFjZSBhbnkgd2l0aCBXb3JrZXJHbG9iYWxTY29wZSBmcm9tIGxpYi53ZWJ3b3JrZXIuZC50cyAjMzQ5MlxuICAgICAgICBnbG9iYWxTY29wZSA9IHNlbGY7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnbG9iYWxTY29wZSA9IGdsb2JhbDtcbiAgICB9XG59XG5lbHNlIHtcbiAgICBnbG9iYWxTY29wZSA9IHdpbmRvdztcbn1cbmZ1bmN0aW9uIHNjaGVkdWxlTWljcm9UYXNrKGZuKSB7XG4gICAgWm9uZS5jdXJyZW50LnNjaGVkdWxlTWljcm9UYXNrKCdzY2hlZHVsZU1pY3JvdGFzaycsIGZuKTtcbn1cbmV4cG9ydHMuc2NoZWR1bGVNaWNyb1Rhc2sgPSBzY2hlZHVsZU1pY3JvVGFzaztcbmV4cG9ydHMuSVNfREFSVCA9IGZhbHNlO1xuLy8gTmVlZCB0byBkZWNsYXJlIGEgbmV3IHZhcmlhYmxlIGZvciBnbG9iYWwgaGVyZSBzaW5jZSBUeXBlU2NyaXB0XG4vLyBleHBvcnRzIHRoZSBvcmlnaW5hbCB2YWx1ZSBvZiB0aGUgc3ltYm9sLlxudmFyIF9nbG9iYWwgPSBnbG9iYWxTY29wZTtcbmV4cG9ydHMuZ2xvYmFsID0gX2dsb2JhbDtcbmV4cG9ydHMuVHlwZSA9IEZ1bmN0aW9uO1xuZnVuY3Rpb24gZ2V0VHlwZU5hbWVGb3JEZWJ1Z2dpbmcodHlwZSkge1xuICAgIGlmICh0eXBlWyduYW1lJ10pIHtcbiAgICAgICAgcmV0dXJuIHR5cGVbJ25hbWUnXTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGVvZiB0eXBlO1xufVxuZXhwb3J0cy5nZXRUeXBlTmFtZUZvckRlYnVnZ2luZyA9IGdldFR5cGVOYW1lRm9yRGVidWdnaW5nO1xuZXhwb3J0cy5NYXRoID0gX2dsb2JhbC5NYXRoO1xuZXhwb3J0cy5EYXRlID0gX2dsb2JhbC5EYXRlO1xudmFyIF9kZXZNb2RlID0gdHJ1ZTtcbnZhciBfbW9kZUxvY2tlZCA9IGZhbHNlO1xuZnVuY3Rpb24gbG9ja01vZGUoKSB7XG4gICAgX21vZGVMb2NrZWQgPSB0cnVlO1xufVxuZXhwb3J0cy5sb2NrTW9kZSA9IGxvY2tNb2RlO1xuLyoqXG4gKiBEaXNhYmxlIEFuZ3VsYXIncyBkZXZlbG9wbWVudCBtb2RlLCB3aGljaCB0dXJucyBvZmYgYXNzZXJ0aW9ucyBhbmQgb3RoZXJcbiAqIGNoZWNrcyB3aXRoaW4gdGhlIGZyYW1ld29yay5cbiAqXG4gKiBPbmUgaW1wb3J0YW50IGFzc2VydGlvbiB0aGlzIGRpc2FibGVzIHZlcmlmaWVzIHRoYXQgYSBjaGFuZ2UgZGV0ZWN0aW9uIHBhc3NcbiAqIGRvZXMgbm90IHJlc3VsdCBpbiBhZGRpdGlvbmFsIGNoYW5nZXMgdG8gYW55IGJpbmRpbmdzIChhbHNvIGtub3duIGFzXG4gKiB1bmlkaXJlY3Rpb25hbCBkYXRhIGZsb3cpLlxuICovXG5mdW5jdGlvbiBlbmFibGVQcm9kTW9kZSgpIHtcbiAgICBpZiAoX21vZGVMb2NrZWQpIHtcbiAgICAgICAgLy8gQ2Fubm90IHVzZSBCYXNlRXhjZXB0aW9uIGFzIHRoYXQgZW5kcyB1cCBpbXBvcnRpbmcgZnJvbSBmYWNhZGUvbGFuZy5cbiAgICAgICAgdGhyb3cgJ0Nhbm5vdCBlbmFibGUgcHJvZCBtb2RlIGFmdGVyIHBsYXRmb3JtIHNldHVwLic7XG4gICAgfVxuICAgIF9kZXZNb2RlID0gZmFsc2U7XG59XG5leHBvcnRzLmVuYWJsZVByb2RNb2RlID0gZW5hYmxlUHJvZE1vZGU7XG5mdW5jdGlvbiBhc3NlcnRpb25zRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gX2Rldk1vZGU7XG59XG5leHBvcnRzLmFzc2VydGlvbnNFbmFibGVkID0gYXNzZXJ0aW9uc0VuYWJsZWQ7XG4vLyBUT0RPOiByZW1vdmUgY2FsbHMgdG8gYXNzZXJ0IGluIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRcbi8vIE5vdGU6IENhbid0IGp1c3QgZXhwb3J0IHRoaXMgYW5kIGltcG9ydCBpbiBpbiBvdGhlciBmaWxlc1xuLy8gYXMgYGFzc2VydGAgaXMgYSByZXNlcnZlZCBrZXl3b3JkIGluIERhcnRcbl9nbG9iYWwuYXNzZXJ0ID0gZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbikge1xuICAgIC8vIFRPRE86IHRvIGJlIGZpeGVkIHByb3Blcmx5IHZpYSAjMjgzMCwgbm9vcCBmb3Igbm93XG59O1xuZnVuY3Rpb24gaXNQcmVzZW50KG9iaikge1xuICAgIHJldHVybiBvYmogIT09IHVuZGVmaW5lZCAmJiBvYmogIT09IG51bGw7XG59XG5leHBvcnRzLmlzUHJlc2VudCA9IGlzUHJlc2VudDtcbmZ1bmN0aW9uIGlzQmxhbmsob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gdW5kZWZpbmVkIHx8IG9iaiA9PT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNCbGFuayA9IGlzQmxhbms7XG5mdW5jdGlvbiBpc0Jvb2xlYW4ob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwiYm9vbGVhblwiO1xufVxuZXhwb3J0cy5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG5mdW5jdGlvbiBpc051bWJlcihvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJudW1iZXJcIjtcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcbmZ1bmN0aW9uIGlzU3RyaW5nKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiO1xufVxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbmZ1bmN0aW9uIGlzVHlwZShvYmopIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihvYmopO1xufVxuZXhwb3J0cy5pc1R5cGUgPSBpc1R5cGU7XG5mdW5jdGlvbiBpc1N0cmluZ01hcChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsO1xufVxuZXhwb3J0cy5pc1N0cmluZ01hcCA9IGlzU3RyaW5nTWFwO1xudmFyIFNUUklOR19NQVBfUFJPVE8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yoe30pO1xuZnVuY3Rpb24gaXNTdHJpY3RTdHJpbmdNYXAob2JqKSB7XG4gICAgcmV0dXJuIGlzU3RyaW5nTWFwKG9iaikgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikgPT09IFNUUklOR19NQVBfUFJPVE87XG59XG5leHBvcnRzLmlzU3RyaWN0U3RyaW5nTWFwID0gaXNTdHJpY3RTdHJpbmdNYXA7XG5mdW5jdGlvbiBpc1Byb21pc2Uob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIF9nbG9iYWwuUHJvbWlzZTtcbn1cbmV4cG9ydHMuaXNQcm9taXNlID0gaXNQcm9taXNlO1xuZnVuY3Rpb24gaXNBcnJheShvYmopIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShvYmopO1xufVxuZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcbmZ1bmN0aW9uIGlzRGF0ZShvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgZXhwb3J0cy5EYXRlICYmICFpc05hTihvYmoudmFsdWVPZigpKTtcbn1cbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xuZnVuY3Rpb24gbm9vcCgpIHsgfVxuZXhwb3J0cy5ub29wID0gbm9vcDtcbmZ1bmN0aW9uIHN0cmluZ2lmeSh0b2tlbikge1xuICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gICAgaWYgKHRva2VuID09PSB1bmRlZmluZWQgfHwgdG9rZW4gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICcnICsgdG9rZW47XG4gICAgfVxuICAgIGlmICh0b2tlbi5uYW1lKSB7XG4gICAgICAgIHJldHVybiB0b2tlbi5uYW1lO1xuICAgIH1cbiAgICBpZiAodG9rZW4ub3ZlcnJpZGRlbk5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuLm92ZXJyaWRkZW5OYW1lO1xuICAgIH1cbiAgICB2YXIgcmVzID0gdG9rZW4udG9TdHJpbmcoKTtcbiAgICB2YXIgbmV3TGluZUluZGV4ID0gcmVzLmluZGV4T2YoXCJcXG5cIik7XG4gICAgcmV0dXJuIChuZXdMaW5lSW5kZXggPT09IC0xKSA/IHJlcyA6IHJlcy5zdWJzdHJpbmcoMCwgbmV3TGluZUluZGV4KTtcbn1cbmV4cG9ydHMuc3RyaW5naWZ5ID0gc3RyaW5naWZ5O1xuLy8gc2VyaWFsaXplIC8gZGVzZXJpYWxpemUgZW51bSBleGlzdCBvbmx5IGZvciBjb25zaXN0ZW5jeSB3aXRoIGRhcnQgQVBJXG4vLyBlbnVtcyBpbiB0eXBlc2NyaXB0IGRvbid0IG5lZWQgdG8gYmUgc2VyaWFsaXplZFxuZnVuY3Rpb24gc2VyaWFsaXplRW51bSh2YWwpIHtcbiAgICByZXR1cm4gdmFsO1xufVxuZXhwb3J0cy5zZXJpYWxpemVFbnVtID0gc2VyaWFsaXplRW51bTtcbmZ1bmN0aW9uIGRlc2VyaWFsaXplRW51bSh2YWwsIHZhbHVlcykge1xuICAgIHJldHVybiB2YWw7XG59XG5leHBvcnRzLmRlc2VyaWFsaXplRW51bSA9IGRlc2VyaWFsaXplRW51bTtcbmZ1bmN0aW9uIHJlc29sdmVFbnVtVG9rZW4oZW51bVZhbHVlLCB2YWwpIHtcbiAgICByZXR1cm4gZW51bVZhbHVlW3ZhbF07XG59XG5leHBvcnRzLnJlc29sdmVFbnVtVG9rZW4gPSByZXNvbHZlRW51bVRva2VuO1xudmFyIFN0cmluZ1dyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0cmluZ1dyYXBwZXIoKSB7XG4gICAgfVxuICAgIFN0cmluZ1dyYXBwZXIuZnJvbUNoYXJDb2RlID0gZnVuY3Rpb24gKGNvZGUpIHsgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7IH07XG4gICAgU3RyaW5nV3JhcHBlci5jaGFyQ29kZUF0ID0gZnVuY3Rpb24gKHMsIGluZGV4KSB7IHJldHVybiBzLmNoYXJDb2RlQXQoaW5kZXgpOyB9O1xuICAgIFN0cmluZ1dyYXBwZXIuc3BsaXQgPSBmdW5jdGlvbiAocywgcmVnRXhwKSB7IHJldHVybiBzLnNwbGl0KHJlZ0V4cCk7IH07XG4gICAgU3RyaW5nV3JhcHBlci5lcXVhbHMgPSBmdW5jdGlvbiAocywgczIpIHsgcmV0dXJuIHMgPT09IHMyOyB9O1xuICAgIFN0cmluZ1dyYXBwZXIuc3RyaXBMZWZ0ID0gZnVuY3Rpb24gKHMsIGNoYXJWYWwpIHtcbiAgICAgICAgaWYgKHMgJiYgcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBwb3MgPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNbaV0gIT0gY2hhclZhbClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzID0gcy5zdWJzdHJpbmcocG9zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9O1xuICAgIFN0cmluZ1dyYXBwZXIuc3RyaXBSaWdodCA9IGZ1bmN0aW9uIChzLCBjaGFyVmFsKSB7XG4gICAgICAgIGlmIChzICYmIHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgcG9zID0gcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIGlmIChzW2ldICE9IGNoYXJWYWwpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIHBvcy0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcyA9IHMuc3Vic3RyaW5nKDAsIHBvcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfTtcbiAgICBTdHJpbmdXcmFwcGVyLnJlcGxhY2UgPSBmdW5jdGlvbiAocywgZnJvbSwgcmVwbGFjZSkge1xuICAgICAgICByZXR1cm4gcy5yZXBsYWNlKGZyb20sIHJlcGxhY2UpO1xuICAgIH07XG4gICAgU3RyaW5nV3JhcHBlci5yZXBsYWNlQWxsID0gZnVuY3Rpb24gKHMsIGZyb20sIHJlcGxhY2UpIHtcbiAgICAgICAgcmV0dXJuIHMucmVwbGFjZShmcm9tLCByZXBsYWNlKTtcbiAgICB9O1xuICAgIFN0cmluZ1dyYXBwZXIuc2xpY2UgPSBmdW5jdGlvbiAocywgZnJvbSwgdG8pIHtcbiAgICAgICAgaWYgKGZyb20gPT09IHZvaWQgMCkgeyBmcm9tID0gMDsgfVxuICAgICAgICBpZiAodG8gPT09IHZvaWQgMCkgeyB0byA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIHMuc2xpY2UoZnJvbSwgdG8gPT09IG51bGwgPyB1bmRlZmluZWQgOiB0byk7XG4gICAgfTtcbiAgICBTdHJpbmdXcmFwcGVyLnJlcGxhY2VBbGxNYXBwZWQgPSBmdW5jdGlvbiAocywgZnJvbSwgY2IpIHtcbiAgICAgICAgcmV0dXJuIHMucmVwbGFjZShmcm9tLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzW19pIC0gMF0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVtb3ZlIG9mZnNldCAmIHN0cmluZyBmcm9tIHRoZSByZXN1bHQgYXJyYXlcbiAgICAgICAgICAgIG1hdGNoZXMuc3BsaWNlKC0yLCAyKTtcbiAgICAgICAgICAgIC8vIFRoZSBjYWxsYmFjayByZWNlaXZlcyBtYXRjaCwgcDEsIC4uLiwgcG5cbiAgICAgICAgICAgIHJldHVybiBjYihtYXRjaGVzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTdHJpbmdXcmFwcGVyLmNvbnRhaW5zID0gZnVuY3Rpb24gKHMsIHN1YnN0cikgeyByZXR1cm4gcy5pbmRleE9mKHN1YnN0cikgIT0gLTE7IH07XG4gICAgU3RyaW5nV3JhcHBlci5jb21wYXJlID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgaWYgKGEgPCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYSA+IGIpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTdHJpbmdXcmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuU3RyaW5nV3JhcHBlciA9IFN0cmluZ1dyYXBwZXI7XG52YXIgU3RyaW5nSm9pbmVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdHJpbmdKb2luZXIocGFydHMpIHtcbiAgICAgICAgaWYgKHBhcnRzID09PSB2b2lkIDApIHsgcGFydHMgPSBbXTsgfVxuICAgICAgICB0aGlzLnBhcnRzID0gcGFydHM7XG4gICAgfVxuICAgIFN0cmluZ0pvaW5lci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHBhcnQpIHsgdGhpcy5wYXJ0cy5wdXNoKHBhcnQpOyB9O1xuICAgIFN0cmluZ0pvaW5lci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnBhcnRzLmpvaW4oXCJcIik7IH07XG4gICAgcmV0dXJuIFN0cmluZ0pvaW5lcjtcbn0oKSk7XG5leHBvcnRzLlN0cmluZ0pvaW5lciA9IFN0cmluZ0pvaW5lcjtcbnZhciBOdW1iZXJQYXJzZUVycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTnVtYmVyUGFyc2VFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBOdW1iZXJQYXJzZUVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgfVxuICAgIE51bWJlclBhcnNlRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tZXNzYWdlOyB9O1xuICAgIHJldHVybiBOdW1iZXJQYXJzZUVycm9yO1xufShFcnJvcikpO1xuZXhwb3J0cy5OdW1iZXJQYXJzZUVycm9yID0gTnVtYmVyUGFyc2VFcnJvcjtcbnZhciBOdW1iZXJXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOdW1iZXJXcmFwcGVyKCkge1xuICAgIH1cbiAgICBOdW1iZXJXcmFwcGVyLnRvRml4ZWQgPSBmdW5jdGlvbiAobiwgZnJhY3Rpb25EaWdpdHMpIHsgcmV0dXJuIG4udG9GaXhlZChmcmFjdGlvbkRpZ2l0cyk7IH07XG4gICAgTnVtYmVyV3JhcHBlci5lcXVhbCA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhID09PSBiOyB9O1xuICAgIE51bWJlcldyYXBwZXIucGFyc2VJbnRBdXRvUmFkaXggPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcGFyc2VJbnQodGV4dCk7XG4gICAgICAgIGlmIChpc05hTihyZXN1bHQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTnVtYmVyUGFyc2VFcnJvcihcIkludmFsaWQgaW50ZWdlciBsaXRlcmFsIHdoZW4gcGFyc2luZyBcIiArIHRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBOdW1iZXJXcmFwcGVyLnBhcnNlSW50ID0gZnVuY3Rpb24gKHRleHQsIHJhZGl4KSB7XG4gICAgICAgIGlmIChyYWRpeCA9PSAxMCkge1xuICAgICAgICAgICAgaWYgKC9eKFxcLXxcXCspP1swLTldKyQvLnRlc3QodGV4dCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGV4dCwgcmFkaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJhZGl4ID09IDE2KSB7XG4gICAgICAgICAgICBpZiAoL14oXFwtfFxcKyk/WzAtOUFCQ0RFRmFiY2RlZl0rJC8udGVzdCh0ZXh0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0ZXh0LCByYWRpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcGFyc2VJbnQodGV4dCwgcmFkaXgpO1xuICAgICAgICAgICAgaWYgKCFpc05hTihyZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgTnVtYmVyUGFyc2VFcnJvcihcIkludmFsaWQgaW50ZWdlciBsaXRlcmFsIHdoZW4gcGFyc2luZyBcIiArIHRleHQgKyBcIiBpbiBiYXNlIFwiICtcbiAgICAgICAgICAgIHJhZGl4KTtcbiAgICB9O1xuICAgIC8vIFRPRE86IE5hTiBpcyBhIHZhbGlkIGxpdGVyYWwgYnV0IGlzIHJldHVybmVkIGJ5IHBhcnNlRmxvYXQgdG8gaW5kaWNhdGUgYW4gZXJyb3IuXG4gICAgTnVtYmVyV3JhcHBlci5wYXJzZUZsb2F0ID0gZnVuY3Rpb24gKHRleHQpIHsgcmV0dXJuIHBhcnNlRmxvYXQodGV4dCk7IH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE51bWJlcldyYXBwZXIsIFwiTmFOXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBOYU47IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE51bWJlcldyYXBwZXIuaXNOYU4gPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIGlzTmFOKHZhbHVlKTsgfTtcbiAgICBOdW1iZXJXcmFwcGVyLmlzSW50ZWdlciA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSk7IH07XG4gICAgcmV0dXJuIE51bWJlcldyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5OdW1iZXJXcmFwcGVyID0gTnVtYmVyV3JhcHBlcjtcbmV4cG9ydHMuUmVnRXhwID0gX2dsb2JhbC5SZWdFeHA7XG52YXIgUmVnRXhwV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVnRXhwV3JhcHBlcigpIHtcbiAgICB9XG4gICAgUmVnRXhwV3JhcHBlci5jcmVhdGUgPSBmdW5jdGlvbiAocmVnRXhwU3RyLCBmbGFncykge1xuICAgICAgICBpZiAoZmxhZ3MgPT09IHZvaWQgMCkgeyBmbGFncyA9ICcnOyB9XG4gICAgICAgIGZsYWdzID0gZmxhZ3MucmVwbGFjZSgvZy9nLCAnJyk7XG4gICAgICAgIHJldHVybiBuZXcgX2dsb2JhbC5SZWdFeHAocmVnRXhwU3RyLCBmbGFncyArICdnJyk7XG4gICAgfTtcbiAgICBSZWdFeHBXcmFwcGVyLmZpcnN0TWF0Y2ggPSBmdW5jdGlvbiAocmVnRXhwLCBpbnB1dCkge1xuICAgICAgICAvLyBSZXNldCBtdWx0aW1hdGNoIHJlZ2V4IHN0YXRlXG4gICAgICAgIHJlZ0V4cC5sYXN0SW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gcmVnRXhwLmV4ZWMoaW5wdXQpO1xuICAgIH07XG4gICAgUmVnRXhwV3JhcHBlci50ZXN0ID0gZnVuY3Rpb24gKHJlZ0V4cCwgaW5wdXQpIHtcbiAgICAgICAgcmVnRXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHJldHVybiByZWdFeHAudGVzdChpbnB1dCk7XG4gICAgfTtcbiAgICBSZWdFeHBXcmFwcGVyLm1hdGNoZXIgPSBmdW5jdGlvbiAocmVnRXhwLCBpbnB1dCkge1xuICAgICAgICAvLyBSZXNldCByZWdleCBzdGF0ZSBmb3IgdGhlIGNhc2VcbiAgICAgICAgLy8gc29tZW9uZSBkaWQgbm90IGxvb3Agb3ZlciBhbGwgbWF0Y2hlc1xuICAgICAgICAvLyBsYXN0IHRpbWUuXG4gICAgICAgIHJlZ0V4cC5sYXN0SW5kZXggPSAwO1xuICAgICAgICByZXR1cm4geyByZTogcmVnRXhwLCBpbnB1dDogaW5wdXQgfTtcbiAgICB9O1xuICAgIFJlZ0V4cFdyYXBwZXIucmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChyZWdFeHAsIGlucHV0LCByZXBsYWNlKSB7XG4gICAgICAgIHZhciBjID0gcmVnRXhwLmV4ZWMoaW5wdXQpO1xuICAgICAgICB2YXIgcmVzID0gJyc7XG4gICAgICAgIHJlZ0V4cC5sYXN0SW5kZXggPSAwO1xuICAgICAgICB2YXIgcHJldiA9IDA7XG4gICAgICAgIHdoaWxlIChjKSB7XG4gICAgICAgICAgICByZXMgKz0gaW5wdXQuc3Vic3RyaW5nKHByZXYsIGMuaW5kZXgpO1xuICAgICAgICAgICAgcmVzICs9IHJlcGxhY2UoYyk7XG4gICAgICAgICAgICBwcmV2ID0gYy5pbmRleCArIGNbMF0ubGVuZ3RoO1xuICAgICAgICAgICAgcmVnRXhwLmxhc3RJbmRleCA9IHByZXY7XG4gICAgICAgICAgICBjID0gcmVnRXhwLmV4ZWMoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIHJlcyArPSBpbnB1dC5zdWJzdHJpbmcocHJldik7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICByZXR1cm4gUmVnRXhwV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLlJlZ0V4cFdyYXBwZXIgPSBSZWdFeHBXcmFwcGVyO1xudmFyIFJlZ0V4cE1hdGNoZXJXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWdFeHBNYXRjaGVyV3JhcHBlcigpIHtcbiAgICB9XG4gICAgUmVnRXhwTWF0Y2hlcldyYXBwZXIubmV4dCA9IGZ1bmN0aW9uIChtYXRjaGVyKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVyLnJlLmV4ZWMobWF0Y2hlci5pbnB1dCk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVnRXhwTWF0Y2hlcldyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5SZWdFeHBNYXRjaGVyV3JhcHBlciA9IFJlZ0V4cE1hdGNoZXJXcmFwcGVyO1xudmFyIEZ1bmN0aW9uV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRnVuY3Rpb25XcmFwcGVyKCkge1xuICAgIH1cbiAgICBGdW5jdGlvbldyYXBwZXIuYXBwbHkgPSBmdW5jdGlvbiAoZm4sIHBvc0FyZ3MpIHsgcmV0dXJuIGZuLmFwcGx5KG51bGwsIHBvc0FyZ3MpOyB9O1xuICAgIHJldHVybiBGdW5jdGlvbldyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5GdW5jdGlvbldyYXBwZXIgPSBGdW5jdGlvbldyYXBwZXI7XG4vLyBKUyBoYXMgTmFOICE9PSBOYU5cbmZ1bmN0aW9uIGxvb3NlSWRlbnRpY2FsKGEsIGIpIHtcbiAgICByZXR1cm4gYSA9PT0gYiB8fCB0eXBlb2YgYSA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgYiA9PT0gXCJudW1iZXJcIiAmJiBpc05hTihhKSAmJiBpc05hTihiKTtcbn1cbmV4cG9ydHMubG9vc2VJZGVudGljYWwgPSBsb29zZUlkZW50aWNhbDtcbi8vIEpTIGNvbnNpZGVycyBOYU4gaXMgdGhlIHNhbWUgYXMgTmFOIGZvciBtYXAgS2V5ICh3aGlsZSBOYU4gIT09IE5hTiBvdGhlcndpc2UpXG4vLyBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWFwXG5mdW5jdGlvbiBnZXRNYXBLZXkodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5leHBvcnRzLmdldE1hcEtleSA9IGdldE1hcEtleTtcbmZ1bmN0aW9uIG5vcm1hbGl6ZUJsYW5rKG9iaikge1xuICAgIHJldHVybiBpc0JsYW5rKG9iaikgPyBudWxsIDogb2JqO1xufVxuZXhwb3J0cy5ub3JtYWxpemVCbGFuayA9IG5vcm1hbGl6ZUJsYW5rO1xuZnVuY3Rpb24gbm9ybWFsaXplQm9vbChvYmopIHtcbiAgICByZXR1cm4gaXNCbGFuayhvYmopID8gZmFsc2UgOiBvYmo7XG59XG5leHBvcnRzLm5vcm1hbGl6ZUJvb2wgPSBub3JtYWxpemVCb29sO1xuZnVuY3Rpb24gaXNKc09iamVjdChvKSB7XG4gICAgcmV0dXJuIG8gIT09IG51bGwgJiYgKHR5cGVvZiBvID09PSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIG8gPT09IFwib2JqZWN0XCIpO1xufVxuZXhwb3J0cy5pc0pzT2JqZWN0ID0gaXNKc09iamVjdDtcbmZ1bmN0aW9uIHByaW50KG9iaikge1xuICAgIGNvbnNvbGUubG9nKG9iaik7XG59XG5leHBvcnRzLnByaW50ID0gcHJpbnQ7XG5mdW5jdGlvbiB3YXJuKG9iaikge1xuICAgIGNvbnNvbGUud2FybihvYmopO1xufVxuZXhwb3J0cy53YXJuID0gd2Fybjtcbi8vIENhbid0IGJlIGFsbCB1cHBlcmNhc2UgYXMgb3VyIHRyYW5zcGlsZXIgd291bGQgdGhpbmsgaXQgaXMgYSBzcGVjaWFsIGRpcmVjdGl2ZS4uLlxudmFyIEpzb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEpzb24oKSB7XG4gICAgfVxuICAgIEpzb24ucGFyc2UgPSBmdW5jdGlvbiAocykgeyByZXR1cm4gX2dsb2JhbC5KU09OLnBhcnNlKHMpOyB9O1xuICAgIEpzb24uc3RyaW5naWZ5ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgLy8gRGFydCBkb2Vzbid0IHRha2UgMyBhcmd1bWVudHNcbiAgICAgICAgcmV0dXJuIF9nbG9iYWwuSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMik7XG4gICAgfTtcbiAgICByZXR1cm4gSnNvbjtcbn0oKSk7XG5leHBvcnRzLkpzb24gPSBKc29uO1xudmFyIERhdGVXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEYXRlV3JhcHBlcigpIHtcbiAgICB9XG4gICAgRGF0ZVdyYXBwZXIuY3JlYXRlID0gZnVuY3Rpb24gKHllYXIsIG1vbnRoLCBkYXksIGhvdXIsIG1pbnV0ZXMsIHNlY29uZHMsIG1pbGxpc2Vjb25kcykge1xuICAgICAgICBpZiAobW9udGggPT09IHZvaWQgMCkgeyBtb250aCA9IDE7IH1cbiAgICAgICAgaWYgKGRheSA9PT0gdm9pZCAwKSB7IGRheSA9IDE7IH1cbiAgICAgICAgaWYgKGhvdXIgPT09IHZvaWQgMCkgeyBob3VyID0gMDsgfVxuICAgICAgICBpZiAobWludXRlcyA9PT0gdm9pZCAwKSB7IG1pbnV0ZXMgPSAwOyB9XG4gICAgICAgIGlmIChzZWNvbmRzID09PSB2b2lkIDApIHsgc2Vjb25kcyA9IDA7IH1cbiAgICAgICAgaWYgKG1pbGxpc2Vjb25kcyA9PT0gdm9pZCAwKSB7IG1pbGxpc2Vjb25kcyA9IDA7IH1cbiAgICAgICAgcmV0dXJuIG5ldyBleHBvcnRzLkRhdGUoeWVhciwgbW9udGggLSAxLCBkYXksIGhvdXIsIG1pbnV0ZXMsIHNlY29uZHMsIG1pbGxpc2Vjb25kcyk7XG4gICAgfTtcbiAgICBEYXRlV3JhcHBlci5mcm9tSVNPU3RyaW5nID0gZnVuY3Rpb24gKHN0cikgeyByZXR1cm4gbmV3IGV4cG9ydHMuRGF0ZShzdHIpOyB9O1xuICAgIERhdGVXcmFwcGVyLmZyb21NaWxsaXMgPSBmdW5jdGlvbiAobXMpIHsgcmV0dXJuIG5ldyBleHBvcnRzLkRhdGUobXMpOyB9O1xuICAgIERhdGVXcmFwcGVyLnRvTWlsbGlzID0gZnVuY3Rpb24gKGRhdGUpIHsgcmV0dXJuIGRhdGUuZ2V0VGltZSgpOyB9O1xuICAgIERhdGVXcmFwcGVyLm5vdyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBleHBvcnRzLkRhdGUoKTsgfTtcbiAgICBEYXRlV3JhcHBlci50b0pzb24gPSBmdW5jdGlvbiAoZGF0ZSkgeyByZXR1cm4gZGF0ZS50b0pTT04oKTsgfTtcbiAgICByZXR1cm4gRGF0ZVdyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5EYXRlV3JhcHBlciA9IERhdGVXcmFwcGVyO1xuZnVuY3Rpb24gc2V0VmFsdWVPblBhdGgoZ2xvYmFsLCBwYXRoLCB2YWx1ZSkge1xuICAgIHZhciBwYXJ0cyA9IHBhdGguc3BsaXQoJy4nKTtcbiAgICB2YXIgb2JqID0gZ2xvYmFsO1xuICAgIHdoaWxlIChwYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHZhciBuYW1lID0gcGFydHMuc2hpZnQoKTtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiBpc1ByZXNlbnQob2JqW25hbWVdKSkge1xuICAgICAgICAgICAgb2JqID0gb2JqW25hbWVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqID0gb2JqW25hbWVdID0ge307XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkIHx8IG9iaiA9PT0gbnVsbCkge1xuICAgICAgICBvYmogPSB7fTtcbiAgICB9XG4gICAgb2JqW3BhcnRzLnNoaWZ0KCldID0gdmFsdWU7XG59XG5leHBvcnRzLnNldFZhbHVlT25QYXRoID0gc2V0VmFsdWVPblBhdGg7XG52YXIgX3N5bWJvbEl0ZXJhdG9yID0gbnVsbDtcbmZ1bmN0aW9uIGdldFN5bWJvbEl0ZXJhdG9yKCkge1xuICAgIGlmIChpc0JsYW5rKF9zeW1ib2xJdGVyYXRvcikpIHtcbiAgICAgICAgaWYgKGlzUHJlc2VudChnbG9iYWxTY29wZS5TeW1ib2wpICYmIGlzUHJlc2VudChTeW1ib2wuaXRlcmF0b3IpKSB7XG4gICAgICAgICAgICBfc3ltYm9sSXRlcmF0b3IgPSBTeW1ib2wuaXRlcmF0b3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBlczYtc2hpbSBzcGVjaWZpYyBsb2dpY1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhNYXAucHJvdG90eXBlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09ICdlbnRyaWVzJyAmJiBrZXkgIT09ICdzaXplJyAmJlxuICAgICAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlW2tleV0gPT09IE1hcC5wcm90b3R5cGVbJ2VudHJpZXMnXSkge1xuICAgICAgICAgICAgICAgICAgICBfc3ltYm9sSXRlcmF0b3IgPSBrZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBfc3ltYm9sSXRlcmF0b3I7XG59XG5leHBvcnRzLmdldFN5bWJvbEl0ZXJhdG9yID0gZ2V0U3ltYm9sSXRlcmF0b3I7XG5mdW5jdGlvbiBldmFsRXhwcmVzc2lvbihzb3VyY2VVcmwsIGV4cHIsIGRlY2xhcmF0aW9ucywgdmFycykge1xuICAgIHZhciBmbkJvZHkgPSBkZWNsYXJhdGlvbnMgKyBcIlxcbnJldHVybiBcIiArIGV4cHIgKyBcIlxcbi8vIyBzb3VyY2VVUkw9XCIgKyBzb3VyY2VVcmw7XG4gICAgdmFyIGZuQXJnTmFtZXMgPSBbXTtcbiAgICB2YXIgZm5BcmdWYWx1ZXMgPSBbXTtcbiAgICBmb3IgKHZhciBhcmdOYW1lIGluIHZhcnMpIHtcbiAgICAgICAgZm5BcmdOYW1lcy5wdXNoKGFyZ05hbWUpO1xuICAgICAgICBmbkFyZ1ZhbHVlcy5wdXNoKHZhcnNbYXJnTmFtZV0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5iaW5kLmFwcGx5KEZ1bmN0aW9uLCBbdm9pZCAwXS5jb25jYXQoZm5BcmdOYW1lcy5jb25jYXQoZm5Cb2R5KSkpKSgpLmFwcGx5KHZvaWQgMCwgZm5BcmdWYWx1ZXMpO1xufVxuZXhwb3J0cy5ldmFsRXhwcmVzc2lvbiA9IGV2YWxFeHByZXNzaW9uO1xuZnVuY3Rpb24gaXNQcmltaXRpdmUob2JqKSB7XG4gICAgcmV0dXJuICFpc0pzT2JqZWN0KG9iaik7XG59XG5leHBvcnRzLmlzUHJpbWl0aXZlID0gaXNQcmltaXRpdmU7XG5mdW5jdGlvbiBoYXNDb25zdHJ1Y3Rvcih2YWx1ZSwgdHlwZSkge1xuICAgIHJldHVybiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gdHlwZTtcbn1cbmV4cG9ydHMuaGFzQ29uc3RydWN0b3IgPSBoYXNDb25zdHJ1Y3RvcjtcbmZ1bmN0aW9uIGJpdFdpc2VPcih2YWx1ZXMpIHtcbiAgICByZXR1cm4gdmFsdWVzLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSB8IGI7IH0pO1xufVxuZXhwb3J0cy5iaXRXaXNlT3IgPSBiaXRXaXNlT3I7XG5mdW5jdGlvbiBiaXRXaXNlQW5kKHZhbHVlcykge1xuICAgIHJldHVybiB2YWx1ZXMucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICYgYjsgfSk7XG59XG5leHBvcnRzLmJpdFdpc2VBbmQgPSBiaXRXaXNlQW5kO1xuZnVuY3Rpb24gZXNjYXBlKHMpIHtcbiAgICByZXR1cm4gX2dsb2JhbC5lbmNvZGVVUkkocyk7XG59XG5leHBvcnRzLmVzY2FwZSA9IGVzY2FwZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhbmcuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgUHJvbWlzZUNvbXBsZXRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHJvbWlzZUNvbXBsZXRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XG4gICAgICAgICAgICBfdGhpcy5yZXNvbHZlID0gcmVzO1xuICAgICAgICAgICAgX3RoaXMucmVqZWN0ID0gcmVqO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2VDb21wbGV0ZXI7XG59KCkpO1xuZXhwb3J0cy5Qcm9taXNlQ29tcGxldGVyID0gUHJvbWlzZUNvbXBsZXRlcjtcbnZhciBQcm9taXNlV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHJvbWlzZVdyYXBwZXIoKSB7XG4gICAgfVxuICAgIFByb21pc2VXcmFwcGVyLnJlc29sdmUgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUob2JqKTsgfTtcbiAgICBQcm9taXNlV3JhcHBlci5yZWplY3QgPSBmdW5jdGlvbiAob2JqLCBfKSB7IHJldHVybiBQcm9taXNlLnJlamVjdChvYmopOyB9O1xuICAgIC8vIE5vdGU6IFdlIGNhbid0IHJlbmFtZSB0aGlzIG1ldGhvZCBpbnRvIGBjYXRjaGAsIGFzIHRoaXMgaXMgbm90IGEgdmFsaWRcbiAgICAvLyBtZXRob2QgbmFtZSBpbiBEYXJ0LlxuICAgIFByb21pc2VXcmFwcGVyLmNhdGNoRXJyb3IgPSBmdW5jdGlvbiAocHJvbWlzZSwgb25FcnJvcikge1xuICAgICAgICByZXR1cm4gcHJvbWlzZS5jYXRjaChvbkVycm9yKTtcbiAgICB9O1xuICAgIFByb21pc2VXcmFwcGVyLmFsbCA9IGZ1bmN0aW9uIChwcm9taXNlcykge1xuICAgICAgICBpZiAocHJvbWlzZXMubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICB9O1xuICAgIFByb21pc2VXcmFwcGVyLnRoZW4gPSBmdW5jdGlvbiAocHJvbWlzZSwgc3VjY2VzcywgcmVqZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oc3VjY2VzcywgcmVqZWN0aW9uKTtcbiAgICB9O1xuICAgIFByb21pc2VXcmFwcGVyLndyYXAgPSBmdW5jdGlvbiAoY29tcHV0YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXMoY29tcHV0YXRpb24oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJlaihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQcm9taXNlV3JhcHBlci5zY2hlZHVsZU1pY3JvdGFzayA9IGZ1bmN0aW9uIChjb21wdXRhdGlvbikge1xuICAgICAgICBQcm9taXNlV3JhcHBlci50aGVuKFByb21pc2VXcmFwcGVyLnJlc29sdmUobnVsbCksIGNvbXB1dGF0aW9uLCBmdW5jdGlvbiAoXykgeyB9KTtcbiAgICB9O1xuICAgIFByb21pc2VXcmFwcGVyLmlzUHJvbWlzZSA9IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIFByb21pc2U7IH07XG4gICAgUHJvbWlzZVdyYXBwZXIuY29tcGxldGVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IFByb21pc2VDb21wbGV0ZXIoKTsgfTtcbiAgICByZXR1cm4gUHJvbWlzZVdyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5Qcm9taXNlV3JhcHBlciA9IFByb21pc2VXcmFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvbWlzZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIFB1YmxpYyBBUEkgZm9yIGNvbXBpbGVyXG52YXIgY29tcG9uZW50X3Jlc29sdmVyXzEgPSByZXF1aXJlKCcuL2xpbmtlci9jb21wb25lbnRfcmVzb2x2ZXInKTtcbmV4cG9ydHMuQ29tcG9uZW50UmVzb2x2ZXIgPSBjb21wb25lbnRfcmVzb2x2ZXJfMS5Db21wb25lbnRSZXNvbHZlcjtcbnZhciBxdWVyeV9saXN0XzEgPSByZXF1aXJlKCcuL2xpbmtlci9xdWVyeV9saXN0Jyk7XG5leHBvcnRzLlF1ZXJ5TGlzdCA9IHF1ZXJ5X2xpc3RfMS5RdWVyeUxpc3Q7XG52YXIgZHluYW1pY19jb21wb25lbnRfbG9hZGVyXzEgPSByZXF1aXJlKCcuL2xpbmtlci9keW5hbWljX2NvbXBvbmVudF9sb2FkZXInKTtcbmV4cG9ydHMuRHluYW1pY0NvbXBvbmVudExvYWRlciA9IGR5bmFtaWNfY29tcG9uZW50X2xvYWRlcl8xLkR5bmFtaWNDb21wb25lbnRMb2FkZXI7XG52YXIgZWxlbWVudF9yZWZfMSA9IHJlcXVpcmUoJy4vbGlua2VyL2VsZW1lbnRfcmVmJyk7XG5leHBvcnRzLkVsZW1lbnRSZWYgPSBlbGVtZW50X3JlZl8xLkVsZW1lbnRSZWY7XG52YXIgdGVtcGxhdGVfcmVmXzEgPSByZXF1aXJlKCcuL2xpbmtlci90ZW1wbGF0ZV9yZWYnKTtcbmV4cG9ydHMuVGVtcGxhdGVSZWYgPSB0ZW1wbGF0ZV9yZWZfMS5UZW1wbGF0ZVJlZjtcbnZhciB2aWV3X3JlZl8xID0gcmVxdWlyZSgnLi9saW5rZXIvdmlld19yZWYnKTtcbmV4cG9ydHMuRW1iZWRkZWRWaWV3UmVmID0gdmlld19yZWZfMS5FbWJlZGRlZFZpZXdSZWY7XG5leHBvcnRzLlZpZXdSZWYgPSB2aWV3X3JlZl8xLlZpZXdSZWY7XG52YXIgdmlld19jb250YWluZXJfcmVmXzEgPSByZXF1aXJlKCcuL2xpbmtlci92aWV3X2NvbnRhaW5lcl9yZWYnKTtcbmV4cG9ydHMuVmlld0NvbnRhaW5lclJlZiA9IHZpZXdfY29udGFpbmVyX3JlZl8xLlZpZXdDb250YWluZXJSZWY7XG52YXIgY29tcG9uZW50X2ZhY3RvcnlfMSA9IHJlcXVpcmUoJy4vbGlua2VyL2NvbXBvbmVudF9mYWN0b3J5Jyk7XG5leHBvcnRzLkNvbXBvbmVudFJlZiA9IGNvbXBvbmVudF9mYWN0b3J5XzEuQ29tcG9uZW50UmVmO1xuZXhwb3J0cy5Db21wb25lbnRGYWN0b3J5ID0gY29tcG9uZW50X2ZhY3RvcnlfMS5Db21wb25lbnRGYWN0b3J5O1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4vbGlua2VyL2V4Y2VwdGlvbnMnKTtcbmV4cG9ydHMuRXhwcmVzc2lvbkNoYW5nZWRBZnRlckl0SGFzQmVlbkNoZWNrZWRFeGNlcHRpb24gPSBleGNlcHRpb25zXzEuRXhwcmVzc2lvbkNoYW5nZWRBZnRlckl0SGFzQmVlbkNoZWNrZWRFeGNlcHRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saW5rZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciB2aWV3X3V0aWxzXzEgPSByZXF1aXJlKCcuL3ZpZXdfdXRpbHMnKTtcbi8qKlxuICogUmVwcmVzZW50cyBhbiBpbnN0YW5jZSBvZiBhIENvbXBvbmVudCBjcmVhdGVkIHZpYSBhIHtAbGluayBDb21wb25lbnRGYWN0b3J5fS5cbiAqXG4gKiBgQ29tcG9uZW50UmVmYCBwcm92aWRlcyBhY2Nlc3MgdG8gdGhlIENvbXBvbmVudCBJbnN0YW5jZSBhcyB3ZWxsIG90aGVyIG9iamVjdHMgcmVsYXRlZCB0byB0aGlzXG4gKiBDb21wb25lbnQgSW5zdGFuY2UgYW5kIGFsbG93cyB5b3UgdG8gZGVzdHJveSB0aGUgQ29tcG9uZW50IEluc3RhbmNlIHZpYSB0aGUge0BsaW5rICNkZXN0cm95fVxuICogbWV0aG9kLlxuICovXG52YXIgQ29tcG9uZW50UmVmID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb21wb25lbnRSZWYoKSB7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnRSZWYucHJvdG90eXBlLCBcImxvY2F0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvY2F0aW9uIG9mIHRoZSBIb3N0IEVsZW1lbnQgb2YgdGhpcyBDb21wb25lbnQgSW5zdGFuY2UuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4Y2VwdGlvbnNfMS51bmltcGxlbWVudGVkKCk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnRSZWYucHJvdG90eXBlLCBcImluamVjdG9yXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbmplY3RvciBvbiB3aGljaCB0aGUgY29tcG9uZW50IGluc3RhbmNlIGV4aXN0cy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhjZXB0aW9uc18xLnVuaW1wbGVtZW50ZWQoKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudFJlZi5wcm90b3R5cGUsIFwiaW5zdGFuY2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGluc3RhbmNlIG9mIHRoZSBDb21wb25lbnQuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4Y2VwdGlvbnNfMS51bmltcGxlbWVudGVkKCk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50UmVmLnByb3RvdHlwZSwgXCJob3N0Vmlld1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUge0BsaW5rIFZpZXdSZWZ9IG9mIHRoZSBIb3N0IFZpZXcgb2YgdGhpcyBDb21wb25lbnQgaW5zdGFuY2UuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4Y2VwdGlvbnNfMS51bmltcGxlbWVudGVkKCk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50UmVmLnByb3RvdHlwZSwgXCJjaGFuZ2VEZXRlY3RvclJlZlwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUge0BsaW5rIENoYW5nZURldGVjdG9yUmVmfSBvZiB0aGUgQ29tcG9uZW50IGluc3RhbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleGNlcHRpb25zXzEudW5pbXBsZW1lbnRlZCgpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50UmVmLnByb3RvdHlwZSwgXCJjb21wb25lbnRUeXBlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb21wb25lbnQgdHlwZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhjZXB0aW9uc18xLnVuaW1wbGVtZW50ZWQoKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENvbXBvbmVudFJlZjtcbn0oKSk7XG5leHBvcnRzLkNvbXBvbmVudFJlZiA9IENvbXBvbmVudFJlZjtcbnZhciBDb21wb25lbnRSZWZfID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29tcG9uZW50UmVmXywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb21wb25lbnRSZWZfKF9ob3N0RWxlbWVudCwgX2NvbXBvbmVudFR5cGUpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX2hvc3RFbGVtZW50ID0gX2hvc3RFbGVtZW50O1xuICAgICAgICB0aGlzLl9jb21wb25lbnRUeXBlID0gX2NvbXBvbmVudFR5cGU7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnRSZWZfLnByb3RvdHlwZSwgXCJsb2NhdGlvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5faG9zdEVsZW1lbnQuZWxlbWVudFJlZjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudFJlZl8ucHJvdG90eXBlLCBcImluamVjdG9yXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9ob3N0RWxlbWVudC5pbmplY3RvcjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudFJlZl8ucHJvdG90eXBlLCBcImluc3RhbmNlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9ob3N0RWxlbWVudC5jb21wb25lbnQ7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50UmVmXy5wcm90b3R5cGUsIFwiaG9zdFZpZXdcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2hvc3RFbGVtZW50LnBhcmVudFZpZXcucmVmOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICA7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudFJlZl8ucHJvdG90eXBlLCBcImNoYW5nZURldGVjdG9yUmVmXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9ob3N0RWxlbWVudC5wYXJlbnRWaWV3LnJlZjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnRSZWZfLnByb3RvdHlwZSwgXCJjb21wb25lbnRUeXBlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9jb21wb25lbnRUeXBlOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBDb21wb25lbnRSZWZfLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkgeyB0aGlzLl9ob3N0RWxlbWVudC5wYXJlbnRWaWV3LmRlc3Ryb3koKTsgfTtcbiAgICBDb21wb25lbnRSZWZfLnByb3RvdHlwZS5vbkRlc3Ryb3kgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsgdGhpcy5ob3N0Vmlldy5vbkRlc3Ryb3koY2FsbGJhY2spOyB9O1xuICAgIHJldHVybiBDb21wb25lbnRSZWZfO1xufShDb21wb25lbnRSZWYpKTtcbmV4cG9ydHMuQ29tcG9uZW50UmVmXyA9IENvbXBvbmVudFJlZl87XG52YXIgRU1QVFlfQ09OVEVYVCA9IG5ldyBPYmplY3QoKTtcbi8qQHRzMmRhcnRfY29uc3QqL1xudmFyIENvbXBvbmVudEZhY3RvcnkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbXBvbmVudEZhY3Rvcnkoc2VsZWN0b3IsIF92aWV3RmFjdG9yeSwgX2NvbXBvbmVudFR5cGUpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuICAgICAgICB0aGlzLl92aWV3RmFjdG9yeSA9IF92aWV3RmFjdG9yeTtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50VHlwZSA9IF9jb21wb25lbnRUeXBlO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50RmFjdG9yeS5wcm90b3R5cGUsIFwiY29tcG9uZW50VHlwZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fY29tcG9uZW50VHlwZTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBjb21wb25lbnQuXG4gICAgICovXG4gICAgQ29tcG9uZW50RmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKGluamVjdG9yLCBwcm9qZWN0YWJsZU5vZGVzLCByb290U2VsZWN0b3JPck5vZGUpIHtcbiAgICAgICAgaWYgKHByb2plY3RhYmxlTm9kZXMgPT09IHZvaWQgMCkgeyBwcm9qZWN0YWJsZU5vZGVzID0gbnVsbDsgfVxuICAgICAgICBpZiAocm9vdFNlbGVjdG9yT3JOb2RlID09PSB2b2lkIDApIHsgcm9vdFNlbGVjdG9yT3JOb2RlID0gbnVsbDsgfVxuICAgICAgICB2YXIgdnUgPSBpbmplY3Rvci5nZXQodmlld191dGlsc18xLlZpZXdVdGlscyk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhwcm9qZWN0YWJsZU5vZGVzKSkge1xuICAgICAgICAgICAgcHJvamVjdGFibGVOb2RlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vdGU6IEhvc3Qgdmlld3MgZG9uJ3QgbmVlZCBhIGRlY2xhcmF0aW9uQXBwRWxlbWVudCFcbiAgICAgICAgdmFyIGhvc3RWaWV3ID0gdGhpcy5fdmlld0ZhY3RvcnkodnUsIGluamVjdG9yLCBudWxsKTtcbiAgICAgICAgdmFyIGhvc3RFbGVtZW50ID0gaG9zdFZpZXcuY3JlYXRlKEVNUFRZX0NPTlRFWFQsIHByb2plY3RhYmxlTm9kZXMsIHJvb3RTZWxlY3Rvck9yTm9kZSk7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcG9uZW50UmVmXyhob3N0RWxlbWVudCwgdGhpcy5fY29tcG9uZW50VHlwZSk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29tcG9uZW50RmFjdG9yeTtcbn0oKSk7XG5leHBvcnRzLkNvbXBvbmVudEZhY3RvcnkgPSBDb21wb25lbnRGYWN0b3J5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9uZW50X2ZhY3RvcnkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBhc3luY18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9hc3luYycpO1xudmFyIHJlZmxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uL3JlZmxlY3Rpb24vcmVmbGVjdGlvbicpO1xudmFyIGNvbXBvbmVudF9mYWN0b3J5XzEgPSByZXF1aXJlKCcuL2NvbXBvbmVudF9mYWN0b3J5Jyk7XG52YXIgZGVjb3JhdG9yc18xID0gcmVxdWlyZSgnLi4vZGkvZGVjb3JhdG9ycycpO1xuLyoqXG4gKiBMb3ctbGV2ZWwgc2VydmljZSBmb3IgbG9hZGluZyB7QGxpbmsgQ29tcG9uZW50RmFjdG9yeX1zLCB3aGljaFxuICogY2FuIGxhdGVyIGJlIHVzZWQgdG8gY3JlYXRlIGFuZCByZW5kZXIgYSBDb21wb25lbnQgaW5zdGFuY2UuXG4gKi9cbnZhciBDb21wb25lbnRSZXNvbHZlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tcG9uZW50UmVzb2x2ZXIoKSB7XG4gICAgfVxuICAgIHJldHVybiBDb21wb25lbnRSZXNvbHZlcjtcbn0oKSk7XG5leHBvcnRzLkNvbXBvbmVudFJlc29sdmVyID0gQ29tcG9uZW50UmVzb2x2ZXI7XG5mdW5jdGlvbiBfaXNDb21wb25lbnRGYWN0b3J5KHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZSBpbnN0YW5jZW9mIGNvbXBvbmVudF9mYWN0b3J5XzEuQ29tcG9uZW50RmFjdG9yeTtcbn1cbnZhciBSZWZsZWN0b3JDb21wb25lbnRSZXNvbHZlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlZmxlY3RvckNvbXBvbmVudFJlc29sdmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlZmxlY3RvckNvbXBvbmVudFJlc29sdmVyKCkge1xuICAgICAgICBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgUmVmbGVjdG9yQ29tcG9uZW50UmVzb2x2ZXIucHJvdG90eXBlLnJlc29sdmVDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50VHlwZSkge1xuICAgICAgICB2YXIgbWV0YWRhdGFzID0gcmVmbGVjdGlvbl8xLnJlZmxlY3Rvci5hbm5vdGF0aW9ucyhjb21wb25lbnRUeXBlKTtcbiAgICAgICAgdmFyIGNvbXBvbmVudEZhY3RvcnkgPSBtZXRhZGF0YXMuZmluZChfaXNDb21wb25lbnRGYWN0b3J5KTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKGNvbXBvbmVudEZhY3RvcnkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJObyBwcmVjb21waWxlZCBjb21wb25lbnQgXCIgKyBsYW5nXzEuc3RyaW5naWZ5KGNvbXBvbmVudFR5cGUpICsgXCIgZm91bmRcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFzeW5jXzEuUHJvbWlzZVdyYXBwZXIucmVzb2x2ZShjb21wb25lbnRGYWN0b3J5KTtcbiAgICB9O1xuICAgIFJlZmxlY3RvckNvbXBvbmVudFJlc29sdmVyLnByb3RvdHlwZS5jbGVhckNhY2hlID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIFJlZmxlY3RvckNvbXBvbmVudFJlc29sdmVyLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogZGVjb3JhdG9yc18xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIHJldHVybiBSZWZsZWN0b3JDb21wb25lbnRSZXNvbHZlcjtcbn0oQ29tcG9uZW50UmVzb2x2ZXIpKTtcbmV4cG9ydHMuUmVmbGVjdG9yQ29tcG9uZW50UmVzb2x2ZXIgPSBSZWZsZWN0b3JDb21wb25lbnRSZXNvbHZlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBvbmVudF9yZXNvbHZlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciB2aWV3X3R5cGVfMSA9IHJlcXVpcmUoJy4vdmlld190eXBlJyk7XG4vKiBAdHMyZGFydF9jb25zdCAqL1xudmFyIFN0YXRpY05vZGVEZWJ1Z0luZm8gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YXRpY05vZGVEZWJ1Z0luZm8ocHJvdmlkZXJUb2tlbnMsIGNvbXBvbmVudFRva2VuLCByZWZUb2tlbnMpIHtcbiAgICAgICAgdGhpcy5wcm92aWRlclRva2VucyA9IHByb3ZpZGVyVG9rZW5zO1xuICAgICAgICB0aGlzLmNvbXBvbmVudFRva2VuID0gY29tcG9uZW50VG9rZW47XG4gICAgICAgIHRoaXMucmVmVG9rZW5zID0gcmVmVG9rZW5zO1xuICAgIH1cbiAgICByZXR1cm4gU3RhdGljTm9kZURlYnVnSW5mbztcbn0oKSk7XG5leHBvcnRzLlN0YXRpY05vZGVEZWJ1Z0luZm8gPSBTdGF0aWNOb2RlRGVidWdJbmZvO1xudmFyIERlYnVnQ29udGV4dCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVidWdDb250ZXh0KF92aWV3LCBfbm9kZUluZGV4LCBfdHBsUm93LCBfdHBsQ29sKSB7XG4gICAgICAgIHRoaXMuX3ZpZXcgPSBfdmlldztcbiAgICAgICAgdGhpcy5fbm9kZUluZGV4ID0gX25vZGVJbmRleDtcbiAgICAgICAgdGhpcy5fdHBsUm93ID0gX3RwbFJvdztcbiAgICAgICAgdGhpcy5fdHBsQ29sID0gX3RwbENvbDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnQ29udGV4dC5wcm90b3R5cGUsIFwiX3N0YXRpY05vZGVJbmZvXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFuZ18xLmlzUHJlc2VudCh0aGlzLl9ub2RlSW5kZXgpID8gdGhpcy5fdmlldy5zdGF0aWNOb2RlRGVidWdJbmZvc1t0aGlzLl9ub2RlSW5kZXhdIDogbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnQ29udGV4dC5wcm90b3R5cGUsIFwiY29udGV4dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fdmlldy5jb250ZXh0OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVidWdDb250ZXh0LnByb3RvdHlwZSwgXCJjb21wb25lbnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdGF0aWNOb2RlSW5mbyA9IHRoaXMuX3N0YXRpY05vZGVJbmZvO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoc3RhdGljTm9kZUluZm8pICYmIGxhbmdfMS5pc1ByZXNlbnQoc3RhdGljTm9kZUluZm8uY29tcG9uZW50VG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5qZWN0b3IuZ2V0KHN0YXRpY05vZGVJbmZvLmNvbXBvbmVudFRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVidWdDb250ZXh0LnByb3RvdHlwZSwgXCJjb21wb25lbnRSZW5kZXJFbGVtZW50XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY29tcG9uZW50VmlldyA9IHRoaXMuX3ZpZXc7XG4gICAgICAgICAgICB3aGlsZSAobGFuZ18xLmlzUHJlc2VudChjb21wb25lbnRWaWV3LmRlY2xhcmF0aW9uQXBwRWxlbWVudCkgJiZcbiAgICAgICAgICAgICAgICBjb21wb25lbnRWaWV3LnR5cGUgIT09IHZpZXdfdHlwZV8xLlZpZXdUeXBlLkNPTVBPTkVOVCkge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudFZpZXcgPSBjb21wb25lbnRWaWV3LmRlY2xhcmF0aW9uQXBwRWxlbWVudC5wYXJlbnRWaWV3O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQoY29tcG9uZW50Vmlldy5kZWNsYXJhdGlvbkFwcEVsZW1lbnQpID9cbiAgICAgICAgICAgICAgICBjb21wb25lbnRWaWV3LmRlY2xhcmF0aW9uQXBwRWxlbWVudC5uYXRpdmVFbGVtZW50IDpcbiAgICAgICAgICAgICAgICBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVidWdDb250ZXh0LnByb3RvdHlwZSwgXCJpbmplY3RvclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fdmlldy5pbmplY3Rvcih0aGlzLl9ub2RlSW5kZXgpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVidWdDb250ZXh0LnByb3RvdHlwZSwgXCJyZW5kZXJOb2RlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLl9ub2RlSW5kZXgpICYmIGxhbmdfMS5pc1ByZXNlbnQodGhpcy5fdmlldy5hbGxOb2RlcykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdmlldy5hbGxOb2Rlc1t0aGlzLl9ub2RlSW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWJ1Z0NvbnRleHQucHJvdG90eXBlLCBcInByb3ZpZGVyVG9rZW5zXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGljTm9kZUluZm8gPSB0aGlzLl9zdGF0aWNOb2RlSW5mbztcbiAgICAgICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHN0YXRpY05vZGVJbmZvKSA/IHN0YXRpY05vZGVJbmZvLnByb3ZpZGVyVG9rZW5zIDogbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnQ29udGV4dC5wcm90b3R5cGUsIFwic291cmNlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmlldy5jb21wb25lbnRUeXBlLnRlbXBsYXRlVXJsICsgXCI6XCIgKyB0aGlzLl90cGxSb3cgKyBcIjpcIiArIHRoaXMuX3RwbENvbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnQ29udGV4dC5wcm90b3R5cGUsIFwicmVmZXJlbmNlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciB2YXJWYWx1ZXMgPSB7fTtcbiAgICAgICAgICAgIHZhciBzdGF0aWNOb2RlSW5mbyA9IHRoaXMuX3N0YXRpY05vZGVJbmZvO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoc3RhdGljTm9kZUluZm8pKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlZnMgPSBzdGF0aWNOb2RlSW5mby5yZWZUb2tlbnM7XG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIuZm9yRWFjaChyZWZzLCBmdW5jdGlvbiAocmVmVG9rZW4sIHJlZk5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhclZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsocmVmVG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJWYWx1ZSA9IGxhbmdfMS5pc1ByZXNlbnQoX3RoaXMuX3ZpZXcuYWxsTm9kZXMpID8gX3RoaXMuX3ZpZXcuYWxsTm9kZXNbX3RoaXMuX25vZGVJbmRleF0gOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyVmFsdWUgPSBfdGhpcy5fdmlldy5pbmplY3RvckdldChyZWZUb2tlbiwgX3RoaXMuX25vZGVJbmRleCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyVmFsdWVzW3JlZk5hbWVdID0gdmFyVmFsdWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFyVmFsdWVzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gRGVidWdDb250ZXh0O1xufSgpKTtcbmV4cG9ydHMuRGVidWdDb250ZXh0ID0gRGVidWdDb250ZXh0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVidWdfY29udGV4dC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGNvbXBvbmVudF9yZXNvbHZlcl8xID0gcmVxdWlyZSgnLi9jb21wb25lbnRfcmVzb2x2ZXInKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciByZWZsZWN0aXZlX2luamVjdG9yXzEgPSByZXF1aXJlKCcuLi9kaS9yZWZsZWN0aXZlX2luamVjdG9yJyk7XG52YXIgZGVjb3JhdG9yc18xID0gcmVxdWlyZSgnLi4vZGkvZGVjb3JhdG9ycycpO1xuLyoqXG4gKiBVc2UgQ29tcG9uZW50UmVzb2x2ZXIgYW5kIFZpZXdDb250YWluZXJSZWYgZGlyZWN0bHkuXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqL1xudmFyIER5bmFtaWNDb21wb25lbnRMb2FkZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIER5bmFtaWNDb21wb25lbnRMb2FkZXIoKSB7XG4gICAgfVxuICAgIHJldHVybiBEeW5hbWljQ29tcG9uZW50TG9hZGVyO1xufSgpKTtcbmV4cG9ydHMuRHluYW1pY0NvbXBvbmVudExvYWRlciA9IER5bmFtaWNDb21wb25lbnRMb2FkZXI7XG52YXIgRHluYW1pY0NvbXBvbmVudExvYWRlcl8gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEeW5hbWljQ29tcG9uZW50TG9hZGVyXywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEeW5hbWljQ29tcG9uZW50TG9hZGVyXyhfY29tcGlsZXIpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX2NvbXBpbGVyID0gX2NvbXBpbGVyO1xuICAgIH1cbiAgICBEeW5hbWljQ29tcG9uZW50TG9hZGVyXy5wcm90b3R5cGUubG9hZEFzUm9vdCA9IGZ1bmN0aW9uICh0eXBlLCBvdmVycmlkZVNlbGVjdG9yT3JOb2RlLCBpbmplY3Rvciwgb25EaXNwb3NlLCBwcm9qZWN0YWJsZU5vZGVzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb21waWxlci5yZXNvbHZlQ29tcG9uZW50KHR5cGUpLnRoZW4oZnVuY3Rpb24gKGNvbXBvbmVudEZhY3RvcnkpIHtcbiAgICAgICAgICAgIHZhciBjb21wb25lbnRSZWYgPSBjb21wb25lbnRGYWN0b3J5LmNyZWF0ZShpbmplY3RvciwgcHJvamVjdGFibGVOb2RlcywgbGFuZ18xLmlzUHJlc2VudChvdmVycmlkZVNlbGVjdG9yT3JOb2RlKSA/IG92ZXJyaWRlU2VsZWN0b3JPck5vZGUgOiBjb21wb25lbnRGYWN0b3J5LnNlbGVjdG9yKTtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KG9uRGlzcG9zZSkpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRSZWYub25EZXN0cm95KG9uRGlzcG9zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50UmVmO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIER5bmFtaWNDb21wb25lbnRMb2FkZXJfLnByb3RvdHlwZS5sb2FkTmV4dFRvTG9jYXRpb24gPSBmdW5jdGlvbiAodHlwZSwgbG9jYXRpb24sIHByb3ZpZGVycywgcHJvamVjdGFibGVOb2Rlcykge1xuICAgICAgICBpZiAocHJvdmlkZXJzID09PSB2b2lkIDApIHsgcHJvdmlkZXJzID0gbnVsbDsgfVxuICAgICAgICBpZiAocHJvamVjdGFibGVOb2RlcyA9PT0gdm9pZCAwKSB7IHByb2plY3RhYmxlTm9kZXMgPSBudWxsOyB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jb21waWxlci5yZXNvbHZlQ29tcG9uZW50KHR5cGUpLnRoZW4oZnVuY3Rpb24gKGNvbXBvbmVudEZhY3RvcnkpIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0SW5qZWN0b3IgPSBsb2NhdGlvbi5wYXJlbnRJbmplY3RvcjtcbiAgICAgICAgICAgIHZhciBjaGlsZEluamVjdG9yID0gbGFuZ18xLmlzUHJlc2VudChwcm92aWRlcnMpICYmIHByb3ZpZGVycy5sZW5ndGggPiAwID9cbiAgICAgICAgICAgICAgICByZWZsZWN0aXZlX2luamVjdG9yXzEuUmVmbGVjdGl2ZUluamVjdG9yLmZyb21SZXNvbHZlZFByb3ZpZGVycyhwcm92aWRlcnMsIGNvbnRleHRJbmplY3RvcikgOlxuICAgICAgICAgICAgICAgIGNvbnRleHRJbmplY3RvcjtcbiAgICAgICAgICAgIHJldHVybiBsb2NhdGlvbi5jcmVhdGVDb21wb25lbnQoY29tcG9uZW50RmFjdG9yeSwgbG9jYXRpb24ubGVuZ3RoLCBjaGlsZEluamVjdG9yLCBwcm9qZWN0YWJsZU5vZGVzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEeW5hbWljQ29tcG9uZW50TG9hZGVyXy5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGRlY29yYXRvcnNfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICBEeW5hbWljQ29tcG9uZW50TG9hZGVyXy5jdG9yUGFyYW1ldGVycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb21wb25lbnRfcmVzb2x2ZXJfMS5Db21wb25lbnRSZXNvbHZlciwgfSxcbiAgICBdO1xuICAgIHJldHVybiBEeW5hbWljQ29tcG9uZW50TG9hZGVyXztcbn0oRHluYW1pY0NvbXBvbmVudExvYWRlcikpO1xuZXhwb3J0cy5EeW5hbWljQ29tcG9uZW50TG9hZGVyXyA9IER5bmFtaWNDb21wb25lbnRMb2FkZXJfO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZHluYW1pY19jb21wb25lbnRfbG9hZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvZXhjZXB0aW9ucycpO1xudmFyIHZpZXdfdHlwZV8xID0gcmVxdWlyZSgnLi92aWV3X3R5cGUnKTtcbnZhciBlbGVtZW50X3JlZl8xID0gcmVxdWlyZSgnLi9lbGVtZW50X3JlZicpO1xudmFyIHZpZXdfY29udGFpbmVyX3JlZl8xID0gcmVxdWlyZSgnLi92aWV3X2NvbnRhaW5lcl9yZWYnKTtcbi8qKlxuICogQW4gQXBwRWxlbWVudCBpcyBjcmVhdGVkIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgYSBWaWV3Q29udGFpbmVyUmVmLFxuICogYSBuZXN0ZWQgY29tcG9uZW50IG9yIGEgPHRlbXBsYXRlPiBlbGVtZW50IHRvIGtlZXAgZGF0YSBhcm91bmRcbiAqIHRoYXQgaXMgbmVlZGVkIGZvciBsYXRlciBpbnN0YW50aWF0aW9ucy5cbiAqL1xudmFyIEFwcEVsZW1lbnQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFwcEVsZW1lbnQoaW5kZXgsIHBhcmVudEluZGV4LCBwYXJlbnRWaWV3LCBuYXRpdmVFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5wYXJlbnRJbmRleCA9IHBhcmVudEluZGV4O1xuICAgICAgICB0aGlzLnBhcmVudFZpZXcgPSBwYXJlbnRWaWV3O1xuICAgICAgICB0aGlzLm5hdGl2ZUVsZW1lbnQgPSBuYXRpdmVFbGVtZW50O1xuICAgICAgICB0aGlzLm5lc3RlZFZpZXdzID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb21wb25lbnRWaWV3ID0gbnVsbDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcEVsZW1lbnQucHJvdG90eXBlLCBcImVsZW1lbnRSZWZcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBlbGVtZW50X3JlZl8xLkVsZW1lbnRSZWYodGhpcy5uYXRpdmVFbGVtZW50KTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcEVsZW1lbnQucHJvdG90eXBlLCBcInZjUmVmXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgdmlld19jb250YWluZXJfcmVmXzEuVmlld0NvbnRhaW5lclJlZl8odGhpcyk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEFwcEVsZW1lbnQucHJvdG90eXBlLmluaXRDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50LCBjb21wb25lbnRDb25zdHJ1Y3RvclZpZXdRdWVyaWVzLCB2aWV3KSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50O1xuICAgICAgICB0aGlzLmNvbXBvbmVudENvbnN0cnVjdG9yVmlld1F1ZXJpZXMgPSBjb21wb25lbnRDb25zdHJ1Y3RvclZpZXdRdWVyaWVzO1xuICAgICAgICB0aGlzLmNvbXBvbmVudFZpZXcgPSB2aWV3O1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcEVsZW1lbnQucHJvdG90eXBlLCBcInBhcmVudEluamVjdG9yXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnBhcmVudFZpZXcuaW5qZWN0b3IodGhpcy5wYXJlbnRJbmRleCk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBFbGVtZW50LnByb3RvdHlwZSwgXCJpbmplY3RvclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5wYXJlbnRWaWV3LmluamVjdG9yKHRoaXMuaW5kZXgpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBBcHBFbGVtZW50LnByb3RvdHlwZS5tYXBOZXN0ZWRWaWV3cyA9IGZ1bmN0aW9uIChuZXN0ZWRWaWV3Q2xhc3MsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGhpcy5uZXN0ZWRWaWV3cykpIHtcbiAgICAgICAgICAgIHRoaXMubmVzdGVkVmlld3MuZm9yRWFjaChmdW5jdGlvbiAobmVzdGVkVmlldykge1xuICAgICAgICAgICAgICAgIGlmIChuZXN0ZWRWaWV3LmNsYXp6ID09PSBuZXN0ZWRWaWV3Q2xhc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2FsbGJhY2sobmVzdGVkVmlldykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBBcHBFbGVtZW50LnByb3RvdHlwZS5hdHRhY2hWaWV3ID0gZnVuY3Rpb24gKHZpZXcsIHZpZXdJbmRleCkge1xuICAgICAgICBpZiAodmlldy50eXBlID09PSB2aWV3X3R5cGVfMS5WaWV3VHlwZS5DT01QT05FTlQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbihcIkNvbXBvbmVudCB2aWV3cyBjYW4ndCBiZSBtb3ZlZCFcIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5lc3RlZFZpZXdzID0gdGhpcy5uZXN0ZWRWaWV3cztcbiAgICAgICAgaWYgKG5lc3RlZFZpZXdzID09IG51bGwpIHtcbiAgICAgICAgICAgIG5lc3RlZFZpZXdzID0gW107XG4gICAgICAgICAgICB0aGlzLm5lc3RlZFZpZXdzID0gbmVzdGVkVmlld3M7XG4gICAgICAgIH1cbiAgICAgICAgY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmluc2VydChuZXN0ZWRWaWV3cywgdmlld0luZGV4LCB2aWV3KTtcbiAgICAgICAgdmFyIHJlZlJlbmRlck5vZGU7XG4gICAgICAgIGlmICh2aWV3SW5kZXggPiAwKSB7XG4gICAgICAgICAgICB2YXIgcHJldlZpZXcgPSBuZXN0ZWRWaWV3c1t2aWV3SW5kZXggLSAxXTtcbiAgICAgICAgICAgIHJlZlJlbmRlck5vZGUgPSBwcmV2Vmlldy5sYXN0Um9vdE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZWZSZW5kZXJOb2RlID0gdGhpcy5uYXRpdmVFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHJlZlJlbmRlck5vZGUpKSB7XG4gICAgICAgICAgICB2aWV3LnJlbmRlcmVyLmF0dGFjaFZpZXdBZnRlcihyZWZSZW5kZXJOb2RlLCB2aWV3LmZsYXRSb290Tm9kZXMpO1xuICAgICAgICB9XG4gICAgICAgIHZpZXcuYWRkVG9Db250ZW50Q2hpbGRyZW4odGhpcyk7XG4gICAgfTtcbiAgICBBcHBFbGVtZW50LnByb3RvdHlwZS5kZXRhY2hWaWV3ID0gZnVuY3Rpb24gKHZpZXdJbmRleCkge1xuICAgICAgICB2YXIgdmlldyA9IGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5yZW1vdmVBdCh0aGlzLm5lc3RlZFZpZXdzLCB2aWV3SW5kZXgpO1xuICAgICAgICBpZiAodmlldy50eXBlID09PSB2aWV3X3R5cGVfMS5WaWV3VHlwZS5DT01QT05FTlQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbihcIkNvbXBvbmVudCB2aWV3cyBjYW4ndCBiZSBtb3ZlZCFcIik7XG4gICAgICAgIH1cbiAgICAgICAgdmlldy5yZW5kZXJlci5kZXRhY2hWaWV3KHZpZXcuZmxhdFJvb3ROb2Rlcyk7XG4gICAgICAgIHZpZXcucmVtb3ZlRnJvbUNvbnRlbnRDaGlsZHJlbih0aGlzKTtcbiAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfTtcbiAgICByZXR1cm4gQXBwRWxlbWVudDtcbn0oKSk7XG5leHBvcnRzLkFwcEVsZW1lbnQgPSBBcHBFbGVtZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWxlbWVudC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGluamVjdG9yXzEgPSByZXF1aXJlKCcuLi9kaS9pbmplY3RvcicpO1xudmFyIF9VTkRFRklORUQgPSBuZXcgT2JqZWN0KCk7XG52YXIgRWxlbWVudEluamVjdG9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRWxlbWVudEluamVjdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEVsZW1lbnRJbmplY3RvcihfdmlldywgX25vZGVJbmRleCkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fdmlldyA9IF92aWV3O1xuICAgICAgICB0aGlzLl9ub2RlSW5kZXggPSBfbm9kZUluZGV4O1xuICAgIH1cbiAgICBFbGVtZW50SW5qZWN0b3IucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh0b2tlbiwgbm90Rm91bmRWYWx1ZSkge1xuICAgICAgICBpZiAobm90Rm91bmRWYWx1ZSA9PT0gdm9pZCAwKSB7IG5vdEZvdW5kVmFsdWUgPSBpbmplY3Rvcl8xLlRIUk9XX0lGX05PVF9GT1VORDsgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gX1VOREVGSU5FRDtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gX1VOREVGSU5FRCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5fdmlldy5pbmplY3RvckdldCh0b2tlbiwgdGhpcy5fbm9kZUluZGV4LCBfVU5ERUZJTkVEKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0ID09PSBfVU5ERUZJTkVEKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLl92aWV3LnBhcmVudEluamVjdG9yLmdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIHJldHVybiBFbGVtZW50SW5qZWN0b3I7XG59KGluamVjdG9yXzEuSW5qZWN0b3IpKTtcbmV4cG9ydHMuRWxlbWVudEluamVjdG9yID0gRWxlbWVudEluamVjdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWxlbWVudF9pbmplY3Rvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuKiBBIHdyYXBwZXIgYXJvdW5kIGEgbmF0aXZlIGVsZW1lbnQgaW5zaWRlIG9mIGEgVmlldy5cbipcbiogQW4gYEVsZW1lbnRSZWZgIGlzIGJhY2tlZCBieSBhIHJlbmRlci1zcGVjaWZpYyBlbGVtZW50LiBJbiB0aGUgYnJvd3NlciwgdGhpcyBpcyB1c3VhbGx5IGEgRE9NXG4qIGVsZW1lbnQuXG4qL1xuLy8gTm90ZTogV2UgZG9uJ3QgZXhwb3NlIHRoaW5ncyBsaWtlIGBJbmplY3RvcmAsIGBWaWV3Q29udGFpbmVyYCwgLi4uIGhlcmUsXG4vLyBpLmUuIHVzZXJzIGhhdmUgdG8gYXNrIGZvciB3aGF0IHRoZXkgbmVlZC4gV2l0aCB0aGF0LCB3ZSBjYW4gYnVpbGQgYmV0dGVyIGFuYWx5c2lzIHRvb2xzXG4vLyBhbmQgY291bGQgZG8gYmV0dGVyIGNvZGVnZW4gaW4gdGhlIGZ1dHVyZS5cbnZhciBFbGVtZW50UmVmID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFbGVtZW50UmVmKG5hdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5uYXRpdmVFbGVtZW50ID0gbmF0aXZlRWxlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIEVsZW1lbnRSZWY7XG59KCkpO1xuZXhwb3J0cy5FbGVtZW50UmVmID0gRWxlbWVudFJlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVsZW1lbnRfcmVmLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG4vKipcbiAqIEFuIGVycm9yIHRocm93biBpZiBhcHBsaWNhdGlvbiBjaGFuZ2VzIG1vZGVsIGJyZWFraW5nIHRoZSB0b3AtZG93biBkYXRhIGZsb3cuXG4gKlxuICogVGhpcyBleGNlcHRpb24gaXMgb25seSB0aHJvd24gaW4gZGV2IG1vZGUuXG4gKlxuICogPCEtLSBUT0RPOiBBZGQgYSBsaW5rIG9uY2UgdGhlIGRldiBtb2RlIG9wdGlvbiBpcyBjb25maWd1cmFibGUgLS0+XG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICdwYXJlbnQnLFxuICogICB0ZW1wbGF0ZTogYFxuICogICAgIDxjaGlsZCBbcHJvcF09XCJwYXJlbnRQcm9wXCI+PC9jaGlsZD5cbiAqICAgYCxcbiAqICAgZGlyZWN0aXZlczogW2ZvcndhcmRSZWYoKCkgPT4gQ2hpbGQpXVxuICogfSlcbiAqIGNsYXNzIFBhcmVudCB7XG4gKiAgIHBhcmVudFByb3AgPSBcImluaXRcIjtcbiAqIH1cbiAqXG4gKiBARGlyZWN0aXZlKHtzZWxlY3RvcjogJ2NoaWxkJywgaW5wdXRzOiBbJ3Byb3AnXX0pXG4gKiBjbGFzcyBDaGlsZCB7XG4gKiAgIGNvbnN0cnVjdG9yKHB1YmxpYyBwYXJlbnQ6IFBhcmVudCkge31cbiAqXG4gKiAgIHNldCBwcm9wKHYpIHtcbiAqICAgICAvLyB0aGlzIHVwZGF0ZXMgdGhlIHBhcmVudCBwcm9wZXJ0eSwgd2hpY2ggaXMgZGlzYWxsb3dlZCBkdXJpbmcgY2hhbmdlIGRldGVjdGlvblxuICogICAgIC8vIHRoaXMgd2lsbCByZXN1bHQgaW4gRXhwcmVzc2lvbkNoYW5nZWRBZnRlckl0SGFzQmVlbkNoZWNrZWRFeGNlcHRpb25cbiAqICAgICB0aGlzLnBhcmVudC5wYXJlbnRQcm9wID0gXCJ1cGRhdGVkXCI7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICovXG52YXIgRXhwcmVzc2lvbkNoYW5nZWRBZnRlckl0SGFzQmVlbkNoZWNrZWRFeGNlcHRpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhFeHByZXNzaW9uQ2hhbmdlZEFmdGVySXRIYXNCZWVuQ2hlY2tlZEV4Y2VwdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBFeHByZXNzaW9uQ2hhbmdlZEFmdGVySXRIYXNCZWVuQ2hlY2tlZEV4Y2VwdGlvbihvbGRWYWx1ZSwgY3VyclZhbHVlLCBjb250ZXh0KSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIFwiRXhwcmVzc2lvbiBoYXMgY2hhbmdlZCBhZnRlciBpdCB3YXMgY2hlY2tlZC4gXCIgK1xuICAgICAgICAgICAgKFwiUHJldmlvdXMgdmFsdWU6ICdcIiArIG9sZFZhbHVlICsgXCInLiBDdXJyZW50IHZhbHVlOiAnXCIgKyBjdXJyVmFsdWUgKyBcIidcIikpO1xuICAgIH1cbiAgICByZXR1cm4gRXhwcmVzc2lvbkNoYW5nZWRBZnRlckl0SGFzQmVlbkNoZWNrZWRFeGNlcHRpb247XG59KGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKSk7XG5leHBvcnRzLkV4cHJlc3Npb25DaGFuZ2VkQWZ0ZXJJdEhhc0JlZW5DaGVja2VkRXhjZXB0aW9uID0gRXhwcmVzc2lvbkNoYW5nZWRBZnRlckl0SGFzQmVlbkNoZWNrZWRFeGNlcHRpb247XG4vKipcbiAqIFRocm93biB3aGVuIGFuIGV4Y2VwdGlvbiB3YXMgcmFpc2VkIGR1cmluZyB2aWV3IGNyZWF0aW9uLCBjaGFuZ2UgZGV0ZWN0aW9uIG9yIGRlc3RydWN0aW9uLlxuICpcbiAqIFRoaXMgZXJyb3Igd3JhcHMgdGhlIG9yaWdpbmFsIGV4Y2VwdGlvbiB0byBhdHRhY2ggYWRkaXRpb25hbCBjb250ZXh0dWFsIGluZm9ybWF0aW9uIHRoYXQgY2FuXG4gKiBiZSB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cbiAqL1xudmFyIFZpZXdXcmFwcGVkRXhjZXB0aW9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVmlld1dyYXBwZWRFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVmlld1dyYXBwZWRFeGNlcHRpb24ob3JpZ2luYWxFeGNlcHRpb24sIG9yaWdpbmFsU3RhY2ssIGNvbnRleHQpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgXCJFcnJvciBpbiBcIiArIGNvbnRleHQuc291cmNlLCBvcmlnaW5hbEV4Y2VwdGlvbiwgb3JpZ2luYWxTdGFjaywgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBWaWV3V3JhcHBlZEV4Y2VwdGlvbjtcbn0oZXhjZXB0aW9uc18xLldyYXBwZWRFeGNlcHRpb24pKTtcbmV4cG9ydHMuVmlld1dyYXBwZWRFeGNlcHRpb24gPSBWaWV3V3JhcHBlZEV4Y2VwdGlvbjtcbi8qKlxuICogVGhyb3duIHdoZW4gYSBkZXN0cm95ZWQgdmlldyBpcyB1c2VkLlxuICpcbiAqIFRoaXMgZXJyb3IgaW5kaWNhdGVzIGEgYnVnIGluIHRoZSBmcmFtZXdvcmsuXG4gKlxuICogVGhpcyBpcyBhbiBpbnRlcm5hbCBBbmd1bGFyIGVycm9yLlxuICovXG52YXIgVmlld0Rlc3Ryb3llZEV4Y2VwdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFZpZXdEZXN0cm95ZWRFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVmlld0Rlc3Ryb3llZEV4Y2VwdGlvbihkZXRhaWxzKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIFwiQXR0ZW1wdCB0byB1c2UgYSBkZXN0cm95ZWQgdmlldzogXCIgKyBkZXRhaWxzKTtcbiAgICB9XG4gICAgcmV0dXJuIFZpZXdEZXN0cm95ZWRFeGNlcHRpb247XG59KGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKSk7XG5leHBvcnRzLlZpZXdEZXN0cm95ZWRFeGNlcHRpb24gPSBWaWV3RGVzdHJveWVkRXhjZXB0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhjZXB0aW9ucy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBhc3luY18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9hc3luYycpO1xuLyoqXG4gKiBBbiB1bm1vZGlmaWFibGUgbGlzdCBvZiBpdGVtcyB0aGF0IEFuZ3VsYXIga2VlcHMgdXAgdG8gZGF0ZSB3aGVuIHRoZSBzdGF0ZVxuICogb2YgdGhlIGFwcGxpY2F0aW9uIGNoYW5nZXMuXG4gKlxuICogVGhlIHR5cGUgb2Ygb2JqZWN0IHRoYXQge0BsaW5rIFF1ZXJ5TWV0YWRhdGF9IGFuZCB7QGxpbmsgVmlld1F1ZXJ5TWV0YWRhdGF9IHByb3ZpZGUuXG4gKlxuICogSW1wbGVtZW50cyBhbiBpdGVyYWJsZSBpbnRlcmZhY2UsIHRoZXJlZm9yZSBpdCBjYW4gYmUgdXNlZCBpbiBib3RoIEVTNlxuICogamF2YXNjcmlwdCBgZm9yICh2YXIgaSBvZiBpdGVtcylgIGxvb3BzIGFzIHdlbGwgYXMgaW4gQW5ndWxhciB0ZW1wbGF0ZXMgd2l0aFxuICogYCpuZ0Zvcj1cImxldCBpIG9mIG15TGlzdFwiYC5cbiAqXG4gKiBDaGFuZ2VzIGNhbiBiZSBvYnNlcnZlZCBieSBzdWJzY3JpYmluZyB0byB0aGUgY2hhbmdlcyBgT2JzZXJ2YWJsZWAuXG4gKlxuICogTk9URTogSW4gdGhlIGZ1dHVyZSB0aGlzIGNsYXNzIHdpbGwgaW1wbGVtZW50IGFuIGBPYnNlcnZhYmxlYCBpbnRlcmZhY2UuXG4gKlxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L1JYOHNKblFZbDlGV3VTQ1dtZTV6P3A9cHJldmlldykpXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBAQ29tcG9uZW50KHsuLi59KVxuICogY2xhc3MgQ29udGFpbmVyIHtcbiAqICAgY29uc3RydWN0b3IoQFF1ZXJ5KEl0ZW0pIGl0ZW1zOiBRdWVyeUxpc3Q8SXRlbT4pIHtcbiAqICAgICBpdGVtcy5jaGFuZ2VzLnN1YnNjcmliZShfID0+IGNvbnNvbGUubG9nKGl0ZW1zLmxlbmd0aCkpO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqL1xudmFyIFF1ZXJ5TGlzdCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUXVlcnlMaXN0KCkge1xuICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3Jlc3VsdHMgPSBbXTtcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG5ldyBhc3luY18xLkV2ZW50RW1pdHRlcigpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUXVlcnlMaXN0LnByb3RvdHlwZSwgXCJjaGFuZ2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9lbWl0dGVyOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUXVlcnlMaXN0LnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3Jlc3VsdHMubGVuZ3RoOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUXVlcnlMaXN0LnByb3RvdHlwZSwgXCJmaXJzdFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmZpcnN0KHRoaXMuX3Jlc3VsdHMpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUXVlcnlMaXN0LnByb3RvdHlwZSwgXCJsYXN0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIubGFzdCh0aGlzLl9yZXN1bHRzKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogcmV0dXJucyBhIG5ldyBhcnJheSB3aXRoIHRoZSBwYXNzZWQgaW4gZnVuY3Rpb24gYXBwbGllZCB0byBlYWNoIGVsZW1lbnQuXG4gICAgICovXG4gICAgUXVlcnlMaXN0LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIHRoaXMuX3Jlc3VsdHMubWFwKGZuKTsgfTtcbiAgICAvKipcbiAgICAgKiByZXR1cm5zIGEgZmlsdGVyZWQgYXJyYXkuXG4gICAgICovXG4gICAgUXVlcnlMaXN0LnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIHRoaXMuX3Jlc3VsdHMuZmlsdGVyKGZuKTsgfTtcbiAgICAvKipcbiAgICAgKiByZXR1cm5zIGEgcmVkdWNlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBRdWVyeUxpc3QucHJvdG90eXBlLnJlZHVjZSA9IGZ1bmN0aW9uIChmbiwgaW5pdCkgeyByZXR1cm4gdGhpcy5fcmVzdWx0cy5yZWR1Y2UoZm4sIGluaXQpOyB9O1xuICAgIC8qKlxuICAgICAqIGV4ZWN1dGVzIGZ1bmN0aW9uIGZvciBlYWNoIGVsZW1lbnQgaW4gYSBxdWVyeS5cbiAgICAgKi9cbiAgICBRdWVyeUxpc3QucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoZm4pIHsgdGhpcy5fcmVzdWx0cy5mb3JFYWNoKGZuKTsgfTtcbiAgICAvKipcbiAgICAgKiBjb252ZXJ0cyBRdWVyeUxpc3QgaW50byBhbiBhcnJheVxuICAgICAqL1xuICAgIFF1ZXJ5TGlzdC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5jbG9uZSh0aGlzLl9yZXN1bHRzKTsgfTtcbiAgICBRdWVyeUxpc3QucHJvdG90eXBlW2xhbmdfMS5nZXRTeW1ib2xJdGVyYXRvcigpXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3Jlc3VsdHNbbGFuZ18xLmdldFN5bWJvbEl0ZXJhdG9yKCldKCk7IH07XG4gICAgUXVlcnlMaXN0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3Jlc3VsdHMudG9TdHJpbmcoKTsgfTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBRdWVyeUxpc3QucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKHJlcykge1xuICAgICAgICB0aGlzLl9yZXN1bHRzID0gY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmZsYXR0ZW4ocmVzKTtcbiAgICAgICAgdGhpcy5fZGlydHkgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBRdWVyeUxpc3QucHJvdG90eXBlLm5vdGlmeU9uQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHsgdGhpcy5fZW1pdHRlci5lbWl0KHRoaXMpOyB9O1xuICAgIC8qKiBpbnRlcm5hbCAqL1xuICAgIFF1ZXJ5TGlzdC5wcm90b3R5cGUuc2V0RGlydHkgPSBmdW5jdGlvbiAoKSB7IHRoaXMuX2RpcnR5ID0gdHJ1ZTsgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUXVlcnlMaXN0LnByb3RvdHlwZSwgXCJkaXJ0eVwiLCB7XG4gICAgICAgIC8qKiBpbnRlcm5hbCAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2RpcnR5OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gUXVlcnlMaXN0O1xufSgpKTtcbmV4cG9ydHMuUXVlcnlMaXN0ID0gUXVlcnlMaXN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVlcnlfbGlzdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uL2ZhY2FkZS9sYW5nJyk7XG52YXIgRU1QVFlfQ09OVEVYVCA9IG5ldyBPYmplY3QoKTtcbi8qKlxuICogUmVwcmVzZW50cyBhbiBFbWJlZGRlZCBUZW1wbGF0ZSB0aGF0IGNhbiBiZSB1c2VkIHRvIGluc3RhbnRpYXRlIEVtYmVkZGVkIFZpZXdzLlxuICpcbiAqIFlvdSBjYW4gYWNjZXNzIGEgYFRlbXBsYXRlUmVmYCwgaW4gdHdvIHdheXMuIFZpYSBhIGRpcmVjdGl2ZSBwbGFjZWQgb24gYSBgPHRlbXBsYXRlPmAgZWxlbWVudCAob3JcbiAqIGRpcmVjdGl2ZSBwcmVmaXhlZCB3aXRoIGAqYCkgYW5kIGhhdmUgdGhlIGBUZW1wbGF0ZVJlZmAgZm9yIHRoaXMgRW1iZWRkZWQgVmlldyBpbmplY3RlZCBpbnRvIHRoZVxuICogY29uc3RydWN0b3Igb2YgdGhlIGRpcmVjdGl2ZSB1c2luZyB0aGUgYFRlbXBsYXRlUmVmYCBUb2tlbi4gQWx0ZXJuYXRpdmVseSB5b3UgY2FuIHF1ZXJ5IGZvciB0aGVcbiAqIGBUZW1wbGF0ZVJlZmAgZnJvbSBhIENvbXBvbmVudCBvciBhIERpcmVjdGl2ZSB2aWEge0BsaW5rIFF1ZXJ5fS5cbiAqXG4gKiBUbyBpbnN0YW50aWF0ZSBFbWJlZGRlZCBWaWV3cyBiYXNlZCBvbiBhIFRlbXBsYXRlLCB1c2VcbiAqIHtAbGluayBWaWV3Q29udGFpbmVyUmVmI2NyZWF0ZUVtYmVkZGVkVmlld30sIHdoaWNoIHdpbGwgY3JlYXRlIHRoZSBWaWV3IGFuZCBhdHRhY2ggaXQgdG8gdGhlXG4gKiBWaWV3IENvbnRhaW5lci5cbiAqL1xudmFyIFRlbXBsYXRlUmVmID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZW1wbGF0ZVJlZigpIHtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRlbXBsYXRlUmVmLnByb3RvdHlwZSwgXCJlbGVtZW50UmVmXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhdGlvbiBpbiB0aGUgVmlldyB3aGVyZSB0aGUgRW1iZWRkZWQgVmlldyBsb2dpY2FsbHkgYmVsb25ncyB0by5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGRhdGEtYmluZGluZyBhbmQgaW5qZWN0aW9uIGNvbnRleHRzIG9mIEVtYmVkZGVkIFZpZXdzIGNyZWF0ZWQgZnJvbSB0aGlzIGBUZW1wbGF0ZVJlZmBcbiAgICAgICAgICogaW5oZXJpdCBmcm9tIHRoZSBjb250ZXh0cyBvZiB0aGlzIGxvY2F0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUeXBpY2FsbHkgbmV3IEVtYmVkZGVkIFZpZXdzIGFyZSBhdHRhY2hlZCB0byB0aGUgVmlldyBDb250YWluZXIgb2YgdGhpcyBsb2NhdGlvbiwgYnV0IGluXG4gICAgICAgICAqIGFkdmFuY2VkIHVzZS1jYXNlcywgdGhlIFZpZXcgY2FuIGJlIGF0dGFjaGVkIHRvIGEgZGlmZmVyZW50IGNvbnRhaW5lciB3aGlsZSBrZWVwaW5nIHRoZVxuICAgICAgICAgKiBkYXRhLWJpbmRpbmcgYW5kIGluamVjdGlvbiBjb250ZXh0IGZyb20gdGhlIG9yaWdpbmFsIGxvY2F0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgLy8gVE9ETyhpKTogcmVuYW1lIHRvIGFuY2hvciBvciBsb2NhdGlvblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBUZW1wbGF0ZVJlZjtcbn0oKSk7XG5leHBvcnRzLlRlbXBsYXRlUmVmID0gVGVtcGxhdGVSZWY7XG52YXIgVGVtcGxhdGVSZWZfID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGVtcGxhdGVSZWZfLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRlbXBsYXRlUmVmXyhfYXBwRWxlbWVudCwgX3ZpZXdGYWN0b3J5KSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLl9hcHBFbGVtZW50ID0gX2FwcEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX3ZpZXdGYWN0b3J5ID0gX3ZpZXdGYWN0b3J5O1xuICAgIH1cbiAgICBUZW1wbGF0ZVJlZl8ucHJvdG90eXBlLmNyZWF0ZUVtYmVkZGVkVmlldyA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcy5fdmlld0ZhY3RvcnkodGhpcy5fYXBwRWxlbWVudC5wYXJlbnRWaWV3LnZpZXdVdGlscywgdGhpcy5fYXBwRWxlbWVudC5wYXJlbnRJbmplY3RvciwgdGhpcy5fYXBwRWxlbWVudCk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhjb250ZXh0KSkge1xuICAgICAgICAgICAgY29udGV4dCA9IEVNUFRZX0NPTlRFWFQ7XG4gICAgICAgIH1cbiAgICAgICAgdmlldy5jcmVhdGUoY29udGV4dCwgbnVsbCwgbnVsbCk7XG4gICAgICAgIHJldHVybiB2aWV3LnJlZjtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZW1wbGF0ZVJlZl8ucHJvdG90eXBlLCBcImVsZW1lbnRSZWZcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2FwcEVsZW1lbnQuZWxlbWVudFJlZjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFRlbXBsYXRlUmVmXztcbn0oVGVtcGxhdGVSZWYpKTtcbmV4cG9ydHMuVGVtcGxhdGVSZWZfID0gVGVtcGxhdGVSZWZfO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVtcGxhdGVfcmVmLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9jb2xsZWN0aW9uJyk7XG52YXIgZWxlbWVudF8xID0gcmVxdWlyZSgnLi9lbGVtZW50Jyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgYXN5bmNfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvYXN5bmMnKTtcbnZhciB2aWV3X3JlZl8xID0gcmVxdWlyZSgnLi92aWV3X3JlZicpO1xudmFyIHZpZXdfdHlwZV8xID0gcmVxdWlyZSgnLi92aWV3X3R5cGUnKTtcbnZhciB2aWV3X3V0aWxzXzEgPSByZXF1aXJlKCcuL3ZpZXdfdXRpbHMnKTtcbnZhciBjaGFuZ2VfZGV0ZWN0aW9uXzEgPSByZXF1aXJlKCcuLi9jaGFuZ2VfZGV0ZWN0aW9uL2NoYW5nZV9kZXRlY3Rpb24nKTtcbnZhciBwcm9maWxlXzEgPSByZXF1aXJlKCcuLi9wcm9maWxlL3Byb2ZpbGUnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuL2V4Y2VwdGlvbnMnKTtcbnZhciBkZWJ1Z19jb250ZXh0XzEgPSByZXF1aXJlKCcuL2RlYnVnX2NvbnRleHQnKTtcbnZhciBlbGVtZW50X2luamVjdG9yXzEgPSByZXF1aXJlKCcuL2VsZW1lbnRfaW5qZWN0b3InKTtcbnZhciBfc2NvcGVfY2hlY2sgPSBwcm9maWxlXzEud3RmQ3JlYXRlU2NvcGUoXCJBcHBWaWV3I2NoZWNrKGFzY2lpIGlkKVwiKTtcbi8qKlxuICogQ29zdCBvZiBtYWtpbmcgb2JqZWN0czogaHR0cDovL2pzcGVyZi5jb20vaW5zdGFudGlhdGUtc2l6ZS1vZi1vYmplY3RcbiAqXG4gKi9cbnZhciBBcHBWaWV3ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBcHBWaWV3KGNsYXp6LCBjb21wb25lbnRUeXBlLCB0eXBlLCB2aWV3VXRpbHMsIHBhcmVudEluamVjdG9yLCBkZWNsYXJhdGlvbkFwcEVsZW1lbnQsIGNkTW9kZSkge1xuICAgICAgICB0aGlzLmNsYXp6ID0gY2xheno7XG4gICAgICAgIHRoaXMuY29tcG9uZW50VHlwZSA9IGNvbXBvbmVudFR5cGU7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMudmlld1V0aWxzID0gdmlld1V0aWxzO1xuICAgICAgICB0aGlzLnBhcmVudEluamVjdG9yID0gcGFyZW50SW5qZWN0b3I7XG4gICAgICAgIHRoaXMuZGVjbGFyYXRpb25BcHBFbGVtZW50ID0gZGVjbGFyYXRpb25BcHBFbGVtZW50O1xuICAgICAgICB0aGlzLmNkTW9kZSA9IGNkTW9kZTtcbiAgICAgICAgdGhpcy5jb250ZW50Q2hpbGRyZW4gPSBbXTtcbiAgICAgICAgdGhpcy52aWV3Q2hpbGRyZW4gPSBbXTtcbiAgICAgICAgdGhpcy52aWV3Q29udGFpbmVyRWxlbWVudCA9IG51bGw7XG4gICAgICAgIC8vIFRoZSBuYW1lcyBvZiB0aGUgYmVsb3cgZmllbGRzIG11c3QgYmUga2VwdCBpbiBzeW5jIHdpdGggY29kZWdlbl9uYW1lX3V0aWwudHMgb3JcbiAgICAgICAgLy8gY2hhbmdlIGRldGVjdGlvbiB3aWxsIGZhaWwuXG4gICAgICAgIHRoaXMuY2RTdGF0ZSA9IGNoYW5nZV9kZXRlY3Rpb25fMS5DaGFuZ2VEZXRlY3RvclN0YXRlLk5ldmVyQ2hlY2tlZDtcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZWYgPSBuZXcgdmlld19yZWZfMS5WaWV3UmVmXyh0aGlzKTtcbiAgICAgICAgaWYgKHR5cGUgPT09IHZpZXdfdHlwZV8xLlZpZXdUeXBlLkNPTVBPTkVOVCB8fCB0eXBlID09PSB2aWV3X3R5cGVfMS5WaWV3VHlwZS5IT1NUKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyID0gdmlld1V0aWxzLnJlbmRlckNvbXBvbmVudChjb21wb25lbnRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIgPSBkZWNsYXJhdGlvbkFwcEVsZW1lbnQucGFyZW50Vmlldy5yZW5kZXJlcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBBcHBWaWV3LnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoY29udGV4dCwgZ2l2ZW5Qcm9qZWN0YWJsZU5vZGVzLCByb290U2VsZWN0b3JPck5vZGUpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdmFyIHByb2plY3RhYmxlTm9kZXM7XG4gICAgICAgIHN3aXRjaCAodGhpcy50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIHZpZXdfdHlwZV8xLlZpZXdUeXBlLkNPTVBPTkVOVDpcbiAgICAgICAgICAgICAgICBwcm9qZWN0YWJsZU5vZGVzID0gdmlld191dGlsc18xLmVuc3VyZVNsb3RDb3VudChnaXZlblByb2plY3RhYmxlTm9kZXMsIHRoaXMuY29tcG9uZW50VHlwZS5zbG90Q291bnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB2aWV3X3R5cGVfMS5WaWV3VHlwZS5FTUJFRERFRDpcbiAgICAgICAgICAgICAgICBwcm9qZWN0YWJsZU5vZGVzID0gdGhpcy5kZWNsYXJhdGlvbkFwcEVsZW1lbnQucGFyZW50Vmlldy5wcm9qZWN0YWJsZU5vZGVzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB2aWV3X3R5cGVfMS5WaWV3VHlwZS5IT1NUOlxuICAgICAgICAgICAgICAgIC8vIE5vdGU6IERvbid0IGVuc3VyZSB0aGUgc2xvdCBjb3VudCBmb3IgdGhlIHByb2plY3RhYmxlTm9kZXMgYXMgd2Ugc3RvcmVcbiAgICAgICAgICAgICAgICAvLyB0aGVtIG9ubHkgZm9yIHRoZSBjb250YWluZWQgY29tcG9uZW50IHZpZXcgKHdoaWNoIHdpbGwgbGF0ZXIgY2hlY2sgdGhlIHNsb3QgY291bnQuLi4pXG4gICAgICAgICAgICAgICAgcHJvamVjdGFibGVOb2RlcyA9IGdpdmVuUHJvamVjdGFibGVOb2RlcztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9oYXNFeHRlcm5hbEhvc3RFbGVtZW50ID0gbGFuZ18xLmlzUHJlc2VudChyb290U2VsZWN0b3JPck5vZGUpO1xuICAgICAgICB0aGlzLnByb2plY3RhYmxlTm9kZXMgPSBwcm9qZWN0YWJsZU5vZGVzO1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVJbnRlcm5hbChyb290U2VsZWN0b3JPck5vZGUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT3ZlcndyaXR0ZW4gYnkgaW1wbGVtZW50YXRpb25zLlxuICAgICAqIFJldHVybnMgdGhlIEFwcEVsZW1lbnQgZm9yIHRoZSBob3N0IGVsZW1lbnQgZm9yIFZpZXdUeXBlLkhPU1QuXG4gICAgICovXG4gICAgQXBwVmlldy5wcm90b3R5cGUuY3JlYXRlSW50ZXJuYWwgPSBmdW5jdGlvbiAocm9vdFNlbGVjdG9yT3JOb2RlKSB7IHJldHVybiBudWxsOyB9O1xuICAgIEFwcFZpZXcucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAocm9vdE5vZGVzT3JBcHBFbGVtZW50cywgYWxsTm9kZXMsIGRpc3Bvc2FibGVzLCBzdWJzY3JpcHRpb25zKSB7XG4gICAgICAgIHRoaXMucm9vdE5vZGVzT3JBcHBFbGVtZW50cyA9IHJvb3ROb2Rlc09yQXBwRWxlbWVudHM7XG4gICAgICAgIHRoaXMuYWxsTm9kZXMgPSBhbGxOb2RlcztcbiAgICAgICAgdGhpcy5kaXNwb3NhYmxlcyA9IGRpc3Bvc2FibGVzO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBzdWJzY3JpcHRpb25zO1xuICAgICAgICBpZiAodGhpcy50eXBlID09PSB2aWV3X3R5cGVfMS5WaWV3VHlwZS5DT01QT05FTlQpIHtcbiAgICAgICAgICAgIC8vIE5vdGU6IHRoZSByZW5kZXIgbm9kZXMgaGF2ZSBiZWVuIGF0dGFjaGVkIHRvIHRoZWlyIGhvc3QgZWxlbWVudFxuICAgICAgICAgICAgLy8gaW4gdGhlIFZpZXdGYWN0b3J5IGFscmVhZHkuXG4gICAgICAgICAgICB0aGlzLmRlY2xhcmF0aW9uQXBwRWxlbWVudC5wYXJlbnRWaWV3LnZpZXdDaGlsZHJlbi5wdXNoKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eVBhcmVudFF1ZXJpZXNJbnRlcm5hbCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBcHBWaWV3LnByb3RvdHlwZS5zZWxlY3RPckNyZWF0ZUhvc3RFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnROYW1lLCByb290U2VsZWN0b3JPck5vZGUsIGRlYnVnSW5mbykge1xuICAgICAgICB2YXIgaG9zdEVsZW1lbnQ7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHJvb3RTZWxlY3Rvck9yTm9kZSkpIHtcbiAgICAgICAgICAgIGhvc3RFbGVtZW50ID0gdGhpcy5yZW5kZXJlci5zZWxlY3RSb290RWxlbWVudChyb290U2VsZWN0b3JPck5vZGUsIGRlYnVnSW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBob3N0RWxlbWVudCA9IHRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudChudWxsLCBlbGVtZW50TmFtZSwgZGVidWdJbmZvKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaG9zdEVsZW1lbnQ7XG4gICAgfTtcbiAgICBBcHBWaWV3LnByb3RvdHlwZS5pbmplY3RvckdldCA9IGZ1bmN0aW9uICh0b2tlbiwgbm9kZUluZGV4LCBub3RGb3VuZFJlc3VsdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmplY3RvckdldEludGVybmFsKHRva2VuLCBub2RlSW5kZXgsIG5vdEZvdW5kUmVzdWx0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE92ZXJ3cml0dGVuIGJ5IGltcGxlbWVudGF0aW9uc1xuICAgICAqL1xuICAgIEFwcFZpZXcucHJvdG90eXBlLmluamVjdG9yR2V0SW50ZXJuYWwgPSBmdW5jdGlvbiAodG9rZW4sIG5vZGVJbmRleCwgbm90Rm91bmRSZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIG5vdEZvdW5kUmVzdWx0O1xuICAgIH07XG4gICAgQXBwVmlldy5wcm90b3R5cGUuaW5qZWN0b3IgPSBmdW5jdGlvbiAobm9kZUluZGV4KSB7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KG5vZGVJbmRleCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgZWxlbWVudF9pbmplY3Rvcl8xLkVsZW1lbnRJbmplY3Rvcih0aGlzLCBub2RlSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50SW5qZWN0b3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFwcFZpZXcucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYXNFeHRlcm5hbEhvc3RFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmRldGFjaFZpZXcodGhpcy5mbGF0Um9vdE5vZGVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsYW5nXzEuaXNQcmVzZW50KHRoaXMudmlld0NvbnRhaW5lckVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb250YWluZXJFbGVtZW50LmRldGFjaFZpZXcodGhpcy52aWV3Q29udGFpbmVyRWxlbWVudC5uZXN0ZWRWaWV3cy5pbmRleE9mKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kZXN0cm95UmVjdXJzZSgpO1xuICAgIH07XG4gICAgQXBwVmlldy5wcm90b3R5cGUuX2Rlc3Ryb3lSZWN1cnNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLmNvbnRlbnRDaGlsZHJlbjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2hpbGRyZW5baV0uX2Rlc3Ryb3lSZWN1cnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGRyZW4gPSB0aGlzLnZpZXdDaGlsZHJlbjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2hpbGRyZW5baV0uX2Rlc3Ryb3lSZWN1cnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0cm95TG9jYWwoKTtcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH07XG4gICAgQXBwVmlldy5wcm90b3R5cGUuZGVzdHJveUxvY2FsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaG9zdEVsZW1lbnQgPSB0aGlzLnR5cGUgPT09IHZpZXdfdHlwZV8xLlZpZXdUeXBlLkNPTVBPTkVOVCA/IHRoaXMuZGVjbGFyYXRpb25BcHBFbGVtZW50Lm5hdGl2ZUVsZW1lbnQgOiBudWxsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZGlzcG9zYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zYWJsZXNbaV0oKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXN5bmNfMS5PYnNlcnZhYmxlV3JhcHBlci5kaXNwb3NlKHRoaXMuc3Vic2NyaXB0aW9uc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0cm95SW50ZXJuYWwoKTtcbiAgICAgICAgaWYgKHRoaXMuX2hhc0V4dGVybmFsSG9zdEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZGV0YWNoVmlldyh0aGlzLmZsYXRSb290Tm9kZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGhpcy52aWV3Q29udGFpbmVyRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRoaXMudmlld0NvbnRhaW5lckVsZW1lbnQuZGV0YWNoVmlldyh0aGlzLnZpZXdDb250YWluZXJFbGVtZW50Lm5lc3RlZFZpZXdzLmluZGV4T2YodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eVBhcmVudFF1ZXJpZXNJbnRlcm5hbCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZGVzdHJveVZpZXcoaG9zdEVsZW1lbnQsIHRoaXMuYWxsTm9kZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT3ZlcndyaXR0ZW4gYnkgaW1wbGVtZW50YXRpb25zXG4gICAgICovXG4gICAgQXBwVmlldy5wcm90b3R5cGUuZGVzdHJveUludGVybmFsID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBWaWV3LnByb3RvdHlwZSwgXCJjaGFuZ2VEZXRlY3RvclJlZlwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5yZWY7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBWaWV3LnByb3RvdHlwZSwgXCJwYXJlbnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHRoaXMuZGVjbGFyYXRpb25BcHBFbGVtZW50KSA/IHRoaXMuZGVjbGFyYXRpb25BcHBFbGVtZW50LnBhcmVudFZpZXcgOiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwVmlldy5wcm90b3R5cGUsIFwiZmxhdFJvb3ROb2Rlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdmlld191dGlsc18xLmZsYXR0ZW5OZXN0ZWRWaWV3UmVuZGVyTm9kZXModGhpcy5yb290Tm9kZXNPckFwcEVsZW1lbnRzKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcFZpZXcucHJvdG90eXBlLCBcImxhc3RSb290Tm9kZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGxhc3ROb2RlID0gdGhpcy5yb290Tm9kZXNPckFwcEVsZW1lbnRzLmxlbmd0aCA+IDAgP1xuICAgICAgICAgICAgICAgIHRoaXMucm9vdE5vZGVzT3JBcHBFbGVtZW50c1t0aGlzLnJvb3ROb2Rlc09yQXBwRWxlbWVudHMubGVuZ3RoIC0gMV0gOlxuICAgICAgICAgICAgICAgIG51bGw7XG4gICAgICAgICAgICByZXR1cm4gX2ZpbmRMYXN0UmVuZGVyTm9kZShsYXN0Tm9kZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIE92ZXJ3cml0dGVuIGJ5IGltcGxlbWVudGF0aW9uc1xuICAgICAqL1xuICAgIEFwcFZpZXcucHJvdG90eXBlLmRpcnR5UGFyZW50UXVlcmllc0ludGVybmFsID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIEFwcFZpZXcucHJvdG90eXBlLmRldGVjdENoYW5nZXMgPSBmdW5jdGlvbiAodGhyb3dPbkNoYW5nZSkge1xuICAgICAgICB2YXIgcyA9IF9zY29wZV9jaGVjayh0aGlzLmNsYXp6KTtcbiAgICAgICAgaWYgKHRoaXMuY2RNb2RlID09PSBjaGFuZ2VfZGV0ZWN0aW9uXzEuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuRGV0YWNoZWQgfHxcbiAgICAgICAgICAgIHRoaXMuY2RNb2RlID09PSBjaGFuZ2VfZGV0ZWN0aW9uXzEuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuQ2hlY2tlZCB8fFxuICAgICAgICAgICAgdGhpcy5jZFN0YXRlID09PSBjaGFuZ2VfZGV0ZWN0aW9uXzEuQ2hhbmdlRGV0ZWN0b3JTdGF0ZS5FcnJvcmVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRoaXMudGhyb3dEZXN0cm95ZWRFcnJvcignZGV0ZWN0Q2hhbmdlcycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGV0ZWN0Q2hhbmdlc0ludGVybmFsKHRocm93T25DaGFuZ2UpO1xuICAgICAgICBpZiAodGhpcy5jZE1vZGUgPT09IGNoYW5nZV9kZXRlY3Rpb25fMS5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5DaGVja09uY2UpXG4gICAgICAgICAgICB0aGlzLmNkTW9kZSA9IGNoYW5nZV9kZXRlY3Rpb25fMS5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5DaGVja2VkO1xuICAgICAgICB0aGlzLmNkU3RhdGUgPSBjaGFuZ2VfZGV0ZWN0aW9uXzEuQ2hhbmdlRGV0ZWN0b3JTdGF0ZS5DaGVja2VkQmVmb3JlO1xuICAgICAgICBwcm9maWxlXzEud3RmTGVhdmUocyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPdmVyd3JpdHRlbiBieSBpbXBsZW1lbnRhdGlvbnNcbiAgICAgKi9cbiAgICBBcHBWaWV3LnByb3RvdHlwZS5kZXRlY3RDaGFuZ2VzSW50ZXJuYWwgPSBmdW5jdGlvbiAodGhyb3dPbkNoYW5nZSkge1xuICAgICAgICB0aGlzLmRldGVjdENvbnRlbnRDaGlsZHJlbkNoYW5nZXModGhyb3dPbkNoYW5nZSk7XG4gICAgICAgIHRoaXMuZGV0ZWN0Vmlld0NoaWxkcmVuQ2hhbmdlcyh0aHJvd09uQ2hhbmdlKTtcbiAgICB9O1xuICAgIEFwcFZpZXcucHJvdG90eXBlLmRldGVjdENvbnRlbnRDaGlsZHJlbkNoYW5nZXMgPSBmdW5jdGlvbiAodGhyb3dPbkNoYW5nZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29udGVudENoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRDaGlsZHJlbltpXS5kZXRlY3RDaGFuZ2VzKHRocm93T25DaGFuZ2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBcHBWaWV3LnByb3RvdHlwZS5kZXRlY3RWaWV3Q2hpbGRyZW5DaGFuZ2VzID0gZnVuY3Rpb24gKHRocm93T25DaGFuZ2UpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnZpZXdDaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGhpcy52aWV3Q2hpbGRyZW5baV0uZGV0ZWN0Q2hhbmdlcyh0aHJvd09uQ2hhbmdlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXBwVmlldy5wcm90b3R5cGUuYWRkVG9Db250ZW50Q2hpbGRyZW4gPSBmdW5jdGlvbiAocmVuZGVyQXBwRWxlbWVudCkge1xuICAgICAgICByZW5kZXJBcHBFbGVtZW50LnBhcmVudFZpZXcuY29udGVudENoaWxkcmVuLnB1c2godGhpcyk7XG4gICAgICAgIHRoaXMudmlld0NvbnRhaW5lckVsZW1lbnQgPSByZW5kZXJBcHBFbGVtZW50O1xuICAgICAgICB0aGlzLmRpcnR5UGFyZW50UXVlcmllc0ludGVybmFsKCk7XG4gICAgfTtcbiAgICBBcHBWaWV3LnByb3RvdHlwZS5yZW1vdmVGcm9tQ29udGVudENoaWxkcmVuID0gZnVuY3Rpb24gKHJlbmRlckFwcEVsZW1lbnQpIHtcbiAgICAgICAgY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLnJlbW92ZShyZW5kZXJBcHBFbGVtZW50LnBhcmVudFZpZXcuY29udGVudENoaWxkcmVuLCB0aGlzKTtcbiAgICAgICAgdGhpcy5kaXJ0eVBhcmVudFF1ZXJpZXNJbnRlcm5hbCgpO1xuICAgICAgICB0aGlzLnZpZXdDb250YWluZXJFbGVtZW50ID0gbnVsbDtcbiAgICB9O1xuICAgIEFwcFZpZXcucHJvdG90eXBlLm1hcmtBc0NoZWNrT25jZSA9IGZ1bmN0aW9uICgpIHsgdGhpcy5jZE1vZGUgPSBjaGFuZ2VfZGV0ZWN0aW9uXzEuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuQ2hlY2tPbmNlOyB9O1xuICAgIEFwcFZpZXcucHJvdG90eXBlLm1hcmtQYXRoVG9Sb290QXNDaGVja09uY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjID0gdGhpcztcbiAgICAgICAgd2hpbGUgKGxhbmdfMS5pc1ByZXNlbnQoYykgJiYgYy5jZE1vZGUgIT09IGNoYW5nZV9kZXRlY3Rpb25fMS5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5EZXRhY2hlZCkge1xuICAgICAgICAgICAgaWYgKGMuY2RNb2RlID09PSBjaGFuZ2VfZGV0ZWN0aW9uXzEuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuQ2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIGMuY2RNb2RlID0gY2hhbmdlX2RldGVjdGlvbl8xLkNoYW5nZURldGVjdGlvblN0cmF0ZWd5LkNoZWNrT25jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwYXJlbnRFbCA9IGMudHlwZSA9PT0gdmlld190eXBlXzEuVmlld1R5cGUuQ09NUE9ORU5UID8gYy5kZWNsYXJhdGlvbkFwcEVsZW1lbnQgOiBjLnZpZXdDb250YWluZXJFbGVtZW50O1xuICAgICAgICAgICAgYyA9IGxhbmdfMS5pc1ByZXNlbnQocGFyZW50RWwpID8gcGFyZW50RWwucGFyZW50VmlldyA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFwcFZpZXcucHJvdG90eXBlLmV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uIChjYikgeyByZXR1cm4gY2I7IH07XG4gICAgQXBwVmlldy5wcm90b3R5cGUudGhyb3dEZXN0cm95ZWRFcnJvciA9IGZ1bmN0aW9uIChkZXRhaWxzKSB7IHRocm93IG5ldyBleGNlcHRpb25zXzEuVmlld0Rlc3Ryb3llZEV4Y2VwdGlvbihkZXRhaWxzKTsgfTtcbiAgICByZXR1cm4gQXBwVmlldztcbn0oKSk7XG5leHBvcnRzLkFwcFZpZXcgPSBBcHBWaWV3O1xudmFyIERlYnVnQXBwVmlldyA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERlYnVnQXBwVmlldywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEZWJ1Z0FwcFZpZXcoY2xhenosIGNvbXBvbmVudFR5cGUsIHR5cGUsIHZpZXdVdGlscywgcGFyZW50SW5qZWN0b3IsIGRlY2xhcmF0aW9uQXBwRWxlbWVudCwgY2RNb2RlLCBzdGF0aWNOb2RlRGVidWdJbmZvcykge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBjbGF6eiwgY29tcG9uZW50VHlwZSwgdHlwZSwgdmlld1V0aWxzLCBwYXJlbnRJbmplY3RvciwgZGVjbGFyYXRpb25BcHBFbGVtZW50LCBjZE1vZGUpO1xuICAgICAgICB0aGlzLnN0YXRpY05vZGVEZWJ1Z0luZm9zID0gc3RhdGljTm9kZURlYnVnSW5mb3M7XG4gICAgICAgIHRoaXMuX2N1cnJlbnREZWJ1Z0NvbnRleHQgPSBudWxsO1xuICAgIH1cbiAgICBEZWJ1Z0FwcFZpZXcucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChjb250ZXh0LCBnaXZlblByb2plY3RhYmxlTm9kZXMsIHJvb3RTZWxlY3Rvck9yTm9kZSkge1xuICAgICAgICB0aGlzLl9yZXNldERlYnVnKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5jcmVhdGUuY2FsbCh0aGlzLCBjb250ZXh0LCBnaXZlblByb2plY3RhYmxlTm9kZXMsIHJvb3RTZWxlY3Rvck9yTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JldGhyb3dXaXRoQ29udGV4dChlLCBlLnN0YWNrKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlYnVnQXBwVmlldy5wcm90b3R5cGUuaW5qZWN0b3JHZXQgPSBmdW5jdGlvbiAodG9rZW4sIG5vZGVJbmRleCwgbm90Rm91bmRSZXN1bHQpIHtcbiAgICAgICAgdGhpcy5fcmVzZXREZWJ1ZygpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuaW5qZWN0b3JHZXQuY2FsbCh0aGlzLCB0b2tlbiwgbm9kZUluZGV4LCBub3RGb3VuZFJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JldGhyb3dXaXRoQ29udGV4dChlLCBlLnN0YWNrKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlYnVnQXBwVmlldy5wcm90b3R5cGUuZGVzdHJveUxvY2FsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9yZXNldERlYnVnKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3lMb2NhbC5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXRocm93V2l0aENvbnRleHQoZSwgZS5zdGFjayk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWJ1Z0FwcFZpZXcucHJvdG90eXBlLmRldGVjdENoYW5nZXMgPSBmdW5jdGlvbiAodGhyb3dPbkNoYW5nZSkge1xuICAgICAgICB0aGlzLl9yZXNldERlYnVnKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRldGVjdENoYW5nZXMuY2FsbCh0aGlzLCB0aHJvd09uQ2hhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5fcmV0aHJvd1dpdGhDb250ZXh0KGUsIGUuc3RhY2spO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVidWdBcHBWaWV3LnByb3RvdHlwZS5fcmVzZXREZWJ1ZyA9IGZ1bmN0aW9uICgpIHsgdGhpcy5fY3VycmVudERlYnVnQ29udGV4dCA9IG51bGw7IH07XG4gICAgRGVidWdBcHBWaWV3LnByb3RvdHlwZS5kZWJ1ZyA9IGZ1bmN0aW9uIChub2RlSW5kZXgsIHJvd051bSwgY29sTnVtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50RGVidWdDb250ZXh0ID0gbmV3IGRlYnVnX2NvbnRleHRfMS5EZWJ1Z0NvbnRleHQodGhpcywgbm9kZUluZGV4LCByb3dOdW0sIGNvbE51bSk7XG4gICAgfTtcbiAgICBEZWJ1Z0FwcFZpZXcucHJvdG90eXBlLl9yZXRocm93V2l0aENvbnRleHQgPSBmdW5jdGlvbiAoZSwgc3RhY2spIHtcbiAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIGV4Y2VwdGlvbnNfMS5WaWV3V3JhcHBlZEV4Y2VwdGlvbikpIHtcbiAgICAgICAgICAgIGlmICghKGUgaW5zdGFuY2VvZiBleGNlcHRpb25zXzEuRXhwcmVzc2lvbkNoYW5nZWRBZnRlckl0SGFzQmVlbkNoZWNrZWRFeGNlcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jZFN0YXRlID0gY2hhbmdlX2RldGVjdGlvbl8xLkNoYW5nZURldGVjdG9yU3RhdGUuRXJyb3JlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHRoaXMuX2N1cnJlbnREZWJ1Z0NvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5WaWV3V3JhcHBlZEV4Y2VwdGlvbihlLCBzdGFjaywgdGhpcy5fY3VycmVudERlYnVnQ29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlYnVnQXBwVmlldy5wcm90b3R5cGUuZXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzdXBlckhhbmRsZXIgPSBfc3VwZXIucHJvdG90eXBlLmV2ZW50SGFuZGxlci5jYWxsKHRoaXMsIGNiKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgX3RoaXMuX3Jlc2V0RGVidWcoKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1cGVySGFuZGxlcihldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9yZXRocm93V2l0aENvbnRleHQoZSwgZS5zdGFjayk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBEZWJ1Z0FwcFZpZXc7XG59KEFwcFZpZXcpKTtcbmV4cG9ydHMuRGVidWdBcHBWaWV3ID0gRGVidWdBcHBWaWV3O1xuZnVuY3Rpb24gX2ZpbmRMYXN0UmVuZGVyTm9kZShub2RlKSB7XG4gICAgdmFyIGxhc3ROb2RlO1xuICAgIGlmIChub2RlIGluc3RhbmNlb2YgZWxlbWVudF8xLkFwcEVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGFwcEVsID0gbm9kZTtcbiAgICAgICAgbGFzdE5vZGUgPSBhcHBFbC5uYXRpdmVFbGVtZW50O1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChhcHBFbC5uZXN0ZWRWaWV3cykpIHtcbiAgICAgICAgICAgIC8vIE5vdGU6IFZpZXdzIG1pZ2h0IGhhdmUgbm8gcm9vdCBub2RlcyBhdCBhbGwhXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gYXBwRWwubmVzdGVkVmlld3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICB2YXIgbmVzdGVkVmlldyA9IGFwcEVsLm5lc3RlZFZpZXdzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChuZXN0ZWRWaWV3LnJvb3ROb2Rlc09yQXBwRWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0Tm9kZSA9IF9maW5kTGFzdFJlbmRlck5vZGUobmVzdGVkVmlldy5yb290Tm9kZXNPckFwcEVsZW1lbnRzW25lc3RlZFZpZXcucm9vdE5vZGVzT3JBcHBFbGVtZW50cy5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsYXN0Tm9kZSA9IG5vZGU7XG4gICAgfVxuICAgIHJldHVybiBsYXN0Tm9kZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZXcuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9jb2xsZWN0aW9uJyk7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgcHJvZmlsZV8xID0gcmVxdWlyZSgnLi4vcHJvZmlsZS9wcm9maWxlJyk7XG4vKipcbiAqIFJlcHJlc2VudHMgYSBjb250YWluZXIgd2hlcmUgb25lIG9yIG1vcmUgVmlld3MgY2FuIGJlIGF0dGFjaGVkLlxuICpcbiAqIFRoZSBjb250YWluZXIgY2FuIGNvbnRhaW4gdHdvIGtpbmRzIG9mIFZpZXdzLiBIb3N0IFZpZXdzLCBjcmVhdGVkIGJ5IGluc3RhbnRpYXRpbmcgYVxuICoge0BsaW5rIENvbXBvbmVudH0gdmlhIHtAbGluayAjY3JlYXRlQ29tcG9uZW50fSwgYW5kIEVtYmVkZGVkIFZpZXdzLCBjcmVhdGVkIGJ5IGluc3RhbnRpYXRpbmcgYW5cbiAqIHtAbGluayBUZW1wbGF0ZVJlZiBFbWJlZGRlZCBUZW1wbGF0ZX0gdmlhIHtAbGluayAjY3JlYXRlRW1iZWRkZWRWaWV3fS5cbiAqXG4gKiBUaGUgbG9jYXRpb24gb2YgdGhlIFZpZXcgQ29udGFpbmVyIHdpdGhpbiB0aGUgY29udGFpbmluZyBWaWV3IGlzIHNwZWNpZmllZCBieSB0aGUgQW5jaG9yXG4gKiBgZWxlbWVudGAuIEVhY2ggVmlldyBDb250YWluZXIgY2FuIGhhdmUgb25seSBvbmUgQW5jaG9yIEVsZW1lbnQgYW5kIGVhY2ggQW5jaG9yIEVsZW1lbnQgY2FuIG9ubHlcbiAqIGhhdmUgYSBzaW5nbGUgVmlldyBDb250YWluZXIuXG4gKlxuICogUm9vdCBlbGVtZW50cyBvZiBWaWV3cyBhdHRhY2hlZCB0byB0aGlzIGNvbnRhaW5lciBiZWNvbWUgc2libGluZ3Mgb2YgdGhlIEFuY2hvciBFbGVtZW50IGluXG4gKiB0aGUgUmVuZGVyZWQgVmlldy5cbiAqXG4gKiBUbyBhY2Nlc3MgYSBgVmlld0NvbnRhaW5lclJlZmAgb2YgYW4gRWxlbWVudCwgeW91IGNhbiBlaXRoZXIgcGxhY2UgYSB7QGxpbmsgRGlyZWN0aXZlfSBpbmplY3RlZFxuICogd2l0aCBgVmlld0NvbnRhaW5lclJlZmAgb24gdGhlIEVsZW1lbnQsIG9yIHlvdSBvYnRhaW4gaXQgdmlhIGEge0BsaW5rIFZpZXdDaGlsZH0gcXVlcnkuXG4gKi9cbnZhciBWaWV3Q29udGFpbmVyUmVmID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWaWV3Q29udGFpbmVyUmVmKCkge1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld0NvbnRhaW5lclJlZi5wcm90b3R5cGUsIFwiZWxlbWVudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbmNob3IgZWxlbWVudCB0aGF0IHNwZWNpZmllcyB0aGUgbG9jYXRpb24gb2YgdGhpcyBjb250YWluZXIgaW4gdGhlIGNvbnRhaW5pbmcgVmlldy5cbiAgICAgICAgICogPCEtLSBUT0RPOiByZW5hbWUgdG8gYW5jaG9yRWxlbWVudCAtLT5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhjZXB0aW9uc18xLnVuaW1wbGVtZW50ZWQoKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdDb250YWluZXJSZWYucHJvdG90eXBlLCBcImluamVjdG9yXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleGNlcHRpb25zXzEudW5pbXBsZW1lbnRlZCgpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld0NvbnRhaW5lclJlZi5wcm90b3R5cGUsIFwicGFyZW50SW5qZWN0b3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4Y2VwdGlvbnNfMS51bmltcGxlbWVudGVkKCk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3Q29udGFpbmVyUmVmLnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIFZpZXdzIGN1cnJlbnRseSBhdHRhY2hlZCB0byB0aGlzIGNvbnRhaW5lci5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhjZXB0aW9uc18xLnVuaW1wbGVtZW50ZWQoKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgO1xuICAgIHJldHVybiBWaWV3Q29udGFpbmVyUmVmO1xufSgpKTtcbmV4cG9ydHMuVmlld0NvbnRhaW5lclJlZiA9IFZpZXdDb250YWluZXJSZWY7XG52YXIgVmlld0NvbnRhaW5lclJlZl8gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZpZXdDb250YWluZXJSZWZfKF9lbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBfZWxlbWVudDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9jcmVhdGVDb21wb25lbnRJbkNvbnRhaW5lclNjb3BlID0gcHJvZmlsZV8xLnd0ZkNyZWF0ZVNjb3BlKCdWaWV3Q29udGFpbmVyUmVmI2NyZWF0ZUNvbXBvbmVudCgpJyk7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5faW5zZXJ0U2NvcGUgPSBwcm9maWxlXzEud3RmQ3JlYXRlU2NvcGUoJ1ZpZXdDb250YWluZXJSZWYjaW5zZXJ0KCknKTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9yZW1vdmVTY29wZSA9IHByb2ZpbGVfMS53dGZDcmVhdGVTY29wZSgnVmlld0NvbnRhaW5lclJlZiNyZW1vdmUoKScpO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX2RldGFjaFNjb3BlID0gcHJvZmlsZV8xLnd0ZkNyZWF0ZVNjb3BlKCdWaWV3Q29udGFpbmVyUmVmI2RldGFjaCgpJyk7XG4gICAgfVxuICAgIFZpZXdDb250YWluZXJSZWZfLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaW5kZXgpIHsgcmV0dXJuIHRoaXMuX2VsZW1lbnQubmVzdGVkVmlld3NbaW5kZXhdLnJlZjsgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld0NvbnRhaW5lclJlZl8ucHJvdG90eXBlLCBcImxlbmd0aFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHZpZXdzID0gdGhpcy5fZWxlbWVudC5uZXN0ZWRWaWV3cztcbiAgICAgICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHZpZXdzKSA/IHZpZXdzLmxlbmd0aCA6IDA7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3Q29udGFpbmVyUmVmXy5wcm90b3R5cGUsIFwiZWxlbWVudFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fZWxlbWVudC5lbGVtZW50UmVmOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld0NvbnRhaW5lclJlZl8ucHJvdG90eXBlLCBcImluamVjdG9yXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9lbGVtZW50LmluamVjdG9yOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld0NvbnRhaW5lclJlZl8ucHJvdG90eXBlLCBcInBhcmVudEluamVjdG9yXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9lbGVtZW50LnBhcmVudEluamVjdG9yOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvLyBUT0RPKHJhZG8pOiBwcm9maWxlIGFuZCBkZWNpZGUgd2hldGhlciBib3VuZHMgY2hlY2tzIHNob3VsZCBiZSBhZGRlZFxuICAgIC8vIHRvIHRoZSBtZXRob2RzIGJlbG93LlxuICAgIFZpZXdDb250YWluZXJSZWZfLnByb3RvdHlwZS5jcmVhdGVFbWJlZGRlZFZpZXcgPSBmdW5jdGlvbiAodGVtcGxhdGVSZWYsIGNvbnRleHQsIGluZGV4KSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IG51bGw7IH1cbiAgICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHsgaW5kZXggPSAtMTsgfVxuICAgICAgICB2YXIgdmlld1JlZiA9IHRlbXBsYXRlUmVmLmNyZWF0ZUVtYmVkZGVkVmlldyhjb250ZXh0KTtcbiAgICAgICAgdGhpcy5pbnNlcnQodmlld1JlZiwgaW5kZXgpO1xuICAgICAgICByZXR1cm4gdmlld1JlZjtcbiAgICB9O1xuICAgIFZpZXdDb250YWluZXJSZWZfLnByb3RvdHlwZS5jcmVhdGVDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50RmFjdG9yeSwgaW5kZXgsIGluamVjdG9yLCBwcm9qZWN0YWJsZU5vZGVzKSB7XG4gICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gLTE7IH1cbiAgICAgICAgaWYgKGluamVjdG9yID09PSB2b2lkIDApIHsgaW5qZWN0b3IgPSBudWxsOyB9XG4gICAgICAgIGlmIChwcm9qZWN0YWJsZU5vZGVzID09PSB2b2lkIDApIHsgcHJvamVjdGFibGVOb2RlcyA9IG51bGw7IH1cbiAgICAgICAgdmFyIHMgPSB0aGlzLl9jcmVhdGVDb21wb25lbnRJbkNvbnRhaW5lclNjb3BlKCk7XG4gICAgICAgIHZhciBjb250ZXh0SW5qZWN0b3IgPSBsYW5nXzEuaXNQcmVzZW50KGluamVjdG9yKSA/IGluamVjdG9yIDogdGhpcy5fZWxlbWVudC5wYXJlbnRJbmplY3RvcjtcbiAgICAgICAgdmFyIGNvbXBvbmVudFJlZiA9IGNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKGNvbnRleHRJbmplY3RvciwgcHJvamVjdGFibGVOb2Rlcyk7XG4gICAgICAgIHRoaXMuaW5zZXJ0KGNvbXBvbmVudFJlZi5ob3N0VmlldywgaW5kZXgpO1xuICAgICAgICByZXR1cm4gcHJvZmlsZV8xLnd0ZkxlYXZlKHMsIGNvbXBvbmVudFJlZik7XG4gICAgfTtcbiAgICAvLyBUT0RPKGkpOiByZWZhY3RvciBpbnNlcnQrcmVtb3ZlIGludG8gbW92ZVxuICAgIFZpZXdDb250YWluZXJSZWZfLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAodmlld1JlZiwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHsgaW5kZXggPSAtMTsgfVxuICAgICAgICB2YXIgcyA9IHRoaXMuX2luc2VydFNjb3BlKCk7XG4gICAgICAgIGlmIChpbmRleCA9PSAtMSlcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy5sZW5ndGg7XG4gICAgICAgIHZhciB2aWV3UmVmXyA9IHZpZXdSZWY7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuYXR0YWNoVmlldyh2aWV3UmVmXy5pbnRlcm5hbFZpZXcsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHByb2ZpbGVfMS53dGZMZWF2ZShzLCB2aWV3UmVmXyk7XG4gICAgfTtcbiAgICBWaWV3Q29udGFpbmVyUmVmXy5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uICh2aWV3UmVmKSB7XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuaW5kZXhPZih0aGlzLl9lbGVtZW50Lm5lc3RlZFZpZXdzLCB2aWV3UmVmLmludGVybmFsVmlldyk7XG4gICAgfTtcbiAgICAvLyBUT0RPKGkpOiByZW5hbWUgdG8gZGVzdHJveVxuICAgIFZpZXdDb250YWluZXJSZWZfLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHsgaW5kZXggPSAtMTsgfVxuICAgICAgICB2YXIgcyA9IHRoaXMuX3JlbW92ZVNjb3BlKCk7XG4gICAgICAgIGlmIChpbmRleCA9PSAtMSlcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy5sZW5ndGggLSAxO1xuICAgICAgICB2YXIgdmlldyA9IHRoaXMuX2VsZW1lbnQuZGV0YWNoVmlldyhpbmRleCk7XG4gICAgICAgIHZpZXcuZGVzdHJveSgpO1xuICAgICAgICAvLyB2aWV3IGlzIGludGVudGlvbmFsbHkgbm90IHJldHVybmVkIHRvIHRoZSBjbGllbnQuXG4gICAgICAgIHByb2ZpbGVfMS53dGZMZWF2ZShzKTtcbiAgICB9O1xuICAgIC8vIFRPRE8oaSk6IHJlZmFjdG9yIGluc2VydCtyZW1vdmUgaW50byBtb3ZlXG4gICAgVmlld0NvbnRhaW5lclJlZl8ucHJvdG90eXBlLmRldGFjaCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkgeyBpbmRleCA9IC0xOyB9XG4gICAgICAgIHZhciBzID0gdGhpcy5fZGV0YWNoU2NvcGUoKTtcbiAgICAgICAgaWYgKGluZGV4ID09IC0xKVxuICAgICAgICAgICAgaW5kZXggPSB0aGlzLmxlbmd0aCAtIDE7XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcy5fZWxlbWVudC5kZXRhY2hWaWV3KGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHByb2ZpbGVfMS53dGZMZWF2ZShzLCB2aWV3LnJlZik7XG4gICAgfTtcbiAgICBWaWV3Q29udGFpbmVyUmVmXy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFZpZXdDb250YWluZXJSZWZfO1xufSgpKTtcbmV4cG9ydHMuVmlld0NvbnRhaW5lclJlZl8gPSBWaWV3Q29udGFpbmVyUmVmXztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZXdfY29udGFpbmVyX3JlZi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvZXhjZXB0aW9ucycpO1xudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZSgnLi4vY2hhbmdlX2RldGVjdGlvbi9jb25zdGFudHMnKTtcbnZhciBWaWV3UmVmID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWaWV3UmVmKCkge1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld1JlZi5wcm90b3R5cGUsIFwiZGVzdHJveWVkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleGNlcHRpb25zXzEudW5pbXBsZW1lbnRlZCgpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gVmlld1JlZjtcbn0oKSk7XG5leHBvcnRzLlZpZXdSZWYgPSBWaWV3UmVmO1xuLyoqXG4gKiBSZXByZXNlbnRzIGFuIEFuZ3VsYXIgVmlldy5cbiAqXG4gKiA8IS0tIFRPRE86IG1vdmUgdGhlIG5leHQgdHdvIHBhcmFncmFwaHMgdG8gdGhlIGRldiBndWlkZSAtLT5cbiAqIEEgVmlldyBpcyBhIGZ1bmRhbWVudGFsIGJ1aWxkaW5nIGJsb2NrIG9mIHRoZSBhcHBsaWNhdGlvbiBVSS4gSXQgaXMgdGhlIHNtYWxsZXN0IGdyb3VwaW5nIG9mXG4gKiBFbGVtZW50cyB3aGljaCBhcmUgY3JlYXRlZCBhbmQgZGVzdHJveWVkIHRvZ2V0aGVyLlxuICpcbiAqIFByb3BlcnRpZXMgb2YgZWxlbWVudHMgaW4gYSBWaWV3IGNhbiBjaGFuZ2UsIGJ1dCB0aGUgc3RydWN0dXJlIChudW1iZXIgYW5kIG9yZGVyKSBvZiBlbGVtZW50cyBpblxuICogYSBWaWV3IGNhbm5vdC4gQ2hhbmdpbmcgdGhlIHN0cnVjdHVyZSBvZiBFbGVtZW50cyBjYW4gb25seSBiZSBkb25lIGJ5IGluc2VydGluZywgbW92aW5nIG9yXG4gKiByZW1vdmluZyBuZXN0ZWQgVmlld3MgdmlhIGEge0BsaW5rIFZpZXdDb250YWluZXJSZWZ9LiBFYWNoIFZpZXcgY2FuIGNvbnRhaW4gbWFueSBWaWV3IENvbnRhaW5lcnMuXG4gKiA8IS0tIC9UT0RPIC0tPlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogR2l2ZW4gdGhpcyB0ZW1wbGF0ZS4uLlxuICpcbiAqIGBgYFxuICogQ291bnQ6IHt7aXRlbXMubGVuZ3RofX1cbiAqIDx1bD5cbiAqICAgPGxpICpuZ0Zvcj1cImxldCAgaXRlbSBvZiBpdGVtc1wiPnt7aXRlbX19PC9saT5cbiAqIDwvdWw+XG4gKiBgYGBcbiAqXG4gKiAuLi4gd2UgaGF2ZSB0d28ge0BsaW5rIFRlbXBsYXRlUmVmfXM6XG4gKlxuICogT3V0ZXIge0BsaW5rIFRlbXBsYXRlUmVmfTpcbiAqIGBgYFxuICogQ291bnQ6IHt7aXRlbXMubGVuZ3RofX1cbiAqIDx1bD5cbiAqICAgPHRlbXBsYXRlIG5nRm9yIGxldC1pdGVtIFtuZ0Zvck9mXT1cIml0ZW1zXCI+PC90ZW1wbGF0ZT5cbiAqIDwvdWw+XG4gKiBgYGBcbiAqXG4gKiBJbm5lciB7QGxpbmsgVGVtcGxhdGVSZWZ9OlxuICogYGBgXG4gKiAgIDxsaT57e2l0ZW19fTwvbGk+XG4gKiBgYGBcbiAqXG4gKiBOb3RpY2UgdGhhdCB0aGUgb3JpZ2luYWwgdGVtcGxhdGUgaXMgYnJva2VuIGRvd24gaW50byB0d28gc2VwYXJhdGUge0BsaW5rIFRlbXBsYXRlUmVmfXMuXG4gKlxuICogVGhlIG91dGVyL2lubmVyIHtAbGluayBUZW1wbGF0ZVJlZn1zIGFyZSB0aGVuIGFzc2VtYmxlZCBpbnRvIHZpZXdzIGxpa2Ugc286XG4gKlxuICogYGBgXG4gKiA8IS0tIFZpZXdSZWY6IG91dGVyLTAgLS0+XG4gKiBDb3VudDogMlxuICogPHVsPlxuICogICA8dGVtcGxhdGUgdmlldy1jb250YWluZXItcmVmPjwvdGVtcGxhdGU+XG4gKiAgIDwhLS0gVmlld1JlZjogaW5uZXItMSAtLT48bGk+Zmlyc3Q8L2xpPjwhLS0gL1ZpZXdSZWY6IGlubmVyLTEgLS0+XG4gKiAgIDwhLS0gVmlld1JlZjogaW5uZXItMiAtLT48bGk+c2Vjb25kPC9saT48IS0tIC9WaWV3UmVmOiBpbm5lci0yIC0tPlxuICogPC91bD5cbiAqIDwhLS0gL1ZpZXdSZWY6IG91dGVyLTAgLS0+XG4gKiBgYGBcbiAqL1xudmFyIEVtYmVkZGVkVmlld1JlZiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEVtYmVkZGVkVmlld1JlZiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBFbWJlZGRlZFZpZXdSZWYoKSB7XG4gICAgICAgIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRW1iZWRkZWRWaWV3UmVmLnByb3RvdHlwZSwgXCJjb250ZXh0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleGNlcHRpb25zXzEudW5pbXBsZW1lbnRlZCgpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRW1iZWRkZWRWaWV3UmVmLnByb3RvdHlwZSwgXCJyb290Tm9kZXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4Y2VwdGlvbnNfMS51bmltcGxlbWVudGVkKCk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIDtcbiAgICByZXR1cm4gRW1iZWRkZWRWaWV3UmVmO1xufShWaWV3UmVmKSk7XG5leHBvcnRzLkVtYmVkZGVkVmlld1JlZiA9IEVtYmVkZGVkVmlld1JlZjtcbnZhciBWaWV3UmVmXyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlld1JlZl8oX3ZpZXcpIHtcbiAgICAgICAgdGhpcy5fdmlldyA9IF92aWV3O1xuICAgICAgICB0aGlzLl92aWV3ID0gX3ZpZXc7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3UmVmXy5wcm90b3R5cGUsIFwiaW50ZXJuYWxWaWV3XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl92aWV3OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld1JlZl8ucHJvdG90eXBlLCBcInJvb3ROb2Rlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fdmlldy5mbGF0Um9vdE5vZGVzOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld1JlZl8ucHJvdG90eXBlLCBcImNvbnRleHRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3ZpZXcuY29udGV4dDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdSZWZfLnByb3RvdHlwZSwgXCJkZXN0cm95ZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3ZpZXcuZGVzdHJveWVkOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBWaWV3UmVmXy5wcm90b3R5cGUubWFya0ZvckNoZWNrID0gZnVuY3Rpb24gKCkgeyB0aGlzLl92aWV3Lm1hcmtQYXRoVG9Sb290QXNDaGVja09uY2UoKTsgfTtcbiAgICBWaWV3UmVmXy5wcm90b3R5cGUuZGV0YWNoID0gZnVuY3Rpb24gKCkgeyB0aGlzLl92aWV3LmNkTW9kZSA9IGNvbnN0YW50c18xLkNoYW5nZURldGVjdGlvblN0cmF0ZWd5LkRldGFjaGVkOyB9O1xuICAgIFZpZXdSZWZfLnByb3RvdHlwZS5kZXRlY3RDaGFuZ2VzID0gZnVuY3Rpb24gKCkgeyB0aGlzLl92aWV3LmRldGVjdENoYW5nZXMoZmFsc2UpOyB9O1xuICAgIFZpZXdSZWZfLnByb3RvdHlwZS5jaGVja05vQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHsgdGhpcy5fdmlldy5kZXRlY3RDaGFuZ2VzKHRydWUpOyB9O1xuICAgIFZpZXdSZWZfLnByb3RvdHlwZS5yZWF0dGFjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdmlldy5jZE1vZGUgPSBjb25zdGFudHNfMS5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5DaGVja0Fsd2F5cztcbiAgICAgICAgdGhpcy5tYXJrRm9yQ2hlY2soKTtcbiAgICB9O1xuICAgIFZpZXdSZWZfLnByb3RvdHlwZS5vbkRlc3Ryb3kgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsgdGhpcy5fdmlldy5kaXNwb3NhYmxlcy5wdXNoKGNhbGxiYWNrKTsgfTtcbiAgICBWaWV3UmVmXy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsgdGhpcy5fdmlldy5kZXN0cm95KCk7IH07XG4gICAgcmV0dXJuIFZpZXdSZWZfO1xufSgpKTtcbmV4cG9ydHMuVmlld1JlZl8gPSBWaWV3UmVmXztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZXdfcmVmLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuKGZ1bmN0aW9uIChWaWV3VHlwZSkge1xuICAgIC8vIEEgdmlldyB0aGF0IGNvbnRhaW5zIHRoZSBob3N0IGVsZW1lbnQgd2l0aCBib3VuZCBjb21wb25lbnQgZGlyZWN0aXZlLlxuICAgIC8vIENvbnRhaW5zIGEgQ09NUE9ORU5UIHZpZXdcbiAgICBWaWV3VHlwZVtWaWV3VHlwZVtcIkhPU1RcIl0gPSAwXSA9IFwiSE9TVFwiO1xuICAgIC8vIFRoZSB2aWV3IG9mIHRoZSBjb21wb25lbnRcbiAgICAvLyBDYW4gY29udGFpbiAwIHRvIG4gRU1CRURERUQgdmlld3NcbiAgICBWaWV3VHlwZVtWaWV3VHlwZVtcIkNPTVBPTkVOVFwiXSA9IDFdID0gXCJDT01QT05FTlRcIjtcbiAgICAvLyBBIHZpZXcgdGhhdCBpcyBlbWJlZGRlZCBpbnRvIGFub3RoZXIgVmlldyB2aWEgYSA8dGVtcGxhdGU+IGVsZW1lbnRcbiAgICAvLyBpbnNpZGUgb2YgYSBDT01QT05FTlQgdmlld1xuICAgIFZpZXdUeXBlW1ZpZXdUeXBlW1wiRU1CRURERURcIl0gPSAyXSA9IFwiRU1CRURERURcIjtcbn0pKGV4cG9ydHMuVmlld1R5cGUgfHwgKGV4cG9ydHMuVmlld1R5cGUgPSB7fSkpO1xudmFyIFZpZXdUeXBlID0gZXhwb3J0cy5WaWV3VHlwZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZXdfdHlwZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBzZWN1cml0eV8xID0gcmVxdWlyZSgnLi4vc2VjdXJpdHknKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBlbGVtZW50XzEgPSByZXF1aXJlKCcuL2VsZW1lbnQnKTtcbnZhciBleGNlcHRpb25zXzIgPSByZXF1aXJlKCcuL2V4Y2VwdGlvbnMnKTtcbnZhciBjaGFuZ2VfZGV0ZWN0aW9uXzEgPSByZXF1aXJlKCcuLi9jaGFuZ2VfZGV0ZWN0aW9uL2NoYW5nZV9kZXRlY3Rpb24nKTtcbnZhciBhcGlfMSA9IHJlcXVpcmUoJy4uL3JlbmRlci9hcGknKTtcbnZhciBhcHBsaWNhdGlvbl90b2tlbnNfMSA9IHJlcXVpcmUoJy4uL2FwcGxpY2F0aW9uX3Rva2VucycpO1xudmFyIGRlY29yYXRvcnNfMSA9IHJlcXVpcmUoJy4uL2RpL2RlY29yYXRvcnMnKTtcbnZhciBjaGFuZ2VfZGV0ZWN0aW9uX3V0aWxfMSA9IHJlcXVpcmUoXCIuLi9jaGFuZ2VfZGV0ZWN0aW9uL2NoYW5nZV9kZXRlY3Rpb25fdXRpbFwiKTtcbnZhciBWaWV3VXRpbHMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZpZXdVdGlscyhfcmVuZGVyZXIsIF9hcHBJZCwgc2FuaXRpemVyKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gX3JlbmRlcmVyO1xuICAgICAgICB0aGlzLl9hcHBJZCA9IF9hcHBJZDtcbiAgICAgICAgdGhpcy5fbmV4dENvbXBUeXBlSWQgPSAwO1xuICAgICAgICB0aGlzLnNhbml0aXplciA9IHNhbml0aXplcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlZCBieSB0aGUgZ2VuZXJhdGVkIGNvZGVcbiAgICAgKi9cbiAgICBWaWV3VXRpbHMucHJvdG90eXBlLmNyZWF0ZVJlbmRlckNvbXBvbmVudFR5cGUgPSBmdW5jdGlvbiAodGVtcGxhdGVVcmwsIHNsb3RDb3VudCwgZW5jYXBzdWxhdGlvbiwgc3R5bGVzKSB7XG4gICAgICAgIHJldHVybiBuZXcgYXBpXzEuUmVuZGVyQ29tcG9uZW50VHlwZSh0aGlzLl9hcHBJZCArIFwiLVwiICsgdGhpcy5fbmV4dENvbXBUeXBlSWQrKywgdGVtcGxhdGVVcmwsIHNsb3RDb3VudCwgZW5jYXBzdWxhdGlvbiwgc3R5bGVzKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBWaWV3VXRpbHMucHJvdG90eXBlLnJlbmRlckNvbXBvbmVudCA9IGZ1bmN0aW9uIChyZW5kZXJDb21wb25lbnRUeXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJlci5yZW5kZXJDb21wb25lbnQocmVuZGVyQ29tcG9uZW50VHlwZSk7XG4gICAgfTtcbiAgICBWaWV3VXRpbHMuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBkZWNvcmF0b3JzXzEuSW5qZWN0YWJsZSB9LFxuICAgIF07XG4gICAgVmlld1V0aWxzLmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IGFwaV8xLlJvb3RSZW5kZXJlciwgfSxcbiAgICAgICAgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7IHR5cGU6IGRlY29yYXRvcnNfMS5JbmplY3QsIGFyZ3M6IFthcHBsaWNhdGlvbl90b2tlbnNfMS5BUFBfSUQsXSB9LF0gfSxcbiAgICAgICAgeyB0eXBlOiBzZWN1cml0eV8xLlNhbml0aXphdGlvblNlcnZpY2UsIH0sXG4gICAgXTtcbiAgICByZXR1cm4gVmlld1V0aWxzO1xufSgpKTtcbmV4cG9ydHMuVmlld1V0aWxzID0gVmlld1V0aWxzO1xuZnVuY3Rpb24gZmxhdHRlbk5lc3RlZFZpZXdSZW5kZXJOb2Rlcyhub2Rlcykge1xuICAgIHJldHVybiBfZmxhdHRlbk5lc3RlZFZpZXdSZW5kZXJOb2Rlcyhub2RlcywgW10pO1xufVxuZXhwb3J0cy5mbGF0dGVuTmVzdGVkVmlld1JlbmRlck5vZGVzID0gZmxhdHRlbk5lc3RlZFZpZXdSZW5kZXJOb2RlcztcbmZ1bmN0aW9uIF9mbGF0dGVuTmVzdGVkVmlld1JlbmRlck5vZGVzKG5vZGVzLCByZW5kZXJOb2Rlcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBlbGVtZW50XzEuQXBwRWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGFwcEVsID0gbm9kZTtcbiAgICAgICAgICAgIHJlbmRlck5vZGVzLnB1c2goYXBwRWwubmF0aXZlRWxlbWVudCk7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChhcHBFbC5uZXN0ZWRWaWV3cykpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGFwcEVsLm5lc3RlZFZpZXdzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgIF9mbGF0dGVuTmVzdGVkVmlld1JlbmRlck5vZGVzKGFwcEVsLm5lc3RlZFZpZXdzW2tdLnJvb3ROb2Rlc09yQXBwRWxlbWVudHMsIHJlbmRlck5vZGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZW5kZXJOb2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZW5kZXJOb2Rlcztcbn1cbnZhciBFTVBUWV9BUlIgPSBbXTtcbmZ1bmN0aW9uIGVuc3VyZVNsb3RDb3VudChwcm9qZWN0YWJsZU5vZGVzLCBleHBlY3RlZFNsb3RDb3VudCkge1xuICAgIHZhciByZXM7XG4gICAgaWYgKGxhbmdfMS5pc0JsYW5rKHByb2plY3RhYmxlTm9kZXMpKSB7XG4gICAgICAgIHJlcyA9IEVNUFRZX0FSUjtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvamVjdGFibGVOb2Rlcy5sZW5ndGggPCBleHBlY3RlZFNsb3RDb3VudCkge1xuICAgICAgICB2YXIgZ2l2ZW5TbG90Q291bnQgPSBwcm9qZWN0YWJsZU5vZGVzLmxlbmd0aDtcbiAgICAgICAgcmVzID0gY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmNyZWF0ZUZpeGVkU2l6ZShleHBlY3RlZFNsb3RDb3VudCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwZWN0ZWRTbG90Q291bnQ7IGkrKykge1xuICAgICAgICAgICAgcmVzW2ldID0gKGkgPCBnaXZlblNsb3RDb3VudCkgPyBwcm9qZWN0YWJsZU5vZGVzW2ldIDogRU1QVFlfQVJSO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXMgPSBwcm9qZWN0YWJsZU5vZGVzO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZXhwb3J0cy5lbnN1cmVTbG90Q291bnQgPSBlbnN1cmVTbG90Q291bnQ7XG5leHBvcnRzLk1BWF9JTlRFUlBPTEFUSU9OX1ZBTFVFUyA9IDk7XG5mdW5jdGlvbiBpbnRlcnBvbGF0ZSh2YWx1ZUNvdW50LCBjMCwgYTEsIGMxLCBhMiwgYzIsIGEzLCBjMywgYTQsIGM0LCBhNSwgYzUsIGE2LCBjNiwgYTcsIGM3LCBhOCwgYzgsIGE5LCBjOSkge1xuICAgIHN3aXRjaCAodmFsdWVDb3VudCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gYzAgKyBfdG9TdHJpbmdXaXRoTnVsbChhMSkgKyBjMTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcmV0dXJuIGMwICsgX3RvU3RyaW5nV2l0aE51bGwoYTEpICsgYzEgKyBfdG9TdHJpbmdXaXRoTnVsbChhMikgKyBjMjtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIGMwICsgX3RvU3RyaW5nV2l0aE51bGwoYTEpICsgYzEgKyBfdG9TdHJpbmdXaXRoTnVsbChhMikgKyBjMiArIF90b1N0cmluZ1dpdGhOdWxsKGEzKSArXG4gICAgICAgICAgICAgICAgYzM7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHJldHVybiBjMCArIF90b1N0cmluZ1dpdGhOdWxsKGExKSArIGMxICsgX3RvU3RyaW5nV2l0aE51bGwoYTIpICsgYzIgKyBfdG9TdHJpbmdXaXRoTnVsbChhMykgK1xuICAgICAgICAgICAgICAgIGMzICsgX3RvU3RyaW5nV2l0aE51bGwoYTQpICsgYzQ7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIHJldHVybiBjMCArIF90b1N0cmluZ1dpdGhOdWxsKGExKSArIGMxICsgX3RvU3RyaW5nV2l0aE51bGwoYTIpICsgYzIgKyBfdG9TdHJpbmdXaXRoTnVsbChhMykgK1xuICAgICAgICAgICAgICAgIGMzICsgX3RvU3RyaW5nV2l0aE51bGwoYTQpICsgYzQgKyBfdG9TdHJpbmdXaXRoTnVsbChhNSkgKyBjNTtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgcmV0dXJuIGMwICsgX3RvU3RyaW5nV2l0aE51bGwoYTEpICsgYzEgKyBfdG9TdHJpbmdXaXRoTnVsbChhMikgKyBjMiArIF90b1N0cmluZ1dpdGhOdWxsKGEzKSArXG4gICAgICAgICAgICAgICAgYzMgKyBfdG9TdHJpbmdXaXRoTnVsbChhNCkgKyBjNCArIF90b1N0cmluZ1dpdGhOdWxsKGE1KSArIGM1ICsgX3RvU3RyaW5nV2l0aE51bGwoYTYpICtcbiAgICAgICAgICAgICAgICBjNjtcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgcmV0dXJuIGMwICsgX3RvU3RyaW5nV2l0aE51bGwoYTEpICsgYzEgKyBfdG9TdHJpbmdXaXRoTnVsbChhMikgKyBjMiArIF90b1N0cmluZ1dpdGhOdWxsKGEzKSArXG4gICAgICAgICAgICAgICAgYzMgKyBfdG9TdHJpbmdXaXRoTnVsbChhNCkgKyBjNCArIF90b1N0cmluZ1dpdGhOdWxsKGE1KSArIGM1ICsgX3RvU3RyaW5nV2l0aE51bGwoYTYpICtcbiAgICAgICAgICAgICAgICBjNiArIF90b1N0cmluZ1dpdGhOdWxsKGE3KSArIGM3O1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICByZXR1cm4gYzAgKyBfdG9TdHJpbmdXaXRoTnVsbChhMSkgKyBjMSArIF90b1N0cmluZ1dpdGhOdWxsKGEyKSArIGMyICsgX3RvU3RyaW5nV2l0aE51bGwoYTMpICtcbiAgICAgICAgICAgICAgICBjMyArIF90b1N0cmluZ1dpdGhOdWxsKGE0KSArIGM0ICsgX3RvU3RyaW5nV2l0aE51bGwoYTUpICsgYzUgKyBfdG9TdHJpbmdXaXRoTnVsbChhNikgK1xuICAgICAgICAgICAgICAgIGM2ICsgX3RvU3RyaW5nV2l0aE51bGwoYTcpICsgYzcgKyBfdG9TdHJpbmdXaXRoTnVsbChhOCkgKyBjODtcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgcmV0dXJuIGMwICsgX3RvU3RyaW5nV2l0aE51bGwoYTEpICsgYzEgKyBfdG9TdHJpbmdXaXRoTnVsbChhMikgKyBjMiArIF90b1N0cmluZ1dpdGhOdWxsKGEzKSArXG4gICAgICAgICAgICAgICAgYzMgKyBfdG9TdHJpbmdXaXRoTnVsbChhNCkgKyBjNCArIF90b1N0cmluZ1dpdGhOdWxsKGE1KSArIGM1ICsgX3RvU3RyaW5nV2l0aE51bGwoYTYpICtcbiAgICAgICAgICAgICAgICBjNiArIF90b1N0cmluZ1dpdGhOdWxsKGE3KSArIGM3ICsgX3RvU3RyaW5nV2l0aE51bGwoYTgpICsgYzggKyBfdG9TdHJpbmdXaXRoTnVsbChhOSkgK1xuICAgICAgICAgICAgICAgIGM5O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiRG9lcyBub3Qgc3VwcG9ydCBtb3JlIHRoYW4gOSBleHByZXNzaW9uc1wiKTtcbiAgICB9XG59XG5leHBvcnRzLmludGVycG9sYXRlID0gaW50ZXJwb2xhdGU7XG5mdW5jdGlvbiBfdG9TdHJpbmdXaXRoTnVsbCh2KSB7XG4gICAgcmV0dXJuIHYgIT0gbnVsbCA/IHYudG9TdHJpbmcoKSA6ICcnO1xufVxuZnVuY3Rpb24gY2hlY2tCaW5kaW5nKHRocm93T25DaGFuZ2UsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgIGlmICh0aHJvd09uQ2hhbmdlKSB7XG4gICAgICAgIGlmICghY2hhbmdlX2RldGVjdGlvbl8xLmRldk1vZGVFcXVhbChvbGRWYWx1ZSwgbmV3VmFsdWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18yLkV4cHJlc3Npb25DaGFuZ2VkQWZ0ZXJJdEhhc0JlZW5DaGVja2VkRXhjZXB0aW9uKG9sZFZhbHVlLCBuZXdWYWx1ZSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuICFsYW5nXzEubG9vc2VJZGVudGljYWwob2xkVmFsdWUsIG5ld1ZhbHVlKTtcbiAgICB9XG59XG5leHBvcnRzLmNoZWNrQmluZGluZyA9IGNoZWNrQmluZGluZztcbmZ1bmN0aW9uIGFycmF5TG9vc2VJZGVudGljYWwoYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoIWxhbmdfMS5sb29zZUlkZW50aWNhbChhW2ldLCBiW2ldKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnRzLmFycmF5TG9vc2VJZGVudGljYWwgPSBhcnJheUxvb3NlSWRlbnRpY2FsO1xuZnVuY3Rpb24gbWFwTG9vc2VJZGVudGljYWwobTEsIG0yKSB7XG4gICAgdmFyIGsxID0gY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIua2V5cyhtMSk7XG4gICAgdmFyIGsyID0gY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIua2V5cyhtMik7XG4gICAgaWYgKGsxLmxlbmd0aCAhPSBrMi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIga2V5O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgazEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAga2V5ID0gazFbaV07XG4gICAgICAgIGlmICghbGFuZ18xLmxvb3NlSWRlbnRpY2FsKG0xW2tleV0sIG0yW2tleV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnRzLm1hcExvb3NlSWRlbnRpY2FsID0gbWFwTG9vc2VJZGVudGljYWw7XG5mdW5jdGlvbiBjYXN0QnlWYWx1ZShpbnB1dCwgdmFsdWUpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG59XG5leHBvcnRzLmNhc3RCeVZhbHVlID0gY2FzdEJ5VmFsdWU7XG5leHBvcnRzLkVNUFRZX0FSUkFZID0gW107XG5leHBvcnRzLkVNUFRZX01BUCA9IHt9O1xuZnVuY3Rpb24gcHVyZVByb3h5MShmbikge1xuICAgIHZhciByZXN1bHQ7XG4gICAgdmFyIHYwO1xuICAgIHYwID0gY2hhbmdlX2RldGVjdGlvbl91dGlsXzEudW5pbml0aWFsaXplZDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHAwKSB7XG4gICAgICAgIGlmICghbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHYwLCBwMCkpIHtcbiAgICAgICAgICAgIHYwID0gcDA7XG4gICAgICAgICAgICByZXN1bHQgPSBmbihwMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuZXhwb3J0cy5wdXJlUHJveHkxID0gcHVyZVByb3h5MTtcbmZ1bmN0aW9uIHB1cmVQcm94eTIoZm4pIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIHZhciB2MCwgdjE7XG4gICAgdjAgPSB2MSA9IGNoYW5nZV9kZXRlY3Rpb25fdXRpbF8xLnVuaW5pdGlhbGl6ZWQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChwMCwgcDEpIHtcbiAgICAgICAgaWYgKCFsYW5nXzEubG9vc2VJZGVudGljYWwodjAsIHAwKSB8fCAhbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHYxLCBwMSkpIHtcbiAgICAgICAgICAgIHYwID0gcDA7XG4gICAgICAgICAgICB2MSA9IHAxO1xuICAgICAgICAgICAgcmVzdWx0ID0gZm4ocDAsIHAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG5leHBvcnRzLnB1cmVQcm94eTIgPSBwdXJlUHJveHkyO1xuZnVuY3Rpb24gcHVyZVByb3h5Myhmbikge1xuICAgIHZhciByZXN1bHQ7XG4gICAgdmFyIHYwLCB2MSwgdjI7XG4gICAgdjAgPSB2MSA9IHYyID0gY2hhbmdlX2RldGVjdGlvbl91dGlsXzEudW5pbml0aWFsaXplZDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHAwLCBwMSwgcDIpIHtcbiAgICAgICAgaWYgKCFsYW5nXzEubG9vc2VJZGVudGljYWwodjAsIHAwKSB8fCAhbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHYxLCBwMSkgfHwgIWxhbmdfMS5sb29zZUlkZW50aWNhbCh2MiwgcDIpKSB7XG4gICAgICAgICAgICB2MCA9IHAwO1xuICAgICAgICAgICAgdjEgPSBwMTtcbiAgICAgICAgICAgIHYyID0gcDI7XG4gICAgICAgICAgICByZXN1bHQgPSBmbihwMCwgcDEsIHAyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG5leHBvcnRzLnB1cmVQcm94eTMgPSBwdXJlUHJveHkzO1xuZnVuY3Rpb24gcHVyZVByb3h5NChmbikge1xuICAgIHZhciByZXN1bHQ7XG4gICAgdmFyIHYwLCB2MSwgdjIsIHYzO1xuICAgIHYwID0gdjEgPSB2MiA9IHYzID0gY2hhbmdlX2RldGVjdGlvbl91dGlsXzEudW5pbml0aWFsaXplZDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHAwLCBwMSwgcDIsIHAzKSB7XG4gICAgICAgIGlmICghbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHYwLCBwMCkgfHwgIWxhbmdfMS5sb29zZUlkZW50aWNhbCh2MSwgcDEpIHx8ICFsYW5nXzEubG9vc2VJZGVudGljYWwodjIsIHAyKSB8fFxuICAgICAgICAgICAgIWxhbmdfMS5sb29zZUlkZW50aWNhbCh2MywgcDMpKSB7XG4gICAgICAgICAgICB2MCA9IHAwO1xuICAgICAgICAgICAgdjEgPSBwMTtcbiAgICAgICAgICAgIHYyID0gcDI7XG4gICAgICAgICAgICB2MyA9IHAzO1xuICAgICAgICAgICAgcmVzdWx0ID0gZm4ocDAsIHAxLCBwMiwgcDMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn1cbmV4cG9ydHMucHVyZVByb3h5NCA9IHB1cmVQcm94eTQ7XG5mdW5jdGlvbiBwdXJlUHJveHk1KGZuKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICB2YXIgdjAsIHYxLCB2MiwgdjMsIHY0O1xuICAgIHYwID0gdjEgPSB2MiA9IHYzID0gdjQgPSBjaGFuZ2VfZGV0ZWN0aW9uX3V0aWxfMS51bmluaXRpYWxpemVkO1xuICAgIHJldHVybiBmdW5jdGlvbiAocDAsIHAxLCBwMiwgcDMsIHA0KSB7XG4gICAgICAgIGlmICghbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHYwLCBwMCkgfHwgIWxhbmdfMS5sb29zZUlkZW50aWNhbCh2MSwgcDEpIHx8ICFsYW5nXzEubG9vc2VJZGVudGljYWwodjIsIHAyKSB8fFxuICAgICAgICAgICAgIWxhbmdfMS5sb29zZUlkZW50aWNhbCh2MywgcDMpIHx8ICFsYW5nXzEubG9vc2VJZGVudGljYWwodjQsIHA0KSkge1xuICAgICAgICAgICAgdjAgPSBwMDtcbiAgICAgICAgICAgIHYxID0gcDE7XG4gICAgICAgICAgICB2MiA9IHAyO1xuICAgICAgICAgICAgdjMgPSBwMztcbiAgICAgICAgICAgIHY0ID0gcDQ7XG4gICAgICAgICAgICByZXN1bHQgPSBmbihwMCwgcDEsIHAyLCBwMywgcDQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn1cbmV4cG9ydHMucHVyZVByb3h5NSA9IHB1cmVQcm94eTU7XG5mdW5jdGlvbiBwdXJlUHJveHk2KGZuKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICB2YXIgdjAsIHYxLCB2MiwgdjMsIHY0LCB2NTtcbiAgICB2MCA9IHYxID0gdjIgPSB2MyA9IHY0ID0gdjUgPSBjaGFuZ2VfZGV0ZWN0aW9uX3V0aWxfMS51bmluaXRpYWxpemVkO1xuICAgIHJldHVybiBmdW5jdGlvbiAocDAsIHAxLCBwMiwgcDMsIHA0LCBwNSkge1xuICAgICAgICBpZiAoIWxhbmdfMS5sb29zZUlkZW50aWNhbCh2MCwgcDApIHx8ICFsYW5nXzEubG9vc2VJZGVudGljYWwodjEsIHAxKSB8fCAhbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHYyLCBwMikgfHxcbiAgICAgICAgICAgICFsYW5nXzEubG9vc2VJZGVudGljYWwodjMsIHAzKSB8fCAhbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHY0LCBwNCkgfHwgIWxhbmdfMS5sb29zZUlkZW50aWNhbCh2NSwgcDUpKSB7XG4gICAgICAgICAgICB2MCA9IHAwO1xuICAgICAgICAgICAgdjEgPSBwMTtcbiAgICAgICAgICAgIHYyID0gcDI7XG4gICAgICAgICAgICB2MyA9IHAzO1xuICAgICAgICAgICAgdjQgPSBwNDtcbiAgICAgICAgICAgIHY1ID0gcDU7XG4gICAgICAgICAgICByZXN1bHQgPSBmbihwMCwgcDEsIHAyLCBwMywgcDQsIHA1KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG5leHBvcnRzLnB1cmVQcm94eTYgPSBwdXJlUHJveHk2O1xuZnVuY3Rpb24gcHVyZVByb3h5Nyhmbikge1xuICAgIHZhciByZXN1bHQ7XG4gICAgdmFyIHYwLCB2MSwgdjIsIHYzLCB2NCwgdjUsIHY2O1xuICAgIHYwID0gdjEgPSB2MiA9IHYzID0gdjQgPSB2NSA9IHY2ID0gY2hhbmdlX2RldGVjdGlvbl91dGlsXzEudW5pbml0aWFsaXplZDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHAwLCBwMSwgcDIsIHAzLCBwNCwgcDUsIHA2KSB7XG4gICAgICAgIGlmICghbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHYwLCBwMCkgfHwgIWxhbmdfMS5sb29zZUlkZW50aWNhbCh2MSwgcDEpIHx8ICFsYW5nXzEubG9vc2VJZGVudGljYWwodjIsIHAyKSB8fFxuICAgICAgICAgICAgIWxhbmdfMS5sb29zZUlkZW50aWNhbCh2MywgcDMpIHx8ICFsYW5nXzEubG9vc2VJZGVudGljYWwodjQsIHA0KSB8fCAhbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHY1LCBwNSkgfHxcbiAgICAgICAgICAgICFsYW5nXzEubG9vc2VJZGVudGljYWwodjYsIHA2KSkge1xuICAgICAgICAgICAgdjAgPSBwMDtcbiAgICAgICAgICAgIHYxID0gcDE7XG4gICAgICAgICAgICB2MiA9IHAyO1xuICAgICAgICAgICAgdjMgPSBwMztcbiAgICAgICAgICAgIHY0ID0gcDQ7XG4gICAgICAgICAgICB2NSA9IHA1O1xuICAgICAgICAgICAgdjYgPSBwNjtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZuKHAwLCBwMSwgcDIsIHAzLCBwNCwgcDUsIHA2KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG5leHBvcnRzLnB1cmVQcm94eTcgPSBwdXJlUHJveHk3O1xuZnVuY3Rpb24gcHVyZVByb3h5OChmbikge1xuICAgIHZhciByZXN1bHQ7XG4gICAgdmFyIHYwLCB2MSwgdjIsIHYzLCB2NCwgdjUsIHY2LCB2NztcbiAgICB2MCA9IHYxID0gdjIgPSB2MyA9IHY0ID0gdjUgPSB2NiA9IHY3ID0gY2hhbmdlX2RldGVjdGlvbl91dGlsXzEudW5pbml0aWFsaXplZDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHAwLCBwMSwgcDIsIHAzLCBwNCwgcDUsIHA2LCBwNykge1xuICAgICAgICBpZiAoIWxhbmdfMS5sb29zZUlkZW50aWNhbCh2MCwgcDApIHx8ICFsYW5nXzEubG9vc2VJZGVudGljYWwodjEsIHAxKSB8fCAhbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHYyLCBwMikgfHxcbiAgICAgICAgICAgICFsYW5nXzEubG9vc2VJZGVudGljYWwodjMsIHAzKSB8fCAhbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHY0LCBwNCkgfHwgIWxhbmdfMS5sb29zZUlkZW50aWNhbCh2NSwgcDUpIHx8XG4gICAgICAgICAgICAhbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHY2LCBwNikgfHwgIWxhbmdfMS5sb29zZUlkZW50aWNhbCh2NywgcDcpKSB7XG4gICAgICAgICAgICB2MCA9IHAwO1xuICAgICAgICAgICAgdjEgPSBwMTtcbiAgICAgICAgICAgIHYyID0gcDI7XG4gICAgICAgICAgICB2MyA9IHAzO1xuICAgICAgICAgICAgdjQgPSBwNDtcbiAgICAgICAgICAgIHY1ID0gcDU7XG4gICAgICAgICAgICB2NiA9IHA2O1xuICAgICAgICAgICAgdjcgPSBwNztcbiAgICAgICAgICAgIHJlc3VsdCA9IGZuKHAwLCBwMSwgcDIsIHAzLCBwNCwgcDUsIHA2LCBwNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuZXhwb3J0cy5wdXJlUHJveHk4ID0gcHVyZVByb3h5ODtcbmZ1bmN0aW9uIHB1cmVQcm94eTkoZm4pIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIHZhciB2MCwgdjEsIHYyLCB2MywgdjQsIHY1LCB2NiwgdjcsIHY4O1xuICAgIHYwID0gdjEgPSB2MiA9IHYzID0gdjQgPSB2NSA9IHY2ID0gdjcgPSB2OCA9IGNoYW5nZV9kZXRlY3Rpb25fdXRpbF8xLnVuaW5pdGlhbGl6ZWQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChwMCwgcDEsIHAyLCBwMywgcDQsIHA1LCBwNiwgcDcsIHA4KSB7XG4gICAgICAgIGlmICghbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHYwLCBwMCkgfHwgIWxhbmdfMS5sb29zZUlkZW50aWNhbCh2MSwgcDEpIHx8ICFsYW5nXzEubG9vc2VJZGVudGljYWwodjIsIHAyKSB8fFxuICAgICAgICAgICAgIWxhbmdfMS5sb29zZUlkZW50aWNhbCh2MywgcDMpIHx8ICFsYW5nXzEubG9vc2VJZGVudGljYWwodjQsIHA0KSB8fCAhbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHY1LCBwNSkgfHxcbiAgICAgICAgICAgICFsYW5nXzEubG9vc2VJZGVudGljYWwodjYsIHA2KSB8fCAhbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHY3LCBwNykgfHwgIWxhbmdfMS5sb29zZUlkZW50aWNhbCh2OCwgcDgpKSB7XG4gICAgICAgICAgICB2MCA9IHAwO1xuICAgICAgICAgICAgdjEgPSBwMTtcbiAgICAgICAgICAgIHYyID0gcDI7XG4gICAgICAgICAgICB2MyA9IHAzO1xuICAgICAgICAgICAgdjQgPSBwNDtcbiAgICAgICAgICAgIHY1ID0gcDU7XG4gICAgICAgICAgICB2NiA9IHA2O1xuICAgICAgICAgICAgdjcgPSBwNztcbiAgICAgICAgICAgIHY4ID0gcDg7XG4gICAgICAgICAgICByZXN1bHQgPSBmbihwMCwgcDEsIHAyLCBwMywgcDQsIHA1LCBwNiwgcDcsIHA4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59XG5leHBvcnRzLnB1cmVQcm94eTkgPSBwdXJlUHJveHk5O1xuZnVuY3Rpb24gcHVyZVByb3h5MTAoZm4pIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIHZhciB2MCwgdjEsIHYyLCB2MywgdjQsIHY1LCB2NiwgdjcsIHY4LCB2OTtcbiAgICB2MCA9IHYxID0gdjIgPSB2MyA9IHY0ID0gdjUgPSB2NiA9IHY3ID0gdjggPSB2OSA9IGNoYW5nZV9kZXRlY3Rpb25fdXRpbF8xLnVuaW5pdGlhbGl6ZWQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChwMCwgcDEsIHAyLCBwMywgcDQsIHA1LCBwNiwgcDcsIHA4LCBwOSkge1xuICAgICAgICBpZiAoIWxhbmdfMS5sb29zZUlkZW50aWNhbCh2MCwgcDApIHx8ICFsYW5nXzEubG9vc2VJZGVudGljYWwodjEsIHAxKSB8fCAhbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHYyLCBwMikgfHxcbiAgICAgICAgICAgICFsYW5nXzEubG9vc2VJZGVudGljYWwodjMsIHAzKSB8fCAhbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHY0LCBwNCkgfHwgIWxhbmdfMS5sb29zZUlkZW50aWNhbCh2NSwgcDUpIHx8XG4gICAgICAgICAgICAhbGFuZ18xLmxvb3NlSWRlbnRpY2FsKHY2LCBwNikgfHwgIWxhbmdfMS5sb29zZUlkZW50aWNhbCh2NywgcDcpIHx8ICFsYW5nXzEubG9vc2VJZGVudGljYWwodjgsIHA4KSB8fFxuICAgICAgICAgICAgIWxhbmdfMS5sb29zZUlkZW50aWNhbCh2OSwgcDkpKSB7XG4gICAgICAgICAgICB2MCA9IHAwO1xuICAgICAgICAgICAgdjEgPSBwMTtcbiAgICAgICAgICAgIHYyID0gcDI7XG4gICAgICAgICAgICB2MyA9IHAzO1xuICAgICAgICAgICAgdjQgPSBwNDtcbiAgICAgICAgICAgIHY1ID0gcDU7XG4gICAgICAgICAgICB2NiA9IHA2O1xuICAgICAgICAgICAgdjcgPSBwNztcbiAgICAgICAgICAgIHY4ID0gcDg7XG4gICAgICAgICAgICB2OSA9IHA5O1xuICAgICAgICAgICAgcmVzdWx0ID0gZm4ocDAsIHAxLCBwMiwgcDMsIHA0LCBwNSwgcDYsIHA3LCBwOCwgcDkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn1cbmV4cG9ydHMucHVyZVByb3h5MTAgPSBwdXJlUHJveHkxMDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZXdfdXRpbHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiogVGhpcyBpbmRpcmVjdGlvbiBpcyBuZWVkZWQgdG8gZnJlZSB1cCBDb21wb25lbnQsIGV0YyBzeW1ib2xzIGluIHRoZSBwdWJsaWMgQVBJXG4qIHRvIGJlIHVzZWQgYnkgdGhlIGRlY29yYXRvciB2ZXJzaW9ucyBvZiB0aGVzZSBhbm5vdGF0aW9ucy5cbiovXG52YXIgZGlfMSA9IHJlcXVpcmUoJy4vbWV0YWRhdGEvZGknKTtcbmV4cG9ydHMuUXVlcnlNZXRhZGF0YSA9IGRpXzEuUXVlcnlNZXRhZGF0YTtcbmV4cG9ydHMuQ29udGVudENoaWxkcmVuTWV0YWRhdGEgPSBkaV8xLkNvbnRlbnRDaGlsZHJlbk1ldGFkYXRhO1xuZXhwb3J0cy5Db250ZW50Q2hpbGRNZXRhZGF0YSA9IGRpXzEuQ29udGVudENoaWxkTWV0YWRhdGE7XG5leHBvcnRzLlZpZXdDaGlsZHJlbk1ldGFkYXRhID0gZGlfMS5WaWV3Q2hpbGRyZW5NZXRhZGF0YTtcbmV4cG9ydHMuVmlld1F1ZXJ5TWV0YWRhdGEgPSBkaV8xLlZpZXdRdWVyeU1ldGFkYXRhO1xuZXhwb3J0cy5WaWV3Q2hpbGRNZXRhZGF0YSA9IGRpXzEuVmlld0NoaWxkTWV0YWRhdGE7XG5leHBvcnRzLkF0dHJpYnV0ZU1ldGFkYXRhID0gZGlfMS5BdHRyaWJ1dGVNZXRhZGF0YTtcbnZhciBkaXJlY3RpdmVzXzEgPSByZXF1aXJlKCcuL21ldGFkYXRhL2RpcmVjdGl2ZXMnKTtcbmV4cG9ydHMuQ29tcG9uZW50TWV0YWRhdGEgPSBkaXJlY3RpdmVzXzEuQ29tcG9uZW50TWV0YWRhdGE7XG5leHBvcnRzLkRpcmVjdGl2ZU1ldGFkYXRhID0gZGlyZWN0aXZlc18xLkRpcmVjdGl2ZU1ldGFkYXRhO1xuZXhwb3J0cy5QaXBlTWV0YWRhdGEgPSBkaXJlY3RpdmVzXzEuUGlwZU1ldGFkYXRhO1xuZXhwb3J0cy5JbnB1dE1ldGFkYXRhID0gZGlyZWN0aXZlc18xLklucHV0TWV0YWRhdGE7XG5leHBvcnRzLk91dHB1dE1ldGFkYXRhID0gZGlyZWN0aXZlc18xLk91dHB1dE1ldGFkYXRhO1xuZXhwb3J0cy5Ib3N0QmluZGluZ01ldGFkYXRhID0gZGlyZWN0aXZlc18xLkhvc3RCaW5kaW5nTWV0YWRhdGE7XG5leHBvcnRzLkhvc3RMaXN0ZW5lck1ldGFkYXRhID0gZGlyZWN0aXZlc18xLkhvc3RMaXN0ZW5lck1ldGFkYXRhO1xudmFyIHZpZXdfMSA9IHJlcXVpcmUoJy4vbWV0YWRhdGEvdmlldycpO1xuZXhwb3J0cy5WaWV3TWV0YWRhdGEgPSB2aWV3XzEuVmlld01ldGFkYXRhO1xuZXhwb3J0cy5WaWV3RW5jYXBzdWxhdGlvbiA9IHZpZXdfMS5WaWV3RW5jYXBzdWxhdGlvbjtcbnZhciBkaV8yID0gcmVxdWlyZSgnLi9tZXRhZGF0YS9kaScpO1xudmFyIGRpcmVjdGl2ZXNfMiA9IHJlcXVpcmUoJy4vbWV0YWRhdGEvZGlyZWN0aXZlcycpO1xudmFyIHZpZXdfMiA9IHJlcXVpcmUoJy4vbWV0YWRhdGEvdmlldycpO1xudmFyIGRlY29yYXRvcnNfMSA9IHJlcXVpcmUoJy4vdXRpbC9kZWNvcmF0b3JzJyk7XG4vLyBUT0RPKGFsZXhlYWdsZSk6IHJlbW92ZSB0aGUgZHVwbGljYXRpb24gb2YgdGhpcyBkb2MuIEl0IGlzIGNvcGllZCBmcm9tIENvbXBvbmVudE1ldGFkYXRhLlxuLyoqXG4gKiBEZWNsYXJlIHJldXNhYmxlIFVJIGJ1aWxkaW5nIGJsb2NrcyBmb3IgYW4gYXBwbGljYXRpb24uXG4gKlxuICogRWFjaCBBbmd1bGFyIGNvbXBvbmVudCByZXF1aXJlcyBhIHNpbmdsZSBgQENvbXBvbmVudGAgYW5ub3RhdGlvbi4gVGhlIGBAQ29tcG9uZW50YFxuICogYW5ub3RhdGlvbiBzcGVjaWZpZXMgd2hlbiBhIGNvbXBvbmVudCBpcyBpbnN0YW50aWF0ZWQsIGFuZCB3aGljaCBwcm9wZXJ0aWVzIGFuZCBob3N0TGlzdGVuZXJzIGl0XG4gKiBiaW5kcyB0by5cbiAqXG4gKiBXaGVuIGEgY29tcG9uZW50IGlzIGluc3RhbnRpYXRlZCwgQW5ndWxhclxuICogLSBjcmVhdGVzIGEgc2hhZG93IERPTSBmb3IgdGhlIGNvbXBvbmVudC5cbiAqIC0gbG9hZHMgdGhlIHNlbGVjdGVkIHRlbXBsYXRlIGludG8gdGhlIHNoYWRvdyBET00uXG4gKiAtIGNyZWF0ZXMgYWxsIHRoZSBpbmplY3RhYmxlIG9iamVjdHMgY29uZmlndXJlZCB3aXRoIGBwcm92aWRlcnNgIGFuZCBgdmlld1Byb3ZpZGVyc2AuXG4gKlxuICogQWxsIHRlbXBsYXRlIGV4cHJlc3Npb25zIGFuZCBzdGF0ZW1lbnRzIGFyZSB0aGVuIGV2YWx1YXRlZCBhZ2FpbnN0IHRoZSBjb21wb25lbnQgaW5zdGFuY2UuXG4gKlxuICogIyMgTGlmZWN5Y2xlIGhvb2tzXG4gKlxuICogV2hlbiB0aGUgY29tcG9uZW50IGNsYXNzIGltcGxlbWVudHMgc29tZSB7QGxpbmsgLi4vLi4vZ3VpZGUvbGlmZWN5Y2xlLWhvb2tzLmh0bWx9IHRoZSBjYWxsYmFja3NcbiAqIGFyZSBjYWxsZWQgYnkgdGhlIGNoYW5nZSBkZXRlY3Rpb24gYXQgZGVmaW5lZCBwb2ludHMgaW4gdGltZSBkdXJpbmcgdGhlIGxpZmUgb2YgdGhlIGNvbXBvbmVudC5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIHtAZXhhbXBsZSBjb3JlL3RzL21ldGFkYXRhL21ldGFkYXRhLnRzIHJlZ2lvbj0nY29tcG9uZW50J31cbiAqL1xuZXhwb3J0cy5Db21wb25lbnQgPSBkZWNvcmF0b3JzXzEubWFrZURlY29yYXRvcihkaXJlY3RpdmVzXzIuQ29tcG9uZW50TWV0YWRhdGEsIGZ1bmN0aW9uIChmbikgeyByZXR1cm4gZm4uVmlldyA9IFZpZXc7IH0pO1xuLy8gVE9ETyhhbGV4ZWFnbGUpOiByZW1vdmUgdGhlIGR1cGxpY2F0aW9uIG9mIHRoaXMgZG9jLiBJdCBpcyBjb3BpZWQgZnJvbSBEaXJlY3RpdmVNZXRhZGF0YS5cbi8qKlxuICogRGlyZWN0aXZlcyBhbGxvdyB5b3UgdG8gYXR0YWNoIGJlaGF2aW9yIHRvIGVsZW1lbnRzIGluIHRoZSBET00uXG4gKlxuICoge0BsaW5rIERpcmVjdGl2ZU1ldGFkYXRhfXMgd2l0aCBhbiBlbWJlZGRlZCB2aWV3IGFyZSBjYWxsZWQge0BsaW5rIENvbXBvbmVudE1ldGFkYXRhfXMuXG4gKlxuICogQSBkaXJlY3RpdmUgY29uc2lzdHMgb2YgYSBzaW5nbGUgZGlyZWN0aXZlIGFubm90YXRpb24gYW5kIGEgY29udHJvbGxlciBjbGFzcy4gV2hlbiB0aGVcbiAqIGRpcmVjdGl2ZSdzIGBzZWxlY3RvcmAgbWF0Y2hlc1xuICogZWxlbWVudHMgaW4gdGhlIERPTSwgdGhlIGZvbGxvd2luZyBzdGVwcyBvY2N1cjpcbiAqXG4gKiAxLiBGb3IgZWFjaCBkaXJlY3RpdmUsIHRoZSBgRWxlbWVudEluamVjdG9yYCBhdHRlbXB0cyB0byByZXNvbHZlIHRoZSBkaXJlY3RpdmUncyBjb25zdHJ1Y3RvclxuICogYXJndW1lbnRzLlxuICogMi4gQW5ndWxhciBpbnN0YW50aWF0ZXMgZGlyZWN0aXZlcyBmb3IgZWFjaCBtYXRjaGVkIGVsZW1lbnQgdXNpbmcgYEVsZW1lbnRJbmplY3RvcmAgaW4gYVxuICogZGVwdGgtZmlyc3Qgb3JkZXIsXG4gKiAgICBhcyBkZWNsYXJlZCBpbiB0aGUgSFRNTC5cbiAqXG4gKiAjIyBVbmRlcnN0YW5kaW5nIEhvdyBJbmplY3Rpb24gV29ya3NcbiAqXG4gKiBUaGVyZSBhcmUgdGhyZWUgc3RhZ2VzIG9mIGluamVjdGlvbiByZXNvbHV0aW9uLlxuICogLSAqUHJlLWV4aXN0aW5nIEluamVjdG9ycyo6XG4gKiAgIC0gVGhlIHRlcm1pbmFsIHtAbGluayBJbmplY3Rvcn0gY2Fubm90IHJlc29sdmUgZGVwZW5kZW5jaWVzLiBJdCBlaXRoZXIgdGhyb3dzIGFuIGVycm9yIG9yLCBpZlxuICogdGhlIGRlcGVuZGVuY3kgd2FzXG4gKiAgICAgc3BlY2lmaWVkIGFzIGBAT3B0aW9uYWxgLCByZXR1cm5zIGBudWxsYC5cbiAqICAgLSBUaGUgcGxhdGZvcm0gaW5qZWN0b3IgcmVzb2x2ZXMgYnJvd3NlciBzaW5nbGV0b24gcmVzb3VyY2VzLCBzdWNoIGFzOiBjb29raWVzLCB0aXRsZSxcbiAqIGxvY2F0aW9uLCBhbmQgb3RoZXJzLlxuICogLSAqQ29tcG9uZW50IEluamVjdG9ycyo6IEVhY2ggY29tcG9uZW50IGluc3RhbmNlIGhhcyBpdHMgb3duIHtAbGluayBJbmplY3Rvcn0sIGFuZCB0aGV5IGZvbGxvd1xuICogdGhlIHNhbWUgcGFyZW50LWNoaWxkIGhpZXJhcmNoeVxuICogICAgIGFzIHRoZSBjb21wb25lbnQgaW5zdGFuY2VzIGluIHRoZSBET00uXG4gKiAtICpFbGVtZW50IEluamVjdG9ycyo6IEVhY2ggY29tcG9uZW50IGluc3RhbmNlIGhhcyBhIFNoYWRvdyBET00uIFdpdGhpbiB0aGUgU2hhZG93IERPTSBlYWNoXG4gKiBlbGVtZW50IGhhcyBhbiBgRWxlbWVudEluamVjdG9yYFxuICogICAgIHdoaWNoIGZvbGxvdyB0aGUgc2FtZSBwYXJlbnQtY2hpbGQgaGllcmFyY2h5IGFzIHRoZSBET00gZWxlbWVudHMgdGhlbXNlbHZlcy5cbiAqXG4gKiBXaGVuIGEgdGVtcGxhdGUgaXMgaW5zdGFudGlhdGVkLCBpdCBhbHNvIG11c3QgaW5zdGFudGlhdGUgdGhlIGNvcnJlc3BvbmRpbmcgZGlyZWN0aXZlcyBpbiBhXG4gKiBkZXB0aC1maXJzdCBvcmRlci4gVGhlXG4gKiBjdXJyZW50IGBFbGVtZW50SW5qZWN0b3JgIHJlc29sdmVzIHRoZSBjb25zdHJ1Y3RvciBkZXBlbmRlbmNpZXMgZm9yIGVhY2ggZGlyZWN0aXZlLlxuICpcbiAqIEFuZ3VsYXIgdGhlbiByZXNvbHZlcyBkZXBlbmRlbmNpZXMgYXMgZm9sbG93cywgYWNjb3JkaW5nIHRvIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IGFwcGVhciBpbiB0aGVcbiAqIHtAbGluayBWaWV3TWV0YWRhdGF9OlxuICpcbiAqIDEuIERlcGVuZGVuY2llcyBvbiB0aGUgY3VycmVudCBlbGVtZW50XG4gKiAyLiBEZXBlbmRlbmNpZXMgb24gZWxlbWVudCBpbmplY3RvcnMgYW5kIHRoZWlyIHBhcmVudHMgdW50aWwgaXQgZW5jb3VudGVycyBhIFNoYWRvdyBET00gYm91bmRhcnlcbiAqIDMuIERlcGVuZGVuY2llcyBvbiBjb21wb25lbnQgaW5qZWN0b3JzIGFuZCB0aGVpciBwYXJlbnRzIHVudGlsIGl0IGVuY291bnRlcnMgdGhlIHJvb3QgY29tcG9uZW50XG4gKiA0LiBEZXBlbmRlbmNpZXMgb24gcHJlLWV4aXN0aW5nIGluamVjdG9yc1xuICpcbiAqXG4gKiBUaGUgYEVsZW1lbnRJbmplY3RvcmAgY2FuIGluamVjdCBvdGhlciBkaXJlY3RpdmVzLCBlbGVtZW50LXNwZWNpZmljIHNwZWNpYWwgb2JqZWN0cywgb3IgaXQgY2FuXG4gKiBkZWxlZ2F0ZSB0byB0aGUgcGFyZW50XG4gKiBpbmplY3Rvci5cbiAqXG4gKiBUbyBpbmplY3Qgb3RoZXIgZGlyZWN0aXZlcywgZGVjbGFyZSB0aGUgY29uc3RydWN0b3IgcGFyYW1ldGVyIGFzOlxuICogLSBgZGlyZWN0aXZlOkRpcmVjdGl2ZVR5cGVgOiBhIGRpcmVjdGl2ZSBvbiB0aGUgY3VycmVudCBlbGVtZW50IG9ubHlcbiAqIC0gYEBIb3N0KCkgZGlyZWN0aXZlOkRpcmVjdGl2ZVR5cGVgOiBhbnkgZGlyZWN0aXZlIHRoYXQgbWF0Y2hlcyB0aGUgdHlwZSBiZXR3ZWVuIHRoZSBjdXJyZW50XG4gKiBlbGVtZW50IGFuZCB0aGVcbiAqICAgIFNoYWRvdyBET00gcm9vdC5cbiAqIC0gYEBRdWVyeShEaXJlY3RpdmVUeXBlKSBxdWVyeTpRdWVyeUxpc3Q8RGlyZWN0aXZlVHlwZT5gOiBBIGxpdmUgY29sbGVjdGlvbiBvZiBkaXJlY3QgY2hpbGRcbiAqIGRpcmVjdGl2ZXMuXG4gKiAtIGBAUXVlcnlEZXNjZW5kYW50cyhEaXJlY3RpdmVUeXBlKSBxdWVyeTpRdWVyeUxpc3Q8RGlyZWN0aXZlVHlwZT5gOiBBIGxpdmUgY29sbGVjdGlvbiBvZiBhbnlcbiAqIGNoaWxkIGRpcmVjdGl2ZXMuXG4gKlxuICogVG8gaW5qZWN0IGVsZW1lbnQtc3BlY2lmaWMgc3BlY2lhbCBvYmplY3RzLCBkZWNsYXJlIHRoZSBjb25zdHJ1Y3RvciBwYXJhbWV0ZXIgYXM6XG4gKiAtIGBlbGVtZW50OiBFbGVtZW50UmVmYCB0byBvYnRhaW4gYSByZWZlcmVuY2UgdG8gbG9naWNhbCBlbGVtZW50IGluIHRoZSB2aWV3LlxuICogLSBgdmlld0NvbnRhaW5lcjogVmlld0NvbnRhaW5lclJlZmAgdG8gY29udHJvbCBjaGlsZCB0ZW1wbGF0ZSBpbnN0YW50aWF0aW9uLCBmb3JcbiAqIHtAbGluayBEaXJlY3RpdmVNZXRhZGF0YX0gZGlyZWN0aXZlcyBvbmx5XG4gKiAtIGBiaW5kaW5nUHJvcGFnYXRpb246IEJpbmRpbmdQcm9wYWdhdGlvbmAgdG8gY29udHJvbCBjaGFuZ2UgZGV0ZWN0aW9uIGluIGEgbW9yZSBncmFudWxhciB3YXkuXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgZGVtb25zdHJhdGVzIGhvdyBkZXBlbmRlbmN5IGluamVjdGlvbiByZXNvbHZlcyBjb25zdHJ1Y3RvciBhcmd1bWVudHMgaW5cbiAqIHByYWN0aWNlLlxuICpcbiAqXG4gKiBBc3N1bWUgdGhpcyBIVE1MIHRlbXBsYXRlOlxuICpcbiAqIGBgYFxuICogPGRpdiBkZXBlbmRlbmN5PVwiMVwiPlxuICogICA8ZGl2IGRlcGVuZGVuY3k9XCIyXCI+XG4gKiAgICAgPGRpdiBkZXBlbmRlbmN5PVwiM1wiIG15LWRpcmVjdGl2ZT5cbiAqICAgICAgIDxkaXYgZGVwZW5kZW5jeT1cIjRcIj5cbiAqICAgICAgICAgPGRpdiBkZXBlbmRlbmN5PVwiNVwiPjwvZGl2PlxuICogICAgICAgPC9kaXY+XG4gKiAgICAgICA8ZGl2IGRlcGVuZGVuY3k9XCI2XCI+PC9kaXY+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZGl2PlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBXaXRoIHRoZSBmb2xsb3dpbmcgYGRlcGVuZGVuY3lgIGRlY29yYXRvciBhbmQgYFNvbWVTZXJ2aWNlYCBpbmplY3RhYmxlIGNsYXNzLlxuICpcbiAqIGBgYFxuICogQEluamVjdGFibGUoKVxuICogY2xhc3MgU29tZVNlcnZpY2Uge1xuICogfVxuICpcbiAqIEBEaXJlY3RpdmUoe1xuICogICBzZWxlY3RvcjogJ1tkZXBlbmRlbmN5XScsXG4gKiAgIGlucHV0czogW1xuICogICAgICdpZDogZGVwZW5kZW5jeSdcbiAqICAgXVxuICogfSlcbiAqIGNsYXNzIERlcGVuZGVuY3kge1xuICogICBpZDpzdHJpbmc7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBMZXQncyBzdGVwIHRocm91Z2ggdGhlIGRpZmZlcmVudCB3YXlzIGluIHdoaWNoIGBNeURpcmVjdGl2ZWAgY291bGQgYmUgZGVjbGFyZWQuLi5cbiAqXG4gKlxuICogIyMjIE5vIGluamVjdGlvblxuICpcbiAqIEhlcmUgdGhlIGNvbnN0cnVjdG9yIGlzIGRlY2xhcmVkIHdpdGggbm8gYXJndW1lbnRzLCB0aGVyZWZvcmUgbm90aGluZyBpcyBpbmplY3RlZCBpbnRvXG4gKiBgTXlEaXJlY3RpdmVgLlxuICpcbiAqIGBgYFxuICogQERpcmVjdGl2ZSh7IHNlbGVjdG9yOiAnW215LWRpcmVjdGl2ZV0nIH0pXG4gKiBjbGFzcyBNeURpcmVjdGl2ZSB7XG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGRpcmVjdGl2ZSB3b3VsZCBiZSBpbnN0YW50aWF0ZWQgd2l0aCBubyBkZXBlbmRlbmNpZXMuXG4gKlxuICpcbiAqICMjIyBDb21wb25lbnQtbGV2ZWwgaW5qZWN0aW9uXG4gKlxuICogRGlyZWN0aXZlcyBjYW4gaW5qZWN0IGFueSBpbmplY3RhYmxlIGluc3RhbmNlIGZyb20gdGhlIGNsb3Nlc3QgY29tcG9uZW50IGluamVjdG9yIG9yIGFueSBvZiBpdHNcbiAqIHBhcmVudHMuXG4gKlxuICogSGVyZSwgdGhlIGNvbnN0cnVjdG9yIGRlY2xhcmVzIGEgcGFyYW1ldGVyLCBgc29tZVNlcnZpY2VgLCBhbmQgaW5qZWN0cyB0aGUgYFNvbWVTZXJ2aWNlYCB0eXBlXG4gKiBmcm9tIHRoZSBwYXJlbnRcbiAqIGNvbXBvbmVudCdzIGluamVjdG9yLlxuICogYGBgXG4gKiBARGlyZWN0aXZlKHsgc2VsZWN0b3I6ICdbbXktZGlyZWN0aXZlXScgfSlcbiAqIGNsYXNzIE15RGlyZWN0aXZlIHtcbiAqICAgY29uc3RydWN0b3Ioc29tZVNlcnZpY2U6IFNvbWVTZXJ2aWNlKSB7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIFRoaXMgZGlyZWN0aXZlIHdvdWxkIGJlIGluc3RhbnRpYXRlZCB3aXRoIGEgZGVwZW5kZW5jeSBvbiBgU29tZVNlcnZpY2VgLlxuICpcbiAqXG4gKiAjIyMgSW5qZWN0aW5nIGEgZGlyZWN0aXZlIGZyb20gdGhlIGN1cnJlbnQgZWxlbWVudFxuICpcbiAqIERpcmVjdGl2ZXMgY2FuIGluamVjdCBvdGhlciBkaXJlY3RpdmVzIGRlY2xhcmVkIG9uIHRoZSBjdXJyZW50IGVsZW1lbnQuXG4gKlxuICogYGBgXG4gKiBARGlyZWN0aXZlKHsgc2VsZWN0b3I6ICdbbXktZGlyZWN0aXZlXScgfSlcbiAqIGNsYXNzIE15RGlyZWN0aXZlIHtcbiAqICAgY29uc3RydWN0b3IoZGVwZW5kZW5jeTogRGVwZW5kZW5jeSkge1xuICogICAgIGV4cGVjdChkZXBlbmRlbmN5LmlkKS50b0VxdWFsKDMpO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqIFRoaXMgZGlyZWN0aXZlIHdvdWxkIGJlIGluc3RhbnRpYXRlZCB3aXRoIGBEZXBlbmRlbmN5YCBkZWNsYXJlZCBhdCB0aGUgc2FtZSBlbGVtZW50LCBpbiB0aGlzIGNhc2VcbiAqIGBkZXBlbmRlbmN5PVwiM1wiYC5cbiAqXG4gKiAjIyMgSW5qZWN0aW5nIGEgZGlyZWN0aXZlIGZyb20gYW55IGFuY2VzdG9yIGVsZW1lbnRzXG4gKlxuICogRGlyZWN0aXZlcyBjYW4gaW5qZWN0IG90aGVyIGRpcmVjdGl2ZXMgZGVjbGFyZWQgb24gYW55IGFuY2VzdG9yIGVsZW1lbnQgKGluIHRoZSBjdXJyZW50IFNoYWRvd1xuICogRE9NKSwgaS5lLiBvbiB0aGUgY3VycmVudCBlbGVtZW50LCB0aGVcbiAqIHBhcmVudCBlbGVtZW50LCBvciBpdHMgcGFyZW50cy5cbiAqIGBgYFxuICogQERpcmVjdGl2ZSh7IHNlbGVjdG9yOiAnW215LWRpcmVjdGl2ZV0nIH0pXG4gKiBjbGFzcyBNeURpcmVjdGl2ZSB7XG4gKiAgIGNvbnN0cnVjdG9yKEBIb3N0KCkgZGVwZW5kZW5jeTogRGVwZW5kZW5jeSkge1xuICogICAgIGV4cGVjdChkZXBlbmRlbmN5LmlkKS50b0VxdWFsKDIpO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBgQEhvc3RgIGNoZWNrcyB0aGUgY3VycmVudCBlbGVtZW50LCB0aGUgcGFyZW50LCBhcyB3ZWxsIGFzIGl0cyBwYXJlbnRzIHJlY3Vyc2l2ZWx5LiBJZlxuICogYGRlcGVuZGVuY3k9XCIyXCJgIGRpZG4ndFxuICogZXhpc3Qgb24gdGhlIGRpcmVjdCBwYXJlbnQsIHRoaXMgaW5qZWN0aW9uIHdvdWxkXG4gKiBoYXZlIHJldHVybmVkXG4gKiBgZGVwZW5kZW5jeT1cIjFcImAuXG4gKlxuICpcbiAqICMjIyBJbmplY3RpbmcgYSBsaXZlIGNvbGxlY3Rpb24gb2YgZGlyZWN0IGNoaWxkIGRpcmVjdGl2ZXNcbiAqXG4gKlxuICogQSBkaXJlY3RpdmUgY2FuIGFsc28gcXVlcnkgZm9yIG90aGVyIGNoaWxkIGRpcmVjdGl2ZXMuIFNpbmNlIHBhcmVudCBkaXJlY3RpdmVzIGFyZSBpbnN0YW50aWF0ZWRcbiAqIGJlZm9yZSBjaGlsZCBkaXJlY3RpdmVzLCBhIGRpcmVjdGl2ZSBjYW4ndCBzaW1wbHkgaW5qZWN0IHRoZSBsaXN0IG9mIGNoaWxkIGRpcmVjdGl2ZXMuIEluc3RlYWQsXG4gKiB0aGUgZGlyZWN0aXZlIGluamVjdHMgYSB7QGxpbmsgUXVlcnlMaXN0fSwgd2hpY2ggdXBkYXRlcyBpdHMgY29udGVudHMgYXMgY2hpbGRyZW4gYXJlIGFkZGVkLFxuICogcmVtb3ZlZCwgb3IgbW92ZWQgYnkgYSBkaXJlY3RpdmUgdGhhdCB1c2VzIGEge0BsaW5rIFZpZXdDb250YWluZXJSZWZ9IHN1Y2ggYXMgYSBgbmdGb3JgLCBhblxuICogYG5nSWZgLCBvciBhbiBgbmdTd2l0Y2hgLlxuICpcbiAqIGBgYFxuICogQERpcmVjdGl2ZSh7IHNlbGVjdG9yOiAnW215LWRpcmVjdGl2ZV0nIH0pXG4gKiBjbGFzcyBNeURpcmVjdGl2ZSB7XG4gKiAgIGNvbnN0cnVjdG9yKEBRdWVyeShEZXBlbmRlbmN5KSBkZXBlbmRlbmNpZXM6UXVlcnlMaXN0PERlcGVuZGVuY3k+KSB7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIFRoaXMgZGlyZWN0aXZlIHdvdWxkIGJlIGluc3RhbnRpYXRlZCB3aXRoIGEge0BsaW5rIFF1ZXJ5TGlzdH0gd2hpY2ggY29udGFpbnMgYERlcGVuZGVuY3lgIDQgYW5kXG4gKiA2LiBIZXJlLCBgRGVwZW5kZW5jeWAgNSB3b3VsZCBub3QgYmUgaW5jbHVkZWQsIGJlY2F1c2UgaXQgaXMgbm90IGEgZGlyZWN0IGNoaWxkLlxuICpcbiAqICMjIyBJbmplY3RpbmcgYSBsaXZlIGNvbGxlY3Rpb24gb2YgZGVzY2VuZGFudCBkaXJlY3RpdmVzXG4gKlxuICogQnkgcGFzc2luZyB0aGUgZGVzY2VuZGFudCBmbGFnIHRvIGBAUXVlcnlgIGFib3ZlLCB3ZSBjYW4gaW5jbHVkZSB0aGUgY2hpbGRyZW4gb2YgdGhlIGNoaWxkXG4gKiBlbGVtZW50cy5cbiAqXG4gKiBgYGBcbiAqIEBEaXJlY3RpdmUoeyBzZWxlY3RvcjogJ1tteS1kaXJlY3RpdmVdJyB9KVxuICogY2xhc3MgTXlEaXJlY3RpdmUge1xuICogICBjb25zdHJ1Y3RvcihAUXVlcnkoRGVwZW5kZW5jeSwge2Rlc2NlbmRhbnRzOiB0cnVlfSkgZGVwZW5kZW5jaWVzOlF1ZXJ5TGlzdDxEZXBlbmRlbmN5Pikge1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGRpcmVjdGl2ZSB3b3VsZCBiZSBpbnN0YW50aWF0ZWQgd2l0aCBhIFF1ZXJ5IHdoaWNoIHdvdWxkIGNvbnRhaW4gYERlcGVuZGVuY3lgIDQsIDUgYW5kIDYuXG4gKlxuICogIyMjIE9wdGlvbmFsIGluamVjdGlvblxuICpcbiAqIFRoZSBub3JtYWwgYmVoYXZpb3Igb2YgZGlyZWN0aXZlcyBpcyB0byByZXR1cm4gYW4gZXJyb3Igd2hlbiBhIHNwZWNpZmllZCBkZXBlbmRlbmN5IGNhbm5vdCBiZVxuICogcmVzb2x2ZWQuIElmIHlvdVxuICogd291bGQgbGlrZSB0byBpbmplY3QgYG51bGxgIG9uIHVucmVzb2x2ZWQgZGVwZW5kZW5jeSBpbnN0ZWFkLCB5b3UgY2FuIGFubm90YXRlIHRoYXQgZGVwZW5kZW5jeVxuICogd2l0aCBgQE9wdGlvbmFsKClgLlxuICogVGhpcyBleHBsaWNpdGx5IHBlcm1pdHMgdGhlIGF1dGhvciBvZiBhIHRlbXBsYXRlIHRvIHRyZWF0IHNvbWUgb2YgdGhlIHN1cnJvdW5kaW5nIGRpcmVjdGl2ZXMgYXNcbiAqIG9wdGlvbmFsLlxuICpcbiAqIGBgYFxuICogQERpcmVjdGl2ZSh7IHNlbGVjdG9yOiAnW215LWRpcmVjdGl2ZV0nIH0pXG4gKiBjbGFzcyBNeURpcmVjdGl2ZSB7XG4gKiAgIGNvbnN0cnVjdG9yKEBPcHRpb25hbCgpIGRlcGVuZGVuY3k6RGVwZW5kZW5jeSkge1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGRpcmVjdGl2ZSB3b3VsZCBiZSBpbnN0YW50aWF0ZWQgd2l0aCBhIGBEZXBlbmRlbmN5YCBkaXJlY3RpdmUgZm91bmQgb24gdGhlIGN1cnJlbnQgZWxlbWVudC5cbiAqIElmIG5vbmUgY2FuIGJlXG4gKiBmb3VuZCwgdGhlIGluamVjdG9yIHN1cHBsaWVzIGBudWxsYCBpbnN0ZWFkIG9mIHRocm93aW5nIGFuIGVycm9yLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogSGVyZSB3ZSB1c2UgYSBkZWNvcmF0b3IgZGlyZWN0aXZlIHRvIHNpbXBseSBkZWZpbmUgYmFzaWMgdG9vbC10aXAgYmVoYXZpb3IuXG4gKlxuICogYGBgXG4gKiBARGlyZWN0aXZlKHtcbiAqICAgc2VsZWN0b3I6ICdbdG9vbHRpcF0nLFxuICogICBpbnB1dHM6IFtcbiAqICAgICAndGV4dDogdG9vbHRpcCdcbiAqICAgXSxcbiAqICAgaG9zdDoge1xuICogICAgICcobW91c2VlbnRlciknOiAnb25Nb3VzZUVudGVyKCknLFxuICogICAgICcobW91c2VsZWF2ZSknOiAnb25Nb3VzZUxlYXZlKCknXG4gKiAgIH1cbiAqIH0pXG4gKiBjbGFzcyBUb29sdGlwe1xuICogICB0ZXh0OnN0cmluZztcbiAqICAgb3ZlcmxheTpPdmVybGF5OyAvLyBOT1QgWUVUIElNUExFTUVOVEVEXG4gKiAgIG92ZXJsYXlNYW5hZ2VyOk92ZXJsYXlNYW5hZ2VyOyAvLyBOT1QgWUVUIElNUExFTUVOVEVEXG4gKlxuICogICBjb25zdHJ1Y3RvcihvdmVybGF5TWFuYWdlcjpPdmVybGF5TWFuYWdlcikge1xuICogICAgIHRoaXMub3ZlcmxheSA9IG92ZXJsYXk7XG4gKiAgIH1cbiAqXG4gKiAgIG9uTW91c2VFbnRlcigpIHtcbiAqICAgICAvLyBleGFjdCBzaWduYXR1cmUgdG8gYmUgZGV0ZXJtaW5lZFxuICogICAgIHRoaXMub3ZlcmxheSA9IHRoaXMub3ZlcmxheU1hbmFnZXIub3Blbih0ZXh0LCAuLi4pO1xuICogICB9XG4gKlxuICogICBvbk1vdXNlTGVhdmUoKSB7XG4gKiAgICAgdGhpcy5vdmVybGF5LmNsb3NlKCk7XG4gKiAgICAgdGhpcy5vdmVybGF5ID0gbnVsbDtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKiBJbiBvdXIgSFRNTCB0ZW1wbGF0ZSwgd2UgY2FuIHRoZW4gYWRkIHRoaXMgYmVoYXZpb3IgdG8gYSBgPGRpdj5gIG9yIGFueSBvdGhlciBlbGVtZW50IHdpdGggdGhlXG4gKiBgdG9vbHRpcGAgc2VsZWN0b3IsXG4gKiBsaWtlIHNvOlxuICpcbiAqIGBgYFxuICogPGRpdiB0b29sdGlwPVwic29tZSB0ZXh0IGhlcmVcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIERpcmVjdGl2ZXMgY2FuIGFsc28gY29udHJvbCB0aGUgaW5zdGFudGlhdGlvbiwgZGVzdHJ1Y3Rpb24sIGFuZCBwb3NpdGlvbmluZyBvZiBpbmxpbmUgdGVtcGxhdGVcbiAqIGVsZW1lbnRzOlxuICpcbiAqIEEgZGlyZWN0aXZlIHVzZXMgYSB7QGxpbmsgVmlld0NvbnRhaW5lclJlZn0gdG8gaW5zdGFudGlhdGUsIGluc2VydCwgbW92ZSwgYW5kIGRlc3Ryb3kgdmlld3MgYXRcbiAqIHJ1bnRpbWUuXG4gKiBUaGUge0BsaW5rIFZpZXdDb250YWluZXJSZWZ9IGlzIGNyZWF0ZWQgYXMgYSByZXN1bHQgb2YgYDx0ZW1wbGF0ZT5gIGVsZW1lbnQsIGFuZCByZXByZXNlbnRzIGFcbiAqIGxvY2F0aW9uIGluIHRoZSBjdXJyZW50IHZpZXdcbiAqIHdoZXJlIHRoZXNlIGFjdGlvbnMgYXJlIHBlcmZvcm1lZC5cbiAqXG4gKiBWaWV3cyBhcmUgYWx3YXlzIGNyZWF0ZWQgYXMgY2hpbGRyZW4gb2YgdGhlIGN1cnJlbnQge0BsaW5rIFZpZXdNZXRhZGF0YX0sIGFuZCBhcyBzaWJsaW5ncyBvZiB0aGVcbiAqIGA8dGVtcGxhdGU+YCBlbGVtZW50LiBUaHVzIGFcbiAqIGRpcmVjdGl2ZSBpbiBhIGNoaWxkIHZpZXcgY2Fubm90IGluamVjdCB0aGUgZGlyZWN0aXZlIHRoYXQgY3JlYXRlZCBpdC5cbiAqXG4gKiBTaW5jZSBkaXJlY3RpdmVzIHRoYXQgY3JlYXRlIHZpZXdzIHZpYSBWaWV3Q29udGFpbmVycyBhcmUgY29tbW9uIGluIEFuZ3VsYXIsIGFuZCB1c2luZyB0aGUgZnVsbFxuICogYDx0ZW1wbGF0ZT5gIGVsZW1lbnQgc3ludGF4IGlzIHdvcmR5LCBBbmd1bGFyXG4gKiBhbHNvIHN1cHBvcnRzIGEgc2hvcnRoYW5kIG5vdGF0aW9uOiBgPGxpICpmb289XCJiYXJcIj5gIGFuZCBgPGxpIHRlbXBsYXRlPVwiZm9vOiBiYXJcIj5gIGFyZVxuICogZXF1aXZhbGVudC5cbiAqXG4gKiBUaHVzLFxuICpcbiAqIGBgYFxuICogPHVsPlxuICogICA8bGkgKmZvbz1cImJhclwiIHRpdGxlPVwidGV4dFwiPjwvbGk+XG4gKiA8L3VsPlxuICogYGBgXG4gKlxuICogRXhwYW5kcyBpbiB1c2UgdG86XG4gKlxuICogYGBgXG4gKiA8dWw+XG4gKiAgIDx0ZW1wbGF0ZSBbZm9vXT1cImJhclwiPlxuICogICAgIDxsaSB0aXRsZT1cInRleHRcIj48L2xpPlxuICogICA8L3RlbXBsYXRlPlxuICogPC91bD5cbiAqIGBgYFxuICpcbiAqIE5vdGljZSB0aGF0IGFsdGhvdWdoIHRoZSBzaG9ydGhhbmQgcGxhY2VzIGAqZm9vPVwiYmFyXCJgIHdpdGhpbiB0aGUgYDxsaT5gIGVsZW1lbnQsIHRoZSBiaW5kaW5nIGZvclxuICogdGhlIGRpcmVjdGl2ZVxuICogY29udHJvbGxlciBpcyBjb3JyZWN0bHkgaW5zdGFudGlhdGVkIG9uIHRoZSBgPHRlbXBsYXRlPmAgZWxlbWVudCByYXRoZXIgdGhhbiB0aGUgYDxsaT5gIGVsZW1lbnQuXG4gKlxuICogIyMgTGlmZWN5Y2xlIGhvb2tzXG4gKlxuICogV2hlbiB0aGUgZGlyZWN0aXZlIGNsYXNzIGltcGxlbWVudHMgc29tZSB7QGxpbmsgLi4vLi4vZ3VpZGUvbGlmZWN5Y2xlLWhvb2tzLmh0bWx9IHRoZSBjYWxsYmFja3NcbiAqIGFyZSBjYWxsZWQgYnkgdGhlIGNoYW5nZSBkZXRlY3Rpb24gYXQgZGVmaW5lZCBwb2ludHMgaW4gdGltZSBkdXJpbmcgdGhlIGxpZmUgb2YgdGhlIGRpcmVjdGl2ZS5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIExldCdzIHN1cHBvc2Ugd2Ugd2FudCB0byBpbXBsZW1lbnQgdGhlIGB1bmxlc3NgIGJlaGF2aW9yLCB0byBjb25kaXRpb25hbGx5IGluY2x1ZGUgYSB0ZW1wbGF0ZS5cbiAqXG4gKiBIZXJlIGlzIGEgc2ltcGxlIGRpcmVjdGl2ZSB0aGF0IHRyaWdnZXJzIG9uIGFuIGB1bmxlc3NgIHNlbGVjdG9yOlxuICpcbiAqIGBgYFxuICogQERpcmVjdGl2ZSh7XG4gKiAgIHNlbGVjdG9yOiAnW3VubGVzc10nLFxuICogICBpbnB1dHM6IFsndW5sZXNzJ11cbiAqIH0pXG4gKiBleHBvcnQgY2xhc3MgVW5sZXNzIHtcbiAqICAgdmlld0NvbnRhaW5lcjogVmlld0NvbnRhaW5lclJlZjtcbiAqICAgdGVtcGxhdGVSZWY6IFRlbXBsYXRlUmVmO1xuICogICBwcmV2Q29uZGl0aW9uOiBib29sZWFuO1xuICpcbiAqICAgY29uc3RydWN0b3Iodmlld0NvbnRhaW5lcjogVmlld0NvbnRhaW5lclJlZiwgdGVtcGxhdGVSZWY6IFRlbXBsYXRlUmVmKSB7XG4gKiAgICAgdGhpcy52aWV3Q29udGFpbmVyID0gdmlld0NvbnRhaW5lcjtcbiAqICAgICB0aGlzLnRlbXBsYXRlUmVmID0gdGVtcGxhdGVSZWY7XG4gKiAgICAgdGhpcy5wcmV2Q29uZGl0aW9uID0gbnVsbDtcbiAqICAgfVxuICpcbiAqICAgc2V0IHVubGVzcyhuZXdDb25kaXRpb24pIHtcbiAqICAgICBpZiAobmV3Q29uZGl0aW9uICYmIChpc0JsYW5rKHRoaXMucHJldkNvbmRpdGlvbikgfHwgIXRoaXMucHJldkNvbmRpdGlvbikpIHtcbiAqICAgICAgIHRoaXMucHJldkNvbmRpdGlvbiA9IHRydWU7XG4gKiAgICAgICB0aGlzLnZpZXdDb250YWluZXIuY2xlYXIoKTtcbiAqICAgICB9IGVsc2UgaWYgKCFuZXdDb25kaXRpb24gJiYgKGlzQmxhbmsodGhpcy5wcmV2Q29uZGl0aW9uKSB8fCB0aGlzLnByZXZDb25kaXRpb24pKSB7XG4gKiAgICAgICB0aGlzLnByZXZDb25kaXRpb24gPSBmYWxzZTtcbiAqICAgICAgIHRoaXMudmlld0NvbnRhaW5lci5jcmVhdGUodGhpcy50ZW1wbGF0ZVJlZik7XG4gKiAgICAgfVxuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBXZSBjYW4gdGhlbiB1c2UgdGhpcyBgdW5sZXNzYCBzZWxlY3RvciBpbiBhIHRlbXBsYXRlOlxuICogYGBgXG4gKiA8dWw+XG4gKiAgIDxsaSAqdW5sZXNzPVwiZXhwclwiPjwvbGk+XG4gKiA8L3VsPlxuICogYGBgXG4gKlxuICogT25jZSB0aGUgZGlyZWN0aXZlIGluc3RhbnRpYXRlcyB0aGUgY2hpbGQgdmlldywgdGhlIHNob3J0aGFuZCBub3RhdGlvbiBmb3IgdGhlIHRlbXBsYXRlIGV4cGFuZHNcbiAqIGFuZCB0aGUgcmVzdWx0IGlzOlxuICpcbiAqIGBgYFxuICogPHVsPlxuICogICA8dGVtcGxhdGUgW3VubGVzc109XCJleHBcIj5cbiAqICAgICA8bGk+PC9saT5cbiAqICAgPC90ZW1wbGF0ZT5cbiAqICAgPGxpPjwvbGk+XG4gKiA8L3VsPlxuICogYGBgXG4gKlxuICogTm90ZSBhbHNvIHRoYXQgYWx0aG91Z2ggdGhlIGA8bGk+PC9saT5gIHRlbXBsYXRlIHN0aWxsIGV4aXN0cyBpbnNpZGUgdGhlIGA8dGVtcGxhdGU+PC90ZW1wbGF0ZT5gLFxuICogdGhlIGluc3RhbnRpYXRlZFxuICogdmlldyBvY2N1cnMgb24gdGhlIHNlY29uZCBgPGxpPjwvbGk+YCB3aGljaCBpcyBhIHNpYmxpbmcgdG8gdGhlIGA8dGVtcGxhdGU+YCBlbGVtZW50LlxuICovXG5leHBvcnRzLkRpcmVjdGl2ZSA9IGRlY29yYXRvcnNfMS5tYWtlRGVjb3JhdG9yKGRpcmVjdGl2ZXNfMi5EaXJlY3RpdmVNZXRhZGF0YSk7XG4vLyBUT0RPKGFsZXhlYWdsZSk6IHJlbW92ZSB0aGUgZHVwbGljYXRpb24gb2YgdGhpcyBkb2MuIEl0IGlzIGNvcGllZCBmcm9tIFZpZXdNZXRhZGF0YS5cbi8qKlxuICogTWV0YWRhdGEgcHJvcGVydGllcyBhdmFpbGFibGUgZm9yIGNvbmZpZ3VyaW5nIFZpZXdzLlxuICpcbiAqIEVhY2ggQW5ndWxhciBjb21wb25lbnQgcmVxdWlyZXMgYSBzaW5nbGUgYEBDb21wb25lbnRgIGFuZCBhdCBsZWFzdCBvbmUgYEBWaWV3YCBhbm5vdGF0aW9uLiBUaGVcbiAqIGBAVmlld2AgYW5ub3RhdGlvbiBzcGVjaWZpZXMgdGhlIEhUTUwgdGVtcGxhdGUgdG8gdXNlLCBhbmQgbGlzdHMgdGhlIGRpcmVjdGl2ZXMgdGhhdCBhcmUgYWN0aXZlXG4gKiB3aXRoaW4gdGhlIHRlbXBsYXRlLlxuICpcbiAqIFdoZW4gYSBjb21wb25lbnQgaXMgaW5zdGFudGlhdGVkLCB0aGUgdGVtcGxhdGUgaXMgbG9hZGVkIGludG8gdGhlIGNvbXBvbmVudCdzIHNoYWRvdyByb290LCBhbmRcbiAqIHRoZSBleHByZXNzaW9ucyBhbmQgc3RhdGVtZW50cyBpbiB0aGUgdGVtcGxhdGUgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0IHRoZSBjb21wb25lbnQuXG4gKlxuICogRm9yIGRldGFpbHMgb24gdGhlIGBAQ29tcG9uZW50YCBhbm5vdGF0aW9uLCBzZWUge0BsaW5rIENvbXBvbmVudE1ldGFkYXRhfS5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYFxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnZ3JlZXQnLFxuICogICB0ZW1wbGF0ZTogJ0hlbGxvIHt7bmFtZX19IScsXG4gKiAgIGRpcmVjdGl2ZXM6IFtHcmVldFVzZXIsIEJvbGRdXG4gKiB9KVxuICogY2xhc3MgR3JlZXQge1xuICogICBuYW1lOiBzdHJpbmc7XG4gKlxuICogICBjb25zdHJ1Y3RvcigpIHtcbiAqICAgICB0aGlzLm5hbWUgPSAnV29ybGQnO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqL1xudmFyIFZpZXcgPSBkZWNvcmF0b3JzXzEubWFrZURlY29yYXRvcih2aWV3XzIuVmlld01ldGFkYXRhLCBmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIGZuLlZpZXcgPSBWaWV3OyB9KTtcbi8qKlxuICogU3BlY2lmaWVzIHRoYXQgYSBjb25zdGFudCBhdHRyaWJ1dGUgdmFsdWUgc2hvdWxkIGJlIGluamVjdGVkLlxuICpcbiAqIFRoZSBkaXJlY3RpdmUgY2FuIGluamVjdCBjb25zdGFudCBzdHJpbmcgbGl0ZXJhbHMgb2YgaG9zdCBlbGVtZW50IGF0dHJpYnV0ZXMuXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBTdXBwb3NlIHdlIGhhdmUgYW4gYDxpbnB1dD5gIGVsZW1lbnQgYW5kIHdhbnQgdG8ga25vdyBpdHMgYHR5cGVgLlxuICpcbiAqIGBgYGh0bWxcbiAqIDxpbnB1dCB0eXBlPVwidGV4dFwiPlxuICogYGBgXG4gKlxuICogQSBkZWNvcmF0b3IgY2FuIGluamVjdCBzdHJpbmcgbGl0ZXJhbCBgdGV4dGAgbGlrZSBzbzpcbiAqXG4gKiB7QGV4YW1wbGUgY29yZS90cy9tZXRhZGF0YS9tZXRhZGF0YS50cyByZWdpb249J2F0dHJpYnV0ZU1ldGFkYXRhJ31cbiAqL1xuZXhwb3J0cy5BdHRyaWJ1dGUgPSBkZWNvcmF0b3JzXzEubWFrZVBhcmFtRGVjb3JhdG9yKGRpXzIuQXR0cmlidXRlTWV0YWRhdGEpO1xuLy8gVE9ETyhhbGV4ZWFnbGUpOiByZW1vdmUgdGhlIGR1cGxpY2F0aW9uIG9mIHRoaXMgZG9jLiBJdCBpcyBjb3BpZWQgZnJvbSBRdWVyeU1ldGFkYXRhLlxuLyoqXG4gKiBEZWNsYXJlcyBhbiBpbmplY3RhYmxlIHBhcmFtZXRlciB0byBiZSBhIGxpdmUgbGlzdCBvZiBkaXJlY3RpdmVzIG9yIHZhcmlhYmxlXG4gKiBiaW5kaW5ncyBmcm9tIHRoZSBjb250ZW50IGNoaWxkcmVuIG9mIGEgZGlyZWN0aXZlLlxuICpcbiAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9sWTltOEhMeTd6MDZ2RG9VYVNOMj9wPXByZXZpZXcpKVxuICpcbiAqIEFzc3VtZSB0aGF0IGA8dGFicz5gIGNvbXBvbmVudCB3b3VsZCBsaWtlIHRvIGdldCBhIGxpc3QgaXRzIGNoaWxkcmVuIGA8cGFuZT5gXG4gKiBjb21wb25lbnRzIGFzIHNob3duIGluIHRoaXMgZXhhbXBsZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8dGFicz5cbiAqICAgPHBhbmUgdGl0bGU9XCJPdmVydmlld1wiPi4uLjwvcGFuZT5cbiAqICAgPHBhbmUgKm5nRm9yPVwibGV0IG8gb2Ygb2JqZWN0c1wiIFt0aXRsZV09XCJvLnRpdGxlXCI+e3tvLnRleHR9fTwvcGFuZT5cbiAqIDwvdGFicz5cbiAqIGBgYFxuICpcbiAqIFRoZSBwcmVmZXJyZWQgc29sdXRpb24gaXMgdG8gcXVlcnkgZm9yIGBQYW5lYCBkaXJlY3RpdmVzIHVzaW5nIHRoaXMgZGVjb3JhdG9yLlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ3BhbmUnLFxuICogICBpbnB1dHM6IFsndGl0bGUnXVxuICogfSlcbiAqIGNsYXNzIFBhbmUge1xuICogICB0aXRsZTpzdHJpbmc7XG4gKiB9XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgc2VsZWN0b3I6ICd0YWJzJyxcbiAqICB0ZW1wbGF0ZTogYFxuICogICAgPHVsPlxuICogICAgICA8bGkgKm5nRm9yPVwibGV0IHBhbmUgb2YgcGFuZXNcIj57e3BhbmUudGl0bGV9fTwvbGk+XG4gKiAgICA8L3VsPlxuICogICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxuICogIGBcbiAqIH0pXG4gKiBjbGFzcyBUYWJzIHtcbiAqICAgcGFuZXM6IFF1ZXJ5TGlzdDxQYW5lPjtcbiAqICAgY29uc3RydWN0b3IoQFF1ZXJ5KFBhbmUpIHBhbmVzOlF1ZXJ5TGlzdDxQYW5lPikge1xuICogICAgIHRoaXMucGFuZXMgPSBwYW5lcztcbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogQSBxdWVyeSBjYW4gbG9vayBmb3IgdmFyaWFibGUgYmluZGluZ3MgYnkgcGFzc2luZyBpbiBhIHN0cmluZyB3aXRoIGRlc2lyZWQgYmluZGluZyBzeW1ib2wuXG4gKlxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L3NUMmoyNWNIMWRVUkF5QlJDS3gxP3A9cHJldmlldykpXG4gKiBgYGBodG1sXG4gKiA8c2Vla2VyPlxuICogICA8ZGl2ICNmaW5kbWU+Li4uPC9kaXY+XG4gKiA8L3NlZWtlcj5cbiAqXG4gKiBAQ29tcG9uZW50KHsgc2VsZWN0b3I6ICdzZWVrZXInIH0pXG4gKiBjbGFzcyBzZWVrZXIge1xuICogICBjb25zdHJ1Y3RvcihAUXVlcnkoJ2ZpbmRtZScpIGVsTGlzdDogUXVlcnlMaXN0PEVsZW1lbnRSZWY+KSB7Li4ufVxuICogfVxuICogYGBgXG4gKlxuICogSW4gdGhpcyBjYXNlIHRoZSBvYmplY3QgdGhhdCBpcyBpbmplY3RlZCBkZXBlbmQgb24gdGhlIHR5cGUgb2YgdGhlIHZhcmlhYmxlXG4gKiBiaW5kaW5nLiBJdCBjYW4gYmUgYW4gRWxlbWVudFJlZiwgYSBkaXJlY3RpdmUgb3IgYSBjb21wb25lbnQuXG4gKlxuICogUGFzc2luZyBpbiBhIGNvbW1hIHNlcGFyYXRlZCBsaXN0IG9mIHZhcmlhYmxlIGJpbmRpbmdzIHdpbGwgcXVlcnkgZm9yIGFsbCBvZiB0aGVtLlxuICpcbiAqIGBgYGh0bWxcbiAqIDxzZWVrZXI+XG4gKiAgIDxkaXYgI2ZpbmRNZT4uLi48L2Rpdj5cbiAqICAgPGRpdiAjZmluZE1lVG9vPi4uLjwvZGl2PlxuICogPC9zZWVrZXI+XG4gKlxuICogIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ3NlZWtlcidcbiAqIH0pXG4gKiBjbGFzcyBTZWVrZXIge1xuICogICBjb25zdHJ1Y3RvcihAUXVlcnkoJ2ZpbmRNZSwgZmluZE1lVG9vJykgZWxMaXN0OiBRdWVyeUxpc3Q8RWxlbWVudFJlZj4pIHsuLi59XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBDb25maWd1cmUgd2hldGhlciBxdWVyeSBsb29rcyBmb3IgZGlyZWN0IGNoaWxkcmVuIG9yIGFsbCBkZXNjZW5kYW50c1xuICogb2YgdGhlIHF1ZXJ5aW5nIGVsZW1lbnQsIGJ5IHVzaW5nIHRoZSBgZGVzY2VuZGFudHNgIHBhcmFtZXRlci5cbiAqIEl0IGlzIHNldCB0byBgZmFsc2VgIGJ5IGRlZmF1bHQuXG4gKlxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L3d0R2VCOTc3YnY3cXZBNUZUWWw5P3A9cHJldmlldykpXG4gKiBgYGBodG1sXG4gKiA8Y29udGFpbmVyICNmaXJzdD5cbiAqICAgPGl0ZW0+YTwvaXRlbT5cbiAqICAgPGl0ZW0+YjwvaXRlbT5cbiAqICAgPGNvbnRhaW5lciAjc2Vjb25kPlxuICogICAgIDxpdGVtPmM8L2l0ZW0+XG4gKiAgIDwvY29udGFpbmVyPlxuICogPC9jb250YWluZXI+XG4gKiBgYGBcbiAqXG4gKiBXaGVuIHF1ZXJ5aW5nIGZvciBpdGVtcywgdGhlIGZpcnN0IGNvbnRhaW5lciB3aWxsIHNlZSBvbmx5IGBhYCBhbmQgYGJgIGJ5IGRlZmF1bHQsXG4gKiBidXQgd2l0aCBgUXVlcnkoVGV4dERpcmVjdGl2ZSwge2Rlc2NlbmRhbnRzOiB0cnVlfSlgIGl0IHdpbGwgc2VlIGBjYCB0b28uXG4gKlxuICogVGhlIHF1ZXJpZWQgZGlyZWN0aXZlcyBhcmUga2VwdCBpbiBhIGRlcHRoLWZpcnN0IHByZS1vcmRlciB3aXRoIHJlc3BlY3QgdG8gdGhlaXJcbiAqIHBvc2l0aW9ucyBpbiB0aGUgRE9NLlxuICpcbiAqIFF1ZXJ5IGRvZXMgbm90IGxvb2sgZGVlcCBpbnRvIGFueSBzdWJjb21wb25lbnQgdmlld3MuXG4gKlxuICogUXVlcnkgaXMgdXBkYXRlZCBhcyBwYXJ0IG9mIHRoZSBjaGFuZ2UtZGV0ZWN0aW9uIGN5Y2xlLiBTaW5jZSBjaGFuZ2UgZGV0ZWN0aW9uXG4gKiBoYXBwZW5zIGFmdGVyIGNvbnN0cnVjdGlvbiBvZiBhIGRpcmVjdGl2ZSwgUXVlcnlMaXN0IHdpbGwgYWx3YXlzIGJlIGVtcHR5IHdoZW4gb2JzZXJ2ZWQgaW4gdGhlXG4gKiBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBUaGUgaW5qZWN0ZWQgb2JqZWN0IGlzIGFuIHVubW9kaWZpYWJsZSBsaXZlIGxpc3QuXG4gKiBTZWUge0BsaW5rIFF1ZXJ5TGlzdH0gZm9yIG1vcmUgZGV0YWlscy5cbiAqL1xuZXhwb3J0cy5RdWVyeSA9IGRlY29yYXRvcnNfMS5tYWtlUGFyYW1EZWNvcmF0b3IoZGlfMi5RdWVyeU1ldGFkYXRhKTtcbi8vIFRPRE8oYWxleGVhZ2xlKTogcmVtb3ZlIHRoZSBkdXBsaWNhdGlvbiBvZiB0aGlzIGRvYy4gSXQgaXMgY29waWVkIGZyb20gQ29udGVudENoaWxkcmVuTWV0YWRhdGEuXG4vKipcbiAqIENvbmZpZ3VyZXMgYSBjb250ZW50IHF1ZXJ5LlxuICpcbiAqIENvbnRlbnQgcXVlcmllcyBhcmUgc2V0IGJlZm9yZSB0aGUgYG5nQWZ0ZXJDb250ZW50SW5pdGAgY2FsbGJhY2sgaXMgY2FsbGVkLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgXG4gKiBARGlyZWN0aXZlKHtcbiAqICAgc2VsZWN0b3I6ICdzb21lRGlyJ1xuICogfSlcbiAqIGNsYXNzIFNvbWVEaXIge1xuICogICBAQ29udGVudENoaWxkcmVuKENoaWxkRGlyZWN0aXZlKSBjb250ZW50Q2hpbGRyZW46IFF1ZXJ5TGlzdDxDaGlsZERpcmVjdGl2ZT47XG4gKlxuICogICBuZ0FmdGVyQ29udGVudEluaXQoKSB7XG4gKiAgICAgLy8gY29udGVudENoaWxkcmVuIGlzIHNldFxuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0cy5Db250ZW50Q2hpbGRyZW4gPSBkZWNvcmF0b3JzXzEubWFrZVByb3BEZWNvcmF0b3IoZGlfMi5Db250ZW50Q2hpbGRyZW5NZXRhZGF0YSk7XG4vLyBUT0RPKGFsZXhlYWdsZSk6IHJlbW92ZSB0aGUgZHVwbGljYXRpb24gb2YgdGhpcyBkb2MuIEl0IGlzIGNvcGllZCBmcm9tIENvbnRlbnRDaGlsZE1ldGFkYXRhLlxuLyoqXG4gKiBDb25maWd1cmVzIGEgY29udGVudCBxdWVyeS5cbiAqXG4gKiBDb250ZW50IHF1ZXJpZXMgYXJlIHNldCBiZWZvcmUgdGhlIGBuZ0FmdGVyQ29udGVudEluaXRgIGNhbGxiYWNrIGlzIGNhbGxlZC5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYFxuICogQERpcmVjdGl2ZSh7XG4gKiAgIHNlbGVjdG9yOiAnc29tZURpcidcbiAqIH0pXG4gKiBjbGFzcyBTb21lRGlyIHtcbiAqICAgQENvbnRlbnRDaGlsZChDaGlsZERpcmVjdGl2ZSkgY29udGVudENoaWxkO1xuICpcbiAqICAgbmdBZnRlckNvbnRlbnRJbml0KCkge1xuICogICAgIC8vIGNvbnRlbnRDaGlsZCBpcyBzZXRcbiAqICAgfVxuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydHMuQ29udGVudENoaWxkID0gZGVjb3JhdG9yc18xLm1ha2VQcm9wRGVjb3JhdG9yKGRpXzIuQ29udGVudENoaWxkTWV0YWRhdGEpO1xuLy8gVE9ETyhhbGV4ZWFnbGUpOiByZW1vdmUgdGhlIGR1cGxpY2F0aW9uIG9mIHRoaXMgZG9jLiBJdCBpcyBjb3BpZWQgZnJvbSBWaWV3Q2hpbGRyZW5NZXRhZGF0YS5cbi8qKlxuICogRGVjbGFyZXMgYSBsaXN0IG9mIGNoaWxkIGVsZW1lbnQgcmVmZXJlbmNlcy5cbiAqXG4gKiBBbmd1bGFyIGF1dG9tYXRpY2FsbHkgdXBkYXRlcyB0aGUgbGlzdCB3aGVuIHRoZSBET00gaXMgdXBkYXRlZC5cbiAqXG4gKiBgVmlld0NoaWxkcmVuYCB0YWtlcyBhIGFyZ3VtZW50IHRvIHNlbGVjdCBlbGVtZW50cy5cbiAqXG4gKiAtIElmIHRoZSBhcmd1bWVudCBpcyBhIHR5cGUsIGRpcmVjdGl2ZXMgb3IgY29tcG9uZW50cyB3aXRoIHRoZSB0eXBlIHdpbGwgYmUgYm91bmQuXG4gKlxuICogLSBJZiB0aGUgYXJndW1lbnQgaXMgYSBzdHJpbmcsIHRoZSBzdHJpbmcgaXMgaW50ZXJwcmV0ZWQgYXMgYSBsaXN0IG9mIGNvbW1hLXNlcGFyYXRlZCBzZWxlY3RvcnMuXG4gKiBGb3IgZWFjaCBzZWxlY3RvciwgYW4gZWxlbWVudCBjb250YWluaW5nIHRoZSBtYXRjaGluZyB0ZW1wbGF0ZSB2YXJpYWJsZSAoZS5nLiBgI2NoaWxkYCkgd2lsbCBiZVxuICogYm91bmQuXG4gKlxuICogVmlldyBjaGlsZHJlbiBhcmUgc2V0IGJlZm9yZSB0aGUgYG5nQWZ0ZXJWaWV3SW5pdGAgY2FsbGJhY2sgaXMgY2FsbGVkLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogV2l0aCB0eXBlIHNlbGVjdG9yOlxuICpcbiAqIGBgYFxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnY2hpbGQtY21wJyxcbiAqICAgdGVtcGxhdGU6ICc8cD5jaGlsZDwvcD4nXG4gKiB9KVxuICogY2xhc3MgQ2hpbGRDbXAge1xuICogICBkb1NvbWV0aGluZygpIHt9XG4gKiB9XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnc29tZS1jbXAnLFxuICogICB0ZW1wbGF0ZTogYFxuICogICAgIDxjaGlsZC1jbXA+PC9jaGlsZC1jbXA+XG4gKiAgICAgPGNoaWxkLWNtcD48L2NoaWxkLWNtcD5cbiAqICAgICA8Y2hpbGQtY21wPjwvY2hpbGQtY21wPlxuICogICBgLFxuICogICBkaXJlY3RpdmVzOiBbQ2hpbGRDbXBdXG4gKiB9KVxuICogY2xhc3MgU29tZUNtcCB7XG4gKiAgIEBWaWV3Q2hpbGRyZW4oQ2hpbGRDbXApIGNoaWxkcmVuOlF1ZXJ5TGlzdDxDaGlsZENtcD47XG4gKlxuICogICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gKiAgICAgLy8gY2hpbGRyZW4gYXJlIHNldFxuICogICAgIHRoaXMuY2hpbGRyZW4udG9BcnJheSgpLmZvckVhY2goKGNoaWxkKT0+Y2hpbGQuZG9Tb21ldGhpbmcoKSk7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIFdpdGggc3RyaW5nIHNlbGVjdG9yOlxuICpcbiAqIGBgYFxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnY2hpbGQtY21wJyxcbiAqICAgdGVtcGxhdGU6ICc8cD5jaGlsZDwvcD4nXG4gKiB9KVxuICogY2xhc3MgQ2hpbGRDbXAge1xuICogICBkb1NvbWV0aGluZygpIHt9XG4gKiB9XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnc29tZS1jbXAnLFxuICogICB0ZW1wbGF0ZTogYFxuICogICAgIDxjaGlsZC1jbXAgI2NoaWxkMT48L2NoaWxkLWNtcD5cbiAqICAgICA8Y2hpbGQtY21wICNjaGlsZDI+PC9jaGlsZC1jbXA+XG4gKiAgICAgPGNoaWxkLWNtcCAjY2hpbGQzPjwvY2hpbGQtY21wPlxuICogICBgLFxuICogICBkaXJlY3RpdmVzOiBbQ2hpbGRDbXBdXG4gKiB9KVxuICogY2xhc3MgU29tZUNtcCB7XG4gKiAgIEBWaWV3Q2hpbGRyZW4oJ2NoaWxkMSxjaGlsZDIsY2hpbGQzJykgY2hpbGRyZW46UXVlcnlMaXN0PENoaWxkQ21wPjtcbiAqXG4gKiAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAqICAgICAvLyBjaGlsZHJlbiBhcmUgc2V0XG4gKiAgICAgdGhpcy5jaGlsZHJlbi50b0FycmF5KCkuZm9yRWFjaCgoY2hpbGQpPT5jaGlsZC5kb1NvbWV0aGluZygpKTtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogU2VlIGFsc286IFtWaWV3Q2hpbGRyZW5NZXRhZGF0YV1cbiAqL1xuZXhwb3J0cy5WaWV3Q2hpbGRyZW4gPSBkZWNvcmF0b3JzXzEubWFrZVByb3BEZWNvcmF0b3IoZGlfMi5WaWV3Q2hpbGRyZW5NZXRhZGF0YSk7XG4vLyBUT0RPKGFsZXhlYWdsZSk6IHJlbW92ZSB0aGUgZHVwbGljYXRpb24gb2YgdGhpcyBkb2MuIEl0IGlzIGNvcGllZCBmcm9tIFZpZXdDaGlsZE1ldGFkYXRhLlxuLyoqXG4gKiBEZWNsYXJlcyBhIHJlZmVyZW5jZSB0byBhIGNoaWxkIGVsZW1lbnQuXG4gKlxuICogYFZpZXdDaGlsZHJlbmAgdGFrZXMgYSBhcmd1bWVudCB0byBzZWxlY3QgZWxlbWVudHMuXG4gKlxuICogLSBJZiB0aGUgYXJndW1lbnQgaXMgYSB0eXBlLCBhIGRpcmVjdGl2ZSBvciBhIGNvbXBvbmVudCB3aXRoIHRoZSB0eXBlIHdpbGwgYmUgYm91bmQuXG4gKlxuICogLSBJZiB0aGUgYXJndW1lbnQgaXMgYSBzdHJpbmcsIHRoZSBzdHJpbmcgaXMgaW50ZXJwcmV0ZWQgYXMgYSBzZWxlY3Rvci4gQW4gZWxlbWVudCBjb250YWluaW5nIHRoZVxuICogbWF0Y2hpbmcgdGVtcGxhdGUgdmFyaWFibGUgKGUuZy4gYCNjaGlsZGApIHdpbGwgYmUgYm91bmQuXG4gKlxuICogSW4gZWl0aGVyIGNhc2UsIGBAVmlld0NoaWxkKClgIGFzc2lnbnMgdGhlIGZpcnN0IChsb29raW5nIGZyb20gYWJvdmUpIGVsZW1lbnQgaWYgdGhlcmUgYXJlXG4gKiBtdWx0aXBsZSBtYXRjaGVzLlxuICpcbiAqIFZpZXcgY2hpbGQgaXMgc2V0IGJlZm9yZSB0aGUgYG5nQWZ0ZXJWaWV3SW5pdGAgY2FsbGJhY2sgaXMgY2FsbGVkLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogV2l0aCB0eXBlIHNlbGVjdG9yOlxuICpcbiAqIGBgYFxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnY2hpbGQtY21wJyxcbiAqICAgdGVtcGxhdGU6ICc8cD5jaGlsZDwvcD4nXG4gKiB9KVxuICogY2xhc3MgQ2hpbGRDbXAge1xuICogICBkb1NvbWV0aGluZygpIHt9XG4gKiB9XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnc29tZS1jbXAnLFxuICogICB0ZW1wbGF0ZTogJzxjaGlsZC1jbXA+PC9jaGlsZC1jbXA+JyxcbiAqICAgZGlyZWN0aXZlczogW0NoaWxkQ21wXVxuICogfSlcbiAqIGNsYXNzIFNvbWVDbXAge1xuICogICBAVmlld0NoaWxkKENoaWxkQ21wKSBjaGlsZDpDaGlsZENtcDtcbiAqXG4gKiAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAqICAgICAvLyBjaGlsZCBpcyBzZXRcbiAqICAgICB0aGlzLmNoaWxkLmRvU29tZXRoaW5nKCk7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIFdpdGggc3RyaW5nIHNlbGVjdG9yOlxuICpcbiAqIGBgYFxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnY2hpbGQtY21wJyxcbiAqICAgdGVtcGxhdGU6ICc8cD5jaGlsZDwvcD4nXG4gKiB9KVxuICogY2xhc3MgQ2hpbGRDbXAge1xuICogICBkb1NvbWV0aGluZygpIHt9XG4gKiB9XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnc29tZS1jbXAnLFxuICogICB0ZW1wbGF0ZTogJzxjaGlsZC1jbXAgI2NoaWxkPjwvY2hpbGQtY21wPicsXG4gKiAgIGRpcmVjdGl2ZXM6IFtDaGlsZENtcF1cbiAqIH0pXG4gKiBjbGFzcyBTb21lQ21wIHtcbiAqICAgQFZpZXdDaGlsZCgnY2hpbGQnKSBjaGlsZDpDaGlsZENtcDtcbiAqXG4gKiAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAqICAgICAvLyBjaGlsZCBpcyBzZXRcbiAqICAgICB0aGlzLmNoaWxkLmRvU29tZXRoaW5nKCk7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICogU2VlIGFsc286IFtWaWV3Q2hpbGRNZXRhZGF0YV1cbiAqL1xuZXhwb3J0cy5WaWV3Q2hpbGQgPSBkZWNvcmF0b3JzXzEubWFrZVByb3BEZWNvcmF0b3IoZGlfMi5WaWV3Q2hpbGRNZXRhZGF0YSk7XG4vLyBUT0RPKGFsZXhlYWdsZSk6IHJlbW92ZSB0aGUgZHVwbGljYXRpb24gb2YgdGhpcyBkb2MuIEl0IGlzIGNvcGllZCBmcm9tIFZpZXdRdWVyeU1ldGFkYXRhLlxuLyoqXG4gKiBTaW1pbGFyIHRvIHtAbGluayBRdWVyeU1ldGFkYXRhfSwgYnV0IHF1ZXJ5aW5nIHRoZSBjb21wb25lbnQgdmlldywgaW5zdGVhZCBvZlxuICogdGhlIGNvbnRlbnQgY2hpbGRyZW4uXG4gKlxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L2VOc0ZIRGY3WWp5TTZJekt4TTFqP3A9cHJldmlldykpXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogQENvbXBvbmVudCh7XG4gKiAgIC4uLixcbiAqICAgdGVtcGxhdGU6IGBcbiAqICAgICA8aXRlbT4gYSA8L2l0ZW0+XG4gKiAgICAgPGl0ZW0+IGIgPC9pdGVtPlxuICogICAgIDxpdGVtPiBjIDwvaXRlbT5cbiAqICAgYFxuICogfSlcbiAqIGNsYXNzIE15Q29tcG9uZW50IHtcbiAqICAgc2hvd246IGJvb2xlYW47XG4gKlxuICogICBjb25zdHJ1Y3Rvcihwcml2YXRlIEBRdWVyeShJdGVtKSBpdGVtczpRdWVyeUxpc3Q8SXRlbT4pIHtcbiAqICAgICBpdGVtcy5jaGFuZ2VzLnN1YnNjcmliZSgoKSA9PiBjb25zb2xlLmxvZyhpdGVtcy5sZW5ndGgpKTtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogU3VwcG9ydHMgdGhlIHNhbWUgcXVlcnlpbmcgcGFyYW1ldGVycyBhcyB7QGxpbmsgUXVlcnlNZXRhZGF0YX0sIGV4Y2VwdFxuICogYGRlc2NlbmRhbnRzYC4gVGhpcyBhbHdheXMgcXVlcmllcyB0aGUgd2hvbGUgdmlldy5cbiAqXG4gKiBBcyBgc2hvd25gIGlzIGZsaXBwZWQgYmV0d2VlbiB0cnVlIGFuZCBmYWxzZSwgaXRlbXMgd2lsbCBjb250YWluIHplcm8gb2Ygb25lXG4gKiBpdGVtcy5cbiAqXG4gKiBTcGVjaWZpZXMgdGhhdCBhIHtAbGluayBRdWVyeUxpc3R9IHNob3VsZCBiZSBpbmplY3RlZC5cbiAqXG4gKiBUaGUgaW5qZWN0ZWQgb2JqZWN0IGlzIGFuIGl0ZXJhYmxlIGFuZCBvYnNlcnZhYmxlIGxpdmUgbGlzdC5cbiAqIFNlZSB7QGxpbmsgUXVlcnlMaXN0fSBmb3IgbW9yZSBkZXRhaWxzLlxuICovXG5leHBvcnRzLlZpZXdRdWVyeSA9IGRlY29yYXRvcnNfMS5tYWtlUGFyYW1EZWNvcmF0b3IoZGlfMi5WaWV3UXVlcnlNZXRhZGF0YSk7XG4vLyBUT0RPKGFsZXhlYWdsZSk6IHJlbW92ZSB0aGUgZHVwbGljYXRpb24gb2YgdGhpcyBkb2MuIEl0IGlzIGNvcGllZCBmcm9tIFBpcGVNZXRhZGF0YS5cbi8qKlxuICogRGVjbGFyZSByZXVzYWJsZSBwaXBlIGZ1bmN0aW9uLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICoge0BleGFtcGxlIGNvcmUvdHMvbWV0YWRhdGEvbWV0YWRhdGEudHMgcmVnaW9uPSdwaXBlJ31cbiAqL1xuZXhwb3J0cy5QaXBlID0gZGVjb3JhdG9yc18xLm1ha2VEZWNvcmF0b3IoZGlyZWN0aXZlc18yLlBpcGVNZXRhZGF0YSk7XG4vLyBUT0RPKGFsZXhlYWdsZSk6IHJlbW92ZSB0aGUgZHVwbGljYXRpb24gb2YgdGhpcyBkb2MuIEl0IGlzIGNvcGllZCBmcm9tIElucHV0TWV0YWRhdGEuXG4vKipcbiAqIERlY2xhcmVzIGEgZGF0YS1ib3VuZCBpbnB1dCBwcm9wZXJ0eS5cbiAqXG4gKiBBbmd1bGFyIGF1dG9tYXRpY2FsbHkgdXBkYXRlcyBkYXRhLWJvdW5kIHByb3BlcnRpZXMgZHVyaW5nIGNoYW5nZSBkZXRlY3Rpb24uXG4gKlxuICogYElucHV0TWV0YWRhdGFgIHRha2VzIGFuIG9wdGlvbmFsIHBhcmFtZXRlciB0aGF0IHNwZWNpZmllcyB0aGUgbmFtZVxuICogdXNlZCB3aGVuIGluc3RhbnRpYXRpbmcgYSBjb21wb25lbnQgaW4gdGhlIHRlbXBsYXRlLiBXaGVuIG5vdCBwcm92aWRlZCxcbiAqIHRoZSBuYW1lIG9mIHRoZSBkZWNvcmF0ZWQgcHJvcGVydHkgaXMgdXNlZC5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBjcmVhdGVzIGEgY29tcG9uZW50IHdpdGggdHdvIGlucHV0IHByb3BlcnRpZXMuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnYmFuay1hY2NvdW50JyxcbiAqICAgdGVtcGxhdGU6IGBcbiAqICAgICBCYW5rIE5hbWU6IHt7YmFua05hbWV9fVxuICogICAgIEFjY291bnQgSWQ6IHt7aWR9fVxuICogICBgXG4gKiB9KVxuICogY2xhc3MgQmFua0FjY291bnQge1xuICogICBASW5wdXQoKSBiYW5rTmFtZTogc3RyaW5nO1xuICogICBASW5wdXQoJ2FjY291bnQtaWQnKSBpZDogc3RyaW5nO1xuICpcbiAqICAgLy8gdGhpcyBwcm9wZXJ0eSBpcyBub3QgYm91bmQsIGFuZCB3b24ndCBiZSBhdXRvbWF0aWNhbGx5IHVwZGF0ZWQgYnkgQW5ndWxhclxuICogICBub3JtYWxpemVkQmFua05hbWU6IHN0cmluZztcbiAqIH1cbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICdhcHAnLFxuICogICB0ZW1wbGF0ZTogYFxuICogICAgIDxiYW5rLWFjY291bnQgYmFuay1uYW1lPVwiUkJDXCIgYWNjb3VudC1pZD1cIjQ3NDdcIj48L2JhbmstYWNjb3VudD5cbiAqICAgYCxcbiAqICAgZGlyZWN0aXZlczogW0JhbmtBY2NvdW50XVxuICogfSlcbiAqIGNsYXNzIEFwcCB7fVxuICpcbiAqIGJvb3RzdHJhcChBcHApO1xuICogYGBgXG4gKi9cbmV4cG9ydHMuSW5wdXQgPSBkZWNvcmF0b3JzXzEubWFrZVByb3BEZWNvcmF0b3IoZGlyZWN0aXZlc18yLklucHV0TWV0YWRhdGEpO1xuLy8gVE9ETyhhbGV4ZWFnbGUpOiByZW1vdmUgdGhlIGR1cGxpY2F0aW9uIG9mIHRoaXMgZG9jLiBJdCBpcyBjb3BpZWQgZnJvbSBPdXRwdXRNZXRhZGF0YS5cbi8qKlxuICogRGVjbGFyZXMgYW4gZXZlbnQtYm91bmQgb3V0cHV0IHByb3BlcnR5LlxuICpcbiAqIFdoZW4gYW4gb3V0cHV0IHByb3BlcnR5IGVtaXRzIGFuIGV2ZW50LCBhbiBldmVudCBoYW5kbGVyIGF0dGFjaGVkIHRvIHRoYXQgZXZlbnRcbiAqIHRoZSB0ZW1wbGF0ZSBpcyBpbnZva2VkLlxuICpcbiAqIGBPdXRwdXRNZXRhZGF0YWAgdGFrZXMgYW4gb3B0aW9uYWwgcGFyYW1ldGVyIHRoYXQgc3BlY2lmaWVzIHRoZSBuYW1lXG4gKiB1c2VkIHdoZW4gaW5zdGFudGlhdGluZyBhIGNvbXBvbmVudCBpbiB0aGUgdGVtcGxhdGUuIFdoZW4gbm90IHByb3ZpZGVkLFxuICogdGhlIG5hbWUgb2YgdGhlIGRlY29yYXRlZCBwcm9wZXJ0eSBpcyB1c2VkLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogQERpcmVjdGl2ZSh7XG4gKiAgIHNlbGVjdG9yOiAnaW50ZXJ2YWwtZGlyJyxcbiAqIH0pXG4gKiBjbGFzcyBJbnRlcnZhbERpciB7XG4gKiAgIEBPdXRwdXQoKSBldmVyeVNlY29uZCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAqICAgQE91dHB1dCgnZXZlcnlGaXZlU2Vjb25kcycpIGZpdmU1U2VjcyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAqXG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgIHNldEludGVydmFsKCgpID0+IHRoaXMuZXZlcnlTZWNvbmQuZW1pdChcImV2ZW50XCIpLCAxMDAwKTtcbiAqICAgICBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLmZpdmU1U2Vjcy5lbWl0KFwiZXZlbnRcIiksIDUwMDApO1xuICogICB9XG4gKiB9XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnYXBwJyxcbiAqICAgdGVtcGxhdGU6IGBcbiAqICAgICA8aW50ZXJ2YWwtZGlyIChldmVyeVNlY29uZCk9XCJldmVyeVNlY29uZCgpXCIgKGV2ZXJ5Rml2ZVNlY29uZHMpPVwiZXZlcnlGaXZlU2Vjb25kcygpXCI+XG4gKiAgICAgPC9pbnRlcnZhbC1kaXI+XG4gKiAgIGAsXG4gKiAgIGRpcmVjdGl2ZXM6IFtJbnRlcnZhbERpcl1cbiAqIH0pXG4gKiBjbGFzcyBBcHAge1xuICogICBldmVyeVNlY29uZCgpIHsgY29uc29sZS5sb2coJ3NlY29uZCcpOyB9XG4gKiAgIGV2ZXJ5Rml2ZVNlY29uZHMoKSB7IGNvbnNvbGUubG9nKCdmaXZlIHNlY29uZHMnKTsgfVxuICogfVxuICogYm9vdHN0cmFwKEFwcCk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0cy5PdXRwdXQgPSBkZWNvcmF0b3JzXzEubWFrZVByb3BEZWNvcmF0b3IoZGlyZWN0aXZlc18yLk91dHB1dE1ldGFkYXRhKTtcbi8vIFRPRE8oYWxleGVhZ2xlKTogcmVtb3ZlIHRoZSBkdXBsaWNhdGlvbiBvZiB0aGlzIGRvYy4gSXQgaXMgY29waWVkIGZyb20gSG9zdEJpbmRpbmdNZXRhZGF0YS5cbi8qKlxuICogRGVjbGFyZXMgYSBob3N0IHByb3BlcnR5IGJpbmRpbmcuXG4gKlxuICogQW5ndWxhciBhdXRvbWF0aWNhbGx5IGNoZWNrcyBob3N0IHByb3BlcnR5IGJpbmRpbmdzIGR1cmluZyBjaGFuZ2UgZGV0ZWN0aW9uLlxuICogSWYgYSBiaW5kaW5nIGNoYW5nZXMsIGl0IHdpbGwgdXBkYXRlIHRoZSBob3N0IGVsZW1lbnQgb2YgdGhlIGRpcmVjdGl2ZS5cbiAqXG4gKiBgSG9zdEJpbmRpbmdNZXRhZGF0YWAgdGFrZXMgYW4gb3B0aW9uYWwgcGFyYW1ldGVyIHRoYXQgc3BlY2lmaWVzIHRoZSBwcm9wZXJ0eVxuICogbmFtZSBvZiB0aGUgaG9zdCBlbGVtZW50IHRoYXQgd2lsbCBiZSB1cGRhdGVkLiBXaGVuIG5vdCBwcm92aWRlZCxcbiAqIHRoZSBjbGFzcyBwcm9wZXJ0eSBuYW1lIGlzIHVzZWQuXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgY3JlYXRlcyBhIGRpcmVjdGl2ZSB0aGF0IHNldHMgdGhlIGB2YWxpZGAgYW5kIGBpbnZhbGlkYCBjbGFzc2VzXG4gKiBvbiB0aGUgRE9NIGVsZW1lbnQgdGhhdCBoYXMgbmdNb2RlbCBkaXJlY3RpdmUgb24gaXQuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogQERpcmVjdGl2ZSh7c2VsZWN0b3I6ICdbbmdNb2RlbF0nfSlcbiAqIGNsYXNzIE5nTW9kZWxTdGF0dXMge1xuICogICBjb25zdHJ1Y3RvcihwdWJsaWMgY29udHJvbDpOZ01vZGVsKSB7fVxuICogICBASG9zdEJpbmRpbmcoJ1tjbGFzcy52YWxpZF0nKSBnZXQgdmFsaWQgeyByZXR1cm4gdGhpcy5jb250cm9sLnZhbGlkOyB9XG4gKiAgIEBIb3N0QmluZGluZygnW2NsYXNzLmludmFsaWRdJykgZ2V0IGludmFsaWQgeyByZXR1cm4gdGhpcy5jb250cm9sLmludmFsaWQ7IH1cbiAqIH1cbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICdhcHAnLFxuICogICB0ZW1wbGF0ZTogYDxpbnB1dCBbKG5nTW9kZWwpXT1cInByb3BcIj5gLFxuICogICBkaXJlY3RpdmVzOiBbRk9STV9ESVJFQ1RJVkVTLCBOZ01vZGVsU3RhdHVzXVxuICogfSlcbiAqIGNsYXNzIEFwcCB7XG4gKiAgIHByb3A7XG4gKiB9XG4gKlxuICogYm9vdHN0cmFwKEFwcCk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0cy5Ib3N0QmluZGluZyA9IGRlY29yYXRvcnNfMS5tYWtlUHJvcERlY29yYXRvcihkaXJlY3RpdmVzXzIuSG9zdEJpbmRpbmdNZXRhZGF0YSk7XG4vLyBUT0RPKGFsZXhlYWdsZSk6IHJlbW92ZSB0aGUgZHVwbGljYXRpb24gb2YgdGhpcyBkb2MuIEl0IGlzIGNvcGllZCBmcm9tIEhvc3RMaXN0ZW5lck1ldGFkYXRhLlxuLyoqXG4gKiBEZWNsYXJlcyBhIGhvc3QgbGlzdGVuZXIuXG4gKlxuICogQW5ndWxhciB3aWxsIGludm9rZSB0aGUgZGVjb3JhdGVkIG1ldGhvZCB3aGVuIHRoZSBob3N0IGVsZW1lbnQgZW1pdHMgdGhlIHNwZWNpZmllZCBldmVudC5cbiAqXG4gKiBJZiB0aGUgZGVjb3JhdGVkIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAsIHRoZW4gYHByZXZlbnREZWZhdWx0YCBpcyBhcHBsaWVkIG9uIHRoZSBET01cbiAqIGV2ZW50LlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIGRlY2xhcmVzIGEgZGlyZWN0aXZlIHRoYXQgYXR0YWNoZXMgYSBjbGljayBsaXN0ZW5lciB0byB0aGUgYnV0dG9uIGFuZFxuICogY291bnRzIGNsaWNrcy5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBARGlyZWN0aXZlKHtzZWxlY3RvcjogJ2J1dHRvbltjb3VudGluZ10nfSlcbiAqIGNsYXNzIENvdW50Q2xpY2tzIHtcbiAqICAgbnVtYmVyT2ZDbGlja3MgPSAwO1xuICpcbiAqICAgQEhvc3RMaXN0ZW5lcignY2xpY2snLCBbJyRldmVudC50YXJnZXQnXSlcbiAqICAgb25DbGljayhidG4pIHtcbiAqICAgICBjb25zb2xlLmxvZyhcImJ1dHRvblwiLCBidG4sIFwibnVtYmVyIG9mIGNsaWNrczpcIiwgdGhpcy5udW1iZXJPZkNsaWNrcysrKTtcbiAqICAgfVxuICogfVxuICpcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ2FwcCcsXG4gKiAgIHRlbXBsYXRlOiBgPGJ1dHRvbiBjb3VudGluZz5JbmNyZW1lbnQ8L2J1dHRvbj5gLFxuICogICBkaXJlY3RpdmVzOiBbQ291bnRDbGlja3NdXG4gKiB9KVxuICogY2xhc3MgQXBwIHt9XG4gKlxuICogYm9vdHN0cmFwKEFwcCk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0cy5Ib3N0TGlzdGVuZXIgPSBkZWNvcmF0b3JzXzEubWFrZVByb3BEZWNvcmF0b3IoZGlyZWN0aXZlc18yLkhvc3RMaXN0ZW5lck1ldGFkYXRhKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1ldGFkYXRhLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgbWV0YWRhdGFfMSA9IHJlcXVpcmUoJy4uL2RpL21ldGFkYXRhJyk7XG52YXIgZm9yd2FyZF9yZWZfMSA9IHJlcXVpcmUoJy4uL2RpL2ZvcndhcmRfcmVmJyk7XG4vKipcbiAqIFNwZWNpZmllcyB0aGF0IGEgY29uc3RhbnQgYXR0cmlidXRlIHZhbHVlIHNob3VsZCBiZSBpbmplY3RlZC5cbiAqXG4gKiBUaGUgZGlyZWN0aXZlIGNhbiBpbmplY3QgY29uc3RhbnQgc3RyaW5nIGxpdGVyYWxzIG9mIGhvc3QgZWxlbWVudCBhdHRyaWJ1dGVzLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogU3VwcG9zZSB3ZSBoYXZlIGFuIGA8aW5wdXQ+YCBlbGVtZW50IGFuZCB3YW50IHRvIGtub3cgaXRzIGB0eXBlYC5cbiAqXG4gKiBgYGBodG1sXG4gKiA8aW5wdXQgdHlwZT1cInRleHRcIj5cbiAqIGBgYFxuICpcbiAqIEEgZGVjb3JhdG9yIGNhbiBpbmplY3Qgc3RyaW5nIGxpdGVyYWwgYHRleHRgIGxpa2Ugc286XG4gKlxuICoge0BleGFtcGxlIGNvcmUvdHMvbWV0YWRhdGEvbWV0YWRhdGEudHMgcmVnaW9uPSdhdHRyaWJ1dGVNZXRhZGF0YSd9XG4gKiBAdHMyZGFydF9jb25zdFxuICovXG52YXIgQXR0cmlidXRlTWV0YWRhdGEgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBdHRyaWJ1dGVNZXRhZGF0YSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBdHRyaWJ1dGVNZXRhZGF0YShhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZU5hbWUgPSBhdHRyaWJ1dGVOYW1lO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXR0cmlidXRlTWV0YWRhdGEucHJvdG90eXBlLCBcInRva2VuXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBOb3JtYWxseSBvbmUgd291bGQgZGVmYXVsdCBhIHRva2VuIHRvIGEgdHlwZSBvZiBhbiBpbmplY3RlZCB2YWx1ZSBidXQgaGVyZVxuICAgICAgICAgICAgLy8gdGhlIHR5cGUgb2YgYSB2YXJpYWJsZSBpcyBcInN0cmluZ1wiIGFuZCB3ZSBjYW4ndCB1c2UgcHJpbWl0aXZlIHR5cGUgYXMgYSByZXR1cm4gdmFsdWVcbiAgICAgICAgICAgIC8vIHNvIHdlIHVzZSBpbnN0YW5jZSBvZiBBdHRyaWJ1dGUgaW5zdGVhZC4gVGhpcyBkb2Vzbid0IG1hdHRlciBtdWNoIGluIHByYWN0aWNlIGFzIGFyZ3VtZW50c1xuICAgICAgICAgICAgLy8gd2l0aCBAQXR0cmlidXRlIGFubm90YXRpb24gYXJlIGluamVjdGVkIGJ5IEVsZW1lbnRJbmplY3RvciB0aGF0IGRvZXNuJ3QgdGFrZSB0b2tlbnMgaW50b1xuICAgICAgICAgICAgLy8gYWNjb3VudC5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBBdHRyaWJ1dGVNZXRhZGF0YS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBcIkBBdHRyaWJ1dGUoXCIgKyBsYW5nXzEuc3RyaW5naWZ5KHRoaXMuYXR0cmlidXRlTmFtZSkgKyBcIilcIjsgfTtcbiAgICByZXR1cm4gQXR0cmlidXRlTWV0YWRhdGE7XG59KG1ldGFkYXRhXzEuRGVwZW5kZW5jeU1ldGFkYXRhKSk7XG5leHBvcnRzLkF0dHJpYnV0ZU1ldGFkYXRhID0gQXR0cmlidXRlTWV0YWRhdGE7XG4vKipcbiAqIERlY2xhcmVzIGFuIGluamVjdGFibGUgcGFyYW1ldGVyIHRvIGJlIGEgbGl2ZSBsaXN0IG9mIGRpcmVjdGl2ZXMgb3IgdmFyaWFibGVcbiAqIGJpbmRpbmdzIGZyb20gdGhlIGNvbnRlbnQgY2hpbGRyZW4gb2YgYSBkaXJlY3RpdmUuXG4gKlxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L2xZOW04SEx5N3owNnZEb1VhU04yP3A9cHJldmlldykpXG4gKlxuICogQXNzdW1lIHRoYXQgYDx0YWJzPmAgY29tcG9uZW50IHdvdWxkIGxpa2UgdG8gZ2V0IGEgbGlzdCBpdHMgY2hpbGRyZW4gYDxwYW5lPmBcbiAqIGNvbXBvbmVudHMgYXMgc2hvd24gaW4gdGhpcyBleGFtcGxlOlxuICpcbiAqIGBgYGh0bWxcbiAqIDx0YWJzPlxuICogICA8cGFuZSB0aXRsZT1cIk92ZXJ2aWV3XCI+Li4uPC9wYW5lPlxuICogICA8cGFuZSAqbmdGb3I9XCJsZXQgbyBvZiBvYmplY3RzXCIgW3RpdGxlXT1cIm8udGl0bGVcIj57e28udGV4dH19PC9wYW5lPlxuICogPC90YWJzPlxuICogYGBgXG4gKlxuICogVGhlIHByZWZlcnJlZCBzb2x1dGlvbiBpcyB0byBxdWVyeSBmb3IgYFBhbmVgIGRpcmVjdGl2ZXMgdXNpbmcgdGhpcyBkZWNvcmF0b3IuXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAncGFuZScsXG4gKiAgIGlucHV0czogWyd0aXRsZSddXG4gKiB9KVxuICogY2xhc3MgUGFuZSB7XG4gKiAgIHRpdGxlOnN0cmluZztcbiAqIH1cbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICBzZWxlY3RvcjogJ3RhYnMnLFxuICogIHRlbXBsYXRlOiBgXG4gKiAgICA8dWw+XG4gKiAgICAgIDxsaSAqbmdGb3I9XCJsZXQgcGFuZSBvZiBwYW5lc1wiPnt7cGFuZS50aXRsZX19PC9saT5cbiAqICAgIDwvdWw+XG4gKiAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG4gKiAgYFxuICogfSlcbiAqIGNsYXNzIFRhYnMge1xuICogICBwYW5lczogUXVlcnlMaXN0PFBhbmU+O1xuICogICBjb25zdHJ1Y3RvcihAUXVlcnkoUGFuZSkgcGFuZXM6UXVlcnlMaXN0PFBhbmU+KSB7XG4gICogICAgdGhpcy5wYW5lcyA9IHBhbmVzO1xuICAqICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBBIHF1ZXJ5IGNhbiBsb29rIGZvciB2YXJpYWJsZSBiaW5kaW5ncyBieSBwYXNzaW5nIGluIGEgc3RyaW5nIHdpdGggZGVzaXJlZCBiaW5kaW5nIHN5bWJvbC5cbiAqXG4gKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvc1QyajI1Y0gxZFVSQXlCUkNLeDE/cD1wcmV2aWV3KSlcbiAqIGBgYGh0bWxcbiAqIDxzZWVrZXI+XG4gKiAgIDxkaXYgI2ZpbmRtZT4uLi48L2Rpdj5cbiAqIDwvc2Vla2VyPlxuICpcbiAqIEBDb21wb25lbnQoeyBzZWxlY3RvcjogJ3NlZWtlcicgfSlcbiAqIGNsYXNzIFNlZWtlciB7XG4gKiAgIGNvbnN0cnVjdG9yKEBRdWVyeSgnZmluZG1lJykgZWxMaXN0OiBRdWVyeUxpc3Q8RWxlbWVudFJlZj4pIHsuLi59XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBJbiB0aGlzIGNhc2UgdGhlIG9iamVjdCB0aGF0IGlzIGluamVjdGVkIGRlcGVuZCBvbiB0aGUgdHlwZSBvZiB0aGUgdmFyaWFibGVcbiAqIGJpbmRpbmcuIEl0IGNhbiBiZSBhbiBFbGVtZW50UmVmLCBhIGRpcmVjdGl2ZSBvciBhIGNvbXBvbmVudC5cbiAqXG4gKiBQYXNzaW5nIGluIGEgY29tbWEgc2VwYXJhdGVkIGxpc3Qgb2YgdmFyaWFibGUgYmluZGluZ3Mgd2lsbCBxdWVyeSBmb3IgYWxsIG9mIHRoZW0uXG4gKlxuICogYGBgaHRtbFxuICogPHNlZWtlcj5cbiAqICAgPGRpdiAjZmluZC1tZT4uLi48L2Rpdj5cbiAqICAgPGRpdiAjZmluZC1tZS10b28+Li4uPC9kaXY+XG4gKiA8L3NlZWtlcj5cbiAqXG4gKiAgQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnc2Vla2VyJ1xuICogfSlcbiAqIGNsYXNzIFNlZWtlciB7XG4gKiAgIGNvbnN0cnVjdG9yKEBRdWVyeSgnZmluZE1lLCBmaW5kTWVUb28nKSBlbExpc3Q6IFF1ZXJ5TGlzdDxFbGVtZW50UmVmPikgey4uLn1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIENvbmZpZ3VyZSB3aGV0aGVyIHF1ZXJ5IGxvb2tzIGZvciBkaXJlY3QgY2hpbGRyZW4gb3IgYWxsIGRlc2NlbmRhbnRzXG4gKiBvZiB0aGUgcXVlcnlpbmcgZWxlbWVudCwgYnkgdXNpbmcgdGhlIGBkZXNjZW5kYW50c2AgcGFyYW1ldGVyLlxuICogSXQgaXMgc2V0IHRvIGBmYWxzZWAgYnkgZGVmYXVsdC5cbiAqXG4gKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvd3RHZUI5NzdidjdxdkE1RlRZbDk/cD1wcmV2aWV3KSlcbiAqIGBgYGh0bWxcbiAqIDxjb250YWluZXIgI2ZpcnN0PlxuICogICA8aXRlbT5hPC9pdGVtPlxuICogICA8aXRlbT5iPC9pdGVtPlxuICogICA8Y29udGFpbmVyICNzZWNvbmQ+XG4gKiAgICAgPGl0ZW0+YzwvaXRlbT5cbiAqICAgPC9jb250YWluZXI+XG4gKiA8L2NvbnRhaW5lcj5cbiAqIGBgYFxuICpcbiAqIFdoZW4gcXVlcnlpbmcgZm9yIGl0ZW1zLCB0aGUgZmlyc3QgY29udGFpbmVyIHdpbGwgc2VlIG9ubHkgYGFgIGFuZCBgYmAgYnkgZGVmYXVsdCxcbiAqIGJ1dCB3aXRoIGBRdWVyeShUZXh0RGlyZWN0aXZlLCB7ZGVzY2VuZGFudHM6IHRydWV9KWAgaXQgd2lsbCBzZWUgYGNgIHRvby5cbiAqXG4gKiBUaGUgcXVlcmllZCBkaXJlY3RpdmVzIGFyZSBrZXB0IGluIGEgZGVwdGgtZmlyc3QgcHJlLW9yZGVyIHdpdGggcmVzcGVjdCB0byB0aGVpclxuICogcG9zaXRpb25zIGluIHRoZSBET00uXG4gKlxuICogUXVlcnkgZG9lcyBub3QgbG9vayBkZWVwIGludG8gYW55IHN1YmNvbXBvbmVudCB2aWV3cy5cbiAqXG4gKiBRdWVyeSBpcyB1cGRhdGVkIGFzIHBhcnQgb2YgdGhlIGNoYW5nZS1kZXRlY3Rpb24gY3ljbGUuIFNpbmNlIGNoYW5nZSBkZXRlY3Rpb25cbiAqIGhhcHBlbnMgYWZ0ZXIgY29uc3RydWN0aW9uIG9mIGEgZGlyZWN0aXZlLCBRdWVyeUxpc3Qgd2lsbCBhbHdheXMgYmUgZW1wdHkgd2hlbiBvYnNlcnZlZCBpbiB0aGVcbiAqIGNvbnN0cnVjdG9yLlxuICpcbiAqIFRoZSBpbmplY3RlZCBvYmplY3QgaXMgYW4gdW5tb2RpZmlhYmxlIGxpdmUgbGlzdC5cbiAqIFNlZSB7QGxpbmsgUXVlcnlMaXN0fSBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHRzMmRhcnRfY29uc3RcbiAqL1xudmFyIFF1ZXJ5TWV0YWRhdGEgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhRdWVyeU1ldGFkYXRhLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFF1ZXJ5TWV0YWRhdGEoX3NlbGVjdG9yLCBfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgX2MgPSBfYi5kZXNjZW5kYW50cywgZGVzY2VuZGFudHMgPSBfYyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfYywgX2QgPSBfYi5maXJzdCwgZmlyc3QgPSBfZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfZCwgX2UgPSBfYi5yZWFkLCByZWFkID0gX2UgPT09IHZvaWQgMCA/IG51bGwgOiBfZTtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX3NlbGVjdG9yID0gX3NlbGVjdG9yO1xuICAgICAgICB0aGlzLmRlc2NlbmRhbnRzID0gZGVzY2VuZGFudHM7XG4gICAgICAgIHRoaXMuZmlyc3QgPSBmaXJzdDtcbiAgICAgICAgdGhpcy5yZWFkID0gcmVhZDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFF1ZXJ5TWV0YWRhdGEucHJvdG90eXBlLCBcImlzVmlld1F1ZXJ5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFsd2F5cyBgZmFsc2VgIHRvIGRpZmZlcmVudGlhdGUgaXQgd2l0aCB7QGxpbmsgVmlld1F1ZXJ5TWV0YWRhdGF9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFF1ZXJ5TWV0YWRhdGEucHJvdG90eXBlLCBcInNlbGVjdG9yXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHdoYXQgdGhpcyBpcyBxdWVyeWluZyBmb3IuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZvcndhcmRfcmVmXzEucmVzb2x2ZUZvcndhcmRSZWYodGhpcy5fc2VsZWN0b3IpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUXVlcnlNZXRhZGF0YS5wcm90b3R5cGUsIFwiaXNWYXJCaW5kaW5nUXVlcnlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogd2hldGhlciB0aGlzIGlzIHF1ZXJ5aW5nIGZvciBhIHZhcmlhYmxlIGJpbmRpbmcgb3IgYSBkaXJlY3RpdmUuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxhbmdfMS5pc1N0cmluZyh0aGlzLnNlbGVjdG9yKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFF1ZXJ5TWV0YWRhdGEucHJvdG90eXBlLCBcInZhckJpbmRpbmdzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybnMgYSBsaXN0IG9mIHZhcmlhYmxlIGJpbmRpbmdzIHRoaXMgaXMgcXVlcnlpbmcgZm9yLlxuICAgICAgICAgKiBPbmx5IGFwcGxpY2FibGUgaWYgdGhpcyBpcyBhIHZhcmlhYmxlIGJpbmRpbmdzIHF1ZXJ5LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnNlbGVjdG9yLnNwbGl0KCcsJyk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFF1ZXJ5TWV0YWRhdGEucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJAUXVlcnkoXCIgKyBsYW5nXzEuc3RyaW5naWZ5KHRoaXMuc2VsZWN0b3IpICsgXCIpXCI7IH07XG4gICAgcmV0dXJuIFF1ZXJ5TWV0YWRhdGE7XG59KG1ldGFkYXRhXzEuRGVwZW5kZW5jeU1ldGFkYXRhKSk7XG5leHBvcnRzLlF1ZXJ5TWV0YWRhdGEgPSBRdWVyeU1ldGFkYXRhO1xuLy8gVE9ETzogYWRkIGFuIGV4YW1wbGUgYWZ0ZXIgQ29udGVudENoaWxkcmVuIGFuZCBWaWV3Q2hpbGRyZW4gYXJlIGluIG1hc3RlclxuLyoqXG4gKiBDb25maWd1cmVzIGEgY29udGVudCBxdWVyeS5cbiAqXG4gKiBDb250ZW50IHF1ZXJpZXMgYXJlIHNldCBiZWZvcmUgdGhlIGBuZ0FmdGVyQ29udGVudEluaXRgIGNhbGxiYWNrIGlzIGNhbGxlZC5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYFxuICogQERpcmVjdGl2ZSh7XG4gKiAgIHNlbGVjdG9yOiAnc29tZURpcidcbiAqIH0pXG4gKiBjbGFzcyBTb21lRGlyIHtcbiAqICAgQENvbnRlbnRDaGlsZHJlbihDaGlsZERpcmVjdGl2ZSkgY29udGVudENoaWxkcmVuOiBRdWVyeUxpc3Q8Q2hpbGREaXJlY3RpdmU+O1xuICpcbiAqICAgbmdBZnRlckNvbnRlbnRJbml0KCkge1xuICogICAgIC8vIGNvbnRlbnRDaGlsZHJlbiBpcyBzZXRcbiAqICAgfVxuICogfVxuICogYGBgXG4gKiBAdHMyZGFydF9jb25zdFxuICovXG52YXIgQ29udGVudENoaWxkcmVuTWV0YWRhdGEgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb250ZW50Q2hpbGRyZW5NZXRhZGF0YSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb250ZW50Q2hpbGRyZW5NZXRhZGF0YShfc2VsZWN0b3IsIF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBfYyA9IF9iLmRlc2NlbmRhbnRzLCBkZXNjZW5kYW50cyA9IF9jID09PSB2b2lkIDAgPyBmYWxzZSA6IF9jLCBfZCA9IF9iLnJlYWQsIHJlYWQgPSBfZCA9PT0gdm9pZCAwID8gbnVsbCA6IF9kO1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBfc2VsZWN0b3IsIHsgZGVzY2VuZGFudHM6IGRlc2NlbmRhbnRzLCByZWFkOiByZWFkIH0pO1xuICAgIH1cbiAgICByZXR1cm4gQ29udGVudENoaWxkcmVuTWV0YWRhdGE7XG59KFF1ZXJ5TWV0YWRhdGEpKTtcbmV4cG9ydHMuQ29udGVudENoaWxkcmVuTWV0YWRhdGEgPSBDb250ZW50Q2hpbGRyZW5NZXRhZGF0YTtcbi8vIFRPRE86IGFkZCBhbiBleGFtcGxlIGFmdGVyIENvbnRlbnRDaGlsZCBhbmQgVmlld0NoaWxkIGFyZSBpbiBtYXN0ZXJcbi8qKlxuICogQ29uZmlndXJlcyBhIGNvbnRlbnQgcXVlcnkuXG4gKlxuICogQ29udGVudCBxdWVyaWVzIGFyZSBzZXQgYmVmb3JlIHRoZSBgbmdBZnRlckNvbnRlbnRJbml0YCBjYWxsYmFjayBpcyBjYWxsZWQuXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGBcbiAqIEBEaXJlY3RpdmUoe1xuICogICBzZWxlY3RvcjogJ3NvbWVEaXInXG4gKiB9KVxuICogY2xhc3MgU29tZURpciB7XG4gKiAgIEBDb250ZW50Q2hpbGQoQ2hpbGREaXJlY3RpdmUpIGNvbnRlbnRDaGlsZDtcbiAqXG4gKiAgIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcbiAqICAgICAvLyBjb250ZW50Q2hpbGQgaXMgc2V0XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICogQHRzMmRhcnRfY29uc3RcbiAqL1xudmFyIENvbnRlbnRDaGlsZE1ldGFkYXRhID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29udGVudENoaWxkTWV0YWRhdGEsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29udGVudENoaWxkTWV0YWRhdGEoX3NlbGVjdG9yLCBfYSkge1xuICAgICAgICB2YXIgX2IgPSAoX2EgPT09IHZvaWQgMCA/IHt9IDogX2EpLnJlYWQsIHJlYWQgPSBfYiA9PT0gdm9pZCAwID8gbnVsbCA6IF9iO1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBfc2VsZWN0b3IsIHsgZGVzY2VuZGFudHM6IHRydWUsIGZpcnN0OiB0cnVlLCByZWFkOiByZWFkIH0pO1xuICAgIH1cbiAgICByZXR1cm4gQ29udGVudENoaWxkTWV0YWRhdGE7XG59KFF1ZXJ5TWV0YWRhdGEpKTtcbmV4cG9ydHMuQ29udGVudENoaWxkTWV0YWRhdGEgPSBDb250ZW50Q2hpbGRNZXRhZGF0YTtcbi8qKlxuICogU2ltaWxhciB0byB7QGxpbmsgUXVlcnlNZXRhZGF0YX0sIGJ1dCBxdWVyeWluZyB0aGUgY29tcG9uZW50IHZpZXcsIGluc3RlYWQgb2ZcbiAqIHRoZSBjb250ZW50IGNoaWxkcmVuLlxuICpcbiAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9lTnNGSERmN1lqeU02SXpLeE0xaj9wPXByZXZpZXcpKVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIEBDb21wb25lbnQoe1xuICogICAuLi4sXG4gKiAgIHRlbXBsYXRlOiBgXG4gKiAgICAgPGl0ZW0+IGEgPC9pdGVtPlxuICogICAgIDxpdGVtPiBiIDwvaXRlbT5cbiAqICAgICA8aXRlbT4gYyA8L2l0ZW0+XG4gKiAgIGBcbiAqIH0pXG4gKiBjbGFzcyBNeUNvbXBvbmVudCB7XG4gKiAgIHNob3duOiBib29sZWFuO1xuICpcbiAqICAgY29uc3RydWN0b3IocHJpdmF0ZSBAVmlld1F1ZXJ5KEl0ZW0pIGl0ZW1zOlF1ZXJ5TGlzdDxJdGVtPikge1xuICogICAgIGl0ZW1zLmNoYW5nZXMuc3Vic2NyaWJlKCgpID0+IGNvbnNvbGUubG9nKGl0ZW1zLmxlbmd0aCkpO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBTdXBwb3J0cyB0aGUgc2FtZSBxdWVyeWluZyBwYXJhbWV0ZXJzIGFzIHtAbGluayBRdWVyeU1ldGFkYXRhfSwgZXhjZXB0XG4gKiBgZGVzY2VuZGFudHNgLiBUaGlzIGFsd2F5cyBxdWVyaWVzIHRoZSB3aG9sZSB2aWV3LlxuICpcbiAqIEFzIGBzaG93bmAgaXMgZmxpcHBlZCBiZXR3ZWVuIHRydWUgYW5kIGZhbHNlLCBpdGVtcyB3aWxsIGNvbnRhaW4gemVybyBvZiBvbmVcbiAqIGl0ZW1zLlxuICpcbiAqIFNwZWNpZmllcyB0aGF0IGEge0BsaW5rIFF1ZXJ5TGlzdH0gc2hvdWxkIGJlIGluamVjdGVkLlxuICpcbiAqIFRoZSBpbmplY3RlZCBvYmplY3QgaXMgYW4gaXRlcmFibGUgYW5kIG9ic2VydmFibGUgbGl2ZSBsaXN0LlxuICogU2VlIHtAbGluayBRdWVyeUxpc3R9IGZvciBtb3JlIGRldGFpbHMuXG4gKiBAdHMyZGFydF9jb25zdFxuICovXG52YXIgVmlld1F1ZXJ5TWV0YWRhdGEgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhWaWV3UXVlcnlNZXRhZGF0YSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBWaWV3UXVlcnlNZXRhZGF0YShfc2VsZWN0b3IsIF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBfYyA9IF9iLmRlc2NlbmRhbnRzLCBkZXNjZW5kYW50cyA9IF9jID09PSB2b2lkIDAgPyBmYWxzZSA6IF9jLCBfZCA9IF9iLmZpcnN0LCBmaXJzdCA9IF9kID09PSB2b2lkIDAgPyBmYWxzZSA6IF9kLCBfZSA9IF9iLnJlYWQsIHJlYWQgPSBfZSA9PT0gdm9pZCAwID8gbnVsbCA6IF9lO1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBfc2VsZWN0b3IsIHsgZGVzY2VuZGFudHM6IGRlc2NlbmRhbnRzLCBmaXJzdDogZmlyc3QsIHJlYWQ6IHJlYWQgfSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3UXVlcnlNZXRhZGF0YS5wcm90b3R5cGUsIFwiaXNWaWV3UXVlcnlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogYWx3YXlzIGB0cnVlYCB0byBkaWZmZXJlbnRpYXRlIGl0IHdpdGgge0BsaW5rIFF1ZXJ5TWV0YWRhdGF9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBWaWV3UXVlcnlNZXRhZGF0YS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBcIkBWaWV3UXVlcnkoXCIgKyBsYW5nXzEuc3RyaW5naWZ5KHRoaXMuc2VsZWN0b3IpICsgXCIpXCI7IH07XG4gICAgcmV0dXJuIFZpZXdRdWVyeU1ldGFkYXRhO1xufShRdWVyeU1ldGFkYXRhKSk7XG5leHBvcnRzLlZpZXdRdWVyeU1ldGFkYXRhID0gVmlld1F1ZXJ5TWV0YWRhdGE7XG4vKipcbiAqIERlY2xhcmVzIGEgbGlzdCBvZiBjaGlsZCBlbGVtZW50IHJlZmVyZW5jZXMuXG4gKlxuICogQW5ndWxhciBhdXRvbWF0aWNhbGx5IHVwZGF0ZXMgdGhlIGxpc3Qgd2hlbiB0aGUgRE9NIGlzIHVwZGF0ZWQuXG4gKlxuICogYFZpZXdDaGlsZHJlbmAgdGFrZXMgYW4gYXJndW1lbnQgdG8gc2VsZWN0IGVsZW1lbnRzLlxuICpcbiAqIC0gSWYgdGhlIGFyZ3VtZW50IGlzIGEgdHlwZSwgZGlyZWN0aXZlcyBvciBjb21wb25lbnRzIHdpdGggdGhlIHR5cGUgd2lsbCBiZSBib3VuZC5cbiAqXG4gKiAtIElmIHRoZSBhcmd1bWVudCBpcyBhIHN0cmluZywgdGhlIHN0cmluZyBpcyBpbnRlcnByZXRlZCBhcyBhIGxpc3Qgb2YgY29tbWEtc2VwYXJhdGVkIHNlbGVjdG9ycy5cbiAqIEZvciBlYWNoIHNlbGVjdG9yLCBhbiBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIG1hdGNoaW5nIHRlbXBsYXRlIHZhcmlhYmxlIChlLmcuIGAjY2hpbGRgKSB3aWxsIGJlXG4gKiBib3VuZC5cbiAqXG4gKiBWaWV3IGNoaWxkcmVuIGFyZSBzZXQgYmVmb3JlIHRoZSBgbmdBZnRlclZpZXdJbml0YCBjYWxsYmFjayBpcyBjYWxsZWQuXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBXaXRoIHR5cGUgc2VsZWN0b3I6XG4gKlxuICogYGBgXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICdjaGlsZC1jbXAnLFxuICogICB0ZW1wbGF0ZTogJzxwPmNoaWxkPC9wPidcbiAqIH0pXG4gKiBjbGFzcyBDaGlsZENtcCB7XG4gKiAgIGRvU29tZXRoaW5nKCkge31cbiAqIH1cbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICdzb21lLWNtcCcsXG4gKiAgIHRlbXBsYXRlOiBgXG4gKiAgICAgPGNoaWxkLWNtcD48L2NoaWxkLWNtcD5cbiAqICAgICA8Y2hpbGQtY21wPjwvY2hpbGQtY21wPlxuICogICAgIDxjaGlsZC1jbXA+PC9jaGlsZC1jbXA+XG4gKiAgIGAsXG4gKiAgIGRpcmVjdGl2ZXM6IFtDaGlsZENtcF1cbiAqIH0pXG4gKiBjbGFzcyBTb21lQ21wIHtcbiAqICAgQFZpZXdDaGlsZHJlbihDaGlsZENtcCkgY2hpbGRyZW46UXVlcnlMaXN0PENoaWxkQ21wPjtcbiAqXG4gKiAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAqICAgICAvLyBjaGlsZHJlbiBhcmUgc2V0XG4gKiAgICAgdGhpcy5jaGlsZHJlbi50b0FycmF5KCkuZm9yRWFjaCgoY2hpbGQpPT5jaGlsZC5kb1NvbWV0aGluZygpKTtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogV2l0aCBzdHJpbmcgc2VsZWN0b3I6XG4gKlxuICogYGBgXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICdjaGlsZC1jbXAnLFxuICogICB0ZW1wbGF0ZTogJzxwPmNoaWxkPC9wPidcbiAqIH0pXG4gKiBjbGFzcyBDaGlsZENtcCB7XG4gKiAgIGRvU29tZXRoaW5nKCkge31cbiAqIH1cbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICdzb21lLWNtcCcsXG4gKiAgIHRlbXBsYXRlOiBgXG4gKiAgICAgPGNoaWxkLWNtcCAjY2hpbGQxPjwvY2hpbGQtY21wPlxuICogICAgIDxjaGlsZC1jbXAgI2NoaWxkMj48L2NoaWxkLWNtcD5cbiAqICAgICA8Y2hpbGQtY21wICNjaGlsZDM+PC9jaGlsZC1jbXA+XG4gKiAgIGAsXG4gKiAgIGRpcmVjdGl2ZXM6IFtDaGlsZENtcF1cbiAqIH0pXG4gKiBjbGFzcyBTb21lQ21wIHtcbiAqICAgQFZpZXdDaGlsZHJlbignY2hpbGQxLGNoaWxkMixjaGlsZDMnKSBjaGlsZHJlbjpRdWVyeUxpc3Q8Q2hpbGRDbXA+O1xuICpcbiAqICAgbmdBZnRlclZpZXdJbml0KCkge1xuICogICAgIC8vIGNoaWxkcmVuIGFyZSBzZXRcbiAqICAgICB0aGlzLmNoaWxkcmVuLnRvQXJyYXkoKS5mb3JFYWNoKChjaGlsZCk9PmNoaWxkLmRvU29tZXRoaW5nKCkpO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqIEB0czJkYXJ0X2NvbnN0XG4gKi9cbnZhciBWaWV3Q2hpbGRyZW5NZXRhZGF0YSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFZpZXdDaGlsZHJlbk1ldGFkYXRhLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFZpZXdDaGlsZHJlbk1ldGFkYXRhKF9zZWxlY3RvciwgX2EpIHtcbiAgICAgICAgdmFyIF9iID0gKF9hID09PSB2b2lkIDAgPyB7fSA6IF9hKS5yZWFkLCByZWFkID0gX2IgPT09IHZvaWQgMCA/IG51bGwgOiBfYjtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgX3NlbGVjdG9yLCB7IGRlc2NlbmRhbnRzOiB0cnVlLCByZWFkOiByZWFkIH0pO1xuICAgIH1cbiAgICByZXR1cm4gVmlld0NoaWxkcmVuTWV0YWRhdGE7XG59KFZpZXdRdWVyeU1ldGFkYXRhKSk7XG5leHBvcnRzLlZpZXdDaGlsZHJlbk1ldGFkYXRhID0gVmlld0NoaWxkcmVuTWV0YWRhdGE7XG4vKipcbiAqXG4gKiBEZWNsYXJlcyBhIHJlZmVyZW5jZSBvZiBjaGlsZCBlbGVtZW50LlxuICpcbiAqIGBWaWV3Q2hpbGRyZW5gIHRha2VzIGFuIGFyZ3VtZW50IHRvIHNlbGVjdCBlbGVtZW50cy5cbiAqXG4gKiAtIElmIHRoZSBhcmd1bWVudCBpcyBhIHR5cGUsIGEgZGlyZWN0aXZlIG9yIGEgY29tcG9uZW50IHdpdGggdGhlIHR5cGUgd2lsbCBiZSBib3VuZC5cbiAqXG4gSWYgdGhlIGFyZ3VtZW50IGlzIGEgc3RyaW5nLCB0aGUgc3RyaW5nIGlzIGludGVycHJldGVkIGFzIGEgc2VsZWN0b3IuIEFuIGVsZW1lbnQgY29udGFpbmluZyB0aGVcbiBtYXRjaGluZyB0ZW1wbGF0ZSB2YXJpYWJsZSAoZS5nLiBgI2NoaWxkYCkgd2lsbCBiZSBib3VuZC5cbiAqXG4gKiBJbiBlaXRoZXIgY2FzZSwgYEBWaWV3Q2hpbGQoKWAgYXNzaWducyB0aGUgZmlyc3QgKGxvb2tpbmcgZnJvbSBhYm92ZSkgZWxlbWVudCBpZiB0aGVyZSBhcmVcbiBtdWx0aXBsZSBtYXRjaGVzLlxuICpcbiAqIFZpZXcgY2hpbGQgaXMgc2V0IGJlZm9yZSB0aGUgYG5nQWZ0ZXJWaWV3SW5pdGAgY2FsbGJhY2sgaXMgY2FsbGVkLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogV2l0aCB0eXBlIHNlbGVjdG9yOlxuICpcbiAqIGBgYFxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnY2hpbGQtY21wJyxcbiAqICAgdGVtcGxhdGU6ICc8cD5jaGlsZDwvcD4nXG4gKiB9KVxuICogY2xhc3MgQ2hpbGRDbXAge1xuICogICBkb1NvbWV0aGluZygpIHt9XG4gKiB9XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnc29tZS1jbXAnLFxuICogICB0ZW1wbGF0ZTogJzxjaGlsZC1jbXA+PC9jaGlsZC1jbXA+JyxcbiAqICAgZGlyZWN0aXZlczogW0NoaWxkQ21wXVxuICogfSlcbiAqIGNsYXNzIFNvbWVDbXAge1xuICogICBAVmlld0NoaWxkKENoaWxkQ21wKSBjaGlsZDpDaGlsZENtcDtcbiAqXG4gKiAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAqICAgICAvLyBjaGlsZCBpcyBzZXRcbiAqICAgICB0aGlzLmNoaWxkLmRvU29tZXRoaW5nKCk7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIFdpdGggc3RyaW5nIHNlbGVjdG9yOlxuICpcbiAqIGBgYFxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnY2hpbGQtY21wJyxcbiAqICAgdGVtcGxhdGU6ICc8cD5jaGlsZDwvcD4nXG4gKiB9KVxuICogY2xhc3MgQ2hpbGRDbXAge1xuICogICBkb1NvbWV0aGluZygpIHt9XG4gKiB9XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnc29tZS1jbXAnLFxuICogICB0ZW1wbGF0ZTogJzxjaGlsZC1jbXAgI2NoaWxkPjwvY2hpbGQtY21wPicsXG4gKiAgIGRpcmVjdGl2ZXM6IFtDaGlsZENtcF1cbiAqIH0pXG4gKiBjbGFzcyBTb21lQ21wIHtcbiAqICAgQFZpZXdDaGlsZCgnY2hpbGQnKSBjaGlsZDpDaGlsZENtcDtcbiAqXG4gKiAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAqICAgICAvLyBjaGlsZCBpcyBzZXRcbiAqICAgICB0aGlzLmNoaWxkLmRvU29tZXRoaW5nKCk7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICogQHRzMmRhcnRfY29uc3RcbiAqL1xudmFyIFZpZXdDaGlsZE1ldGFkYXRhID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVmlld0NoaWxkTWV0YWRhdGEsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVmlld0NoaWxkTWV0YWRhdGEoX3NlbGVjdG9yLCBfYSkge1xuICAgICAgICB2YXIgX2IgPSAoX2EgPT09IHZvaWQgMCA/IHt9IDogX2EpLnJlYWQsIHJlYWQgPSBfYiA9PT0gdm9pZCAwID8gbnVsbCA6IF9iO1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBfc2VsZWN0b3IsIHsgZGVzY2VuZGFudHM6IHRydWUsIGZpcnN0OiB0cnVlLCByZWFkOiByZWFkIH0pO1xuICAgIH1cbiAgICByZXR1cm4gVmlld0NoaWxkTWV0YWRhdGE7XG59KFZpZXdRdWVyeU1ldGFkYXRhKSk7XG5leHBvcnRzLlZpZXdDaGlsZE1ldGFkYXRhID0gVmlld0NoaWxkTWV0YWRhdGE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIG1ldGFkYXRhXzEgPSByZXF1aXJlKCcuLi9kaS9tZXRhZGF0YScpO1xudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZSgnLi4vY2hhbmdlX2RldGVjdGlvbi9jb25zdGFudHMnKTtcbi8qKlxuICogRGlyZWN0aXZlcyBhbGxvdyB5b3UgdG8gYXR0YWNoIGJlaGF2aW9yIHRvIGVsZW1lbnRzIGluIHRoZSBET00uXG4gKlxuICoge0BsaW5rIERpcmVjdGl2ZU1ldGFkYXRhfXMgd2l0aCBhbiBlbWJlZGRlZCB2aWV3IGFyZSBjYWxsZWQge0BsaW5rIENvbXBvbmVudE1ldGFkYXRhfXMuXG4gKlxuICogQSBkaXJlY3RpdmUgY29uc2lzdHMgb2YgYSBzaW5nbGUgZGlyZWN0aXZlIGFubm90YXRpb24gYW5kIGEgY29udHJvbGxlciBjbGFzcy4gV2hlbiB0aGVcbiAqIGRpcmVjdGl2ZSdzIGBzZWxlY3RvcmAgbWF0Y2hlc1xuICogZWxlbWVudHMgaW4gdGhlIERPTSwgdGhlIGZvbGxvd2luZyBzdGVwcyBvY2N1cjpcbiAqXG4gKiAxLiBGb3IgZWFjaCBkaXJlY3RpdmUsIHRoZSBgRWxlbWVudEluamVjdG9yYCBhdHRlbXB0cyB0byByZXNvbHZlIHRoZSBkaXJlY3RpdmUncyBjb25zdHJ1Y3RvclxuICogYXJndW1lbnRzLlxuICogMi4gQW5ndWxhciBpbnN0YW50aWF0ZXMgZGlyZWN0aXZlcyBmb3IgZWFjaCBtYXRjaGVkIGVsZW1lbnQgdXNpbmcgYEVsZW1lbnRJbmplY3RvcmAgaW4gYVxuICogZGVwdGgtZmlyc3Qgb3JkZXIsXG4gKiAgICBhcyBkZWNsYXJlZCBpbiB0aGUgSFRNTC5cbiAqXG4gKiAjIyBVbmRlcnN0YW5kaW5nIEhvdyBJbmplY3Rpb24gV29ya3NcbiAqXG4gKiBUaGVyZSBhcmUgdGhyZWUgc3RhZ2VzIG9mIGluamVjdGlvbiByZXNvbHV0aW9uLlxuICogLSAqUHJlLWV4aXN0aW5nIEluamVjdG9ycyo6XG4gKiAgIC0gVGhlIHRlcm1pbmFsIHtAbGluayBJbmplY3Rvcn0gY2Fubm90IHJlc29sdmUgZGVwZW5kZW5jaWVzLiBJdCBlaXRoZXIgdGhyb3dzIGFuIGVycm9yIG9yLCBpZlxuICogdGhlIGRlcGVuZGVuY3kgd2FzXG4gKiAgICAgc3BlY2lmaWVkIGFzIGBAT3B0aW9uYWxgLCByZXR1cm5zIGBudWxsYC5cbiAqICAgLSBUaGUgcGxhdGZvcm0gaW5qZWN0b3IgcmVzb2x2ZXMgYnJvd3NlciBzaW5nbGV0b24gcmVzb3VyY2VzLCBzdWNoIGFzOiBjb29raWVzLCB0aXRsZSxcbiAqIGxvY2F0aW9uLCBhbmQgb3RoZXJzLlxuICogLSAqQ29tcG9uZW50IEluamVjdG9ycyo6IEVhY2ggY29tcG9uZW50IGluc3RhbmNlIGhhcyBpdHMgb3duIHtAbGluayBJbmplY3Rvcn0sIGFuZCB0aGV5IGZvbGxvd1xuICogdGhlIHNhbWUgcGFyZW50LWNoaWxkIGhpZXJhcmNoeVxuICogICAgIGFzIHRoZSBjb21wb25lbnQgaW5zdGFuY2VzIGluIHRoZSBET00uXG4gKiAtICpFbGVtZW50IEluamVjdG9ycyo6IEVhY2ggY29tcG9uZW50IGluc3RhbmNlIGhhcyBhIFNoYWRvdyBET00uIFdpdGhpbiB0aGUgU2hhZG93IERPTSBlYWNoXG4gKiBlbGVtZW50IGhhcyBhbiBgRWxlbWVudEluamVjdG9yYFxuICogICAgIHdoaWNoIGZvbGxvdyB0aGUgc2FtZSBwYXJlbnQtY2hpbGQgaGllcmFyY2h5IGFzIHRoZSBET00gZWxlbWVudHMgdGhlbXNlbHZlcy5cbiAqXG4gKiBXaGVuIGEgdGVtcGxhdGUgaXMgaW5zdGFudGlhdGVkLCBpdCBhbHNvIG11c3QgaW5zdGFudGlhdGUgdGhlIGNvcnJlc3BvbmRpbmcgZGlyZWN0aXZlcyBpbiBhXG4gKiBkZXB0aC1maXJzdCBvcmRlci4gVGhlXG4gKiBjdXJyZW50IGBFbGVtZW50SW5qZWN0b3JgIHJlc29sdmVzIHRoZSBjb25zdHJ1Y3RvciBkZXBlbmRlbmNpZXMgZm9yIGVhY2ggZGlyZWN0aXZlLlxuICpcbiAqIEFuZ3VsYXIgdGhlbiByZXNvbHZlcyBkZXBlbmRlbmNpZXMgYXMgZm9sbG93cywgYWNjb3JkaW5nIHRvIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IGFwcGVhciBpbiB0aGVcbiAqIHtAbGluayBWaWV3TWV0YWRhdGF9OlxuICpcbiAqIDEuIERlcGVuZGVuY2llcyBvbiB0aGUgY3VycmVudCBlbGVtZW50XG4gKiAyLiBEZXBlbmRlbmNpZXMgb24gZWxlbWVudCBpbmplY3RvcnMgYW5kIHRoZWlyIHBhcmVudHMgdW50aWwgaXQgZW5jb3VudGVycyBhIFNoYWRvdyBET00gYm91bmRhcnlcbiAqIDMuIERlcGVuZGVuY2llcyBvbiBjb21wb25lbnQgaW5qZWN0b3JzIGFuZCB0aGVpciBwYXJlbnRzIHVudGlsIGl0IGVuY291bnRlcnMgdGhlIHJvb3QgY29tcG9uZW50XG4gKiA0LiBEZXBlbmRlbmNpZXMgb24gcHJlLWV4aXN0aW5nIGluamVjdG9yc1xuICpcbiAqXG4gKiBUaGUgYEVsZW1lbnRJbmplY3RvcmAgY2FuIGluamVjdCBvdGhlciBkaXJlY3RpdmVzLCBlbGVtZW50LXNwZWNpZmljIHNwZWNpYWwgb2JqZWN0cywgb3IgaXQgY2FuXG4gKiBkZWxlZ2F0ZSB0byB0aGUgcGFyZW50XG4gKiBpbmplY3Rvci5cbiAqXG4gKiBUbyBpbmplY3Qgb3RoZXIgZGlyZWN0aXZlcywgZGVjbGFyZSB0aGUgY29uc3RydWN0b3IgcGFyYW1ldGVyIGFzOlxuICogLSBgZGlyZWN0aXZlOkRpcmVjdGl2ZVR5cGVgOiBhIGRpcmVjdGl2ZSBvbiB0aGUgY3VycmVudCBlbGVtZW50IG9ubHlcbiAqIC0gYEBIb3N0KCkgZGlyZWN0aXZlOkRpcmVjdGl2ZVR5cGVgOiBhbnkgZGlyZWN0aXZlIHRoYXQgbWF0Y2hlcyB0aGUgdHlwZSBiZXR3ZWVuIHRoZSBjdXJyZW50XG4gKiBlbGVtZW50IGFuZCB0aGVcbiAqICAgIFNoYWRvdyBET00gcm9vdC5cbiAqIC0gYEBRdWVyeShEaXJlY3RpdmVUeXBlKSBxdWVyeTpRdWVyeUxpc3Q8RGlyZWN0aXZlVHlwZT5gOiBBIGxpdmUgY29sbGVjdGlvbiBvZiBkaXJlY3QgY2hpbGRcbiAqIGRpcmVjdGl2ZXMuXG4gKiAtIGBAUXVlcnlEZXNjZW5kYW50cyhEaXJlY3RpdmVUeXBlKSBxdWVyeTpRdWVyeUxpc3Q8RGlyZWN0aXZlVHlwZT5gOiBBIGxpdmUgY29sbGVjdGlvbiBvZiBhbnlcbiAqIGNoaWxkIGRpcmVjdGl2ZXMuXG4gKlxuICogVG8gaW5qZWN0IGVsZW1lbnQtc3BlY2lmaWMgc3BlY2lhbCBvYmplY3RzLCBkZWNsYXJlIHRoZSBjb25zdHJ1Y3RvciBwYXJhbWV0ZXIgYXM6XG4gKiAtIGBlbGVtZW50OiBFbGVtZW50UmVmYCB0byBvYnRhaW4gYSByZWZlcmVuY2UgdG8gbG9naWNhbCBlbGVtZW50IGluIHRoZSB2aWV3LlxuICogLSBgdmlld0NvbnRhaW5lcjogVmlld0NvbnRhaW5lclJlZmAgdG8gY29udHJvbCBjaGlsZCB0ZW1wbGF0ZSBpbnN0YW50aWF0aW9uLCBmb3JcbiAqIHtAbGluayBEaXJlY3RpdmVNZXRhZGF0YX0gZGlyZWN0aXZlcyBvbmx5XG4gKiAtIGBiaW5kaW5nUHJvcGFnYXRpb246IEJpbmRpbmdQcm9wYWdhdGlvbmAgdG8gY29udHJvbCBjaGFuZ2UgZGV0ZWN0aW9uIGluIGEgbW9yZSBncmFudWxhciB3YXkuXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgZGVtb25zdHJhdGVzIGhvdyBkZXBlbmRlbmN5IGluamVjdGlvbiByZXNvbHZlcyBjb25zdHJ1Y3RvciBhcmd1bWVudHMgaW5cbiAqIHByYWN0aWNlLlxuICpcbiAqXG4gKiBBc3N1bWUgdGhpcyBIVE1MIHRlbXBsYXRlOlxuICpcbiAqIGBgYFxuICogPGRpdiBkZXBlbmRlbmN5PVwiMVwiPlxuICogICA8ZGl2IGRlcGVuZGVuY3k9XCIyXCI+XG4gKiAgICAgPGRpdiBkZXBlbmRlbmN5PVwiM1wiIG15LWRpcmVjdGl2ZT5cbiAqICAgICAgIDxkaXYgZGVwZW5kZW5jeT1cIjRcIj5cbiAqICAgICAgICAgPGRpdiBkZXBlbmRlbmN5PVwiNVwiPjwvZGl2PlxuICogICAgICAgPC9kaXY+XG4gKiAgICAgICA8ZGl2IGRlcGVuZGVuY3k9XCI2XCI+PC9kaXY+XG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZGl2PlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBXaXRoIHRoZSBmb2xsb3dpbmcgYGRlcGVuZGVuY3lgIGRlY29yYXRvciBhbmQgYFNvbWVTZXJ2aWNlYCBpbmplY3RhYmxlIGNsYXNzLlxuICpcbiAqIGBgYFxuICogQEluamVjdGFibGUoKVxuICogY2xhc3MgU29tZVNlcnZpY2Uge1xuICogfVxuICpcbiAqIEBEaXJlY3RpdmUoe1xuICogICBzZWxlY3RvcjogJ1tkZXBlbmRlbmN5XScsXG4gKiAgIGlucHV0czogW1xuICogICAgICdpZDogZGVwZW5kZW5jeSdcbiAqICAgXVxuICogfSlcbiAqIGNsYXNzIERlcGVuZGVuY3kge1xuICogICBpZDpzdHJpbmc7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBMZXQncyBzdGVwIHRocm91Z2ggdGhlIGRpZmZlcmVudCB3YXlzIGluIHdoaWNoIGBNeURpcmVjdGl2ZWAgY291bGQgYmUgZGVjbGFyZWQuLi5cbiAqXG4gKlxuICogIyMjIE5vIGluamVjdGlvblxuICpcbiAqIEhlcmUgdGhlIGNvbnN0cnVjdG9yIGlzIGRlY2xhcmVkIHdpdGggbm8gYXJndW1lbnRzLCB0aGVyZWZvcmUgbm90aGluZyBpcyBpbmplY3RlZCBpbnRvXG4gKiBgTXlEaXJlY3RpdmVgLlxuICpcbiAqIGBgYFxuICogQERpcmVjdGl2ZSh7IHNlbGVjdG9yOiAnW215LWRpcmVjdGl2ZV0nIH0pXG4gKiBjbGFzcyBNeURpcmVjdGl2ZSB7XG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGRpcmVjdGl2ZSB3b3VsZCBiZSBpbnN0YW50aWF0ZWQgd2l0aCBubyBkZXBlbmRlbmNpZXMuXG4gKlxuICpcbiAqICMjIyBDb21wb25lbnQtbGV2ZWwgaW5qZWN0aW9uXG4gKlxuICogRGlyZWN0aXZlcyBjYW4gaW5qZWN0IGFueSBpbmplY3RhYmxlIGluc3RhbmNlIGZyb20gdGhlIGNsb3Nlc3QgY29tcG9uZW50IGluamVjdG9yIG9yIGFueSBvZiBpdHNcbiAqIHBhcmVudHMuXG4gKlxuICogSGVyZSwgdGhlIGNvbnN0cnVjdG9yIGRlY2xhcmVzIGEgcGFyYW1ldGVyLCBgc29tZVNlcnZpY2VgLCBhbmQgaW5qZWN0cyB0aGUgYFNvbWVTZXJ2aWNlYCB0eXBlXG4gKiBmcm9tIHRoZSBwYXJlbnRcbiAqIGNvbXBvbmVudCdzIGluamVjdG9yLlxuICogYGBgXG4gKiBARGlyZWN0aXZlKHsgc2VsZWN0b3I6ICdbbXktZGlyZWN0aXZlXScgfSlcbiAqIGNsYXNzIE15RGlyZWN0aXZlIHtcbiAqICAgY29uc3RydWN0b3Ioc29tZVNlcnZpY2U6IFNvbWVTZXJ2aWNlKSB7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIFRoaXMgZGlyZWN0aXZlIHdvdWxkIGJlIGluc3RhbnRpYXRlZCB3aXRoIGEgZGVwZW5kZW5jeSBvbiBgU29tZVNlcnZpY2VgLlxuICpcbiAqXG4gKiAjIyMgSW5qZWN0aW5nIGEgZGlyZWN0aXZlIGZyb20gdGhlIGN1cnJlbnQgZWxlbWVudFxuICpcbiAqIERpcmVjdGl2ZXMgY2FuIGluamVjdCBvdGhlciBkaXJlY3RpdmVzIGRlY2xhcmVkIG9uIHRoZSBjdXJyZW50IGVsZW1lbnQuXG4gKlxuICogYGBgXG4gKiBARGlyZWN0aXZlKHsgc2VsZWN0b3I6ICdbbXktZGlyZWN0aXZlXScgfSlcbiAqIGNsYXNzIE15RGlyZWN0aXZlIHtcbiAqICAgY29uc3RydWN0b3IoZGVwZW5kZW5jeTogRGVwZW5kZW5jeSkge1xuICogICAgIGV4cGVjdChkZXBlbmRlbmN5LmlkKS50b0VxdWFsKDMpO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqIFRoaXMgZGlyZWN0aXZlIHdvdWxkIGJlIGluc3RhbnRpYXRlZCB3aXRoIGBEZXBlbmRlbmN5YCBkZWNsYXJlZCBhdCB0aGUgc2FtZSBlbGVtZW50LCBpbiB0aGlzIGNhc2VcbiAqIGBkZXBlbmRlbmN5PVwiM1wiYC5cbiAqXG4gKiAjIyMgSW5qZWN0aW5nIGEgZGlyZWN0aXZlIGZyb20gYW55IGFuY2VzdG9yIGVsZW1lbnRzXG4gKlxuICogRGlyZWN0aXZlcyBjYW4gaW5qZWN0IG90aGVyIGRpcmVjdGl2ZXMgZGVjbGFyZWQgb24gYW55IGFuY2VzdG9yIGVsZW1lbnQgKGluIHRoZSBjdXJyZW50IFNoYWRvd1xuICogRE9NKSwgaS5lLiBvbiB0aGUgY3VycmVudCBlbGVtZW50LCB0aGVcbiAqIHBhcmVudCBlbGVtZW50LCBvciBpdHMgcGFyZW50cy5cbiAqIGBgYFxuICogQERpcmVjdGl2ZSh7IHNlbGVjdG9yOiAnW215LWRpcmVjdGl2ZV0nIH0pXG4gKiBjbGFzcyBNeURpcmVjdGl2ZSB7XG4gKiAgIGNvbnN0cnVjdG9yKEBIb3N0KCkgZGVwZW5kZW5jeTogRGVwZW5kZW5jeSkge1xuICogICAgIGV4cGVjdChkZXBlbmRlbmN5LmlkKS50b0VxdWFsKDIpO1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBgQEhvc3RgIGNoZWNrcyB0aGUgY3VycmVudCBlbGVtZW50LCB0aGUgcGFyZW50LCBhcyB3ZWxsIGFzIGl0cyBwYXJlbnRzIHJlY3Vyc2l2ZWx5LiBJZlxuICogYGRlcGVuZGVuY3k9XCIyXCJgIGRpZG4ndFxuICogZXhpc3Qgb24gdGhlIGRpcmVjdCBwYXJlbnQsIHRoaXMgaW5qZWN0aW9uIHdvdWxkXG4gKiBoYXZlIHJldHVybmVkXG4gKiBgZGVwZW5kZW5jeT1cIjFcImAuXG4gKlxuICpcbiAqICMjIyBJbmplY3RpbmcgYSBsaXZlIGNvbGxlY3Rpb24gb2YgZGlyZWN0IGNoaWxkIGRpcmVjdGl2ZXNcbiAqXG4gKlxuICogQSBkaXJlY3RpdmUgY2FuIGFsc28gcXVlcnkgZm9yIG90aGVyIGNoaWxkIGRpcmVjdGl2ZXMuIFNpbmNlIHBhcmVudCBkaXJlY3RpdmVzIGFyZSBpbnN0YW50aWF0ZWRcbiAqIGJlZm9yZSBjaGlsZCBkaXJlY3RpdmVzLCBhIGRpcmVjdGl2ZSBjYW4ndCBzaW1wbHkgaW5qZWN0IHRoZSBsaXN0IG9mIGNoaWxkIGRpcmVjdGl2ZXMuIEluc3RlYWQsXG4gKiB0aGUgZGlyZWN0aXZlIGluamVjdHMgYSB7QGxpbmsgUXVlcnlMaXN0fSwgd2hpY2ggdXBkYXRlcyBpdHMgY29udGVudHMgYXMgY2hpbGRyZW4gYXJlIGFkZGVkLFxuICogcmVtb3ZlZCwgb3IgbW92ZWQgYnkgYSBkaXJlY3RpdmUgdGhhdCB1c2VzIGEge0BsaW5rIFZpZXdDb250YWluZXJSZWZ9IHN1Y2ggYXMgYSBgbmdGb3JgLCBhblxuICogYG5nSWZgLCBvciBhbiBgbmdTd2l0Y2hgLlxuICpcbiAqIGBgYFxuICogQERpcmVjdGl2ZSh7IHNlbGVjdG9yOiAnW215LWRpcmVjdGl2ZV0nIH0pXG4gKiBjbGFzcyBNeURpcmVjdGl2ZSB7XG4gKiAgIGNvbnN0cnVjdG9yKEBRdWVyeShEZXBlbmRlbmN5KSBkZXBlbmRlbmNpZXM6UXVlcnlMaXN0PERlcGVuZGVuY3k+KSB7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIFRoaXMgZGlyZWN0aXZlIHdvdWxkIGJlIGluc3RhbnRpYXRlZCB3aXRoIGEge0BsaW5rIFF1ZXJ5TGlzdH0gd2hpY2ggY29udGFpbnMgYERlcGVuZGVuY3lgIDQgYW5kXG4gKiBgRGVwZW5kZW5jeWAgNi4gSGVyZSwgYERlcGVuZGVuY3lgIDUgd291bGQgbm90IGJlIGluY2x1ZGVkLCBiZWNhdXNlIGl0IGlzIG5vdCBhIGRpcmVjdCBjaGlsZC5cbiAqXG4gKiAjIyMgSW5qZWN0aW5nIGEgbGl2ZSBjb2xsZWN0aW9uIG9mIGRlc2NlbmRhbnQgZGlyZWN0aXZlc1xuICpcbiAqIEJ5IHBhc3NpbmcgdGhlIGRlc2NlbmRhbnQgZmxhZyB0byBgQFF1ZXJ5YCBhYm92ZSwgd2UgY2FuIGluY2x1ZGUgdGhlIGNoaWxkcmVuIG9mIHRoZSBjaGlsZFxuICogZWxlbWVudHMuXG4gKlxuICogYGBgXG4gKiBARGlyZWN0aXZlKHsgc2VsZWN0b3I6ICdbbXktZGlyZWN0aXZlXScgfSlcbiAqIGNsYXNzIE15RGlyZWN0aXZlIHtcbiAqICAgY29uc3RydWN0b3IoQFF1ZXJ5KERlcGVuZGVuY3ksIHtkZXNjZW5kYW50czogdHJ1ZX0pIGRlcGVuZGVuY2llczpRdWVyeUxpc3Q8RGVwZW5kZW5jeT4pIHtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgd291bGQgYmUgaW5zdGFudGlhdGVkIHdpdGggYSBRdWVyeSB3aGljaCB3b3VsZCBjb250YWluIGBEZXBlbmRlbmN5YCA0LCA1IGFuZCA2LlxuICpcbiAqICMjIyBPcHRpb25hbCBpbmplY3Rpb25cbiAqXG4gKiBUaGUgbm9ybWFsIGJlaGF2aW9yIG9mIGRpcmVjdGl2ZXMgaXMgdG8gcmV0dXJuIGFuIGVycm9yIHdoZW4gYSBzcGVjaWZpZWQgZGVwZW5kZW5jeSBjYW5ub3QgYmVcbiAqIHJlc29sdmVkLiBJZiB5b3VcbiAqIHdvdWxkIGxpa2UgdG8gaW5qZWN0IGBudWxsYCBvbiB1bnJlc29sdmVkIGRlcGVuZGVuY3kgaW5zdGVhZCwgeW91IGNhbiBhbm5vdGF0ZSB0aGF0IGRlcGVuZGVuY3lcbiAqIHdpdGggYEBPcHRpb25hbCgpYC5cbiAqIFRoaXMgZXhwbGljaXRseSBwZXJtaXRzIHRoZSBhdXRob3Igb2YgYSB0ZW1wbGF0ZSB0byB0cmVhdCBzb21lIG9mIHRoZSBzdXJyb3VuZGluZyBkaXJlY3RpdmVzIGFzXG4gKiBvcHRpb25hbC5cbiAqXG4gKiBgYGBcbiAqIEBEaXJlY3RpdmUoeyBzZWxlY3RvcjogJ1tteS1kaXJlY3RpdmVdJyB9KVxuICogY2xhc3MgTXlEaXJlY3RpdmUge1xuICogICBjb25zdHJ1Y3RvcihAT3B0aW9uYWwoKSBkZXBlbmRlbmN5OkRlcGVuZGVuY3kpIHtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgd291bGQgYmUgaW5zdGFudGlhdGVkIHdpdGggYSBgRGVwZW5kZW5jeWAgZGlyZWN0aXZlIGZvdW5kIG9uIHRoZSBjdXJyZW50IGVsZW1lbnQuXG4gKiBJZiBub25lIGNhbiBiZVxuICogZm91bmQsIHRoZSBpbmplY3RvciBzdXBwbGllcyBgbnVsbGAgaW5zdGVhZCBvZiB0aHJvd2luZyBhbiBlcnJvci5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIEhlcmUgd2UgdXNlIGEgZGVjb3JhdG9yIGRpcmVjdGl2ZSB0byBzaW1wbHkgZGVmaW5lIGJhc2ljIHRvb2wtdGlwIGJlaGF2aW9yLlxuICpcbiAqIGBgYFxuICogQERpcmVjdGl2ZSh7XG4gKiAgIHNlbGVjdG9yOiAnW3Rvb2x0aXBdJyxcbiAqICAgaW5wdXRzOiBbXG4gKiAgICAgJ3RleHQ6IHRvb2x0aXAnXG4gKiAgIF0sXG4gKiAgIGhvc3Q6IHtcbiAqICAgICAnKG1vdXNlZW50ZXIpJzogJ29uTW91c2VFbnRlcigpJyxcbiAqICAgICAnKG1vdXNlbGVhdmUpJzogJ29uTW91c2VMZWF2ZSgpJ1xuICogICB9XG4gKiB9KVxuICogY2xhc3MgVG9vbHRpcHtcbiAqICAgdGV4dDpzdHJpbmc7XG4gKiAgIG92ZXJsYXk6T3ZlcmxheTsgLy8gTk9UIFlFVCBJTVBMRU1FTlRFRFxuICogICBvdmVybGF5TWFuYWdlcjpPdmVybGF5TWFuYWdlcjsgLy8gTk9UIFlFVCBJTVBMRU1FTlRFRFxuICpcbiAqICAgY29uc3RydWN0b3Iob3ZlcmxheU1hbmFnZXI6T3ZlcmxheU1hbmFnZXIpIHtcbiAqICAgICB0aGlzLm92ZXJsYXkgPSBvdmVybGF5O1xuICogICB9XG4gKlxuICogICBvbk1vdXNlRW50ZXIoKSB7XG4gKiAgICAgLy8gZXhhY3Qgc2lnbmF0dXJlIHRvIGJlIGRldGVybWluZWRcbiAqICAgICB0aGlzLm92ZXJsYXkgPSB0aGlzLm92ZXJsYXlNYW5hZ2VyLm9wZW4odGV4dCwgLi4uKTtcbiAqICAgfVxuICpcbiAqICAgb25Nb3VzZUxlYXZlKCkge1xuICogICAgIHRoaXMub3ZlcmxheS5jbG9zZSgpO1xuICogICAgIHRoaXMub3ZlcmxheSA9IG51bGw7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICogSW4gb3VyIEhUTUwgdGVtcGxhdGUsIHdlIGNhbiB0aGVuIGFkZCB0aGlzIGJlaGF2aW9yIHRvIGEgYDxkaXY+YCBvciBhbnkgb3RoZXIgZWxlbWVudCB3aXRoIHRoZVxuICogYHRvb2x0aXBgIHNlbGVjdG9yLFxuICogbGlrZSBzbzpcbiAqXG4gKiBgYGBcbiAqIDxkaXYgdG9vbHRpcD1cInNvbWUgdGV4dCBoZXJlXCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBEaXJlY3RpdmVzIGNhbiBhbHNvIGNvbnRyb2wgdGhlIGluc3RhbnRpYXRpb24sIGRlc3RydWN0aW9uLCBhbmQgcG9zaXRpb25pbmcgb2YgaW5saW5lIHRlbXBsYXRlXG4gKiBlbGVtZW50czpcbiAqXG4gKiBBIGRpcmVjdGl2ZSB1c2VzIGEge0BsaW5rIFZpZXdDb250YWluZXJSZWZ9IHRvIGluc3RhbnRpYXRlLCBpbnNlcnQsIG1vdmUsIGFuZCBkZXN0cm95IHZpZXdzIGF0XG4gKiBydW50aW1lLlxuICogVGhlIHtAbGluayBWaWV3Q29udGFpbmVyUmVmfSBpcyBjcmVhdGVkIGFzIGEgcmVzdWx0IG9mIGA8dGVtcGxhdGU+YCBlbGVtZW50LCBhbmQgcmVwcmVzZW50cyBhXG4gKiBsb2NhdGlvbiBpbiB0aGUgY3VycmVudCB2aWV3XG4gKiB3aGVyZSB0aGVzZSBhY3Rpb25zIGFyZSBwZXJmb3JtZWQuXG4gKlxuICogVmlld3MgYXJlIGFsd2F5cyBjcmVhdGVkIGFzIGNoaWxkcmVuIG9mIHRoZSBjdXJyZW50IHtAbGluayBWaWV3TWV0YWRhdGF9LCBhbmQgYXMgc2libGluZ3Mgb2YgdGhlXG4gKiBgPHRlbXBsYXRlPmAgZWxlbWVudC4gVGh1cyBhXG4gKiBkaXJlY3RpdmUgaW4gYSBjaGlsZCB2aWV3IGNhbm5vdCBpbmplY3QgdGhlIGRpcmVjdGl2ZSB0aGF0IGNyZWF0ZWQgaXQuXG4gKlxuICogU2luY2UgZGlyZWN0aXZlcyB0aGF0IGNyZWF0ZSB2aWV3cyB2aWEgVmlld0NvbnRhaW5lcnMgYXJlIGNvbW1vbiBpbiBBbmd1bGFyLCBhbmQgdXNpbmcgdGhlIGZ1bGxcbiAqIGA8dGVtcGxhdGU+YCBlbGVtZW50IHN5bnRheCBpcyB3b3JkeSwgQW5ndWxhclxuICogYWxzbyBzdXBwb3J0cyBhIHNob3J0aGFuZCBub3RhdGlvbjogYDxsaSAqZm9vPVwiYmFyXCI+YCBhbmQgYDxsaSB0ZW1wbGF0ZT1cImZvbzogYmFyXCI+YCBhcmVcbiAqIGVxdWl2YWxlbnQuXG4gKlxuICogVGh1cyxcbiAqXG4gKiBgYGBcbiAqIDx1bD5cbiAqICAgPGxpICpmb289XCJiYXJcIiB0aXRsZT1cInRleHRcIj48L2xpPlxuICogPC91bD5cbiAqIGBgYFxuICpcbiAqIEV4cGFuZHMgaW4gdXNlIHRvOlxuICpcbiAqIGBgYFxuICogPHVsPlxuICogICA8dGVtcGxhdGUgW2Zvb109XCJiYXJcIj5cbiAqICAgICA8bGkgdGl0bGU9XCJ0ZXh0XCI+PC9saT5cbiAqICAgPC90ZW1wbGF0ZT5cbiAqIDwvdWw+XG4gKiBgYGBcbiAqXG4gKiBOb3RpY2UgdGhhdCBhbHRob3VnaCB0aGUgc2hvcnRoYW5kIHBsYWNlcyBgKmZvbz1cImJhclwiYCB3aXRoaW4gdGhlIGA8bGk+YCBlbGVtZW50LCB0aGUgYmluZGluZyBmb3JcbiAqIHRoZSBkaXJlY3RpdmVcbiAqIGNvbnRyb2xsZXIgaXMgY29ycmVjdGx5IGluc3RhbnRpYXRlZCBvbiB0aGUgYDx0ZW1wbGF0ZT5gIGVsZW1lbnQgcmF0aGVyIHRoYW4gdGhlIGA8bGk+YCBlbGVtZW50LlxuICpcbiAqICMjIExpZmVjeWNsZSBob29rc1xuICpcbiAqIFdoZW4gdGhlIGRpcmVjdGl2ZSBjbGFzcyBpbXBsZW1lbnRzIHNvbWUge0BsaW5rIC4uLy4uL2d1aWRlL2xpZmVjeWNsZS1ob29rcy5odG1sfSB0aGUgY2FsbGJhY2tzXG4gKiBhcmUgY2FsbGVkIGJ5IHRoZSBjaGFuZ2UgZGV0ZWN0aW9uIGF0IGRlZmluZWQgcG9pbnRzIGluIHRpbWUgZHVyaW5nIHRoZSBsaWZlIG9mIHRoZSBkaXJlY3RpdmUuXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBMZXQncyBzdXBwb3NlIHdlIHdhbnQgdG8gaW1wbGVtZW50IHRoZSBgdW5sZXNzYCBiZWhhdmlvciwgdG8gY29uZGl0aW9uYWxseSBpbmNsdWRlIGEgdGVtcGxhdGUuXG4gKlxuICogSGVyZSBpcyBhIHNpbXBsZSBkaXJlY3RpdmUgdGhhdCB0cmlnZ2VycyBvbiBhbiBgdW5sZXNzYCBzZWxlY3RvcjpcbiAqXG4gKiBgYGBcbiAqIEBEaXJlY3RpdmUoe1xuICogICBzZWxlY3RvcjogJ1t1bmxlc3NdJyxcbiAqICAgaW5wdXRzOiBbJ3VubGVzcyddXG4gKiB9KVxuICogZXhwb3J0IGNsYXNzIFVubGVzcyB7XG4gKiAgIHZpZXdDb250YWluZXI6IFZpZXdDb250YWluZXJSZWY7XG4gKiAgIHRlbXBsYXRlUmVmOiBUZW1wbGF0ZVJlZjtcbiAqICAgcHJldkNvbmRpdGlvbjogYm9vbGVhbjtcbiAqXG4gKiAgIGNvbnN0cnVjdG9yKHZpZXdDb250YWluZXI6IFZpZXdDb250YWluZXJSZWYsIHRlbXBsYXRlUmVmOiBUZW1wbGF0ZVJlZikge1xuICogICAgIHRoaXMudmlld0NvbnRhaW5lciA9IHZpZXdDb250YWluZXI7XG4gKiAgICAgdGhpcy50ZW1wbGF0ZVJlZiA9IHRlbXBsYXRlUmVmO1xuICogICAgIHRoaXMucHJldkNvbmRpdGlvbiA9IG51bGw7XG4gKiAgIH1cbiAqXG4gKiAgIHNldCB1bmxlc3MobmV3Q29uZGl0aW9uKSB7XG4gKiAgICAgaWYgKG5ld0NvbmRpdGlvbiAmJiAoaXNCbGFuayh0aGlzLnByZXZDb25kaXRpb24pIHx8ICF0aGlzLnByZXZDb25kaXRpb24pKSB7XG4gKiAgICAgICB0aGlzLnByZXZDb25kaXRpb24gPSB0cnVlO1xuICogICAgICAgdGhpcy52aWV3Q29udGFpbmVyLmNsZWFyKCk7XG4gKiAgICAgfSBlbHNlIGlmICghbmV3Q29uZGl0aW9uICYmIChpc0JsYW5rKHRoaXMucHJldkNvbmRpdGlvbikgfHwgdGhpcy5wcmV2Q29uZGl0aW9uKSkge1xuICogICAgICAgdGhpcy5wcmV2Q29uZGl0aW9uID0gZmFsc2U7XG4gKiAgICAgICB0aGlzLnZpZXdDb250YWluZXIuY3JlYXRlKHRoaXMudGVtcGxhdGVSZWYpO1xuICogICAgIH1cbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogV2UgY2FuIHRoZW4gdXNlIHRoaXMgYHVubGVzc2Agc2VsZWN0b3IgaW4gYSB0ZW1wbGF0ZTpcbiAqIGBgYFxuICogPHVsPlxuICogICA8bGkgKnVubGVzcz1cImV4cHJcIj48L2xpPlxuICogPC91bD5cbiAqIGBgYFxuICpcbiAqIE9uY2UgdGhlIGRpcmVjdGl2ZSBpbnN0YW50aWF0ZXMgdGhlIGNoaWxkIHZpZXcsIHRoZSBzaG9ydGhhbmQgbm90YXRpb24gZm9yIHRoZSB0ZW1wbGF0ZSBleHBhbmRzXG4gKiBhbmQgdGhlIHJlc3VsdCBpczpcbiAqXG4gKiBgYGBcbiAqIDx1bD5cbiAqICAgPHRlbXBsYXRlIFt1bmxlc3NdPVwiZXhwXCI+XG4gKiAgICAgPGxpPjwvbGk+XG4gKiAgIDwvdGVtcGxhdGU+XG4gKiAgIDxsaT48L2xpPlxuICogPC91bD5cbiAqIGBgYFxuICpcbiAqIE5vdGUgYWxzbyB0aGF0IGFsdGhvdWdoIHRoZSBgPGxpPjwvbGk+YCB0ZW1wbGF0ZSBzdGlsbCBleGlzdHMgaW5zaWRlIHRoZSBgPHRlbXBsYXRlPjwvdGVtcGxhdGU+YCxcbiAqIHRoZSBpbnN0YW50aWF0ZWRcbiAqIHZpZXcgb2NjdXJzIG9uIHRoZSBzZWNvbmQgYDxsaT48L2xpPmAgd2hpY2ggaXMgYSBzaWJsaW5nIHRvIHRoZSBgPHRlbXBsYXRlPmAgZWxlbWVudC5cbiAqIEB0czJkYXJ0X2NvbnN0XG4gKi9cbnZhciBEaXJlY3RpdmVNZXRhZGF0YSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERpcmVjdGl2ZU1ldGFkYXRhLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERpcmVjdGl2ZU1ldGFkYXRhKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBzZWxlY3RvciA9IF9iLnNlbGVjdG9yLCBpbnB1dHMgPSBfYi5pbnB1dHMsIG91dHB1dHMgPSBfYi5vdXRwdXRzLCBwcm9wZXJ0aWVzID0gX2IucHJvcGVydGllcywgZXZlbnRzID0gX2IuZXZlbnRzLCBob3N0ID0gX2IuaG9zdCwgYmluZGluZ3MgPSBfYi5iaW5kaW5ncywgcHJvdmlkZXJzID0gX2IucHJvdmlkZXJzLCBleHBvcnRBcyA9IF9iLmV4cG9ydEFzLCBxdWVyaWVzID0gX2IucXVlcmllcztcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgdGhpcy5faW5wdXRzID0gaW5wdXRzO1xuICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzID0gcHJvcGVydGllcztcbiAgICAgICAgdGhpcy5fb3V0cHV0cyA9IG91dHB1dHM7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IGV2ZW50cztcbiAgICAgICAgdGhpcy5ob3N0ID0gaG9zdDtcbiAgICAgICAgdGhpcy5leHBvcnRBcyA9IGV4cG9ydEFzO1xuICAgICAgICB0aGlzLnF1ZXJpZXMgPSBxdWVyaWVzO1xuICAgICAgICB0aGlzLl9wcm92aWRlcnMgPSBwcm92aWRlcnM7XG4gICAgICAgIHRoaXMuX2JpbmRpbmdzID0gYmluZGluZ3M7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXJlY3RpdmVNZXRhZGF0YS5wcm90b3R5cGUsIFwiaW5wdXRzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVudW1lcmF0ZXMgdGhlIHNldCBvZiBkYXRhLWJvdW5kIGlucHV0IHByb3BlcnRpZXMgZm9yIGEgZGlyZWN0aXZlXG4gICAgICAgICAqXG4gICAgICAgICAqIEFuZ3VsYXIgYXV0b21hdGljYWxseSB1cGRhdGVzIGlucHV0IHByb3BlcnRpZXMgZHVyaW5nIGNoYW5nZSBkZXRlY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBgaW5wdXRzYCBwcm9wZXJ0eSBkZWZpbmVzIGEgc2V0IG9mIGBkaXJlY3RpdmVQcm9wZXJ0eWAgdG8gYGJpbmRpbmdQcm9wZXJ0eWBcbiAgICAgICAgICogY29uZmlndXJhdGlvbjpcbiAgICAgICAgICpcbiAgICAgICAgICogLSBgZGlyZWN0aXZlUHJvcGVydHlgIHNwZWNpZmllcyB0aGUgY29tcG9uZW50IHByb3BlcnR5IHdoZXJlIHRoZSB2YWx1ZSBpcyB3cml0dGVuLlxuICAgICAgICAgKiAtIGBiaW5kaW5nUHJvcGVydHlgIHNwZWNpZmllcyB0aGUgRE9NIHByb3BlcnR5IHdoZXJlIHRoZSB2YWx1ZSBpcyByZWFkIGZyb20uXG4gICAgICAgICAqXG4gICAgICAgICAqIFdoZW4gYGJpbmRpbmdQcm9wZXJ0eWAgaXMgbm90IHByb3ZpZGVkLCBpdCBpcyBhc3N1bWVkIHRvIGJlIGVxdWFsIHRvIGBkaXJlY3RpdmVQcm9wZXJ0eWAuXG4gICAgICAgICAqXG4gICAgICAgICAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9pdmhmWFk/cD1wcmV2aWV3KSlcbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGZvbGxvd2luZyBleGFtcGxlIGNyZWF0ZXMgYSBjb21wb25lbnQgd2l0aCB0d28gZGF0YS1ib3VuZCBwcm9wZXJ0aWVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICAgICAqIEBDb21wb25lbnQoe1xuICAgICAgICAgKiAgIHNlbGVjdG9yOiAnYmFuay1hY2NvdW50JyxcbiAgICAgICAgICogICBpbnB1dHM6IFsnYmFua05hbWUnLCAnaWQ6IGFjY291bnQtaWQnXSxcbiAgICAgICAgICogICB0ZW1wbGF0ZTogYFxuICAgICAgICAgKiAgICAgQmFuayBOYW1lOiB7e2JhbmtOYW1lfX1cbiAgICAgICAgICogICAgIEFjY291bnQgSWQ6IHt7aWR9fVxuICAgICAgICAgKiAgIGBcbiAgICAgICAgICogfSlcbiAgICAgICAgICogY2xhc3MgQmFua0FjY291bnQge1xuICAgICAgICAgKiAgIGJhbmtOYW1lOiBzdHJpbmc7XG4gICAgICAgICAqICAgaWQ6IHN0cmluZztcbiAgICAgICAgICpcbiAgICAgICAgICogICAvLyB0aGlzIHByb3BlcnR5IGlzIG5vdCBib3VuZCwgYW5kIHdvbid0IGJlIGF1dG9tYXRpY2FsbHkgdXBkYXRlZCBieSBBbmd1bGFyXG4gICAgICAgICAqICAgbm9ybWFsaXplZEJhbmtOYW1lOiBzdHJpbmc7XG4gICAgICAgICAqIH1cbiAgICAgICAgICpcbiAgICAgICAgICogQENvbXBvbmVudCh7XG4gICAgICAgICAqICAgc2VsZWN0b3I6ICdhcHAnLFxuICAgICAgICAgKiAgIHRlbXBsYXRlOiBgXG4gICAgICAgICAqICAgICA8YmFuay1hY2NvdW50IGJhbmstbmFtZT1cIlJCQ1wiIGFjY291bnQtaWQ9XCI0NzQ3XCI+PC9iYW5rLWFjY291bnQ+XG4gICAgICAgICAqICAgYCxcbiAgICAgICAgICogICBkaXJlY3RpdmVzOiBbQmFua0FjY291bnRdXG4gICAgICAgICAqIH0pXG4gICAgICAgICAqIGNsYXNzIEFwcCB7fVxuICAgICAgICAgKlxuICAgICAgICAgKiBib290c3RyYXAoQXBwKTtcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHRoaXMuX3Byb3BlcnRpZXMpICYmIHRoaXMuX3Byb3BlcnRpZXMubGVuZ3RoID4gMCA/IHRoaXMuX3Byb3BlcnRpZXMgOlxuICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0cztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpcmVjdGl2ZU1ldGFkYXRhLnByb3RvdHlwZSwgXCJwcm9wZXJ0aWVzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmlucHV0czsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpcmVjdGl2ZU1ldGFkYXRhLnByb3RvdHlwZSwgXCJvdXRwdXRzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVudW1lcmF0ZXMgdGhlIHNldCBvZiBldmVudC1ib3VuZCBvdXRwdXQgcHJvcGVydGllcy5cbiAgICAgICAgICpcbiAgICAgICAgICogV2hlbiBhbiBvdXRwdXQgcHJvcGVydHkgZW1pdHMgYW4gZXZlbnQsIGFuIGV2ZW50IGhhbmRsZXIgYXR0YWNoZWQgdG8gdGhhdCBldmVudFxuICAgICAgICAgKiB0aGUgdGVtcGxhdGUgaXMgaW52b2tlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGBvdXRwdXRzYCBwcm9wZXJ0eSBkZWZpbmVzIGEgc2V0IG9mIGBkaXJlY3RpdmVQcm9wZXJ0eWAgdG8gYGJpbmRpbmdQcm9wZXJ0eWBcbiAgICAgICAgICogY29uZmlndXJhdGlvbjpcbiAgICAgICAgICpcbiAgICAgICAgICogLSBgZGlyZWN0aXZlUHJvcGVydHlgIHNwZWNpZmllcyB0aGUgY29tcG9uZW50IHByb3BlcnR5IHRoYXQgZW1pdHMgZXZlbnRzLlxuICAgICAgICAgKiAtIGBiaW5kaW5nUHJvcGVydHlgIHNwZWNpZmllcyB0aGUgRE9NIHByb3BlcnR5IHRoZSBldmVudCBoYW5kbGVyIGlzIGF0dGFjaGVkIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvZDVDTnE3P3A9cHJldmlldykpXG4gICAgICAgICAqXG4gICAgICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgICAgICogQERpcmVjdGl2ZSh7XG4gICAgICAgICAqICAgc2VsZWN0b3I6ICdpbnRlcnZhbC1kaXInLFxuICAgICAgICAgKiAgIG91dHB1dHM6IFsnZXZlcnlTZWNvbmQnLCAnZml2ZTVTZWNzOiBldmVyeUZpdmVTZWNvbmRzJ11cbiAgICAgICAgICogfSlcbiAgICAgICAgICogY2xhc3MgSW50ZXJ2YWxEaXIge1xuICAgICAgICAgKiAgIGV2ZXJ5U2Vjb25kID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICAgKiAgIGZpdmU1U2VjcyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICogICAgIHNldEludGVydmFsKCgpID0+IHRoaXMuZXZlcnlTZWNvbmQuZW1pdChcImV2ZW50XCIpLCAxMDAwKTtcbiAgICAgICAgICogICAgIHNldEludGVydmFsKCgpID0+IHRoaXMuZml2ZTVTZWNzLmVtaXQoXCJldmVudFwiKSwgNTAwMCk7XG4gICAgICAgICAqICAgfVxuICAgICAgICAgKiB9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBDb21wb25lbnQoe1xuICAgICAgICAgKiAgIHNlbGVjdG9yOiAnYXBwJyxcbiAgICAgICAgICogICB0ZW1wbGF0ZTogYFxuICAgICAgICAgKiAgICAgPGludGVydmFsLWRpciAoZXZlcnlTZWNvbmQpPVwiZXZlcnlTZWNvbmQoKVwiIChldmVyeUZpdmVTZWNvbmRzKT1cImV2ZXJ5Rml2ZVNlY29uZHMoKVwiPlxuICAgICAgICAgKiAgICAgPC9pbnRlcnZhbC1kaXI+XG4gICAgICAgICAqICAgYCxcbiAgICAgICAgICogICBkaXJlY3RpdmVzOiBbSW50ZXJ2YWxEaXJdXG4gICAgICAgICAqIH0pXG4gICAgICAgICAqIGNsYXNzIEFwcCB7XG4gICAgICAgICAqICAgZXZlcnlTZWNvbmQoKSB7IGNvbnNvbGUubG9nKCdzZWNvbmQnKTsgfVxuICAgICAgICAgKiAgIGV2ZXJ5Rml2ZVNlY29uZHMoKSB7IGNvbnNvbGUubG9nKCdmaXZlIHNlY29uZHMnKTsgfVxuICAgICAgICAgKiB9XG4gICAgICAgICAqIGJvb3RzdHJhcChBcHApO1xuICAgICAgICAgKiBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQodGhpcy5fZXZlbnRzKSAmJiB0aGlzLl9ldmVudHMubGVuZ3RoID4gMCA/IHRoaXMuX2V2ZW50cyA6IHRoaXMuX291dHB1dHM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXJlY3RpdmVNZXRhZGF0YS5wcm90b3R5cGUsIFwiZXZlbnRzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm91dHB1dHM7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXJlY3RpdmVNZXRhZGF0YS5wcm90b3R5cGUsIFwicHJvdmlkZXJzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZXMgdGhlIHNldCBvZiBpbmplY3RhYmxlIG9iamVjdHMgdGhhdCBhcmUgdmlzaWJsZSB0byBhIERpcmVjdGl2ZSBhbmQgaXRzIGxpZ2h0IERPTVxuICAgICAgICAgKiBjaGlsZHJlbi5cbiAgICAgICAgICpcbiAgICAgICAgICogIyMgU2ltcGxlIEV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogSGVyZSBpcyBhbiBleGFtcGxlIG9mIGEgY2xhc3MgdGhhdCBjYW4gYmUgaW5qZWN0ZWQ6XG4gICAgICAgICAqXG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKiBjbGFzcyBHcmVldGVyIHtcbiAgICAgICAgICogICAgZ3JlZXQobmFtZTpzdHJpbmcpIHtcbiAgICAgICAgICogICAgICByZXR1cm4gJ0hlbGxvICcgKyBuYW1lICsgJyEnO1xuICAgICAgICAgKiAgICB9XG4gICAgICAgICAqIH1cbiAgICAgICAgICpcbiAgICAgICAgICogQERpcmVjdGl2ZSh7XG4gICAgICAgICAqICAgc2VsZWN0b3I6ICdncmVldCcsXG4gICAgICAgICAqICAgYmluZGluZ3M6IFtcbiAgICAgICAgICogICAgIEdyZWV0ZXJcbiAgICAgICAgICogICBdXG4gICAgICAgICAqIH0pXG4gICAgICAgICAqIGNsYXNzIEhlbGxvV29ybGQge1xuICAgICAgICAgKiAgIGdyZWV0ZXI6R3JlZXRlcjtcbiAgICAgICAgICpcbiAgICAgICAgICogICBjb25zdHJ1Y3RvcihncmVldGVyOkdyZWV0ZXIpIHtcbiAgICAgICAgICogICAgIHRoaXMuZ3JlZXRlciA9IGdyZWV0ZXI7XG4gICAgICAgICAqICAgfVxuICAgICAgICAgKiB9XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFuZ18xLmlzUHJlc2VudCh0aGlzLl9iaW5kaW5ncykgJiYgdGhpcy5fYmluZGluZ3MubGVuZ3RoID4gMCA/IHRoaXMuX2JpbmRpbmdzIDpcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm92aWRlcnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXJlY3RpdmVNZXRhZGF0YS5wcm90b3R5cGUsIFwiYmluZGluZ3NcIiwge1xuICAgICAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnByb3ZpZGVyczsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIERpcmVjdGl2ZU1ldGFkYXRhO1xufShtZXRhZGF0YV8xLkluamVjdGFibGVNZXRhZGF0YSkpO1xuZXhwb3J0cy5EaXJlY3RpdmVNZXRhZGF0YSA9IERpcmVjdGl2ZU1ldGFkYXRhO1xuLyoqXG4gKiBEZWNsYXJlIHJldXNhYmxlIFVJIGJ1aWxkaW5nIGJsb2NrcyBmb3IgYW4gYXBwbGljYXRpb24uXG4gKlxuICogRWFjaCBBbmd1bGFyIGNvbXBvbmVudCByZXF1aXJlcyBhIHNpbmdsZSBgQENvbXBvbmVudGAgYW5ub3RhdGlvbi4gVGhlXG4gKiBgQENvbXBvbmVudGBcbiAqIGFubm90YXRpb24gc3BlY2lmaWVzIHdoZW4gYSBjb21wb25lbnQgaXMgaW5zdGFudGlhdGVkLCBhbmQgd2hpY2ggcHJvcGVydGllcyBhbmQgaG9zdExpc3RlbmVycyBpdFxuICogYmluZHMgdG8uXG4gKlxuICogV2hlbiBhIGNvbXBvbmVudCBpcyBpbnN0YW50aWF0ZWQsIEFuZ3VsYXJcbiAqIC0gY3JlYXRlcyBhIHNoYWRvdyBET00gZm9yIHRoZSBjb21wb25lbnQuXG4gKiAtIGxvYWRzIHRoZSBzZWxlY3RlZCB0ZW1wbGF0ZSBpbnRvIHRoZSBzaGFkb3cgRE9NLlxuICogLSBjcmVhdGVzIGFsbCB0aGUgaW5qZWN0YWJsZSBvYmplY3RzIGNvbmZpZ3VyZWQgd2l0aCBgcHJvdmlkZXJzYCBhbmQgYHZpZXdQcm92aWRlcnNgLlxuICpcbiAqIEFsbCB0ZW1wbGF0ZSBleHByZXNzaW9ucyBhbmQgc3RhdGVtZW50cyBhcmUgdGhlbiBldmFsdWF0ZWQgYWdhaW5zdCB0aGUgY29tcG9uZW50IGluc3RhbmNlLlxuICpcbiAqIEZvciBkZXRhaWxzIG9uIHRoZSBgQFZpZXdgIGFubm90YXRpb24sIHNlZSB7QGxpbmsgVmlld01ldGFkYXRhfS5cbiAqXG4gKiAjIyBMaWZlY3ljbGUgaG9va3NcbiAqXG4gKiBXaGVuIHRoZSBjb21wb25lbnQgY2xhc3MgaW1wbGVtZW50cyBzb21lIHtAbGluayAuLi8uLi9ndWlkZS9saWZlY3ljbGUtaG9va3MuaHRtbH0gdGhlIGNhbGxiYWNrc1xuICogYXJlIGNhbGxlZCBieSB0aGUgY2hhbmdlIGRldGVjdGlvbiBhdCBkZWZpbmVkIHBvaW50cyBpbiB0aW1lIGR1cmluZyB0aGUgbGlmZSBvZiB0aGUgY29tcG9uZW50LlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICoge0BleGFtcGxlIGNvcmUvdHMvbWV0YWRhdGEvbWV0YWRhdGEudHMgcmVnaW9uPSdjb21wb25lbnQnfVxuICogQHRzMmRhcnRfY29uc3RcbiAqL1xudmFyIENvbXBvbmVudE1ldGFkYXRhID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29tcG9uZW50TWV0YWRhdGEsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29tcG9uZW50TWV0YWRhdGEoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIHNlbGVjdG9yID0gX2Iuc2VsZWN0b3IsIGlucHV0cyA9IF9iLmlucHV0cywgb3V0cHV0cyA9IF9iLm91dHB1dHMsIHByb3BlcnRpZXMgPSBfYi5wcm9wZXJ0aWVzLCBldmVudHMgPSBfYi5ldmVudHMsIGhvc3QgPSBfYi5ob3N0LCBleHBvcnRBcyA9IF9iLmV4cG9ydEFzLCBtb2R1bGVJZCA9IF9iLm1vZHVsZUlkLCBiaW5kaW5ncyA9IF9iLmJpbmRpbmdzLCBwcm92aWRlcnMgPSBfYi5wcm92aWRlcnMsIHZpZXdCaW5kaW5ncyA9IF9iLnZpZXdCaW5kaW5ncywgdmlld1Byb3ZpZGVycyA9IF9iLnZpZXdQcm92aWRlcnMsIF9jID0gX2IuY2hhbmdlRGV0ZWN0aW9uLCBjaGFuZ2VEZXRlY3Rpb24gPSBfYyA9PT0gdm9pZCAwID8gY29uc3RhbnRzXzEuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuRGVmYXVsdCA6IF9jLCBxdWVyaWVzID0gX2IucXVlcmllcywgdGVtcGxhdGVVcmwgPSBfYi50ZW1wbGF0ZVVybCwgdGVtcGxhdGUgPSBfYi50ZW1wbGF0ZSwgc3R5bGVVcmxzID0gX2Iuc3R5bGVVcmxzLCBzdHlsZXMgPSBfYi5zdHlsZXMsIGRpcmVjdGl2ZXMgPSBfYi5kaXJlY3RpdmVzLCBwaXBlcyA9IF9iLnBpcGVzLCBlbmNhcHN1bGF0aW9uID0gX2IuZW5jYXBzdWxhdGlvbjtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywge1xuICAgICAgICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yLFxuICAgICAgICAgICAgaW5wdXRzOiBpbnB1dHMsXG4gICAgICAgICAgICBvdXRwdXRzOiBvdXRwdXRzLFxuICAgICAgICAgICAgcHJvcGVydGllczogcHJvcGVydGllcyxcbiAgICAgICAgICAgIGV2ZW50czogZXZlbnRzLFxuICAgICAgICAgICAgaG9zdDogaG9zdCxcbiAgICAgICAgICAgIGV4cG9ydEFzOiBleHBvcnRBcyxcbiAgICAgICAgICAgIGJpbmRpbmdzOiBiaW5kaW5ncyxcbiAgICAgICAgICAgIHByb3ZpZGVyczogcHJvdmlkZXJzLFxuICAgICAgICAgICAgcXVlcmllczogcXVlcmllc1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3Rpb24gPSBjaGFuZ2VEZXRlY3Rpb247XG4gICAgICAgIHRoaXMuX3ZpZXdQcm92aWRlcnMgPSB2aWV3UHJvdmlkZXJzO1xuICAgICAgICB0aGlzLl92aWV3QmluZGluZ3MgPSB2aWV3QmluZGluZ3M7XG4gICAgICAgIHRoaXMudGVtcGxhdGVVcmwgPSB0ZW1wbGF0ZVVybDtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgICB0aGlzLnN0eWxlVXJscyA9IHN0eWxlVXJscztcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBzdHlsZXM7XG4gICAgICAgIHRoaXMuZGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXM7XG4gICAgICAgIHRoaXMucGlwZXMgPSBwaXBlcztcbiAgICAgICAgdGhpcy5lbmNhcHN1bGF0aW9uID0gZW5jYXBzdWxhdGlvbjtcbiAgICAgICAgdGhpcy5tb2R1bGVJZCA9IG1vZHVsZUlkO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50TWV0YWRhdGEucHJvdG90eXBlLCBcInZpZXdQcm92aWRlcnNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmaW5lcyB0aGUgc2V0IG9mIGluamVjdGFibGUgb2JqZWN0cyB0aGF0IGFyZSB2aXNpYmxlIHRvIGl0cyB2aWV3IERPTSBjaGlsZHJlbi5cbiAgICAgICAgICpcbiAgICAgICAgICogIyMgU2ltcGxlIEV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogSGVyZSBpcyBhbiBleGFtcGxlIG9mIGEgY2xhc3MgdGhhdCBjYW4gYmUgaW5qZWN0ZWQ6XG4gICAgICAgICAqXG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKiBjbGFzcyBHcmVldGVyIHtcbiAgICAgICAgICogICAgZ3JlZXQobmFtZTpzdHJpbmcpIHtcbiAgICAgICAgICogICAgICByZXR1cm4gJ0hlbGxvICcgKyBuYW1lICsgJyEnO1xuICAgICAgICAgKiAgICB9XG4gICAgICAgICAqIH1cbiAgICAgICAgICpcbiAgICAgICAgICogQERpcmVjdGl2ZSh7XG4gICAgICAgICAqICAgc2VsZWN0b3I6ICduZWVkcy1ncmVldGVyJ1xuICAgICAgICAgKiB9KVxuICAgICAgICAgKiBjbGFzcyBOZWVkc0dyZWV0ZXIge1xuICAgICAgICAgKiAgIGdyZWV0ZXI6R3JlZXRlcjtcbiAgICAgICAgICpcbiAgICAgICAgICogICBjb25zdHJ1Y3RvcihncmVldGVyOkdyZWV0ZXIpIHtcbiAgICAgICAgICogICAgIHRoaXMuZ3JlZXRlciA9IGdyZWV0ZXI7XG4gICAgICAgICAqICAgfVxuICAgICAgICAgKiB9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBDb21wb25lbnQoe1xuICAgICAgICAgKiAgIHNlbGVjdG9yOiAnZ3JlZXQnLFxuICAgICAgICAgKiAgIHZpZXdQcm92aWRlcnM6IFtcbiAgICAgICAgICogICAgIEdyZWV0ZXJcbiAgICAgICAgICogICBdLFxuICAgICAgICAgKiAgIHRlbXBsYXRlOiBgPG5lZWRzLWdyZWV0ZXI+PC9uZWVkcy1ncmVldGVyPmAsXG4gICAgICAgICAqICAgZGlyZWN0aXZlczogW05lZWRzR3JlZXRlcl1cbiAgICAgICAgICogfSlcbiAgICAgICAgICogY2xhc3MgSGVsbG9Xb3JsZCB7XG4gICAgICAgICAqIH1cbiAgICAgICAgICpcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHRoaXMuX3ZpZXdCaW5kaW5ncykgJiYgdGhpcy5fdmlld0JpbmRpbmdzLmxlbmd0aCA+IDAgPyB0aGlzLl92aWV3QmluZGluZ3MgOlxuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdQcm92aWRlcnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnRNZXRhZGF0YS5wcm90b3R5cGUsIFwidmlld0JpbmRpbmdzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnZpZXdQcm92aWRlcnM7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBDb21wb25lbnRNZXRhZGF0YTtcbn0oRGlyZWN0aXZlTWV0YWRhdGEpKTtcbmV4cG9ydHMuQ29tcG9uZW50TWV0YWRhdGEgPSBDb21wb25lbnRNZXRhZGF0YTtcbi8qKlxuICogRGVjbGFyZSByZXVzYWJsZSBwaXBlIGZ1bmN0aW9uLlxuICpcbiAqIEEgXCJwdXJlXCIgcGlwZSBpcyBvbmx5IHJlLWV2YWx1YXRlZCB3aGVuIGVpdGhlciB0aGUgaW5wdXQgb3IgYW55IG9mIHRoZSBhcmd1bWVudHMgY2hhbmdlLlxuICpcbiAqIFdoZW4gbm90IHNwZWNpZmllZCwgcGlwZXMgZGVmYXVsdCB0byBiZWluZyBwdXJlLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICoge0BleGFtcGxlIGNvcmUvdHMvbWV0YWRhdGEvbWV0YWRhdGEudHMgcmVnaW9uPSdwaXBlJ31cbiAqIEB0czJkYXJ0X2NvbnN0XG4gKi9cbnZhciBQaXBlTWV0YWRhdGEgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQaXBlTWV0YWRhdGEsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUGlwZU1ldGFkYXRhKF9hKSB7XG4gICAgICAgIHZhciBuYW1lID0gX2EubmFtZSwgcHVyZSA9IF9hLnB1cmU7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLl9wdXJlID0gcHVyZTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBpcGVNZXRhZGF0YS5wcm90b3R5cGUsIFwicHVyZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbGFuZ18xLmlzUHJlc2VudCh0aGlzLl9wdXJlKSA/IHRoaXMuX3B1cmUgOiB0cnVlOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gUGlwZU1ldGFkYXRhO1xufShtZXRhZGF0YV8xLkluamVjdGFibGVNZXRhZGF0YSkpO1xuZXhwb3J0cy5QaXBlTWV0YWRhdGEgPSBQaXBlTWV0YWRhdGE7XG4vKipcbiAqIERlY2xhcmVzIGEgZGF0YS1ib3VuZCBpbnB1dCBwcm9wZXJ0eS5cbiAqXG4gKiBBbmd1bGFyIGF1dG9tYXRpY2FsbHkgdXBkYXRlcyBkYXRhLWJvdW5kIHByb3BlcnRpZXMgZHVyaW5nIGNoYW5nZSBkZXRlY3Rpb24uXG4gKlxuICogYElucHV0TWV0YWRhdGFgIHRha2VzIGFuIG9wdGlvbmFsIHBhcmFtZXRlciB0aGF0IHNwZWNpZmllcyB0aGUgbmFtZVxuICogdXNlZCB3aGVuIGluc3RhbnRpYXRpbmcgYSBjb21wb25lbnQgaW4gdGhlIHRlbXBsYXRlLiBXaGVuIG5vdCBwcm92aWRlZCxcbiAqIHRoZSBuYW1lIG9mIHRoZSBkZWNvcmF0ZWQgcHJvcGVydHkgaXMgdXNlZC5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBjcmVhdGVzIGEgY29tcG9uZW50IHdpdGggdHdvIGlucHV0IHByb3BlcnRpZXMuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnYmFuay1hY2NvdW50JyxcbiAqICAgdGVtcGxhdGU6IGBcbiAqICAgICBCYW5rIE5hbWU6IHt7YmFua05hbWV9fVxuICogICAgIEFjY291bnQgSWQ6IHt7aWR9fVxuICogICBgXG4gKiB9KVxuICogY2xhc3MgQmFua0FjY291bnQge1xuICogICBASW5wdXQoKSBiYW5rTmFtZTogc3RyaW5nO1xuICogICBASW5wdXQoJ2FjY291bnQtaWQnKSBpZDogc3RyaW5nO1xuICpcbiAqICAgLy8gdGhpcyBwcm9wZXJ0eSBpcyBub3QgYm91bmQsIGFuZCB3b24ndCBiZSBhdXRvbWF0aWNhbGx5IHVwZGF0ZWQgYnkgQW5ndWxhclxuICogICBub3JtYWxpemVkQmFua05hbWU6IHN0cmluZztcbiAqIH1cbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICdhcHAnLFxuICogICB0ZW1wbGF0ZTogYFxuICogICAgIDxiYW5rLWFjY291bnQgYmFuay1uYW1lPVwiUkJDXCIgYWNjb3VudC1pZD1cIjQ3NDdcIj48L2JhbmstYWNjb3VudD5cbiAqICAgYCxcbiAqICAgZGlyZWN0aXZlczogW0JhbmtBY2NvdW50XVxuICogfSlcbiAqIGNsYXNzIEFwcCB7fVxuICpcbiAqIGJvb3RzdHJhcChBcHApO1xuICogYGBgXG4gKiBAdHMyZGFydF9jb25zdFxuICovXG52YXIgSW5wdXRNZXRhZGF0YSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW5wdXRNZXRhZGF0YShcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5hbWUgdXNlZCB3aGVuIGluc3RhbnRpYXRpbmcgYSBjb21wb25lbnQgaW4gdGhlIHRlbXBsYXRlLlxuICAgICAgICAgKi9cbiAgICAgICAgYmluZGluZ1Byb3BlcnR5TmFtZSkge1xuICAgICAgICB0aGlzLmJpbmRpbmdQcm9wZXJ0eU5hbWUgPSBiaW5kaW5nUHJvcGVydHlOYW1lO1xuICAgIH1cbiAgICByZXR1cm4gSW5wdXRNZXRhZGF0YTtcbn0oKSk7XG5leHBvcnRzLklucHV0TWV0YWRhdGEgPSBJbnB1dE1ldGFkYXRhO1xuLyoqXG4gKiBEZWNsYXJlcyBhbiBldmVudC1ib3VuZCBvdXRwdXQgcHJvcGVydHkuXG4gKlxuICogV2hlbiBhbiBvdXRwdXQgcHJvcGVydHkgZW1pdHMgYW4gZXZlbnQsIGFuIGV2ZW50IGhhbmRsZXIgYXR0YWNoZWQgdG8gdGhhdCBldmVudFxuICogdGhlIHRlbXBsYXRlIGlzIGludm9rZWQuXG4gKlxuICogYE91dHB1dE1ldGFkYXRhYCB0YWtlcyBhbiBvcHRpb25hbCBwYXJhbWV0ZXIgdGhhdCBzcGVjaWZpZXMgdGhlIG5hbWVcbiAqIHVzZWQgd2hlbiBpbnN0YW50aWF0aW5nIGEgY29tcG9uZW50IGluIHRoZSB0ZW1wbGF0ZS4gV2hlbiBub3QgcHJvdmlkZWQsXG4gKiB0aGUgbmFtZSBvZiB0aGUgZGVjb3JhdGVkIHByb3BlcnR5IGlzIHVzZWQuXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBARGlyZWN0aXZlKHtcbiAqICAgc2VsZWN0b3I6ICdpbnRlcnZhbC1kaXInLFxuICogfSlcbiAqIGNsYXNzIEludGVydmFsRGlyIHtcbiAqICAgQE91dHB1dCgpIGV2ZXJ5U2Vjb25kID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICogICBAT3V0cHV0KCdldmVyeUZpdmVTZWNvbmRzJykgZml2ZTVTZWNzID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICpcbiAqICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5ldmVyeVNlY29uZC5lbWl0KFwiZXZlbnRcIiksIDEwMDApO1xuICogICAgIHNldEludGVydmFsKCgpID0+IHRoaXMuZml2ZTVTZWNzLmVtaXQoXCJldmVudFwiKSwgNTAwMCk7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICdhcHAnLFxuICogICB0ZW1wbGF0ZTogYFxuICogICAgIDxpbnRlcnZhbC1kaXIgKGV2ZXJ5U2Vjb25kKT1cImV2ZXJ5U2Vjb25kKClcIiAoZXZlcnlGaXZlU2Vjb25kcyk9XCJldmVyeUZpdmVTZWNvbmRzKClcIj5cbiAqICAgICA8L2ludGVydmFsLWRpcj5cbiAqICAgYCxcbiAqICAgZGlyZWN0aXZlczogW0ludGVydmFsRGlyXVxuICogfSlcbiAqIGNsYXNzIEFwcCB7XG4gKiAgIGV2ZXJ5U2Vjb25kKCkgeyBjb25zb2xlLmxvZygnc2Vjb25kJyk7IH1cbiAqICAgZXZlcnlGaXZlU2Vjb25kcygpIHsgY29uc29sZS5sb2coJ2ZpdmUgc2Vjb25kcycpOyB9XG4gKiB9XG4gKiBib290c3RyYXAoQXBwKTtcbiAqIGBgYFxuICogQHRzMmRhcnRfY29uc3RcbiAqL1xudmFyIE91dHB1dE1ldGFkYXRhID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPdXRwdXRNZXRhZGF0YShiaW5kaW5nUHJvcGVydHlOYW1lKSB7XG4gICAgICAgIHRoaXMuYmluZGluZ1Byb3BlcnR5TmFtZSA9IGJpbmRpbmdQcm9wZXJ0eU5hbWU7XG4gICAgfVxuICAgIHJldHVybiBPdXRwdXRNZXRhZGF0YTtcbn0oKSk7XG5leHBvcnRzLk91dHB1dE1ldGFkYXRhID0gT3V0cHV0TWV0YWRhdGE7XG4vKipcbiAqIERlY2xhcmVzIGEgaG9zdCBwcm9wZXJ0eSBiaW5kaW5nLlxuICpcbiAqIEFuZ3VsYXIgYXV0b21hdGljYWxseSBjaGVja3MgaG9zdCBwcm9wZXJ0eSBiaW5kaW5ncyBkdXJpbmcgY2hhbmdlIGRldGVjdGlvbi5cbiAqIElmIGEgYmluZGluZyBjaGFuZ2VzLCBpdCB3aWxsIHVwZGF0ZSB0aGUgaG9zdCBlbGVtZW50IG9mIHRoZSBkaXJlY3RpdmUuXG4gKlxuICogYEhvc3RCaW5kaW5nTWV0YWRhdGFgIHRha2VzIGFuIG9wdGlvbmFsIHBhcmFtZXRlciB0aGF0IHNwZWNpZmllcyB0aGUgcHJvcGVydHlcbiAqIG5hbWUgb2YgdGhlIGhvc3QgZWxlbWVudCB0aGF0IHdpbGwgYmUgdXBkYXRlZC4gV2hlbiBub3QgcHJvdmlkZWQsXG4gKiB0aGUgY2xhc3MgcHJvcGVydHkgbmFtZSBpcyB1c2VkLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIGNyZWF0ZXMgYSBkaXJlY3RpdmUgdGhhdCBzZXRzIHRoZSBgdmFsaWRgIGFuZCBgaW52YWxpZGAgY2xhc3Nlc1xuICogb24gdGhlIERPTSBlbGVtZW50IHRoYXQgaGFzIG5nTW9kZWwgZGlyZWN0aXZlIG9uIGl0LlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIEBEaXJlY3RpdmUoe3NlbGVjdG9yOiAnW25nTW9kZWxdJ30pXG4gKiBjbGFzcyBOZ01vZGVsU3RhdHVzIHtcbiAqICAgY29uc3RydWN0b3IocHVibGljIGNvbnRyb2w6TmdNb2RlbCkge31cbiAqICAgQEhvc3RCaW5kaW5nKCdjbGFzcy52YWxpZCcpIGdldCB2YWxpZCB7IHJldHVybiB0aGlzLmNvbnRyb2wudmFsaWQ7IH1cbiAqICAgQEhvc3RCaW5kaW5nKCdjbGFzcy5pbnZhbGlkJykgZ2V0IGludmFsaWQgeyByZXR1cm4gdGhpcy5jb250cm9sLmludmFsaWQ7IH1cbiAqIH1cbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICdhcHAnLFxuICogICB0ZW1wbGF0ZTogYDxpbnB1dCBbKG5nTW9kZWwpXT1cInByb3BcIj5gLFxuICogICBkaXJlY3RpdmVzOiBbRk9STV9ESVJFQ1RJVkVTLCBOZ01vZGVsU3RhdHVzXVxuICogfSlcbiAqIGNsYXNzIEFwcCB7XG4gKiAgIHByb3A7XG4gKiB9XG4gKlxuICogYm9vdHN0cmFwKEFwcCk7XG4gKiBgYGBcbiAqIEB0czJkYXJ0X2NvbnN0XG4gKi9cbnZhciBIb3N0QmluZGluZ01ldGFkYXRhID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIb3N0QmluZGluZ01ldGFkYXRhKGhvc3RQcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgdGhpcy5ob3N0UHJvcGVydHlOYW1lID0gaG9zdFByb3BlcnR5TmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIEhvc3RCaW5kaW5nTWV0YWRhdGE7XG59KCkpO1xuZXhwb3J0cy5Ib3N0QmluZGluZ01ldGFkYXRhID0gSG9zdEJpbmRpbmdNZXRhZGF0YTtcbi8qKlxuICogRGVjbGFyZXMgYSBob3N0IGxpc3RlbmVyLlxuICpcbiAqIEFuZ3VsYXIgd2lsbCBpbnZva2UgdGhlIGRlY29yYXRlZCBtZXRob2Qgd2hlbiB0aGUgaG9zdCBlbGVtZW50IGVtaXRzIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogSWYgdGhlIGRlY29yYXRlZCBtZXRob2QgcmV0dXJucyBgZmFsc2VgLCB0aGVuIGBwcmV2ZW50RGVmYXVsdGAgaXMgYXBwbGllZCBvbiB0aGUgRE9NXG4gKiBldmVudC5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBkZWNsYXJlcyBhIGRpcmVjdGl2ZSB0aGF0IGF0dGFjaGVzIGEgY2xpY2sgbGlzdGVuZXIgdG8gdGhlIGJ1dHRvbiBhbmRcbiAqIGNvdW50cyBjbGlja3MuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogQERpcmVjdGl2ZSh7c2VsZWN0b3I6ICdidXR0b25bY291bnRpbmddJ30pXG4gKiBjbGFzcyBDb3VudENsaWNrcyB7XG4gKiAgIG51bWJlck9mQ2xpY2tzID0gMDtcbiAqXG4gKiAgIEBIb3N0TGlzdGVuZXIoJ2NsaWNrJywgWyckZXZlbnQudGFyZ2V0J10pXG4gKiAgIG9uQ2xpY2soYnRuKSB7XG4gKiAgICAgY29uc29sZS5sb2coXCJidXR0b25cIiwgYnRuLCBcIm51bWJlciBvZiBjbGlja3M6XCIsIHRoaXMubnVtYmVyT2ZDbGlja3MrKyk7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICdhcHAnLFxuICogICB0ZW1wbGF0ZTogYDxidXR0b24gY291bnRpbmc+SW5jcmVtZW50PC9idXR0b24+YCxcbiAqICAgZGlyZWN0aXZlczogW0NvdW50Q2xpY2tzXVxuICogfSlcbiAqIGNsYXNzIEFwcCB7fVxuICpcbiAqIGJvb3RzdHJhcChBcHApO1xuICogYGBgXG4gKiBAdHMyZGFydF9jb25zdFxuICovXG52YXIgSG9zdExpc3RlbmVyTWV0YWRhdGEgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEhvc3RMaXN0ZW5lck1ldGFkYXRhKGV2ZW50TmFtZSwgYXJncykge1xuICAgICAgICB0aGlzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcbiAgICAgICAgdGhpcy5hcmdzID0gYXJncztcbiAgICB9XG4gICAgcmV0dXJuIEhvc3RMaXN0ZW5lck1ldGFkYXRhO1xufSgpKTtcbmV4cG9ydHMuSG9zdExpc3RlbmVyTWV0YWRhdGEgPSBIb3N0TGlzdGVuZXJNZXRhZGF0YTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpcmVjdGl2ZXMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4oZnVuY3Rpb24gKExpZmVjeWNsZUhvb2tzKSB7XG4gICAgTGlmZWN5Y2xlSG9va3NbTGlmZWN5Y2xlSG9va3NbXCJPbkluaXRcIl0gPSAwXSA9IFwiT25Jbml0XCI7XG4gICAgTGlmZWN5Y2xlSG9va3NbTGlmZWN5Y2xlSG9va3NbXCJPbkRlc3Ryb3lcIl0gPSAxXSA9IFwiT25EZXN0cm95XCI7XG4gICAgTGlmZWN5Y2xlSG9va3NbTGlmZWN5Y2xlSG9va3NbXCJEb0NoZWNrXCJdID0gMl0gPSBcIkRvQ2hlY2tcIjtcbiAgICBMaWZlY3ljbGVIb29rc1tMaWZlY3ljbGVIb29rc1tcIk9uQ2hhbmdlc1wiXSA9IDNdID0gXCJPbkNoYW5nZXNcIjtcbiAgICBMaWZlY3ljbGVIb29rc1tMaWZlY3ljbGVIb29rc1tcIkFmdGVyQ29udGVudEluaXRcIl0gPSA0XSA9IFwiQWZ0ZXJDb250ZW50SW5pdFwiO1xuICAgIExpZmVjeWNsZUhvb2tzW0xpZmVjeWNsZUhvb2tzW1wiQWZ0ZXJDb250ZW50Q2hlY2tlZFwiXSA9IDVdID0gXCJBZnRlckNvbnRlbnRDaGVja2VkXCI7XG4gICAgTGlmZWN5Y2xlSG9va3NbTGlmZWN5Y2xlSG9va3NbXCJBZnRlclZpZXdJbml0XCJdID0gNl0gPSBcIkFmdGVyVmlld0luaXRcIjtcbiAgICBMaWZlY3ljbGVIb29rc1tMaWZlY3ljbGVIb29rc1tcIkFmdGVyVmlld0NoZWNrZWRcIl0gPSA3XSA9IFwiQWZ0ZXJWaWV3Q2hlY2tlZFwiO1xufSkoZXhwb3J0cy5MaWZlY3ljbGVIb29rcyB8fCAoZXhwb3J0cy5MaWZlY3ljbGVIb29rcyA9IHt9KSk7XG52YXIgTGlmZWN5Y2xlSG9va3MgPSBleHBvcnRzLkxpZmVjeWNsZUhvb2tzO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0cy5MSUZFQ1lDTEVfSE9PS1NfVkFMVUVTID0gW1xuICAgIExpZmVjeWNsZUhvb2tzLk9uSW5pdCxcbiAgICBMaWZlY3ljbGVIb29rcy5PbkRlc3Ryb3ksXG4gICAgTGlmZWN5Y2xlSG9va3MuRG9DaGVjayxcbiAgICBMaWZlY3ljbGVIb29rcy5PbkNoYW5nZXMsXG4gICAgTGlmZWN5Y2xlSG9va3MuQWZ0ZXJDb250ZW50SW5pdCxcbiAgICBMaWZlY3ljbGVIb29rcy5BZnRlckNvbnRlbnRDaGVja2VkLFxuICAgIExpZmVjeWNsZUhvb2tzLkFmdGVyVmlld0luaXQsXG4gICAgTGlmZWN5Y2xlSG9va3MuQWZ0ZXJWaWV3Q2hlY2tlZFxuXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpZmVjeWNsZV9ob29rcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogRGVmaW5lcyB0ZW1wbGF0ZSBhbmQgc3R5bGUgZW5jYXBzdWxhdGlvbiBvcHRpb25zIGF2YWlsYWJsZSBmb3IgQ29tcG9uZW50J3Mge0BsaW5rIFZpZXd9LlxuICpcbiAqIFNlZSB7QGxpbmsgVmlld01ldGFkYXRhI2VuY2Fwc3VsYXRpb259LlxuICovXG4oZnVuY3Rpb24gKFZpZXdFbmNhcHN1bGF0aW9uKSB7XG4gICAgLyoqXG4gICAgICogRW11bGF0ZSBgTmF0aXZlYCBzY29waW5nIG9mIHN0eWxlcyBieSBhZGRpbmcgYW4gYXR0cmlidXRlIGNvbnRhaW5pbmcgc3Vycm9nYXRlIGlkIHRvIHRoZSBIb3N0XG4gICAgICogRWxlbWVudCBhbmQgcHJlLXByb2Nlc3NpbmcgdGhlIHN0eWxlIHJ1bGVzIHByb3ZpZGVkIHZpYVxuICAgICAqIHtAbGluayBWaWV3TWV0YWRhdGEjc3R5bGVzfSBvciB7QGxpbmsgVmlld01ldGFkYXRhI3N0eWxlc1VybHN9LCBhbmQgYWRkaW5nIHRoZSBuZXcgSG9zdCBFbGVtZW50XG4gICAgICogYXR0cmlidXRlIHRvIGFsbCBzZWxlY3RvcnMuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHRoZSBkZWZhdWx0IG9wdGlvbi5cbiAgICAgKi9cbiAgICBWaWV3RW5jYXBzdWxhdGlvbltWaWV3RW5jYXBzdWxhdGlvbltcIkVtdWxhdGVkXCJdID0gMF0gPSBcIkVtdWxhdGVkXCI7XG4gICAgLyoqXG4gICAgICogVXNlIHRoZSBuYXRpdmUgZW5jYXBzdWxhdGlvbiBtZWNoYW5pc20gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogRm9yIHRoZSBET00gdGhpcyBtZWFucyB1c2luZyBbU2hhZG93IERPTV0oaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3dlYmNvbXBvbmVudHMvc3BlYy9zaGFkb3cvKSBhbmRcbiAgICAgKiBjcmVhdGluZyBhIFNoYWRvd1Jvb3QgZm9yIENvbXBvbmVudCdzIEhvc3QgRWxlbWVudC5cbiAgICAgKi9cbiAgICBWaWV3RW5jYXBzdWxhdGlvbltWaWV3RW5jYXBzdWxhdGlvbltcIk5hdGl2ZVwiXSA9IDFdID0gXCJOYXRpdmVcIjtcbiAgICAvKipcbiAgICAgKiBEb24ndCBwcm92aWRlIGFueSB0ZW1wbGF0ZSBvciBzdHlsZSBlbmNhcHN1bGF0aW9uLlxuICAgICAqL1xuICAgIFZpZXdFbmNhcHN1bGF0aW9uW1ZpZXdFbmNhcHN1bGF0aW9uW1wiTm9uZVwiXSA9IDJdID0gXCJOb25lXCI7XG59KShleHBvcnRzLlZpZXdFbmNhcHN1bGF0aW9uIHx8IChleHBvcnRzLlZpZXdFbmNhcHN1bGF0aW9uID0ge30pKTtcbnZhciBWaWV3RW5jYXBzdWxhdGlvbiA9IGV4cG9ydHMuVmlld0VuY2Fwc3VsYXRpb247XG5leHBvcnRzLlZJRVdfRU5DQVBTVUxBVElPTl9WQUxVRVMgPSBbVmlld0VuY2Fwc3VsYXRpb24uRW11bGF0ZWQsIFZpZXdFbmNhcHN1bGF0aW9uLk5hdGl2ZSwgVmlld0VuY2Fwc3VsYXRpb24uTm9uZV07XG4vKipcbiAqIE1ldGFkYXRhIHByb3BlcnRpZXMgYXZhaWxhYmxlIGZvciBjb25maWd1cmluZyBWaWV3cy5cbiAqXG4gKiBFYWNoIEFuZ3VsYXIgY29tcG9uZW50IHJlcXVpcmVzIGEgc2luZ2xlIGBAQ29tcG9uZW50YCBhbmQgYXQgbGVhc3Qgb25lIGBAVmlld2AgYW5ub3RhdGlvbi4gVGhlXG4gKiBgQFZpZXdgIGFubm90YXRpb24gc3BlY2lmaWVzIHRoZSBIVE1MIHRlbXBsYXRlIHRvIHVzZSwgYW5kIGxpc3RzIHRoZSBkaXJlY3RpdmVzIHRoYXQgYXJlIGFjdGl2ZVxuICogd2l0aGluIHRoZSB0ZW1wbGF0ZS5cbiAqXG4gKiBXaGVuIGEgY29tcG9uZW50IGlzIGluc3RhbnRpYXRlZCwgdGhlIHRlbXBsYXRlIGlzIGxvYWRlZCBpbnRvIHRoZSBjb21wb25lbnQncyBzaGFkb3cgcm9vdCwgYW5kXG4gKiB0aGUgZXhwcmVzc2lvbnMgYW5kIHN0YXRlbWVudHMgaW4gdGhlIHRlbXBsYXRlIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCB0aGUgY29tcG9uZW50LlxuICpcbiAqIEZvciBkZXRhaWxzIG9uIHRoZSBgQENvbXBvbmVudGAgYW5ub3RhdGlvbiwgc2VlIHtAbGluayBDb21wb25lbnRNZXRhZGF0YX0uXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGBcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ2dyZWV0JyxcbiAqICAgdGVtcGxhdGU6ICdIZWxsbyB7e25hbWV9fSEnLFxuICogICBkaXJlY3RpdmVzOiBbR3JlZXRVc2VyLCBCb2xkXVxuICogfSlcbiAqIGNsYXNzIEdyZWV0IHtcbiAqICAgbmFtZTogc3RyaW5nO1xuICpcbiAqICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgdGhpcy5uYW1lID0gJ1dvcmxkJztcbiAqICAgfVxuICogfVxuICogYGBgXG4gKiBAdHMyZGFydF9jb25zdFxuICovXG52YXIgVmlld01ldGFkYXRhID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWaWV3TWV0YWRhdGEoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IHt9IDogX2EsIHRlbXBsYXRlVXJsID0gX2IudGVtcGxhdGVVcmwsIHRlbXBsYXRlID0gX2IudGVtcGxhdGUsIGRpcmVjdGl2ZXMgPSBfYi5kaXJlY3RpdmVzLCBwaXBlcyA9IF9iLnBpcGVzLCBlbmNhcHN1bGF0aW9uID0gX2IuZW5jYXBzdWxhdGlvbiwgc3R5bGVzID0gX2Iuc3R5bGVzLCBzdHlsZVVybHMgPSBfYi5zdHlsZVVybHM7XG4gICAgICAgIHRoaXMudGVtcGxhdGVVcmwgPSB0ZW1wbGF0ZVVybDtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgICB0aGlzLnN0eWxlVXJscyA9IHN0eWxlVXJscztcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBzdHlsZXM7XG4gICAgICAgIHRoaXMuZGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXM7XG4gICAgICAgIHRoaXMucGlwZXMgPSBwaXBlcztcbiAgICAgICAgdGhpcy5lbmNhcHN1bGF0aW9uID0gZW5jYXBzdWxhdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIFZpZXdNZXRhZGF0YTtcbn0oKSk7XG5leHBvcnRzLlZpZXdNZXRhZGF0YSA9IFZpZXdNZXRhZGF0YTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZXcuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29uc29sZV8xID0gcmVxdWlyZSgnLi9jb25zb2xlJyk7XG52YXIgcmVmbGVjdGlvbl8xID0gcmVxdWlyZSgnLi9yZWZsZWN0aW9uL3JlZmxlY3Rpb24nKTtcbnZhciByZWZsZWN0b3JfcmVhZGVyXzEgPSByZXF1aXJlKCcuL3JlZmxlY3Rpb24vcmVmbGVjdG9yX3JlYWRlcicpO1xudmFyIHRlc3RhYmlsaXR5XzEgPSByZXF1aXJlKCcuL3Rlc3RhYmlsaXR5L3Rlc3RhYmlsaXR5Jyk7XG52YXIgYXBwbGljYXRpb25fcmVmXzEgPSByZXF1aXJlKCcuL2FwcGxpY2F0aW9uX3JlZicpO1xuZnVuY3Rpb24gX3JlZmxlY3RvcigpIHtcbiAgICByZXR1cm4gcmVmbGVjdGlvbl8xLnJlZmxlY3Rvcjtcbn1cbnZhciBfX3VudXNlZDsgLy8gcHJldmVudCBtaXNzaW5nIHVzZSBEYXJ0IHdhcm5pbmcuXG4vKipcbiAqIEEgZGVmYXVsdCBzZXQgb2YgcHJvdmlkZXJzIHdoaWNoIHNob3VsZCBiZSBpbmNsdWRlZCBpbiBhbnkgQW5ndWxhciBwbGF0Zm9ybS5cbiAqL1xuZXhwb3J0cy5QTEFURk9STV9DT01NT05fUFJPVklERVJTID0gW1xuICAgIGFwcGxpY2F0aW9uX3JlZl8xLlBMQVRGT1JNX0NPUkVfUFJPVklERVJTLFxuICAgIC8qQHRzMmRhcnRfUHJvdmlkZXIqLyB7IHByb3ZpZGU6IHJlZmxlY3Rpb25fMS5SZWZsZWN0b3IsIHVzZUZhY3Rvcnk6IF9yZWZsZWN0b3IsIGRlcHM6IFtdIH0sXG4gICAgLypAdHMyZGFydF9Qcm92aWRlciovIHsgcHJvdmlkZTogcmVmbGVjdG9yX3JlYWRlcl8xLlJlZmxlY3RvclJlYWRlciwgdXNlRXhpc3Rpbmc6IHJlZmxlY3Rpb25fMS5SZWZsZWN0b3IgfSxcbiAgICB0ZXN0YWJpbGl0eV8xLlRlc3RhYmlsaXR5UmVnaXN0cnksXG4gICAgY29uc29sZV8xLkNvbnNvbGVcbl07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbGF0Zm9ybV9jb21tb25fcHJvdmlkZXJzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGRpXzEgPSByZXF1aXJlKCcuL2RpJyk7XG4vKipcbiAqIEEgdG9rZW4gdGhhdCBjYW4gYmUgcHJvdmlkZWQgd2hlbiBib290c3RyYXBpbmcgYW4gYXBwbGljYXRpb24gdG8gbWFrZSBhbiBhcnJheSBvZiBkaXJlY3RpdmVzXG4gKiBhdmFpbGFibGUgaW4gZXZlcnkgY29tcG9uZW50IG9mIHRoZSBhcHBsaWNhdGlvbi5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7UExBVEZPUk1fRElSRUNUSVZFU30gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4gKiBpbXBvcnQge090aGVyRGlyZWN0aXZlfSBmcm9tICcuL215RGlyZWN0aXZlcyc7XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnbXktY29tcG9uZW50JyxcbiAqICAgdGVtcGxhdGU6IGBcbiAqICAgICA8IS0tIGNhbiB1c2Ugb3RoZXIgZGlyZWN0aXZlIGV2ZW4gdGhvdWdoIHRoZSBjb21wb25lbnQgZG9lcyBub3QgbGlzdCBpdCBpbiBgZGlyZWN0aXZlc2AgLS0+XG4gKiAgICAgPG90aGVyLWRpcmVjdGl2ZT48L290aGVyLWRpcmVjdGl2ZT5cbiAqICAgYFxuICogfSlcbiAqIGV4cG9ydCBjbGFzcyBNeUNvbXBvbmVudCB7XG4gKiAgIC4uLlxuICogfVxuICpcbiAqIGJvb3RzdHJhcChNeUNvbXBvbmVudCwgW3Byb3ZpZGUoUExBVEZPUk1fRElSRUNUSVZFUywge3VzZVZhbHVlOiBbT3RoZXJEaXJlY3RpdmVdLCBtdWx0aTp0cnVlfSldKTtcbiAqIGBgYFxuICovXG5leHBvcnRzLlBMQVRGT1JNX0RJUkVDVElWRVMgPSBcbi8qQHRzMmRhcnRfY29uc3QqLyBuZXcgZGlfMS5PcGFxdWVUb2tlbihcIlBsYXRmb3JtIERpcmVjdGl2ZXNcIik7XG4vKipcbiAqIEEgdG9rZW4gdGhhdCBjYW4gYmUgcHJvdmlkZWQgd2hlbiBib290c3RyYXBpbmcgYW4gYXBwbGljYXRpb24gdG8gbWFrZSBhbiBhcnJheSBvZiBwaXBlc1xuICogYXZhaWxhYmxlIGluIGV2ZXJ5IGNvbXBvbmVudCBvZiB0aGUgYXBwbGljYXRpb24uXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1BMQVRGT1JNX1BJUEVTfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbiAqIGltcG9ydCB7T3RoZXJQaXBlfSBmcm9tICcuL215UGlwZSc7XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnbXktY29tcG9uZW50JyxcbiAqICAgdGVtcGxhdGU6IGBcbiAqICAgICB7ezEyMyB8IG90aGVyLXBpcGV9fVxuICogICBgXG4gKiB9KVxuICogZXhwb3J0IGNsYXNzIE15Q29tcG9uZW50IHtcbiAqICAgLi4uXG4gKiB9XG4gKlxuICogYm9vdHN0cmFwKE15Q29tcG9uZW50LCBbcHJvdmlkZShQTEFURk9STV9QSVBFUywge3VzZVZhbHVlOiBbT3RoZXJQaXBlXSwgbXVsdGk6dHJ1ZX0pXSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0cy5QTEFURk9STV9QSVBFUyA9IG5ldyBkaV8xLk9wYXF1ZVRva2VuKFwiUGxhdGZvcm0gUGlwZXNcIik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbGF0Zm9ybV9kaXJlY3RpdmVzX2FuZF9waXBlcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBpbXBsID0gcmVxdWlyZSgnLi93dGZfaW1wbCcpO1xuLy8gQ2hhbmdlIGV4cG9ydHMgdG8gY29uc3Qgb25jZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci90czJkYXJ0L2lzc3Vlcy8xNTBcbi8qKlxuICogVHJ1ZSBpZiBXVEYgaXMgZW5hYmxlZC5cbiAqL1xuZXhwb3J0cy53dGZFbmFibGVkID0gaW1wbC5kZXRlY3RXVEYoKTtcbmZ1bmN0aW9uIG5vb3BTY29wZShhcmcwLCBhcmcxKSB7XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIENyZWF0ZSB0cmFjZSBzY29wZS5cbiAqXG4gKiBTY29wZXMgbXVzdCBiZSBzdHJpY3RseSBuZXN0ZWQgYW5kIGFyZSBhbmFsb2dvdXMgdG8gc3RhY2sgZnJhbWVzLCBidXRcbiAqIGRvIG5vdCBoYXZlIHRvIGZvbGxvdyB0aGUgc3RhY2sgZnJhbWVzLiBJbnN0ZWFkIGl0IGlzIHJlY29tbWVuZGVkIHRoYXQgdGhleSBmb2xsb3cgbG9naWNhbFxuICogbmVzdGluZy4gWW91IG1heSB3YW50IHRvIHVzZVxuICogW0V2ZW50XG4gKiBTaWduYXR1cmVzXShodHRwOi8vZ29vZ2xlLmdpdGh1Yi5pby90cmFjaW5nLWZyYW1ld29yay9pbnN0cnVtZW50aW5nLWNvZGUuaHRtbCNjdXN0b20tZXZlbnRzKVxuICogYXMgdGhleSBhcmUgZGVmaW5lZCBpbiBXVEYuXG4gKlxuICogVXNlZCB0byBtYXJrIHNjb3BlIGVudHJ5LiBUaGUgcmV0dXJuIHZhbHVlIGlzIHVzZWQgdG8gbGVhdmUgdGhlIHNjb3BlLlxuICpcbiAqICAgICB2YXIgbXlTY29wZSA9IHd0ZkNyZWF0ZVNjb3BlKCdNeUNsYXNzI215TWV0aG9kKGFzY2lpIHNvbWVWYWwpJyk7XG4gKlxuICogICAgIHNvbWVNZXRob2QoKSB7XG4gKiAgICAgICAgdmFyIHMgPSBteVNjb3BlKCdGb28nKTsgLy8gJ0ZvbycgZ2V0cyBzdG9yZWQgaW4gdHJhY2luZyBVSVxuICogICAgICAgIC8vIERPIFNPTUUgV09SSyBIRVJFXG4gKiAgICAgICAgcmV0dXJuIHd0ZkxlYXZlKHMsIDEyMyk7IC8vIFJldHVybiB2YWx1ZSAxMjNcbiAqICAgICB9XG4gKlxuICogTm90ZSwgYWRkaW5nIHRyeS1maW5hbGx5IGJsb2NrIGFyb3VuZCB0aGUgd29yayB0byBlbnN1cmUgdGhhdCBgd3RmTGVhdmVgIGdldHMgY2FsbGVkIGNhblxuICogbmVnYXRpdmVseSBpbXBhY3QgdGhlIHBlcmZvcm1hbmNlIG9mIHlvdXIgYXBwbGljYXRpb24uIEZvciB0aGlzIHJlYXNvbiB3ZSByZWNvbW1lbmQgdGhhdFxuICogeW91IGRvbid0IGFkZCB0aGVtIHRvIGVuc3VyZSB0aGF0IGB3dGZMZWF2ZWAgZ2V0cyBjYWxsZWQuIEluIHByb2R1Y3Rpb24gYHd0ZkxlYXZlYCBpcyBhIG5vb3AgYW5kXG4gKiBzbyB0cnktZmluYWxseSBibG9jayBoYXMgbm8gdmFsdWUuIFdoZW4gZGVidWdnaW5nIHBlcmYgaXNzdWVzLCBza2lwcGluZyBgd3RmTGVhdmVgLCBkbyB0b1xuICogZXhjZXB0aW9uLCB3aWxsIHByb2R1Y2UgaW5jb3JyZWN0IHRyYWNlLCBidXQgcHJlc2VuY2Ugb2YgZXhjZXB0aW9uIHNpZ25pZmllcyBsb2dpYyBlcnJvciB3aGljaFxuICogbmVlZHMgdG8gYmUgZml4ZWQgYmVmb3JlIHRoZSBhcHAgc2hvdWxkIGJlIHByb2ZpbGVkLiBBZGQgdHJ5LWZpbmFsbHkgb25seSB3aGVuIHlvdSBleHBlY3QgdGhhdFxuICogYW4gZXhjZXB0aW9uIGlzIGV4cGVjdGVkIGR1cmluZyBub3JtYWwgZXhlY3V0aW9uIHdoaWxlIHByb2ZpbGluZy5cbiAqXG4gKi9cbmV4cG9ydHMud3RmQ3JlYXRlU2NvcGUgPSBleHBvcnRzLnd0ZkVuYWJsZWQgPyBpbXBsLmNyZWF0ZVNjb3BlIDogZnVuY3Rpb24gKHNpZ25hdHVyZSwgZmxhZ3MpIHsgcmV0dXJuIG5vb3BTY29wZTsgfTtcbi8qKlxuICogVXNlZCB0byBtYXJrIGVuZCBvZiBTY29wZS5cbiAqXG4gKiAtIGBzY29wZWAgdG8gZW5kLlxuICogLSBgcmV0dXJuVmFsdWVgIChvcHRpb25hbCkgdG8gYmUgcGFzc2VkIHRvIHRoZSBXVEYuXG4gKlxuICogUmV0dXJucyB0aGUgYHJldHVyblZhbHVlIGZvciBlYXN5IGNoYWluaW5nLlxuICovXG5leHBvcnRzLnd0ZkxlYXZlID0gZXhwb3J0cy53dGZFbmFibGVkID8gaW1wbC5sZWF2ZSA6IGZ1bmN0aW9uIChzLCByKSB7IHJldHVybiByOyB9O1xuLyoqXG4gKiBVc2VkIHRvIG1hcmsgQXN5bmMgc3RhcnQuIEFzeW5jIGFyZSBzaW1pbGFyIHRvIHNjb3BlIGJ1dCB0aGV5IGRvbid0IGhhdmUgdG8gYmUgc3RyaWN0bHkgbmVzdGVkLlxuICogVGhlIHJldHVybiB2YWx1ZSBpcyB1c2VkIGluIHRoZSBjYWxsIHRvIFtlbmRBc3luY10uIEFzeW5jIHJhbmdlcyBvbmx5IHdvcmsgaWYgV1RGIGhhcyBiZWVuXG4gKiBlbmFibGVkLlxuICpcbiAqICAgICBzb21lTWV0aG9kKCkge1xuICogICAgICAgIHZhciBzID0gd3RmU3RhcnRUaW1lUmFuZ2UoJ0hUVFA6R0VUJywgJ3NvbWUudXJsJyk7XG4gKiAgICAgICAgdmFyIGZ1dHVyZSA9IG5ldyBGdXR1cmUuZGVsYXkoNSkudGhlbigoXykge1xuICogICAgICAgICAgd3RmRW5kVGltZVJhbmdlKHMpO1xuICogICAgICAgIH0pO1xuICogICAgIH1cbiAqL1xuZXhwb3J0cy53dGZTdGFydFRpbWVSYW5nZSA9IGV4cG9ydHMud3RmRW5hYmxlZCA/IGltcGwuc3RhcnRUaW1lUmFuZ2UgOiBmdW5jdGlvbiAocmFuZ2VUeXBlLCBhY3Rpb24pIHsgcmV0dXJuIG51bGw7IH07XG4vKipcbiAqIEVuZHMgYSBhc3luYyB0aW1lIHJhbmdlIG9wZXJhdGlvbi5cbiAqIFtyYW5nZV0gaXMgdGhlIHJldHVybiB2YWx1ZSBmcm9tIFt3dGZTdGFydFRpbWVSYW5nZV0gQXN5bmMgcmFuZ2VzIG9ubHkgd29yayBpZiBXVEYgaGFzIGJlZW5cbiAqIGVuYWJsZWQuXG4gKi9cbmV4cG9ydHMud3RmRW5kVGltZVJhbmdlID0gZXhwb3J0cy53dGZFbmFibGVkID8gaW1wbC5lbmRUaW1lUmFuZ2UgOiBmdW5jdGlvbiAocikge1xuICAgIHJldHVybiBudWxsO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2ZpbGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgdHJhY2U7XG52YXIgZXZlbnRzO1xuZnVuY3Rpb24gZGV0ZWN0V1RGKCkge1xuICAgIHZhciB3dGYgPSBsYW5nXzEuZ2xvYmFsWyd3dGYnXTtcbiAgICBpZiAod3RmKSB7XG4gICAgICAgIHRyYWNlID0gd3RmWyd0cmFjZSddO1xuICAgICAgICBpZiAodHJhY2UpIHtcbiAgICAgICAgICAgIGV2ZW50cyA9IHRyYWNlWydldmVudHMnXTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuZGV0ZWN0V1RGID0gZGV0ZWN0V1RGO1xuZnVuY3Rpb24gY3JlYXRlU2NvcGUoc2lnbmF0dXJlLCBmbGFncykge1xuICAgIGlmIChmbGFncyA9PT0gdm9pZCAwKSB7IGZsYWdzID0gbnVsbDsgfVxuICAgIHJldHVybiBldmVudHMuY3JlYXRlU2NvcGUoc2lnbmF0dXJlLCBmbGFncyk7XG59XG5leHBvcnRzLmNyZWF0ZVNjb3BlID0gY3JlYXRlU2NvcGU7XG5mdW5jdGlvbiBsZWF2ZShzY29wZSwgcmV0dXJuVmFsdWUpIHtcbiAgICB0cmFjZS5sZWF2ZVNjb3BlKHNjb3BlLCByZXR1cm5WYWx1ZSk7XG4gICAgcmV0dXJuIHJldHVyblZhbHVlO1xufVxuZXhwb3J0cy5sZWF2ZSA9IGxlYXZlO1xuZnVuY3Rpb24gc3RhcnRUaW1lUmFuZ2UocmFuZ2VUeXBlLCBhY3Rpb24pIHtcbiAgICByZXR1cm4gdHJhY2UuYmVnaW5UaW1lUmFuZ2UocmFuZ2VUeXBlLCBhY3Rpb24pO1xufVxuZXhwb3J0cy5zdGFydFRpbWVSYW5nZSA9IHN0YXJ0VGltZVJhbmdlO1xuZnVuY3Rpb24gZW5kVGltZVJhbmdlKHJhbmdlKSB7XG4gICAgdHJhY2UuZW5kVGltZVJhbmdlKHJhbmdlKTtcbn1cbmV4cG9ydHMuZW5kVGltZVJhbmdlID0gZW5kVGltZVJhbmdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d3RmX2ltcGwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiogVGhpcyBpcyBoZXJlIGJlY2F1c2UgREFSVCByZXF1aXJlcyBpdC4gSXQgaXMgbm9vcCBpbiBKUy5cbiovXG5mdW5jdGlvbiB3dGZJbml0KCkgeyB9XG5leHBvcnRzLnd0ZkluaXQgPSB3dGZJbml0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d3RmX2luaXQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgcmVmbGVjdG9yXzEgPSByZXF1aXJlKCcuL3JlZmxlY3RvcicpO1xudmFyIHJlZmxlY3Rvcl8yID0gcmVxdWlyZSgnLi9yZWZsZWN0b3InKTtcbmV4cG9ydHMuUmVmbGVjdG9yID0gcmVmbGVjdG9yXzIuUmVmbGVjdG9yO1xuZXhwb3J0cy5SZWZsZWN0aW9uSW5mbyA9IHJlZmxlY3Rvcl8yLlJlZmxlY3Rpb25JbmZvO1xudmFyIHJlZmxlY3Rpb25fY2FwYWJpbGl0aWVzXzEgPSByZXF1aXJlKCcuL3JlZmxlY3Rpb25fY2FwYWJpbGl0aWVzJyk7XG4vKipcbiAqIFRoZSB7QGxpbmsgUmVmbGVjdG9yfSB1c2VkIGludGVybmFsbHkgaW4gQW5ndWxhciB0byBhY2Nlc3MgbWV0YWRhdGFcbiAqIGFib3V0IHN5bWJvbHMuXG4gKi9cbmV4cG9ydHMucmVmbGVjdG9yID0gbmV3IHJlZmxlY3Rvcl8xLlJlZmxlY3RvcihuZXcgcmVmbGVjdGlvbl9jYXBhYmlsaXRpZXNfMS5SZWZsZWN0aW9uQ2FwYWJpbGl0aWVzKCkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVmbGVjdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzKHJlZmxlY3QpIHtcbiAgICAgICAgdGhpcy5fcmVmbGVjdCA9IGxhbmdfMS5pc1ByZXNlbnQocmVmbGVjdCkgPyByZWZsZWN0IDogbGFuZ18xLmdsb2JhbC5SZWZsZWN0O1xuICAgIH1cbiAgICBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnByb3RvdHlwZS5pc1JlZmxlY3Rpb25FbmFibGVkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfTtcbiAgICBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnByb3RvdHlwZS5mYWN0b3J5ID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgc3dpdGNoICh0Lmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgdCgpOyB9O1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYTEpIHsgcmV0dXJuIG5ldyB0KGExKTsgfTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGExLCBhMikgeyByZXR1cm4gbmV3IHQoYTEsIGEyKTsgfTtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGExLCBhMiwgYTMpIHsgcmV0dXJuIG5ldyB0KGExLCBhMiwgYTMpOyB9O1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYTEsIGEyLCBhMywgYTQpIHsgcmV0dXJuIG5ldyB0KGExLCBhMiwgYTMsIGE0KTsgfTtcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGExLCBhMiwgYTMsIGE0LCBhNSkgeyByZXR1cm4gbmV3IHQoYTEsIGEyLCBhMywgYTQsIGE1KTsgfTtcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGExLCBhMiwgYTMsIGE0LCBhNSwgYTYpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB0KGExLCBhMiwgYTMsIGE0LCBhNSwgYTYpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHQoYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNywgYTgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB0KGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3LCBhOCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3LCBhOCwgYTkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB0KGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3LCBhOCwgYTkpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcsIGE4LCBhOSwgYTEwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgdChhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNywgYTgsIGE5LCBhMTApO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcsIGE4LCBhOSwgYTEwLCBhMTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB0KGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3LCBhOCwgYTksIGExMCwgYTExKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3LCBhOCwgYTksIGExMCwgYTExLCBhMTIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB0KGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3LCBhOCwgYTksIGExMCwgYTExLCBhMTIpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcsIGE4LCBhOSwgYTEwLCBhMTEsIGExMiwgYTEzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgdChhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNywgYTgsIGE5LCBhMTAsIGExMSwgYTEyLCBhMTMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcsIGE4LCBhOSwgYTEwLCBhMTEsIGExMiwgYTEzLCBhMTQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB0KGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3LCBhOCwgYTksIGExMCwgYTExLCBhMTIsIGExMywgYTE0KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3LCBhOCwgYTksIGExMCwgYTExLCBhMTIsIGExMywgYTE0LCBhMTUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB0KGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3LCBhOCwgYTksIGExMCwgYTExLCBhMTIsIGExMywgYTE0LCBhMTUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcsIGE4LCBhOSwgYTEwLCBhMTEsIGExMiwgYTEzLCBhMTQsIGExNSwgYTE2KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgdChhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNywgYTgsIGE5LCBhMTAsIGExMSwgYTEyLCBhMTMsIGExNCwgYTE1LCBhMTYpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcsIGE4LCBhOSwgYTEwLCBhMTEsIGExMiwgYTEzLCBhMTQsIGExNSwgYTE2LCBhMTcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB0KGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3LCBhOCwgYTksIGExMCwgYTExLCBhMTIsIGExMywgYTE0LCBhMTUsIGExNiwgYTE3KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3LCBhOCwgYTksIGExMCwgYTExLCBhMTIsIGExMywgYTE0LCBhMTUsIGExNiwgYTE3LCBhMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB0KGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3LCBhOCwgYTksIGExMCwgYTExLCBhMTIsIGExMywgYTE0LCBhMTUsIGExNiwgYTE3LCBhMTgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcsIGE4LCBhOSwgYTEwLCBhMTEsIGExMiwgYTEzLCBhMTQsIGExNSwgYTE2LCBhMTcsIGExOCwgYTE5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgdChhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNywgYTgsIGE5LCBhMTAsIGExMSwgYTEyLCBhMTMsIGExNCwgYTE1LCBhMTYsIGExNywgYTE4LCBhMTkpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcsIGE4LCBhOSwgYTEwLCBhMTEsIGExMiwgYTEzLCBhMTQsIGExNSwgYTE2LCBhMTcsIGExOCwgYTE5LCBhMjApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB0KGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3LCBhOCwgYTksIGExMCwgYTExLCBhMTIsIGExMywgYTE0LCBhMTUsIGExNiwgYTE3LCBhMTgsIGExOSwgYTIwKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIDtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNyZWF0ZSBhIGZhY3RvcnkgZm9yICdcIiArIGxhbmdfMS5zdHJpbmdpZnkodCkgKyBcIicgYmVjYXVzZSBpdHMgY29uc3RydWN0b3IgaGFzIG1vcmUgdGhhbiAyMCBhcmd1bWVudHNcIik7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgUmVmbGVjdGlvbkNhcGFiaWxpdGllcy5wcm90b3R5cGUuX3ppcFR5cGVzQW5kQW5ub3RhdGlvbnMgPSBmdW5jdGlvbiAocGFyYW1UeXBlcywgcGFyYW1Bbm5vdGF0aW9ucykge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICBpZiAodHlwZW9mIHBhcmFtVHlwZXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgQXJyYXkocGFyYW1Bbm5vdGF0aW9ucy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEFycmF5KHBhcmFtVHlwZXMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gVFMgb3V0cHV0cyBPYmplY3QgZm9yIHBhcmFtZXRlcnMgd2l0aG91dCB0eXBlcywgd2hpbGUgVHJhY2V1ciBvbWl0c1xuICAgICAgICAgICAgLy8gdGhlIGFubm90YXRpb25zLiBGb3Igbm93IHdlIHByZXNlcnZlIHRoZSBUcmFjZXVyIGJlaGF2aW9yIHRvIGFpZFxuICAgICAgICAgICAgLy8gbWlncmF0aW9uLCBidXQgdGhpcyBjYW4gYmUgcmV2aXNpdGVkLlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbVR5cGVzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFyYW1UeXBlc1tpXSAhPSBPYmplY3QpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBbcGFyYW1UeXBlc1tpXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHBhcmFtQW5ub3RhdGlvbnMpICYmIGxhbmdfMS5pc1ByZXNlbnQocGFyYW1Bbm5vdGF0aW9uc1tpXSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSByZXN1bHRbaV0uY29uY2F0KHBhcmFtQW5ub3RhdGlvbnNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnByb3RvdHlwZS5wYXJhbWV0ZXJzID0gZnVuY3Rpb24gKHR5cGVPckZ1bmMpIHtcbiAgICAgICAgLy8gUHJlZmVyIHRoZSBkaXJlY3QgQVBJLlxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0eXBlT3JGdW5jLnBhcmFtZXRlcnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZU9yRnVuYy5wYXJhbWV0ZXJzO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFQSSBvZiB0c2lja2xlIGZvciBsb3dlcmluZyBkZWNvcmF0b3JzIHRvIHByb3BlcnRpZXMgb24gdGhlIGNsYXNzLlxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0eXBlT3JGdW5jLmN0b3JQYXJhbWV0ZXJzKSkge1xuICAgICAgICAgICAgdmFyIGN0b3JQYXJhbWV0ZXJzID0gdHlwZU9yRnVuYy5jdG9yUGFyYW1ldGVycztcbiAgICAgICAgICAgIHZhciBwYXJhbVR5cGVzXzEgPSBjdG9yUGFyYW1ldGVycy5tYXAoZnVuY3Rpb24gKGN0b3JQYXJhbSkgeyByZXR1cm4gY3RvclBhcmFtICYmIGN0b3JQYXJhbS50eXBlOyB9KTtcbiAgICAgICAgICAgIHZhciBwYXJhbUFubm90YXRpb25zXzEgPSBjdG9yUGFyYW1ldGVycy5tYXAoZnVuY3Rpb24gKGN0b3JQYXJhbSkgeyByZXR1cm4gY3RvclBhcmFtICYmIGNvbnZlcnRUc2lja2xlRGVjb3JhdG9ySW50b01ldGFkYXRhKGN0b3JQYXJhbS5kZWNvcmF0b3JzKTsgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5femlwVHlwZXNBbmRBbm5vdGF0aW9ucyhwYXJhbVR5cGVzXzEsIHBhcmFtQW5ub3RhdGlvbnNfMSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQVBJIGZvciBtZXRhZGF0YSBjcmVhdGVkIGJ5IGludm9raW5nIHRoZSBkZWNvcmF0b3JzLlxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLl9yZWZsZWN0KSAmJiBsYW5nXzEuaXNQcmVzZW50KHRoaXMuX3JlZmxlY3QuZ2V0TWV0YWRhdGEpKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1Bbm5vdGF0aW9ucyA9IHRoaXMuX3JlZmxlY3QuZ2V0TWV0YWRhdGEoJ3BhcmFtZXRlcnMnLCB0eXBlT3JGdW5jKTtcbiAgICAgICAgICAgIHZhciBwYXJhbVR5cGVzID0gdGhpcy5fcmVmbGVjdC5nZXRNZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCB0eXBlT3JGdW5jKTtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHBhcmFtVHlwZXMpIHx8IGxhbmdfMS5pc1ByZXNlbnQocGFyYW1Bbm5vdGF0aW9ucykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5femlwVHlwZXNBbmRBbm5vdGF0aW9ucyhwYXJhbVR5cGVzLCBwYXJhbUFubm90YXRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgYXJyYXkgaGFzIHRvIGJlIGZpbGxlZCB3aXRoIGB1bmRlZmluZWRgIGJlY2F1c2UgaG9sZXMgd291bGQgYmUgc2tpcHBlZCBieSBgc29tZWBcbiAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSBuZXcgQXJyYXkodHlwZU9yRnVuYy5sZW5ndGgpO1xuICAgICAgICBwYXJhbWV0ZXJzLmZpbGwodW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIHBhcmFtZXRlcnM7XG4gICAgfTtcbiAgICBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnByb3RvdHlwZS5hbm5vdGF0aW9ucyA9IGZ1bmN0aW9uICh0eXBlT3JGdW5jKSB7XG4gICAgICAgIC8vIFByZWZlciB0aGUgZGlyZWN0IEFQSS5cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodHlwZU9yRnVuYy5hbm5vdGF0aW9ucykpIHtcbiAgICAgICAgICAgIHZhciBhbm5vdGF0aW9ucyA9IHR5cGVPckZ1bmMuYW5ub3RhdGlvbnM7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzRnVuY3Rpb24oYW5ub3RhdGlvbnMpICYmIGFubm90YXRpb25zLmFubm90YXRpb25zKSB7XG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucy5hbm5vdGF0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhbm5vdGF0aW9ucztcbiAgICAgICAgfVxuICAgICAgICAvLyBBUEkgb2YgdHNpY2tsZSBmb3IgbG93ZXJpbmcgZGVjb3JhdG9ycyB0byBwcm9wZXJ0aWVzIG9uIHRoZSBjbGFzcy5cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodHlwZU9yRnVuYy5kZWNvcmF0b3JzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRUc2lja2xlRGVjb3JhdG9ySW50b01ldGFkYXRhKHR5cGVPckZ1bmMuZGVjb3JhdG9ycyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQVBJIGZvciBtZXRhZGF0YSBjcmVhdGVkIGJ5IGludm9raW5nIHRoZSBkZWNvcmF0b3JzLlxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLl9yZWZsZWN0KSAmJiBsYW5nXzEuaXNQcmVzZW50KHRoaXMuX3JlZmxlY3QuZ2V0TWV0YWRhdGEpKSB7XG4gICAgICAgICAgICB2YXIgYW5ub3RhdGlvbnMgPSB0aGlzLl9yZWZsZWN0LmdldE1ldGFkYXRhKCdhbm5vdGF0aW9ucycsIHR5cGVPckZ1bmMpO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoYW5ub3RhdGlvbnMpKVxuICAgICAgICAgICAgICAgIHJldHVybiBhbm5vdGF0aW9ucztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfTtcbiAgICBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnByb3RvdHlwZS5wcm9wTWV0YWRhdGEgPSBmdW5jdGlvbiAodHlwZU9yRnVuYykge1xuICAgICAgICAvLyBQcmVmZXIgdGhlIGRpcmVjdCBBUEkuXG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHR5cGVPckZ1bmMucHJvcE1ldGFkYXRhKSkge1xuICAgICAgICAgICAgdmFyIHByb3BNZXRhZGF0YSA9IHR5cGVPckZ1bmMucHJvcE1ldGFkYXRhO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0Z1bmN0aW9uKHByb3BNZXRhZGF0YSkgJiYgcHJvcE1ldGFkYXRhLnByb3BNZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgIHByb3BNZXRhZGF0YSA9IHByb3BNZXRhZGF0YS5wcm9wTWV0YWRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJvcE1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFQSSBvZiB0c2lja2xlIGZvciBsb3dlcmluZyBkZWNvcmF0b3JzIHRvIHByb3BlcnRpZXMgb24gdGhlIGNsYXNzLlxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0eXBlT3JGdW5jLnByb3BEZWNvcmF0b3JzKSkge1xuICAgICAgICAgICAgdmFyIHByb3BEZWNvcmF0b3JzXzEgPSB0eXBlT3JGdW5jLnByb3BEZWNvcmF0b3JzO1xuICAgICAgICAgICAgdmFyIHByb3BNZXRhZGF0YV8xID0ge307XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhwcm9wRGVjb3JhdG9yc18xKVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgcHJvcE1ldGFkYXRhXzFbcHJvcF0gPSBjb252ZXJ0VHNpY2tsZURlY29yYXRvckludG9NZXRhZGF0YShwcm9wRGVjb3JhdG9yc18xW3Byb3BdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHByb3BNZXRhZGF0YV8xO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFQSSBmb3IgbWV0YWRhdGEgY3JlYXRlZCBieSBpbnZva2luZyB0aGUgZGVjb3JhdG9ycy5cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGhpcy5fcmVmbGVjdCkgJiYgbGFuZ18xLmlzUHJlc2VudCh0aGlzLl9yZWZsZWN0LmdldE1ldGFkYXRhKSkge1xuICAgICAgICAgICAgdmFyIHByb3BNZXRhZGF0YSA9IHRoaXMuX3JlZmxlY3QuZ2V0TWV0YWRhdGEoJ3Byb3BNZXRhZGF0YScsIHR5cGVPckZ1bmMpO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocHJvcE1ldGFkYXRhKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcE1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9O1xuICAgIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvdG90eXBlLmludGVyZmFjZXMgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oXCJKYXZhU2NyaXB0IGRvZXMgbm90IHN1cHBvcnQgaW50ZXJmYWNlc1wiKTtcbiAgICB9O1xuICAgIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvdG90eXBlLmdldHRlciA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBuZXcgRnVuY3Rpb24oJ28nLCAncmV0dXJuIG8uJyArIG5hbWUgKyAnOycpOyB9O1xuICAgIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvdG90eXBlLnNldHRlciA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oJ28nLCAndicsICdyZXR1cm4gby4nICsgbmFtZSArICcgPSB2OycpO1xuICAgIH07XG4gICAgUmVmbGVjdGlvbkNhcGFiaWxpdGllcy5wcm90b3R5cGUubWV0aG9kID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIGZ1bmN0aW9uQm9keSA9IFwiaWYgKCFvLlwiICsgbmFtZSArIFwiKSB0aHJvdyBuZXcgRXJyb3IoJ1xcXCJcIiArIG5hbWUgKyBcIlxcXCIgaXMgdW5kZWZpbmVkJyk7XFxuICAgICAgICByZXR1cm4gby5cIiArIG5hbWUgKyBcIi5hcHBseShvLCBhcmdzKTtcIjtcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbignbycsICdhcmdzJywgZnVuY3Rpb25Cb2R5KTtcbiAgICB9O1xuICAgIC8vIFRoZXJlIGlzIG5vdCBhIGNvbmNlcHQgb2YgaW1wb3J0IHVyaSBpbiBKcywgYnV0IHRoaXMgaXMgdXNlZnVsIGluIGRldmVsb3BpbmcgRGFydCBhcHBsaWNhdGlvbnMuXG4gICAgUmVmbGVjdGlvbkNhcGFiaWxpdGllcy5wcm90b3R5cGUuaW1wb3J0VXJpID0gZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIFwiLi9cIiArIGxhbmdfMS5zdHJpbmdpZnkodHlwZSk7IH07XG4gICAgcmV0dXJuIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXM7XG59KCkpO1xuZXhwb3J0cy5SZWZsZWN0aW9uQ2FwYWJpbGl0aWVzID0gUmVmbGVjdGlvbkNhcGFiaWxpdGllcztcbmZ1bmN0aW9uIGNvbnZlcnRUc2lja2xlRGVjb3JhdG9ySW50b01ldGFkYXRhKGRlY29yYXRvckludm9jYXRpb25zKSB7XG4gICAgaWYgKCFkZWNvcmF0b3JJbnZvY2F0aW9ucykge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBkZWNvcmF0b3JJbnZvY2F0aW9ucy5tYXAoZnVuY3Rpb24gKGRlY29yYXRvckludm9jYXRpb24pIHtcbiAgICAgICAgdmFyIGRlY29yYXRvclR5cGUgPSBkZWNvcmF0b3JJbnZvY2F0aW9uLnR5cGU7XG4gICAgICAgIHZhciBhbm5vdGF0aW9uQ2xzID0gZGVjb3JhdG9yVHlwZS5hbm5vdGF0aW9uQ2xzO1xuICAgICAgICB2YXIgYW5ub3RhdGlvbkFyZ3MgPSBkZWNvcmF0b3JJbnZvY2F0aW9uLmFyZ3MgPyBkZWNvcmF0b3JJbnZvY2F0aW9uLmFyZ3MgOiBbXTtcbiAgICAgICAgdmFyIGFubm90YXRpb24gPSBPYmplY3QuY3JlYXRlKGFubm90YXRpb25DbHMucHJvdG90eXBlKTtcbiAgICAgICAgYW5ub3RhdGlvbkNscy5hcHBseShhbm5vdGF0aW9uLCBhbm5vdGF0aW9uQXJncyk7XG4gICAgICAgIHJldHVybiBhbm5vdGF0aW9uO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVmbGVjdGlvbl9jYXBhYmlsaXRpZXMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciByZWZsZWN0b3JfcmVhZGVyXzEgPSByZXF1aXJlKCcuL3JlZmxlY3Rvcl9yZWFkZXInKTtcbi8qKlxuICogUmVmbGVjdGl2ZSBpbmZvcm1hdGlvbiBhYm91dCBhIHN5bWJvbCwgaW5jbHVkaW5nIGFubm90YXRpb25zLCBpbnRlcmZhY2VzLCBhbmQgb3RoZXIgbWV0YWRhdGEuXG4gKi9cbnZhciBSZWZsZWN0aW9uSW5mbyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVmbGVjdGlvbkluZm8oYW5ub3RhdGlvbnMsIHBhcmFtZXRlcnMsIGZhY3RvcnksIGludGVyZmFjZXMsIHByb3BNZXRhZGF0YSkge1xuICAgICAgICB0aGlzLmFubm90YXRpb25zID0gYW5ub3RhdGlvbnM7XG4gICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHBhcmFtZXRlcnM7XG4gICAgICAgIHRoaXMuZmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgICAgIHRoaXMuaW50ZXJmYWNlcyA9IGludGVyZmFjZXM7XG4gICAgICAgIHRoaXMucHJvcE1ldGFkYXRhID0gcHJvcE1ldGFkYXRhO1xuICAgIH1cbiAgICByZXR1cm4gUmVmbGVjdGlvbkluZm87XG59KCkpO1xuZXhwb3J0cy5SZWZsZWN0aW9uSW5mbyA9IFJlZmxlY3Rpb25JbmZvO1xuLyoqXG4gKiBQcm92aWRlcyBhY2Nlc3MgdG8gcmVmbGVjdGlvbiBkYXRhIGFib3V0IHN5bWJvbHMuIFVzZWQgaW50ZXJuYWxseSBieSBBbmd1bGFyXG4gKiB0byBwb3dlciBkZXBlbmRlbmN5IGluamVjdGlvbiBhbmQgY29tcGlsYXRpb24uXG4gKi9cbnZhciBSZWZsZWN0b3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZWZsZWN0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVmbGVjdG9yKHJlZmxlY3Rpb25DYXBhYmlsaXRpZXMpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5faW5qZWN0YWJsZUluZm8gPSBuZXcgY29sbGVjdGlvbl8xLk1hcCgpO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX2dldHRlcnMgPSBuZXcgY29sbGVjdGlvbl8xLk1hcCgpO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX3NldHRlcnMgPSBuZXcgY29sbGVjdGlvbl8xLk1hcCgpO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX21ldGhvZHMgPSBuZXcgY29sbGVjdGlvbl8xLk1hcCgpO1xuICAgICAgICB0aGlzLl91c2VkS2V5cyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcyA9IHJlZmxlY3Rpb25DYXBhYmlsaXRpZXM7XG4gICAgfVxuICAgIFJlZmxlY3Rvci5wcm90b3R5cGUuaXNSZWZsZWN0aW9uRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5pc1JlZmxlY3Rpb25FbmFibGVkKCk7IH07XG4gICAgLyoqXG4gICAgICogQ2F1c2VzIGB0aGlzYCByZWZsZWN0b3IgdG8gdHJhY2sga2V5cyB1c2VkIHRvIGFjY2Vzc1xuICAgICAqIHtAbGluayBSZWZsZWN0aW9uSW5mb30gb2JqZWN0cy5cbiAgICAgKi9cbiAgICBSZWZsZWN0b3IucHJvdG90eXBlLnRyYWNrVXNhZ2UgPSBmdW5jdGlvbiAoKSB7IHRoaXMuX3VzZWRLZXlzID0gbmV3IGNvbGxlY3Rpb25fMS5TZXQoKTsgfTtcbiAgICAvKipcbiAgICAgKiBMaXN0cyB0eXBlcyBmb3Igd2hpY2ggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiB3YXMgbm90IHJlcXVlc3RlZCBzaW5jZVxuICAgICAqIHtAbGluayAjdHJhY2tVc2FnZX0gd2FzIGNhbGxlZC4gVGhpcyBsaXN0IGNvdWxkIGxhdGVyIGJlIGF1ZGl0ZWQgYXNcbiAgICAgKiBwb3RlbnRpYWwgZGVhZCBjb2RlLlxuICAgICAqL1xuICAgIFJlZmxlY3Rvci5wcm90b3R5cGUubGlzdFVudXNlZEtleXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl91c2VkS2V5cyA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oJ1VzYWdlIHRyYWNraW5nIGlzIGRpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFsbFR5cGVzID0gY29sbGVjdGlvbl8xLk1hcFdyYXBwZXIua2V5cyh0aGlzLl9pbmplY3RhYmxlSW5mbyk7XG4gICAgICAgIHJldHVybiBhbGxUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gIWNvbGxlY3Rpb25fMS5TZXRXcmFwcGVyLmhhcyhfdGhpcy5fdXNlZEtleXMsIGtleSk7IH0pO1xuICAgIH07XG4gICAgUmVmbGVjdG9yLnByb3RvdHlwZS5yZWdpc3RlckZ1bmN0aW9uID0gZnVuY3Rpb24gKGZ1bmMsIGZ1bmNJbmZvKSB7XG4gICAgICAgIHRoaXMuX2luamVjdGFibGVJbmZvLnNldChmdW5jLCBmdW5jSW5mbyk7XG4gICAgfTtcbiAgICBSZWZsZWN0b3IucHJvdG90eXBlLnJlZ2lzdGVyVHlwZSA9IGZ1bmN0aW9uICh0eXBlLCB0eXBlSW5mbykge1xuICAgICAgICB0aGlzLl9pbmplY3RhYmxlSW5mby5zZXQodHlwZSwgdHlwZUluZm8pO1xuICAgIH07XG4gICAgUmVmbGVjdG9yLnByb3RvdHlwZS5yZWdpc3RlckdldHRlcnMgPSBmdW5jdGlvbiAoZ2V0dGVycykgeyBfbWVyZ2VNYXBzKHRoaXMuX2dldHRlcnMsIGdldHRlcnMpOyB9O1xuICAgIFJlZmxlY3Rvci5wcm90b3R5cGUucmVnaXN0ZXJTZXR0ZXJzID0gZnVuY3Rpb24gKHNldHRlcnMpIHsgX21lcmdlTWFwcyh0aGlzLl9zZXR0ZXJzLCBzZXR0ZXJzKTsgfTtcbiAgICBSZWZsZWN0b3IucHJvdG90eXBlLnJlZ2lzdGVyTWV0aG9kcyA9IGZ1bmN0aW9uIChtZXRob2RzKSB7IF9tZXJnZU1hcHModGhpcy5fbWV0aG9kcywgbWV0aG9kcyk7IH07XG4gICAgUmVmbGVjdG9yLnByb3RvdHlwZS5mYWN0b3J5ID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRhaW5zUmVmbGVjdGlvbkluZm8odHlwZSkpIHtcbiAgICAgICAgICAgIHZhciByZXMgPSB0aGlzLl9nZXRSZWZsZWN0aW9uSW5mbyh0eXBlKS5mYWN0b3J5O1xuICAgICAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQocmVzKSA/IHJlcyA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLmZhY3RvcnkodHlwZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlZmxlY3Rvci5wcm90b3R5cGUucGFyYW1ldGVycyA9IGZ1bmN0aW9uICh0eXBlT3JGdW5jKSB7XG4gICAgICAgIGlmICh0aGlzLl9pbmplY3RhYmxlSW5mby5oYXModHlwZU9yRnVuYykpIHtcbiAgICAgICAgICAgIHZhciByZXMgPSB0aGlzLl9nZXRSZWZsZWN0aW9uSW5mbyh0eXBlT3JGdW5jKS5wYXJhbWV0ZXJzO1xuICAgICAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQocmVzKSA/IHJlcyA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5wYXJhbWV0ZXJzKHR5cGVPckZ1bmMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWZsZWN0b3IucHJvdG90eXBlLmFubm90YXRpb25zID0gZnVuY3Rpb24gKHR5cGVPckZ1bmMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2luamVjdGFibGVJbmZvLmhhcyh0eXBlT3JGdW5jKSkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IHRoaXMuX2dldFJlZmxlY3Rpb25JbmZvKHR5cGVPckZ1bmMpLmFubm90YXRpb25zO1xuICAgICAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQocmVzKSA/IHJlcyA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5hbm5vdGF0aW9ucyh0eXBlT3JGdW5jKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVmbGVjdG9yLnByb3RvdHlwZS5wcm9wTWV0YWRhdGEgPSBmdW5jdGlvbiAodHlwZU9yRnVuYykge1xuICAgICAgICBpZiAodGhpcy5faW5qZWN0YWJsZUluZm8uaGFzKHR5cGVPckZ1bmMpKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gdGhpcy5fZ2V0UmVmbGVjdGlvbkluZm8odHlwZU9yRnVuYykucHJvcE1ldGFkYXRhO1xuICAgICAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQocmVzKSA/IHJlcyA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5wcm9wTWV0YWRhdGEodHlwZU9yRnVuYyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlZmxlY3Rvci5wcm90b3R5cGUuaW50ZXJmYWNlcyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzLl9pbmplY3RhYmxlSW5mby5oYXModHlwZSkpIHtcbiAgICAgICAgICAgIHZhciByZXMgPSB0aGlzLl9nZXRSZWZsZWN0aW9uSW5mbyh0eXBlKS5pbnRlcmZhY2VzO1xuICAgICAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQocmVzKSA/IHJlcyA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5pbnRlcmZhY2VzKHR5cGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWZsZWN0b3IucHJvdG90eXBlLmdldHRlciA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLl9nZXR0ZXJzLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldHRlcnMuZ2V0KG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5nZXR0ZXIobmFtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlZmxlY3Rvci5wcm90b3R5cGUuc2V0dGVyID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NldHRlcnMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGVycy5nZXQobmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnNldHRlcihuYW1lKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVmbGVjdG9yLnByb3RvdHlwZS5tZXRob2QgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICBpZiAodGhpcy5fbWV0aG9kcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tZXRob2RzLmdldChuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMubWV0aG9kKG5hbWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgUmVmbGVjdG9yLnByb3RvdHlwZS5fZ2V0UmVmbGVjdGlvbkluZm8gPSBmdW5jdGlvbiAodHlwZU9yRnVuYykge1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLl91c2VkS2V5cykpIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZWRLZXlzLmFkZCh0eXBlT3JGdW5jKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5faW5qZWN0YWJsZUluZm8uZ2V0KHR5cGVPckZ1bmMpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIFJlZmxlY3Rvci5wcm90b3R5cGUuX2NvbnRhaW5zUmVmbGVjdGlvbkluZm8gPSBmdW5jdGlvbiAodHlwZU9yRnVuYykgeyByZXR1cm4gdGhpcy5faW5qZWN0YWJsZUluZm8uaGFzKHR5cGVPckZ1bmMpOyB9O1xuICAgIFJlZmxlY3Rvci5wcm90b3R5cGUuaW1wb3J0VXJpID0gZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5pbXBvcnRVcmkodHlwZSk7IH07XG4gICAgcmV0dXJuIFJlZmxlY3Rvcjtcbn0ocmVmbGVjdG9yX3JlYWRlcl8xLlJlZmxlY3RvclJlYWRlcikpO1xuZXhwb3J0cy5SZWZsZWN0b3IgPSBSZWZsZWN0b3I7XG5mdW5jdGlvbiBfbWVyZ2VNYXBzKHRhcmdldCwgY29uZmlnKSB7XG4gICAgY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIuZm9yRWFjaChjb25maWcsIGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiB0YXJnZXQuc2V0KGssIHYpOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZmxlY3Rvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuKiBQcm92aWRlcyByZWFkLW9ubHkgYWNjZXNzIHRvIHJlZmxlY3Rpb24gZGF0YSBhYm91dCBzeW1ib2xzLiBVc2VkIGludGVybmFsbHkgYnkgQW5ndWxhclxuKiB0byBwb3dlciBkZXBlbmRlbmN5IGluamVjdGlvbiBhbmQgY29tcGlsYXRpb24uXG4qL1xudmFyIFJlZmxlY3RvclJlYWRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVmbGVjdG9yUmVhZGVyKCkge1xuICAgIH1cbiAgICByZXR1cm4gUmVmbGVjdG9yUmVhZGVyO1xufSgpKTtcbmV4cG9ydHMuUmVmbGVjdG9yUmVhZGVyID0gUmVmbGVjdG9yUmVhZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVmbGVjdG9yX3JlYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIFB1YmxpYyBBUEkgZm9yIHJlbmRlclxudmFyIGFwaV8xID0gcmVxdWlyZSgnLi9yZW5kZXIvYXBpJyk7XG5leHBvcnRzLlJvb3RSZW5kZXJlciA9IGFwaV8xLlJvb3RSZW5kZXJlcjtcbmV4cG9ydHMuUmVuZGVyZXIgPSBhcGlfMS5SZW5kZXJlcjtcbmV4cG9ydHMuUmVuZGVyQ29tcG9uZW50VHlwZSA9IGFwaV8xLlJlbmRlckNvbXBvbmVudFR5cGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZW5kZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG52YXIgUmVuZGVyQ29tcG9uZW50VHlwZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVuZGVyQ29tcG9uZW50VHlwZShpZCwgdGVtcGxhdGVVcmwsIHNsb3RDb3VudCwgZW5jYXBzdWxhdGlvbiwgc3R5bGVzKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZVVybCA9IHRlbXBsYXRlVXJsO1xuICAgICAgICB0aGlzLnNsb3RDb3VudCA9IHNsb3RDb3VudDtcbiAgICAgICAgdGhpcy5lbmNhcHN1bGF0aW9uID0gZW5jYXBzdWxhdGlvbjtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBzdHlsZXM7XG4gICAgfVxuICAgIHJldHVybiBSZW5kZXJDb21wb25lbnRUeXBlO1xufSgpKTtcbmV4cG9ydHMuUmVuZGVyQ29tcG9uZW50VHlwZSA9IFJlbmRlckNvbXBvbmVudFR5cGU7XG52YXIgUmVuZGVyRGVidWdJbmZvID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZW5kZXJEZWJ1Z0luZm8oKSB7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZW5kZXJEZWJ1Z0luZm8ucHJvdG90eXBlLCBcImluamVjdG9yXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleGNlcHRpb25zXzEudW5pbXBsZW1lbnRlZCgpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyRGVidWdJbmZvLnByb3RvdHlwZSwgXCJjb21wb25lbnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4Y2VwdGlvbnNfMS51bmltcGxlbWVudGVkKCk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZW5kZXJEZWJ1Z0luZm8ucHJvdG90eXBlLCBcInByb3ZpZGVyVG9rZW5zXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleGNlcHRpb25zXzEudW5pbXBsZW1lbnRlZCgpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyRGVidWdJbmZvLnByb3RvdHlwZSwgXCJyZWZlcmVuY2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleGNlcHRpb25zXzEudW5pbXBsZW1lbnRlZCgpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyRGVidWdJbmZvLnByb3RvdHlwZSwgXCJjb250ZXh0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleGNlcHRpb25zXzEudW5pbXBsZW1lbnRlZCgpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyRGVidWdJbmZvLnByb3RvdHlwZSwgXCJzb3VyY2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4Y2VwdGlvbnNfMS51bmltcGxlbWVudGVkKCk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBSZW5kZXJEZWJ1Z0luZm87XG59KCkpO1xuZXhwb3J0cy5SZW5kZXJEZWJ1Z0luZm8gPSBSZW5kZXJEZWJ1Z0luZm87XG52YXIgUmVuZGVyZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlbmRlcmVyKCkge1xuICAgIH1cbiAgICByZXR1cm4gUmVuZGVyZXI7XG59KCkpO1xuZXhwb3J0cy5SZW5kZXJlciA9IFJlbmRlcmVyO1xuLyoqXG4gKiBJbmplY3RhYmxlIHNlcnZpY2UgdGhhdCBwcm92aWRlcyBhIGxvdy1sZXZlbCBpbnRlcmZhY2UgZm9yIG1vZGlmeWluZyB0aGUgVUkuXG4gKlxuICogVXNlIHRoaXMgc2VydmljZSB0byBieXBhc3MgQW5ndWxhcidzIHRlbXBsYXRpbmcgYW5kIG1ha2UgY3VzdG9tIFVJIGNoYW5nZXMgdGhhdCBjYW4ndCBiZVxuICogZXhwcmVzc2VkIGRlY2xhcmF0aXZlbHkuIEZvciBleGFtcGxlIGlmIHlvdSBuZWVkIHRvIHNldCBhIHByb3BlcnR5IG9yIGFuIGF0dHJpYnV0ZSB3aG9zZSBuYW1lIGlzXG4gKiBub3Qgc3RhdGljYWxseSBrbm93biwgdXNlIHtAbGluayAjc2V0RWxlbWVudFByb3BlcnR5fSBvciB7QGxpbmsgI3NldEVsZW1lbnRBdHRyaWJ1dGV9XG4gKiByZXNwZWN0aXZlbHkuXG4gKlxuICogSWYgeW91IGFyZSBpbXBsZW1lbnRpbmcgYSBjdXN0b20gcmVuZGVyZXIsIHlvdSBtdXN0IGltcGxlbWVudCB0aGlzIGludGVyZmFjZS5cbiAqXG4gKiBUaGUgZGVmYXVsdCBSZW5kZXJlciBpbXBsZW1lbnRhdGlvbiBpcyBgRG9tUmVuZGVyZXJgLiBBbHNvIGF2YWlsYWJsZSBpcyBgV2ViV29ya2VyUmVuZGVyZXJgLlxuICovXG52YXIgUm9vdFJlbmRlcmVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSb290UmVuZGVyZXIoKSB7XG4gICAgfVxuICAgIHJldHVybiBSb290UmVuZGVyZXI7XG59KCkpO1xuZXhwb3J0cy5Sb290UmVuZGVyZXIgPSBSb290UmVuZGVyZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcGkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiogQSBTZWN1cml0eUNvbnRleHQgbWFya3MgYSBsb2NhdGlvbiB0aGF0IGhhcyBkYW5nZXJvdXMgc2VjdXJpdHkgaW1wbGljYXRpb25zLCBlLmcuIGEgRE9NIHByb3BlcnR5XG4qIGxpa2UgYGlubmVySFRNTGAgdGhhdCBjb3VsZCBjYXVzZSBDcm9zcyBTaXRlIFNjcmlwdGluZyAoWFNTKSBzZWN1cml0eSBidWdzIHdoZW4gaW1wcm9wZXJseVxuKiBoYW5kbGVkLlxuKlxuKiBTZWUgRG9tU2FuaXRpemF0aW9uU2VydmljZSBmb3IgbW9yZSBkZXRhaWxzIG9uIHNlY3VyaXR5IGluIEFuZ3VsYXIgYXBwbGljYXRpb25zLlxuKi9cbihmdW5jdGlvbiAoU2VjdXJpdHlDb250ZXh0KSB7XG4gICAgU2VjdXJpdHlDb250ZXh0W1NlY3VyaXR5Q29udGV4dFtcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIFNlY3VyaXR5Q29udGV4dFtTZWN1cml0eUNvbnRleHRbXCJIVE1MXCJdID0gMV0gPSBcIkhUTUxcIjtcbiAgICBTZWN1cml0eUNvbnRleHRbU2VjdXJpdHlDb250ZXh0W1wiU1RZTEVcIl0gPSAyXSA9IFwiU1RZTEVcIjtcbiAgICBTZWN1cml0eUNvbnRleHRbU2VjdXJpdHlDb250ZXh0W1wiU0NSSVBUXCJdID0gM10gPSBcIlNDUklQVFwiO1xuICAgIFNlY3VyaXR5Q29udGV4dFtTZWN1cml0eUNvbnRleHRbXCJVUkxcIl0gPSA0XSA9IFwiVVJMXCI7XG4gICAgU2VjdXJpdHlDb250ZXh0W1NlY3VyaXR5Q29udGV4dFtcIlJFU09VUkNFX1VSTFwiXSA9IDVdID0gXCJSRVNPVVJDRV9VUkxcIjtcbn0pKGV4cG9ydHMuU2VjdXJpdHlDb250ZXh0IHx8IChleHBvcnRzLlNlY3VyaXR5Q29udGV4dCA9IHt9KSk7XG52YXIgU2VjdXJpdHlDb250ZXh0ID0gZXhwb3J0cy5TZWN1cml0eUNvbnRleHQ7XG4vKipcbiAqIFNhbml0aXphdGlvblNlcnZpY2UgaXMgdXNlZCBieSB0aGUgdmlld3MgdG8gc2FuaXRpemUgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIHZhbHVlcy4gVGhpcyBpcyBhXG4gKiBwcml2YXRlIEFQSSwgdXNlIGNvZGUgc2hvdWxkIG9ubHkgcmVmZXIgdG8gRG9tU2FuaXRpemF0aW9uU2VydmljZS5cbiAqL1xudmFyIFNhbml0aXphdGlvblNlcnZpY2UgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNhbml0aXphdGlvblNlcnZpY2UoKSB7XG4gICAgfVxuICAgIHJldHVybiBTYW5pdGl6YXRpb25TZXJ2aWNlO1xufSgpKTtcbmV4cG9ydHMuU2FuaXRpemF0aW9uU2VydmljZSA9IFNhbml0aXphdGlvblNlcnZpY2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZWN1cml0eS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBuZ196b25lXzEgPSByZXF1aXJlKCcuLi96b25lL25nX3pvbmUnKTtcbnZhciBhc3luY18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9hc3luYycpO1xudmFyIGRlY29yYXRvcnNfMSA9IHJlcXVpcmUoJy4uL2RpL2RlY29yYXRvcnMnKTtcbnZhciBUZXN0YWJpbGl0eSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGVzdGFiaWxpdHkoX25nWm9uZSkge1xuICAgICAgICB0aGlzLl9uZ1pvbmUgPSBfbmdab25lO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX3BlbmRpbmdDb3VudCA9IDA7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5faXNab25lU3RhYmxlID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgYW55IHdvcmsgd2FzIGRvbmUgc2luY2UgdGhlIGxhc3QgJ3doZW5TdGFibGUnIGNhbGxiYWNrLiBUaGlzIGlzXG4gICAgICAgICAqIHVzZWZ1bCB0byBkZXRlY3QgaWYgdGhpcyBjb3VsZCBoYXZlIHBvdGVudGlhbGx5IGRlc3RhYmlsaXplZCBhbm90aGVyXG4gICAgICAgICAqIGNvbXBvbmVudCB3aGlsZSBpdCBpcyBzdGFiaWxpemluZy5cbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kaWRXb3JrID0gZmFsc2U7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0gW107XG4gICAgICAgIHRoaXMuX3dhdGNoQW5ndWxhckV2ZW50cygpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgVGVzdGFiaWxpdHkucHJvdG90eXBlLl93YXRjaEFuZ3VsYXJFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGFzeW5jXzEuT2JzZXJ2YWJsZVdyYXBwZXIuc3Vic2NyaWJlKHRoaXMuX25nWm9uZS5vblVuc3RhYmxlLCBmdW5jdGlvbiAoXykge1xuICAgICAgICAgICAgX3RoaXMuX2RpZFdvcmsgPSB0cnVlO1xuICAgICAgICAgICAgX3RoaXMuX2lzWm9uZVN0YWJsZSA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGFzeW5jXzEuT2JzZXJ2YWJsZVdyYXBwZXIuc3Vic2NyaWJlKF90aGlzLl9uZ1pvbmUub25TdGFibGUsIGZ1bmN0aW9uIChfKSB7XG4gICAgICAgICAgICAgICAgbmdfem9uZV8xLk5nWm9uZS5hc3NlcnROb3RJbkFuZ3VsYXJab25lKCk7XG4gICAgICAgICAgICAgICAgbGFuZ18xLnNjaGVkdWxlTWljcm9UYXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2lzWm9uZVN0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9ydW5DYWxsYmFja3NJZlJlYWR5KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBUZXN0YWJpbGl0eS5wcm90b3R5cGUuaW5jcmVhc2VQZW5kaW5nUmVxdWVzdENvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9wZW5kaW5nQ291bnQgKz0gMTtcbiAgICAgICAgdGhpcy5fZGlkV29yayA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzLl9wZW5kaW5nQ291bnQ7XG4gICAgfTtcbiAgICBUZXN0YWJpbGl0eS5wcm90b3R5cGUuZGVjcmVhc2VQZW5kaW5nUmVxdWVzdENvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9wZW5kaW5nQ291bnQgLT0gMTtcbiAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdDb3VudCA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbigncGVuZGluZyBhc3luYyByZXF1ZXN0cyBiZWxvdyB6ZXJvJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcGVuZGluZ0NvdW50O1xuICAgIH07XG4gICAgVGVzdGFiaWxpdHkucHJvdG90eXBlLmlzU3RhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNab25lU3RhYmxlICYmIHRoaXMuX3BlbmRpbmdDb3VudCA9PSAwICYmICF0aGlzLl9uZ1pvbmUuaGFzUGVuZGluZ01hY3JvdGFza3M7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgVGVzdGFiaWxpdHkucHJvdG90eXBlLl9ydW5DYWxsYmFja3NJZlJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5pc1N0YWJsZSgpKSB7XG4gICAgICAgICAgICAvLyBTY2hlZHVsZXMgdGhlIGNhbGwgYmFja3MgaW4gYSBuZXcgZnJhbWUgc28gdGhhdCBpdCBpcyBhbHdheXMgYXN5bmMuXG4gICAgICAgICAgICBsYW5nXzEuc2NoZWR1bGVNaWNyb1Rhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChfdGhpcy5fY2FsbGJhY2tzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAoX3RoaXMuX2NhbGxiYWNrcy5wb3AoKSkoX3RoaXMuX2RpZFdvcmspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5fZGlkV29yayA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBOb3QgUmVhZHlcbiAgICAgICAgICAgIHRoaXMuX2RpZFdvcmsgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUZXN0YWJpbGl0eS5wcm90b3R5cGUud2hlblN0YWJsZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgIHRoaXMuX3J1bkNhbGxiYWNrc0lmUmVhZHkoKTtcbiAgICB9O1xuICAgIFRlc3RhYmlsaXR5LnByb3RvdHlwZS5nZXRQZW5kaW5nUmVxdWVzdENvdW50ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fcGVuZGluZ0NvdW50OyB9O1xuICAgIFRlc3RhYmlsaXR5LnByb3RvdHlwZS5maW5kQmluZGluZ3MgPSBmdW5jdGlvbiAodXNpbmcsIHByb3ZpZGVyLCBleGFjdE1hdGNoKSB7XG4gICAgICAgIC8vIFRPRE8oanVsaWVtcik6IGltcGxlbWVudC5cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH07XG4gICAgVGVzdGFiaWxpdHkucHJvdG90eXBlLmZpbmRQcm92aWRlcnMgPSBmdW5jdGlvbiAodXNpbmcsIHByb3ZpZGVyLCBleGFjdE1hdGNoKSB7XG4gICAgICAgIC8vIFRPRE8oanVsaWVtcik6IGltcGxlbWVudC5cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH07XG4gICAgVGVzdGFiaWxpdHkuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBkZWNvcmF0b3JzXzEuSW5qZWN0YWJsZSB9LFxuICAgIF07XG4gICAgVGVzdGFiaWxpdHkuY3RvclBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHsgdHlwZTogbmdfem9uZV8xLk5nWm9uZSwgfSxcbiAgICBdO1xuICAgIHJldHVybiBUZXN0YWJpbGl0eTtcbn0oKSk7XG5leHBvcnRzLlRlc3RhYmlsaXR5ID0gVGVzdGFiaWxpdHk7XG52YXIgVGVzdGFiaWxpdHlSZWdpc3RyeSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGVzdGFiaWxpdHlSZWdpc3RyeSgpIHtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9hcHBsaWNhdGlvbnMgPSBuZXcgY29sbGVjdGlvbl8xLk1hcCgpO1xuICAgICAgICBfdGVzdGFiaWxpdHlHZXR0ZXIuYWRkVG9XaW5kb3codGhpcyk7XG4gICAgfVxuICAgIFRlc3RhYmlsaXR5UmVnaXN0cnkucHJvdG90eXBlLnJlZ2lzdGVyQXBwbGljYXRpb24gPSBmdW5jdGlvbiAodG9rZW4sIHRlc3RhYmlsaXR5KSB7XG4gICAgICAgIHRoaXMuX2FwcGxpY2F0aW9ucy5zZXQodG9rZW4sIHRlc3RhYmlsaXR5KTtcbiAgICB9O1xuICAgIFRlc3RhYmlsaXR5UmVnaXN0cnkucHJvdG90eXBlLmdldFRlc3RhYmlsaXR5ID0gZnVuY3Rpb24gKGVsZW0pIHsgcmV0dXJuIHRoaXMuX2FwcGxpY2F0aW9ucy5nZXQoZWxlbSk7IH07XG4gICAgVGVzdGFiaWxpdHlSZWdpc3RyeS5wcm90b3R5cGUuZ2V0QWxsVGVzdGFiaWxpdGllcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbGxlY3Rpb25fMS5NYXBXcmFwcGVyLnZhbHVlcyh0aGlzLl9hcHBsaWNhdGlvbnMpOyB9O1xuICAgIFRlc3RhYmlsaXR5UmVnaXN0cnkucHJvdG90eXBlLmdldEFsbFJvb3RFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbGxlY3Rpb25fMS5NYXBXcmFwcGVyLmtleXModGhpcy5fYXBwbGljYXRpb25zKTsgfTtcbiAgICBUZXN0YWJpbGl0eVJlZ2lzdHJ5LnByb3RvdHlwZS5maW5kVGVzdGFiaWxpdHlJblRyZWUgPSBmdW5jdGlvbiAoZWxlbSwgZmluZEluQW5jZXN0b3JzKSB7XG4gICAgICAgIGlmIChmaW5kSW5BbmNlc3RvcnMgPT09IHZvaWQgMCkgeyBmaW5kSW5BbmNlc3RvcnMgPSB0cnVlOyB9XG4gICAgICAgIHJldHVybiBfdGVzdGFiaWxpdHlHZXR0ZXIuZmluZFRlc3RhYmlsaXR5SW5UcmVlKHRoaXMsIGVsZW0sIGZpbmRJbkFuY2VzdG9ycyk7XG4gICAgfTtcbiAgICBUZXN0YWJpbGl0eVJlZ2lzdHJ5LmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogZGVjb3JhdG9yc18xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIFRlc3RhYmlsaXR5UmVnaXN0cnkuY3RvclBhcmFtZXRlcnMgPSBbXTtcbiAgICByZXR1cm4gVGVzdGFiaWxpdHlSZWdpc3RyeTtcbn0oKSk7XG5leHBvcnRzLlRlc3RhYmlsaXR5UmVnaXN0cnkgPSBUZXN0YWJpbGl0eVJlZ2lzdHJ5O1xuLyogQHRzMmRhcnRfY29uc3QgKi9cbnZhciBfTm9vcEdldFRlc3RhYmlsaXR5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBfTm9vcEdldFRlc3RhYmlsaXR5KCkge1xuICAgIH1cbiAgICBfTm9vcEdldFRlc3RhYmlsaXR5LnByb3RvdHlwZS5hZGRUb1dpbmRvdyA9IGZ1bmN0aW9uIChyZWdpc3RyeSkgeyB9O1xuICAgIF9Ob29wR2V0VGVzdGFiaWxpdHkucHJvdG90eXBlLmZpbmRUZXN0YWJpbGl0eUluVHJlZSA9IGZ1bmN0aW9uIChyZWdpc3RyeSwgZWxlbSwgZmluZEluQW5jZXN0b3JzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIF9Ob29wR2V0VGVzdGFiaWxpdHk7XG59KCkpO1xuLyoqXG4gKiBTZXQgdGhlIHtAbGluayBHZXRUZXN0YWJpbGl0eX0gaW1wbGVtZW50YXRpb24gdXNlZCBieSB0aGUgQW5ndWxhciB0ZXN0aW5nIGZyYW1ld29yay5cbiAqL1xuZnVuY3Rpb24gc2V0VGVzdGFiaWxpdHlHZXR0ZXIoZ2V0dGVyKSB7XG4gICAgX3Rlc3RhYmlsaXR5R2V0dGVyID0gZ2V0dGVyO1xufVxuZXhwb3J0cy5zZXRUZXN0YWJpbGl0eUdldHRlciA9IHNldFRlc3RhYmlsaXR5R2V0dGVyO1xudmFyIF90ZXN0YWJpbGl0eUdldHRlciA9IG5ldyBfTm9vcEdldFRlc3RhYmlsaXR5KCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXN0YWJpbGl0eS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIFB1YmxpYyBBUEkgZm9yIHV0aWxcbnZhciBkZWNvcmF0b3JzXzEgPSByZXF1aXJlKCcuL3V0aWwvZGVjb3JhdG9ycycpO1xuZXhwb3J0cy5DbGFzcyA9IGRlY29yYXRvcnNfMS5DbGFzcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgX25leHRDbGFzc0lkID0gMDtcbmZ1bmN0aW9uIGV4dHJhY3RBbm5vdGF0aW9uKGFubm90YXRpb24pIHtcbiAgICBpZiAobGFuZ18xLmlzRnVuY3Rpb24oYW5ub3RhdGlvbikgJiYgYW5ub3RhdGlvbi5oYXNPd25Qcm9wZXJ0eSgnYW5ub3RhdGlvbicpKSB7XG4gICAgICAgIC8vIGl0IGlzIGEgZGVjb3JhdG9yLCBleHRyYWN0IGFubm90YXRpb25cbiAgICAgICAgYW5ub3RhdGlvbiA9IGFubm90YXRpb24uYW5ub3RhdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIGFubm90YXRpb247XG59XG5mdW5jdGlvbiBhcHBseVBhcmFtcyhmbk9yQXJyYXksIGtleSkge1xuICAgIGlmIChmbk9yQXJyYXkgPT09IE9iamVjdCB8fCBmbk9yQXJyYXkgPT09IFN0cmluZyB8fCBmbk9yQXJyYXkgPT09IEZ1bmN0aW9uIHx8XG4gICAgICAgIGZuT3JBcnJheSA9PT0gTnVtYmVyIHx8IGZuT3JBcnJheSA9PT0gQXJyYXkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuIG5vdCB1c2UgbmF0aXZlIFwiICsgbGFuZ18xLnN0cmluZ2lmeShmbk9yQXJyYXkpICsgXCIgYXMgY29uc3RydWN0b3JcIik7XG4gICAgfVxuICAgIGlmIChsYW5nXzEuaXNGdW5jdGlvbihmbk9yQXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBmbk9yQXJyYXk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGZuT3JBcnJheSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHZhciBhbm5vdGF0aW9ucyA9IGZuT3JBcnJheTtcbiAgICAgICAgdmFyIGZuID0gZm5PckFycmF5W2ZuT3JBcnJheS5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKCFsYW5nXzEuaXNGdW5jdGlvbihmbikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxhc3QgcG9zaXRpb24gb2YgQ2xhc3MgbWV0aG9kIGFycmF5IG11c3QgYmUgRnVuY3Rpb24gaW4ga2V5IFwiICsga2V5ICsgXCIgd2FzICdcIiArIGxhbmdfMS5zdHJpbmdpZnkoZm4pICsgXCInXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhbm5vTGVuZ3RoID0gYW5ub3RhdGlvbnMubGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKGFubm9MZW5ndGggIT0gZm4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOdW1iZXIgb2YgYW5ub3RhdGlvbnMgKFwiICsgYW5ub0xlbmd0aCArIFwiKSBkb2VzIG5vdCBtYXRjaCBudW1iZXIgb2YgYXJndW1lbnRzIChcIiArIGZuLmxlbmd0aCArIFwiKSBpbiB0aGUgZnVuY3Rpb246IFwiICsgbGFuZ18xLnN0cmluZ2lmeShmbikpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJhbXNBbm5vdGF0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhbm5vdGF0aW9ucy5sZW5ndGggLSAxOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhcmFtQW5ub3RhdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIHBhcmFtc0Fubm90YXRpb25zLnB1c2gocGFyYW1Bbm5vdGF0aW9ucyk7XG4gICAgICAgICAgICB2YXIgYW5ub3RhdGlvbiA9IGFubm90YXRpb25zW2ldO1xuICAgICAgICAgICAgaWYgKGFubm90YXRpb24gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYW5ub3RhdGlvbi5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbUFubm90YXRpb25zLnB1c2goZXh0cmFjdEFubm90YXRpb24oYW5ub3RhdGlvbltqXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhbmdfMS5pc0Z1bmN0aW9uKGFubm90YXRpb24pKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1Bbm5vdGF0aW9ucy5wdXNoKGV4dHJhY3RBbm5vdGF0aW9uKGFubm90YXRpb24pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmFtQW5ub3RhdGlvbnMucHVzaChhbm5vdGF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdwYXJhbWV0ZXJzJywgcGFyYW1zQW5ub3RhdGlvbnMsIGZuKTtcbiAgICAgICAgcmV0dXJuIGZuO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSBGdW5jdGlvbiBvciBBcnJheSBpcyBzdXBwb3J0ZWQgaW4gQ2xhc3MgZGVmaW5pdGlvbiBmb3Iga2V5ICdcIiArIGtleSArIFwiJyBpcyAnXCIgKyBsYW5nXzEuc3RyaW5naWZ5KGZuT3JBcnJheSkgKyBcIidcIik7XG4gICAgfVxufVxuLyoqXG4gKiBQcm92aWRlcyBhIHdheSBmb3IgZXhwcmVzc2luZyBFUzYgY2xhc3NlcyB3aXRoIHBhcmFtZXRlciBhbm5vdGF0aW9ucyBpbiBFUzUuXG4gKlxuICogIyMgQmFzaWMgRXhhbXBsZVxuICpcbiAqIGBgYFxuICogdmFyIEdyZWV0ZXIgPSBuZy5DbGFzcyh7XG4gKiAgIGNvbnN0cnVjdG9yOiBmdW5jdGlvbihuYW1lKSB7XG4gKiAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAqICAgfSxcbiAqXG4gKiAgIGdyZWV0OiBmdW5jdGlvbigpIHtcbiAqICAgICBhbGVydCgnSGVsbG8gJyArIHRoaXMubmFtZSArICchJyk7XG4gKiAgIH1cbiAqIH0pO1xuICogYGBgXG4gKlxuICogaXMgZXF1aXZhbGVudCB0byBFUzY6XG4gKlxuICogYGBgXG4gKiBjbGFzcyBHcmVldGVyIHtcbiAqICAgY29uc3RydWN0b3IobmFtZSkge1xuICogICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gKiAgIH1cbiAqXG4gKiAgIGdyZWV0KCkge1xuICogICAgIGFsZXJ0KCdIZWxsbyAnICsgdGhpcy5uYW1lICsgJyEnKTtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogb3IgZXF1aXZhbGVudCB0byBFUzU6XG4gKlxuICogYGBgXG4gKiB2YXIgR3JlZXRlciA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gKiAgIHRoaXMubmFtZSA9IG5hbWU7XG4gKiB9XG4gKlxuICogR3JlZXRlci5wcm90b3R5cGUuZ3JlZXQgPSBmdW5jdGlvbiAoKSB7XG4gKiAgIGFsZXJ0KCdIZWxsbyAnICsgdGhpcy5uYW1lICsgJyEnKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqICMjIyBFeGFtcGxlIHdpdGggcGFyYW1ldGVyIGFubm90YXRpb25zXG4gKlxuICogYGBgXG4gKiB2YXIgTXlTZXJ2aWNlID0gbmcuQ2xhc3Moe1xuICogICBjb25zdHJ1Y3RvcjogW1N0cmluZywgW25ldyBRdWVyeSgpLCBRdWVyeUxpc3RdLCBmdW5jdGlvbihuYW1lLCBxdWVyeUxpc3QpIHtcbiAqICAgICAuLi5cbiAqICAgfV1cbiAqIH0pO1xuICogYGBgXG4gKlxuICogaXMgZXF1aXZhbGVudCB0byBFUzY6XG4gKlxuICogYGBgXG4gKiBjbGFzcyBNeVNlcnZpY2Uge1xuICogICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIEBRdWVyeSgpIHF1ZXJ5TGlzdDogUXVlcnlMaXN0KSB7XG4gKiAgICAgLi4uXG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqICMjIyBFeGFtcGxlIHdpdGggaW5oZXJpdGFuY2VcbiAqXG4gKiBgYGBcbiAqIHZhciBTaGFwZSA9IG5nLkNsYXNzKHtcbiAqICAgY29uc3RydWN0b3I6IChjb2xvcikge1xuICogICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAqICAgfVxuICogfSk7XG4gKlxuICogdmFyIFNxdWFyZSA9IG5nLkNsYXNzKHtcbiAqICAgZXh0ZW5kczogU2hhcGUsXG4gKiAgIGNvbnN0cnVjdG9yOiBmdW5jdGlvbihjb2xvciwgc2l6ZSkge1xuICogICAgIFNoYXBlLmNhbGwodGhpcywgY29sb3IpO1xuICogICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gKiAgIH1cbiAqIH0pO1xuICogYGBgXG4gKi9cbmZ1bmN0aW9uIENsYXNzKGNsc0RlZikge1xuICAgIHZhciBjb25zdHJ1Y3RvciA9IGFwcGx5UGFyYW1zKGNsc0RlZi5oYXNPd25Qcm9wZXJ0eSgnY29uc3RydWN0b3InKSA/IGNsc0RlZi5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCwgJ2NvbnN0cnVjdG9yJyk7XG4gICAgdmFyIHByb3RvID0gY29uc3RydWN0b3IucHJvdG90eXBlO1xuICAgIGlmIChjbHNEZWYuaGFzT3duUHJvcGVydHkoJ2V4dGVuZHMnKSkge1xuICAgICAgICBpZiAobGFuZ18xLmlzRnVuY3Rpb24oY2xzRGVmLmV4dGVuZHMpKSB7XG4gICAgICAgICAgICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBwcm90byA9XG4gICAgICAgICAgICAgICAgT2JqZWN0LmNyZWF0ZShjbHNEZWYuZXh0ZW5kcy5wcm90b3R5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2xhc3MgZGVmaW5pdGlvbiAnZXh0ZW5kcycgcHJvcGVydHkgbXVzdCBiZSBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHdhczogXCIgKyBsYW5nXzEuc3RyaW5naWZ5KGNsc0RlZi5leHRlbmRzKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIga2V5IGluIGNsc0RlZikge1xuICAgICAgICBpZiAoa2V5ICE9ICdleHRlbmRzJyAmJiBrZXkgIT0gJ3Byb3RvdHlwZScgJiYgY2xzRGVmLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIHByb3RvW2tleV0gPSBhcHBseVBhcmFtcyhjbHNEZWZba2V5XSwga2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcyAmJiB0aGlzLmFubm90YXRpb25zIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YSgnYW5ub3RhdGlvbnMnLCB0aGlzLmFubm90YXRpb25zLCBjb25zdHJ1Y3Rvcik7XG4gICAgfVxuICAgIGlmICghY29uc3RydWN0b3JbJ25hbWUnXSkge1xuICAgICAgICBjb25zdHJ1Y3Rvclsnb3ZlcnJpZGRlbk5hbWUnXSA9IFwiY2xhc3NcIiArIF9uZXh0Q2xhc3NJZCsrO1xuICAgIH1cbiAgICByZXR1cm4gY29uc3RydWN0b3I7XG59XG5leHBvcnRzLkNsYXNzID0gQ2xhc3M7XG52YXIgUmVmbGVjdCA9IGxhbmdfMS5nbG9iYWwuUmVmbGVjdDtcbi8vIFRocm93IHN0YXRlbWVudCBhdCB0b3AtbGV2ZWwgaXMgZGlzYWxsb3dlZCBieSBjbG9zdXJlIGNvbXBpbGVyIGluIEVTNiBpbnB1dC5cbi8vIFdyYXAgaW4gYW4gSUlGRSBhcyBhIHdvcmstYXJvdW5kLlxuKGZ1bmN0aW9uIGNoZWNrUmVmbGVjdCgpIHtcbiAgICBpZiAoIShSZWZsZWN0ICYmIFJlZmxlY3QuZ2V0TWV0YWRhdGEpKSB7XG4gICAgICAgIHRocm93ICdyZWZsZWN0LW1ldGFkYXRhIHNoaW0gaXMgcmVxdWlyZWQgd2hlbiB1c2luZyBjbGFzcyBkZWNvcmF0b3JzJztcbiAgICB9XG59KSgpO1xuZnVuY3Rpb24gbWFrZURlY29yYXRvcihhbm5vdGF0aW9uQ2xzLCBjaGFpbkZuKSB7XG4gICAgaWYgKGNoYWluRm4gPT09IHZvaWQgMCkgeyBjaGFpbkZuID0gbnVsbDsgfVxuICAgIGZ1bmN0aW9uIERlY29yYXRvckZhY3Rvcnkob2JqT3JUeXBlKSB7XG4gICAgICAgIHZhciBhbm5vdGF0aW9uSW5zdGFuY2UgPSBuZXcgYW5ub3RhdGlvbkNscyhvYmpPclR5cGUpO1xuICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIGFubm90YXRpb25DbHMpIHtcbiAgICAgICAgICAgIHJldHVybiBhbm5vdGF0aW9uSW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY2hhaW5Bbm5vdGF0aW9uID0gbGFuZ18xLmlzRnVuY3Rpb24odGhpcykgJiYgdGhpcy5hbm5vdGF0aW9ucyBpbnN0YW5jZW9mIEFycmF5ID8gdGhpcy5hbm5vdGF0aW9ucyA6IFtdO1xuICAgICAgICAgICAgY2hhaW5Bbm5vdGF0aW9uLnB1c2goYW5ub3RhdGlvbkluc3RhbmNlKTtcbiAgICAgICAgICAgIHZhciBUeXBlRGVjb3JhdG9yID0gZnVuY3Rpb24gVHlwZURlY29yYXRvcihjbHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYW5ub3RhdGlvbnMgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhKCdhbm5vdGF0aW9ucycsIGNscyk7XG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucyB8fCBbXTtcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9ucy5wdXNoKGFubm90YXRpb25JbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YSgnYW5ub3RhdGlvbnMnLCBhbm5vdGF0aW9ucywgY2xzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFR5cGVEZWNvcmF0b3IuYW5ub3RhdGlvbnMgPSBjaGFpbkFubm90YXRpb247XG4gICAgICAgICAgICBUeXBlRGVjb3JhdG9yLkNsYXNzID0gQ2xhc3M7XG4gICAgICAgICAgICBpZiAoY2hhaW5GbilcbiAgICAgICAgICAgICAgICBjaGFpbkZuKFR5cGVEZWNvcmF0b3IpO1xuICAgICAgICAgICAgcmV0dXJuIFR5cGVEZWNvcmF0b3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgRGVjb3JhdG9yRmFjdG9yeS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGFubm90YXRpb25DbHMucHJvdG90eXBlKTtcbiAgICBEZWNvcmF0b3JGYWN0b3J5LmFubm90YXRpb25DbHMgPSBhbm5vdGF0aW9uQ2xzO1xuICAgIHJldHVybiBEZWNvcmF0b3JGYWN0b3J5O1xufVxuZXhwb3J0cy5tYWtlRGVjb3JhdG9yID0gbWFrZURlY29yYXRvcjtcbmZ1bmN0aW9uIG1ha2VQYXJhbURlY29yYXRvcihhbm5vdGF0aW9uQ2xzKSB7XG4gICAgZnVuY3Rpb24gUGFyYW1EZWNvcmF0b3JGYWN0b3J5KCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDBdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYW5ub3RhdGlvbkluc3RhbmNlID0gT2JqZWN0LmNyZWF0ZShhbm5vdGF0aW9uQ2xzLnByb3RvdHlwZSk7XG4gICAgICAgIGFubm90YXRpb25DbHMuYXBwbHkoYW5ub3RhdGlvbkluc3RhbmNlLCBhcmdzKTtcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBhbm5vdGF0aW9uQ2xzKSB7XG4gICAgICAgICAgICByZXR1cm4gYW5ub3RhdGlvbkluc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgUGFyYW1EZWNvcmF0b3IuYW5ub3RhdGlvbiA9IGFubm90YXRpb25JbnN0YW5jZTtcbiAgICAgICAgICAgIHJldHVybiBQYXJhbURlY29yYXRvcjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBQYXJhbURlY29yYXRvcihjbHMsIHVudXNlZEtleSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBwYXJhbWV0ZXJzID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgncGFyYW1ldGVycycsIGNscyk7XG4gICAgICAgICAgICBwYXJhbWV0ZXJzID0gcGFyYW1ldGVycyB8fCBbXTtcbiAgICAgICAgICAgIC8vIHRoZXJlIG1pZ2h0IGJlIGdhcHMgaWYgc29tZSBpbiBiZXR3ZWVuIHBhcmFtZXRlcnMgZG8gbm90IGhhdmUgYW5ub3RhdGlvbnMuXG4gICAgICAgICAgICAvLyB3ZSBwYWQgd2l0aCBudWxscy5cbiAgICAgICAgICAgIHdoaWxlIChwYXJhbWV0ZXJzLmxlbmd0aCA8PSBpbmRleCkge1xuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMucHVzaChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmFtZXRlcnNbaW5kZXhdID0gcGFyYW1ldGVyc1tpbmRleF0gfHwgW107XG4gICAgICAgICAgICB2YXIgYW5ub3RhdGlvbnNGb3JQYXJhbSA9IHBhcmFtZXRlcnNbaW5kZXhdO1xuICAgICAgICAgICAgYW5ub3RhdGlvbnNGb3JQYXJhbS5wdXNoKGFubm90YXRpb25JbnN0YW5jZSk7XG4gICAgICAgICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdwYXJhbWV0ZXJzJywgcGFyYW1ldGVycywgY2xzKTtcbiAgICAgICAgICAgIHJldHVybiBjbHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUGFyYW1EZWNvcmF0b3JGYWN0b3J5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoYW5ub3RhdGlvbkNscy5wcm90b3R5cGUpO1xuICAgIFBhcmFtRGVjb3JhdG9yRmFjdG9yeS5hbm5vdGF0aW9uQ2xzID0gYW5ub3RhdGlvbkNscztcbiAgICByZXR1cm4gUGFyYW1EZWNvcmF0b3JGYWN0b3J5O1xufVxuZXhwb3J0cy5tYWtlUGFyYW1EZWNvcmF0b3IgPSBtYWtlUGFyYW1EZWNvcmF0b3I7XG5mdW5jdGlvbiBtYWtlUHJvcERlY29yYXRvcihhbm5vdGF0aW9uQ2xzKSB7XG4gICAgZnVuY3Rpb24gUHJvcERlY29yYXRvckZhY3RvcnkoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMF0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZWNvcmF0b3JJbnN0YW5jZSA9IE9iamVjdC5jcmVhdGUoYW5ub3RhdGlvbkNscy5wcm90b3R5cGUpO1xuICAgICAgICBhbm5vdGF0aW9uQ2xzLmFwcGx5KGRlY29yYXRvckluc3RhbmNlLCBhcmdzKTtcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBhbm5vdGF0aW9uQ2xzKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVjb3JhdG9ySW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gUHJvcERlY29yYXRvcih0YXJnZXQsIG5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWV0YSA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoJ3Byb3BNZXRhZGF0YScsIHRhcmdldC5jb25zdHJ1Y3Rvcik7XG4gICAgICAgICAgICAgICAgbWV0YSA9IG1ldGEgfHwge307XG4gICAgICAgICAgICAgICAgbWV0YVtuYW1lXSA9IG1ldGFbbmFtZV0gfHwgW107XG4gICAgICAgICAgICAgICAgbWV0YVtuYW1lXS51bnNoaWZ0KGRlY29yYXRvckluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKCdwcm9wTWV0YWRhdGEnLCBtZXRhLCB0YXJnZXQuY29uc3RydWN0b3IpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBQcm9wRGVjb3JhdG9yRmFjdG9yeS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGFubm90YXRpb25DbHMucHJvdG90eXBlKTtcbiAgICBQcm9wRGVjb3JhdG9yRmFjdG9yeS5hbm5vdGF0aW9uQ2xzID0gYW5ub3RhdGlvbkNscztcbiAgICByZXR1cm4gUHJvcERlY29yYXRvckZhY3Rvcnk7XG59XG5leHBvcnRzLm1ha2VQcm9wRGVjb3JhdG9yID0gbWFrZVByb3BEZWNvcmF0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWNvcmF0b3JzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8gUHVibGljIEFQSSBmb3IgWm9uZVxudmFyIG5nX3pvbmVfMSA9IHJlcXVpcmUoJy4vem9uZS9uZ196b25lJyk7XG5leHBvcnRzLk5nWm9uZSA9IG5nX3pvbmVfMS5OZ1pvbmU7XG5leHBvcnRzLk5nWm9uZUVycm9yID0gbmdfem9uZV8xLk5nWm9uZUVycm9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9em9uZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBhc3luY18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9hc3luYycpO1xudmFyIG5nX3pvbmVfaW1wbF8xID0gcmVxdWlyZSgnLi9uZ196b25lX2ltcGwnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBuZ196b25lX2ltcGxfMiA9IHJlcXVpcmUoJy4vbmdfem9uZV9pbXBsJyk7XG5leHBvcnRzLk5nWm9uZUVycm9yID0gbmdfem9uZV9pbXBsXzIuTmdab25lRXJyb3I7XG4vKipcbiAqIEFuIGluamVjdGFibGUgc2VydmljZSBmb3IgZXhlY3V0aW5nIHdvcmsgaW5zaWRlIG9yIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZS5cbiAqXG4gKiBUaGUgbW9zdCBjb21tb24gdXNlIG9mIHRoaXMgc2VydmljZSBpcyB0byBvcHRpbWl6ZSBwZXJmb3JtYW5jZSB3aGVuIHN0YXJ0aW5nIGEgd29yayBjb25zaXN0aW5nIG9mXG4gKiBvbmUgb3IgbW9yZSBhc3luY2hyb25vdXMgdGFza3MgdGhhdCBkb24ndCByZXF1aXJlIFVJIHVwZGF0ZXMgb3IgZXJyb3IgaGFuZGxpbmcgdG8gYmUgaGFuZGxlZCBieVxuICogQW5ndWxhci4gU3VjaCB0YXNrcyBjYW4gYmUga2lja2VkIG9mZiB2aWEge0BsaW5rICNydW5PdXRzaWRlQW5ndWxhcn0gYW5kIGlmIG5lZWRlZCwgdGhlc2UgdGFza3NcbiAqIGNhbiByZWVudGVyIHRoZSBBbmd1bGFyIHpvbmUgdmlhIHtAbGluayAjcnVufS5cbiAqXG4gKiA8IS0tIFRPRE86IGFkZC9maXggbGlua3MgdG86XG4gKiAgIC0gZG9jcyBleHBsYWluaW5nIHpvbmVzIGFuZCB0aGUgdXNlIG9mIHpvbmVzIGluIEFuZ3VsYXIgYW5kIGNoYW5nZS1kZXRlY3Rpb25cbiAqICAgLSBsaW5rIHRvIHJ1bk91dHNpZGVBbmd1bGFyL3J1biAodGhyb3VnaG91dCB0aGlzIGZpbGUhKVxuICogICAtLT5cbiAqXG4gKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvbFk5bThITHk3ejA2dkRvVWFTTjI/cD1wcmV2aWV3KSlcbiAqIGBgYFxuICogaW1wb3J0IHtDb21wb25lbnQsIFZpZXcsIE5nWm9uZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4gKiBpbXBvcnQge05nSWZ9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG4gKlxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnbmctem9uZS1kZW1vJy5cbiAqICAgdGVtcGxhdGU6IGBcbiAqICAgICA8aDI+RGVtbzogTmdab25lPC9oMj5cbiAqXG4gKiAgICAgPHA+UHJvZ3Jlc3M6IHt7cHJvZ3Jlc3N9fSU8L3A+XG4gKiAgICAgPHAgKm5nSWY9XCJwcm9ncmVzcyA+PSAxMDBcIj5Eb25lIHByb2Nlc3Npbmcge3tsYWJlbH19IG9mIEFuZ3VsYXIgem9uZSE8L3A+XG4gKlxuICogICAgIDxidXR0b24gKGNsaWNrKT1cInByb2Nlc3NXaXRoaW5Bbmd1bGFyWm9uZSgpXCI+UHJvY2VzcyB3aXRoaW4gQW5ndWxhciB6b25lPC9idXR0b24+XG4gKiAgICAgPGJ1dHRvbiAoY2xpY2spPVwicHJvY2Vzc091dHNpZGVPZkFuZ3VsYXJab25lKClcIj5Qcm9jZXNzIG91dHNpZGUgb2YgQW5ndWxhciB6b25lPC9idXR0b24+XG4gKiAgIGAsXG4gKiAgIGRpcmVjdGl2ZXM6IFtOZ0lmXVxuICogfSlcbiAqIGV4cG9ydCBjbGFzcyBOZ1pvbmVEZW1vIHtcbiAqICAgcHJvZ3Jlc3M6IG51bWJlciA9IDA7XG4gKiAgIGxhYmVsOiBzdHJpbmc7XG4gKlxuICogICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9uZ1pvbmU6IE5nWm9uZSkge31cbiAqXG4gKiAgIC8vIExvb3AgaW5zaWRlIHRoZSBBbmd1bGFyIHpvbmVcbiAqICAgLy8gc28gdGhlIFVJIERPRVMgcmVmcmVzaCBhZnRlciBlYWNoIHNldFRpbWVvdXQgY3ljbGVcbiAqICAgcHJvY2Vzc1dpdGhpbkFuZ3VsYXJab25lKCkge1xuICogICAgIHRoaXMubGFiZWwgPSAnaW5zaWRlJztcbiAqICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAqICAgICB0aGlzLl9pbmNyZWFzZVByb2dyZXNzKCgpID0+IGNvbnNvbGUubG9nKCdJbnNpZGUgRG9uZSEnKSk7XG4gKiAgIH1cbiAqXG4gKiAgIC8vIExvb3Agb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lXG4gKiAgIC8vIHNvIHRoZSBVSSBET0VTIE5PVCByZWZyZXNoIGFmdGVyIGVhY2ggc2V0VGltZW91dCBjeWNsZVxuICogICBwcm9jZXNzT3V0c2lkZU9mQW5ndWxhclpvbmUoKSB7XG4gKiAgICAgdGhpcy5sYWJlbCA9ICdvdXRzaWRlJztcbiAqICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAqICAgICB0aGlzLl9uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICogICAgICAgdGhpcy5faW5jcmVhc2VQcm9ncmVzcygoKSA9PiB7XG4gKiAgICAgICAvLyByZWVudGVyIHRoZSBBbmd1bGFyIHpvbmUgYW5kIGRpc3BsYXkgZG9uZVxuICogICAgICAgdGhpcy5fbmdab25lLnJ1bigoKSA9PiB7Y29uc29sZS5sb2coJ091dHNpZGUgRG9uZSEnKSB9KTtcbiAqICAgICB9fSkpO1xuICogICB9XG4gKlxuICpcbiAqICAgX2luY3JlYXNlUHJvZ3Jlc3MoZG9uZUNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gKiAgICAgdGhpcy5wcm9ncmVzcyArPSAxO1xuICogICAgIGNvbnNvbGUubG9nKGBDdXJyZW50IHByb2dyZXNzOiAke3RoaXMucHJvZ3Jlc3N9JWApO1xuICpcbiAqICAgICBpZiAodGhpcy5wcm9ncmVzcyA8IDEwMCkge1xuICogICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gdGhpcy5faW5jcmVhc2VQcm9ncmVzcyhkb25lQ2FsbGJhY2spKSwgMTApXG4gKiAgICAgfSBlbHNlIHtcbiAqICAgICAgIGRvbmVDYWxsYmFjaygpO1xuICogICAgIH1cbiAqICAgfVxuICogfVxuICogYGBgXG4gKi9cbnZhciBOZ1pvbmUgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Ym9vbH0gZW5hYmxlTG9uZ1N0YWNrVHJhY2Ugd2hldGhlciB0byBlbmFibGUgbG9uZyBzdGFjayB0cmFjZS4gVGhleSBzaG91bGQgb25seSBiZVxuICAgICAqICAgICAgICAgICAgICAgZW5hYmxlZCBpbiBkZXZlbG9wbWVudCBtb2RlIGFzIHRoZXkgc2lnbmlmaWNhbnRseSBpbXBhY3QgcGVyZi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOZ1pvbmUoX2EpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9iID0gX2EuZW5hYmxlTG9uZ1N0YWNrVHJhY2UsIGVuYWJsZUxvbmdTdGFja1RyYWNlID0gX2IgPT09IHZvaWQgMCA/IGZhbHNlIDogX2I7XG4gICAgICAgIHRoaXMuX2hhc1BlbmRpbmdNaWNyb3Rhc2tzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2hhc1BlbmRpbmdNYWNyb3Rhc2tzID0gZmFsc2U7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5faXNTdGFibGUgPSB0cnVlO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25lc3RpbmcgPSAwO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX29uVW5zdGFibGUgPSBuZXcgYXN5bmNfMS5FdmVudEVtaXR0ZXIoZmFsc2UpO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX29uTWljcm90YXNrRW1wdHkgPSBuZXcgYXN5bmNfMS5FdmVudEVtaXR0ZXIoZmFsc2UpO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX29uU3RhYmxlID0gbmV3IGFzeW5jXzEuRXZlbnRFbWl0dGVyKGZhbHNlKTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9vbkVycm9yRXZlbnRzID0gbmV3IGFzeW5jXzEuRXZlbnRFbWl0dGVyKGZhbHNlKTtcbiAgICAgICAgdGhpcy5fem9uZUltcGwgPSBuZXcgbmdfem9uZV9pbXBsXzEuTmdab25lSW1wbCh7XG4gICAgICAgICAgICB0cmFjZTogZW5hYmxlTG9uZ1N0YWNrVHJhY2UsXG4gICAgICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ1pPTkUuZW50ZXInLCB0aGlzLl9uZXN0aW5nLCB0aGlzLl9pc1N0YWJsZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX25lc3RpbmcrKztcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2lzU3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9pc1N0YWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fb25VbnN0YWJsZS5lbWl0KG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX25lc3RpbmctLTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnWk9ORS5sZWF2ZScsIHRoaXMuX25lc3RpbmcsIHRoaXMuX2lzU3RhYmxlKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fY2hlY2tTdGFibGUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRNaWNyb3Rhc2s6IGZ1bmN0aW9uIChoYXNNaWNyb3Rhc2tzKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2hhc1BlbmRpbmdNaWNyb3Rhc2tzID0gaGFzTWljcm90YXNrcztcbiAgICAgICAgICAgICAgICBfdGhpcy5fY2hlY2tTdGFibGUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRNYWNyb3Rhc2s6IGZ1bmN0aW9uIChoYXNNYWNyb3Rhc2tzKSB7IF90aGlzLl9oYXNQZW5kaW5nTWFjcm90YXNrcyA9IGhhc01hY3JvdGFza3M7IH0sXG4gICAgICAgICAgICBvbkVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsgcmV0dXJuIF90aGlzLl9vbkVycm9yRXZlbnRzLmVtaXQoZXJyb3IpOyB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBOZ1pvbmUuaXNJbkFuZ3VsYXJab25lID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmdfem9uZV9pbXBsXzEuTmdab25lSW1wbC5pc0luQW5ndWxhclpvbmUoKTsgfTtcbiAgICBOZ1pvbmUuYXNzZXJ0SW5Bbmd1bGFyWm9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFuZ196b25lX2ltcGxfMS5OZ1pvbmVJbXBsLmlzSW5Bbmd1bGFyWm9uZSgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oJ0V4cGVjdGVkIHRvIGJlIGluIEFuZ3VsYXIgWm9uZSwgYnV0IGl0IGlzIG5vdCEnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTmdab25lLmFzc2VydE5vdEluQW5ndWxhclpvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChuZ196b25lX2ltcGxfMS5OZ1pvbmVJbXBsLmlzSW5Bbmd1bGFyWm9uZSgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oJ0V4cGVjdGVkIHRvIG5vdCBiZSBpbiBBbmd1bGFyIFpvbmUsIGJ1dCBpdCBpcyEnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTmdab25lLnByb3RvdHlwZS5fY2hlY2tTdGFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9uZXN0aW5nID09IDApIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5faGFzUGVuZGluZ01pY3JvdGFza3MgJiYgIXRoaXMuX2lzU3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ1pPTkUubWljcm90YXNrRW1wdHknKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbmVzdGluZysrO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbk1pY3JvdGFza0VtcHR5LmVtaXQobnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9uZXN0aW5nLS07XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5faGFzUGVuZGluZ01pY3JvdGFza3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ1pPTkUuc3RhYmxlJywgdGhpcy5fbmVzdGluZywgdGhpcy5faXNTdGFibGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucnVuT3V0c2lkZUFuZ3VsYXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX29uU3RhYmxlLmVtaXQobnVsbCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNTdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICA7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nWm9uZS5wcm90b3R5cGUsIFwib25VbnN0YWJsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB3aGVuIGNvZGUgZW50ZXJzIEFuZ3VsYXIgWm9uZS4gVGhpcyBnZXRzIGZpcmVkIGZpcnN0IG9uIFZNIFR1cm4uXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX29uVW5zdGFibGU7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOZ1pvbmUucHJvdG90eXBlLCBcIm9uTWljcm90YXNrRW1wdHlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgd2hlbiB0aGVyZSBpcyBubyBtb3JlIG1pY3JvdGFza3MgZW5xdWV1ZSBpbiB0aGUgY3VycmVudCBWTSBUdXJuLlxuICAgICAgICAgKiBUaGlzIGlzIGEgaGludCBmb3IgQW5ndWxhciB0byBkbyBjaGFuZ2UgZGV0ZWN0aW9uLCB3aGljaCBtYXkgZW5xdWV1ZSBtb3JlIG1pY3JvdGFza3MuXG4gICAgICAgICAqIEZvciB0aGlzIHJlYXNvbiB0aGlzIGV2ZW50IGNhbiBmaXJlIG11bHRpcGxlIHRpbWVzIHBlciBWTSBUdXJuLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9vbk1pY3JvdGFza0VtcHR5OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdab25lLnByb3RvdHlwZSwgXCJvblN0YWJsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB3aGVuIHRoZSBsYXN0IGBvbk1pY3JvdGFza0VtcHR5YCBoYXMgcnVuIGFuZCB0aGVyZSBhcmUgbm8gbW9yZSBtaWNyb3Rhc2tzLCB3aGljaFxuICAgICAgICAgKiBpbXBsaWVzIHdlIGFyZSBhYm91dCB0byByZWxpbnF1aXNoIFZNIHR1cm4uXG4gICAgICAgICAqIFRoaXMgZXZlbnQgZ2V0cyBjYWxsZWQganVzdCBvbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9vblN0YWJsZTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nWm9uZS5wcm90b3R5cGUsIFwib25FcnJvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZnkgdGhhdCBhbiBlcnJvciBoYXMgYmVlbiBkZWxpdmVyZWQuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX29uRXJyb3JFdmVudHM7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOZ1pvbmUucHJvdG90eXBlLCBcImhhc1BlbmRpbmdNaWNyb3Rhc2tzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlcmUgYXJlIGFueSBvdXRzdGFuZGluZyBtaWNyb3Rhc2tzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9oYXNQZW5kaW5nTWljcm90YXNrczsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nWm9uZS5wcm90b3R5cGUsIFwiaGFzUGVuZGluZ01hY3JvdGFza3NcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGVyZSBhcmUgYW55IG91dHN0YW5kaW5nIG1pY3JvdGFza3MuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2hhc1BlbmRpbmdNYWNyb3Rhc2tzOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbiBzeW5jaHJvbm91c2x5IHdpdGhpbiB0aGUgQW5ndWxhciB6b25lIGFuZCByZXR1cm5zIHZhbHVlIHJldHVybmVkIGJ5XG4gICAgICogdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogUnVubmluZyBmdW5jdGlvbnMgdmlhIGBydW5gIGFsbG93cyB5b3UgdG8gcmVlbnRlciBBbmd1bGFyIHpvbmUgZnJvbSBhIHRhc2sgdGhhdCB3YXMgZXhlY3V0ZWRcbiAgICAgKiBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUgKHR5cGljYWxseSBzdGFydGVkIHZpYSB7QGxpbmsgI3J1bk91dHNpZGVBbmd1bGFyfSkuXG4gICAgICpcbiAgICAgKiBBbnkgZnV0dXJlIHRhc2tzIG9yIG1pY3JvdGFza3Mgc2NoZWR1bGVkIGZyb20gd2l0aGluIHRoaXMgZnVuY3Rpb24gd2lsbCBjb250aW51ZSBleGVjdXRpbmcgZnJvbVxuICAgICAqIHdpdGhpbiB0aGUgQW5ndWxhciB6b25lLlxuICAgICAqXG4gICAgICogSWYgYSBzeW5jaHJvbm91cyBlcnJvciBoYXBwZW5zIGl0IHdpbGwgYmUgcmV0aHJvd24gYW5kIG5vdCByZXBvcnRlZCB2aWEgYG9uRXJyb3JgLlxuICAgICAqL1xuICAgIE5nWm9uZS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKGZuKSB7IHJldHVybiB0aGlzLl96b25lSW1wbC5ydW5Jbm5lcihmbik7IH07XG4gICAgLyoqXG4gICAgICogU2FtZSBhcyAjcnVuLCBleGNlcHQgdGhhdCBzeW5jaHJvbm91cyBlcnJvcnMgYXJlIGNhdWdodCBhbmQgZm9yd2FyZGVkXG4gICAgICogdmlhIGBvbkVycm9yYCBhbmQgbm90IHJldGhyb3duLlxuICAgICAqL1xuICAgIE5nWm9uZS5wcm90b3R5cGUucnVuR3VhcmRlZCA9IGZ1bmN0aW9uIChmbikgeyByZXR1cm4gdGhpcy5fem9uZUltcGwucnVuSW5uZXJHdWFyZGVkKGZuKTsgfTtcbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbiBzeW5jaHJvbm91c2x5IGluIEFuZ3VsYXIncyBwYXJlbnQgem9uZSBhbmQgcmV0dXJucyB2YWx1ZSByZXR1cm5lZCBieVxuICAgICAqIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIFJ1bm5pbmcgZnVuY3Rpb25zIHZpYSBgcnVuT3V0c2lkZUFuZ3VsYXJgIGFsbG93cyB5b3UgdG8gZXNjYXBlIEFuZ3VsYXIncyB6b25lIGFuZCBkbyB3b3JrIHRoYXRcbiAgICAgKiBkb2Vzbid0IHRyaWdnZXIgQW5ndWxhciBjaGFuZ2UtZGV0ZWN0aW9uIG9yIGlzIHN1YmplY3QgdG8gQW5ndWxhcidzIGVycm9yIGhhbmRsaW5nLlxuICAgICAqXG4gICAgICogQW55IGZ1dHVyZSB0YXNrcyBvciBtaWNyb3Rhc2tzIHNjaGVkdWxlZCBmcm9tIHdpdGhpbiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udGludWUgZXhlY3V0aW5nIGZyb21cbiAgICAgKiBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUuXG4gICAgICpcbiAgICAgKiBVc2Uge0BsaW5rICNydW59IHRvIHJlZW50ZXIgdGhlIEFuZ3VsYXIgem9uZSBhbmQgZG8gd29yayB0aGF0IHVwZGF0ZXMgdGhlIGFwcGxpY2F0aW9uIG1vZGVsLlxuICAgICAqL1xuICAgIE5nWm9uZS5wcm90b3R5cGUucnVuT3V0c2lkZUFuZ3VsYXIgPSBmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIHRoaXMuX3pvbmVJbXBsLnJ1bk91dGVyKGZuKTsgfTtcbiAgICByZXR1cm4gTmdab25lO1xufSgpKTtcbmV4cG9ydHMuTmdab25lID0gTmdab25lO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmdfem9uZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuKiBTdG9yZXMgZXJyb3IgaW5mb3JtYXRpb247IGRlbGl2ZXJlZCB2aWEgW05nWm9uZS5vbkVycm9yXSBzdHJlYW0uXG4qL1xudmFyIE5nWm9uZUVycm9yID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZ1pvbmVFcnJvcihlcnJvciwgc3RhY2tUcmFjZSkge1xuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgICAgIHRoaXMuc3RhY2tUcmFjZSA9IHN0YWNrVHJhY2U7XG4gICAgfVxuICAgIHJldHVybiBOZ1pvbmVFcnJvcjtcbn0oKSk7XG5leHBvcnRzLk5nWm9uZUVycm9yID0gTmdab25lRXJyb3I7XG52YXIgTmdab25lSW1wbCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTmdab25lSW1wbChfYSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdHJhY2UgPSBfYS50cmFjZSwgb25FbnRlciA9IF9hLm9uRW50ZXIsIG9uTGVhdmUgPSBfYS5vbkxlYXZlLCBzZXRNaWNyb3Rhc2sgPSBfYS5zZXRNaWNyb3Rhc2ssIHNldE1hY3JvdGFzayA9IF9hLnNldE1hY3JvdGFzaywgb25FcnJvciA9IF9hLm9uRXJyb3I7XG4gICAgICAgIHRoaXMub25FbnRlciA9IG9uRW50ZXI7XG4gICAgICAgIHRoaXMub25MZWF2ZSA9IG9uTGVhdmU7XG4gICAgICAgIHRoaXMuc2V0TWljcm90YXNrID0gc2V0TWljcm90YXNrO1xuICAgICAgICB0aGlzLnNldE1hY3JvdGFzayA9IHNldE1hY3JvdGFzaztcbiAgICAgICAgdGhpcy5vbkVycm9yID0gb25FcnJvcjtcbiAgICAgICAgaWYgKFpvbmUpIHtcbiAgICAgICAgICAgIHRoaXMub3V0ZXIgPSB0aGlzLmlubmVyID0gWm9uZS5jdXJyZW50O1xuICAgICAgICAgICAgaWYgKFpvbmVbJ3d0ZlpvbmVTcGVjJ10pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlubmVyID0gdGhpcy5pbm5lci5mb3JrKFpvbmVbJ3d0ZlpvbmVTcGVjJ10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRyYWNlICYmIFpvbmVbJ2xvbmdTdGFja1RyYWNlWm9uZVNwZWMnXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5uZXIgPSB0aGlzLmlubmVyLmZvcmsoWm9uZVsnbG9uZ1N0YWNrVHJhY2Vab25lU3BlYyddKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaW5uZXIgPSB0aGlzLmlubmVyLmZvcmsoe1xuICAgICAgICAgICAgICAgIG5hbWU6ICdhbmd1bGFyJyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7ICdpc0FuZ3VsYXJab25lJzogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgIG9uSW52b2tlVGFzazogZnVuY3Rpb24gKGRlbGVnYXRlLCBjdXJyZW50LCB0YXJnZXQsIHRhc2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbkVudGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVsZWdhdGUuaW52b2tlVGFzayh0YXJnZXQsIHRhc2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm9uTGVhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25JbnZva2U6IGZ1bmN0aW9uIChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCBjYWxsYmFjaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMub25FbnRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLmludm9rZSh0YXJnZXQsIGNhbGxiYWNrLCBhcHBseVRoaXMsIGFwcGx5QXJncywgc291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm9uTGVhdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25IYXNUYXNrOiBmdW5jdGlvbiAoZGVsZWdhdGUsIGN1cnJlbnQsIHRhcmdldCwgaGFzVGFza1N0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGVnYXRlLmhhc1Rhc2sodGFyZ2V0LCBoYXNUYXNrU3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudCA9PSB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBvbmx5IGludGVyZXN0ZWQgaW4gaGFzVGFzayBldmVudHMgd2hpY2ggb3JpZ2luYXRlIGZyb20gb3VyIHpvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIChBIGNoaWxkIGhhc1Rhc2sgZXZlbnQgaXMgbm90IGludGVyZXN0aW5nIHRvIHVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1Rhc2tTdGF0ZS5jaGFuZ2UgPT0gJ21pY3JvVGFzaycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRNaWNyb3Rhc2soaGFzVGFza1N0YXRlLm1pY3JvVGFzayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChoYXNUYXNrU3RhdGUuY2hhbmdlID09ICdtYWNyb1Rhc2snKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0TWFjcm90YXNrKGhhc1Rhc2tTdGF0ZS5tYWNyb1Rhc2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkhhbmRsZUVycm9yOiBmdW5jdGlvbiAoZGVsZWdhdGUsIGN1cnJlbnQsIHRhcmdldCwgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZWdhdGUuaGFuZGxlRXJyb3IodGFyZ2V0LCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uRXJyb3IobmV3IE5nWm9uZUVycm9yKGVycm9yLCBlcnJvci5zdGFjaykpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuZ3VsYXIgcmVxdWlyZXMgWm9uZS5qcyBwb2x5ZmlsbC4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBOZ1pvbmVJbXBsLmlzSW5Bbmd1bGFyWm9uZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFpvbmUuY3VycmVudC5nZXQoJ2lzQW5ndWxhclpvbmUnKSA9PT0gdHJ1ZTsgfTtcbiAgICBOZ1pvbmVJbXBsLnByb3RvdHlwZS5ydW5Jbm5lciA9IGZ1bmN0aW9uIChmbikgeyByZXR1cm4gdGhpcy5pbm5lci5ydW4oZm4pOyB9O1xuICAgIDtcbiAgICBOZ1pvbmVJbXBsLnByb3RvdHlwZS5ydW5Jbm5lckd1YXJkZWQgPSBmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIHRoaXMuaW5uZXIucnVuR3VhcmRlZChmbik7IH07XG4gICAgO1xuICAgIE5nWm9uZUltcGwucHJvdG90eXBlLnJ1bk91dGVyID0gZnVuY3Rpb24gKGZuKSB7IHJldHVybiB0aGlzLm91dGVyLnJ1bihmbik7IH07XG4gICAgO1xuICAgIHJldHVybiBOZ1pvbmVJbXBsO1xufSgpKTtcbmV4cG9ydHMuTmdab25lSW1wbCA9IE5nWm9uZUltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uZ196b25lX2ltcGwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiogQG1vZHVsZVxuKiBAZGVzY3JpcHRpb25cbiogVGhlIGh0dHAgbW9kdWxlIHByb3ZpZGVzIHNlcnZpY2VzIHRvIHBlcmZvcm0gaHR0cCByZXF1ZXN0cy4gVG8gZ2V0IHN0YXJ0ZWQsIHNlZSB0aGUge0BsaW5rIEh0dHB9XG4qIGNsYXNzLlxuKi9cbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgaHR0cF8xID0gcmVxdWlyZSgnLi9zcmMvaHR0cCcpO1xudmFyIHhocl9iYWNrZW5kXzEgPSByZXF1aXJlKCcuL3NyYy9iYWNrZW5kcy94aHJfYmFja2VuZCcpO1xudmFyIGpzb25wX2JhY2tlbmRfMSA9IHJlcXVpcmUoJy4vc3JjL2JhY2tlbmRzL2pzb25wX2JhY2tlbmQnKTtcbnZhciBicm93c2VyX3hocl8xID0gcmVxdWlyZSgnLi9zcmMvYmFja2VuZHMvYnJvd3Nlcl94aHInKTtcbnZhciBicm93c2VyX2pzb25wXzEgPSByZXF1aXJlKCcuL3NyYy9iYWNrZW5kcy9icm93c2VyX2pzb25wJyk7XG52YXIgYmFzZV9yZXF1ZXN0X29wdGlvbnNfMSA9IHJlcXVpcmUoJy4vc3JjL2Jhc2VfcmVxdWVzdF9vcHRpb25zJyk7XG52YXIgYmFzZV9yZXNwb25zZV9vcHRpb25zXzEgPSByZXF1aXJlKCcuL3NyYy9iYXNlX3Jlc3BvbnNlX29wdGlvbnMnKTtcbnZhciBzdGF0aWNfcmVxdWVzdF8xID0gcmVxdWlyZSgnLi9zcmMvc3RhdGljX3JlcXVlc3QnKTtcbmV4cG9ydHMuUmVxdWVzdCA9IHN0YXRpY19yZXF1ZXN0XzEuUmVxdWVzdDtcbnZhciBzdGF0aWNfcmVzcG9uc2VfMSA9IHJlcXVpcmUoJy4vc3JjL3N0YXRpY19yZXNwb25zZScpO1xuZXhwb3J0cy5SZXNwb25zZSA9IHN0YXRpY19yZXNwb25zZV8xLlJlc3BvbnNlO1xudmFyIGludGVyZmFjZXNfMSA9IHJlcXVpcmUoJy4vc3JjL2ludGVyZmFjZXMnKTtcbmV4cG9ydHMuQ29ubmVjdGlvbiA9IGludGVyZmFjZXNfMS5Db25uZWN0aW9uO1xuZXhwb3J0cy5Db25uZWN0aW9uQmFja2VuZCA9IGludGVyZmFjZXNfMS5Db25uZWN0aW9uQmFja2VuZDtcbnZhciBicm93c2VyX3hocl8yID0gcmVxdWlyZSgnLi9zcmMvYmFja2VuZHMvYnJvd3Nlcl94aHInKTtcbmV4cG9ydHMuQnJvd3NlclhociA9IGJyb3dzZXJfeGhyXzIuQnJvd3NlclhocjtcbnZhciBiYXNlX3JlcXVlc3Rfb3B0aW9uc18yID0gcmVxdWlyZSgnLi9zcmMvYmFzZV9yZXF1ZXN0X29wdGlvbnMnKTtcbmV4cG9ydHMuQmFzZVJlcXVlc3RPcHRpb25zID0gYmFzZV9yZXF1ZXN0X29wdGlvbnNfMi5CYXNlUmVxdWVzdE9wdGlvbnM7XG5leHBvcnRzLlJlcXVlc3RPcHRpb25zID0gYmFzZV9yZXF1ZXN0X29wdGlvbnNfMi5SZXF1ZXN0T3B0aW9ucztcbnZhciBiYXNlX3Jlc3BvbnNlX29wdGlvbnNfMiA9IHJlcXVpcmUoJy4vc3JjL2Jhc2VfcmVzcG9uc2Vfb3B0aW9ucycpO1xuZXhwb3J0cy5CYXNlUmVzcG9uc2VPcHRpb25zID0gYmFzZV9yZXNwb25zZV9vcHRpb25zXzIuQmFzZVJlc3BvbnNlT3B0aW9ucztcbmV4cG9ydHMuUmVzcG9uc2VPcHRpb25zID0gYmFzZV9yZXNwb25zZV9vcHRpb25zXzIuUmVzcG9uc2VPcHRpb25zO1xudmFyIHhocl9iYWNrZW5kXzIgPSByZXF1aXJlKCcuL3NyYy9iYWNrZW5kcy94aHJfYmFja2VuZCcpO1xuZXhwb3J0cy5YSFJCYWNrZW5kID0geGhyX2JhY2tlbmRfMi5YSFJCYWNrZW5kO1xuZXhwb3J0cy5YSFJDb25uZWN0aW9uID0geGhyX2JhY2tlbmRfMi5YSFJDb25uZWN0aW9uO1xudmFyIGpzb25wX2JhY2tlbmRfMiA9IHJlcXVpcmUoJy4vc3JjL2JhY2tlbmRzL2pzb25wX2JhY2tlbmQnKTtcbmV4cG9ydHMuSlNPTlBCYWNrZW5kID0ganNvbnBfYmFja2VuZF8yLkpTT05QQmFja2VuZDtcbmV4cG9ydHMuSlNPTlBDb25uZWN0aW9uID0ganNvbnBfYmFja2VuZF8yLkpTT05QQ29ubmVjdGlvbjtcbnZhciBodHRwXzIgPSByZXF1aXJlKCcuL3NyYy9odHRwJyk7XG5leHBvcnRzLkh0dHAgPSBodHRwXzIuSHR0cDtcbmV4cG9ydHMuSnNvbnAgPSBodHRwXzIuSnNvbnA7XG52YXIgaGVhZGVyc18xID0gcmVxdWlyZSgnLi9zcmMvaGVhZGVycycpO1xuZXhwb3J0cy5IZWFkZXJzID0gaGVhZGVyc18xLkhlYWRlcnM7XG52YXIgZW51bXNfMSA9IHJlcXVpcmUoJy4vc3JjL2VudW1zJyk7XG5leHBvcnRzLlJlc3BvbnNlVHlwZSA9IGVudW1zXzEuUmVzcG9uc2VUeXBlO1xuZXhwb3J0cy5SZWFkeVN0YXRlID0gZW51bXNfMS5SZWFkeVN0YXRlO1xuZXhwb3J0cy5SZXF1ZXN0TWV0aG9kID0gZW51bXNfMS5SZXF1ZXN0TWV0aG9kO1xudmFyIHVybF9zZWFyY2hfcGFyYW1zXzEgPSByZXF1aXJlKCcuL3NyYy91cmxfc2VhcmNoX3BhcmFtcycpO1xuZXhwb3J0cy5VUkxTZWFyY2hQYXJhbXMgPSB1cmxfc2VhcmNoX3BhcmFtc18xLlVSTFNlYXJjaFBhcmFtcztcbi8qKlxuICogUHJvdmlkZXMgYSBiYXNpYyBzZXQgb2YgaW5qZWN0YWJsZXMgdG8gdXNlIHRoZSB7QGxpbmsgSHR0cH0gc2VydmljZSBpbiBhbnkgYXBwbGljYXRpb24uXG4gKlxuICogVGhlIGBIVFRQX1BST1ZJREVSU2Agc2hvdWxkIGJlIGluY2x1ZGVkIGVpdGhlciBpbiBhIGNvbXBvbmVudCdzIGluamVjdG9yLFxuICogb3IgaW4gdGhlIHJvb3QgaW5qZWN0b3Igd2hlbiBib290c3RyYXBwaW5nIGFuIGFwcGxpY2F0aW9uLlxuICpcbiAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9zbmo3TnY/cD1wcmV2aWV3KSlcbiAqXG4gKiBgYGBcbiAqIGltcG9ydCB7Q29tcG9uZW50fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbiAqIGltcG9ydCB7Ym9vdHN0cmFwfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyL2Jyb3dzZXInO1xuICogaW1wb3J0IHtOZ0Zvcn0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbiAqIGltcG9ydCB7SFRUUF9QUk9WSURFUlMsIEh0dHB9IGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuICpcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ2FwcCcsXG4gKiAgIHByb3ZpZGVyczogW0hUVFBfUFJPVklERVJTXSxcbiAqICAgdGVtcGxhdGU6IGBcbiAqICAgICA8ZGl2PlxuICogICAgICAgPGgxPlBlb3BsZTwvaDE+XG4gKiAgICAgICA8dWw+XG4gKiAgICAgICAgIDxsaSAqbmdGb3I9XCJsZXQgcGVyc29uIG9mIHBlb3BsZVwiPlxuICogICAgICAgICAgIHt7cGVyc29uLm5hbWV9fVxuICogICAgICAgICA8L2xpPlxuICogICAgICAgPC91bD5cbiAqICAgICA8L2Rpdj5cbiAqICAgYCxcbiAqICAgZGlyZWN0aXZlczogW05nRm9yXVxuICogfSlcbiAqIGV4cG9ydCBjbGFzcyBBcHAge1xuICogICBwZW9wbGU6IE9iamVjdFtdO1xuICogICBjb25zdHJ1Y3RvcihodHRwOkh0dHApIHtcbiAqICAgICBodHRwLmdldCgncGVvcGxlLmpzb24nKS5zdWJzY3JpYmUocmVzID0+IHtcbiAqICAgICAgIHRoaXMucGVvcGxlID0gcmVzLmpzb24oKTtcbiAqICAgICB9KTtcbiAqICAgfVxuICogICBhY3RpdmU6Ym9vbGVhbiA9IGZhbHNlO1xuICogICB0b2dnbGVBY3RpdmVTdGF0ZSgpIHtcbiAqICAgICB0aGlzLmFjdGl2ZSA9ICF0aGlzLmFjdGl2ZTtcbiAqICAgfVxuICogfVxuICpcbiAqIGJvb3RzdHJhcChBcHApXG4gKiAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBwcmltYXJ5IHB1YmxpYyBBUEkgaW5jbHVkZWQgaW4gYEhUVFBfUFJPVklERVJTYCBpcyB0aGUge0BsaW5rIEh0dHB9IGNsYXNzLlxuICogSG93ZXZlciwgb3RoZXIgcHJvdmlkZXJzIHJlcXVpcmVkIGJ5IGBIdHRwYCBhcmUgaW5jbHVkZWQsXG4gKiB3aGljaCBtYXkgYmUgYmVuZWZpY2lhbCB0byBvdmVycmlkZSBpbiBjZXJ0YWluIGNhc2VzLlxuICpcbiAqIFRoZSBwcm92aWRlcnMgaW5jbHVkZWQgaW4gYEhUVFBfUFJPVklERVJTYCBpbmNsdWRlOlxuICogICoge0BsaW5rIEh0dHB9XG4gKiAgKiB7QGxpbmsgWEhSQmFja2VuZH1cbiAqICAqIGBCcm93c2VyWEhSYCAtIFByaXZhdGUgZmFjdG9yeSB0byBjcmVhdGUgYFhNTEh0dHBSZXF1ZXN0YCBpbnN0YW5jZXNcbiAqICAqIHtAbGluayBSZXF1ZXN0T3B0aW9uc30gLSBCb3VuZCB0byB7QGxpbmsgQmFzZVJlcXVlc3RPcHRpb25zfSBjbGFzc1xuICogICoge0BsaW5rIFJlc3BvbnNlT3B0aW9uc30gLSBCb3VuZCB0byB7QGxpbmsgQmFzZVJlc3BvbnNlT3B0aW9uc30gY2xhc3NcbiAqXG4gKiBUaGVyZSBtYXkgYmUgY2FzZXMgd2hlcmUgaXQgbWFrZXMgc2Vuc2UgdG8gZXh0ZW5kIHRoZSBiYXNlIHJlcXVlc3Qgb3B0aW9ucyxcbiAqIHN1Y2ggYXMgdG8gYWRkIGEgc2VhcmNoIHN0cmluZyB0byBiZSBhcHBlbmRlZCB0byBhbGwgVVJMcy5cbiAqIFRvIGFjY29tcGxpc2ggdGhpcywgYSBuZXcgcHJvdmlkZXIgZm9yIHtAbGluayBSZXF1ZXN0T3B0aW9uc30gc2hvdWxkXG4gKiBiZSBhZGRlZCBpbiB0aGUgc2FtZSBpbmplY3RvciBhcyBgSFRUUF9QUk9WSURFUlNgLlxuICpcbiAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9hQ01FWGk/cD1wcmV2aWV3KSlcbiAqXG4gKiBgYGBcbiAqIGltcG9ydCB7cHJvdmlkZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4gKiBpbXBvcnQge2Jvb3RzdHJhcH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci9icm93c2VyJztcbiAqIGltcG9ydCB7SFRUUF9QUk9WSURFUlMsIEJhc2VSZXF1ZXN0T3B0aW9ucywgUmVxdWVzdE9wdGlvbnN9IGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuICpcbiAqIGNsYXNzIE15T3B0aW9ucyBleHRlbmRzIEJhc2VSZXF1ZXN0T3B0aW9ucyB7XG4gKiAgIHNlYXJjaDogc3RyaW5nID0gJ2NvcmVUZWFtPXRydWUnO1xuICogfVxuICpcbiAqIGJvb3RzdHJhcChBcHAsIFtIVFRQX1BST1ZJREVSUywgcHJvdmlkZShSZXF1ZXN0T3B0aW9ucywge3VzZUNsYXNzOiBNeU9wdGlvbnN9KV0pXG4gKiAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcbiAqIGBgYFxuICpcbiAqIExpa2V3aXNlLCB0byB1c2UgYSBtb2NrIGJhY2tlbmQgZm9yIHVuaXQgdGVzdHMsIHRoZSB7QGxpbmsgWEhSQmFja2VuZH1cbiAqIHByb3ZpZGVyIHNob3VsZCBiZSBib3VuZCB0byB7QGxpbmsgTW9ja0JhY2tlbmR9LlxuICpcbiAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC83TFdBTEQ/cD1wcmV2aWV3KSlcbiAqXG4gKiBgYGBcbiAqIGltcG9ydCB7cHJvdmlkZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4gKiBpbXBvcnQge2Jvb3RzdHJhcH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci9icm93c2VyJztcbiAqIGltcG9ydCB7SFRUUF9QUk9WSURFUlMsIEh0dHAsIFJlc3BvbnNlLCBYSFJCYWNrZW5kfSBmcm9tICdAYW5ndWxhci9odHRwJztcbiAqIGltcG9ydCB7TW9ja0JhY2tlbmR9IGZyb20gJ0Bhbmd1bGFyL2h0dHAvdGVzdGluZyc7XG4gKlxuICogdmFyIHBlb3BsZSA9IFt7bmFtZTogJ0plZmYnfSwge25hbWU6ICdUb2JpYXMnfV07XG4gKlxuICogdmFyIGluamVjdG9yID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbXG4gKiAgIEhUVFBfUFJPVklERVJTLFxuICogICBNb2NrQmFja2VuZCxcbiAqICAgcHJvdmlkZShYSFJCYWNrZW5kLCB7dXNlRXhpc3Rpbmc6IE1vY2tCYWNrZW5kfSlcbiAqIF0pO1xuICogdmFyIGh0dHAgPSBpbmplY3Rvci5nZXQoSHR0cCk7XG4gKiB2YXIgYmFja2VuZCA9IGluamVjdG9yLmdldChNb2NrQmFja2VuZCk7XG4gKlxuICogLy8gTGlzdGVuIGZvciBhbnkgbmV3IHJlcXVlc3RzXG4gKiBiYWNrZW5kLmNvbm5lY3Rpb25zLm9ic2VydmVyKHtcbiAqICAgbmV4dDogY29ubmVjdGlvbiA9PiB7XG4gKiAgICAgdmFyIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKHtib2R5OiBwZW9wbGV9KTtcbiAqICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAqICAgICAgIC8vIFNlbmQgYSByZXNwb25zZSB0byB0aGUgcmVxdWVzdFxuICogICAgICAgY29ubmVjdGlvbi5tb2NrUmVzcG9uZChyZXNwb25zZSk7XG4gKiAgICAgfSk7XG4gKiAgIH1cbiAqIH0pO1xuICpcbiAqIGh0dHAuZ2V0KCdwZW9wbGUuanNvbicpLm9ic2VydmVyKHtcbiAqICAgbmV4dDogcmVzID0+IHtcbiAqICAgICAvLyBSZXNwb25zZSBjYW1lIGZyb20gbW9jayBiYWNrZW5kXG4gKiAgICAgY29uc29sZS5sb2coJ2ZpcnN0IHBlcnNvbicsIHJlcy5qc29uKClbMF0ubmFtZSk7XG4gKiAgIH1cbiAqIH0pO1xuICogYGBgXG4gKi9cbmV4cG9ydHMuSFRUUF9QUk9WSURFUlMgPSBbXG4gICAgLy8gVE9ETyhwYXNjYWwpOiB1c2UgZmFjdG9yeSB0eXBlIGFubm90YXRpb25zIG9uY2Ugc3VwcG9ydGVkIGluIERJXG4gICAgLy8gaXNzdWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzMxODNcbiAgICBjb3JlXzEucHJvdmlkZShodHRwXzEuSHR0cCwge1xuICAgICAgICB1c2VGYWN0b3J5OiBmdW5jdGlvbiAoeGhyQmFja2VuZCwgcmVxdWVzdE9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgaHR0cF8xLkh0dHAoeGhyQmFja2VuZCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICB9LFxuICAgICAgICBkZXBzOiBbeGhyX2JhY2tlbmRfMS5YSFJCYWNrZW5kLCBiYXNlX3JlcXVlc3Rfb3B0aW9uc18xLlJlcXVlc3RPcHRpb25zXVxuICAgIH0pLFxuICAgIGJyb3dzZXJfeGhyXzEuQnJvd3NlclhocixcbiAgICBjb3JlXzEucHJvdmlkZShiYXNlX3JlcXVlc3Rfb3B0aW9uc18xLlJlcXVlc3RPcHRpb25zLCB7IHVzZUNsYXNzOiBiYXNlX3JlcXVlc3Rfb3B0aW9uc18xLkJhc2VSZXF1ZXN0T3B0aW9ucyB9KSxcbiAgICBjb3JlXzEucHJvdmlkZShiYXNlX3Jlc3BvbnNlX29wdGlvbnNfMS5SZXNwb25zZU9wdGlvbnMsIHsgdXNlQ2xhc3M6IGJhc2VfcmVzcG9uc2Vfb3B0aW9uc18xLkJhc2VSZXNwb25zZU9wdGlvbnMgfSksXG4gICAgeGhyX2JhY2tlbmRfMS5YSFJCYWNrZW5kXG5dO1xuLyoqXG4gKiBTZWUge0BsaW5rIEhUVFBfUFJPVklERVJTfSBpbnN0ZWFkLlxuICpcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydHMuSFRUUF9CSU5ESU5HUyA9IGV4cG9ydHMuSFRUUF9QUk9WSURFUlM7XG4vKipcbiAqIFByb3ZpZGVzIGEgYmFzaWMgc2V0IG9mIHByb3ZpZGVycyB0byB1c2UgdGhlIHtAbGluayBKc29ucH0gc2VydmljZSBpbiBhbnkgYXBwbGljYXRpb24uXG4gKlxuICogVGhlIGBKU09OUF9QUk9WSURFUlNgIHNob3VsZCBiZSBpbmNsdWRlZCBlaXRoZXIgaW4gYSBjb21wb25lbnQncyBpbmplY3RvcixcbiAqIG9yIGluIHRoZSByb290IGluamVjdG9yIHdoZW4gYm9vdHN0cmFwcGluZyBhbiBhcHBsaWNhdGlvbi5cbiAqXG4gKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvdm1lTjRGP3A9cHJldmlldykpXG4gKlxuICogYGBgXG4gKiBpbXBvcnQge0NvbXBvbmVudH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4gKiBpbXBvcnQge05nRm9yfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuICogaW1wb3J0IHtKU09OUF9QUk9WSURFUlMsIEpzb25wfSBmcm9tICdAYW5ndWxhci9odHRwJztcbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICdhcHAnLFxuICogICBwcm92aWRlcnM6IFtKU09OUF9QUk9WSURFUlNdLFxuICogICB0ZW1wbGF0ZTogYFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8aDE+UGVvcGxlPC9oMT5cbiAqICAgICAgIDx1bD5cbiAqICAgICAgICAgPGxpICpuZ0Zvcj1cImxldCBwZXJzb24gb2YgcGVvcGxlXCI+XG4gKiAgICAgICAgICAge3twZXJzb24ubmFtZX19XG4gKiAgICAgICAgIDwvbGk+XG4gKiAgICAgICA8L3VsPlxuICogICAgIDwvZGl2PlxuICogICBgLFxuICogICBkaXJlY3RpdmVzOiBbTmdGb3JdXG4gKiB9KVxuICogZXhwb3J0IGNsYXNzIEFwcCB7XG4gKiAgIHBlb3BsZTogQXJyYXk8T2JqZWN0PjtcbiAqICAgY29uc3RydWN0b3IoanNvbnA6SnNvbnApIHtcbiAqICAgICBqc29ucC5yZXF1ZXN0KCdwZW9wbGUuanNvbicpLnN1YnNjcmliZShyZXMgPT4ge1xuICogICAgICAgdGhpcy5wZW9wbGUgPSByZXMuanNvbigpO1xuICogICAgIH0pXG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIFRoZSBwcmltYXJ5IHB1YmxpYyBBUEkgaW5jbHVkZWQgaW4gYEpTT05QX1BST1ZJREVSU2AgaXMgdGhlIHtAbGluayBKc29ucH0gY2xhc3MuXG4gKiBIb3dldmVyLCBvdGhlciBwcm92aWRlcnMgcmVxdWlyZWQgYnkgYEpzb25wYCBhcmUgaW5jbHVkZWQsXG4gKiB3aGljaCBtYXkgYmUgYmVuZWZpY2lhbCB0byBvdmVycmlkZSBpbiBjZXJ0YWluIGNhc2VzLlxuICpcbiAqIFRoZSBwcm92aWRlcnMgaW5jbHVkZWQgaW4gYEpTT05QX1BST1ZJREVSU2AgaW5jbHVkZTpcbiAqICAqIHtAbGluayBKc29ucH1cbiAqICAqIHtAbGluayBKU09OUEJhY2tlbmR9XG4gKiAgKiBgQnJvd3Nlckpzb25wYCAtIFByaXZhdGUgZmFjdG9yeVxuICogICoge0BsaW5rIFJlcXVlc3RPcHRpb25zfSAtIEJvdW5kIHRvIHtAbGluayBCYXNlUmVxdWVzdE9wdGlvbnN9IGNsYXNzXG4gKiAgKiB7QGxpbmsgUmVzcG9uc2VPcHRpb25zfSAtIEJvdW5kIHRvIHtAbGluayBCYXNlUmVzcG9uc2VPcHRpb25zfSBjbGFzc1xuICpcbiAqIFRoZXJlIG1heSBiZSBjYXNlcyB3aGVyZSBpdCBtYWtlcyBzZW5zZSB0byBleHRlbmQgdGhlIGJhc2UgcmVxdWVzdCBvcHRpb25zLFxuICogc3VjaCBhcyB0byBhZGQgYSBzZWFyY2ggc3RyaW5nIHRvIGJlIGFwcGVuZGVkIHRvIGFsbCBVUkxzLlxuICogVG8gYWNjb21wbGlzaCB0aGlzLCBhIG5ldyBwcm92aWRlciBmb3Ige0BsaW5rIFJlcXVlc3RPcHRpb25zfSBzaG91bGRcbiAqIGJlIGFkZGVkIGluIHRoZSBzYW1lIGluamVjdG9yIGFzIGBKU09OUF9QUk9WSURFUlNgLlxuICpcbiAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9URnVnN3g/cD1wcmV2aWV3KSlcbiAqXG4gKiBgYGBcbiAqIGltcG9ydCB7cHJvdmlkZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4gKiBpbXBvcnQge2Jvb3RzdHJhcH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci9icm93c2VyJztcbiAqIGltcG9ydCB7SlNPTlBfUFJPVklERVJTLCBCYXNlUmVxdWVzdE9wdGlvbnMsIFJlcXVlc3RPcHRpb25zfSBmcm9tICdAYW5ndWxhci9odHRwJztcbiAqXG4gKiBjbGFzcyBNeU9wdGlvbnMgZXh0ZW5kcyBCYXNlUmVxdWVzdE9wdGlvbnMge1xuICogICBzZWFyY2g6IHN0cmluZyA9ICdjb3JlVGVhbT10cnVlJztcbiAqIH1cbiAqXG4gKiBib290c3RyYXAoQXBwLCBbSlNPTlBfUFJPVklERVJTLCBwcm92aWRlKFJlcXVlc3RPcHRpb25zLCB7dXNlQ2xhc3M6IE15T3B0aW9uc30pXSlcbiAqICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKGVycikpO1xuICogYGBgXG4gKlxuICogTGlrZXdpc2UsIHRvIHVzZSBhIG1vY2sgYmFja2VuZCBmb3IgdW5pdCB0ZXN0cywgdGhlIHtAbGluayBKU09OUEJhY2tlbmR9XG4gKiBwcm92aWRlciBzaG91bGQgYmUgYm91bmQgdG8ge0BsaW5rIE1vY2tCYWNrZW5kfS5cbiAqXG4gKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvSERxWldMP3A9cHJldmlldykpXG4gKlxuICogYGBgXG4gKiBpbXBvcnQge3Byb3ZpZGUsIEluamVjdG9yfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbiAqIGltcG9ydCB7SlNPTlBfUFJPVklERVJTLCBKc29ucCwgUmVzcG9uc2UsIEpTT05QQmFja2VuZH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG4gKiBpbXBvcnQge01vY2tCYWNrZW5kfSBmcm9tICdAYW5ndWxhci9odHRwL3Rlc3RpbmcnO1xuICpcbiAqIHZhciBwZW9wbGUgPSBbe25hbWU6ICdKZWZmJ30sIHtuYW1lOiAnVG9iaWFzJ31dO1xuICogdmFyIGluamVjdG9yID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbXG4gKiAgIEpTT05QX1BST1ZJREVSUyxcbiAqICAgTW9ja0JhY2tlbmQsXG4gKiAgIHByb3ZpZGUoSlNPTlBCYWNrZW5kLCB7dXNlRXhpc3Rpbmc6IE1vY2tCYWNrZW5kfSlcbiAqIF0pO1xuICogdmFyIGpzb25wID0gaW5qZWN0b3IuZ2V0KEpzb25wKTtcbiAqIHZhciBiYWNrZW5kID0gaW5qZWN0b3IuZ2V0KE1vY2tCYWNrZW5kKTtcbiAqXG4gKiAvLyBMaXN0ZW4gZm9yIGFueSBuZXcgcmVxdWVzdHNcbiAqIGJhY2tlbmQuY29ubmVjdGlvbnMub2JzZXJ2ZXIoe1xuICogICBuZXh0OiBjb25uZWN0aW9uID0+IHtcbiAqICAgICB2YXIgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2Uoe2JvZHk6IHBlb3BsZX0pO1xuICogICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICogICAgICAgLy8gU2VuZCBhIHJlc3BvbnNlIHRvIHRoZSByZXF1ZXN0XG4gKiAgICAgICBjb25uZWN0aW9uLm1vY2tSZXNwb25kKHJlc3BvbnNlKTtcbiAqICAgICB9KTtcbiAqICAgfVxuICogfSk7XG5cbiAqIGpzb25wLmdldCgncGVvcGxlLmpzb24nKS5vYnNlcnZlcih7XG4gKiAgIG5leHQ6IHJlcyA9PiB7XG4gKiAgICAgLy8gUmVzcG9uc2UgY2FtZSBmcm9tIG1vY2sgYmFja2VuZFxuICogICAgIGNvbnNvbGUubG9nKCdmaXJzdCBwZXJzb24nLCByZXMuanNvbigpWzBdLm5hbWUpO1xuICogICB9XG4gKiB9KTtcbiAqIGBgYFxuICovXG5leHBvcnRzLkpTT05QX1BST1ZJREVSUyA9IFtcbiAgICAvLyBUT0RPKHBhc2NhbCk6IHVzZSBmYWN0b3J5IHR5cGUgYW5ub3RhdGlvbnMgb25jZSBzdXBwb3J0ZWQgaW4gRElcbiAgICAvLyBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMzE4M1xuICAgIGNvcmVfMS5wcm92aWRlKGh0dHBfMS5Kc29ucCwge1xuICAgICAgICB1c2VGYWN0b3J5OiBmdW5jdGlvbiAoanNvbnBCYWNrZW5kLCByZXF1ZXN0T3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBodHRwXzEuSnNvbnAoanNvbnBCYWNrZW5kLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlcHM6IFtqc29ucF9iYWNrZW5kXzEuSlNPTlBCYWNrZW5kLCBiYXNlX3JlcXVlc3Rfb3B0aW9uc18xLlJlcXVlc3RPcHRpb25zXVxuICAgIH0pLFxuICAgIGJyb3dzZXJfanNvbnBfMS5Ccm93c2VySnNvbnAsXG4gICAgY29yZV8xLnByb3ZpZGUoYmFzZV9yZXF1ZXN0X29wdGlvbnNfMS5SZXF1ZXN0T3B0aW9ucywgeyB1c2VDbGFzczogYmFzZV9yZXF1ZXN0X29wdGlvbnNfMS5CYXNlUmVxdWVzdE9wdGlvbnMgfSksXG4gICAgY29yZV8xLnByb3ZpZGUoYmFzZV9yZXNwb25zZV9vcHRpb25zXzEuUmVzcG9uc2VPcHRpb25zLCB7IHVzZUNsYXNzOiBiYXNlX3Jlc3BvbnNlX29wdGlvbnNfMS5CYXNlUmVzcG9uc2VPcHRpb25zIH0pLFxuICAgIGNvcmVfMS5wcm92aWRlKGpzb25wX2JhY2tlbmRfMS5KU09OUEJhY2tlbmQsIHsgdXNlQ2xhc3M6IGpzb25wX2JhY2tlbmRfMS5KU09OUEJhY2tlbmRfIH0pXG5dO1xuLyoqXG4gKiBTZWUge0BsaW5rIEpTT05QX1BST1ZJREVSU30gaW5zdGVhZC5cbiAqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnRzLkpTT05fQklORElOR1MgPSBleHBvcnRzLkpTT05QX1BST1ZJREVSUztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0dHAuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuX19leHBvcnQocmVxdWlyZSgnLi9odHRwJykpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIF9uZXh0UmVxdWVzdElkID0gMDtcbmV4cG9ydHMuSlNPTlBfSE9NRSA9ICdfX25nX2pzb25wX18nO1xudmFyIF9qc29ucENvbm5lY3Rpb25zID0gbnVsbDtcbmZ1bmN0aW9uIF9nZXRKc29ucENvbm5lY3Rpb25zKCkge1xuICAgIGlmIChfanNvbnBDb25uZWN0aW9ucyA9PT0gbnVsbCkge1xuICAgICAgICBfanNvbnBDb25uZWN0aW9ucyA9IGxhbmdfMS5nbG9iYWxbZXhwb3J0cy5KU09OUF9IT01FXSA9IHt9O1xuICAgIH1cbiAgICByZXR1cm4gX2pzb25wQ29ubmVjdGlvbnM7XG59XG52YXIgQnJvd3Nlckpzb25wID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCcm93c2VySnNvbnAoKSB7XG4gICAgfVxuICAgIC8vIENvbnN0cnVjdCBhIDxzY3JpcHQ+IGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIFVSTFxuICAgIEJyb3dzZXJKc29ucC5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgIG5vZGUuc3JjID0gdXJsO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9O1xuICAgIEJyb3dzZXJKc29ucC5wcm90b3R5cGUubmV4dFJlcXVlc3RJRCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiX19yZXFcIiArIF9uZXh0UmVxdWVzdElkKys7IH07XG4gICAgQnJvd3Nlckpzb25wLnByb3RvdHlwZS5yZXF1ZXN0Q2FsbGJhY2sgPSBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIGV4cG9ydHMuSlNPTlBfSE9NRSArIFwiLlwiICsgaWQgKyBcIi5maW5pc2hlZFwiOyB9O1xuICAgIEJyb3dzZXJKc29ucC5wcm90b3R5cGUuZXhwb3NlQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChpZCwgY29ubmVjdGlvbikge1xuICAgICAgICB2YXIgY29ubmVjdGlvbnMgPSBfZ2V0SnNvbnBDb25uZWN0aW9ucygpO1xuICAgICAgICBjb25uZWN0aW9uc1tpZF0gPSBjb25uZWN0aW9uO1xuICAgIH07XG4gICAgQnJvd3Nlckpzb25wLnByb3RvdHlwZS5yZW1vdmVDb25uZWN0aW9uID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciBjb25uZWN0aW9ucyA9IF9nZXRKc29ucENvbm5lY3Rpb25zKCk7XG4gICAgICAgIGNvbm5lY3Rpb25zW2lkXSA9IG51bGw7XG4gICAgfTtcbiAgICAvLyBBdHRhY2ggdGhlIDxzY3JpcHQ+IGVsZW1lbnQgdG8gdGhlIERPTVxuICAgIEJyb3dzZXJKc29ucC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChub2RlKSB7IGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoKG5vZGUpKTsgfTtcbiAgICAvLyBSZW1vdmUgPHNjcmlwdD4gZWxlbWVudCBmcm9tIHRoZSBET01cbiAgICBCcm93c2VySnNvbnAucHJvdG90eXBlLmNsZWFudXAgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoKG5vZGUpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQnJvd3Nlckpzb25wLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIHJldHVybiBCcm93c2VySnNvbnA7XG59KCkpO1xuZXhwb3J0cy5Ccm93c2VySnNvbnAgPSBCcm93c2VySnNvbnA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icm93c2VyX2pzb25wLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBCcm93c2VyWGhyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCcm93c2VyWGhyKCkge1xuICAgIH1cbiAgICBCcm93c2VyWGhyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIChuZXcgWE1MSHR0cFJlcXVlc3QoKSk7IH07XG4gICAgQnJvd3Nlclhoci5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICBCcm93c2VyWGhyLmN0b3JQYXJhbWV0ZXJzID0gW107XG4gICAgcmV0dXJuIEJyb3dzZXJYaHI7XG59KCkpO1xuZXhwb3J0cy5Ccm93c2VyWGhyID0gQnJvd3Nlclhocjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyb3dzZXJfeGhyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgaW50ZXJmYWNlc18xID0gcmVxdWlyZSgnLi4vaW50ZXJmYWNlcycpO1xudmFyIGVudW1zXzEgPSByZXF1aXJlKCcuLi9lbnVtcycpO1xudmFyIHN0YXRpY19yZXNwb25zZV8xID0gcmVxdWlyZSgnLi4vc3RhdGljX3Jlc3BvbnNlJyk7XG52YXIgYmFzZV9yZXNwb25zZV9vcHRpb25zXzEgPSByZXF1aXJlKCcuLi9iYXNlX3Jlc3BvbnNlX29wdGlvbnMnKTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgYnJvd3Nlcl9qc29ucF8xID0gcmVxdWlyZSgnLi9icm93c2VyX2pzb25wJyk7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZSgncnhqcy9PYnNlcnZhYmxlJyk7XG52YXIgSlNPTlBfRVJSX05PX0NBTExCQUNLID0gJ0pTT05QIGluamVjdGVkIHNjcmlwdCBkaWQgbm90IGludm9rZSBjYWxsYmFjay4nO1xudmFyIEpTT05QX0VSUl9XUk9OR19NRVRIT0QgPSAnSlNPTlAgcmVxdWVzdHMgbXVzdCB1c2UgR0VUIHJlcXVlc3QgbWV0aG9kLic7XG4vKipcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIGFuIGluLWZsaWdodCBKU09OUCByZXF1ZXN0LlxuICovXG52YXIgSlNPTlBDb25uZWN0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBKU09OUENvbm5lY3Rpb24oKSB7XG4gICAgfVxuICAgIHJldHVybiBKU09OUENvbm5lY3Rpb247XG59KCkpO1xuZXhwb3J0cy5KU09OUENvbm5lY3Rpb24gPSBKU09OUENvbm5lY3Rpb247XG52YXIgSlNPTlBDb25uZWN0aW9uXyA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEpTT05QQ29ubmVjdGlvbl8sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSlNPTlBDb25uZWN0aW9uXyhyZXEsIF9kb20sIGJhc2VSZXNwb25zZU9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX2RvbSA9IF9kb207XG4gICAgICAgIHRoaXMuYmFzZVJlc3BvbnNlT3B0aW9ucyA9IGJhc2VSZXNwb25zZU9wdGlvbnM7XG4gICAgICAgIHRoaXMuX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIGlmIChyZXEubWV0aG9kICE9PSBlbnVtc18xLlJlcXVlc3RNZXRob2QuR2V0KSB7XG4gICAgICAgICAgICB0aHJvdyBleGNlcHRpb25zXzEubWFrZVR5cGVFcnJvcihKU09OUF9FUlJfV1JPTkdfTUVUSE9EKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlcXVlc3QgPSByZXE7XG4gICAgICAgIHRoaXMucmVzcG9uc2UgPSBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoZnVuY3Rpb24gKHJlc3BvbnNlT2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIF90aGlzLnJlYWR5U3RhdGUgPSBlbnVtc18xLlJlYWR5U3RhdGUuTG9hZGluZztcbiAgICAgICAgICAgIHZhciBpZCA9IF90aGlzLl9pZCA9IF9kb20ubmV4dFJlcXVlc3RJRCgpO1xuICAgICAgICAgICAgX2RvbS5leHBvc2VDb25uZWN0aW9uKGlkLCBfdGhpcyk7XG4gICAgICAgICAgICAvLyBXb3JrYXJvdW5kIERhcnRcbiAgICAgICAgICAgIC8vIHVybCA9IHVybC5yZXBsYWNlKC89SlNPTlBfQ0FMTEJBQ0soJnwkKS8sIGBnZW5lcmF0ZWQgbWV0aG9kYCk7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBfZG9tLnJlcXVlc3RDYWxsYmFjayhfdGhpcy5faWQpO1xuICAgICAgICAgICAgdmFyIHVybCA9IHJlcS51cmw7XG4gICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoJz1KU09OUF9DQUxMQkFDSyYnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdXJsID0gbGFuZ18xLlN0cmluZ1dyYXBwZXIucmVwbGFjZSh1cmwsICc9SlNPTlBfQ0FMTEJBQ0smJywgXCI9XCIgKyBjYWxsYmFjayArIFwiJlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVybC5sYXN0SW5kZXhPZignPUpTT05QX0NBTExCQUNLJykgPT09IHVybC5sZW5ndGggLSAnPUpTT05QX0NBTExCQUNLJy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKDAsIHVybC5sZW5ndGggLSAnPUpTT05QX0NBTExCQUNLJy5sZW5ndGgpICsgKFwiPVwiICsgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNjcmlwdCA9IF90aGlzLl9zY3JpcHQgPSBfZG9tLmJ1aWxkKHVybCk7XG4gICAgICAgICAgICB2YXIgb25Mb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnJlYWR5U3RhdGUgPT09IGVudW1zXzEuUmVhZHlTdGF0ZS5DYW5jZWxsZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZWFkeVN0YXRlID0gZW51bXNfMS5SZWFkeVN0YXRlLkRvbmU7XG4gICAgICAgICAgICAgICAgX2RvbS5jbGVhbnVwKHNjcmlwdCk7XG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5fZmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlT3B0aW9uc18xID0gbmV3IGJhc2VfcmVzcG9uc2Vfb3B0aW9uc18xLlJlc3BvbnNlT3B0aW9ucyh7IGJvZHk6IEpTT05QX0VSUl9OT19DQUxMQkFDSywgdHlwZTogZW51bXNfMS5SZXNwb25zZVR5cGUuRXJyb3IsIHVybDogdXJsIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChiYXNlUmVzcG9uc2VPcHRpb25zKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VPcHRpb25zXzEgPSBiYXNlUmVzcG9uc2VPcHRpb25zLm1lcmdlKHJlc3BvbnNlT3B0aW9uc18xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZU9ic2VydmVyLmVycm9yKG5ldyBzdGF0aWNfcmVzcG9uc2VfMS5SZXNwb25zZShyZXNwb25zZU9wdGlvbnNfMSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZU9wdGlvbnMgPSBuZXcgYmFzZV9yZXNwb25zZV9vcHRpb25zXzEuUmVzcG9uc2VPcHRpb25zKHsgYm9keTogX3RoaXMuX3Jlc3BvbnNlRGF0YSwgdXJsOiB1cmwgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoX3RoaXMuYmFzZVJlc3BvbnNlT3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VPcHRpb25zID0gX3RoaXMuYmFzZVJlc3BvbnNlT3B0aW9ucy5tZXJnZShyZXNwb25zZU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNwb25zZU9ic2VydmVyLm5leHQobmV3IHN0YXRpY19yZXNwb25zZV8xLlJlc3BvbnNlKHJlc3BvbnNlT3B0aW9ucykpO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlT2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgb25FcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5yZWFkeVN0YXRlID09PSBlbnVtc18xLlJlYWR5U3RhdGUuQ2FuY2VsbGVkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgX3RoaXMucmVhZHlTdGF0ZSA9IGVudW1zXzEuUmVhZHlTdGF0ZS5Eb25lO1xuICAgICAgICAgICAgICAgIF9kb20uY2xlYW51cChzY3JpcHQpO1xuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZU9wdGlvbnMgPSBuZXcgYmFzZV9yZXNwb25zZV9vcHRpb25zXzEuUmVzcG9uc2VPcHRpb25zKHsgYm9keTogZXJyb3IubWVzc2FnZSwgdHlwZTogZW51bXNfMS5SZXNwb25zZVR5cGUuRXJyb3IgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoYmFzZVJlc3BvbnNlT3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VPcHRpb25zID0gYmFzZVJlc3BvbnNlT3B0aW9ucy5tZXJnZShyZXNwb25zZU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNwb25zZU9ic2VydmVyLmVycm9yKG5ldyBzdGF0aWNfcmVzcG9uc2VfMS5SZXNwb25zZShyZXNwb25zZU9wdGlvbnMpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9uTG9hZCk7XG4gICAgICAgICAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yKTtcbiAgICAgICAgICAgIF9kb20uc2VuZChzY3JpcHQpO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZWFkeVN0YXRlID0gZW51bXNfMS5SZWFkeVN0YXRlLkNhbmNlbGxlZDtcbiAgICAgICAgICAgICAgICBzY3JpcHQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9uTG9hZCk7XG4gICAgICAgICAgICAgICAgc2NyaXB0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvcik7XG4gICAgICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoc2NyaXB0KSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZG9tLmNsZWFudXAoc2NyaXB0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgSlNPTlBDb25uZWN0aW9uXy5wcm90b3R5cGUuZmluaXNoZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBEb24ndCBsZWFrIGNvbm5lY3Rpb25zXG4gICAgICAgIHRoaXMuX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZG9tLnJlbW92ZUNvbm5lY3Rpb24odGhpcy5faWQpO1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBlbnVtc18xLlJlYWR5U3RhdGUuQ2FuY2VsbGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLl9yZXNwb25zZURhdGEgPSBkYXRhO1xuICAgIH07XG4gICAgcmV0dXJuIEpTT05QQ29ubmVjdGlvbl87XG59KEpTT05QQ29ubmVjdGlvbikpO1xuZXhwb3J0cy5KU09OUENvbm5lY3Rpb25fID0gSlNPTlBDb25uZWN0aW9uXztcbi8qKlxuICogQSB7QGxpbmsgQ29ubmVjdGlvbkJhY2tlbmR9IHRoYXQgdXNlcyB0aGUgSlNPTlAgc3RyYXRlZ3kgb2YgbWFraW5nIHJlcXVlc3RzLlxuICovXG52YXIgSlNPTlBCYWNrZW5kID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSlNPTlBCYWNrZW5kLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEpTT05QQmFja2VuZCgpIHtcbiAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIHJldHVybiBKU09OUEJhY2tlbmQ7XG59KGludGVyZmFjZXNfMS5Db25uZWN0aW9uQmFja2VuZCkpO1xuZXhwb3J0cy5KU09OUEJhY2tlbmQgPSBKU09OUEJhY2tlbmQ7XG52YXIgSlNPTlBCYWNrZW5kXyA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEpTT05QQmFja2VuZF8sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSlNPTlBCYWNrZW5kXyhfYnJvd3NlckpTT05QLCBfYmFzZVJlc3BvbnNlT3B0aW9ucykge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYnJvd3NlckpTT05QID0gX2Jyb3dzZXJKU09OUDtcbiAgICAgICAgdGhpcy5fYmFzZVJlc3BvbnNlT3B0aW9ucyA9IF9iYXNlUmVzcG9uc2VPcHRpb25zO1xuICAgIH1cbiAgICBKU09OUEJhY2tlbmRfLnByb3RvdHlwZS5jcmVhdGVDb25uZWN0aW9uID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBKU09OUENvbm5lY3Rpb25fKHJlcXVlc3QsIHRoaXMuX2Jyb3dzZXJKU09OUCwgdGhpcy5fYmFzZVJlc3BvbnNlT3B0aW9ucyk7XG4gICAgfTtcbiAgICBKU09OUEJhY2tlbmRfLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIEpTT05QQmFja2VuZF8uY3RvclBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHsgdHlwZTogYnJvd3Nlcl9qc29ucF8xLkJyb3dzZXJKc29ucCwgfSxcbiAgICAgICAgeyB0eXBlOiBiYXNlX3Jlc3BvbnNlX29wdGlvbnNfMS5SZXNwb25zZU9wdGlvbnMsIH0sXG4gICAgXTtcbiAgICByZXR1cm4gSlNPTlBCYWNrZW5kXztcbn0oSlNPTlBCYWNrZW5kKSk7XG5leHBvcnRzLkpTT05QQmFja2VuZF8gPSBKU09OUEJhY2tlbmRfO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anNvbnBfYmFja2VuZC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBlbnVtc18xID0gcmVxdWlyZSgnLi4vZW51bXMnKTtcbnZhciBzdGF0aWNfcmVzcG9uc2VfMSA9IHJlcXVpcmUoJy4uL3N0YXRpY19yZXNwb25zZScpO1xudmFyIGhlYWRlcnNfMSA9IHJlcXVpcmUoJy4uL2hlYWRlcnMnKTtcbnZhciBiYXNlX3Jlc3BvbnNlX29wdGlvbnNfMSA9IHJlcXVpcmUoJy4uL2Jhc2VfcmVzcG9uc2Vfb3B0aW9ucycpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBicm93c2VyX3hocl8xID0gcmVxdWlyZSgnLi9icm93c2VyX3hocicpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIE9ic2VydmFibGVfMSA9IHJlcXVpcmUoJ3J4anMvT2JzZXJ2YWJsZScpO1xudmFyIGh0dHBfdXRpbHNfMSA9IHJlcXVpcmUoJy4uL2h0dHBfdXRpbHMnKTtcbi8qKlxuKiBDcmVhdGVzIGNvbm5lY3Rpb25zIHVzaW5nIGBYTUxIdHRwUmVxdWVzdGAuIEdpdmVuIGEgZnVsbHktcXVhbGlmaWVkXG4qIHJlcXVlc3QsIGFuIGBYSFJDb25uZWN0aW9uYCB3aWxsIGltbWVkaWF0ZWx5IGNyZWF0ZSBhbiBgWE1MSHR0cFJlcXVlc3RgIG9iamVjdCBhbmQgc2VuZCB0aGVcbiogcmVxdWVzdC5cbipcbiogVGhpcyBjbGFzcyB3b3VsZCB0eXBpY2FsbHkgbm90IGJlIGNyZWF0ZWQgb3IgaW50ZXJhY3RlZCB3aXRoIGRpcmVjdGx5IGluc2lkZSBhcHBsaWNhdGlvbnMsIHRob3VnaFxuKiB0aGUge0BsaW5rIE1vY2tDb25uZWN0aW9ufSBtYXkgYmUgaW50ZXJhY3RlZCB3aXRoIGluIHRlc3RzLlxuKi9cbnZhciBYSFJDb25uZWN0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBYSFJDb25uZWN0aW9uKHJlcSwgYnJvd3NlclhIUiwgYmFzZVJlc3BvbnNlT3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnJlcXVlc3QgPSByZXE7XG4gICAgICAgIHRoaXMucmVzcG9uc2UgPSBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoZnVuY3Rpb24gKHJlc3BvbnNlT2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHZhciBfeGhyID0gYnJvd3NlclhIUi5idWlsZCgpO1xuICAgICAgICAgICAgX3hoci5vcGVuKGVudW1zXzEuUmVxdWVzdE1ldGhvZFtyZXEubWV0aG9kXS50b1VwcGVyQ2FzZSgpLCByZXEudXJsKTtcbiAgICAgICAgICAgIC8vIGxvYWQgZXZlbnQgaGFuZGxlclxuICAgICAgICAgICAgdmFyIG9uTG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyByZXNwb25zZVRleHQgaXMgdGhlIG9sZC1zY2hvb2wgd2F5IG9mIHJldHJpZXZpbmcgcmVzcG9uc2UgKHN1cHBvcnRlZCBieSBJRTggJiA5KVxuICAgICAgICAgICAgICAgIC8vIHJlc3BvbnNlL3Jlc3BvbnNlVHlwZSBwcm9wZXJ0aWVzIHdlcmUgaW50cm9kdWNlZCBpbiBYSFIgTGV2ZWwyIHNwZWMgKHN1cHBvcnRlZCBieVxuICAgICAgICAgICAgICAgIC8vIElFMTApXG4gICAgICAgICAgICAgICAgdmFyIGJvZHkgPSBsYW5nXzEuaXNQcmVzZW50KF94aHIucmVzcG9uc2UpID8gX3hoci5yZXNwb25zZSA6IF94aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICAgICAgICAgIHZhciBoZWFkZXJzID0gaGVhZGVyc18xLkhlYWRlcnMuZnJvbVJlc3BvbnNlSGVhZGVyU3RyaW5nKF94aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpO1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBodHRwX3V0aWxzXzEuZ2V0UmVzcG9uc2VVUkwoX3hocik7XG4gICAgICAgICAgICAgICAgLy8gbm9ybWFsaXplIElFOSBidWcgKGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzE0NTApXG4gICAgICAgICAgICAgICAgdmFyIHN0YXR1cyA9IF94aHIuc3RhdHVzID09PSAxMjIzID8gMjA0IDogX3hoci5zdGF0dXM7XG4gICAgICAgICAgICAgICAgLy8gZml4IHN0YXR1cyBjb2RlIHdoZW4gaXQgaXMgMCAoMCBzdGF0dXMgaXMgdW5kb2N1bWVudGVkKS5cbiAgICAgICAgICAgICAgICAvLyBPY2N1cnMgd2hlbiBhY2Nlc3NpbmcgZmlsZSByZXNvdXJjZXMgb3Igb24gQW5kcm9pZCA0LjEgc3RvY2sgYnJvd3NlclxuICAgICAgICAgICAgICAgIC8vIHdoaWxlIHJldHJpZXZpbmcgZmlsZXMgZnJvbSBhcHBsaWNhdGlvbiBjYWNoZS5cbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9IGJvZHkgPyAyMDAgOiAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VPcHRpb25zID0gbmV3IGJhc2VfcmVzcG9uc2Vfb3B0aW9uc18xLlJlc3BvbnNlT3B0aW9ucyh7IGJvZHk6IGJvZHksIHN0YXR1czogc3RhdHVzLCBoZWFkZXJzOiBoZWFkZXJzLCB1cmw6IHVybCB9KTtcbiAgICAgICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChiYXNlUmVzcG9uc2VPcHRpb25zKSkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZU9wdGlvbnMgPSBiYXNlUmVzcG9uc2VPcHRpb25zLm1lcmdlKHJlc3BvbnNlT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IG5ldyBzdGF0aWNfcmVzcG9uc2VfMS5SZXNwb25zZShyZXNwb25zZU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGlmIChodHRwX3V0aWxzXzEuaXNTdWNjZXNzKHN0YXR1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VPYnNlcnZlci5uZXh0KHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyhnZGkyMjkwKTogZGVmZXIgY29tcGxldGUgaWYgYXJyYXkgYnVmZmVyIHVudGlsIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VPYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3BvbnNlT2JzZXJ2ZXIuZXJyb3IocmVzcG9uc2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIGVycm9yIGV2ZW50IGhhbmRsZXJcbiAgICAgICAgICAgIHZhciBvbkVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZU9wdGlvbnMgPSBuZXcgYmFzZV9yZXNwb25zZV9vcHRpb25zXzEuUmVzcG9uc2VPcHRpb25zKHsgYm9keTogZXJyLCB0eXBlOiBlbnVtc18xLlJlc3BvbnNlVHlwZS5FcnJvciB9KTtcbiAgICAgICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChiYXNlUmVzcG9uc2VPcHRpb25zKSkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZU9wdGlvbnMgPSBiYXNlUmVzcG9uc2VPcHRpb25zLm1lcmdlKHJlc3BvbnNlT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3BvbnNlT2JzZXJ2ZXIuZXJyb3IobmV3IHN0YXRpY19yZXNwb25zZV8xLlJlc3BvbnNlKHJlc3BvbnNlT3B0aW9ucykpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHJlcS5oZWFkZXJzKSkge1xuICAgICAgICAgICAgICAgIHJlcS5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlcywgbmFtZSkgeyByZXR1cm4gX3hoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIHZhbHVlcy5qb2luKCcsJykpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF94aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9uTG9hZCk7XG4gICAgICAgICAgICBfeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvcik7XG4gICAgICAgICAgICBfeGhyLnNlbmQoX3RoaXMucmVxdWVzdC50ZXh0KCkpO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfeGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBvbkxvYWQpO1xuICAgICAgICAgICAgICAgIF94aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICBfeGhyLmFib3J0KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIFhIUkNvbm5lY3Rpb247XG59KCkpO1xuZXhwb3J0cy5YSFJDb25uZWN0aW9uID0gWEhSQ29ubmVjdGlvbjtcbnZhciBYSFJCYWNrZW5kID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBYSFJCYWNrZW5kKF9icm93c2VyWEhSLCBfYmFzZVJlc3BvbnNlT3B0aW9ucykge1xuICAgICAgICB0aGlzLl9icm93c2VyWEhSID0gX2Jyb3dzZXJYSFI7XG4gICAgICAgIHRoaXMuX2Jhc2VSZXNwb25zZU9wdGlvbnMgPSBfYmFzZVJlc3BvbnNlT3B0aW9ucztcbiAgICB9XG4gICAgWEhSQmFja2VuZC5wcm90b3R5cGUuY3JlYXRlQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiBuZXcgWEhSQ29ubmVjdGlvbihyZXF1ZXN0LCB0aGlzLl9icm93c2VyWEhSLCB0aGlzLl9iYXNlUmVzcG9uc2VPcHRpb25zKTtcbiAgICB9O1xuICAgIFhIUkJhY2tlbmQuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuSW5qZWN0YWJsZSB9LFxuICAgIF07XG4gICAgWEhSQmFja2VuZC5jdG9yUGFyYW1ldGVycyA9IFtcbiAgICAgICAgeyB0eXBlOiBicm93c2VyX3hocl8xLkJyb3dzZXJYaHIsIH0sXG4gICAgICAgIHsgdHlwZTogYmFzZV9yZXNwb25zZV9vcHRpb25zXzEuUmVzcG9uc2VPcHRpb25zLCB9LFxuICAgIF07XG4gICAgcmV0dXJuIFhIUkJhY2tlbmQ7XG59KCkpO1xuZXhwb3J0cy5YSFJCYWNrZW5kID0gWEhSQmFja2VuZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXhocl9iYWNrZW5kLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgaGVhZGVyc18xID0gcmVxdWlyZSgnLi9oZWFkZXJzJyk7XG52YXIgZW51bXNfMSA9IHJlcXVpcmUoJy4vZW51bXMnKTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgdXJsX3NlYXJjaF9wYXJhbXNfMSA9IHJlcXVpcmUoJy4vdXJsX3NlYXJjaF9wYXJhbXMnKTtcbnZhciBodHRwX3V0aWxzXzEgPSByZXF1aXJlKCcuL2h0dHBfdXRpbHMnKTtcbi8qKlxuICogQ3JlYXRlcyBhIHJlcXVlc3Qgb3B0aW9ucyBvYmplY3QgdG8gYmUgb3B0aW9uYWxseSBwcm92aWRlZCB3aGVuIGluc3RhbnRpYXRpbmcgYVxuICoge0BsaW5rIFJlcXVlc3R9LlxuICpcbiAqIFRoaXMgY2xhc3MgaXMgYmFzZWQgb24gdGhlIGBSZXF1ZXN0SW5pdGAgZGVzY3JpcHRpb24gaW4gdGhlIFtGZXRjaFxuICogU3BlY10oaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI3JlcXVlc3Rpbml0KS5cbiAqXG4gKiBBbGwgdmFsdWVzIGFyZSBudWxsIGJ5IGRlZmF1bHQuIFR5cGljYWwgZGVmYXVsdHMgY2FuIGJlIGZvdW5kIGluIHRoZSB7QGxpbmsgQmFzZVJlcXVlc3RPcHRpb25zfVxuICogY2xhc3MsIHdoaWNoIHN1Yi1jbGFzc2VzIGBSZXF1ZXN0T3B0aW9uc2AuXG4gKlxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0LzdXdmkzbGZMcTQxYVFQS2x4QjRPP3A9cHJldmlldykpXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHtSZXF1ZXN0T3B0aW9ucywgUmVxdWVzdCwgUmVxdWVzdE1ldGhvZH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG4gKlxuICogdmFyIG9wdGlvbnMgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICogICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAqICAgdXJsOiAnaHR0cHM6Ly9nb29nbGUuY29tJ1xuICogfSk7XG4gKiB2YXIgcmVxID0gbmV3IFJlcXVlc3Qob3B0aW9ucyk7XG4gKiBjb25zb2xlLmxvZygncmVxLm1ldGhvZDonLCBSZXF1ZXN0TWV0aG9kW3JlcS5tZXRob2RdKTsgLy8gUG9zdFxuICogY29uc29sZS5sb2coJ29wdGlvbnMudXJsOicsIG9wdGlvbnMudXJsKTsgLy8gaHR0cHM6Ly9nb29nbGUuY29tXG4gKiBgYGBcbiAqL1xudmFyIFJlcXVlc3RPcHRpb25zID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXF1ZXN0T3B0aW9ucyhfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgbWV0aG9kID0gX2IubWV0aG9kLCBoZWFkZXJzID0gX2IuaGVhZGVycywgYm9keSA9IF9iLmJvZHksIHVybCA9IF9iLnVybCwgc2VhcmNoID0gX2Iuc2VhcmNoO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IGxhbmdfMS5pc1ByZXNlbnQobWV0aG9kKSA/IGh0dHBfdXRpbHNfMS5ub3JtYWxpemVNZXRob2ROYW1lKG1ldGhvZCkgOiBudWxsO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBsYW5nXzEuaXNQcmVzZW50KGhlYWRlcnMpID8gaGVhZGVycyA6IG51bGw7XG4gICAgICAgIHRoaXMuYm9keSA9IGxhbmdfMS5pc1ByZXNlbnQoYm9keSkgPyBib2R5IDogbnVsbDtcbiAgICAgICAgdGhpcy51cmwgPSBsYW5nXzEuaXNQcmVzZW50KHVybCkgPyB1cmwgOiBudWxsO1xuICAgICAgICB0aGlzLnNlYXJjaCA9IGxhbmdfMS5pc1ByZXNlbnQoc2VhcmNoKSA/IChsYW5nXzEuaXNTdHJpbmcoc2VhcmNoKSA/IG5ldyB1cmxfc2VhcmNoX3BhcmFtc18xLlVSTFNlYXJjaFBhcmFtcygoc2VhcmNoKSkgOlxuICAgICAgICAgICAgKHNlYXJjaCkpIDpcbiAgICAgICAgICAgIG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjb3B5IG9mIHRoZSBgUmVxdWVzdE9wdGlvbnNgIGluc3RhbmNlLCB1c2luZyB0aGUgb3B0aW9uYWwgaW5wdXQgYXMgdmFsdWVzIHRvIG92ZXJyaWRlXG4gICAgICogZXhpc3RpbmcgdmFsdWVzLiBUaGlzIG1ldGhvZCB3aWxsIG5vdCBjaGFuZ2UgdGhlIHZhbHVlcyBvZiB0aGUgaW5zdGFuY2Ugb24gd2hpY2ggaXQgaXMgYmVpbmdcbiAgICAgKiBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgYGhlYWRlcnNgIGFuZCBgc2VhcmNoYCB3aWxsIG92ZXJyaWRlIGV4aXN0aW5nIHZhbHVlcyBjb21wbGV0ZWx5IGlmIHByZXNlbnQgaW5cbiAgICAgKiB0aGUgYG9wdGlvbnNgIG9iamVjdC4gSWYgdGhlc2UgdmFsdWVzIHNob3VsZCBiZSBtZXJnZWQsIGl0IHNob3VsZCBiZSBkb25lIHByaW9yIHRvIGNhbGxpbmdcbiAgICAgKiBgbWVyZ2VgIG9uIHRoZSBgUmVxdWVzdE9wdGlvbnNgIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0LzZ3OFhBOFlUa0RSY1BZcGRCOWRrP3A9cHJldmlldykpXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogaW1wb3J0IHtSZXF1ZXN0T3B0aW9ucywgUmVxdWVzdCwgUmVxdWVzdE1ldGhvZH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG4gICAgICpcbiAgICAgKiB2YXIgb3B0aW9ucyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICogICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdFxuICAgICAqIH0pO1xuICAgICAqIHZhciByZXEgPSBuZXcgUmVxdWVzdChvcHRpb25zLm1lcmdlKHtcbiAgICAgKiAgIHVybDogJ2h0dHBzOi8vZ29vZ2xlLmNvbSdcbiAgICAgKiB9KSk7XG4gICAgICogY29uc29sZS5sb2coJ3JlcS5tZXRob2Q6JywgUmVxdWVzdE1ldGhvZFtyZXEubWV0aG9kXSk7IC8vIFBvc3RcbiAgICAgKiBjb25zb2xlLmxvZygnb3B0aW9ucy51cmw6Jywgb3B0aW9ucy51cmwpOyAvLyBudWxsXG4gICAgICogY29uc29sZS5sb2coJ3JlcS51cmw6JywgcmVxLnVybCk7IC8vIGh0dHBzOi8vZ29vZ2xlLmNvbVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIFJlcXVlc3RPcHRpb25zLnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBsYW5nXzEuaXNQcmVzZW50KG9wdGlvbnMpICYmIGxhbmdfMS5pc1ByZXNlbnQob3B0aW9ucy5tZXRob2QpID8gb3B0aW9ucy5tZXRob2QgOiB0aGlzLm1ldGhvZCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGxhbmdfMS5pc1ByZXNlbnQob3B0aW9ucykgJiYgbGFuZ18xLmlzUHJlc2VudChvcHRpb25zLmhlYWRlcnMpID8gb3B0aW9ucy5oZWFkZXJzIDogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogbGFuZ18xLmlzUHJlc2VudChvcHRpb25zKSAmJiBsYW5nXzEuaXNQcmVzZW50KG9wdGlvbnMuYm9keSkgPyBvcHRpb25zLmJvZHkgOiB0aGlzLmJvZHksXG4gICAgICAgICAgICB1cmw6IGxhbmdfMS5pc1ByZXNlbnQob3B0aW9ucykgJiYgbGFuZ18xLmlzUHJlc2VudChvcHRpb25zLnVybCkgPyBvcHRpb25zLnVybCA6IHRoaXMudXJsLFxuICAgICAgICAgICAgc2VhcmNoOiBsYW5nXzEuaXNQcmVzZW50KG9wdGlvbnMpICYmIGxhbmdfMS5pc1ByZXNlbnQob3B0aW9ucy5zZWFyY2gpID9cbiAgICAgICAgICAgICAgICAobGFuZ18xLmlzU3RyaW5nKG9wdGlvbnMuc2VhcmNoKSA/IG5ldyB1cmxfc2VhcmNoX3BhcmFtc18xLlVSTFNlYXJjaFBhcmFtcygob3B0aW9ucy5zZWFyY2gpKSA6XG4gICAgICAgICAgICAgICAgICAgIChvcHRpb25zLnNlYXJjaCkuY2xvbmUoKSkgOlxuICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFJlcXVlc3RPcHRpb25zO1xufSgpKTtcbmV4cG9ydHMuUmVxdWVzdE9wdGlvbnMgPSBSZXF1ZXN0T3B0aW9ucztcbnZhciBCYXNlUmVxdWVzdE9wdGlvbnMgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlUmVxdWVzdE9wdGlvbnMsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmFzZVJlcXVlc3RPcHRpb25zKCkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCB7IG1ldGhvZDogZW51bXNfMS5SZXF1ZXN0TWV0aG9kLkdldCwgaGVhZGVyczogbmV3IGhlYWRlcnNfMS5IZWFkZXJzKCkgfSk7XG4gICAgfVxuICAgIEJhc2VSZXF1ZXN0T3B0aW9ucy5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICBCYXNlUmVxdWVzdE9wdGlvbnMuY3RvclBhcmFtZXRlcnMgPSBbXTtcbiAgICByZXR1cm4gQmFzZVJlcXVlc3RPcHRpb25zO1xufShSZXF1ZXN0T3B0aW9ucykpO1xuZXhwb3J0cy5CYXNlUmVxdWVzdE9wdGlvbnMgPSBCYXNlUmVxdWVzdE9wdGlvbnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlX3JlcXVlc3Rfb3B0aW9ucy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBoZWFkZXJzXzEgPSByZXF1aXJlKCcuL2hlYWRlcnMnKTtcbnZhciBlbnVtc18xID0gcmVxdWlyZSgnLi9lbnVtcycpO1xuLyoqXG4gKiBDcmVhdGVzIGEgcmVzcG9uc2Ugb3B0aW9ucyBvYmplY3QgdG8gYmUgb3B0aW9uYWxseSBwcm92aWRlZCB3aGVuIGluc3RhbnRpYXRpbmcgYVxuICoge0BsaW5rIFJlc3BvbnNlfS5cbiAqXG4gKiBUaGlzIGNsYXNzIGlzIGJhc2VkIG9uIHRoZSBgUmVzcG9uc2VJbml0YCBkZXNjcmlwdGlvbiBpbiB0aGUgW0ZldGNoXG4gKiBTcGVjXShodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jcmVzcG9uc2Vpbml0KS5cbiAqXG4gKiBBbGwgdmFsdWVzIGFyZSBudWxsIGJ5IGRlZmF1bHQuIFR5cGljYWwgZGVmYXVsdHMgY2FuIGJlIGZvdW5kIGluIHRoZVxuICoge0BsaW5rIEJhc2VSZXNwb25zZU9wdGlvbnN9IGNsYXNzLCB3aGljaCBzdWItY2xhc3NlcyBgUmVzcG9uc2VPcHRpb25zYC5cbiAqXG4gKiBUaGlzIGNsYXNzIG1heSBiZSB1c2VkIGluIHRlc3RzIHRvIGJ1aWxkIHtAbGluayBSZXNwb25zZSBSZXNwb25zZXN9IGZvclxuICogbW9jayByZXNwb25zZXMgKHNlZSB7QGxpbmsgTW9ja0JhY2tlbmR9KS5cbiAqXG4gKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvUDlKa2s4ZThjejZOVnpiY3hFc0Q/cD1wcmV2aWV3KSlcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge1Jlc3BvbnNlT3B0aW9ucywgUmVzcG9uc2V9IGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuICpcbiAqIHZhciBvcHRpb25zID0gbmV3IFJlc3BvbnNlT3B0aW9ucyh7XG4gKiAgIGJvZHk6ICd7XCJuYW1lXCI6XCJKZWZmXCJ9J1xuICogfSk7XG4gKiB2YXIgcmVzID0gbmV3IFJlc3BvbnNlKG9wdGlvbnMpO1xuICpcbiAqIGNvbnNvbGUubG9nKCdyZXMuanNvbigpOicsIHJlcy5qc29uKCkpOyAvLyBPYmplY3Qge25hbWU6IFwiSmVmZlwifVxuICogYGBgXG4gKi9cbnZhciBSZXNwb25zZU9wdGlvbnMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc3BvbnNlT3B0aW9ucyhfYSkge1xuICAgICAgICB2YXIgX2IgPSBfYSA9PT0gdm9pZCAwID8ge30gOiBfYSwgYm9keSA9IF9iLmJvZHksIHN0YXR1cyA9IF9iLnN0YXR1cywgaGVhZGVycyA9IF9iLmhlYWRlcnMsIHN0YXR1c1RleHQgPSBfYi5zdGF0dXNUZXh0LCB0eXBlID0gX2IudHlwZSwgdXJsID0gX2IudXJsO1xuICAgICAgICB0aGlzLmJvZHkgPSBsYW5nXzEuaXNQcmVzZW50KGJvZHkpID8gYm9keSA6IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gbGFuZ18xLmlzUHJlc2VudChzdGF0dXMpID8gc3RhdHVzIDogbnVsbDtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gbGFuZ18xLmlzUHJlc2VudChoZWFkZXJzKSA/IGhlYWRlcnMgOiBudWxsO1xuICAgICAgICB0aGlzLnN0YXR1c1RleHQgPSBsYW5nXzEuaXNQcmVzZW50KHN0YXR1c1RleHQpID8gc3RhdHVzVGV4dCA6IG51bGw7XG4gICAgICAgIHRoaXMudHlwZSA9IGxhbmdfMS5pc1ByZXNlbnQodHlwZSkgPyB0eXBlIDogbnVsbDtcbiAgICAgICAgdGhpcy51cmwgPSBsYW5nXzEuaXNQcmVzZW50KHVybCkgPyB1cmwgOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY29weSBvZiB0aGUgYFJlc3BvbnNlT3B0aW9uc2AgaW5zdGFuY2UsIHVzaW5nIHRoZSBvcHRpb25hbCBpbnB1dCBhcyB2YWx1ZXMgdG9cbiAgICAgKiBvdmVycmlkZVxuICAgICAqIGV4aXN0aW5nIHZhbHVlcy4gVGhpcyBtZXRob2Qgd2lsbCBub3QgY2hhbmdlIHRoZSB2YWx1ZXMgb2YgdGhlIGluc3RhbmNlIG9uIHdoaWNoIGl0IGlzIGJlaW5nXG4gICAgICogY2FsbGVkLlxuICAgICAqXG4gICAgICogVGhpcyBtYXkgYmUgdXNlZnVsIHdoZW4gc2hhcmluZyBhIGJhc2UgYFJlc3BvbnNlT3B0aW9uc2Agb2JqZWN0IGluc2lkZSB0ZXN0cyxcbiAgICAgKiB3aGVyZSBjZXJ0YWluIHByb3BlcnRpZXMgbWF5IGNoYW5nZSBmcm9tIHRlc3QgdG8gdGVzdC5cbiAgICAgKlxuICAgICAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC8xbFhxdXFGZmdkdVRGQldqTm9SRT9wPXByZXZpZXcpKVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGltcG9ydCB7UmVzcG9uc2VPcHRpb25zLCBSZXNwb25zZX0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG4gICAgICpcbiAgICAgKiB2YXIgb3B0aW9ucyA9IG5ldyBSZXNwb25zZU9wdGlvbnMoe1xuICAgICAqICAgYm9keToge25hbWU6ICdKZWZmJ31cbiAgICAgKiB9KTtcbiAgICAgKiB2YXIgcmVzID0gbmV3IFJlc3BvbnNlKG9wdGlvbnMubWVyZ2Uoe1xuICAgICAqICAgdXJsOiAnaHR0cHM6Ly9nb29nbGUuY29tJ1xuICAgICAqIH0pKTtcbiAgICAgKiBjb25zb2xlLmxvZygnb3B0aW9ucy51cmw6Jywgb3B0aW9ucy51cmwpOyAvLyBudWxsXG4gICAgICogY29uc29sZS5sb2coJ3Jlcy5qc29uKCk6JywgcmVzLmpzb24oKSk7IC8vIE9iamVjdCB7bmFtZTogXCJKZWZmXCJ9XG4gICAgICogY29uc29sZS5sb2coJ3Jlcy51cmw6JywgcmVzLnVybCk7IC8vIGh0dHBzOi8vZ29vZ2xlLmNvbVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIFJlc3BvbnNlT3B0aW9ucy5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlT3B0aW9ucyh7XG4gICAgICAgICAgICBib2R5OiBsYW5nXzEuaXNQcmVzZW50KG9wdGlvbnMpICYmIGxhbmdfMS5pc1ByZXNlbnQob3B0aW9ucy5ib2R5KSA/IG9wdGlvbnMuYm9keSA6IHRoaXMuYm9keSxcbiAgICAgICAgICAgIHN0YXR1czogbGFuZ18xLmlzUHJlc2VudChvcHRpb25zKSAmJiBsYW5nXzEuaXNQcmVzZW50KG9wdGlvbnMuc3RhdHVzKSA/IG9wdGlvbnMuc3RhdHVzIDogdGhpcy5zdGF0dXMsXG4gICAgICAgICAgICBoZWFkZXJzOiBsYW5nXzEuaXNQcmVzZW50KG9wdGlvbnMpICYmIGxhbmdfMS5pc1ByZXNlbnQob3B0aW9ucy5oZWFkZXJzKSA/IG9wdGlvbnMuaGVhZGVycyA6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHN0YXR1c1RleHQ6IGxhbmdfMS5pc1ByZXNlbnQob3B0aW9ucykgJiYgbGFuZ18xLmlzUHJlc2VudChvcHRpb25zLnN0YXR1c1RleHQpID8gb3B0aW9ucy5zdGF0dXNUZXh0IDpcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQsXG4gICAgICAgICAgICB0eXBlOiBsYW5nXzEuaXNQcmVzZW50KG9wdGlvbnMpICYmIGxhbmdfMS5pc1ByZXNlbnQob3B0aW9ucy50eXBlKSA/IG9wdGlvbnMudHlwZSA6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIHVybDogbGFuZ18xLmlzUHJlc2VudChvcHRpb25zKSAmJiBsYW5nXzEuaXNQcmVzZW50KG9wdGlvbnMudXJsKSA/IG9wdGlvbnMudXJsIDogdGhpcy51cmwsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc3BvbnNlT3B0aW9ucztcbn0oKSk7XG5leHBvcnRzLlJlc3BvbnNlT3B0aW9ucyA9IFJlc3BvbnNlT3B0aW9ucztcbnZhciBCYXNlUmVzcG9uc2VPcHRpb25zID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFzZVJlc3BvbnNlT3B0aW9ucywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCYXNlUmVzcG9uc2VPcHRpb25zKCkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCB7IHN0YXR1czogMjAwLCBzdGF0dXNUZXh0OiAnT2snLCB0eXBlOiBlbnVtc18xLlJlc3BvbnNlVHlwZS5EZWZhdWx0LCBoZWFkZXJzOiBuZXcgaGVhZGVyc18xLkhlYWRlcnMoKSB9KTtcbiAgICB9XG4gICAgQmFzZVJlc3BvbnNlT3B0aW9ucy5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICBCYXNlUmVzcG9uc2VPcHRpb25zLmN0b3JQYXJhbWV0ZXJzID0gW107XG4gICAgcmV0dXJuIEJhc2VSZXNwb25zZU9wdGlvbnM7XG59KFJlc3BvbnNlT3B0aW9ucykpO1xuZXhwb3J0cy5CYXNlUmVzcG9uc2VPcHRpb25zID0gQmFzZVJlc3BvbnNlT3B0aW9ucztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2VfcmVzcG9uc2Vfb3B0aW9ucy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuKiBTdXBwb3J0ZWQgaHR0cCBtZXRob2RzLlxuKi9cbihmdW5jdGlvbiAoUmVxdWVzdE1ldGhvZCkge1xuICAgIFJlcXVlc3RNZXRob2RbUmVxdWVzdE1ldGhvZFtcIkdldFwiXSA9IDBdID0gXCJHZXRcIjtcbiAgICBSZXF1ZXN0TWV0aG9kW1JlcXVlc3RNZXRob2RbXCJQb3N0XCJdID0gMV0gPSBcIlBvc3RcIjtcbiAgICBSZXF1ZXN0TWV0aG9kW1JlcXVlc3RNZXRob2RbXCJQdXRcIl0gPSAyXSA9IFwiUHV0XCI7XG4gICAgUmVxdWVzdE1ldGhvZFtSZXF1ZXN0TWV0aG9kW1wiRGVsZXRlXCJdID0gM10gPSBcIkRlbGV0ZVwiO1xuICAgIFJlcXVlc3RNZXRob2RbUmVxdWVzdE1ldGhvZFtcIk9wdGlvbnNcIl0gPSA0XSA9IFwiT3B0aW9uc1wiO1xuICAgIFJlcXVlc3RNZXRob2RbUmVxdWVzdE1ldGhvZFtcIkhlYWRcIl0gPSA1XSA9IFwiSGVhZFwiO1xuICAgIFJlcXVlc3RNZXRob2RbUmVxdWVzdE1ldGhvZFtcIlBhdGNoXCJdID0gNl0gPSBcIlBhdGNoXCI7XG59KShleHBvcnRzLlJlcXVlc3RNZXRob2QgfHwgKGV4cG9ydHMuUmVxdWVzdE1ldGhvZCA9IHt9KSk7XG52YXIgUmVxdWVzdE1ldGhvZCA9IGV4cG9ydHMuUmVxdWVzdE1ldGhvZDtcbi8qKlxuICogQWxsIHBvc3NpYmxlIHN0YXRlcyBpbiB3aGljaCBhIGNvbm5lY3Rpb24gY2FuIGJlLCBiYXNlZCBvblxuICogW1N0YXRlc10oaHR0cDovL3d3dy53My5vcmcvVFIvWE1MSHR0cFJlcXVlc3QvI3N0YXRlcykgZnJvbSB0aGUgYFhNTEh0dHBSZXF1ZXN0YCBzcGVjLCBidXQgd2l0aCBhblxuICogYWRkaXRpb25hbCBcIkNBTkNFTExFRFwiIHN0YXRlLlxuICovXG4oZnVuY3Rpb24gKFJlYWR5U3RhdGUpIHtcbiAgICBSZWFkeVN0YXRlW1JlYWR5U3RhdGVbXCJVbnNlbnRcIl0gPSAwXSA9IFwiVW5zZW50XCI7XG4gICAgUmVhZHlTdGF0ZVtSZWFkeVN0YXRlW1wiT3BlblwiXSA9IDFdID0gXCJPcGVuXCI7XG4gICAgUmVhZHlTdGF0ZVtSZWFkeVN0YXRlW1wiSGVhZGVyc1JlY2VpdmVkXCJdID0gMl0gPSBcIkhlYWRlcnNSZWNlaXZlZFwiO1xuICAgIFJlYWR5U3RhdGVbUmVhZHlTdGF0ZVtcIkxvYWRpbmdcIl0gPSAzXSA9IFwiTG9hZGluZ1wiO1xuICAgIFJlYWR5U3RhdGVbUmVhZHlTdGF0ZVtcIkRvbmVcIl0gPSA0XSA9IFwiRG9uZVwiO1xuICAgIFJlYWR5U3RhdGVbUmVhZHlTdGF0ZVtcIkNhbmNlbGxlZFwiXSA9IDVdID0gXCJDYW5jZWxsZWRcIjtcbn0pKGV4cG9ydHMuUmVhZHlTdGF0ZSB8fCAoZXhwb3J0cy5SZWFkeVN0YXRlID0ge30pKTtcbnZhciBSZWFkeVN0YXRlID0gZXhwb3J0cy5SZWFkeVN0YXRlO1xuLyoqXG4gKiBBY2NlcHRhYmxlIHJlc3BvbnNlIHR5cGVzIHRvIGJlIGFzc29jaWF0ZWQgd2l0aCBhIHtAbGluayBSZXNwb25zZX0sIGJhc2VkIG9uXG4gKiBbUmVzcG9uc2VUeXBlXShodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jcmVzcG9uc2V0eXBlKSBmcm9tIHRoZSBGZXRjaCBzcGVjLlxuICovXG4oZnVuY3Rpb24gKFJlc3BvbnNlVHlwZSkge1xuICAgIFJlc3BvbnNlVHlwZVtSZXNwb25zZVR5cGVbXCJCYXNpY1wiXSA9IDBdID0gXCJCYXNpY1wiO1xuICAgIFJlc3BvbnNlVHlwZVtSZXNwb25zZVR5cGVbXCJDb3JzXCJdID0gMV0gPSBcIkNvcnNcIjtcbiAgICBSZXNwb25zZVR5cGVbUmVzcG9uc2VUeXBlW1wiRGVmYXVsdFwiXSA9IDJdID0gXCJEZWZhdWx0XCI7XG4gICAgUmVzcG9uc2VUeXBlW1Jlc3BvbnNlVHlwZVtcIkVycm9yXCJdID0gM10gPSBcIkVycm9yXCI7XG4gICAgUmVzcG9uc2VUeXBlW1Jlc3BvbnNlVHlwZVtcIk9wYXF1ZVwiXSA9IDRdID0gXCJPcGFxdWVcIjtcbn0pKGV4cG9ydHMuUmVzcG9uc2VUeXBlIHx8IChleHBvcnRzLlJlc3BvbnNlVHlwZSA9IHt9KSk7XG52YXIgUmVzcG9uc2VUeXBlID0gZXhwb3J0cy5SZXNwb25zZVR5cGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbnVtcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xuLyoqXG4qIEEgYmFzZSBjbGFzcyBmb3IgdGhlIFdyYXBwZWRFeGNlcHRpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBpZGVudGlmeVxuKiBhIFdyYXBwZWRFeGNlcHRpb24gZnJvbSBFeGNlcHRpb25IYW5kbGVyIHdpdGhvdXQgYWRkaW5nIGNpcmN1bGFyXG4qIGRlcGVuZGVuY3kuXG4qL1xudmFyIEJhc2VXcmFwcGVkRXhjZXB0aW9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFzZVdyYXBwZWRFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmFzZVdyYXBwZWRFeGNlcHRpb24obWVzc2FnZSkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJ3cmFwcGVyTWVzc2FnZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gJyc7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwid3JhcHBlclN0YWNrXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZVdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcIm9yaWdpbmFsRXhjZXB0aW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZVdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcIm9yaWdpbmFsU3RhY2tcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwiY29udGV4dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJtZXNzYWdlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiAnJzsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEJhc2VXcmFwcGVkRXhjZXB0aW9uO1xufShFcnJvcikpO1xuZXhwb3J0cy5CYXNlV3JhcHBlZEV4Y2VwdGlvbiA9IEJhc2VXcmFwcGVkRXhjZXB0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZV93cmFwcGVkX2V4Y2VwdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuL2xhbmcnKTtcbmV4cG9ydHMuTWFwID0gbGFuZ18xLmdsb2JhbC5NYXA7XG5leHBvcnRzLlNldCA9IGxhbmdfMS5nbG9iYWwuU2V0O1xuLy8gU2FmYXJpIGFuZCBJbnRlcm5ldCBFeHBsb3JlciBkbyBub3Qgc3VwcG9ydCB0aGUgaXRlcmFibGUgcGFyYW1ldGVyIHRvIHRoZVxuLy8gTWFwIGNvbnN0cnVjdG9yLiAgV2Ugd29yayBhcm91bmQgdGhhdCBieSBtYW51YWxseSBhZGRpbmcgdGhlIGl0ZW1zLlxudmFyIGNyZWF0ZU1hcEZyb21QYWlycyA9IChmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKG5ldyBleHBvcnRzLk1hcChbWzEsIDJdXSkuc2l6ZSA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZU1hcEZyb21QYWlycyhwYWlycykgeyByZXR1cm4gbmV3IGV4cG9ydHMuTWFwKHBhaXJzKTsgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlTWFwQW5kUG9wdWxhdGVGcm9tUGFpcnMocGFpcnMpIHtcbiAgICAgICAgdmFyIG1hcCA9IG5ldyBleHBvcnRzLk1hcCgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2ldO1xuICAgICAgICAgICAgbWFwLnNldChwYWlyWzBdLCBwYWlyWzFdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwO1xuICAgIH07XG59KSgpO1xudmFyIGNyZWF0ZU1hcEZyb21NYXAgPSAoZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChuZXcgZXhwb3J0cy5NYXAobmV3IGV4cG9ydHMuTWFwKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlTWFwRnJvbU1hcChtKSB7IHJldHVybiBuZXcgZXhwb3J0cy5NYXAobSk7IH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZU1hcEFuZFBvcHVsYXRlRnJvbU1hcChtKSB7XG4gICAgICAgIHZhciBtYXAgPSBuZXcgZXhwb3J0cy5NYXAoKTtcbiAgICAgICAgbS5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrKSB7IG1hcC5zZXQoaywgdik7IH0pO1xuICAgICAgICByZXR1cm4gbWFwO1xuICAgIH07XG59KSgpO1xudmFyIF9jbGVhclZhbHVlcyA9IChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKChuZXcgZXhwb3J0cy5NYXAoKSkua2V5cygpLm5leHQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9jbGVhclZhbHVlcyhtKSB7XG4gICAgICAgICAgICB2YXIga2V5SXRlcmF0b3IgPSBtLmtleXMoKTtcbiAgICAgICAgICAgIHZhciBrO1xuICAgICAgICAgICAgd2hpbGUgKCEoKGsgPSBrZXlJdGVyYXRvci5uZXh0KCkpLmRvbmUpKSB7XG4gICAgICAgICAgICAgICAgbS5zZXQoay52YWx1ZSwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX2NsZWFyVmFsdWVzV2l0aEZvcmVFYWNoKG0pIHtcbiAgICAgICAgICAgIG0uZm9yRWFjaChmdW5jdGlvbiAodiwgaykgeyBtLnNldChrLCBudWxsKTsgfSk7XG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcbi8vIFNhZmFyaSBkb2Vzbid0IGltcGxlbWVudCBNYXBJdGVyYXRvci5uZXh0KCksIHdoaWNoIGlzIHVzZWQgaXMgVHJhY2V1cidzIHBvbHlmaWxsIG9mIEFycmF5LmZyb21cbi8vIFRPRE8obWxhdmFsKTogcmVtb3ZlIHRoZSB3b3JrIGFyb3VuZCBvbmNlIHdlIGhhdmUgYSB3b3JraW5nIHBvbHlmaWxsIG9mIEFycmF5LmZyb21cbnZhciBfYXJyYXlGcm9tTWFwID0gKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAoKG5ldyBleHBvcnRzLk1hcCgpKS52YWx1ZXMoKS5uZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlQXJyYXlGcm9tTWFwKG0sIGdldFZhbHVlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRWYWx1ZXMgPyBBcnJheS5mcm9tKG0udmFsdWVzKCkpIDogQXJyYXkuZnJvbShtLmtleXMoKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVBcnJheUZyb21NYXBXaXRoRm9yZWFjaChtLCBnZXRWYWx1ZXMpIHtcbiAgICAgICAgdmFyIHJlcyA9IExpc3RXcmFwcGVyLmNyZWF0ZUZpeGVkU2l6ZShtLnNpemUpLCBpID0gMDtcbiAgICAgICAgbS5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgICAgICAgICByZXNbaV0gPSBnZXRWYWx1ZXMgPyB2IDogaztcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbn0pKCk7XG52YXIgTWFwV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWFwV3JhcHBlcigpIHtcbiAgICB9XG4gICAgTWFwV3JhcHBlci5jbG9uZSA9IGZ1bmN0aW9uIChtKSB7IHJldHVybiBjcmVhdGVNYXBGcm9tTWFwKG0pOyB9O1xuICAgIE1hcFdyYXBwZXIuY3JlYXRlRnJvbVN0cmluZ01hcCA9IGZ1bmN0aW9uIChzdHJpbmdNYXApIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBleHBvcnRzLk1hcCgpO1xuICAgICAgICBmb3IgKHZhciBwcm9wIGluIHN0cmluZ01hcCkge1xuICAgICAgICAgICAgcmVzdWx0LnNldChwcm9wLCBzdHJpbmdNYXBbcHJvcF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBNYXBXcmFwcGVyLnRvU3RyaW5nTWFwID0gZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgdmFyIHIgPSB7fTtcbiAgICAgICAgbS5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiByW2tdID0gdjsgfSk7XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgTWFwV3JhcHBlci5jcmVhdGVGcm9tUGFpcnMgPSBmdW5jdGlvbiAocGFpcnMpIHsgcmV0dXJuIGNyZWF0ZU1hcEZyb21QYWlycyhwYWlycyk7IH07XG4gICAgTWFwV3JhcHBlci5jbGVhclZhbHVlcyA9IGZ1bmN0aW9uIChtKSB7IF9jbGVhclZhbHVlcyhtKTsgfTtcbiAgICBNYXBXcmFwcGVyLml0ZXJhYmxlID0gZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG07IH07XG4gICAgTWFwV3JhcHBlci5rZXlzID0gZnVuY3Rpb24gKG0pIHsgcmV0dXJuIF9hcnJheUZyb21NYXAobSwgZmFsc2UpOyB9O1xuICAgIE1hcFdyYXBwZXIudmFsdWVzID0gZnVuY3Rpb24gKG0pIHsgcmV0dXJuIF9hcnJheUZyb21NYXAobSwgdHJ1ZSk7IH07XG4gICAgcmV0dXJuIE1hcFdyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5NYXBXcmFwcGVyID0gTWFwV3JhcHBlcjtcbi8qKlxuICogV3JhcHMgSmF2YXNjcmlwdCBPYmplY3RzXG4gKi9cbnZhciBTdHJpbmdNYXBXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdHJpbmdNYXBXcmFwcGVyKCkge1xuICAgIH1cbiAgICBTdHJpbmdNYXBXcmFwcGVyLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gTm90ZTogV2UgYXJlIG5vdCB1c2luZyBPYmplY3QuY3JlYXRlKG51bGwpIGhlcmUgZHVlIHRvXG4gICAgICAgIC8vIHBlcmZvcm1hbmNlIVxuICAgICAgICAvLyBodHRwOi8vanNwZXJmLmNvbS9uZzItb2JqZWN0LWNyZWF0ZS1udWxsXG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9O1xuICAgIFN0cmluZ01hcFdyYXBwZXIuY29udGFpbnMgPSBmdW5jdGlvbiAobWFwLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIG1hcC5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgIH07XG4gICAgU3RyaW5nTWFwV3JhcHBlci5nZXQgPSBmdW5jdGlvbiAobWFwLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIG1hcC5oYXNPd25Qcm9wZXJ0eShrZXkpID8gbWFwW2tleV0gOiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLnNldCA9IGZ1bmN0aW9uIChtYXAsIGtleSwgdmFsdWUpIHsgbWFwW2tleV0gPSB2YWx1ZTsgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLmtleXMgPSBmdW5jdGlvbiAobWFwKSB7IHJldHVybiBPYmplY3Qua2V5cyhtYXApOyB9O1xuICAgIFN0cmluZ01hcFdyYXBwZXIudmFsdWVzID0gZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMobWFwKS5yZWR1Y2UoZnVuY3Rpb24gKHIsIGEpIHtcbiAgICAgICAgICAgIHIucHVzaChtYXBbYV0pO1xuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgIH0sIFtdKTtcbiAgICB9O1xuICAgIFN0cmluZ01hcFdyYXBwZXIuaXNFbXB0eSA9IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBtYXApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFN0cmluZ01hcFdyYXBwZXIuZGVsZXRlID0gZnVuY3Rpb24gKG1hcCwga2V5KSB7IGRlbGV0ZSBtYXBba2V5XTsgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLmZvckVhY2ggPSBmdW5jdGlvbiAobWFwLCBjYWxsYmFjaykge1xuICAgICAgICBmb3IgKHZhciBwcm9wIGluIG1hcCkge1xuICAgICAgICAgICAgaWYgKG1hcC5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG1hcFtwcm9wXSwgcHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0cmluZ01hcFdyYXBwZXIubWVyZ2UgPSBmdW5jdGlvbiAobTEsIG0yKSB7XG4gICAgICAgIHZhciBtID0ge307XG4gICAgICAgIGZvciAodmFyIGF0dHIgaW4gbTEpIHtcbiAgICAgICAgICAgIGlmIChtMS5oYXNPd25Qcm9wZXJ0eShhdHRyKSkge1xuICAgICAgICAgICAgICAgIG1bYXR0cl0gPSBtMVthdHRyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBhdHRyIGluIG0yKSB7XG4gICAgICAgICAgICBpZiAobTIuaGFzT3duUHJvcGVydHkoYXR0cikpIHtcbiAgICAgICAgICAgICAgICBtW2F0dHJdID0gbTJbYXR0cl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG07XG4gICAgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLmVxdWFscyA9IGZ1bmN0aW9uIChtMSwgbTIpIHtcbiAgICAgICAgdmFyIGsxID0gT2JqZWN0LmtleXMobTEpO1xuICAgICAgICB2YXIgazIgPSBPYmplY3Qua2V5cyhtMik7XG4gICAgICAgIGlmIChrMS5sZW5ndGggIT0gazIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrMS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAga2V5ID0gazFbaV07XG4gICAgICAgICAgICBpZiAobTFba2V5XSAhPT0gbTJba2V5XSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBTdHJpbmdNYXBXcmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuU3RyaW5nTWFwV3JhcHBlciA9IFN0cmluZ01hcFdyYXBwZXI7XG52YXIgTGlzdFdyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExpc3RXcmFwcGVyKCkge1xuICAgIH1cbiAgICAvLyBKUyBoYXMgbm8gd2F5IHRvIGV4cHJlc3MgYSBzdGF0aWNhbGx5IGZpeGVkIHNpemUgbGlzdCwgYnV0IGRhcnQgZG9lcyBzbyB3ZVxuICAgIC8vIGtlZXAgYm90aCBtZXRob2RzLlxuICAgIExpc3RXcmFwcGVyLmNyZWF0ZUZpeGVkU2l6ZSA9IGZ1bmN0aW9uIChzaXplKSB7IHJldHVybiBuZXcgQXJyYXkoc2l6ZSk7IH07XG4gICAgTGlzdFdyYXBwZXIuY3JlYXRlR3Jvd2FibGVTaXplID0gZnVuY3Rpb24gKHNpemUpIHsgcmV0dXJuIG5ldyBBcnJheShzaXplKTsgfTtcbiAgICBMaXN0V3JhcHBlci5jbG9uZSA9IGZ1bmN0aW9uIChhcnJheSkgeyByZXR1cm4gYXJyYXkuc2xpY2UoMCk7IH07XG4gICAgTGlzdFdyYXBwZXIuZm9yRWFjaFdpdGhJbmRleCA9IGZ1bmN0aW9uIChhcnJheSwgZm4pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm4oYXJyYXlbaV0sIGkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5maXJzdCA9IGZ1bmN0aW9uIChhcnJheSkge1xuICAgICAgICBpZiAoIWFycmF5KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBhcnJheVswXTtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLmxhc3QgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgaWYgKCFhcnJheSB8fCBhcnJheS5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV07XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5pbmRleE9mID0gZnVuY3Rpb24gKGFycmF5LCB2YWx1ZSwgc3RhcnRJbmRleCkge1xuICAgICAgICBpZiAoc3RhcnRJbmRleCA9PT0gdm9pZCAwKSB7IHN0YXJ0SW5kZXggPSAwOyB9XG4gICAgICAgIHJldHVybiBhcnJheS5pbmRleE9mKHZhbHVlLCBzdGFydEluZGV4KTtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLmNvbnRhaW5zID0gZnVuY3Rpb24gKGxpc3QsIGVsKSB7IHJldHVybiBsaXN0LmluZGV4T2YoZWwpICE9PSAtMTsgfTtcbiAgICBMaXN0V3JhcHBlci5yZXZlcnNlZCA9IGZ1bmN0aW9uIChhcnJheSkge1xuICAgICAgICB2YXIgYSA9IExpc3RXcmFwcGVyLmNsb25lKGFycmF5KTtcbiAgICAgICAgcmV0dXJuIGEucmV2ZXJzZSgpO1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuY29uY2F0ID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuY29uY2F0KGIpOyB9O1xuICAgIExpc3RXcmFwcGVyLmluc2VydCA9IGZ1bmN0aW9uIChsaXN0LCBpbmRleCwgdmFsdWUpIHsgbGlzdC5zcGxpY2UoaW5kZXgsIDAsIHZhbHVlKTsgfTtcbiAgICBMaXN0V3JhcHBlci5yZW1vdmVBdCA9IGZ1bmN0aW9uIChsaXN0LCBpbmRleCkge1xuICAgICAgICB2YXIgcmVzID0gbGlzdFtpbmRleF07XG4gICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLnJlbW92ZUFsbCA9IGZ1bmN0aW9uIChsaXN0LCBpdGVtcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBsaXN0LmluZGV4T2YoaXRlbXNbaV0pO1xuICAgICAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5yZW1vdmUgPSBmdW5jdGlvbiAobGlzdCwgZWwpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gbGlzdC5pbmRleE9mKGVsKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLmNsZWFyID0gZnVuY3Rpb24gKGxpc3QpIHsgbGlzdC5sZW5ndGggPSAwOyB9O1xuICAgIExpc3RXcmFwcGVyLmlzRW1wdHkgPSBmdW5jdGlvbiAobGlzdCkgeyByZXR1cm4gbGlzdC5sZW5ndGggPT0gMDsgfTtcbiAgICBMaXN0V3JhcHBlci5maWxsID0gZnVuY3Rpb24gKGxpc3QsIHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgICAgIGlmIChzdGFydCA9PT0gdm9pZCAwKSB7IHN0YXJ0ID0gMDsgfVxuICAgICAgICBpZiAoZW5kID09PSB2b2lkIDApIHsgZW5kID0gbnVsbDsgfVxuICAgICAgICBsaXN0LmZpbGwodmFsdWUsIHN0YXJ0LCBlbmQgPT09IG51bGwgPyBsaXN0Lmxlbmd0aCA6IGVuZCk7XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5lcXVhbHMgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKGFbaV0gIT09IGJbaV0pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuc2xpY2UgPSBmdW5jdGlvbiAobCwgZnJvbSwgdG8pIHtcbiAgICAgICAgaWYgKGZyb20gPT09IHZvaWQgMCkgeyBmcm9tID0gMDsgfVxuICAgICAgICBpZiAodG8gPT09IHZvaWQgMCkgeyB0byA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIGwuc2xpY2UoZnJvbSwgdG8gPT09IG51bGwgPyB1bmRlZmluZWQgOiB0byk7XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5zcGxpY2UgPSBmdW5jdGlvbiAobCwgZnJvbSwgbGVuZ3RoKSB7IHJldHVybiBsLnNwbGljZShmcm9tLCBsZW5ndGgpOyB9O1xuICAgIExpc3RXcmFwcGVyLnNvcnQgPSBmdW5jdGlvbiAobCwgY29tcGFyZUZuKSB7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGNvbXBhcmVGbikpIHtcbiAgICAgICAgICAgIGwuc29ydChjb21wYXJlRm4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbC5zb3J0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLnRvU3RyaW5nID0gZnVuY3Rpb24gKGwpIHsgcmV0dXJuIGwudG9TdHJpbmcoKTsgfTtcbiAgICBMaXN0V3JhcHBlci50b0pTT04gPSBmdW5jdGlvbiAobCkgeyByZXR1cm4gSlNPTi5zdHJpbmdpZnkobCk7IH07XG4gICAgTGlzdFdyYXBwZXIubWF4aW11bSA9IGZ1bmN0aW9uIChsaXN0LCBwcmVkaWNhdGUpIHtcbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzb2x1dGlvbiA9IG51bGw7XG4gICAgICAgIHZhciBtYXhWYWx1ZSA9IC1JbmZpbml0eTtcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICB2YXIgY2FuZGlkYXRlID0gbGlzdFtpbmRleF07XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsoY2FuZGlkYXRlKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZVZhbHVlID0gcHJlZGljYXRlKGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICBpZiAoY2FuZGlkYXRlVmFsdWUgPiBtYXhWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHNvbHV0aW9uID0gY2FuZGlkYXRlO1xuICAgICAgICAgICAgICAgIG1heFZhbHVlID0gY2FuZGlkYXRlVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvbHV0aW9uO1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuZmxhdHRlbiA9IGZ1bmN0aW9uIChsaXN0KSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSBbXTtcbiAgICAgICAgX2ZsYXR0ZW5BcnJheShsaXN0LCB0YXJnZXQpO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuYWRkQWxsID0gZnVuY3Rpb24gKGxpc3QsIHNvdXJjZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGlzdC5wdXNoKHNvdXJjZVtpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBMaXN0V3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLkxpc3RXcmFwcGVyID0gTGlzdFdyYXBwZXI7XG5mdW5jdGlvbiBfZmxhdHRlbkFycmF5KHNvdXJjZSwgdGFyZ2V0KSB7XG4gICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoc291cmNlKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBzb3VyY2VbaV07XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzQXJyYXkoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICBfZmxhdHRlbkFycmF5KGl0ZW0sIHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gaXNMaXN0TGlrZUl0ZXJhYmxlKG9iaikge1xuICAgIGlmICghbGFuZ18xLmlzSnNPYmplY3Qob2JqKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBsYW5nXzEuaXNBcnJheShvYmopIHx8XG4gICAgICAgICghKG9iaiBpbnN0YW5jZW9mIGV4cG9ydHMuTWFwKSAmJlxuICAgICAgICAgICAgbGFuZ18xLmdldFN5bWJvbEl0ZXJhdG9yKCkgaW4gb2JqKTsgLy8gSlMgSXRlcmFibGUgaGF2ZSBhIFN5bWJvbC5pdGVyYXRvciBwcm9wXG59XG5leHBvcnRzLmlzTGlzdExpa2VJdGVyYWJsZSA9IGlzTGlzdExpa2VJdGVyYWJsZTtcbmZ1bmN0aW9uIGFyZUl0ZXJhYmxlc0VxdWFsKGEsIGIsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaXRlcmF0b3IxID0gYVtsYW5nXzEuZ2V0U3ltYm9sSXRlcmF0b3IoKV0oKTtcbiAgICB2YXIgaXRlcmF0b3IyID0gYltsYW5nXzEuZ2V0U3ltYm9sSXRlcmF0b3IoKV0oKTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgaXRlbTEgPSBpdGVyYXRvcjEubmV4dCgpO1xuICAgICAgICB2YXIgaXRlbTIgPSBpdGVyYXRvcjIubmV4dCgpO1xuICAgICAgICBpZiAoaXRlbTEuZG9uZSAmJiBpdGVtMi5kb25lKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChpdGVtMS5kb25lIHx8IGl0ZW0yLmRvbmUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghY29tcGFyYXRvcihpdGVtMS52YWx1ZSwgaXRlbTIudmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydHMuYXJlSXRlcmFibGVzRXF1YWwgPSBhcmVJdGVyYWJsZXNFcXVhbDtcbmZ1bmN0aW9uIGl0ZXJhdGVMaXN0TGlrZShvYmosIGZuKSB7XG4gICAgaWYgKGxhbmdfMS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZuKG9ialtpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBpdGVyYXRvciA9IG9ialtsYW5nXzEuZ2V0U3ltYm9sSXRlcmF0b3IoKV0oKTtcbiAgICAgICAgdmFyIGl0ZW07XG4gICAgICAgIHdoaWxlICghKChpdGVtID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSkge1xuICAgICAgICAgICAgZm4oaXRlbS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLml0ZXJhdGVMaXN0TGlrZSA9IGl0ZXJhdGVMaXN0TGlrZTtcbi8vIFNhZmFyaSBhbmQgSW50ZXJuZXQgRXhwbG9yZXIgZG8gbm90IHN1cHBvcnQgdGhlIGl0ZXJhYmxlIHBhcmFtZXRlciB0byB0aGVcbi8vIFNldCBjb25zdHJ1Y3Rvci4gIFdlIHdvcmsgYXJvdW5kIHRoYXQgYnkgbWFudWFsbHkgYWRkaW5nIHRoZSBpdGVtcy5cbnZhciBjcmVhdGVTZXRGcm9tTGlzdCA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRlc3QgPSBuZXcgZXhwb3J0cy5TZXQoWzEsIDIsIDNdKTtcbiAgICBpZiAodGVzdC5zaXplID09PSAzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVTZXRGcm9tTGlzdChsc3QpIHsgcmV0dXJuIG5ldyBleHBvcnRzLlNldChsc3QpOyB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZVNldEFuZFBvcHVsYXRlRnJvbUxpc3QobHN0KSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gbmV3IGV4cG9ydHMuU2V0KGxzdCk7XG4gICAgICAgICAgICBpZiAocmVzLnNpemUgIT09IGxzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICByZXMuYWRkKGxzdFtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfTtcbiAgICB9XG59KSgpO1xudmFyIFNldFdyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNldFdyYXBwZXIoKSB7XG4gICAgfVxuICAgIFNldFdyYXBwZXIuY3JlYXRlRnJvbUxpc3QgPSBmdW5jdGlvbiAobHN0KSB7IHJldHVybiBjcmVhdGVTZXRGcm9tTGlzdChsc3QpOyB9O1xuICAgIFNldFdyYXBwZXIuaGFzID0gZnVuY3Rpb24gKHMsIGtleSkgeyByZXR1cm4gcy5oYXMoa2V5KTsgfTtcbiAgICBTZXRXcmFwcGVyLmRlbGV0ZSA9IGZ1bmN0aW9uIChtLCBrKSB7IG0uZGVsZXRlKGspOyB9O1xuICAgIHJldHVybiBTZXRXcmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuU2V0V3JhcHBlciA9IFNldFdyYXBwZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xsZWN0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4vbGFuZycpO1xudmFyIGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMSA9IHJlcXVpcmUoJy4vYmFzZV93cmFwcGVkX2V4Y2VwdGlvbicpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4vY29sbGVjdGlvbicpO1xudmFyIF9BcnJheUxvZ2dlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gX0FycmF5TG9nZ2VyKCkge1xuICAgICAgICB0aGlzLnJlcyA9IFtdO1xuICAgIH1cbiAgICBfQXJyYXlMb2dnZXIucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uIChzKSB7IHRoaXMucmVzLnB1c2gocyk7IH07XG4gICAgX0FycmF5TG9nZ2VyLnByb3RvdHlwZS5sb2dFcnJvciA9IGZ1bmN0aW9uIChzKSB7IHRoaXMucmVzLnB1c2gocyk7IH07XG4gICAgX0FycmF5TG9nZ2VyLnByb3RvdHlwZS5sb2dHcm91cCA9IGZ1bmN0aW9uIChzKSB7IHRoaXMucmVzLnB1c2gocyk7IH07XG4gICAgX0FycmF5TG9nZ2VyLnByb3RvdHlwZS5sb2dHcm91cEVuZCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICA7XG4gICAgcmV0dXJuIF9BcnJheUxvZ2dlcjtcbn0oKSk7XG4vKipcbiAqIFByb3ZpZGVzIGEgaG9vayBmb3IgY2VudHJhbGl6ZWQgZXhjZXB0aW9uIGhhbmRsaW5nLlxuICpcbiAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIGBFeGNlcHRpb25IYW5kbGVyYCBwcmludHMgZXJyb3IgbWVzc2FnZXMgdG8gdGhlIGBDb25zb2xlYC4gVG9cbiAqIGludGVyY2VwdCBlcnJvciBoYW5kbGluZyxcbiAqIHdyaXRlIGEgY3VzdG9tIGV4Y2VwdGlvbiBoYW5kbGVyIHRoYXQgcmVwbGFjZXMgdGhpcyBkZWZhdWx0IGFzIGFwcHJvcHJpYXRlIGZvciB5b3VyIGFwcC5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqXG4gKiBjbGFzcyBNeUV4Y2VwdGlvbkhhbmRsZXIgaW1wbGVtZW50cyBFeGNlcHRpb25IYW5kbGVyIHtcbiAqICAgY2FsbChlcnJvciwgc3RhY2tUcmFjZSA9IG51bGwsIHJlYXNvbiA9IG51bGwpIHtcbiAqICAgICAvLyBkbyBzb21ldGhpbmcgd2l0aCB0aGUgZXhjZXB0aW9uXG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBib290c3RyYXAoTXlBcHAsIFtwcm92aWRlKEV4Y2VwdGlvbkhhbmRsZXIsIHt1c2VDbGFzczogTXlFeGNlcHRpb25IYW5kbGVyfSldKVxuICpcbiAqIGBgYFxuICovXG52YXIgRXhjZXB0aW9uSGFuZGxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXhjZXB0aW9uSGFuZGxlcihfbG9nZ2VyLCBfcmV0aHJvd0V4Y2VwdGlvbikge1xuICAgICAgICBpZiAoX3JldGhyb3dFeGNlcHRpb24gPT09IHZvaWQgMCkgeyBfcmV0aHJvd0V4Y2VwdGlvbiA9IHRydWU7IH1cbiAgICAgICAgdGhpcy5fbG9nZ2VyID0gX2xvZ2dlcjtcbiAgICAgICAgdGhpcy5fcmV0aHJvd0V4Y2VwdGlvbiA9IF9yZXRocm93RXhjZXB0aW9uO1xuICAgIH1cbiAgICBFeGNlcHRpb25IYW5kbGVyLmV4Y2VwdGlvblRvU3RyaW5nID0gZnVuY3Rpb24gKGV4Y2VwdGlvbiwgc3RhY2tUcmFjZSwgcmVhc29uKSB7XG4gICAgICAgIGlmIChzdGFja1RyYWNlID09PSB2b2lkIDApIHsgc3RhY2tUcmFjZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKHJlYXNvbiA9PT0gdm9pZCAwKSB7IHJlYXNvbiA9IG51bGw7IH1cbiAgICAgICAgdmFyIGwgPSBuZXcgX0FycmF5TG9nZ2VyKCk7XG4gICAgICAgIHZhciBlID0gbmV3IEV4Y2VwdGlvbkhhbmRsZXIobCwgZmFsc2UpO1xuICAgICAgICBlLmNhbGwoZXhjZXB0aW9uLCBzdGFja1RyYWNlLCByZWFzb24pO1xuICAgICAgICByZXR1cm4gbC5yZXMuam9pbihcIlxcblwiKTtcbiAgICB9O1xuICAgIEV4Y2VwdGlvbkhhbmRsZXIucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoZXhjZXB0aW9uLCBzdGFja1RyYWNlLCByZWFzb24pIHtcbiAgICAgICAgaWYgKHN0YWNrVHJhY2UgPT09IHZvaWQgMCkgeyBzdGFja1RyYWNlID0gbnVsbDsgfVxuICAgICAgICBpZiAocmVhc29uID09PSB2b2lkIDApIHsgcmVhc29uID0gbnVsbDsgfVxuICAgICAgICB2YXIgb3JpZ2luYWxFeGNlcHRpb24gPSB0aGlzLl9maW5kT3JpZ2luYWxFeGNlcHRpb24oZXhjZXB0aW9uKTtcbiAgICAgICAgdmFyIG9yaWdpbmFsU3RhY2sgPSB0aGlzLl9maW5kT3JpZ2luYWxTdGFjayhleGNlcHRpb24pO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuX2ZpbmRDb250ZXh0KGV4Y2VwdGlvbik7XG4gICAgICAgIHRoaXMuX2xvZ2dlci5sb2dHcm91cChcIkVYQ0VQVElPTjogXCIgKyB0aGlzLl9leHRyYWN0TWVzc2FnZShleGNlcHRpb24pKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoc3RhY2tUcmFjZSkgJiYgbGFuZ18xLmlzQmxhbmsob3JpZ2luYWxTdGFjaykpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2dFcnJvcihcIlNUQUNLVFJBQ0U6XCIpO1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZ0Vycm9yKHRoaXMuX2xvbmdTdGFja1RyYWNlKHN0YWNrVHJhY2UpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChyZWFzb24pKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nRXJyb3IoXCJSRUFTT046IFwiICsgcmVhc29uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChvcmlnaW5hbEV4Y2VwdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2dFcnJvcihcIk9SSUdJTkFMIEVYQ0VQVElPTjogXCIgKyB0aGlzLl9leHRyYWN0TWVzc2FnZShvcmlnaW5hbEV4Y2VwdGlvbikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KG9yaWdpbmFsU3RhY2spKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nRXJyb3IoXCJPUklHSU5BTCBTVEFDS1RSQUNFOlwiKTtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2dFcnJvcih0aGlzLl9sb25nU3RhY2tUcmFjZShvcmlnaW5hbFN0YWNrKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoY29udGV4dCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2dFcnJvcihcIkVSUk9SIENPTlRFWFQ6XCIpO1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZ0Vycm9yKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xvZ2dlci5sb2dHcm91cEVuZCgpO1xuICAgICAgICAvLyBXZSByZXRocm93IGV4Y2VwdGlvbnMsIHNvIG9wZXJhdGlvbnMgbGlrZSAnYm9vdHN0cmFwJyB3aWxsIHJlc3VsdCBpbiBhbiBlcnJvclxuICAgICAgICAvLyB3aGVuIGFuIGV4Y2VwdGlvbiBoYXBwZW5zLiBJZiB3ZSBkbyBub3QgcmV0aHJvdywgYm9vdHN0cmFwIHdpbGwgYWx3YXlzIHN1Y2NlZWQuXG4gICAgICAgIGlmICh0aGlzLl9yZXRocm93RXhjZXB0aW9uKVxuICAgICAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIEV4Y2VwdGlvbkhhbmRsZXIucHJvdG90eXBlLl9leHRyYWN0TWVzc2FnZSA9IGZ1bmN0aW9uIChleGNlcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIGV4Y2VwdGlvbiBpbnN0YW5jZW9mIGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMS5CYXNlV3JhcHBlZEV4Y2VwdGlvbiA/IGV4Y2VwdGlvbi53cmFwcGVyTWVzc2FnZSA6XG4gICAgICAgICAgICBleGNlcHRpb24udG9TdHJpbmcoKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBFeGNlcHRpb25IYW5kbGVyLnByb3RvdHlwZS5fbG9uZ1N0YWNrVHJhY2UgPSBmdW5jdGlvbiAoc3RhY2tUcmFjZSkge1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbl8xLmlzTGlzdExpa2VJdGVyYWJsZShzdGFja1RyYWNlKSA/IHN0YWNrVHJhY2Uuam9pbihcIlxcblxcbi0tLS0tYXN5bmMgZ2FwLS0tLS1cXG5cIikgOlxuICAgICAgICAgICAgc3RhY2tUcmFjZS50b1N0cmluZygpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIEV4Y2VwdGlvbkhhbmRsZXIucHJvdG90eXBlLl9maW5kQ29udGV4dCA9IGZ1bmN0aW9uIChleGNlcHRpb24pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghKGV4Y2VwdGlvbiBpbnN0YW5jZW9mIGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMS5CYXNlV3JhcHBlZEV4Y2VwdGlvbikpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByZXR1cm4gbGFuZ18xLmlzUHJlc2VudChleGNlcHRpb24uY29udGV4dCkgPyBleGNlcHRpb24uY29udGV4dCA6XG4gICAgICAgICAgICAgICAgdGhpcy5fZmluZENvbnRleHQoZXhjZXB0aW9uLm9yaWdpbmFsRXhjZXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gZXhjZXB0aW9uLmNvbnRleHQgY2FuIHRocm93IGFuIGV4Y2VwdGlvbi4gaWYgaXQgaGFwcGVucywgd2UgaWdub3JlIHRoZSBjb250ZXh0LlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBFeGNlcHRpb25IYW5kbGVyLnByb3RvdHlwZS5fZmluZE9yaWdpbmFsRXhjZXB0aW9uID0gZnVuY3Rpb24gKGV4Y2VwdGlvbikge1xuICAgICAgICBpZiAoIShleGNlcHRpb24gaW5zdGFuY2VvZiBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEuQmFzZVdyYXBwZWRFeGNlcHRpb24pKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBlID0gZXhjZXB0aW9uLm9yaWdpbmFsRXhjZXB0aW9uO1xuICAgICAgICB3aGlsZSAoZSBpbnN0YW5jZW9mIGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMS5CYXNlV3JhcHBlZEV4Y2VwdGlvbiAmJiBsYW5nXzEuaXNQcmVzZW50KGUub3JpZ2luYWxFeGNlcHRpb24pKSB7XG4gICAgICAgICAgICBlID0gZS5vcmlnaW5hbEV4Y2VwdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBFeGNlcHRpb25IYW5kbGVyLnByb3RvdHlwZS5fZmluZE9yaWdpbmFsU3RhY2sgPSBmdW5jdGlvbiAoZXhjZXB0aW9uKSB7XG4gICAgICAgIGlmICghKGV4Y2VwdGlvbiBpbnN0YW5jZW9mIGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMS5CYXNlV3JhcHBlZEV4Y2VwdGlvbikpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgdmFyIGUgPSBleGNlcHRpb247XG4gICAgICAgIHZhciBzdGFjayA9IGV4Y2VwdGlvbi5vcmlnaW5hbFN0YWNrO1xuICAgICAgICB3aGlsZSAoZSBpbnN0YW5jZW9mIGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMS5CYXNlV3JhcHBlZEV4Y2VwdGlvbiAmJiBsYW5nXzEuaXNQcmVzZW50KGUub3JpZ2luYWxFeGNlcHRpb24pKSB7XG4gICAgICAgICAgICBlID0gZS5vcmlnaW5hbEV4Y2VwdGlvbjtcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgYmFzZV93cmFwcGVkX2V4Y2VwdGlvbl8xLkJhc2VXcmFwcGVkRXhjZXB0aW9uICYmIGxhbmdfMS5pc1ByZXNlbnQoZS5vcmlnaW5hbEV4Y2VwdGlvbikpIHtcbiAgICAgICAgICAgICAgICBzdGFjayA9IGUub3JpZ2luYWxTdGFjaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhY2s7XG4gICAgfTtcbiAgICByZXR1cm4gRXhjZXB0aW9uSGFuZGxlcjtcbn0oKSk7XG5leHBvcnRzLkV4Y2VwdGlvbkhhbmRsZXIgPSBFeGNlcHRpb25IYW5kbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhjZXB0aW9uX2hhbmRsZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEgPSByZXF1aXJlKCcuL2Jhc2Vfd3JhcHBlZF9leGNlcHRpb24nKTtcbnZhciBleGNlcHRpb25faGFuZGxlcl8xID0gcmVxdWlyZSgnLi9leGNlcHRpb25faGFuZGxlcicpO1xudmFyIGV4Y2VwdGlvbl9oYW5kbGVyXzIgPSByZXF1aXJlKCcuL2V4Y2VwdGlvbl9oYW5kbGVyJyk7XG5leHBvcnRzLkV4Y2VwdGlvbkhhbmRsZXIgPSBleGNlcHRpb25faGFuZGxlcl8yLkV4Y2VwdGlvbkhhbmRsZXI7XG52YXIgQmFzZUV4Y2VwdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmFzZUV4Y2VwdGlvbihtZXNzYWdlKSB7XG4gICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IFwiLS1cIjsgfVxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IobWVzc2FnZSkpLnN0YWNrO1xuICAgIH1cbiAgICBCYXNlRXhjZXB0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubWVzc2FnZTsgfTtcbiAgICByZXR1cm4gQmFzZUV4Y2VwdGlvbjtcbn0oRXJyb3IpKTtcbmV4cG9ydHMuQmFzZUV4Y2VwdGlvbiA9IEJhc2VFeGNlcHRpb247XG4vKipcbiAqIFdyYXBzIGFuIGV4Y2VwdGlvbiBhbmQgcHJvdmlkZXMgYWRkaXRpb25hbCBjb250ZXh0IG9yIGluZm9ybWF0aW9uLlxuICovXG52YXIgV3JhcHBlZEV4Y2VwdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFdyYXBwZWRFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gV3JhcHBlZEV4Y2VwdGlvbihfd3JhcHBlck1lc3NhZ2UsIF9vcmlnaW5hbEV4Y2VwdGlvbiwgX29yaWdpbmFsU3RhY2ssIF9jb250ZXh0KSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIF93cmFwcGVyTWVzc2FnZSk7XG4gICAgICAgIHRoaXMuX3dyYXBwZXJNZXNzYWdlID0gX3dyYXBwZXJNZXNzYWdlO1xuICAgICAgICB0aGlzLl9vcmlnaW5hbEV4Y2VwdGlvbiA9IF9vcmlnaW5hbEV4Y2VwdGlvbjtcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxTdGFjayA9IF9vcmlnaW5hbFN0YWNrO1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gX2NvbnRleHQ7XG4gICAgICAgIHRoaXMuX3dyYXBwZXJTdGFjayA9IChuZXcgRXJyb3IoX3dyYXBwZXJNZXNzYWdlKSkuc3RhY2s7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJ3cmFwcGVyTWVzc2FnZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fd3JhcHBlck1lc3NhZ2U7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJ3cmFwcGVyU3RhY2tcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3dyYXBwZXJTdGFjazsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcIm9yaWdpbmFsRXhjZXB0aW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9vcmlnaW5hbEV4Y2VwdGlvbjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcIm9yaWdpbmFsU3RhY2tcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX29yaWdpbmFsU3RhY2s7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJjb250ZXh0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9jb250ZXh0OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwibWVzc2FnZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhjZXB0aW9uX2hhbmRsZXJfMS5FeGNlcHRpb25IYW5kbGVyLmV4Y2VwdGlvblRvU3RyaW5nKHRoaXMpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubWVzc2FnZTsgfTtcbiAgICByZXR1cm4gV3JhcHBlZEV4Y2VwdGlvbjtcbn0oYmFzZV93cmFwcGVkX2V4Y2VwdGlvbl8xLkJhc2VXcmFwcGVkRXhjZXB0aW9uKSk7XG5leHBvcnRzLldyYXBwZWRFeGNlcHRpb24gPSBXcmFwcGVkRXhjZXB0aW9uO1xuZnVuY3Rpb24gbWFrZVR5cGVFcnJvcihtZXNzYWdlKSB7XG4gICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IobWVzc2FnZSk7XG59XG5leHBvcnRzLm1ha2VUeXBlRXJyb3IgPSBtYWtlVHlwZUVycm9yO1xuZnVuY3Rpb24gdW5pbXBsZW1lbnRlZCgpIHtcbiAgICB0aHJvdyBuZXcgQmFzZUV4Y2VwdGlvbigndW5pbXBsZW1lbnRlZCcpO1xufVxuZXhwb3J0cy51bmltcGxlbWVudGVkID0gdW5pbXBsZW1lbnRlZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4Y2VwdGlvbnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBnbG9iYWxTY29wZTtcbmlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSkge1xuICAgICAgICAvLyBUT0RPOiBSZXBsYWNlIGFueSB3aXRoIFdvcmtlckdsb2JhbFNjb3BlIGZyb20gbGliLndlYndvcmtlci5kLnRzICMzNDkyXG4gICAgICAgIGdsb2JhbFNjb3BlID0gc2VsZjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGdsb2JhbFNjb3BlID0gZ2xvYmFsO1xuICAgIH1cbn1cbmVsc2Uge1xuICAgIGdsb2JhbFNjb3BlID0gd2luZG93O1xufVxuZnVuY3Rpb24gc2NoZWR1bGVNaWNyb1Rhc2soZm4pIHtcbiAgICBab25lLmN1cnJlbnQuc2NoZWR1bGVNaWNyb1Rhc2soJ3NjaGVkdWxlTWljcm90YXNrJywgZm4pO1xufVxuZXhwb3J0cy5zY2hlZHVsZU1pY3JvVGFzayA9IHNjaGVkdWxlTWljcm9UYXNrO1xuZXhwb3J0cy5JU19EQVJUID0gZmFsc2U7XG4vLyBOZWVkIHRvIGRlY2xhcmUgYSBuZXcgdmFyaWFibGUgZm9yIGdsb2JhbCBoZXJlIHNpbmNlIFR5cGVTY3JpcHRcbi8vIGV4cG9ydHMgdGhlIG9yaWdpbmFsIHZhbHVlIG9mIHRoZSBzeW1ib2wuXG52YXIgX2dsb2JhbCA9IGdsb2JhbFNjb3BlO1xuZXhwb3J0cy5nbG9iYWwgPSBfZ2xvYmFsO1xuZXhwb3J0cy5UeXBlID0gRnVuY3Rpb247XG5mdW5jdGlvbiBnZXRUeXBlTmFtZUZvckRlYnVnZ2luZyh0eXBlKSB7XG4gICAgaWYgKHR5cGVbJ25hbWUnXSkge1xuICAgICAgICByZXR1cm4gdHlwZVsnbmFtZSddO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZW9mIHR5cGU7XG59XG5leHBvcnRzLmdldFR5cGVOYW1lRm9yRGVidWdnaW5nID0gZ2V0VHlwZU5hbWVGb3JEZWJ1Z2dpbmc7XG5leHBvcnRzLk1hdGggPSBfZ2xvYmFsLk1hdGg7XG5leHBvcnRzLkRhdGUgPSBfZ2xvYmFsLkRhdGU7XG52YXIgX2Rldk1vZGUgPSB0cnVlO1xudmFyIF9tb2RlTG9ja2VkID0gZmFsc2U7XG5mdW5jdGlvbiBsb2NrTW9kZSgpIHtcbiAgICBfbW9kZUxvY2tlZCA9IHRydWU7XG59XG5leHBvcnRzLmxvY2tNb2RlID0gbG9ja01vZGU7XG4vKipcbiAqIERpc2FibGUgQW5ndWxhcidzIGRldmVsb3BtZW50IG1vZGUsIHdoaWNoIHR1cm5zIG9mZiBhc3NlcnRpb25zIGFuZCBvdGhlclxuICogY2hlY2tzIHdpdGhpbiB0aGUgZnJhbWV3b3JrLlxuICpcbiAqIE9uZSBpbXBvcnRhbnQgYXNzZXJ0aW9uIHRoaXMgZGlzYWJsZXMgdmVyaWZpZXMgdGhhdCBhIGNoYW5nZSBkZXRlY3Rpb24gcGFzc1xuICogZG9lcyBub3QgcmVzdWx0IGluIGFkZGl0aW9uYWwgY2hhbmdlcyB0byBhbnkgYmluZGluZ3MgKGFsc28ga25vd24gYXNcbiAqIHVuaWRpcmVjdGlvbmFsIGRhdGEgZmxvdykuXG4gKi9cbmZ1bmN0aW9uIGVuYWJsZVByb2RNb2RlKCkge1xuICAgIGlmIChfbW9kZUxvY2tlZCkge1xuICAgICAgICAvLyBDYW5ub3QgdXNlIEJhc2VFeGNlcHRpb24gYXMgdGhhdCBlbmRzIHVwIGltcG9ydGluZyBmcm9tIGZhY2FkZS9sYW5nLlxuICAgICAgICB0aHJvdyAnQ2Fubm90IGVuYWJsZSBwcm9kIG1vZGUgYWZ0ZXIgcGxhdGZvcm0gc2V0dXAuJztcbiAgICB9XG4gICAgX2Rldk1vZGUgPSBmYWxzZTtcbn1cbmV4cG9ydHMuZW5hYmxlUHJvZE1vZGUgPSBlbmFibGVQcm9kTW9kZTtcbmZ1bmN0aW9uIGFzc2VydGlvbnNFbmFibGVkKCkge1xuICAgIHJldHVybiBfZGV2TW9kZTtcbn1cbmV4cG9ydHMuYXNzZXJ0aW9uc0VuYWJsZWQgPSBhc3NlcnRpb25zRW5hYmxlZDtcbi8vIFRPRE86IHJlbW92ZSBjYWxscyB0byBhc3NlcnQgaW4gcHJvZHVjdGlvbiBlbnZpcm9ubWVudFxuLy8gTm90ZTogQ2FuJ3QganVzdCBleHBvcnQgdGhpcyBhbmQgaW1wb3J0IGluIGluIG90aGVyIGZpbGVzXG4vLyBhcyBgYXNzZXJ0YCBpcyBhIHJlc2VydmVkIGtleXdvcmQgaW4gRGFydFxuX2dsb2JhbC5hc3NlcnQgPSBmdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uKSB7XG4gICAgLy8gVE9ETzogdG8gYmUgZml4ZWQgcHJvcGVybHkgdmlhICMyODMwLCBub29wIGZvciBub3dcbn07XG5mdW5jdGlvbiBpc1ByZXNlbnQob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAhPT0gdW5kZWZpbmVkICYmIG9iaiAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNQcmVzZW50ID0gaXNQcmVzZW50O1xuZnVuY3Rpb24gaXNCbGFuayhvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB1bmRlZmluZWQgfHwgb2JqID09PSBudWxsO1xufVxuZXhwb3J0cy5pc0JsYW5rID0gaXNCbGFuaztcbmZ1bmN0aW9uIGlzQm9vbGVhbihvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJib29sZWFuXCI7XG59XG5leHBvcnRzLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcbmZ1bmN0aW9uIGlzTnVtYmVyKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm51bWJlclwiO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuZnVuY3Rpb24gaXNTdHJpbmcob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwic3RyaW5nXCI7XG59XG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5mdW5jdGlvbiBpc0Z1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCI7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuZnVuY3Rpb24gaXNUeXBlKG9iaikge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKG9iaik7XG59XG5leHBvcnRzLmlzVHlwZSA9IGlzVHlwZTtcbmZ1bmN0aW9uIGlzU3RyaW5nTWFwKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGw7XG59XG5leHBvcnRzLmlzU3RyaW5nTWFwID0gaXNTdHJpbmdNYXA7XG52YXIgU1RSSU5HX01BUF9QUk9UTyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih7fSk7XG5mdW5jdGlvbiBpc1N0cmljdFN0cmluZ01hcChvYmopIHtcbiAgICByZXR1cm4gaXNTdHJpbmdNYXAob2JqKSAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gU1RSSU5HX01BUF9QUk9UTztcbn1cbmV4cG9ydHMuaXNTdHJpY3RTdHJpbmdNYXAgPSBpc1N0cmljdFN0cmluZ01hcDtcbmZ1bmN0aW9uIGlzUHJvbWlzZShvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgX2dsb2JhbC5Qcm9taXNlO1xufVxuZXhwb3J0cy5pc1Byb21pc2UgPSBpc1Byb21pc2U7XG5mdW5jdGlvbiBpc0FycmF5KG9iaikge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KG9iaik7XG59XG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuZnVuY3Rpb24gaXNEYXRlKG9iaikge1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBleHBvcnRzLkRhdGUgJiYgIWlzTmFOKG9iai52YWx1ZU9mKCkpO1xufVxuZXhwb3J0cy5pc0RhdGUgPSBpc0RhdGU7XG5mdW5jdGlvbiBub29wKCkgeyB9XG5leHBvcnRzLm5vb3AgPSBub29wO1xuZnVuY3Rpb24gc3RyaW5naWZ5KHRva2VuKSB7XG4gICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgICBpZiAodG9rZW4gPT09IHVuZGVmaW5lZCB8fCB0b2tlbiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJycgKyB0b2tlbjtcbiAgICB9XG4gICAgaWYgKHRva2VuLm5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuLm5hbWU7XG4gICAgfVxuICAgIGlmICh0b2tlbi5vdmVycmlkZGVuTmFtZSkge1xuICAgICAgICByZXR1cm4gdG9rZW4ub3ZlcnJpZGRlbk5hbWU7XG4gICAgfVxuICAgIHZhciByZXMgPSB0b2tlbi50b1N0cmluZygpO1xuICAgIHZhciBuZXdMaW5lSW5kZXggPSByZXMuaW5kZXhPZihcIlxcblwiKTtcbiAgICByZXR1cm4gKG5ld0xpbmVJbmRleCA9PT0gLTEpID8gcmVzIDogcmVzLnN1YnN0cmluZygwLCBuZXdMaW5lSW5kZXgpO1xufVxuZXhwb3J0cy5zdHJpbmdpZnkgPSBzdHJpbmdpZnk7XG4vLyBzZXJpYWxpemUgLyBkZXNlcmlhbGl6ZSBlbnVtIGV4aXN0IG9ubHkgZm9yIGNvbnNpc3RlbmN5IHdpdGggZGFydCBBUElcbi8vIGVudW1zIGluIHR5cGVzY3JpcHQgZG9uJ3QgbmVlZCB0byBiZSBzZXJpYWxpemVkXG5mdW5jdGlvbiBzZXJpYWxpemVFbnVtKHZhbCkge1xuICAgIHJldHVybiB2YWw7XG59XG5leHBvcnRzLnNlcmlhbGl6ZUVudW0gPSBzZXJpYWxpemVFbnVtO1xuZnVuY3Rpb24gZGVzZXJpYWxpemVFbnVtKHZhbCwgdmFsdWVzKSB7XG4gICAgcmV0dXJuIHZhbDtcbn1cbmV4cG9ydHMuZGVzZXJpYWxpemVFbnVtID0gZGVzZXJpYWxpemVFbnVtO1xuZnVuY3Rpb24gcmVzb2x2ZUVudW1Ub2tlbihlbnVtVmFsdWUsIHZhbCkge1xuICAgIHJldHVybiBlbnVtVmFsdWVbdmFsXTtcbn1cbmV4cG9ydHMucmVzb2x2ZUVudW1Ub2tlbiA9IHJlc29sdmVFbnVtVG9rZW47XG52YXIgU3RyaW5nV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RyaW5nV3JhcHBlcigpIHtcbiAgICB9XG4gICAgU3RyaW5nV3JhcHBlci5mcm9tQ2hhckNvZGUgPSBmdW5jdGlvbiAoY29kZSkgeyByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTsgfTtcbiAgICBTdHJpbmdXcmFwcGVyLmNoYXJDb2RlQXQgPSBmdW5jdGlvbiAocywgaW5kZXgpIHsgcmV0dXJuIHMuY2hhckNvZGVBdChpbmRleCk7IH07XG4gICAgU3RyaW5nV3JhcHBlci5zcGxpdCA9IGZ1bmN0aW9uIChzLCByZWdFeHApIHsgcmV0dXJuIHMuc3BsaXQocmVnRXhwKTsgfTtcbiAgICBTdHJpbmdXcmFwcGVyLmVxdWFscyA9IGZ1bmN0aW9uIChzLCBzMikgeyByZXR1cm4gcyA9PT0gczI7IH07XG4gICAgU3RyaW5nV3JhcHBlci5zdHJpcExlZnQgPSBmdW5jdGlvbiAocywgY2hhclZhbCkge1xuICAgICAgICBpZiAocyAmJiBzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHBvcyA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoc1tpXSAhPSBjaGFyVmFsKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMgPSBzLnN1YnN0cmluZyhwb3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzO1xuICAgIH07XG4gICAgU3RyaW5nV3JhcHBlci5zdHJpcFJpZ2h0ID0gZnVuY3Rpb24gKHMsIGNoYXJWYWwpIHtcbiAgICAgICAgaWYgKHMgJiYgcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBwb3MgPSBzLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNbaV0gIT0gY2hhclZhbClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgcG9zLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzID0gcy5zdWJzdHJpbmcoMCwgcG9zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9O1xuICAgIFN0cmluZ1dyYXBwZXIucmVwbGFjZSA9IGZ1bmN0aW9uIChzLCBmcm9tLCByZXBsYWNlKSB7XG4gICAgICAgIHJldHVybiBzLnJlcGxhY2UoZnJvbSwgcmVwbGFjZSk7XG4gICAgfTtcbiAgICBTdHJpbmdXcmFwcGVyLnJlcGxhY2VBbGwgPSBmdW5jdGlvbiAocywgZnJvbSwgcmVwbGFjZSkge1xuICAgICAgICByZXR1cm4gcy5yZXBsYWNlKGZyb20sIHJlcGxhY2UpO1xuICAgIH07XG4gICAgU3RyaW5nV3JhcHBlci5zbGljZSA9IGZ1bmN0aW9uIChzLCBmcm9tLCB0bykge1xuICAgICAgICBpZiAoZnJvbSA9PT0gdm9pZCAwKSB7IGZyb20gPSAwOyB9XG4gICAgICAgIGlmICh0byA9PT0gdm9pZCAwKSB7IHRvID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gcy5zbGljZShmcm9tLCB0byA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IHRvKTtcbiAgICB9O1xuICAgIFN0cmluZ1dyYXBwZXIucmVwbGFjZUFsbE1hcHBlZCA9IGZ1bmN0aW9uIChzLCBmcm9tLCBjYikge1xuICAgICAgICByZXR1cm4gcy5yZXBsYWNlKGZyb20sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIG1hdGNoZXNbX2kgLSAwXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZW1vdmUgb2Zmc2V0ICYgc3RyaW5nIGZyb20gdGhlIHJlc3VsdCBhcnJheVxuICAgICAgICAgICAgbWF0Y2hlcy5zcGxpY2UoLTIsIDIpO1xuICAgICAgICAgICAgLy8gVGhlIGNhbGxiYWNrIHJlY2VpdmVzIG1hdGNoLCBwMSwgLi4uLCBwblxuICAgICAgICAgICAgcmV0dXJuIGNiKG1hdGNoZXMpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFN0cmluZ1dyYXBwZXIuY29udGFpbnMgPSBmdW5jdGlvbiAocywgc3Vic3RyKSB7IHJldHVybiBzLmluZGV4T2Yoc3Vic3RyKSAhPSAtMTsgfTtcbiAgICBTdHJpbmdXcmFwcGVyLmNvbXBhcmUgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBpZiAoYSA8IGIpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhID4gYikge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN0cmluZ1dyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5TdHJpbmdXcmFwcGVyID0gU3RyaW5nV3JhcHBlcjtcbnZhciBTdHJpbmdKb2luZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0cmluZ0pvaW5lcihwYXJ0cykge1xuICAgICAgICBpZiAocGFydHMgPT09IHZvaWQgMCkgeyBwYXJ0cyA9IFtdOyB9XG4gICAgICAgIHRoaXMucGFydHMgPSBwYXJ0cztcbiAgICB9XG4gICAgU3RyaW5nSm9pbmVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAocGFydCkgeyB0aGlzLnBhcnRzLnB1c2gocGFydCk7IH07XG4gICAgU3RyaW5nSm9pbmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMucGFydHMuam9pbihcIlwiKTsgfTtcbiAgICByZXR1cm4gU3RyaW5nSm9pbmVyO1xufSgpKTtcbmV4cG9ydHMuU3RyaW5nSm9pbmVyID0gU3RyaW5nSm9pbmVyO1xudmFyIE51bWJlclBhcnNlRXJyb3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOdW1iZXJQYXJzZUVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE51bWJlclBhcnNlRXJyb3IobWVzc2FnZSkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG4gICAgTnVtYmVyUGFyc2VFcnJvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1lc3NhZ2U7IH07XG4gICAgcmV0dXJuIE51bWJlclBhcnNlRXJyb3I7XG59KEVycm9yKSk7XG5leHBvcnRzLk51bWJlclBhcnNlRXJyb3IgPSBOdW1iZXJQYXJzZUVycm9yO1xudmFyIE51bWJlcldyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE51bWJlcldyYXBwZXIoKSB7XG4gICAgfVxuICAgIE51bWJlcldyYXBwZXIudG9GaXhlZCA9IGZ1bmN0aW9uIChuLCBmcmFjdGlvbkRpZ2l0cykgeyByZXR1cm4gbi50b0ZpeGVkKGZyYWN0aW9uRGlnaXRzKTsgfTtcbiAgICBOdW1iZXJXcmFwcGVyLmVxdWFsID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgPT09IGI7IH07XG4gICAgTnVtYmVyV3JhcHBlci5wYXJzZUludEF1dG9SYWRpeCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBwYXJzZUludCh0ZXh0KTtcbiAgICAgICAgaWYgKGlzTmFOKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOdW1iZXJQYXJzZUVycm9yKFwiSW52YWxpZCBpbnRlZ2VyIGxpdGVyYWwgd2hlbiBwYXJzaW5nIFwiICsgdGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIE51bWJlcldyYXBwZXIucGFyc2VJbnQgPSBmdW5jdGlvbiAodGV4dCwgcmFkaXgpIHtcbiAgICAgICAgaWYgKHJhZGl4ID09IDEwKSB7XG4gICAgICAgICAgICBpZiAoL14oXFwtfFxcKyk/WzAtOV0rJC8udGVzdCh0ZXh0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0ZXh0LCByYWRpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmFkaXggPT0gMTYpIHtcbiAgICAgICAgICAgIGlmICgvXihcXC18XFwrKT9bMC05QUJDREVGYWJjZGVmXSskLy50ZXN0KHRleHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRleHQsIHJhZGl4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBwYXJzZUludCh0ZXh0LCByYWRpeCk7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBOdW1iZXJQYXJzZUVycm9yKFwiSW52YWxpZCBpbnRlZ2VyIGxpdGVyYWwgd2hlbiBwYXJzaW5nIFwiICsgdGV4dCArIFwiIGluIGJhc2UgXCIgK1xuICAgICAgICAgICAgcmFkaXgpO1xuICAgIH07XG4gICAgLy8gVE9ETzogTmFOIGlzIGEgdmFsaWQgbGl0ZXJhbCBidXQgaXMgcmV0dXJuZWQgYnkgcGFyc2VGbG9hdCB0byBpbmRpY2F0ZSBhbiBlcnJvci5cbiAgICBOdW1iZXJXcmFwcGVyLnBhcnNlRmxvYXQgPSBmdW5jdGlvbiAodGV4dCkgeyByZXR1cm4gcGFyc2VGbG9hdCh0ZXh0KTsgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTnVtYmVyV3JhcHBlciwgXCJOYU5cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE5hTjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTnVtYmVyV3JhcHBlci5pc05hTiA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gaXNOYU4odmFsdWUpOyB9O1xuICAgIE51bWJlcldyYXBwZXIuaXNJbnRlZ2VyID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlKTsgfTtcbiAgICByZXR1cm4gTnVtYmVyV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLk51bWJlcldyYXBwZXIgPSBOdW1iZXJXcmFwcGVyO1xuZXhwb3J0cy5SZWdFeHAgPSBfZ2xvYmFsLlJlZ0V4cDtcbnZhciBSZWdFeHBXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWdFeHBXcmFwcGVyKCkge1xuICAgIH1cbiAgICBSZWdFeHBXcmFwcGVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChyZWdFeHBTdHIsIGZsYWdzKSB7XG4gICAgICAgIGlmIChmbGFncyA9PT0gdm9pZCAwKSB7IGZsYWdzID0gJyc7IH1cbiAgICAgICAgZmxhZ3MgPSBmbGFncy5yZXBsYWNlKC9nL2csICcnKTtcbiAgICAgICAgcmV0dXJuIG5ldyBfZ2xvYmFsLlJlZ0V4cChyZWdFeHBTdHIsIGZsYWdzICsgJ2cnKTtcbiAgICB9O1xuICAgIFJlZ0V4cFdyYXBwZXIuZmlyc3RNYXRjaCA9IGZ1bmN0aW9uIChyZWdFeHAsIGlucHV0KSB7XG4gICAgICAgIC8vIFJlc2V0IG11bHRpbWF0Y2ggcmVnZXggc3RhdGVcbiAgICAgICAgcmVnRXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHJldHVybiByZWdFeHAuZXhlYyhpbnB1dCk7XG4gICAgfTtcbiAgICBSZWdFeHBXcmFwcGVyLnRlc3QgPSBmdW5jdGlvbiAocmVnRXhwLCBpbnB1dCkge1xuICAgICAgICByZWdFeHAubGFzdEluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIHJlZ0V4cC50ZXN0KGlucHV0KTtcbiAgICB9O1xuICAgIFJlZ0V4cFdyYXBwZXIubWF0Y2hlciA9IGZ1bmN0aW9uIChyZWdFeHAsIGlucHV0KSB7XG4gICAgICAgIC8vIFJlc2V0IHJlZ2V4IHN0YXRlIGZvciB0aGUgY2FzZVxuICAgICAgICAvLyBzb21lb25lIGRpZCBub3QgbG9vcCBvdmVyIGFsbCBtYXRjaGVzXG4gICAgICAgIC8vIGxhc3QgdGltZS5cbiAgICAgICAgcmVnRXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHJldHVybiB7IHJlOiByZWdFeHAsIGlucHV0OiBpbnB1dCB9O1xuICAgIH07XG4gICAgUmVnRXhwV3JhcHBlci5yZXBsYWNlQWxsID0gZnVuY3Rpb24gKHJlZ0V4cCwgaW5wdXQsIHJlcGxhY2UpIHtcbiAgICAgICAgdmFyIGMgPSByZWdFeHAuZXhlYyhpbnB1dCk7XG4gICAgICAgIHZhciByZXMgPSAnJztcbiAgICAgICAgcmVnRXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHZhciBwcmV2ID0gMDtcbiAgICAgICAgd2hpbGUgKGMpIHtcbiAgICAgICAgICAgIHJlcyArPSBpbnB1dC5zdWJzdHJpbmcocHJldiwgYy5pbmRleCk7XG4gICAgICAgICAgICByZXMgKz0gcmVwbGFjZShjKTtcbiAgICAgICAgICAgIHByZXYgPSBjLmluZGV4ICsgY1swXS5sZW5ndGg7XG4gICAgICAgICAgICByZWdFeHAubGFzdEluZGV4ID0gcHJldjtcbiAgICAgICAgICAgIGMgPSByZWdFeHAuZXhlYyhpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzICs9IGlucHV0LnN1YnN0cmluZyhwcmV2KTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIHJldHVybiBSZWdFeHBXcmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuUmVnRXhwV3JhcHBlciA9IFJlZ0V4cFdyYXBwZXI7XG52YXIgUmVnRXhwTWF0Y2hlcldyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlZ0V4cE1hdGNoZXJXcmFwcGVyKCkge1xuICAgIH1cbiAgICBSZWdFeHBNYXRjaGVyV3JhcHBlci5uZXh0ID0gZnVuY3Rpb24gKG1hdGNoZXIpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXIucmUuZXhlYyhtYXRjaGVyLmlucHV0KTtcbiAgICB9O1xuICAgIHJldHVybiBSZWdFeHBNYXRjaGVyV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLlJlZ0V4cE1hdGNoZXJXcmFwcGVyID0gUmVnRXhwTWF0Y2hlcldyYXBwZXI7XG52YXIgRnVuY3Rpb25XcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGdW5jdGlvbldyYXBwZXIoKSB7XG4gICAgfVxuICAgIEZ1bmN0aW9uV3JhcHBlci5hcHBseSA9IGZ1bmN0aW9uIChmbiwgcG9zQXJncykgeyByZXR1cm4gZm4uYXBwbHkobnVsbCwgcG9zQXJncyk7IH07XG4gICAgcmV0dXJuIEZ1bmN0aW9uV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLkZ1bmN0aW9uV3JhcHBlciA9IEZ1bmN0aW9uV3JhcHBlcjtcbi8vIEpTIGhhcyBOYU4gIT09IE5hTlxuZnVuY3Rpb24gbG9vc2VJZGVudGljYWwoYSwgYikge1xuICAgIHJldHVybiBhID09PSBiIHx8IHR5cGVvZiBhID09PSBcIm51bWJlclwiICYmIHR5cGVvZiBiID09PSBcIm51bWJlclwiICYmIGlzTmFOKGEpICYmIGlzTmFOKGIpO1xufVxuZXhwb3J0cy5sb29zZUlkZW50aWNhbCA9IGxvb3NlSWRlbnRpY2FsO1xuLy8gSlMgY29uc2lkZXJzIE5hTiBpcyB0aGUgc2FtZSBhcyBOYU4gZm9yIG1hcCBLZXkgKHdoaWxlIE5hTiAhPT0gTmFOIG90aGVyd2lzZSlcbi8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXBcbmZ1bmN0aW9uIGdldE1hcEtleSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbn1cbmV4cG9ydHMuZ2V0TWFwS2V5ID0gZ2V0TWFwS2V5O1xuZnVuY3Rpb24gbm9ybWFsaXplQmxhbmsob2JqKSB7XG4gICAgcmV0dXJuIGlzQmxhbmsob2JqKSA/IG51bGwgOiBvYmo7XG59XG5leHBvcnRzLm5vcm1hbGl6ZUJsYW5rID0gbm9ybWFsaXplQmxhbms7XG5mdW5jdGlvbiBub3JtYWxpemVCb29sKG9iaikge1xuICAgIHJldHVybiBpc0JsYW5rKG9iaikgPyBmYWxzZSA6IG9iajtcbn1cbmV4cG9ydHMubm9ybWFsaXplQm9vbCA9IG5vcm1hbGl6ZUJvb2w7XG5mdW5jdGlvbiBpc0pzT2JqZWN0KG8pIHtcbiAgICByZXR1cm4gbyAhPT0gbnVsbCAmJiAodHlwZW9mIG8gPT09IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2YgbyA9PT0gXCJvYmplY3RcIik7XG59XG5leHBvcnRzLmlzSnNPYmplY3QgPSBpc0pzT2JqZWN0O1xuZnVuY3Rpb24gcHJpbnQob2JqKSB7XG4gICAgY29uc29sZS5sb2cob2JqKTtcbn1cbmV4cG9ydHMucHJpbnQgPSBwcmludDtcbmZ1bmN0aW9uIHdhcm4ob2JqKSB7XG4gICAgY29uc29sZS53YXJuKG9iaik7XG59XG5leHBvcnRzLndhcm4gPSB3YXJuO1xuLy8gQ2FuJ3QgYmUgYWxsIHVwcGVyY2FzZSBhcyBvdXIgdHJhbnNwaWxlciB3b3VsZCB0aGluayBpdCBpcyBhIHNwZWNpYWwgZGlyZWN0aXZlLi4uXG52YXIgSnNvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSnNvbigpIHtcbiAgICB9XG4gICAgSnNvbi5wYXJzZSA9IGZ1bmN0aW9uIChzKSB7IHJldHVybiBfZ2xvYmFsLkpTT04ucGFyc2Uocyk7IH07XG4gICAgSnNvbi5zdHJpbmdpZnkgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBEYXJ0IGRvZXNuJ3QgdGFrZSAzIGFyZ3VtZW50c1xuICAgICAgICByZXR1cm4gX2dsb2JhbC5KU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKTtcbiAgICB9O1xuICAgIHJldHVybiBKc29uO1xufSgpKTtcbmV4cG9ydHMuSnNvbiA9IEpzb247XG52YXIgRGF0ZVdyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERhdGVXcmFwcGVyKCkge1xuICAgIH1cbiAgICBEYXRlV3JhcHBlci5jcmVhdGUgPSBmdW5jdGlvbiAoeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlcywgc2Vjb25kcywgbWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIGlmIChtb250aCA9PT0gdm9pZCAwKSB7IG1vbnRoID0gMTsgfVxuICAgICAgICBpZiAoZGF5ID09PSB2b2lkIDApIHsgZGF5ID0gMTsgfVxuICAgICAgICBpZiAoaG91ciA9PT0gdm9pZCAwKSB7IGhvdXIgPSAwOyB9XG4gICAgICAgIGlmIChtaW51dGVzID09PSB2b2lkIDApIHsgbWludXRlcyA9IDA7IH1cbiAgICAgICAgaWYgKHNlY29uZHMgPT09IHZvaWQgMCkgeyBzZWNvbmRzID0gMDsgfVxuICAgICAgICBpZiAobWlsbGlzZWNvbmRzID09PSB2b2lkIDApIHsgbWlsbGlzZWNvbmRzID0gMDsgfVxuICAgICAgICByZXR1cm4gbmV3IGV4cG9ydHMuRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRheSwgaG91ciwgbWludXRlcywgc2Vjb25kcywgbWlsbGlzZWNvbmRzKTtcbiAgICB9O1xuICAgIERhdGVXcmFwcGVyLmZyb21JU09TdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7IHJldHVybiBuZXcgZXhwb3J0cy5EYXRlKHN0cik7IH07XG4gICAgRGF0ZVdyYXBwZXIuZnJvbU1pbGxpcyA9IGZ1bmN0aW9uIChtcykgeyByZXR1cm4gbmV3IGV4cG9ydHMuRGF0ZShtcyk7IH07XG4gICAgRGF0ZVdyYXBwZXIudG9NaWxsaXMgPSBmdW5jdGlvbiAoZGF0ZSkgeyByZXR1cm4gZGF0ZS5nZXRUaW1lKCk7IH07XG4gICAgRGF0ZVdyYXBwZXIubm93ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IGV4cG9ydHMuRGF0ZSgpOyB9O1xuICAgIERhdGVXcmFwcGVyLnRvSnNvbiA9IGZ1bmN0aW9uIChkYXRlKSB7IHJldHVybiBkYXRlLnRvSlNPTigpOyB9O1xuICAgIHJldHVybiBEYXRlV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLkRhdGVXcmFwcGVyID0gRGF0ZVdyYXBwZXI7XG5mdW5jdGlvbiBzZXRWYWx1ZU9uUGF0aChnbG9iYWwsIHBhdGgsIHZhbHVlKSB7XG4gICAgdmFyIHBhcnRzID0gcGF0aC5zcGxpdCgnLicpO1xuICAgIHZhciBvYmogPSBnbG9iYWw7XG4gICAgd2hpbGUgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KG5hbWUpICYmIGlzUHJlc2VudChvYmpbbmFtZV0pKSB7XG4gICAgICAgICAgICBvYmogPSBvYmpbbmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmogPSBvYmpbbmFtZV0gPSB7fTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAob2JqID09PSB1bmRlZmluZWQgfHwgb2JqID09PSBudWxsKSB7XG4gICAgICAgIG9iaiA9IHt9O1xuICAgIH1cbiAgICBvYmpbcGFydHMuc2hpZnQoKV0gPSB2YWx1ZTtcbn1cbmV4cG9ydHMuc2V0VmFsdWVPblBhdGggPSBzZXRWYWx1ZU9uUGF0aDtcbnZhciBfc3ltYm9sSXRlcmF0b3IgPSBudWxsO1xuZnVuY3Rpb24gZ2V0U3ltYm9sSXRlcmF0b3IoKSB7XG4gICAgaWYgKGlzQmxhbmsoX3N5bWJvbEl0ZXJhdG9yKSkge1xuICAgICAgICBpZiAoaXNQcmVzZW50KGdsb2JhbFNjb3BlLlN5bWJvbCkgJiYgaXNQcmVzZW50KFN5bWJvbC5pdGVyYXRvcikpIHtcbiAgICAgICAgICAgIF9zeW1ib2xJdGVyYXRvciA9IFN5bWJvbC5pdGVyYXRvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVzNi1zaGltIHNwZWNpZmljIGxvZ2ljXG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE1hcC5wcm90b3R5cGUpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gJ2VudHJpZXMnICYmIGtleSAhPT0gJ3NpemUnICYmXG4gICAgICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGVba2V5XSA9PT0gTWFwLnByb3RvdHlwZVsnZW50cmllcyddKSB7XG4gICAgICAgICAgICAgICAgICAgIF9zeW1ib2xJdGVyYXRvciA9IGtleTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIF9zeW1ib2xJdGVyYXRvcjtcbn1cbmV4cG9ydHMuZ2V0U3ltYm9sSXRlcmF0b3IgPSBnZXRTeW1ib2xJdGVyYXRvcjtcbmZ1bmN0aW9uIGV2YWxFeHByZXNzaW9uKHNvdXJjZVVybCwgZXhwciwgZGVjbGFyYXRpb25zLCB2YXJzKSB7XG4gICAgdmFyIGZuQm9keSA9IGRlY2xhcmF0aW9ucyArIFwiXFxucmV0dXJuIFwiICsgZXhwciArIFwiXFxuLy8jIHNvdXJjZVVSTD1cIiArIHNvdXJjZVVybDtcbiAgICB2YXIgZm5BcmdOYW1lcyA9IFtdO1xuICAgIHZhciBmbkFyZ1ZhbHVlcyA9IFtdO1xuICAgIGZvciAodmFyIGFyZ05hbWUgaW4gdmFycykge1xuICAgICAgICBmbkFyZ05hbWVzLnB1c2goYXJnTmFtZSk7XG4gICAgICAgIGZuQXJnVmFsdWVzLnB1c2godmFyc1thcmdOYW1lXSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLmJpbmQuYXBwbHkoRnVuY3Rpb24sIFt2b2lkIDBdLmNvbmNhdChmbkFyZ05hbWVzLmNvbmNhdChmbkJvZHkpKSkpKCkuYXBwbHkodm9pZCAwLCBmbkFyZ1ZhbHVlcyk7XG59XG5leHBvcnRzLmV2YWxFeHByZXNzaW9uID0gZXZhbEV4cHJlc3Npb247XG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShvYmopIHtcbiAgICByZXR1cm4gIWlzSnNPYmplY3Qob2JqKTtcbn1cbmV4cG9ydHMuaXNQcmltaXRpdmUgPSBpc1ByaW1pdGl2ZTtcbmZ1bmN0aW9uIGhhc0NvbnN0cnVjdG9yKHZhbHVlLCB0eXBlKSB7XG4gICAgcmV0dXJuIHZhbHVlLmNvbnN0cnVjdG9yID09PSB0eXBlO1xufVxuZXhwb3J0cy5oYXNDb25zdHJ1Y3RvciA9IGhhc0NvbnN0cnVjdG9yO1xuZnVuY3Rpb24gYml0V2lzZU9yKHZhbHVlcykge1xuICAgIHJldHVybiB2YWx1ZXMucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhIHwgYjsgfSk7XG59XG5leHBvcnRzLmJpdFdpc2VPciA9IGJpdFdpc2VPcjtcbmZ1bmN0aW9uIGJpdFdpc2VBbmQodmFsdWVzKSB7XG4gICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgJiBiOyB9KTtcbn1cbmV4cG9ydHMuYml0V2lzZUFuZCA9IGJpdFdpc2VBbmQ7XG5mdW5jdGlvbiBlc2NhcGUocykge1xuICAgIHJldHVybiBfZ2xvYmFsLmVuY29kZVVSSShzKTtcbn1cbmV4cG9ydHMuZXNjYXBlID0gZXNjYXBlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGFuZy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbi8qKlxuICogUG9seWZpbGwgZm9yIFtIZWFkZXJzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSGVhZGVycy9IZWFkZXJzKSwgYXNcbiAqIHNwZWNpZmllZCBpbiB0aGUgW0ZldGNoIFNwZWNdKGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNoZWFkZXJzLWNsYXNzKS5cbiAqXG4gKiBUaGUgb25seSBrbm93biBkaWZmZXJlbmNlIGJldHdlZW4gdGhpcyBgSGVhZGVyc2AgaW1wbGVtZW50YXRpb24gYW5kIHRoZSBzcGVjIGlzIHRoZVxuICogbGFjayBvZiBhbiBgZW50cmllc2AgbWV0aG9kLlxuICpcbiAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9NVGR3VDY/cD1wcmV2aWV3KSlcbiAqXG4gKiBgYGBcbiAqIGltcG9ydCB7SGVhZGVyc30gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG4gKlxuICogdmFyIGZpcnN0SGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gKiBmaXJzdEhlYWRlcnMuYXBwZW5kKCdDb250ZW50LVR5cGUnLCAnaW1hZ2UvanBlZycpO1xuICogY29uc29sZS5sb2coZmlyc3RIZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJykpIC8vJ2ltYWdlL2pwZWcnXG4gKlxuICogLy8gQ3JlYXRlIGhlYWRlcnMgZnJvbSBQbGFpbiBPbGQgSmF2YVNjcmlwdCBPYmplY3RcbiAqIHZhciBzZWNvbmRIZWFkZXJzID0gbmV3IEhlYWRlcnMoe1xuICogICAnWC1NeS1DdXN0b20tSGVhZGVyJzogJ0FuZ3VsYXInXG4gKiB9KTtcbiAqIGNvbnNvbGUubG9nKHNlY29uZEhlYWRlcnMuZ2V0KCdYLU15LUN1c3RvbS1IZWFkZXInKSk7IC8vJ0FuZ3VsYXInXG4gKlxuICogdmFyIHRoaXJkSGVhZGVycyA9IG5ldyBIZWFkZXJzKHNlY29uZEhlYWRlcnMpO1xuICogY29uc29sZS5sb2codGhpcmRIZWFkZXJzLmdldCgnWC1NeS1DdXN0b20tSGVhZGVyJykpOyAvLydBbmd1bGFyJ1xuICogYGBgXG4gKi9cbnZhciBIZWFkZXJzID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgICAgICAgICB0aGlzLl9oZWFkZXJzTWFwID0gaGVhZGVycy5faGVhZGVyc01hcDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9oZWFkZXJzTWFwID0gbmV3IGNvbGxlY3Rpb25fMS5NYXAoKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKGhlYWRlcnMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGVhZGVycyBpbnN0YW5jZW9mIFN0cmluZ01hcFxuICAgICAgICBjb2xsZWN0aW9uXzEuU3RyaW5nTWFwV3JhcHBlci5mb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgICAgICAgICBfdGhpcy5faGVhZGVyc01hcC5zZXQoaywgY29sbGVjdGlvbl8xLmlzTGlzdExpa2VJdGVyYWJsZSh2KSA/IHYgOiBbdl0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBIZWFkZXJzIGluc3RhbmNlIGZyb20gdGhlIGdpdmVuIERPTVN0cmluZyBvZiBSZXNwb25zZSBIZWFkZXJzXG4gICAgICovXG4gICAgSGVhZGVycy5mcm9tUmVzcG9uc2VIZWFkZXJTdHJpbmcgPSBmdW5jdGlvbiAoaGVhZGVyc1N0cmluZykge1xuICAgICAgICByZXR1cm4gaGVhZGVyc1N0cmluZy50cmltKClcbiAgICAgICAgICAgIC5zcGxpdCgnXFxuJylcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gdmFsLnNwbGl0KCc6Jyk7IH0pXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IF9hWzBdLCBwYXJ0cyA9IF9hLnNsaWNlKDEpO1xuICAgICAgICAgICAgcmV0dXJuIChba2V5LnRyaW0oKSwgcGFydHMuam9pbignOicpLnRyaW0oKV0pO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAoaGVhZGVycywgX2EpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBfYVswXSwgdmFsdWUgPSBfYVsxXTtcbiAgICAgICAgICAgIHJldHVybiAhaGVhZGVycy5zZXQoa2V5LCB2YWx1ZSkgJiYgaGVhZGVycztcbiAgICAgICAgfSwgbmV3IEhlYWRlcnMoKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIGEgaGVhZGVyIHRvIGV4aXN0aW5nIGxpc3Qgb2YgaGVhZGVyIHZhbHVlcyBmb3IgYSBnaXZlbiBoZWFkZXIgbmFtZS5cbiAgICAgKi9cbiAgICBIZWFkZXJzLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIG1hcE5hbWUgPSB0aGlzLl9oZWFkZXJzTWFwLmdldChuYW1lKTtcbiAgICAgICAgdmFyIGxpc3QgPSBjb2xsZWN0aW9uXzEuaXNMaXN0TGlrZUl0ZXJhYmxlKG1hcE5hbWUpID8gbWFwTmFtZSA6IFtdO1xuICAgICAgICBsaXN0LnB1c2godmFsdWUpO1xuICAgICAgICB0aGlzLl9oZWFkZXJzTWFwLnNldChuYW1lLCBsaXN0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgYWxsIGhlYWRlciB2YWx1ZXMgZm9yIHRoZSBnaXZlbiBuYW1lLlxuICAgICAqL1xuICAgIEhlYWRlcnMucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChuYW1lKSB7IHRoaXMuX2hlYWRlcnNNYXAuZGVsZXRlKG5hbWUpOyB9O1xuICAgIEhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdGhpcy5faGVhZGVyc01hcC5mb3JFYWNoKGZuKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgZmlyc3QgaGVhZGVyIHRoYXQgbWF0Y2hlcyBnaXZlbiBuYW1lLlxuICAgICAqL1xuICAgIEhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChoZWFkZXIpIHsgcmV0dXJuIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5maXJzdCh0aGlzLl9oZWFkZXJzTWFwLmdldChoZWFkZXIpKTsgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayBmb3IgZXhpc3RlbmNlIG9mIGhlYWRlciBieSBnaXZlbiBuYW1lLlxuICAgICAqL1xuICAgIEhlYWRlcnMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChoZWFkZXIpIHsgcmV0dXJuIHRoaXMuX2hlYWRlcnNNYXAuaGFzKGhlYWRlcik7IH07XG4gICAgLyoqXG4gICAgICogUHJvdmlkZXMgbmFtZXMgb2Ygc2V0IGhlYWRlcnNcbiAgICAgKi9cbiAgICBIZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29sbGVjdGlvbl8xLk1hcFdyYXBwZXIua2V5cyh0aGlzLl9oZWFkZXJzTWFwKTsgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIG9yIG92ZXJyaWRlcyBoZWFkZXIgdmFsdWUgZm9yIGdpdmVuIG5hbWUuXG4gICAgICovXG4gICAgSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGhlYWRlciwgdmFsdWUpIHtcbiAgICAgICAgdmFyIGxpc3QgPSBbXTtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb25fMS5pc0xpc3RMaWtlSXRlcmFibGUodmFsdWUpKSB7XG4gICAgICAgICAgICB2YXIgcHVzaFZhbHVlID0gdmFsdWUuam9pbignLCcpO1xuICAgICAgICAgICAgbGlzdC5wdXNoKHB1c2hWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsaXN0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2hlYWRlcnNNYXAuc2V0KGhlYWRlciwgbGlzdCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHZhbHVlcyBvZiBhbGwgaGVhZGVycy5cbiAgICAgKi9cbiAgICBIZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjb2xsZWN0aW9uXzEuTWFwV3JhcHBlci52YWx1ZXModGhpcy5faGVhZGVyc01hcCk7IH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdHJpbmcgb2YgYWxsIGhlYWRlcnMuXG4gICAgICovXG4gICAgSGVhZGVycy5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VyaWFsaXphYmxlSGVhZGVycyA9IHt9O1xuICAgICAgICB0aGlzLl9oZWFkZXJzTWFwLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlcywgbmFtZSkge1xuICAgICAgICAgICAgdmFyIGxpc3QgPSBbXTtcbiAgICAgICAgICAgIGNvbGxlY3Rpb25fMS5pdGVyYXRlTGlzdExpa2UodmFsdWVzLCBmdW5jdGlvbiAodmFsKSB7IHJldHVybiBsaXN0ID0gY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmNvbmNhdChsaXN0LCB2YWwuc3BsaXQoJywnKSk7IH0pO1xuICAgICAgICAgICAgc2VyaWFsaXphYmxlSGVhZGVyc1tuYW1lXSA9IGxpc3Q7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc2VyaWFsaXphYmxlSGVhZGVycztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgbGlzdCBvZiBoZWFkZXIgdmFsdWVzIGZvciBhIGdpdmVuIG5hbWUuXG4gICAgICovXG4gICAgSGVhZGVycy5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24gKGhlYWRlcikge1xuICAgICAgICB2YXIgaGVhZGVycyA9IHRoaXMuX2hlYWRlcnNNYXAuZ2V0KGhlYWRlcik7XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uXzEuaXNMaXN0TGlrZUl0ZXJhYmxlKGhlYWRlcnMpID8gaGVhZGVycyA6IFtdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkLlxuICAgICAqL1xuICAgIEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbiAoKSB7IHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbignXCJlbnRyaWVzXCIgbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZCBvbiBIZWFkZXJzIGNsYXNzJyk7IH07XG4gICAgcmV0dXJuIEhlYWRlcnM7XG59KCkpO1xuZXhwb3J0cy5IZWFkZXJzID0gSGVhZGVycztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhlYWRlcnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgaW50ZXJmYWNlc18xID0gcmVxdWlyZSgnLi9pbnRlcmZhY2VzJyk7XG52YXIgc3RhdGljX3JlcXVlc3RfMSA9IHJlcXVpcmUoJy4vc3RhdGljX3JlcXVlc3QnKTtcbnZhciBiYXNlX3JlcXVlc3Rfb3B0aW9uc18xID0gcmVxdWlyZSgnLi9iYXNlX3JlcXVlc3Rfb3B0aW9ucycpO1xudmFyIGVudW1zXzEgPSByZXF1aXJlKCcuL2VudW1zJyk7XG5mdW5jdGlvbiBodHRwUmVxdWVzdChiYWNrZW5kLCByZXF1ZXN0KSB7XG4gICAgcmV0dXJuIGJhY2tlbmQuY3JlYXRlQ29ubmVjdGlvbihyZXF1ZXN0KS5yZXNwb25zZTtcbn1cbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyhkZWZhdWx0T3B0cywgcHJvdmlkZWRPcHRzLCBtZXRob2QsIHVybCkge1xuICAgIHZhciBuZXdPcHRpb25zID0gZGVmYXVsdE9wdHM7XG4gICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocHJvdmlkZWRPcHRzKSkge1xuICAgICAgICAvLyBIYWNrIHNvIERhcnQgY2FuIHVzZWQgbmFtZWQgcGFyYW1ldGVyc1xuICAgICAgICByZXR1cm4gbmV3T3B0aW9ucy5tZXJnZShuZXcgYmFzZV9yZXF1ZXN0X29wdGlvbnNfMS5SZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IHByb3ZpZGVkT3B0cy5tZXRob2QgfHwgbWV0aG9kLFxuICAgICAgICAgICAgdXJsOiBwcm92aWRlZE9wdHMudXJsIHx8IHVybCxcbiAgICAgICAgICAgIHNlYXJjaDogcHJvdmlkZWRPcHRzLnNlYXJjaCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHByb3ZpZGVkT3B0cy5oZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogcHJvdmlkZWRPcHRzLmJvZHlcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBpZiAobGFuZ18xLmlzUHJlc2VudChtZXRob2QpKSB7XG4gICAgICAgIHJldHVybiBuZXdPcHRpb25zLm1lcmdlKG5ldyBiYXNlX3JlcXVlc3Rfb3B0aW9uc18xLlJlcXVlc3RPcHRpb25zKHsgbWV0aG9kOiBtZXRob2QsIHVybDogdXJsIH0pKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXdPcHRpb25zLm1lcmdlKG5ldyBiYXNlX3JlcXVlc3Rfb3B0aW9uc18xLlJlcXVlc3RPcHRpb25zKHsgdXJsOiB1cmwgfSkpO1xuICAgIH1cbn1cbnZhciBIdHRwID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIdHRwKF9iYWNrZW5kLCBfZGVmYXVsdE9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fYmFja2VuZCA9IF9iYWNrZW5kO1xuICAgICAgICB0aGlzLl9kZWZhdWx0T3B0aW9ucyA9IF9kZWZhdWx0T3B0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYW55IHR5cGUgb2YgaHR0cCByZXF1ZXN0LiBGaXJzdCBhcmd1bWVudCBpcyByZXF1aXJlZCwgYW5kIGNhbiBlaXRoZXIgYmUgYSB1cmwgb3JcbiAgICAgKiBhIHtAbGluayBSZXF1ZXN0fSBpbnN0YW5jZS4gSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGEgdXJsLCBhbiBvcHRpb25hbCB7QGxpbmsgUmVxdWVzdE9wdGlvbnN9XG4gICAgICogb2JqZWN0IGNhbiBiZSBwcm92aWRlZCBhcyB0aGUgMm5kIGFyZ3VtZW50LiBUaGUgb3B0aW9ucyBvYmplY3Qgd2lsbCBiZSBtZXJnZWQgd2l0aCB0aGUgdmFsdWVzXG4gICAgICogb2Yge0BsaW5rIEJhc2VSZXF1ZXN0T3B0aW9uc30gYmVmb3JlIHBlcmZvcm1pbmcgdGhlIHJlcXVlc3QuXG4gICAgICovXG4gICAgSHR0cC5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHJlc3BvbnNlT2JzZXJ2YWJsZTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1N0cmluZyh1cmwpKSB7XG4gICAgICAgICAgICByZXNwb25zZU9ic2VydmFibGUgPSBodHRwUmVxdWVzdCh0aGlzLl9iYWNrZW5kLCBuZXcgc3RhdGljX3JlcXVlc3RfMS5SZXF1ZXN0KG1lcmdlT3B0aW9ucyh0aGlzLl9kZWZhdWx0T3B0aW9ucywgb3B0aW9ucywgZW51bXNfMS5SZXF1ZXN0TWV0aG9kLkdldCwgdXJsKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHVybCBpbnN0YW5jZW9mIHN0YXRpY19yZXF1ZXN0XzEuUmVxdWVzdCkge1xuICAgICAgICAgICAgcmVzcG9uc2VPYnNlcnZhYmxlID0gaHR0cFJlcXVlc3QodGhpcy5fYmFja2VuZCwgdXJsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGV4Y2VwdGlvbnNfMS5tYWtlVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgdXJsIHN0cmluZyBvciBSZXF1ZXN0IGluc3RhbmNlLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZU9ic2VydmFibGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHJlcXVlc3Qgd2l0aCBgZ2V0YCBodHRwIG1ldGhvZC5cbiAgICAgKi9cbiAgICBIdHRwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBodHRwUmVxdWVzdCh0aGlzLl9iYWNrZW5kLCBuZXcgc3RhdGljX3JlcXVlc3RfMS5SZXF1ZXN0KG1lcmdlT3B0aW9ucyh0aGlzLl9kZWZhdWx0T3B0aW9ucywgb3B0aW9ucywgZW51bXNfMS5SZXF1ZXN0TWV0aG9kLkdldCwgdXJsKSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSByZXF1ZXN0IHdpdGggYHBvc3RgIGh0dHAgbWV0aG9kLlxuICAgICAqL1xuICAgIEh0dHAucHJvdG90eXBlLnBvc3QgPSBmdW5jdGlvbiAodXJsLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBodHRwUmVxdWVzdCh0aGlzLl9iYWNrZW5kLCBuZXcgc3RhdGljX3JlcXVlc3RfMS5SZXF1ZXN0KG1lcmdlT3B0aW9ucyh0aGlzLl9kZWZhdWx0T3B0aW9ucy5tZXJnZShuZXcgYmFzZV9yZXF1ZXN0X29wdGlvbnNfMS5SZXF1ZXN0T3B0aW9ucyh7IGJvZHk6IGJvZHkgfSkpLCBvcHRpb25zLCBlbnVtc18xLlJlcXVlc3RNZXRob2QuUG9zdCwgdXJsKSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSByZXF1ZXN0IHdpdGggYHB1dGAgaHR0cCBtZXRob2QuXG4gICAgICovXG4gICAgSHR0cC5wcm90b3R5cGUucHV0ID0gZnVuY3Rpb24gKHVybCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gaHR0cFJlcXVlc3QodGhpcy5fYmFja2VuZCwgbmV3IHN0YXRpY19yZXF1ZXN0XzEuUmVxdWVzdChtZXJnZU9wdGlvbnModGhpcy5fZGVmYXVsdE9wdGlvbnMubWVyZ2UobmV3IGJhc2VfcmVxdWVzdF9vcHRpb25zXzEuUmVxdWVzdE9wdGlvbnMoeyBib2R5OiBib2R5IH0pKSwgb3B0aW9ucywgZW51bXNfMS5SZXF1ZXN0TWV0aG9kLlB1dCwgdXJsKSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSByZXF1ZXN0IHdpdGggYGRlbGV0ZWAgaHR0cCBtZXRob2QuXG4gICAgICovXG4gICAgSHR0cC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gaHR0cFJlcXVlc3QodGhpcy5fYmFja2VuZCwgbmV3IHN0YXRpY19yZXF1ZXN0XzEuUmVxdWVzdChtZXJnZU9wdGlvbnModGhpcy5fZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMsIGVudW1zXzEuUmVxdWVzdE1ldGhvZC5EZWxldGUsIHVybCkpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgcmVxdWVzdCB3aXRoIGBwYXRjaGAgaHR0cCBtZXRob2QuXG4gICAgICovXG4gICAgSHR0cC5wcm90b3R5cGUucGF0Y2ggPSBmdW5jdGlvbiAodXJsLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBodHRwUmVxdWVzdCh0aGlzLl9iYWNrZW5kLCBuZXcgc3RhdGljX3JlcXVlc3RfMS5SZXF1ZXN0KG1lcmdlT3B0aW9ucyh0aGlzLl9kZWZhdWx0T3B0aW9ucy5tZXJnZShuZXcgYmFzZV9yZXF1ZXN0X29wdGlvbnNfMS5SZXF1ZXN0T3B0aW9ucyh7IGJvZHk6IGJvZHkgfSkpLCBvcHRpb25zLCBlbnVtc18xLlJlcXVlc3RNZXRob2QuUGF0Y2gsIHVybCkpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgcmVxdWVzdCB3aXRoIGBoZWFkYCBodHRwIG1ldGhvZC5cbiAgICAgKi9cbiAgICBIdHRwLnByb3RvdHlwZS5oZWFkID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gaHR0cFJlcXVlc3QodGhpcy5fYmFja2VuZCwgbmV3IHN0YXRpY19yZXF1ZXN0XzEuUmVxdWVzdChtZXJnZU9wdGlvbnModGhpcy5fZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMsIGVudW1zXzEuUmVxdWVzdE1ldGhvZC5IZWFkLCB1cmwpKSk7XG4gICAgfTtcbiAgICBIdHRwLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIEh0dHAuY3RvclBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHsgdHlwZTogaW50ZXJmYWNlc18xLkNvbm5lY3Rpb25CYWNrZW5kLCB9LFxuICAgICAgICB7IHR5cGU6IGJhc2VfcmVxdWVzdF9vcHRpb25zXzEuUmVxdWVzdE9wdGlvbnMsIH0sXG4gICAgXTtcbiAgICByZXR1cm4gSHR0cDtcbn0oKSk7XG5leHBvcnRzLkh0dHAgPSBIdHRwO1xudmFyIEpzb25wID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSnNvbnAsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSnNvbnAoYmFja2VuZCwgZGVmYXVsdE9wdGlvbnMpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgYmFja2VuZCwgZGVmYXVsdE9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhbnkgdHlwZSBvZiBodHRwIHJlcXVlc3QuIEZpcnN0IGFyZ3VtZW50IGlzIHJlcXVpcmVkLCBhbmQgY2FuIGVpdGhlciBiZSBhIHVybCBvclxuICAgICAqIGEge0BsaW5rIFJlcXVlc3R9IGluc3RhbmNlLiBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYSB1cmwsIGFuIG9wdGlvbmFsIHtAbGluayBSZXF1ZXN0T3B0aW9uc31cbiAgICAgKiBvYmplY3QgY2FuIGJlIHByb3ZpZGVkIGFzIHRoZSAybmQgYXJndW1lbnQuIFRoZSBvcHRpb25zIG9iamVjdCB3aWxsIGJlIG1lcmdlZCB3aXRoIHRoZSB2YWx1ZXNcbiAgICAgKiBvZiB7QGxpbmsgQmFzZVJlcXVlc3RPcHRpb25zfSBiZWZvcmUgcGVyZm9ybWluZyB0aGUgcmVxdWVzdC5cbiAgICAgKi9cbiAgICBKc29ucC5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHJlc3BvbnNlT2JzZXJ2YWJsZTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1N0cmluZyh1cmwpKSB7XG4gICAgICAgICAgICB1cmwgPVxuICAgICAgICAgICAgICAgIG5ldyBzdGF0aWNfcmVxdWVzdF8xLlJlcXVlc3QobWVyZ2VPcHRpb25zKHRoaXMuX2RlZmF1bHRPcHRpb25zLCBvcHRpb25zLCBlbnVtc18xLlJlcXVlc3RNZXRob2QuR2V0LCB1cmwpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJsIGluc3RhbmNlb2Ygc3RhdGljX3JlcXVlc3RfMS5SZXF1ZXN0KSB7XG4gICAgICAgICAgICBpZiAodXJsLm1ldGhvZCAhPT0gZW51bXNfMS5SZXF1ZXN0TWV0aG9kLkdldCkge1xuICAgICAgICAgICAgICAgIGV4Y2VwdGlvbnNfMS5tYWtlVHlwZUVycm9yKCdKU09OUCByZXF1ZXN0cyBtdXN0IHVzZSBHRVQgcmVxdWVzdCBtZXRob2QuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNwb25zZU9ic2VydmFibGUgPSBodHRwUmVxdWVzdCh0aGlzLl9iYWNrZW5kLCB1cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZXhjZXB0aW9uc18xLm1ha2VUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSB1cmwgc3RyaW5nIG9yIFJlcXVlc3QgaW5zdGFuY2UuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlT2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIEpzb25wLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIEpzb25wLmN0b3JQYXJhbWV0ZXJzID0gW1xuICAgICAgICB7IHR5cGU6IGludGVyZmFjZXNfMS5Db25uZWN0aW9uQmFja2VuZCwgfSxcbiAgICAgICAgeyB0eXBlOiBiYXNlX3JlcXVlc3Rfb3B0aW9uc18xLlJlcXVlc3RPcHRpb25zLCB9LFxuICAgIF07XG4gICAgcmV0dXJuIEpzb25wO1xufShIdHRwKSk7XG5leHBvcnRzLkpzb25wID0gSnNvbnA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odHRwLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGVudW1zXzEgPSByZXF1aXJlKCcuL2VudW1zJyk7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG5mdW5jdGlvbiBub3JtYWxpemVNZXRob2ROYW1lKG1ldGhvZCkge1xuICAgIGlmIChsYW5nXzEuaXNTdHJpbmcobWV0aG9kKSkge1xuICAgICAgICB2YXIgb3JpZ2luYWxNZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIG1ldGhvZCA9IG1ldGhvZFxuICAgICAgICAgICAgLnJlcGxhY2UoLyhcXHcpKFxcdyopL2csIGZ1bmN0aW9uIChnMCwgZzEsIGcyKSB7XG4gICAgICAgICAgICByZXR1cm4gZzEudG9VcHBlckNhc2UoKSArIGcyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBtZXRob2QgPSBlbnVtc18xLlJlcXVlc3RNZXRob2RbbWV0aG9kXTtcbiAgICAgICAgaWYgKHR5cGVvZiBtZXRob2QgIT09ICdudW1iZXInKVxuICAgICAgICAgICAgdGhyb3cgZXhjZXB0aW9uc18xLm1ha2VUeXBlRXJyb3IoXCJJbnZhbGlkIHJlcXVlc3QgbWV0aG9kLiBUaGUgbWV0aG9kIFxcXCJcIiArIG9yaWdpbmFsTWV0aG9kICsgXCJcXFwiIGlzIG5vdCBzdXBwb3J0ZWQuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbWV0aG9kO1xufVxuZXhwb3J0cy5ub3JtYWxpemVNZXRob2ROYW1lID0gbm9ybWFsaXplTWV0aG9kTmFtZTtcbmV4cG9ydHMuaXNTdWNjZXNzID0gZnVuY3Rpb24gKHN0YXR1cykgeyByZXR1cm4gKHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwKTsgfTtcbmZ1bmN0aW9uIGdldFJlc3BvbnNlVVJMKHhocikge1xuICAgIGlmICgncmVzcG9uc2VVUkwnIGluIHhocikge1xuICAgICAgICByZXR1cm4geGhyLnJlc3BvbnNlVVJMO1xuICAgIH1cbiAgICBpZiAoL15YLVJlcXVlc3QtVVJMOi9tLnRlc3QoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSkge1xuICAgICAgICByZXR1cm4geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdYLVJlcXVlc3QtVVJMJyk7XG4gICAgfVxuICAgIHJldHVybjtcbn1cbmV4cG9ydHMuZ2V0UmVzcG9uc2VVUkwgPSBnZXRSZXNwb25zZVVSTDtcbnZhciBsYW5nXzIgPSByZXF1aXJlKCcuLi9zcmMvZmFjYWRlL2xhbmcnKTtcbmV4cG9ydHMuaXNKc09iamVjdCA9IGxhbmdfMi5pc0pzT2JqZWN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHR0cF91dGlscy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQWJzdHJhY3QgY2xhc3MgZnJvbSB3aGljaCByZWFsIGJhY2tlbmRzIGFyZSBkZXJpdmVkLlxuICpcbiAqIFRoZSBwcmltYXJ5IHB1cnBvc2Ugb2YgYSBgQ29ubmVjdGlvbkJhY2tlbmRgIGlzIHRvIGNyZWF0ZSBuZXcgY29ubmVjdGlvbnMgdG8gZnVsZmlsbCBhIGdpdmVuXG4gKiB7QGxpbmsgUmVxdWVzdH0uXG4gKi9cbnZhciBDb25uZWN0aW9uQmFja2VuZCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29ubmVjdGlvbkJhY2tlbmQoKSB7XG4gICAgfVxuICAgIHJldHVybiBDb25uZWN0aW9uQmFja2VuZDtcbn0oKSk7XG5leHBvcnRzLkNvbm5lY3Rpb25CYWNrZW5kID0gQ29ubmVjdGlvbkJhY2tlbmQ7XG4vKipcbiAqIEFic3RyYWN0IGNsYXNzIGZyb20gd2hpY2ggcmVhbCBjb25uZWN0aW9ucyBhcmUgZGVyaXZlZC5cbiAqL1xudmFyIENvbm5lY3Rpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbm5lY3Rpb24oKSB7XG4gICAgfVxuICAgIHJldHVybiBDb25uZWN0aW9uO1xufSgpKTtcbmV4cG9ydHMuQ29ubmVjdGlvbiA9IENvbm5lY3Rpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcmZhY2VzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGhlYWRlcnNfMSA9IHJlcXVpcmUoJy4vaGVhZGVycycpO1xudmFyIGh0dHBfdXRpbHNfMSA9IHJlcXVpcmUoJy4vaHR0cF91dGlscycpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvbGFuZycpO1xuLy8gVE9ETyhqZWZmYmNyb3NzKTogcHJvcGVybHkgaW1wbGVtZW50IGJvZHkgYWNjZXNzb3JzXG4vKipcbiAqIENyZWF0ZXMgYFJlcXVlc3RgIGluc3RhbmNlcyBmcm9tIHByb3ZpZGVkIHZhbHVlcy5cbiAqXG4gKiBUaGUgUmVxdWVzdCdzIGludGVyZmFjZSBpcyBpbnNwaXJlZCBieSB0aGUgUmVxdWVzdCBjb25zdHJ1Y3RvciBkZWZpbmVkIGluIHRoZSBbRmV0Y2hcbiAqIFNwZWNdKGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNyZXF1ZXN0LWNsYXNzKSxcbiAqIGJ1dCBpcyBjb25zaWRlcmVkIGEgc3RhdGljIHZhbHVlIHdob3NlIGJvZHkgY2FuIGJlIGFjY2Vzc2VkIG1hbnkgdGltZXMuIFRoZXJlIGFyZSBvdGhlclxuICogZGlmZmVyZW5jZXMgaW4gdGhlIGltcGxlbWVudGF0aW9uLCBidXQgdGhpcyBpcyB0aGUgbW9zdCBzaWduaWZpY2FudC5cbiAqXG4gKiBgUmVxdWVzdGAgaW5zdGFuY2VzIGFyZSB0eXBpY2FsbHkgY3JlYXRlZCBieSBoaWdoZXItbGV2ZWwgY2xhc3NlcywgbGlrZSB7QGxpbmsgSHR0cH0gYW5kXG4gKiB7QGxpbmsgSnNvbnB9LCBidXQgaXQgbWF5IG9jY2FzaW9uYWxseSBiZSB1c2VmdWwgdG8gZXhwbGljaXRseSBjcmVhdGUgYFJlcXVlc3RgIGluc3RhbmNlcy5cbiAqIE9uZSBzdWNoIGV4YW1wbGUgaXMgd2hlbiBjcmVhdGluZyBzZXJ2aWNlcyB0aGF0IHdyYXAgaGlnaGVyLWxldmVsIHNlcnZpY2VzLCBsaWtlIHtAbGluayBIdHRwfSxcbiAqIHdoZXJlIGl0IG1heSBiZSB1c2VmdWwgdG8gZ2VuZXJhdGUgYSBgUmVxdWVzdGAgd2l0aCBhcmJpdHJhcnkgaGVhZGVycyBhbmQgc2VhcmNoIHBhcmFtcy5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQge0luamVjdGFibGUsIEluamVjdG9yfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbiAqIGltcG9ydCB7SFRUUF9QUk9WSURFUlMsIEh0dHAsIFJlcXVlc3QsIFJlcXVlc3RNZXRob2R9IGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuICpcbiAqIEBJbmplY3RhYmxlKClcbiAqIGNsYXNzIEF1dG9BdXRoZW50aWNhdG9yIHtcbiAqICAgY29uc3RydWN0b3IocHVibGljIGh0dHA6SHR0cCkge31cbiAqICAgcmVxdWVzdCh1cmw6c3RyaW5nKSB7XG4gKiAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KG5ldyBSZXF1ZXN0KHtcbiAqICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gKiAgICAgICB1cmw6IHVybCxcbiAqICAgICAgIHNlYXJjaDogJ3Bhc3N3b3JkPTEyMydcbiAqICAgICB9KSk7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiB2YXIgaW5qZWN0b3IgPSBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtIVFRQX1BST1ZJREVSUywgQXV0b0F1dGhlbnRpY2F0b3JdKTtcbiAqIHZhciBhdXRoZW50aWNhdG9yID0gaW5qZWN0b3IuZ2V0KEF1dG9BdXRoZW50aWNhdG9yKTtcbiAqIGF1dGhlbnRpY2F0b3IucmVxdWVzdCgncGVvcGxlLmpzb24nKS5zdWJzY3JpYmUocmVzID0+IHtcbiAqICAgLy9VUkwgc2hvdWxkIGhhdmUgaW5jbHVkZWQgJz9wYXNzd29yZD0xMjMnXG4gKiAgIGNvbnNvbGUubG9nKCdwZW9wbGUnLCByZXMuanNvbigpKTtcbiAqIH0pO1xuICogYGBgXG4gKi9cbnZhciBSZXF1ZXN0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXF1ZXN0KHJlcXVlc3RPcHRpb25zKSB7XG4gICAgICAgIC8vIFRPRE86IGFzc2VydCB0aGF0IHVybCBpcyBwcmVzZW50XG4gICAgICAgIHZhciB1cmwgPSByZXF1ZXN0T3B0aW9ucy51cmw7XG4gICAgICAgIHRoaXMudXJsID0gcmVxdWVzdE9wdGlvbnMudXJsO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChyZXF1ZXN0T3B0aW9ucy5zZWFyY2gpKSB7XG4gICAgICAgICAgICB2YXIgc2VhcmNoID0gcmVxdWVzdE9wdGlvbnMuc2VhcmNoLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoc2VhcmNoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJlZml4ID0gJz8nO1xuICAgICAgICAgICAgICAgIGlmIChsYW5nXzEuU3RyaW5nV3JhcHBlci5jb250YWlucyh0aGlzLnVybCwgJz8nKSkge1xuICAgICAgICAgICAgICAgICAgICBwcmVmaXggPSAodGhpcy51cmxbdGhpcy51cmwubGVuZ3RoIC0gMV0gPT0gJyYnKSA/ICcnIDogJyYnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBqdXN0IGRlbGV0ZSBzZWFyY2gtcXVlcnktbG9va2luZyBzdHJpbmcgaW4gdXJsP1xuICAgICAgICAgICAgICAgIHRoaXMudXJsID0gdXJsICsgcHJlZml4ICsgc2VhcmNoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2JvZHkgPSByZXF1ZXN0T3B0aW9ucy5ib2R5O1xuICAgICAgICB0aGlzLm1ldGhvZCA9IGh0dHBfdXRpbHNfMS5ub3JtYWxpemVNZXRob2ROYW1lKHJlcXVlc3RPcHRpb25zLm1ldGhvZCk7XG4gICAgICAgIC8vIFRPRE8oamVmZmJjcm9zcyk6IGltcGxlbWVudCBiZWhhdmlvclxuICAgICAgICAvLyBEZWZhdWx0cyB0byAnb21pdCcsIGNvbnNpc3RlbnQgd2l0aCBicm93c2VyXG4gICAgICAgIC8vIFRPRE8oamVmZmJjcm9zcyk6IGltcGxlbWVudCBiZWhhdmlvclxuICAgICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgaGVhZGVyc18xLkhlYWRlcnMocmVxdWVzdE9wdGlvbnMuaGVhZGVycyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHJlcXVlc3QncyBib2R5IGFzIHN0cmluZywgYXNzdW1pbmcgdGhhdCBib2R5IGV4aXN0cy4gSWYgYm9keSBpcyB1bmRlZmluZWQsIHJldHVyblxuICAgICAqIGVtcHR5XG4gICAgICogc3RyaW5nLlxuICAgICAqL1xuICAgIFJlcXVlc3QucHJvdG90eXBlLnRleHQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHRoaXMuX2JvZHkpID8gdGhpcy5fYm9keS50b1N0cmluZygpIDogJyc7IH07XG4gICAgcmV0dXJuIFJlcXVlc3Q7XG59KCkpO1xuZXhwb3J0cy5SZXF1ZXN0ID0gUmVxdWVzdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YXRpY19yZXF1ZXN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4uL3NyYy9mYWNhZGUvZXhjZXB0aW9ucycpO1xudmFyIGh0dHBfdXRpbHNfMSA9IHJlcXVpcmUoJy4vaHR0cF91dGlscycpO1xuLyoqXG4gKiBDcmVhdGVzIGBSZXNwb25zZWAgaW5zdGFuY2VzIGZyb20gcHJvdmlkZWQgdmFsdWVzLlxuICpcbiAqIFRob3VnaCB0aGlzIG9iamVjdCBpc24ndFxuICogdXN1YWxseSBpbnN0YW50aWF0ZWQgYnkgZW5kLXVzZXJzLCBpdCBpcyB0aGUgcHJpbWFyeSBvYmplY3QgaW50ZXJhY3RlZCB3aXRoIHdoZW4gaXQgY29tZXMgdGltZSB0b1xuICogYWRkIGRhdGEgdG8gYSB2aWV3LlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgXG4gKiBodHRwLnJlcXVlc3QoJ215LWZyaWVuZHMudHh0Jykuc3Vic2NyaWJlKHJlc3BvbnNlID0+IHRoaXMuZnJpZW5kcyA9IHJlc3BvbnNlLnRleHQoKSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgUmVzcG9uc2UncyBpbnRlcmZhY2UgaXMgaW5zcGlyZWQgYnkgdGhlIFJlc3BvbnNlIGNvbnN0cnVjdG9yIGRlZmluZWQgaW4gdGhlIFtGZXRjaFxuICogU3BlY10oaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI3Jlc3BvbnNlLWNsYXNzKSwgYnV0IGlzIGNvbnNpZGVyZWQgYSBzdGF0aWMgdmFsdWUgd2hvc2UgYm9keVxuICogY2FuIGJlIGFjY2Vzc2VkIG1hbnkgdGltZXMuIFRoZXJlIGFyZSBvdGhlciBkaWZmZXJlbmNlcyBpbiB0aGUgaW1wbGVtZW50YXRpb24sIGJ1dCB0aGlzIGlzIHRoZVxuICogbW9zdCBzaWduaWZpY2FudC5cbiAqL1xudmFyIFJlc3BvbnNlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNwb25zZShyZXNwb25zZU9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fYm9keSA9IHJlc3BvbnNlT3B0aW9ucy5ib2R5O1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHJlc3BvbnNlT3B0aW9ucy5zdGF0dXM7XG4gICAgICAgIHRoaXMub2sgPSAodGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDw9IDI5OSk7XG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dCA9IHJlc3BvbnNlT3B0aW9ucy5zdGF0dXNUZXh0O1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSByZXNwb25zZU9wdGlvbnMuaGVhZGVycztcbiAgICAgICAgdGhpcy50eXBlID0gcmVzcG9uc2VPcHRpb25zLnR5cGU7XG4gICAgICAgIHRoaXMudXJsID0gcmVzcG9uc2VPcHRpb25zLnVybDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm90IHlldCBpbXBsZW1lbnRlZFxuICAgICAqL1xuICAgIC8vIFRPRE86IEJsb2IgcmV0dXJuIHR5cGVcbiAgICBSZXNwb25zZS5wcm90b3R5cGUuYmxvYiA9IGZ1bmN0aW9uICgpIHsgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKCdcImJsb2IoKVwiIG1ldGhvZCBub3QgaW1wbGVtZW50ZWQgb24gUmVzcG9uc2Ugc3VwZXJjbGFzcycpOyB9O1xuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIHRvIHJldHVybiBib2R5IGFzIHBhcnNlZCBgSlNPTmAgb2JqZWN0LCBvciByYWlzZXMgYW4gZXhjZXB0aW9uLlxuICAgICAqL1xuICAgIFJlc3BvbnNlLnByb3RvdHlwZS5qc29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIganNvblJlc3BvbnNlO1xuICAgICAgICBpZiAoaHR0cF91dGlsc18xLmlzSnNPYmplY3QodGhpcy5fYm9keSkpIHtcbiAgICAgICAgICAgIGpzb25SZXNwb25zZSA9IHRoaXMuX2JvZHk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGFuZ18xLmlzU3RyaW5nKHRoaXMuX2JvZHkpKSB7XG4gICAgICAgICAgICBqc29uUmVzcG9uc2UgPSBsYW5nXzEuSnNvbi5wYXJzZSh0aGlzLl9ib2R5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ganNvblJlc3BvbnNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYm9keSBhcyBhIHN0cmluZywgcHJlc3VtaW5nIGB0b1N0cmluZygpYCBjYW4gYmUgY2FsbGVkIG9uIHRoZSByZXNwb25zZSBib2R5LlxuICAgICAqL1xuICAgIFJlc3BvbnNlLnByb3RvdHlwZS50ZXh0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fYm9keS50b1N0cmluZygpOyB9O1xuICAgIC8qKlxuICAgICAqIE5vdCB5ZXQgaW1wbGVtZW50ZWRcbiAgICAgKi9cbiAgICAvLyBUT0RPOiBBcnJheUJ1ZmZlciByZXR1cm4gdHlwZVxuICAgIFJlc3BvbnNlLnByb3RvdHlwZS5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKCdcImFycmF5QnVmZmVyKClcIiBtZXRob2Qgbm90IGltcGxlbWVudGVkIG9uIFJlc3BvbnNlIHN1cGVyY2xhc3MnKTtcbiAgICB9O1xuICAgIHJldHVybiBSZXNwb25zZTtcbn0oKSk7XG5leHBvcnRzLlJlc3BvbnNlID0gUmVzcG9uc2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGF0aWNfcmVzcG9uc2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZSgnLi4vc3JjL2ZhY2FkZS9jb2xsZWN0aW9uJyk7XG5mdW5jdGlvbiBwYXJhbVBhcnNlcihyYXdQYXJhbXMpIHtcbiAgICBpZiAocmF3UGFyYW1zID09PSB2b2lkIDApIHsgcmF3UGFyYW1zID0gJyc7IH1cbiAgICB2YXIgbWFwID0gbmV3IGNvbGxlY3Rpb25fMS5NYXAoKTtcbiAgICBpZiAocmF3UGFyYW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIHBhcmFtcyA9IHJhd1BhcmFtcy5zcGxpdCgnJicpO1xuICAgICAgICBwYXJhbXMuZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgICAgIHZhciBzcGxpdCA9IHBhcmFtLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgICB2YXIga2V5ID0gc3BsaXRbMF07XG4gICAgICAgICAgICB2YXIgdmFsID0gc3BsaXRbMV07XG4gICAgICAgICAgICB2YXIgbGlzdCA9IGxhbmdfMS5pc1ByZXNlbnQobWFwLmdldChrZXkpKSA/IG1hcC5nZXQoa2V5KSA6IFtdO1xuICAgICAgICAgICAgbGlzdC5wdXNoKHZhbCk7XG4gICAgICAgICAgICBtYXAuc2V0KGtleSwgbGlzdCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbWFwO1xufVxuLyoqXG4gKiBNYXAtbGlrZSByZXByZXNlbnRhdGlvbiBvZiB1cmwgc2VhcmNoIHBhcmFtZXRlcnMsIGJhc2VkIG9uXG4gKiBbVVJMU2VhcmNoUGFyYW1zXShodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHNlYXJjaHBhcmFtcykgaW4gdGhlIHVybCBsaXZpbmcgc3RhbmRhcmQsXG4gKiB3aXRoIHNldmVyYWwgZXh0ZW5zaW9ucyBmb3IgbWVyZ2luZyBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0czpcbiAqICAgLSBzZXRBbGwoKVxuICogICAtIGFwcGVuZEFsbCgpXG4gKiAgIC0gcmVwbGFjZUFsbCgpXG4gKi9cbnZhciBVUkxTZWFyY2hQYXJhbXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFVSTFNlYXJjaFBhcmFtcyhyYXdQYXJhbXMpIHtcbiAgICAgICAgaWYgKHJhd1BhcmFtcyA9PT0gdm9pZCAwKSB7IHJhd1BhcmFtcyA9ICcnOyB9XG4gICAgICAgIHRoaXMucmF3UGFyYW1zID0gcmF3UGFyYW1zO1xuICAgICAgICB0aGlzLnBhcmFtc01hcCA9IHBhcmFtUGFyc2VyKHJhd1BhcmFtcyk7XG4gICAgfVxuICAgIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjbG9uZSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgY2xvbmUuYXBwZW5kQWxsKHRoaXMpO1xuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfTtcbiAgICBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gdGhpcy5wYXJhbXNNYXAuaGFzKHBhcmFtKTsgfTtcbiAgICBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgICB2YXIgc3RvcmVkUGFyYW0gPSB0aGlzLnBhcmFtc01hcC5nZXQocGFyYW0pO1xuICAgICAgICBpZiAoY29sbGVjdGlvbl8xLmlzTGlzdExpa2VJdGVyYWJsZShzdG9yZWRQYXJhbSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuZmlyc3Qoc3RvcmVkUGFyYW0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuZ2V0QWxsID0gZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICAgIHZhciBtYXBQYXJhbSA9IHRoaXMucGFyYW1zTWFwLmdldChwYXJhbSk7XG4gICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KG1hcFBhcmFtKSA/IG1hcFBhcmFtIDogW107XG4gICAgfTtcbiAgICBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChwYXJhbSwgdmFsKSB7XG4gICAgICAgIHZhciBtYXBQYXJhbSA9IHRoaXMucGFyYW1zTWFwLmdldChwYXJhbSk7XG4gICAgICAgIHZhciBsaXN0ID0gbGFuZ18xLmlzUHJlc2VudChtYXBQYXJhbSkgPyBtYXBQYXJhbSA6IFtdO1xuICAgICAgICBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuY2xlYXIobGlzdCk7XG4gICAgICAgIGxpc3QucHVzaCh2YWwpO1xuICAgICAgICB0aGlzLnBhcmFtc01hcC5zZXQocGFyYW0sIGxpc3QpO1xuICAgIH07XG4gICAgLy8gQSBtZXJnZSBvcGVyYXRpb25cbiAgICAvLyBGb3IgZWFjaCBuYW1lLXZhbHVlcyBwYWlyIGluIGBzZWFyY2hQYXJhbXNgLCBwZXJmb3JtIGBzZXQobmFtZSwgdmFsdWVzWzBdKWBcbiAgICAvL1xuICAgIC8vIEUuZzogXCJhPVsxLDIsM10sIGM9WzhdXCIgKyBcImE9WzQsNSw2XSwgYj1bN11cIiA9IFwiYT1bNF0sIGM9WzhdLCBiPVs3XVwiXG4gICAgLy9cbiAgICAvLyBUT0RPKEBjYWl0cCk6IGRvY3VtZW50IHRoaXMgYmV0dGVyXG4gICAgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5zZXRBbGwgPSBmdW5jdGlvbiAoc2VhcmNoUGFyYW1zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHNlYXJjaFBhcmFtcy5wYXJhbXNNYXAuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIHBhcmFtKSB7XG4gICAgICAgICAgICB2YXIgbWFwUGFyYW0gPSBfdGhpcy5wYXJhbXNNYXAuZ2V0KHBhcmFtKTtcbiAgICAgICAgICAgIHZhciBsaXN0ID0gbGFuZ18xLmlzUHJlc2VudChtYXBQYXJhbSkgPyBtYXBQYXJhbSA6IFtdO1xuICAgICAgICAgICAgY29sbGVjdGlvbl8xLkxpc3RXcmFwcGVyLmNsZWFyKGxpc3QpO1xuICAgICAgICAgICAgbGlzdC5wdXNoKHZhbHVlWzBdKTtcbiAgICAgICAgICAgIF90aGlzLnBhcmFtc01hcC5zZXQocGFyYW0sIGxpc3QpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKHBhcmFtLCB2YWwpIHtcbiAgICAgICAgdmFyIG1hcFBhcmFtID0gdGhpcy5wYXJhbXNNYXAuZ2V0KHBhcmFtKTtcbiAgICAgICAgdmFyIGxpc3QgPSBsYW5nXzEuaXNQcmVzZW50KG1hcFBhcmFtKSA/IG1hcFBhcmFtIDogW107XG4gICAgICAgIGxpc3QucHVzaCh2YWwpO1xuICAgICAgICB0aGlzLnBhcmFtc01hcC5zZXQocGFyYW0sIGxpc3QpO1xuICAgIH07XG4gICAgLy8gQSBtZXJnZSBvcGVyYXRpb25cbiAgICAvLyBGb3IgZWFjaCBuYW1lLXZhbHVlcyBwYWlyIGluIGBzZWFyY2hQYXJhbXNgLCBwZXJmb3JtIGBhcHBlbmQobmFtZSwgdmFsdWUpYFxuICAgIC8vIGZvciBlYWNoIHZhbHVlIGluIGB2YWx1ZXNgLlxuICAgIC8vXG4gICAgLy8gRS5nOiBcImE9WzEsMl0sIGM9WzhdXCIgKyBcImE9WzMsNF0sIGI9WzddXCIgPSBcImE9WzEsMiwzLDRdLCBjPVs4XSwgYj1bN11cIlxuICAgIC8vXG4gICAgLy8gVE9ETyhAY2FpdHApOiBkb2N1bWVudCB0aGlzIGJldHRlclxuICAgIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuYXBwZW5kQWxsID0gZnVuY3Rpb24gKHNlYXJjaFBhcmFtcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBzZWFyY2hQYXJhbXMucGFyYW1zTWFwLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBwYXJhbSkge1xuICAgICAgICAgICAgdmFyIG1hcFBhcmFtID0gX3RoaXMucGFyYW1zTWFwLmdldChwYXJhbSk7XG4gICAgICAgICAgICB2YXIgbGlzdCA9IGxhbmdfMS5pc1ByZXNlbnQobWFwUGFyYW0pID8gbWFwUGFyYW0gOiBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2godmFsdWVbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMucGFyYW1zTWFwLnNldChwYXJhbSwgbGlzdCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gQSBtZXJnZSBvcGVyYXRpb25cbiAgICAvLyBGb3IgZWFjaCBuYW1lLXZhbHVlcyBwYWlyIGluIGBzZWFyY2hQYXJhbXNgLCBwZXJmb3JtIGBkZWxldGUobmFtZSlgLFxuICAgIC8vIGZvbGxvd2VkIGJ5IGBzZXQobmFtZSwgdmFsdWVzKWBcbiAgICAvL1xuICAgIC8vIEUuZzogXCJhPVsxLDIsM10sIGM9WzhdXCIgKyBcImE9WzQsNSw2XSwgYj1bN11cIiA9IFwiYT1bNCw1LDZdLCBjPVs4XSwgYj1bN11cIlxuICAgIC8vXG4gICAgLy8gVE9ETyhAY2FpdHApOiBkb2N1bWVudCB0aGlzIGJldHRlclxuICAgIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUucmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChzZWFyY2hQYXJhbXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgc2VhcmNoUGFyYW1zLnBhcmFtc01hcC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgcGFyYW0pIHtcbiAgICAgICAgICAgIHZhciBtYXBQYXJhbSA9IF90aGlzLnBhcmFtc01hcC5nZXQocGFyYW0pO1xuICAgICAgICAgICAgdmFyIGxpc3QgPSBsYW5nXzEuaXNQcmVzZW50KG1hcFBhcmFtKSA/IG1hcFBhcmFtIDogW107XG4gICAgICAgICAgICBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuY2xlYXIobGlzdCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKHZhbHVlW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnBhcmFtc01hcC5zZXQocGFyYW0sIGxpc3QpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwYXJhbXNMaXN0ID0gW107XG4gICAgICAgIHRoaXMucGFyYW1zTWFwLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlcywgaykgeyB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAodikgeyByZXR1cm4gcGFyYW1zTGlzdC5wdXNoKGsgKyAnPScgKyB2KTsgfSk7IH0pO1xuICAgICAgICByZXR1cm4gcGFyYW1zTGlzdC5qb2luKCcmJyk7XG4gICAgfTtcbiAgICBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChwYXJhbSkgeyB0aGlzLnBhcmFtc01hcC5kZWxldGUocGFyYW0pOyB9O1xuICAgIHJldHVybiBVUkxTZWFyY2hQYXJhbXM7XG59KCkpO1xuZXhwb3J0cy5VUkxTZWFyY2hQYXJhbXMgPSBVUkxTZWFyY2hQYXJhbXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cmxfc2VhcmNoX3BhcmFtcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG5leHBvcnRzLlJlZmxlY3Rpb25DYXBhYmlsaXRpZXMgPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy5SZWZsZWN0aW9uQ2FwYWJpbGl0aWVzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29yZV9wcml2YXRlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbl9fZXhwb3J0KHJlcXVpcmUoJy4vcGxhdGZvcm1fYnJvd3Nlcl9keW5hbWljJykpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29tcGlsZXJfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvbXBpbGVyJyk7XG52YXIgeGhyX2NhY2hlXzEgPSByZXF1aXJlKCcuL3NyYy94aHIveGhyX2NhY2hlJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciB4aHJfaW1wbF8xID0gcmVxdWlyZSgnLi9zcmMveGhyL3hocl9pbXBsJyk7XG52YXIgcGxhdGZvcm1fYnJvd3Nlcl8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3NlcicpO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBjb3JlX3ByaXZhdGVfMSA9IHJlcXVpcmUoJy4vY29yZV9wcml2YXRlJyk7XG5leHBvcnRzLkNBQ0hFRF9URU1QTEFURV9QUk9WSURFUiA9IFxuLypAdHMyZGFydF9jb25zdCovIFt7IHByb3ZpZGU6IGNvbXBpbGVyXzEuWEhSLCB1c2VDbGFzczogeGhyX2NhY2hlXzEuQ2FjaGVkWEhSIH1dO1xuLyoqXG4gKiBBbiBhcnJheSBvZiBwcm92aWRlcnMgdGhhdCBzaG91bGQgYmUgcGFzc2VkIGludG8gYGFwcGxpY2F0aW9uKClgIHdoZW4gYm9vdHN0cmFwcGluZyBhIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0cy5CUk9XU0VSX0FQUF9EWU5BTUlDX1BST1ZJREVSUyA9IFxuLypAdHMyZGFydF9jb25zdCovIFtcbiAgICBwbGF0Zm9ybV9icm93c2VyXzEuQlJPV1NFUl9BUFBfQ09NTU9OX1BST1ZJREVSUyxcbiAgICBjb21waWxlcl8xLkNPTVBJTEVSX1BST1ZJREVSUyxcbiAgICB7IHByb3ZpZGU6IGNvbXBpbGVyXzEuWEhSLCB1c2VDbGFzczogeGhyX2ltcGxfMS5YSFJJbXBsIH0sXG5dO1xuLyoqXG4gKiBCb290c3RyYXBwaW5nIGZvciBBbmd1bGFyIGFwcGxpY2F0aW9ucy5cbiAqXG4gKiBZb3UgaW5zdGFudGlhdGUgYW4gQW5ndWxhciBhcHBsaWNhdGlvbiBieSBleHBsaWNpdGx5IHNwZWNpZnlpbmcgYSBjb21wb25lbnQgdG8gdXNlXG4gKiBhcyB0aGUgcm9vdCBjb21wb25lbnQgZm9yIHlvdXIgYXBwbGljYXRpb24gdmlhIHRoZSBgYm9vdHN0cmFwKClgIG1ldGhvZC5cbiAqXG4gKiAjIyBTaW1wbGUgRXhhbXBsZVxuICpcbiAqIEFzc3VtaW5nIHRoaXMgYGluZGV4Lmh0bWxgOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxodG1sPlxuICogICA8IS0tIGxvYWQgQW5ndWxhciBzY3JpcHQgdGFncyBoZXJlLiAtLT5cbiAqICAgPGJvZHk+XG4gKiAgICAgPG15LWFwcD5sb2FkaW5nLi4uPC9teS1hcHA+XG4gKiAgIDwvYm9keT5cbiAqIDwvaHRtbD5cbiAqIGBgYFxuICpcbiAqIEFuIGFwcGxpY2F0aW9uIGlzIGJvb3RzdHJhcHBlZCBpbnNpZGUgYW4gZXhpc3RpbmcgYnJvd3NlciBET00sIHR5cGljYWxseSBgaW5kZXguaHRtbGAuXG4gKiBVbmxpa2UgQW5ndWxhciAxLCBBbmd1bGFyIDIgZG9lcyBub3QgY29tcGlsZS9wcm9jZXNzIHByb3ZpZGVycyBpbiBgaW5kZXguaHRtbGAuIFRoaXMgaXNcbiAqIG1haW5seSBmb3Igc2VjdXJpdHkgcmVhc29ucywgYXMgd2VsbCBhcyBhcmNoaXRlY3R1cmFsIGNoYW5nZXMgaW4gQW5ndWxhciAyLiBUaGlzIG1lYW5zXG4gKiB0aGF0IGBpbmRleC5odG1sYCBjYW4gc2FmZWx5IGJlIHByb2Nlc3NlZCB1c2luZyBzZXJ2ZXItc2lkZSB0ZWNobm9sb2dpZXMgc3VjaCBhc1xuICogcHJvdmlkZXJzLiBCaW5kaW5ncyBjYW4gdGh1cyB1c2UgZG91YmxlLWN1cmx5IGB7eyBzeW50YXggfX1gIHdpdGhvdXQgY29sbGlzaW9uIGZyb21cbiAqIEFuZ3VsYXIgMiBjb21wb25lbnQgZG91YmxlLWN1cmx5IGB7eyBzeW50YXggfX1gLlxuICpcbiAqIFdlIGNhbiB1c2UgdGhpcyBzY3JpcHQgY29kZTpcbiAqXG4gKiB7QGV4YW1wbGUgY29yZS90cy9ib290c3RyYXAvYm9vdHN0cmFwLnRzIHJlZ2lvbj0nYm9vdHN0cmFwJ31cbiAqXG4gKiBXaGVuIHRoZSBhcHAgZGV2ZWxvcGVyIGludm9rZXMgYGJvb3RzdHJhcCgpYCB3aXRoIHRoZSByb290IGNvbXBvbmVudCBgTXlBcHBgIGFzIGl0c1xuICogYXJndW1lbnQsIEFuZ3VsYXIgcGVyZm9ybXMgdGhlIGZvbGxvd2luZyB0YXNrczpcbiAqXG4gKiAgMS4gSXQgdXNlcyB0aGUgY29tcG9uZW50J3MgYHNlbGVjdG9yYCBwcm9wZXJ0eSB0byBsb2NhdGUgdGhlIERPTSBlbGVtZW50IHdoaWNoIG5lZWRzXG4gKiAgICAgdG8gYmUgdXBncmFkZWQgaW50byB0aGUgYW5ndWxhciBjb21wb25lbnQuXG4gKiAgMi4gSXQgY3JlYXRlcyBhIG5ldyBjaGlsZCBpbmplY3RvciAoZnJvbSB0aGUgcGxhdGZvcm0gaW5qZWN0b3IpLiBPcHRpb25hbGx5LCB5b3UgY2FuXG4gKiAgICAgYWxzbyBvdmVycmlkZSB0aGUgaW5qZWN0b3IgY29uZmlndXJhdGlvbiBmb3IgYW4gYXBwIGJ5IGludm9raW5nIGBib290c3RyYXBgIHdpdGggdGhlXG4gKiAgICAgYGNvbXBvbmVudEluamVjdGFibGVCaW5kaW5nc2AgYXJndW1lbnQuXG4gKiAgMy4gSXQgY3JlYXRlcyBhIG5ldyBgWm9uZWAgYW5kIGNvbm5lY3RzIGl0IHRvIHRoZSBhbmd1bGFyIGFwcGxpY2F0aW9uJ3MgY2hhbmdlIGRldGVjdGlvblxuICogICAgIGRvbWFpbiBpbnN0YW5jZS5cbiAqICA0LiBJdCBjcmVhdGVzIGFuIGVtdWxhdGVkIG9yIHNoYWRvdyBET00gb24gdGhlIHNlbGVjdGVkIGNvbXBvbmVudCdzIGhvc3QgZWxlbWVudCBhbmQgbG9hZHMgdGhlXG4gKiAgICAgdGVtcGxhdGUgaW50byBpdC5cbiAqICA1LiBJdCBpbnN0YW50aWF0ZXMgdGhlIHNwZWNpZmllZCBjb21wb25lbnQuXG4gKiAgNi4gRmluYWxseSwgQW5ndWxhciBwZXJmb3JtcyBjaGFuZ2UgZGV0ZWN0aW9uIHRvIGFwcGx5IHRoZSBpbml0aWFsIGRhdGEgcHJvdmlkZXJzIGZvciB0aGVcbiAqICAgICBhcHBsaWNhdGlvbi5cbiAqXG4gKlxuICogIyMgQm9vdHN0cmFwcGluZyBNdWx0aXBsZSBBcHBsaWNhdGlvbnNcbiAqXG4gKiBXaGVuIHdvcmtpbmcgd2l0aGluIGEgYnJvd3NlciB3aW5kb3csIHRoZXJlIGFyZSBtYW55IHNpbmdsZXRvbiByZXNvdXJjZXM6IGNvb2tpZXMsIHRpdGxlLFxuICogbG9jYXRpb24sIGFuZCBvdGhlcnMuIEFuZ3VsYXIgc2VydmljZXMgdGhhdCByZXByZXNlbnQgdGhlc2UgcmVzb3VyY2VzIG11c3QgbGlrZXdpc2UgYmVcbiAqIHNoYXJlZCBhY3Jvc3MgYWxsIEFuZ3VsYXIgYXBwbGljYXRpb25zIHRoYXQgb2NjdXB5IHRoZSBzYW1lIGJyb3dzZXIgd2luZG93LiBGb3IgdGhpc1xuICogcmVhc29uLCBBbmd1bGFyIGNyZWF0ZXMgZXhhY3RseSBvbmUgZ2xvYmFsIHBsYXRmb3JtIG9iamVjdCB3aGljaCBzdG9yZXMgYWxsIHNoYXJlZFxuICogc2VydmljZXMsIGFuZCBlYWNoIGFuZ3VsYXIgYXBwbGljYXRpb24gaW5qZWN0b3IgaGFzIHRoZSBwbGF0Zm9ybSBpbmplY3RvciBhcyBpdHMgcGFyZW50LlxuICpcbiAqIEVhY2ggYXBwbGljYXRpb24gaGFzIGl0cyBvd24gcHJpdmF0ZSBpbmplY3RvciBhcyB3ZWxsLiBXaGVuIHRoZXJlIGFyZSBtdWx0aXBsZVxuICogYXBwbGljYXRpb25zIG9uIGEgcGFnZSwgQW5ndWxhciB0cmVhdHMgZWFjaCBhcHBsaWNhdGlvbiBpbmplY3RvcidzIHNlcnZpY2VzIGFzIHByaXZhdGVcbiAqIHRvIHRoYXQgYXBwbGljYXRpb24uXG4gKlxuICogIyMgQVBJXG4gKlxuICogLSBgYXBwQ29tcG9uZW50VHlwZWA6IFRoZSByb290IGNvbXBvbmVudCB3aGljaCBzaG91bGQgYWN0IGFzIHRoZSBhcHBsaWNhdGlvbi4gVGhpcyBpc1xuICogICBhIHJlZmVyZW5jZSB0byBhIGBUeXBlYCB3aGljaCBpcyBhbm5vdGF0ZWQgd2l0aCBgQENvbXBvbmVudCguLi4pYC5cbiAqIC0gYGN1c3RvbVByb3ZpZGVyc2A6IEFuIGFkZGl0aW9uYWwgc2V0IG9mIHByb3ZpZGVycyB0aGF0IGNhbiBiZSBhZGRlZCB0byB0aGVcbiAqICAgYXBwIGluamVjdG9yIHRvIG92ZXJyaWRlIGRlZmF1bHQgaW5qZWN0aW9uIGJlaGF2aW9yLlxuICpcbiAqIFJldHVybnMgYSBgUHJvbWlzZWAgb2Yge0BsaW5rIENvbXBvbmVudFJlZn0uXG4gKi9cbmZ1bmN0aW9uIGJvb3RzdHJhcChhcHBDb21wb25lbnRUeXBlLCBjdXN0b21Qcm92aWRlcnMpIHtcbiAgICBjb3JlXzEucmVmbGVjdG9yLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMgPSBuZXcgY29yZV9wcml2YXRlXzEuUmVmbGVjdGlvbkNhcGFiaWxpdGllcygpO1xuICAgIHZhciBhcHBJbmplY3RvciA9IGNvcmVfMS5SZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbZXhwb3J0cy5CUk9XU0VSX0FQUF9EWU5BTUlDX1BST1ZJREVSUywgbGFuZ18xLmlzUHJlc2VudChjdXN0b21Qcm92aWRlcnMpID8gY3VzdG9tUHJvdmlkZXJzIDogW11dLCBwbGF0Zm9ybV9icm93c2VyXzEuYnJvd3NlclBsYXRmb3JtKCkuaW5qZWN0b3IpO1xuICAgIHJldHVybiBjb3JlXzEuY29yZUxvYWRBbmRCb290c3RyYXAoYXBwSW5qZWN0b3IsIGFwcENvbXBvbmVudFR5cGUpO1xufVxuZXhwb3J0cy5ib290c3RyYXAgPSBib290c3RyYXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbGF0Zm9ybV9icm93c2VyX2R5bmFtaWMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbi8qKlxuKiBBIGJhc2UgY2xhc3MgZm9yIHRoZSBXcmFwcGVkRXhjZXB0aW9uIHRoYXQgY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnlcbiogYSBXcmFwcGVkRXhjZXB0aW9uIGZyb20gRXhjZXB0aW9uSGFuZGxlciB3aXRob3V0IGFkZGluZyBjaXJjdWxhclxuKiBkZXBlbmRlbmN5LlxuKi9cbnZhciBCYXNlV3JhcHBlZEV4Y2VwdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJhc2VXcmFwcGVkRXhjZXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJhc2VXcmFwcGVkRXhjZXB0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwid3JhcHBlck1lc3NhZ2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcnOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZVdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcIndyYXBwZXJTdGFja1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJvcmlnaW5hbEV4Y2VwdGlvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJvcmlnaW5hbFN0YWNrXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZVdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcImNvbnRleHRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwibWVzc2FnZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gJyc7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBCYXNlV3JhcHBlZEV4Y2VwdGlvbjtcbn0oRXJyb3IpKTtcbmV4cG9ydHMuQmFzZVdyYXBwZWRFeGNlcHRpb24gPSBCYXNlV3JhcHBlZEV4Y2VwdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2Vfd3JhcHBlZF9leGNlcHRpb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi9sYW5nJyk7XG5leHBvcnRzLk1hcCA9IGxhbmdfMS5nbG9iYWwuTWFwO1xuZXhwb3J0cy5TZXQgPSBsYW5nXzEuZ2xvYmFsLlNldDtcbi8vIFNhZmFyaSBhbmQgSW50ZXJuZXQgRXhwbG9yZXIgZG8gbm90IHN1cHBvcnQgdGhlIGl0ZXJhYmxlIHBhcmFtZXRlciB0byB0aGVcbi8vIE1hcCBjb25zdHJ1Y3Rvci4gIFdlIHdvcmsgYXJvdW5kIHRoYXQgYnkgbWFudWFsbHkgYWRkaW5nIHRoZSBpdGVtcy5cbnZhciBjcmVhdGVNYXBGcm9tUGFpcnMgPSAoZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChuZXcgZXhwb3J0cy5NYXAoW1sxLCAyXV0pLnNpemUgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVNYXBGcm9tUGFpcnMocGFpcnMpIHsgcmV0dXJuIG5ldyBleHBvcnRzLk1hcChwYWlycyk7IH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZU1hcEFuZFBvcHVsYXRlRnJvbVBhaXJzKHBhaXJzKSB7XG4gICAgICAgIHZhciBtYXAgPSBuZXcgZXhwb3J0cy5NYXAoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpXTtcbiAgICAgICAgICAgIG1hcC5zZXQocGFpclswXSwgcGFpclsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICB9O1xufSkoKTtcbnZhciBjcmVhdGVNYXBGcm9tTWFwID0gKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAobmV3IGV4cG9ydHMuTWFwKG5ldyBleHBvcnRzLk1hcCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZU1hcEZyb21NYXAobSkgeyByZXR1cm4gbmV3IGV4cG9ydHMuTWFwKG0pOyB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVNYXBBbmRQb3B1bGF0ZUZyb21NYXAobSkge1xuICAgICAgICB2YXIgbWFwID0gbmV3IGV4cG9ydHMuTWFwKCk7XG4gICAgICAgIG0uZm9yRWFjaChmdW5jdGlvbiAodiwgaykgeyBtYXAuc2V0KGssIHYpOyB9KTtcbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICB9O1xufSkoKTtcbnZhciBfY2xlYXJWYWx1ZXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGlmICgobmV3IGV4cG9ydHMuTWFwKCkpLmtleXMoKS5uZXh0KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfY2xlYXJWYWx1ZXMobSkge1xuICAgICAgICAgICAgdmFyIGtleUl0ZXJhdG9yID0gbS5rZXlzKCk7XG4gICAgICAgICAgICB2YXIgaztcbiAgICAgICAgICAgIHdoaWxlICghKChrID0ga2V5SXRlcmF0b3IubmV4dCgpKS5kb25lKSkge1xuICAgICAgICAgICAgICAgIG0uc2V0KGsudmFsdWUsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9jbGVhclZhbHVlc1dpdGhGb3JlRWFjaChtKSB7XG4gICAgICAgICAgICBtLmZvckVhY2goZnVuY3Rpb24gKHYsIGspIHsgbS5zZXQoaywgbnVsbCk7IH0pO1xuICAgICAgICB9O1xuICAgIH1cbn0pKCk7XG4vLyBTYWZhcmkgZG9lc24ndCBpbXBsZW1lbnQgTWFwSXRlcmF0b3IubmV4dCgpLCB3aGljaCBpcyB1c2VkIGlzIFRyYWNldXIncyBwb2x5ZmlsbCBvZiBBcnJheS5mcm9tXG4vLyBUT0RPKG1sYXZhbCk6IHJlbW92ZSB0aGUgd29yayBhcm91bmQgb25jZSB3ZSBoYXZlIGEgd29ya2luZyBwb2x5ZmlsbCBvZiBBcnJheS5mcm9tXG52YXIgX2FycmF5RnJvbU1hcCA9IChmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKChuZXcgZXhwb3J0cy5NYXAoKSkudmFsdWVzKCkubmV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUFycmF5RnJvbU1hcChtLCBnZXRWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VmFsdWVzID8gQXJyYXkuZnJvbShtLnZhbHVlcygpKSA6IEFycmF5LmZyb20obS5rZXlzKCkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlQXJyYXlGcm9tTWFwV2l0aEZvcmVhY2gobSwgZ2V0VmFsdWVzKSB7XG4gICAgICAgIHZhciByZXMgPSBMaXN0V3JhcHBlci5jcmVhdGVGaXhlZFNpemUobS5zaXplKSwgaSA9IDA7XG4gICAgICAgIG0uZm9yRWFjaChmdW5jdGlvbiAodiwgaykge1xuICAgICAgICAgICAgcmVzW2ldID0gZ2V0VmFsdWVzID8gdiA6IGs7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG59KSgpO1xudmFyIE1hcFdyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1hcFdyYXBwZXIoKSB7XG4gICAgfVxuICAgIE1hcFdyYXBwZXIuY2xvbmUgPSBmdW5jdGlvbiAobSkgeyByZXR1cm4gY3JlYXRlTWFwRnJvbU1hcChtKTsgfTtcbiAgICBNYXBXcmFwcGVyLmNyZWF0ZUZyb21TdHJpbmdNYXAgPSBmdW5jdGlvbiAoc3RyaW5nTWFwKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgZXhwb3J0cy5NYXAoKTtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzdHJpbmdNYXApIHtcbiAgICAgICAgICAgIHJlc3VsdC5zZXQocHJvcCwgc3RyaW5nTWFwW3Byb3BdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgTWFwV3JhcHBlci50b1N0cmluZ01hcCA9IGZ1bmN0aW9uIChtKSB7XG4gICAgICAgIHZhciByID0ge307XG4gICAgICAgIG0uZm9yRWFjaChmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gcltrXSA9IHY7IH0pO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9O1xuICAgIE1hcFdyYXBwZXIuY3JlYXRlRnJvbVBhaXJzID0gZnVuY3Rpb24gKHBhaXJzKSB7IHJldHVybiBjcmVhdGVNYXBGcm9tUGFpcnMocGFpcnMpOyB9O1xuICAgIE1hcFdyYXBwZXIuY2xlYXJWYWx1ZXMgPSBmdW5jdGlvbiAobSkgeyBfY2xlYXJWYWx1ZXMobSk7IH07XG4gICAgTWFwV3JhcHBlci5pdGVyYWJsZSA9IGZ1bmN0aW9uIChtKSB7IHJldHVybiBtOyB9O1xuICAgIE1hcFdyYXBwZXIua2V5cyA9IGZ1bmN0aW9uIChtKSB7IHJldHVybiBfYXJyYXlGcm9tTWFwKG0sIGZhbHNlKTsgfTtcbiAgICBNYXBXcmFwcGVyLnZhbHVlcyA9IGZ1bmN0aW9uIChtKSB7IHJldHVybiBfYXJyYXlGcm9tTWFwKG0sIHRydWUpOyB9O1xuICAgIHJldHVybiBNYXBXcmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuTWFwV3JhcHBlciA9IE1hcFdyYXBwZXI7XG4vKipcbiAqIFdyYXBzIEphdmFzY3JpcHQgT2JqZWN0c1xuICovXG52YXIgU3RyaW5nTWFwV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RyaW5nTWFwV3JhcHBlcigpIHtcbiAgICB9XG4gICAgU3RyaW5nTWFwV3JhcHBlci5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIE5vdGU6IFdlIGFyZSBub3QgdXNpbmcgT2JqZWN0LmNyZWF0ZShudWxsKSBoZXJlIGR1ZSB0b1xuICAgICAgICAvLyBwZXJmb3JtYW5jZSFcbiAgICAgICAgLy8gaHR0cDovL2pzcGVyZi5jb20vbmcyLW9iamVjdC1jcmVhdGUtbnVsbFxuICAgICAgICByZXR1cm4ge307XG4gICAgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLmNvbnRhaW5zID0gZnVuY3Rpb24gKG1hcCwga2V5KSB7XG4gICAgICAgIHJldHVybiBtYXAuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgICB9O1xuICAgIFN0cmluZ01hcFdyYXBwZXIuZ2V0ID0gZnVuY3Rpb24gKG1hcCwga2V5KSB7XG4gICAgICAgIHJldHVybiBtYXAuaGFzT3duUHJvcGVydHkoa2V5KSA/IG1hcFtrZXldIDogdW5kZWZpbmVkO1xuICAgIH07XG4gICAgU3RyaW5nTWFwV3JhcHBlci5zZXQgPSBmdW5jdGlvbiAobWFwLCBrZXksIHZhbHVlKSB7IG1hcFtrZXldID0gdmFsdWU7IH07XG4gICAgU3RyaW5nTWFwV3JhcHBlci5rZXlzID0gZnVuY3Rpb24gKG1hcCkgeyByZXR1cm4gT2JqZWN0LmtleXMobWFwKTsgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLnZhbHVlcyA9IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG1hcCkucmVkdWNlKGZ1bmN0aW9uIChyLCBhKSB7XG4gICAgICAgICAgICByLnB1c2gobWFwW2FdKTtcbiAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICB9LCBbXSk7XG4gICAgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLmlzRW1wdHkgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gbWFwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLmRlbGV0ZSA9IGZ1bmN0aW9uIChtYXAsIGtleSkgeyBkZWxldGUgbWFwW2tleV07IH07XG4gICAgU3RyaW5nTWFwV3JhcHBlci5mb3JFYWNoID0gZnVuY3Rpb24gKG1hcCwgY2FsbGJhY2spIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBtYXApIHtcbiAgICAgICAgICAgIGlmIChtYXAuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhtYXBbcHJvcF0sIHByb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLm1lcmdlID0gZnVuY3Rpb24gKG0xLCBtMikge1xuICAgICAgICB2YXIgbSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBhdHRyIGluIG0xKSB7XG4gICAgICAgICAgICBpZiAobTEuaGFzT3duUHJvcGVydHkoYXR0cikpIHtcbiAgICAgICAgICAgICAgICBtW2F0dHJdID0gbTFbYXR0cl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBtMikge1xuICAgICAgICAgICAgaWYgKG0yLmhhc093blByb3BlcnR5KGF0dHIpKSB7XG4gICAgICAgICAgICAgICAgbVthdHRyXSA9IG0yW2F0dHJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtO1xuICAgIH07XG4gICAgU3RyaW5nTWFwV3JhcHBlci5lcXVhbHMgPSBmdW5jdGlvbiAobTEsIG0yKSB7XG4gICAgICAgIHZhciBrMSA9IE9iamVjdC5rZXlzKG0xKTtcbiAgICAgICAgdmFyIGsyID0gT2JqZWN0LmtleXMobTIpO1xuICAgICAgICBpZiAoazEubGVuZ3RoICE9IGsyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgazEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGtleSA9IGsxW2ldO1xuICAgICAgICAgICAgaWYgKG0xW2tleV0gIT09IG0yW2tleV0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gU3RyaW5nTWFwV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLlN0cmluZ01hcFdyYXBwZXIgPSBTdHJpbmdNYXBXcmFwcGVyO1xudmFyIExpc3RXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMaXN0V3JhcHBlcigpIHtcbiAgICB9XG4gICAgLy8gSlMgaGFzIG5vIHdheSB0byBleHByZXNzIGEgc3RhdGljYWxseSBmaXhlZCBzaXplIGxpc3QsIGJ1dCBkYXJ0IGRvZXMgc28gd2VcbiAgICAvLyBrZWVwIGJvdGggbWV0aG9kcy5cbiAgICBMaXN0V3JhcHBlci5jcmVhdGVGaXhlZFNpemUgPSBmdW5jdGlvbiAoc2l6ZSkgeyByZXR1cm4gbmV3IEFycmF5KHNpemUpOyB9O1xuICAgIExpc3RXcmFwcGVyLmNyZWF0ZUdyb3dhYmxlU2l6ZSA9IGZ1bmN0aW9uIChzaXplKSB7IHJldHVybiBuZXcgQXJyYXkoc2l6ZSk7IH07XG4gICAgTGlzdFdyYXBwZXIuY2xvbmUgPSBmdW5jdGlvbiAoYXJyYXkpIHsgcmV0dXJuIGFycmF5LnNsaWNlKDApOyB9O1xuICAgIExpc3RXcmFwcGVyLmZvckVhY2hXaXRoSW5kZXggPSBmdW5jdGlvbiAoYXJyYXksIGZuKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZuKGFycmF5W2ldLCBpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuZmlyc3QgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgaWYgKCFhcnJheSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gYXJyYXlbMF07XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5sYXN0ID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgIGlmICghYXJyYXkgfHwgYXJyYXkubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuaW5kZXhPZiA9IGZ1bmN0aW9uIChhcnJheSwgdmFsdWUsIHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgaWYgKHN0YXJ0SW5kZXggPT09IHZvaWQgMCkgeyBzdGFydEluZGV4ID0gMDsgfVxuICAgICAgICByZXR1cm4gYXJyYXkuaW5kZXhPZih2YWx1ZSwgc3RhcnRJbmRleCk7XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5jb250YWlucyA9IGZ1bmN0aW9uIChsaXN0LCBlbCkgeyByZXR1cm4gbGlzdC5pbmRleE9mKGVsKSAhPT0gLTE7IH07XG4gICAgTGlzdFdyYXBwZXIucmV2ZXJzZWQgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgdmFyIGEgPSBMaXN0V3JhcHBlci5jbG9uZShhcnJheSk7XG4gICAgICAgIHJldHVybiBhLnJldmVyc2UoKTtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLmNvbmNhdCA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmNvbmNhdChiKTsgfTtcbiAgICBMaXN0V3JhcHBlci5pbnNlcnQgPSBmdW5jdGlvbiAobGlzdCwgaW5kZXgsIHZhbHVlKSB7IGxpc3Quc3BsaWNlKGluZGV4LCAwLCB2YWx1ZSk7IH07XG4gICAgTGlzdFdyYXBwZXIucmVtb3ZlQXQgPSBmdW5jdGlvbiAobGlzdCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIHJlcyA9IGxpc3RbaW5kZXhdO1xuICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5yZW1vdmVBbGwgPSBmdW5jdGlvbiAobGlzdCwgaXRlbXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdC5pbmRleE9mKGl0ZW1zW2ldKTtcbiAgICAgICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGlzdFdyYXBwZXIucmVtb3ZlID0gZnVuY3Rpb24gKGxpc3QsIGVsKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGxpc3QuaW5kZXhPZihlbCk7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5jbGVhciA9IGZ1bmN0aW9uIChsaXN0KSB7IGxpc3QubGVuZ3RoID0gMDsgfTtcbiAgICBMaXN0V3JhcHBlci5pc0VtcHR5ID0gZnVuY3Rpb24gKGxpc3QpIHsgcmV0dXJuIGxpc3QubGVuZ3RoID09IDA7IH07XG4gICAgTGlzdFdyYXBwZXIuZmlsbCA9IGZ1bmN0aW9uIChsaXN0LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgICBpZiAoc3RhcnQgPT09IHZvaWQgMCkgeyBzdGFydCA9IDA7IH1cbiAgICAgICAgaWYgKGVuZCA9PT0gdm9pZCAwKSB7IGVuZCA9IG51bGw7IH1cbiAgICAgICAgbGlzdC5maWxsKHZhbHVlLCBzdGFydCwgZW5kID09PSBudWxsID8gbGlzdC5sZW5ndGggOiBlbmQpO1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuZXF1YWxzID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoICE9IGIubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChhW2ldICE9PSBiW2ldKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLnNsaWNlID0gZnVuY3Rpb24gKGwsIGZyb20sIHRvKSB7XG4gICAgICAgIGlmIChmcm9tID09PSB2b2lkIDApIHsgZnJvbSA9IDA7IH1cbiAgICAgICAgaWYgKHRvID09PSB2b2lkIDApIHsgdG8gPSBudWxsOyB9XG4gICAgICAgIHJldHVybiBsLnNsaWNlKGZyb20sIHRvID09PSBudWxsID8gdW5kZWZpbmVkIDogdG8pO1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuc3BsaWNlID0gZnVuY3Rpb24gKGwsIGZyb20sIGxlbmd0aCkgeyByZXR1cm4gbC5zcGxpY2UoZnJvbSwgbGVuZ3RoKTsgfTtcbiAgICBMaXN0V3JhcHBlci5zb3J0ID0gZnVuY3Rpb24gKGwsIGNvbXBhcmVGbikge1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChjb21wYXJlRm4pKSB7XG4gICAgICAgICAgICBsLnNvcnQoY29tcGFyZUZuKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGwuc29ydCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci50b1N0cmluZyA9IGZ1bmN0aW9uIChsKSB7IHJldHVybiBsLnRvU3RyaW5nKCk7IH07XG4gICAgTGlzdFdyYXBwZXIudG9KU09OID0gZnVuY3Rpb24gKGwpIHsgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGwpOyB9O1xuICAgIExpc3RXcmFwcGVyLm1heGltdW0gPSBmdW5jdGlvbiAobGlzdCwgcHJlZGljYXRlKSB7XG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc29sdXRpb24gPSBudWxsO1xuICAgICAgICB2YXIgbWF4VmFsdWUgPSAtSW5maW5pdHk7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IGxpc3RbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKGNhbmRpZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjYW5kaWRhdGVWYWx1ZSA9IHByZWRpY2F0ZShjYW5kaWRhdGUpO1xuICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZVZhbHVlID4gbWF4VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzb2x1dGlvbiA9IGNhbmRpZGF0ZTtcbiAgICAgICAgICAgICAgICBtYXhWYWx1ZSA9IGNhbmRpZGF0ZVZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb2x1dGlvbjtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLmZsYXR0ZW4gPSBmdW5jdGlvbiAobGlzdCkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gW107XG4gICAgICAgIF9mbGF0dGVuQXJyYXkobGlzdCwgdGFyZ2V0KTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLmFkZEFsbCA9IGZ1bmN0aW9uIChsaXN0LCBzb3VyY2UpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxpc3QucHVzaChzb3VyY2VbaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTGlzdFdyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5MaXN0V3JhcHBlciA9IExpc3RXcmFwcGVyO1xuZnVuY3Rpb24gX2ZsYXR0ZW5BcnJheShzb3VyY2UsIHRhcmdldCkge1xuICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHNvdXJjZSkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gc291cmNlW2ldO1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgX2ZsYXR0ZW5BcnJheShpdGVtLCB0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIGlzTGlzdExpa2VJdGVyYWJsZShvYmopIHtcbiAgICBpZiAoIWxhbmdfMS5pc0pzT2JqZWN0KG9iaikpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gbGFuZ18xLmlzQXJyYXkob2JqKSB8fFxuICAgICAgICAoIShvYmogaW5zdGFuY2VvZiBleHBvcnRzLk1hcCkgJiZcbiAgICAgICAgICAgIGxhbmdfMS5nZXRTeW1ib2xJdGVyYXRvcigpIGluIG9iaik7IC8vIEpTIEl0ZXJhYmxlIGhhdmUgYSBTeW1ib2wuaXRlcmF0b3IgcHJvcFxufVxuZXhwb3J0cy5pc0xpc3RMaWtlSXRlcmFibGUgPSBpc0xpc3RMaWtlSXRlcmFibGU7XG5mdW5jdGlvbiBhcmVJdGVyYWJsZXNFcXVhbChhLCBiLCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGl0ZXJhdG9yMSA9IGFbbGFuZ18xLmdldFN5bWJvbEl0ZXJhdG9yKCldKCk7XG4gICAgdmFyIGl0ZXJhdG9yMiA9IGJbbGFuZ18xLmdldFN5bWJvbEl0ZXJhdG9yKCldKCk7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGl0ZW0xID0gaXRlcmF0b3IxLm5leHQoKTtcbiAgICAgICAgdmFyIGl0ZW0yID0gaXRlcmF0b3IyLm5leHQoKTtcbiAgICAgICAgaWYgKGl0ZW0xLmRvbmUgJiYgaXRlbTIuZG9uZSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoaXRlbTEuZG9uZSB8fCBpdGVtMi5kb25lKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIWNvbXBhcmF0b3IoaXRlbTEudmFsdWUsIGl0ZW0yLnZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5leHBvcnRzLmFyZUl0ZXJhYmxlc0VxdWFsID0gYXJlSXRlcmFibGVzRXF1YWw7XG5mdW5jdGlvbiBpdGVyYXRlTGlzdExpa2Uob2JqLCBmbikge1xuICAgIGlmIChsYW5nXzEuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmbihvYmpbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBvYmpbbGFuZ18xLmdldFN5bWJvbEl0ZXJhdG9yKCldKCk7XG4gICAgICAgIHZhciBpdGVtO1xuICAgICAgICB3aGlsZSAoISgoaXRlbSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkpIHtcbiAgICAgICAgICAgIGZuKGl0ZW0udmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5pdGVyYXRlTGlzdExpa2UgPSBpdGVyYXRlTGlzdExpa2U7XG4vLyBTYWZhcmkgYW5kIEludGVybmV0IEV4cGxvcmVyIGRvIG5vdCBzdXBwb3J0IHRoZSBpdGVyYWJsZSBwYXJhbWV0ZXIgdG8gdGhlXG4vLyBTZXQgY29uc3RydWN0b3IuICBXZSB3b3JrIGFyb3VuZCB0aGF0IGJ5IG1hbnVhbGx5IGFkZGluZyB0aGUgaXRlbXMuXG52YXIgY3JlYXRlU2V0RnJvbUxpc3QgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciB0ZXN0ID0gbmV3IGV4cG9ydHMuU2V0KFsxLCAyLCAzXSk7XG4gICAgaWYgKHRlc3Quc2l6ZSA9PT0gMykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlU2V0RnJvbUxpc3QobHN0KSB7IHJldHVybiBuZXcgZXhwb3J0cy5TZXQobHN0KTsgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVTZXRBbmRQb3B1bGF0ZUZyb21MaXN0KGxzdCkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IG5ldyBleHBvcnRzLlNldChsc3QpO1xuICAgICAgICAgICAgaWYgKHJlcy5zaXplICE9PSBsc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmFkZChsc3RbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH07XG4gICAgfVxufSkoKTtcbnZhciBTZXRXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZXRXcmFwcGVyKCkge1xuICAgIH1cbiAgICBTZXRXcmFwcGVyLmNyZWF0ZUZyb21MaXN0ID0gZnVuY3Rpb24gKGxzdCkgeyByZXR1cm4gY3JlYXRlU2V0RnJvbUxpc3QobHN0KTsgfTtcbiAgICBTZXRXcmFwcGVyLmhhcyA9IGZ1bmN0aW9uIChzLCBrZXkpIHsgcmV0dXJuIHMuaGFzKGtleSk7IH07XG4gICAgU2V0V3JhcHBlci5kZWxldGUgPSBmdW5jdGlvbiAobSwgaykgeyBtLmRlbGV0ZShrKTsgfTtcbiAgICByZXR1cm4gU2V0V3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLlNldFdyYXBwZXIgPSBTZXRXcmFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sbGVjdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuL2xhbmcnKTtcbnZhciBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEgPSByZXF1aXJlKCcuL2Jhc2Vfd3JhcHBlZF9leGNlcHRpb24nKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuL2NvbGxlY3Rpb24nKTtcbnZhciBfQXJyYXlMb2dnZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIF9BcnJheUxvZ2dlcigpIHtcbiAgICAgICAgdGhpcy5yZXMgPSBbXTtcbiAgICB9XG4gICAgX0FycmF5TG9nZ2VyLnByb3RvdHlwZS5sb2cgPSBmdW5jdGlvbiAocykgeyB0aGlzLnJlcy5wdXNoKHMpOyB9O1xuICAgIF9BcnJheUxvZ2dlci5wcm90b3R5cGUubG9nRXJyb3IgPSBmdW5jdGlvbiAocykgeyB0aGlzLnJlcy5wdXNoKHMpOyB9O1xuICAgIF9BcnJheUxvZ2dlci5wcm90b3R5cGUubG9nR3JvdXAgPSBmdW5jdGlvbiAocykgeyB0aGlzLnJlcy5wdXNoKHMpOyB9O1xuICAgIF9BcnJheUxvZ2dlci5wcm90b3R5cGUubG9nR3JvdXBFbmQgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgO1xuICAgIHJldHVybiBfQXJyYXlMb2dnZXI7XG59KCkpO1xuLyoqXG4gKiBQcm92aWRlcyBhIGhvb2sgZm9yIGNlbnRyYWxpemVkIGV4Y2VwdGlvbiBoYW5kbGluZy5cbiAqXG4gKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiBgRXhjZXB0aW9uSGFuZGxlcmAgcHJpbnRzIGVycm9yIG1lc3NhZ2VzIHRvIHRoZSBgQ29uc29sZWAuIFRvXG4gKiBpbnRlcmNlcHQgZXJyb3IgaGFuZGxpbmcsXG4gKiB3cml0ZSBhIGN1c3RvbSBleGNlcHRpb24gaGFuZGxlciB0aGF0IHJlcGxhY2VzIHRoaXMgZGVmYXVsdCBhcyBhcHByb3ByaWF0ZSBmb3IgeW91ciBhcHAuXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKlxuICogY2xhc3MgTXlFeGNlcHRpb25IYW5kbGVyIGltcGxlbWVudHMgRXhjZXB0aW9uSGFuZGxlciB7XG4gKiAgIGNhbGwoZXJyb3IsIHN0YWNrVHJhY2UgPSBudWxsLCByZWFzb24gPSBudWxsKSB7XG4gKiAgICAgLy8gZG8gc29tZXRoaW5nIHdpdGggdGhlIGV4Y2VwdGlvblxuICogICB9XG4gKiB9XG4gKlxuICogYm9vdHN0cmFwKE15QXBwLCBbcHJvdmlkZShFeGNlcHRpb25IYW5kbGVyLCB7dXNlQ2xhc3M6IE15RXhjZXB0aW9uSGFuZGxlcn0pXSlcbiAqXG4gKiBgYGBcbiAqL1xudmFyIEV4Y2VwdGlvbkhhbmRsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbkhhbmRsZXIoX2xvZ2dlciwgX3JldGhyb3dFeGNlcHRpb24pIHtcbiAgICAgICAgaWYgKF9yZXRocm93RXhjZXB0aW9uID09PSB2b2lkIDApIHsgX3JldGhyb3dFeGNlcHRpb24gPSB0cnVlOyB9XG4gICAgICAgIHRoaXMuX2xvZ2dlciA9IF9sb2dnZXI7XG4gICAgICAgIHRoaXMuX3JldGhyb3dFeGNlcHRpb24gPSBfcmV0aHJvd0V4Y2VwdGlvbjtcbiAgICB9XG4gICAgRXhjZXB0aW9uSGFuZGxlci5leGNlcHRpb25Ub1N0cmluZyA9IGZ1bmN0aW9uIChleGNlcHRpb24sIHN0YWNrVHJhY2UsIHJlYXNvbikge1xuICAgICAgICBpZiAoc3RhY2tUcmFjZSA9PT0gdm9pZCAwKSB7IHN0YWNrVHJhY2UgPSBudWxsOyB9XG4gICAgICAgIGlmIChyZWFzb24gPT09IHZvaWQgMCkgeyByZWFzb24gPSBudWxsOyB9XG4gICAgICAgIHZhciBsID0gbmV3IF9BcnJheUxvZ2dlcigpO1xuICAgICAgICB2YXIgZSA9IG5ldyBFeGNlcHRpb25IYW5kbGVyKGwsIGZhbHNlKTtcbiAgICAgICAgZS5jYWxsKGV4Y2VwdGlvbiwgc3RhY2tUcmFjZSwgcmVhc29uKTtcbiAgICAgICAgcmV0dXJuIGwucmVzLmpvaW4oXCJcXG5cIik7XG4gICAgfTtcbiAgICBFeGNlcHRpb25IYW5kbGVyLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKGV4Y2VwdGlvbiwgc3RhY2tUcmFjZSwgcmVhc29uKSB7XG4gICAgICAgIGlmIChzdGFja1RyYWNlID09PSB2b2lkIDApIHsgc3RhY2tUcmFjZSA9IG51bGw7IH1cbiAgICAgICAgaWYgKHJlYXNvbiA9PT0gdm9pZCAwKSB7IHJlYXNvbiA9IG51bGw7IH1cbiAgICAgICAgdmFyIG9yaWdpbmFsRXhjZXB0aW9uID0gdGhpcy5fZmluZE9yaWdpbmFsRXhjZXB0aW9uKGV4Y2VwdGlvbik7XG4gICAgICAgIHZhciBvcmlnaW5hbFN0YWNrID0gdGhpcy5fZmluZE9yaWdpbmFsU3RhY2soZXhjZXB0aW9uKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLl9maW5kQ29udGV4dChleGNlcHRpb24pO1xuICAgICAgICB0aGlzLl9sb2dnZXIubG9nR3JvdXAoXCJFWENFUFRJT046IFwiICsgdGhpcy5fZXh0cmFjdE1lc3NhZ2UoZXhjZXB0aW9uKSk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHN0YWNrVHJhY2UpICYmIGxhbmdfMS5pc0JsYW5rKG9yaWdpbmFsU3RhY2spKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nRXJyb3IoXCJTVEFDS1RSQUNFOlwiKTtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2dFcnJvcih0aGlzLl9sb25nU3RhY2tUcmFjZShzdGFja1RyYWNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocmVhc29uKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZ0Vycm9yKFwiUkVBU09OOiBcIiArIHJlYXNvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQob3JpZ2luYWxFeGNlcHRpb24pKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nRXJyb3IoXCJPUklHSU5BTCBFWENFUFRJT046IFwiICsgdGhpcy5fZXh0cmFjdE1lc3NhZ2Uob3JpZ2luYWxFeGNlcHRpb24pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChvcmlnaW5hbFN0YWNrKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZ0Vycm9yKFwiT1JJR0lOQUwgU1RBQ0tUUkFDRTpcIik7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nRXJyb3IodGhpcy5fbG9uZ1N0YWNrVHJhY2Uob3JpZ2luYWxTdGFjaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGNvbnRleHQpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nRXJyb3IoXCJFUlJPUiBDT05URVhUOlwiKTtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2dFcnJvcihjb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2dnZXIubG9nR3JvdXBFbmQoKTtcbiAgICAgICAgLy8gV2UgcmV0aHJvdyBleGNlcHRpb25zLCBzbyBvcGVyYXRpb25zIGxpa2UgJ2Jvb3RzdHJhcCcgd2lsbCByZXN1bHQgaW4gYW4gZXJyb3JcbiAgICAgICAgLy8gd2hlbiBhbiBleGNlcHRpb24gaGFwcGVucy4gSWYgd2UgZG8gbm90IHJldGhyb3csIGJvb3RzdHJhcCB3aWxsIGFsd2F5cyBzdWNjZWVkLlxuICAgICAgICBpZiAodGhpcy5fcmV0aHJvd0V4Y2VwdGlvbilcbiAgICAgICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBFeGNlcHRpb25IYW5kbGVyLnByb3RvdHlwZS5fZXh0cmFjdE1lc3NhZ2UgPSBmdW5jdGlvbiAoZXhjZXB0aW9uKSB7XG4gICAgICAgIHJldHVybiBleGNlcHRpb24gaW5zdGFuY2VvZiBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEuQmFzZVdyYXBwZWRFeGNlcHRpb24gPyBleGNlcHRpb24ud3JhcHBlck1lc3NhZ2UgOlxuICAgICAgICAgICAgZXhjZXB0aW9uLnRvU3RyaW5nKCk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRXhjZXB0aW9uSGFuZGxlci5wcm90b3R5cGUuX2xvbmdTdGFja1RyYWNlID0gZnVuY3Rpb24gKHN0YWNrVHJhY2UpIHtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb25fMS5pc0xpc3RMaWtlSXRlcmFibGUoc3RhY2tUcmFjZSkgPyBzdGFja1RyYWNlLmpvaW4oXCJcXG5cXG4tLS0tLWFzeW5jIGdhcC0tLS0tXFxuXCIpIDpcbiAgICAgICAgICAgIHN0YWNrVHJhY2UudG9TdHJpbmcoKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBFeGNlcHRpb25IYW5kbGVyLnByb3RvdHlwZS5fZmluZENvbnRleHQgPSBmdW5jdGlvbiAoZXhjZXB0aW9uKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIShleGNlcHRpb24gaW5zdGFuY2VvZiBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEuQmFzZVdyYXBwZWRFeGNlcHRpb24pKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQoZXhjZXB0aW9uLmNvbnRleHQpID8gZXhjZXB0aW9uLmNvbnRleHQgOlxuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbmRDb250ZXh0KGV4Y2VwdGlvbi5vcmlnaW5hbEV4Y2VwdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIGV4Y2VwdGlvbi5jb250ZXh0IGNhbiB0aHJvdyBhbiBleGNlcHRpb24uIGlmIGl0IGhhcHBlbnMsIHdlIGlnbm9yZSB0aGUgY29udGV4dC5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRXhjZXB0aW9uSGFuZGxlci5wcm90b3R5cGUuX2ZpbmRPcmlnaW5hbEV4Y2VwdGlvbiA9IGZ1bmN0aW9uIChleGNlcHRpb24pIHtcbiAgICAgICAgaWYgKCEoZXhjZXB0aW9uIGluc3RhbmNlb2YgYmFzZV93cmFwcGVkX2V4Y2VwdGlvbl8xLkJhc2VXcmFwcGVkRXhjZXB0aW9uKSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB2YXIgZSA9IGV4Y2VwdGlvbi5vcmlnaW5hbEV4Y2VwdGlvbjtcbiAgICAgICAgd2hpbGUgKGUgaW5zdGFuY2VvZiBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEuQmFzZVdyYXBwZWRFeGNlcHRpb24gJiYgbGFuZ18xLmlzUHJlc2VudChlLm9yaWdpbmFsRXhjZXB0aW9uKSkge1xuICAgICAgICAgICAgZSA9IGUub3JpZ2luYWxFeGNlcHRpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRXhjZXB0aW9uSGFuZGxlci5wcm90b3R5cGUuX2ZpbmRPcmlnaW5hbFN0YWNrID0gZnVuY3Rpb24gKGV4Y2VwdGlvbikge1xuICAgICAgICBpZiAoIShleGNlcHRpb24gaW5zdGFuY2VvZiBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEuQmFzZVdyYXBwZWRFeGNlcHRpb24pKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBlID0gZXhjZXB0aW9uO1xuICAgICAgICB2YXIgc3RhY2sgPSBleGNlcHRpb24ub3JpZ2luYWxTdGFjaztcbiAgICAgICAgd2hpbGUgKGUgaW5zdGFuY2VvZiBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEuQmFzZVdyYXBwZWRFeGNlcHRpb24gJiYgbGFuZ18xLmlzUHJlc2VudChlLm9yaWdpbmFsRXhjZXB0aW9uKSkge1xuICAgICAgICAgICAgZSA9IGUub3JpZ2luYWxFeGNlcHRpb247XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMS5CYXNlV3JhcHBlZEV4Y2VwdGlvbiAmJiBsYW5nXzEuaXNQcmVzZW50KGUub3JpZ2luYWxFeGNlcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgc3RhY2sgPSBlLm9yaWdpbmFsU3RhY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YWNrO1xuICAgIH07XG4gICAgcmV0dXJuIEV4Y2VwdGlvbkhhbmRsZXI7XG59KCkpO1xuZXhwb3J0cy5FeGNlcHRpb25IYW5kbGVyID0gRXhjZXB0aW9uSGFuZGxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4Y2VwdGlvbl9oYW5kbGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgYmFzZV93cmFwcGVkX2V4Y2VwdGlvbl8xID0gcmVxdWlyZSgnLi9iYXNlX3dyYXBwZWRfZXhjZXB0aW9uJyk7XG52YXIgZXhjZXB0aW9uX2hhbmRsZXJfMSA9IHJlcXVpcmUoJy4vZXhjZXB0aW9uX2hhbmRsZXInKTtcbnZhciBleGNlcHRpb25faGFuZGxlcl8yID0gcmVxdWlyZSgnLi9leGNlcHRpb25faGFuZGxlcicpO1xuZXhwb3J0cy5FeGNlcHRpb25IYW5kbGVyID0gZXhjZXB0aW9uX2hhbmRsZXJfMi5FeGNlcHRpb25IYW5kbGVyO1xudmFyIEJhc2VFeGNlcHRpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlRXhjZXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJhc2VFeGNlcHRpb24obWVzc2FnZSkge1xuICAgICAgICBpZiAobWVzc2FnZSA9PT0gdm9pZCAwKSB7IG1lc3NhZ2UgPSBcIi0tXCI7IH1cbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKG1lc3NhZ2UpKS5zdGFjaztcbiAgICB9XG4gICAgQmFzZUV4Y2VwdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1lc3NhZ2U7IH07XG4gICAgcmV0dXJuIEJhc2VFeGNlcHRpb247XG59KEVycm9yKSk7XG5leHBvcnRzLkJhc2VFeGNlcHRpb24gPSBCYXNlRXhjZXB0aW9uO1xuLyoqXG4gKiBXcmFwcyBhbiBleGNlcHRpb24gYW5kIHByb3ZpZGVzIGFkZGl0aW9uYWwgY29udGV4dCBvciBpbmZvcm1hdGlvbi5cbiAqL1xudmFyIFdyYXBwZWRFeGNlcHRpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhXcmFwcGVkRXhjZXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFdyYXBwZWRFeGNlcHRpb24oX3dyYXBwZXJNZXNzYWdlLCBfb3JpZ2luYWxFeGNlcHRpb24sIF9vcmlnaW5hbFN0YWNrLCBfY29udGV4dCkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBfd3JhcHBlck1lc3NhZ2UpO1xuICAgICAgICB0aGlzLl93cmFwcGVyTWVzc2FnZSA9IF93cmFwcGVyTWVzc2FnZTtcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxFeGNlcHRpb24gPSBfb3JpZ2luYWxFeGNlcHRpb247XG4gICAgICAgIHRoaXMuX29yaWdpbmFsU3RhY2sgPSBfb3JpZ2luYWxTdGFjaztcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IF9jb250ZXh0O1xuICAgICAgICB0aGlzLl93cmFwcGVyU3RhY2sgPSAobmV3IEVycm9yKF93cmFwcGVyTWVzc2FnZSkpLnN0YWNrO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwid3JhcHBlck1lc3NhZ2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3dyYXBwZXJNZXNzYWdlOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwid3JhcHBlclN0YWNrXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl93cmFwcGVyU3RhY2s7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJvcmlnaW5hbEV4Y2VwdGlvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fb3JpZ2luYWxFeGNlcHRpb247IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJvcmlnaW5hbFN0YWNrXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9vcmlnaW5hbFN0YWNrOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwiY29udGV4dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fY29udGV4dDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcIm1lc3NhZ2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4Y2VwdGlvbl9oYW5kbGVyXzEuRXhjZXB0aW9uSGFuZGxlci5leGNlcHRpb25Ub1N0cmluZyh0aGlzKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm1lc3NhZ2U7IH07XG4gICAgcmV0dXJuIFdyYXBwZWRFeGNlcHRpb247XG59KGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMS5CYXNlV3JhcHBlZEV4Y2VwdGlvbikpO1xuZXhwb3J0cy5XcmFwcGVkRXhjZXB0aW9uID0gV3JhcHBlZEV4Y2VwdGlvbjtcbmZ1bmN0aW9uIG1ha2VUeXBlRXJyb3IobWVzc2FnZSkge1xuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKG1lc3NhZ2UpO1xufVxuZXhwb3J0cy5tYWtlVHlwZUVycm9yID0gbWFrZVR5cGVFcnJvcjtcbmZ1bmN0aW9uIHVuaW1wbGVtZW50ZWQoKSB7XG4gICAgdGhyb3cgbmV3IEJhc2VFeGNlcHRpb24oJ3VuaW1wbGVtZW50ZWQnKTtcbn1cbmV4cG9ydHMudW5pbXBsZW1lbnRlZCA9IHVuaW1wbGVtZW50ZWQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGNlcHRpb25zLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgZ2xvYmFsU2NvcGU7XG5pZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyAmJiBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUpIHtcbiAgICAgICAgLy8gVE9ETzogUmVwbGFjZSBhbnkgd2l0aCBXb3JrZXJHbG9iYWxTY29wZSBmcm9tIGxpYi53ZWJ3b3JrZXIuZC50cyAjMzQ5MlxuICAgICAgICBnbG9iYWxTY29wZSA9IHNlbGY7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnbG9iYWxTY29wZSA9IGdsb2JhbDtcbiAgICB9XG59XG5lbHNlIHtcbiAgICBnbG9iYWxTY29wZSA9IHdpbmRvdztcbn1cbmZ1bmN0aW9uIHNjaGVkdWxlTWljcm9UYXNrKGZuKSB7XG4gICAgWm9uZS5jdXJyZW50LnNjaGVkdWxlTWljcm9UYXNrKCdzY2hlZHVsZU1pY3JvdGFzaycsIGZuKTtcbn1cbmV4cG9ydHMuc2NoZWR1bGVNaWNyb1Rhc2sgPSBzY2hlZHVsZU1pY3JvVGFzaztcbmV4cG9ydHMuSVNfREFSVCA9IGZhbHNlO1xuLy8gTmVlZCB0byBkZWNsYXJlIGEgbmV3IHZhcmlhYmxlIGZvciBnbG9iYWwgaGVyZSBzaW5jZSBUeXBlU2NyaXB0XG4vLyBleHBvcnRzIHRoZSBvcmlnaW5hbCB2YWx1ZSBvZiB0aGUgc3ltYm9sLlxudmFyIF9nbG9iYWwgPSBnbG9iYWxTY29wZTtcbmV4cG9ydHMuZ2xvYmFsID0gX2dsb2JhbDtcbmV4cG9ydHMuVHlwZSA9IEZ1bmN0aW9uO1xuZnVuY3Rpb24gZ2V0VHlwZU5hbWVGb3JEZWJ1Z2dpbmcodHlwZSkge1xuICAgIGlmICh0eXBlWyduYW1lJ10pIHtcbiAgICAgICAgcmV0dXJuIHR5cGVbJ25hbWUnXTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGVvZiB0eXBlO1xufVxuZXhwb3J0cy5nZXRUeXBlTmFtZUZvckRlYnVnZ2luZyA9IGdldFR5cGVOYW1lRm9yRGVidWdnaW5nO1xuZXhwb3J0cy5NYXRoID0gX2dsb2JhbC5NYXRoO1xuZXhwb3J0cy5EYXRlID0gX2dsb2JhbC5EYXRlO1xudmFyIF9kZXZNb2RlID0gdHJ1ZTtcbnZhciBfbW9kZUxvY2tlZCA9IGZhbHNlO1xuZnVuY3Rpb24gbG9ja01vZGUoKSB7XG4gICAgX21vZGVMb2NrZWQgPSB0cnVlO1xufVxuZXhwb3J0cy5sb2NrTW9kZSA9IGxvY2tNb2RlO1xuLyoqXG4gKiBEaXNhYmxlIEFuZ3VsYXIncyBkZXZlbG9wbWVudCBtb2RlLCB3aGljaCB0dXJucyBvZmYgYXNzZXJ0aW9ucyBhbmQgb3RoZXJcbiAqIGNoZWNrcyB3aXRoaW4gdGhlIGZyYW1ld29yay5cbiAqXG4gKiBPbmUgaW1wb3J0YW50IGFzc2VydGlvbiB0aGlzIGRpc2FibGVzIHZlcmlmaWVzIHRoYXQgYSBjaGFuZ2UgZGV0ZWN0aW9uIHBhc3NcbiAqIGRvZXMgbm90IHJlc3VsdCBpbiBhZGRpdGlvbmFsIGNoYW5nZXMgdG8gYW55IGJpbmRpbmdzIChhbHNvIGtub3duIGFzXG4gKiB1bmlkaXJlY3Rpb25hbCBkYXRhIGZsb3cpLlxuICovXG5mdW5jdGlvbiBlbmFibGVQcm9kTW9kZSgpIHtcbiAgICBpZiAoX21vZGVMb2NrZWQpIHtcbiAgICAgICAgLy8gQ2Fubm90IHVzZSBCYXNlRXhjZXB0aW9uIGFzIHRoYXQgZW5kcyB1cCBpbXBvcnRpbmcgZnJvbSBmYWNhZGUvbGFuZy5cbiAgICAgICAgdGhyb3cgJ0Nhbm5vdCBlbmFibGUgcHJvZCBtb2RlIGFmdGVyIHBsYXRmb3JtIHNldHVwLic7XG4gICAgfVxuICAgIF9kZXZNb2RlID0gZmFsc2U7XG59XG5leHBvcnRzLmVuYWJsZVByb2RNb2RlID0gZW5hYmxlUHJvZE1vZGU7XG5mdW5jdGlvbiBhc3NlcnRpb25zRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gX2Rldk1vZGU7XG59XG5leHBvcnRzLmFzc2VydGlvbnNFbmFibGVkID0gYXNzZXJ0aW9uc0VuYWJsZWQ7XG4vLyBUT0RPOiByZW1vdmUgY2FsbHMgdG8gYXNzZXJ0IGluIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRcbi8vIE5vdGU6IENhbid0IGp1c3QgZXhwb3J0IHRoaXMgYW5kIGltcG9ydCBpbiBpbiBvdGhlciBmaWxlc1xuLy8gYXMgYGFzc2VydGAgaXMgYSByZXNlcnZlZCBrZXl3b3JkIGluIERhcnRcbl9nbG9iYWwuYXNzZXJ0ID0gZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbikge1xuICAgIC8vIFRPRE86IHRvIGJlIGZpeGVkIHByb3Blcmx5IHZpYSAjMjgzMCwgbm9vcCBmb3Igbm93XG59O1xuZnVuY3Rpb24gaXNQcmVzZW50KG9iaikge1xuICAgIHJldHVybiBvYmogIT09IHVuZGVmaW5lZCAmJiBvYmogIT09IG51bGw7XG59XG5leHBvcnRzLmlzUHJlc2VudCA9IGlzUHJlc2VudDtcbmZ1bmN0aW9uIGlzQmxhbmsob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gdW5kZWZpbmVkIHx8IG9iaiA9PT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNCbGFuayA9IGlzQmxhbms7XG5mdW5jdGlvbiBpc0Jvb2xlYW4ob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwiYm9vbGVhblwiO1xufVxuZXhwb3J0cy5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG5mdW5jdGlvbiBpc051bWJlcihvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJudW1iZXJcIjtcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcbmZ1bmN0aW9uIGlzU3RyaW5nKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiO1xufVxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbmZ1bmN0aW9uIGlzVHlwZShvYmopIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihvYmopO1xufVxuZXhwb3J0cy5pc1R5cGUgPSBpc1R5cGU7XG5mdW5jdGlvbiBpc1N0cmluZ01hcChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsO1xufVxuZXhwb3J0cy5pc1N0cmluZ01hcCA9IGlzU3RyaW5nTWFwO1xudmFyIFNUUklOR19NQVBfUFJPVE8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yoe30pO1xuZnVuY3Rpb24gaXNTdHJpY3RTdHJpbmdNYXAob2JqKSB7XG4gICAgcmV0dXJuIGlzU3RyaW5nTWFwKG9iaikgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikgPT09IFNUUklOR19NQVBfUFJPVE87XG59XG5leHBvcnRzLmlzU3RyaWN0U3RyaW5nTWFwID0gaXNTdHJpY3RTdHJpbmdNYXA7XG5mdW5jdGlvbiBpc1Byb21pc2Uob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIF9nbG9iYWwuUHJvbWlzZTtcbn1cbmV4cG9ydHMuaXNQcm9taXNlID0gaXNQcm9taXNlO1xuZnVuY3Rpb24gaXNBcnJheShvYmopIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShvYmopO1xufVxuZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcbmZ1bmN0aW9uIGlzRGF0ZShvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgZXhwb3J0cy5EYXRlICYmICFpc05hTihvYmoudmFsdWVPZigpKTtcbn1cbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xuZnVuY3Rpb24gbm9vcCgpIHsgfVxuZXhwb3J0cy5ub29wID0gbm9vcDtcbmZ1bmN0aW9uIHN0cmluZ2lmeSh0b2tlbikge1xuICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gICAgaWYgKHRva2VuID09PSB1bmRlZmluZWQgfHwgdG9rZW4gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICcnICsgdG9rZW47XG4gICAgfVxuICAgIGlmICh0b2tlbi5uYW1lKSB7XG4gICAgICAgIHJldHVybiB0b2tlbi5uYW1lO1xuICAgIH1cbiAgICBpZiAodG9rZW4ub3ZlcnJpZGRlbk5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuLm92ZXJyaWRkZW5OYW1lO1xuICAgIH1cbiAgICB2YXIgcmVzID0gdG9rZW4udG9TdHJpbmcoKTtcbiAgICB2YXIgbmV3TGluZUluZGV4ID0gcmVzLmluZGV4T2YoXCJcXG5cIik7XG4gICAgcmV0dXJuIChuZXdMaW5lSW5kZXggPT09IC0xKSA/IHJlcyA6IHJlcy5zdWJzdHJpbmcoMCwgbmV3TGluZUluZGV4KTtcbn1cbmV4cG9ydHMuc3RyaW5naWZ5ID0gc3RyaW5naWZ5O1xuLy8gc2VyaWFsaXplIC8gZGVzZXJpYWxpemUgZW51bSBleGlzdCBvbmx5IGZvciBjb25zaXN0ZW5jeSB3aXRoIGRhcnQgQVBJXG4vLyBlbnVtcyBpbiB0eXBlc2NyaXB0IGRvbid0IG5lZWQgdG8gYmUgc2VyaWFsaXplZFxuZnVuY3Rpb24gc2VyaWFsaXplRW51bSh2YWwpIHtcbiAgICByZXR1cm4gdmFsO1xufVxuZXhwb3J0cy5zZXJpYWxpemVFbnVtID0gc2VyaWFsaXplRW51bTtcbmZ1bmN0aW9uIGRlc2VyaWFsaXplRW51bSh2YWwsIHZhbHVlcykge1xuICAgIHJldHVybiB2YWw7XG59XG5leHBvcnRzLmRlc2VyaWFsaXplRW51bSA9IGRlc2VyaWFsaXplRW51bTtcbmZ1bmN0aW9uIHJlc29sdmVFbnVtVG9rZW4oZW51bVZhbHVlLCB2YWwpIHtcbiAgICByZXR1cm4gZW51bVZhbHVlW3ZhbF07XG59XG5leHBvcnRzLnJlc29sdmVFbnVtVG9rZW4gPSByZXNvbHZlRW51bVRva2VuO1xudmFyIFN0cmluZ1dyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0cmluZ1dyYXBwZXIoKSB7XG4gICAgfVxuICAgIFN0cmluZ1dyYXBwZXIuZnJvbUNoYXJDb2RlID0gZnVuY3Rpb24gKGNvZGUpIHsgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7IH07XG4gICAgU3RyaW5nV3JhcHBlci5jaGFyQ29kZUF0ID0gZnVuY3Rpb24gKHMsIGluZGV4KSB7IHJldHVybiBzLmNoYXJDb2RlQXQoaW5kZXgpOyB9O1xuICAgIFN0cmluZ1dyYXBwZXIuc3BsaXQgPSBmdW5jdGlvbiAocywgcmVnRXhwKSB7IHJldHVybiBzLnNwbGl0KHJlZ0V4cCk7IH07XG4gICAgU3RyaW5nV3JhcHBlci5lcXVhbHMgPSBmdW5jdGlvbiAocywgczIpIHsgcmV0dXJuIHMgPT09IHMyOyB9O1xuICAgIFN0cmluZ1dyYXBwZXIuc3RyaXBMZWZ0ID0gZnVuY3Rpb24gKHMsIGNoYXJWYWwpIHtcbiAgICAgICAgaWYgKHMgJiYgcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBwb3MgPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNbaV0gIT0gY2hhclZhbClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzID0gcy5zdWJzdHJpbmcocG9zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9O1xuICAgIFN0cmluZ1dyYXBwZXIuc3RyaXBSaWdodCA9IGZ1bmN0aW9uIChzLCBjaGFyVmFsKSB7XG4gICAgICAgIGlmIChzICYmIHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgcG9zID0gcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIGlmIChzW2ldICE9IGNoYXJWYWwpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIHBvcy0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcyA9IHMuc3Vic3RyaW5nKDAsIHBvcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfTtcbiAgICBTdHJpbmdXcmFwcGVyLnJlcGxhY2UgPSBmdW5jdGlvbiAocywgZnJvbSwgcmVwbGFjZSkge1xuICAgICAgICByZXR1cm4gcy5yZXBsYWNlKGZyb20sIHJlcGxhY2UpO1xuICAgIH07XG4gICAgU3RyaW5nV3JhcHBlci5yZXBsYWNlQWxsID0gZnVuY3Rpb24gKHMsIGZyb20sIHJlcGxhY2UpIHtcbiAgICAgICAgcmV0dXJuIHMucmVwbGFjZShmcm9tLCByZXBsYWNlKTtcbiAgICB9O1xuICAgIFN0cmluZ1dyYXBwZXIuc2xpY2UgPSBmdW5jdGlvbiAocywgZnJvbSwgdG8pIHtcbiAgICAgICAgaWYgKGZyb20gPT09IHZvaWQgMCkgeyBmcm9tID0gMDsgfVxuICAgICAgICBpZiAodG8gPT09IHZvaWQgMCkgeyB0byA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIHMuc2xpY2UoZnJvbSwgdG8gPT09IG51bGwgPyB1bmRlZmluZWQgOiB0byk7XG4gICAgfTtcbiAgICBTdHJpbmdXcmFwcGVyLnJlcGxhY2VBbGxNYXBwZWQgPSBmdW5jdGlvbiAocywgZnJvbSwgY2IpIHtcbiAgICAgICAgcmV0dXJuIHMucmVwbGFjZShmcm9tLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzW19pIC0gMF0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVtb3ZlIG9mZnNldCAmIHN0cmluZyBmcm9tIHRoZSByZXN1bHQgYXJyYXlcbiAgICAgICAgICAgIG1hdGNoZXMuc3BsaWNlKC0yLCAyKTtcbiAgICAgICAgICAgIC8vIFRoZSBjYWxsYmFjayByZWNlaXZlcyBtYXRjaCwgcDEsIC4uLiwgcG5cbiAgICAgICAgICAgIHJldHVybiBjYihtYXRjaGVzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTdHJpbmdXcmFwcGVyLmNvbnRhaW5zID0gZnVuY3Rpb24gKHMsIHN1YnN0cikgeyByZXR1cm4gcy5pbmRleE9mKHN1YnN0cikgIT0gLTE7IH07XG4gICAgU3RyaW5nV3JhcHBlci5jb21wYXJlID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgaWYgKGEgPCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYSA+IGIpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTdHJpbmdXcmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuU3RyaW5nV3JhcHBlciA9IFN0cmluZ1dyYXBwZXI7XG52YXIgU3RyaW5nSm9pbmVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdHJpbmdKb2luZXIocGFydHMpIHtcbiAgICAgICAgaWYgKHBhcnRzID09PSB2b2lkIDApIHsgcGFydHMgPSBbXTsgfVxuICAgICAgICB0aGlzLnBhcnRzID0gcGFydHM7XG4gICAgfVxuICAgIFN0cmluZ0pvaW5lci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHBhcnQpIHsgdGhpcy5wYXJ0cy5wdXNoKHBhcnQpOyB9O1xuICAgIFN0cmluZ0pvaW5lci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnBhcnRzLmpvaW4oXCJcIik7IH07XG4gICAgcmV0dXJuIFN0cmluZ0pvaW5lcjtcbn0oKSk7XG5leHBvcnRzLlN0cmluZ0pvaW5lciA9IFN0cmluZ0pvaW5lcjtcbnZhciBOdW1iZXJQYXJzZUVycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTnVtYmVyUGFyc2VFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBOdW1iZXJQYXJzZUVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgfVxuICAgIE51bWJlclBhcnNlRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tZXNzYWdlOyB9O1xuICAgIHJldHVybiBOdW1iZXJQYXJzZUVycm9yO1xufShFcnJvcikpO1xuZXhwb3J0cy5OdW1iZXJQYXJzZUVycm9yID0gTnVtYmVyUGFyc2VFcnJvcjtcbnZhciBOdW1iZXJXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOdW1iZXJXcmFwcGVyKCkge1xuICAgIH1cbiAgICBOdW1iZXJXcmFwcGVyLnRvRml4ZWQgPSBmdW5jdGlvbiAobiwgZnJhY3Rpb25EaWdpdHMpIHsgcmV0dXJuIG4udG9GaXhlZChmcmFjdGlvbkRpZ2l0cyk7IH07XG4gICAgTnVtYmVyV3JhcHBlci5lcXVhbCA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhID09PSBiOyB9O1xuICAgIE51bWJlcldyYXBwZXIucGFyc2VJbnRBdXRvUmFkaXggPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcGFyc2VJbnQodGV4dCk7XG4gICAgICAgIGlmIChpc05hTihyZXN1bHQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTnVtYmVyUGFyc2VFcnJvcihcIkludmFsaWQgaW50ZWdlciBsaXRlcmFsIHdoZW4gcGFyc2luZyBcIiArIHRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBOdW1iZXJXcmFwcGVyLnBhcnNlSW50ID0gZnVuY3Rpb24gKHRleHQsIHJhZGl4KSB7XG4gICAgICAgIGlmIChyYWRpeCA9PSAxMCkge1xuICAgICAgICAgICAgaWYgKC9eKFxcLXxcXCspP1swLTldKyQvLnRlc3QodGV4dCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGV4dCwgcmFkaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJhZGl4ID09IDE2KSB7XG4gICAgICAgICAgICBpZiAoL14oXFwtfFxcKyk/WzAtOUFCQ0RFRmFiY2RlZl0rJC8udGVzdCh0ZXh0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0ZXh0LCByYWRpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcGFyc2VJbnQodGV4dCwgcmFkaXgpO1xuICAgICAgICAgICAgaWYgKCFpc05hTihyZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgTnVtYmVyUGFyc2VFcnJvcihcIkludmFsaWQgaW50ZWdlciBsaXRlcmFsIHdoZW4gcGFyc2luZyBcIiArIHRleHQgKyBcIiBpbiBiYXNlIFwiICtcbiAgICAgICAgICAgIHJhZGl4KTtcbiAgICB9O1xuICAgIC8vIFRPRE86IE5hTiBpcyBhIHZhbGlkIGxpdGVyYWwgYnV0IGlzIHJldHVybmVkIGJ5IHBhcnNlRmxvYXQgdG8gaW5kaWNhdGUgYW4gZXJyb3IuXG4gICAgTnVtYmVyV3JhcHBlci5wYXJzZUZsb2F0ID0gZnVuY3Rpb24gKHRleHQpIHsgcmV0dXJuIHBhcnNlRmxvYXQodGV4dCk7IH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE51bWJlcldyYXBwZXIsIFwiTmFOXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBOYU47IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE51bWJlcldyYXBwZXIuaXNOYU4gPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIGlzTmFOKHZhbHVlKTsgfTtcbiAgICBOdW1iZXJXcmFwcGVyLmlzSW50ZWdlciA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSk7IH07XG4gICAgcmV0dXJuIE51bWJlcldyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5OdW1iZXJXcmFwcGVyID0gTnVtYmVyV3JhcHBlcjtcbmV4cG9ydHMuUmVnRXhwID0gX2dsb2JhbC5SZWdFeHA7XG52YXIgUmVnRXhwV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVnRXhwV3JhcHBlcigpIHtcbiAgICB9XG4gICAgUmVnRXhwV3JhcHBlci5jcmVhdGUgPSBmdW5jdGlvbiAocmVnRXhwU3RyLCBmbGFncykge1xuICAgICAgICBpZiAoZmxhZ3MgPT09IHZvaWQgMCkgeyBmbGFncyA9ICcnOyB9XG4gICAgICAgIGZsYWdzID0gZmxhZ3MucmVwbGFjZSgvZy9nLCAnJyk7XG4gICAgICAgIHJldHVybiBuZXcgX2dsb2JhbC5SZWdFeHAocmVnRXhwU3RyLCBmbGFncyArICdnJyk7XG4gICAgfTtcbiAgICBSZWdFeHBXcmFwcGVyLmZpcnN0TWF0Y2ggPSBmdW5jdGlvbiAocmVnRXhwLCBpbnB1dCkge1xuICAgICAgICAvLyBSZXNldCBtdWx0aW1hdGNoIHJlZ2V4IHN0YXRlXG4gICAgICAgIHJlZ0V4cC5sYXN0SW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gcmVnRXhwLmV4ZWMoaW5wdXQpO1xuICAgIH07XG4gICAgUmVnRXhwV3JhcHBlci50ZXN0ID0gZnVuY3Rpb24gKHJlZ0V4cCwgaW5wdXQpIHtcbiAgICAgICAgcmVnRXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHJldHVybiByZWdFeHAudGVzdChpbnB1dCk7XG4gICAgfTtcbiAgICBSZWdFeHBXcmFwcGVyLm1hdGNoZXIgPSBmdW5jdGlvbiAocmVnRXhwLCBpbnB1dCkge1xuICAgICAgICAvLyBSZXNldCByZWdleCBzdGF0ZSBmb3IgdGhlIGNhc2VcbiAgICAgICAgLy8gc29tZW9uZSBkaWQgbm90IGxvb3Agb3ZlciBhbGwgbWF0Y2hlc1xuICAgICAgICAvLyBsYXN0IHRpbWUuXG4gICAgICAgIHJlZ0V4cC5sYXN0SW5kZXggPSAwO1xuICAgICAgICByZXR1cm4geyByZTogcmVnRXhwLCBpbnB1dDogaW5wdXQgfTtcbiAgICB9O1xuICAgIFJlZ0V4cFdyYXBwZXIucmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChyZWdFeHAsIGlucHV0LCByZXBsYWNlKSB7XG4gICAgICAgIHZhciBjID0gcmVnRXhwLmV4ZWMoaW5wdXQpO1xuICAgICAgICB2YXIgcmVzID0gJyc7XG4gICAgICAgIHJlZ0V4cC5sYXN0SW5kZXggPSAwO1xuICAgICAgICB2YXIgcHJldiA9IDA7XG4gICAgICAgIHdoaWxlIChjKSB7XG4gICAgICAgICAgICByZXMgKz0gaW5wdXQuc3Vic3RyaW5nKHByZXYsIGMuaW5kZXgpO1xuICAgICAgICAgICAgcmVzICs9IHJlcGxhY2UoYyk7XG4gICAgICAgICAgICBwcmV2ID0gYy5pbmRleCArIGNbMF0ubGVuZ3RoO1xuICAgICAgICAgICAgcmVnRXhwLmxhc3RJbmRleCA9IHByZXY7XG4gICAgICAgICAgICBjID0gcmVnRXhwLmV4ZWMoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIHJlcyArPSBpbnB1dC5zdWJzdHJpbmcocHJldik7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICByZXR1cm4gUmVnRXhwV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLlJlZ0V4cFdyYXBwZXIgPSBSZWdFeHBXcmFwcGVyO1xudmFyIFJlZ0V4cE1hdGNoZXJXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWdFeHBNYXRjaGVyV3JhcHBlcigpIHtcbiAgICB9XG4gICAgUmVnRXhwTWF0Y2hlcldyYXBwZXIubmV4dCA9IGZ1bmN0aW9uIChtYXRjaGVyKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVyLnJlLmV4ZWMobWF0Y2hlci5pbnB1dCk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVnRXhwTWF0Y2hlcldyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5SZWdFeHBNYXRjaGVyV3JhcHBlciA9IFJlZ0V4cE1hdGNoZXJXcmFwcGVyO1xudmFyIEZ1bmN0aW9uV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRnVuY3Rpb25XcmFwcGVyKCkge1xuICAgIH1cbiAgICBGdW5jdGlvbldyYXBwZXIuYXBwbHkgPSBmdW5jdGlvbiAoZm4sIHBvc0FyZ3MpIHsgcmV0dXJuIGZuLmFwcGx5KG51bGwsIHBvc0FyZ3MpOyB9O1xuICAgIHJldHVybiBGdW5jdGlvbldyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5GdW5jdGlvbldyYXBwZXIgPSBGdW5jdGlvbldyYXBwZXI7XG4vLyBKUyBoYXMgTmFOICE9PSBOYU5cbmZ1bmN0aW9uIGxvb3NlSWRlbnRpY2FsKGEsIGIpIHtcbiAgICByZXR1cm4gYSA9PT0gYiB8fCB0eXBlb2YgYSA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgYiA9PT0gXCJudW1iZXJcIiAmJiBpc05hTihhKSAmJiBpc05hTihiKTtcbn1cbmV4cG9ydHMubG9vc2VJZGVudGljYWwgPSBsb29zZUlkZW50aWNhbDtcbi8vIEpTIGNvbnNpZGVycyBOYU4gaXMgdGhlIHNhbWUgYXMgTmFOIGZvciBtYXAgS2V5ICh3aGlsZSBOYU4gIT09IE5hTiBvdGhlcndpc2UpXG4vLyBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWFwXG5mdW5jdGlvbiBnZXRNYXBLZXkodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5leHBvcnRzLmdldE1hcEtleSA9IGdldE1hcEtleTtcbmZ1bmN0aW9uIG5vcm1hbGl6ZUJsYW5rKG9iaikge1xuICAgIHJldHVybiBpc0JsYW5rKG9iaikgPyBudWxsIDogb2JqO1xufVxuZXhwb3J0cy5ub3JtYWxpemVCbGFuayA9IG5vcm1hbGl6ZUJsYW5rO1xuZnVuY3Rpb24gbm9ybWFsaXplQm9vbChvYmopIHtcbiAgICByZXR1cm4gaXNCbGFuayhvYmopID8gZmFsc2UgOiBvYmo7XG59XG5leHBvcnRzLm5vcm1hbGl6ZUJvb2wgPSBub3JtYWxpemVCb29sO1xuZnVuY3Rpb24gaXNKc09iamVjdChvKSB7XG4gICAgcmV0dXJuIG8gIT09IG51bGwgJiYgKHR5cGVvZiBvID09PSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIG8gPT09IFwib2JqZWN0XCIpO1xufVxuZXhwb3J0cy5pc0pzT2JqZWN0ID0gaXNKc09iamVjdDtcbmZ1bmN0aW9uIHByaW50KG9iaikge1xuICAgIGNvbnNvbGUubG9nKG9iaik7XG59XG5leHBvcnRzLnByaW50ID0gcHJpbnQ7XG5mdW5jdGlvbiB3YXJuKG9iaikge1xuICAgIGNvbnNvbGUud2FybihvYmopO1xufVxuZXhwb3J0cy53YXJuID0gd2Fybjtcbi8vIENhbid0IGJlIGFsbCB1cHBlcmNhc2UgYXMgb3VyIHRyYW5zcGlsZXIgd291bGQgdGhpbmsgaXQgaXMgYSBzcGVjaWFsIGRpcmVjdGl2ZS4uLlxudmFyIEpzb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEpzb24oKSB7XG4gICAgfVxuICAgIEpzb24ucGFyc2UgPSBmdW5jdGlvbiAocykgeyByZXR1cm4gX2dsb2JhbC5KU09OLnBhcnNlKHMpOyB9O1xuICAgIEpzb24uc3RyaW5naWZ5ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgLy8gRGFydCBkb2Vzbid0IHRha2UgMyBhcmd1bWVudHNcbiAgICAgICAgcmV0dXJuIF9nbG9iYWwuSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMik7XG4gICAgfTtcbiAgICByZXR1cm4gSnNvbjtcbn0oKSk7XG5leHBvcnRzLkpzb24gPSBKc29uO1xudmFyIERhdGVXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEYXRlV3JhcHBlcigpIHtcbiAgICB9XG4gICAgRGF0ZVdyYXBwZXIuY3JlYXRlID0gZnVuY3Rpb24gKHllYXIsIG1vbnRoLCBkYXksIGhvdXIsIG1pbnV0ZXMsIHNlY29uZHMsIG1pbGxpc2Vjb25kcykge1xuICAgICAgICBpZiAobW9udGggPT09IHZvaWQgMCkgeyBtb250aCA9IDE7IH1cbiAgICAgICAgaWYgKGRheSA9PT0gdm9pZCAwKSB7IGRheSA9IDE7IH1cbiAgICAgICAgaWYgKGhvdXIgPT09IHZvaWQgMCkgeyBob3VyID0gMDsgfVxuICAgICAgICBpZiAobWludXRlcyA9PT0gdm9pZCAwKSB7IG1pbnV0ZXMgPSAwOyB9XG4gICAgICAgIGlmIChzZWNvbmRzID09PSB2b2lkIDApIHsgc2Vjb25kcyA9IDA7IH1cbiAgICAgICAgaWYgKG1pbGxpc2Vjb25kcyA9PT0gdm9pZCAwKSB7IG1pbGxpc2Vjb25kcyA9IDA7IH1cbiAgICAgICAgcmV0dXJuIG5ldyBleHBvcnRzLkRhdGUoeWVhciwgbW9udGggLSAxLCBkYXksIGhvdXIsIG1pbnV0ZXMsIHNlY29uZHMsIG1pbGxpc2Vjb25kcyk7XG4gICAgfTtcbiAgICBEYXRlV3JhcHBlci5mcm9tSVNPU3RyaW5nID0gZnVuY3Rpb24gKHN0cikgeyByZXR1cm4gbmV3IGV4cG9ydHMuRGF0ZShzdHIpOyB9O1xuICAgIERhdGVXcmFwcGVyLmZyb21NaWxsaXMgPSBmdW5jdGlvbiAobXMpIHsgcmV0dXJuIG5ldyBleHBvcnRzLkRhdGUobXMpOyB9O1xuICAgIERhdGVXcmFwcGVyLnRvTWlsbGlzID0gZnVuY3Rpb24gKGRhdGUpIHsgcmV0dXJuIGRhdGUuZ2V0VGltZSgpOyB9O1xuICAgIERhdGVXcmFwcGVyLm5vdyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBleHBvcnRzLkRhdGUoKTsgfTtcbiAgICBEYXRlV3JhcHBlci50b0pzb24gPSBmdW5jdGlvbiAoZGF0ZSkgeyByZXR1cm4gZGF0ZS50b0pTT04oKTsgfTtcbiAgICByZXR1cm4gRGF0ZVdyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5EYXRlV3JhcHBlciA9IERhdGVXcmFwcGVyO1xuZnVuY3Rpb24gc2V0VmFsdWVPblBhdGgoZ2xvYmFsLCBwYXRoLCB2YWx1ZSkge1xuICAgIHZhciBwYXJ0cyA9IHBhdGguc3BsaXQoJy4nKTtcbiAgICB2YXIgb2JqID0gZ2xvYmFsO1xuICAgIHdoaWxlIChwYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHZhciBuYW1lID0gcGFydHMuc2hpZnQoKTtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiBpc1ByZXNlbnQob2JqW25hbWVdKSkge1xuICAgICAgICAgICAgb2JqID0gb2JqW25hbWVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqID0gb2JqW25hbWVdID0ge307XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkIHx8IG9iaiA9PT0gbnVsbCkge1xuICAgICAgICBvYmogPSB7fTtcbiAgICB9XG4gICAgb2JqW3BhcnRzLnNoaWZ0KCldID0gdmFsdWU7XG59XG5leHBvcnRzLnNldFZhbHVlT25QYXRoID0gc2V0VmFsdWVPblBhdGg7XG52YXIgX3N5bWJvbEl0ZXJhdG9yID0gbnVsbDtcbmZ1bmN0aW9uIGdldFN5bWJvbEl0ZXJhdG9yKCkge1xuICAgIGlmIChpc0JsYW5rKF9zeW1ib2xJdGVyYXRvcikpIHtcbiAgICAgICAgaWYgKGlzUHJlc2VudChnbG9iYWxTY29wZS5TeW1ib2wpICYmIGlzUHJlc2VudChTeW1ib2wuaXRlcmF0b3IpKSB7XG4gICAgICAgICAgICBfc3ltYm9sSXRlcmF0b3IgPSBTeW1ib2wuaXRlcmF0b3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBlczYtc2hpbSBzcGVjaWZpYyBsb2dpY1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhNYXAucHJvdG90eXBlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09ICdlbnRyaWVzJyAmJiBrZXkgIT09ICdzaXplJyAmJlxuICAgICAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlW2tleV0gPT09IE1hcC5wcm90b3R5cGVbJ2VudHJpZXMnXSkge1xuICAgICAgICAgICAgICAgICAgICBfc3ltYm9sSXRlcmF0b3IgPSBrZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBfc3ltYm9sSXRlcmF0b3I7XG59XG5leHBvcnRzLmdldFN5bWJvbEl0ZXJhdG9yID0gZ2V0U3ltYm9sSXRlcmF0b3I7XG5mdW5jdGlvbiBldmFsRXhwcmVzc2lvbihzb3VyY2VVcmwsIGV4cHIsIGRlY2xhcmF0aW9ucywgdmFycykge1xuICAgIHZhciBmbkJvZHkgPSBkZWNsYXJhdGlvbnMgKyBcIlxcbnJldHVybiBcIiArIGV4cHIgKyBcIlxcbi8vIyBzb3VyY2VVUkw9XCIgKyBzb3VyY2VVcmw7XG4gICAgdmFyIGZuQXJnTmFtZXMgPSBbXTtcbiAgICB2YXIgZm5BcmdWYWx1ZXMgPSBbXTtcbiAgICBmb3IgKHZhciBhcmdOYW1lIGluIHZhcnMpIHtcbiAgICAgICAgZm5BcmdOYW1lcy5wdXNoKGFyZ05hbWUpO1xuICAgICAgICBmbkFyZ1ZhbHVlcy5wdXNoKHZhcnNbYXJnTmFtZV0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5iaW5kLmFwcGx5KEZ1bmN0aW9uLCBbdm9pZCAwXS5jb25jYXQoZm5BcmdOYW1lcy5jb25jYXQoZm5Cb2R5KSkpKSgpLmFwcGx5KHZvaWQgMCwgZm5BcmdWYWx1ZXMpO1xufVxuZXhwb3J0cy5ldmFsRXhwcmVzc2lvbiA9IGV2YWxFeHByZXNzaW9uO1xuZnVuY3Rpb24gaXNQcmltaXRpdmUob2JqKSB7XG4gICAgcmV0dXJuICFpc0pzT2JqZWN0KG9iaik7XG59XG5leHBvcnRzLmlzUHJpbWl0aXZlID0gaXNQcmltaXRpdmU7XG5mdW5jdGlvbiBoYXNDb25zdHJ1Y3Rvcih2YWx1ZSwgdHlwZSkge1xuICAgIHJldHVybiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gdHlwZTtcbn1cbmV4cG9ydHMuaGFzQ29uc3RydWN0b3IgPSBoYXNDb25zdHJ1Y3RvcjtcbmZ1bmN0aW9uIGJpdFdpc2VPcih2YWx1ZXMpIHtcbiAgICByZXR1cm4gdmFsdWVzLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSB8IGI7IH0pO1xufVxuZXhwb3J0cy5iaXRXaXNlT3IgPSBiaXRXaXNlT3I7XG5mdW5jdGlvbiBiaXRXaXNlQW5kKHZhbHVlcykge1xuICAgIHJldHVybiB2YWx1ZXMucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICYgYjsgfSk7XG59XG5leHBvcnRzLmJpdFdpc2VBbmQgPSBiaXRXaXNlQW5kO1xuZnVuY3Rpb24gZXNjYXBlKHMpIHtcbiAgICByZXR1cm4gX2dsb2JhbC5lbmNvZGVVUkkocyk7XG59XG5leHBvcnRzLmVzY2FwZSA9IGVzY2FwZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhbmcuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgUHJvbWlzZUNvbXBsZXRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHJvbWlzZUNvbXBsZXRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlcywgcmVqKSB7XG4gICAgICAgICAgICBfdGhpcy5yZXNvbHZlID0gcmVzO1xuICAgICAgICAgICAgX3RoaXMucmVqZWN0ID0gcmVqO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2VDb21wbGV0ZXI7XG59KCkpO1xuZXhwb3J0cy5Qcm9taXNlQ29tcGxldGVyID0gUHJvbWlzZUNvbXBsZXRlcjtcbnZhciBQcm9taXNlV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHJvbWlzZVdyYXBwZXIoKSB7XG4gICAgfVxuICAgIFByb21pc2VXcmFwcGVyLnJlc29sdmUgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUob2JqKTsgfTtcbiAgICBQcm9taXNlV3JhcHBlci5yZWplY3QgPSBmdW5jdGlvbiAob2JqLCBfKSB7IHJldHVybiBQcm9taXNlLnJlamVjdChvYmopOyB9O1xuICAgIC8vIE5vdGU6IFdlIGNhbid0IHJlbmFtZSB0aGlzIG1ldGhvZCBpbnRvIGBjYXRjaGAsIGFzIHRoaXMgaXMgbm90IGEgdmFsaWRcbiAgICAvLyBtZXRob2QgbmFtZSBpbiBEYXJ0LlxuICAgIFByb21pc2VXcmFwcGVyLmNhdGNoRXJyb3IgPSBmdW5jdGlvbiAocHJvbWlzZSwgb25FcnJvcikge1xuICAgICAgICByZXR1cm4gcHJvbWlzZS5jYXRjaChvbkVycm9yKTtcbiAgICB9O1xuICAgIFByb21pc2VXcmFwcGVyLmFsbCA9IGZ1bmN0aW9uIChwcm9taXNlcykge1xuICAgICAgICBpZiAocHJvbWlzZXMubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICB9O1xuICAgIFByb21pc2VXcmFwcGVyLnRoZW4gPSBmdW5jdGlvbiAocHJvbWlzZSwgc3VjY2VzcywgcmVqZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oc3VjY2VzcywgcmVqZWN0aW9uKTtcbiAgICB9O1xuICAgIFByb21pc2VXcmFwcGVyLndyYXAgPSBmdW5jdGlvbiAoY29tcHV0YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXMoY29tcHV0YXRpb24oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJlaihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQcm9taXNlV3JhcHBlci5zY2hlZHVsZU1pY3JvdGFzayA9IGZ1bmN0aW9uIChjb21wdXRhdGlvbikge1xuICAgICAgICBQcm9taXNlV3JhcHBlci50aGVuKFByb21pc2VXcmFwcGVyLnJlc29sdmUobnVsbCksIGNvbXB1dGF0aW9uLCBmdW5jdGlvbiAoXykgeyB9KTtcbiAgICB9O1xuICAgIFByb21pc2VXcmFwcGVyLmlzUHJvbWlzZSA9IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIFByb21pc2U7IH07XG4gICAgUHJvbWlzZVdyYXBwZXIuY29tcGxldGVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IFByb21pc2VDb21wbGV0ZXIoKTsgfTtcbiAgICByZXR1cm4gUHJvbWlzZVdyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5Qcm9taXNlV3JhcHBlciA9IFByb21pc2VXcmFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvbWlzZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGNvbXBpbGVyXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb21waWxlcicpO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvZXhjZXB0aW9ucycpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIHByb21pc2VfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvcHJvbWlzZScpO1xuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiBYSFIgdGhhdCB1c2VzIGEgdGVtcGxhdGUgY2FjaGUgdG8gYXZvaWQgZG9pbmcgYW4gYWN0dWFsXG4gKiBYSFIuXG4gKlxuICogVGhlIHRlbXBsYXRlIGNhY2hlIG5lZWRzIHRvIGJlIGJ1aWx0IGFuZCBsb2FkZWQgaW50byB3aW5kb3cuJHRlbXBsYXRlQ2FjaGVcbiAqIHZpYSBhIHNlcGFyYXRlIG1lY2hhbmlzbS5cbiAqL1xudmFyIENhY2hlZFhIUiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENhY2hlZFhIUiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDYWNoZWRYSFIoKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLl9jYWNoZSA9IGxhbmdfMS5nbG9iYWwuJHRlbXBsYXRlQ2FjaGU7XG4gICAgICAgIGlmICh0aGlzLl9jYWNoZSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9uc18xLkJhc2VFeGNlcHRpb24oJ0NhY2hlZFhIUjogVGVtcGxhdGUgY2FjaGUgd2FzIG5vdCBmb3VuZCBpbiAkdGVtcGxhdGVDYWNoZS4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBDYWNoZWRYSFIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlLmhhc093blByb3BlcnR5KHVybCkpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlXzEuUHJvbWlzZVdyYXBwZXIucmVzb2x2ZSh0aGlzLl9jYWNoZVt1cmxdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlXzEuUHJvbWlzZVdyYXBwZXIucmVqZWN0KCdDYWNoZWRYSFI6IERpZCBub3QgZmluZCBjYWNoZWQgdGVtcGxhdGUgZm9yICcgKyB1cmwsIG51bGwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ2FjaGVkWEhSO1xufShjb21waWxlcl8xLlhIUikpO1xuZXhwb3J0cy5DYWNoZWRYSFIgPSBDYWNoZWRYSFI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD14aHJfY2FjaGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBjb21waWxlcl8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29tcGlsZXInKTtcbnZhciBwcm9taXNlXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL3Byb21pc2UnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBYSFJJbXBsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoWEhSSW1wbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBYSFJJbXBsKCkge1xuICAgICAgICBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgWEhSSW1wbC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICB2YXIgY29tcGxldGVyID0gcHJvbWlzZV8xLlByb21pc2VXcmFwcGVyLmNvbXBsZXRlcigpO1xuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ3RleHQnO1xuICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gcmVzcG9uc2VUZXh0IGlzIHRoZSBvbGQtc2Nob29sIHdheSBvZiByZXRyaWV2aW5nIHJlc3BvbnNlIChzdXBwb3J0ZWQgYnkgSUU4ICYgOSlcbiAgICAgICAgICAgIC8vIHJlc3BvbnNlL3Jlc3BvbnNlVHlwZSBwcm9wZXJ0aWVzIHdlcmUgaW50cm9kdWNlZCBpbiBYSFIgTGV2ZWwyIHNwZWMgKHN1cHBvcnRlZCBieSBJRTEwKVxuICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gbGFuZ18xLmlzUHJlc2VudCh4aHIucmVzcG9uc2UpID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgIC8vIG5vcm1hbGl6ZSBJRTkgYnVnIChodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xNDUwKVxuICAgICAgICAgICAgdmFyIHN0YXR1cyA9IHhoci5zdGF0dXMgPT09IDEyMjMgPyAyMDQgOiB4aHIuc3RhdHVzO1xuICAgICAgICAgICAgLy8gZml4IHN0YXR1cyBjb2RlIHdoZW4gaXQgaXMgMCAoMCBzdGF0dXMgaXMgdW5kb2N1bWVudGVkKS5cbiAgICAgICAgICAgIC8vIE9jY3VycyB3aGVuIGFjY2Vzc2luZyBmaWxlIHJlc291cmNlcyBvciBvbiBBbmRyb2lkIDQuMSBzdG9jayBicm93c2VyXG4gICAgICAgICAgICAvLyB3aGlsZSByZXRyaWV2aW5nIGZpbGVzIGZyb20gYXBwbGljYXRpb24gY2FjaGUuXG4gICAgICAgICAgICBpZiAoc3RhdHVzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzID0gcmVzcG9uc2UgPyAyMDAgOiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKDIwMCA8PSBzdGF0dXMgJiYgc3RhdHVzIDw9IDMwMCkge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlci5yZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlci5yZWplY3QoXCJGYWlsZWQgdG8gbG9hZCBcIiArIHVybCwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKCkgeyBjb21wbGV0ZXIucmVqZWN0KFwiRmFpbGVkIHRvIGxvYWQgXCIgKyB1cmwsIG51bGwpOyB9O1xuICAgICAgICB4aHIuc2VuZCgpO1xuICAgICAgICByZXR1cm4gY29tcGxldGVyLnByb21pc2U7XG4gICAgfTtcbiAgICByZXR1cm4gWEhSSW1wbDtcbn0oY29tcGlsZXJfMS5YSFIpKTtcbmV4cG9ydHMuWEhSSW1wbCA9IFhIUkltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD14aHJfaW1wbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG5leHBvcnRzLlJlbmRlckRlYnVnSW5mbyA9IGNvcmVfMS5fX2NvcmVfcHJpdmF0ZV9fLlJlbmRlckRlYnVnSW5mbztcbmV4cG9ydHMud3RmSW5pdCA9IGNvcmVfMS5fX2NvcmVfcHJpdmF0ZV9fLnd0ZkluaXQ7XG5leHBvcnRzLlJlZmxlY3Rpb25DYXBhYmlsaXRpZXMgPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy5SZWZsZWN0aW9uQ2FwYWJpbGl0aWVzO1xuZXhwb3J0cy5WSUVXX0VOQ0FQU1VMQVRJT05fVkFMVUVTID0gY29yZV8xLl9fY29yZV9wcml2YXRlX18uVklFV19FTkNBUFNVTEFUSU9OX1ZBTFVFUztcbmV4cG9ydHMuRGVidWdEb21Sb290UmVuZGVyZXIgPSBjb3JlXzEuX19jb3JlX3ByaXZhdGVfXy5EZWJ1Z0RvbVJvb3RSZW5kZXJlcjtcbmV4cG9ydHMuU2VjdXJpdHlDb250ZXh0ID0gY29yZV8xLl9fY29yZV9wcml2YXRlX18uU2VjdXJpdHlDb250ZXh0O1xuZXhwb3J0cy5TYW5pdGl6YXRpb25TZXJ2aWNlID0gY29yZV8xLl9fY29yZV9wcml2YXRlX18uU2FuaXRpemF0aW9uU2VydmljZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcmVfcHJpdmF0ZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5fX2V4cG9ydChyZXF1aXJlKCcuL3NyYy9wbGF0Zm9ybV9icm93c2VyJykpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgYW5pbWF0aW9uX2J1aWxkZXIgPSByZXF1aXJlKCcuL3NyYy9hbmltYXRlL2FuaW1hdGlvbl9idWlsZGVyJyk7XG52YXIgY3NzX2FuaW1hdGlvbl9idWlsZGVyID0gcmVxdWlyZSgnLi9zcmMvYW5pbWF0ZS9jc3NfYW5pbWF0aW9uX2J1aWxkZXInKTtcbnZhciBicm93c2VyX2RldGFpbHMgPSByZXF1aXJlKCcuL3NyYy9hbmltYXRlL2Jyb3dzZXJfZGV0YWlscycpO1xudmFyIGNzc19hbmltYXRpb25fb3B0aW9ucyA9IHJlcXVpcmUoJy4vc3JjL2FuaW1hdGUvY3NzX2FuaW1hdGlvbl9vcHRpb25zJyk7XG52YXIgYW5pbWF0aW9uID0gcmVxdWlyZSgnLi9zcmMvYW5pbWF0ZS9hbmltYXRpb24nKTtcbnZhciBkb21fYWRhcHRlciA9IHJlcXVpcmUoJy4vc3JjL2RvbS9kb21fYWRhcHRlcicpO1xudmFyIGJyb3dzZXJfYWRhcHRlciA9IHJlcXVpcmUoJy4vc3JjL2Jyb3dzZXIvYnJvd3Nlcl9hZGFwdGVyJyk7XG52YXIgX19wbGF0Zm9ybV9icm93c2VyX3ByaXZhdGVfXztcbihmdW5jdGlvbiAoX19wbGF0Zm9ybV9icm93c2VyX3ByaXZhdGVfXykge1xuICAgIF9fcGxhdGZvcm1fYnJvd3Nlcl9wcml2YXRlX18uRG9tQWRhcHRlciA9IGRvbV9hZGFwdGVyLkRvbUFkYXB0ZXI7XG4gICAgZnVuY3Rpb24gZ2V0RE9NKCkgeyByZXR1cm4gZG9tX2FkYXB0ZXIuZ2V0RE9NKCk7IH1cbiAgICBfX3BsYXRmb3JtX2Jyb3dzZXJfcHJpdmF0ZV9fLmdldERPTSA9IGdldERPTTtcbiAgICBmdW5jdGlvbiBzZXRET00oYWRhcHRlcikgeyByZXR1cm4gZG9tX2FkYXB0ZXIuc2V0RE9NKGFkYXB0ZXIpOyB9XG4gICAgX19wbGF0Zm9ybV9icm93c2VyX3ByaXZhdGVfXy5zZXRET00gPSBzZXRET007XG4gICAgX19wbGF0Zm9ybV9icm93c2VyX3ByaXZhdGVfXy5zZXRSb290RG9tQWRhcHRlciA9IGRvbV9hZGFwdGVyLnNldFJvb3REb21BZGFwdGVyO1xuICAgIF9fcGxhdGZvcm1fYnJvd3Nlcl9wcml2YXRlX18uQnJvd3NlckRvbUFkYXB0ZXIgPSBicm93c2VyX2FkYXB0ZXIuQnJvd3NlckRvbUFkYXB0ZXI7XG4gICAgX19wbGF0Zm9ybV9icm93c2VyX3ByaXZhdGVfXy5BbmltYXRpb25CdWlsZGVyID0gYW5pbWF0aW9uX2J1aWxkZXIuQW5pbWF0aW9uQnVpbGRlcjtcbiAgICBfX3BsYXRmb3JtX2Jyb3dzZXJfcHJpdmF0ZV9fLkNzc0FuaW1hdGlvbkJ1aWxkZXIgPSBjc3NfYW5pbWF0aW9uX2J1aWxkZXIuQ3NzQW5pbWF0aW9uQnVpbGRlcjtcbiAgICBfX3BsYXRmb3JtX2Jyb3dzZXJfcHJpdmF0ZV9fLkNzc0FuaW1hdGlvbk9wdGlvbnMgPSBjc3NfYW5pbWF0aW9uX29wdGlvbnMuQ3NzQW5pbWF0aW9uT3B0aW9ucztcbiAgICBfX3BsYXRmb3JtX2Jyb3dzZXJfcHJpdmF0ZV9fLkFuaW1hdGlvbiA9IGFuaW1hdGlvbi5BbmltYXRpb247XG4gICAgX19wbGF0Zm9ybV9icm93c2VyX3ByaXZhdGVfXy5Ccm93c2VyRGV0YWlscyA9IGJyb3dzZXJfZGV0YWlscy5Ccm93c2VyRGV0YWlscztcbn0pKF9fcGxhdGZvcm1fYnJvd3Nlcl9wcml2YXRlX18gPSBleHBvcnRzLl9fcGxhdGZvcm1fYnJvd3Nlcl9wcml2YXRlX18gfHwgKGV4cG9ydHMuX19wbGF0Zm9ybV9icm93c2VyX3ByaXZhdGVfXyA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcml2YXRlX2V4cG9ydC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBtYXRoXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL21hdGgnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciB1dGlsXzEgPSByZXF1aXJlKCcuLi9kb20vdXRpbCcpO1xudmFyIGRvbV9hZGFwdGVyXzEgPSByZXF1aXJlKCcuLi9kb20vZG9tX2FkYXB0ZXInKTtcbnZhciBBbmltYXRpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyB0aGUgc3RhcnQgdGltZSBhbmQgc3RhcnRzIHRoZSBhbmltYXRpb25cbiAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICogQHBhcmFtIGJyb3dzZXJEZXRhaWxzXG4gICAgICovXG4gICAgZnVuY3Rpb24gQW5pbWF0aW9uKGVsZW1lbnQsIGRhdGEsIGJyb3dzZXJEZXRhaWxzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuYnJvd3NlckRldGFpbHMgPSBicm93c2VyRGV0YWlscztcbiAgICAgICAgLyoqIGZ1bmN0aW9ucyB0byBiZSBjYWxsZWQgdXBvbiBjb21wbGV0aW9uICovXG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gW107XG4gICAgICAgIC8qKiBmdW5jdGlvbnMgZm9yIHJlbW92aW5nIGV2ZW50IGxpc3RlbmVycyAqL1xuICAgICAgICB0aGlzLmV2ZW50Q2xlYXJGdW5jdGlvbnMgPSBbXTtcbiAgICAgICAgLyoqIGZsYWcgdXNlZCB0byB0cmFjayB3aGV0aGVyIG9yIG5vdCB0aGUgYW5pbWF0aW9uIGhhcyBmaW5pc2hlZCAqL1xuICAgICAgICB0aGlzLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zdHJpbmdQcmVmaXggPSAnJztcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBsYW5nXzEuRGF0ZVdyYXBwZXIudG9NaWxsaXMobGFuZ18xLkRhdGVXcmFwcGVyLm5vdygpKTtcbiAgICAgICAgdGhpcy5fc3RyaW5nUHJlZml4ID0gZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5nZXRBbmltYXRpb25QcmVmaXgoKTtcbiAgICAgICAgdGhpcy5zZXR1cCgpO1xuICAgICAgICB0aGlzLndhaXQoZnVuY3Rpb24gKHRpbWVzdGFtcCkgeyByZXR1cm4gX3RoaXMuc3RhcnQoKTsgfSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbmltYXRpb24ucHJvdG90eXBlLCBcInRvdGFsVGltZVwiLCB7XG4gICAgICAgIC8qKiB0b3RhbCBhbW91bnQgb2YgdGltZSB0aGF0IHRoZSBhbmltYXRpb24gc2hvdWxkIHRha2UgaW5jbHVkaW5nIGRlbGF5ICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRlbGF5ID0gdGhpcy5jb21wdXRlZERlbGF5ICE9IG51bGwgPyB0aGlzLmNvbXB1dGVkRGVsYXkgOiAwO1xuICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gdGhpcy5jb21wdXRlZER1cmF0aW9uICE9IG51bGwgPyB0aGlzLmNvbXB1dGVkRHVyYXRpb24gOiAwO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGF5ICsgZHVyYXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEFuaW1hdGlvbi5wcm90b3R5cGUud2FpdCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAvLyBGaXJlZm94IHJlcXVpcmVzIDIgZnJhbWVzIGZvciBzb21lIHJlYXNvblxuICAgICAgICB0aGlzLmJyb3dzZXJEZXRhaWxzLnJhZihjYWxsYmFjaywgMik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSBpbml0aWFsIHN0eWxlcyBiZWZvcmUgdGhlIGFuaW1hdGlvbiBpcyBzdGFydGVkXG4gICAgICovXG4gICAgQW5pbWF0aW9uLnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5mcm9tU3R5bGVzICE9IG51bGwpXG4gICAgICAgICAgICB0aGlzLmFwcGx5U3R5bGVzKHRoaXMuZGF0YS5mcm9tU3R5bGVzKTtcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5kdXJhdGlvbiAhPSBudWxsKVxuICAgICAgICAgICAgdGhpcy5hcHBseVN0eWxlcyh7ICd0cmFuc2l0aW9uRHVyYXRpb24nOiB0aGlzLmRhdGEuZHVyYXRpb24udG9TdHJpbmcoKSArICdtcycgfSk7XG4gICAgICAgIGlmICh0aGlzLmRhdGEuZGVsYXkgIT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMuYXBwbHlTdHlsZXMoeyAndHJhbnNpdGlvbkRlbGF5JzogdGhpcy5kYXRhLmRlbGF5LnRvU3RyaW5nKCkgKyAnbXMnIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWZ0ZXIgdGhlIGluaXRpYWwgc2V0dXAgaGFzIG9jY3VycmVkLCB0aGlzIG1ldGhvZCBhZGRzIHRoZSBhbmltYXRpb24gc3R5bGVzXG4gICAgICovXG4gICAgQW5pbWF0aW9uLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hZGRDbGFzc2VzKHRoaXMuZGF0YS5jbGFzc2VzVG9BZGQpO1xuICAgICAgICB0aGlzLmFkZENsYXNzZXModGhpcy5kYXRhLmFuaW1hdGlvbkNsYXNzZXMpO1xuICAgICAgICB0aGlzLnJlbW92ZUNsYXNzZXModGhpcy5kYXRhLmNsYXNzZXNUb1JlbW92ZSk7XG4gICAgICAgIGlmICh0aGlzLmRhdGEudG9TdHlsZXMgIT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMuYXBwbHlTdHlsZXModGhpcy5kYXRhLnRvU3R5bGVzKTtcbiAgICAgICAgdmFyIGNvbXB1dGVkU3R5bGVzID0gZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudCk7XG4gICAgICAgIHRoaXMuY29tcHV0ZWREZWxheSA9XG4gICAgICAgICAgICBtYXRoXzEuTWF0aC5tYXgodGhpcy5wYXJzZUR1cmF0aW9uU3RyaW5nKGNvbXB1dGVkU3R5bGVzLmdldFByb3BlcnR5VmFsdWUodGhpcy5fc3RyaW5nUHJlZml4ICsgJ3RyYW5zaXRpb24tZGVsYXknKSksIHRoaXMucGFyc2VEdXJhdGlvblN0cmluZyh0aGlzLmVsZW1lbnQuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSh0aGlzLl9zdHJpbmdQcmVmaXggKyAndHJhbnNpdGlvbi1kZWxheScpKSk7XG4gICAgICAgIHRoaXMuY29tcHV0ZWREdXJhdGlvbiA9IG1hdGhfMS5NYXRoLm1heCh0aGlzLnBhcnNlRHVyYXRpb25TdHJpbmcoY29tcHV0ZWRTdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSh0aGlzLl9zdHJpbmdQcmVmaXggKyAndHJhbnNpdGlvbi1kdXJhdGlvbicpKSwgdGhpcy5wYXJzZUR1cmF0aW9uU3RyaW5nKHRoaXMuZWxlbWVudC5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKHRoaXMuX3N0cmluZ1ByZWZpeCArICd0cmFuc2l0aW9uLWR1cmF0aW9uJykpKTtcbiAgICAgICAgdGhpcy5hZGRFdmVudHMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIHByb3ZpZGVkIHN0eWxlcyB0byB0aGUgZWxlbWVudFxuICAgICAqIEBwYXJhbSBzdHlsZXNcbiAgICAgKi9cbiAgICBBbmltYXRpb24ucHJvdG90eXBlLmFwcGx5U3R5bGVzID0gZnVuY3Rpb24gKHN0eWxlcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBjb2xsZWN0aW9uXzEuU3RyaW5nTWFwV3JhcHBlci5mb3JFYWNoKHN0eWxlcywgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIHZhciBkYXNoQ2FzZUtleSA9IHV0aWxfMS5jYW1lbENhc2VUb0Rhc2hDYXNlKGtleSk7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChkb21fYWRhcHRlcl8xLmdldERPTSgpLmdldFN0eWxlKF90aGlzLmVsZW1lbnQsIGRhc2hDYXNlS2V5KSkpIHtcbiAgICAgICAgICAgICAgICBkb21fYWRhcHRlcl8xLmdldERPTSgpLnNldFN0eWxlKF90aGlzLmVsZW1lbnQsIGRhc2hDYXNlS2V5LCB2YWx1ZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkuc2V0U3R5bGUoX3RoaXMuZWxlbWVudCwgX3RoaXMuX3N0cmluZ1ByZWZpeCArIGRhc2hDYXNlS2V5LCB2YWx1ZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBwcm92aWRlZCBjbGFzc2VzIHRvIHRoZSBlbGVtZW50XG4gICAgICogQHBhcmFtIGNsYXNzZXNcbiAgICAgKi9cbiAgICBBbmltYXRpb24ucHJvdG90eXBlLmFkZENsYXNzZXMgPSBmdW5jdGlvbiAoY2xhc3Nlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2xhc3Nlcy5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICAgICAgICAgIGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkuYWRkQ2xhc3ModGhpcy5lbGVtZW50LCBjbGFzc2VzW2ldKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHByb3ZpZGVkIGNsYXNzZXMgZnJvbSB0aGUgZWxlbWVudFxuICAgICAqIEBwYXJhbSBjbGFzc2VzXG4gICAgICovXG4gICAgQW5pbWF0aW9uLnByb3RvdHlwZS5yZW1vdmVDbGFzc2VzID0gZnVuY3Rpb24gKGNsYXNzZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNsYXNzZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgICAgICAgICBkb21fYWRhcHRlcl8xLmdldERPTSgpLnJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudCwgY2xhc3Nlc1tpXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGV2ZW50cyB0byB0cmFjayB3aGVuIGFuaW1hdGlvbnMgaGF2ZSBmaW5pc2hlZFxuICAgICAqL1xuICAgIEFuaW1hdGlvbi5wcm90b3R5cGUuYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy50b3RhbFRpbWUgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50Q2xlYXJGdW5jdGlvbnMucHVzaChkb21fYWRhcHRlcl8xLmdldERPTSgpLm9uQW5kQ2FuY2VsKHRoaXMuZWxlbWVudCwgZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5nZXRUcmFuc2l0aW9uRW5kKCksIGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gX3RoaXMuaGFuZGxlQW5pbWF0aW9uRXZlbnQoZXZlbnQpOyB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUFuaW1hdGlvbkNvbXBsZXRlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBbmltYXRpb24ucHJvdG90eXBlLmhhbmRsZUFuaW1hdGlvbkV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBlbGFwc2VkVGltZSA9IG1hdGhfMS5NYXRoLnJvdW5kKGV2ZW50LmVsYXBzZWRUaW1lICogMTAwMCk7XG4gICAgICAgIGlmICghdGhpcy5icm93c2VyRGV0YWlscy5lbGFwc2VkVGltZUluY2x1ZGVzRGVsYXkpXG4gICAgICAgICAgICBlbGFwc2VkVGltZSArPSB0aGlzLmNvbXB1dGVkRGVsYXk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZiAoZWxhcHNlZFRpbWUgPj0gdGhpcy50b3RhbFRpbWUpXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUFuaW1hdGlvbkNvbXBsZXRlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUnVucyBhbGwgYW5pbWF0aW9uIGNhbGxiYWNrcyBhbmQgcmVtb3ZlcyB0ZW1wb3JhcnkgY2xhc3Nlc1xuICAgICAqL1xuICAgIEFuaW1hdGlvbi5wcm90b3R5cGUuaGFuZGxlQW5pbWF0aW9uQ29tcGxldGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbW92ZUNsYXNzZXModGhpcy5kYXRhLmFuaW1hdGlvbkNsYXNzZXMpO1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykgeyByZXR1cm4gY2FsbGJhY2soKTsgfSk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gW107XG4gICAgICAgIHRoaXMuZXZlbnRDbGVhckZ1bmN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChmbikgeyByZXR1cm4gZm4oKTsgfSk7XG4gICAgICAgIHRoaXMuZXZlbnRDbGVhckZ1bmN0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGFuaW1hdGlvbiBjYWxsYmFja3MgdG8gYmUgY2FsbGVkIHVwb24gY29tcGxldGlvblxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtBbmltYXRpb259XG4gICAgICovXG4gICAgQW5pbWF0aW9uLnByb3RvdHlwZS5vbkNvbXBsZXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbXBsZXRlZCkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGR1cmF0aW9uIHN0cmluZyB0byB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kc1xuICAgICAqIEBwYXJhbSBkdXJhdGlvblxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgQW5pbWF0aW9uLnByb3RvdHlwZS5wYXJzZUR1cmF0aW9uU3RyaW5nID0gZnVuY3Rpb24gKGR1cmF0aW9uKSB7XG4gICAgICAgIHZhciBtYXhWYWx1ZSA9IDA7XG4gICAgICAgIC8vIGR1cmF0aW9uIG11c3QgaGF2ZSBhdCBsZWFzdCAyIGNoYXJhY3RlcnMgdG8gYmUgdmFsaWQuIChudW1iZXIgKyB0eXBlKVxuICAgICAgICBpZiAoZHVyYXRpb24gPT0gbnVsbCB8fCBkdXJhdGlvbi5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF4VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHVyYXRpb24uc3Vic3RyaW5nKGR1cmF0aW9uLmxlbmd0aCAtIDIpID09ICdtcycpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGxhbmdfMS5OdW1iZXJXcmFwcGVyLnBhcnNlSW50KHRoaXMuc3RyaXBMZXR0ZXJzKGR1cmF0aW9uKSwgMTApO1xuICAgICAgICAgICAgaWYgKHZhbHVlID4gbWF4VmFsdWUpXG4gICAgICAgICAgICAgICAgbWF4VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkdXJhdGlvbi5zdWJzdHJpbmcoZHVyYXRpb24ubGVuZ3RoIC0gMSkgPT0gJ3MnKSB7XG4gICAgICAgICAgICB2YXIgbXMgPSBsYW5nXzEuTnVtYmVyV3JhcHBlci5wYXJzZUZsb2F0KHRoaXMuc3RyaXBMZXR0ZXJzKGR1cmF0aW9uKSkgKiAxMDAwO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gbWF0aF8xLk1hdGguZmxvb3IobXMpO1xuICAgICAgICAgICAgaWYgKHZhbHVlID4gbWF4VmFsdWUpXG4gICAgICAgICAgICAgICAgbWF4VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4VmFsdWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdHJpcHMgdGhlIGxldHRlcnMgZnJvbSB0aGUgZHVyYXRpb24gc3RyaW5nXG4gICAgICogQHBhcmFtIHN0clxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgQW5pbWF0aW9uLnByb3RvdHlwZS5zdHJpcExldHRlcnMgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiBsYW5nXzEuU3RyaW5nV3JhcHBlci5yZXBsYWNlQWxsKHN0ciwgbGFuZ18xLlJlZ0V4cFdyYXBwZXIuY3JlYXRlKCdbXjAtOV0rJCcsICcnKSwgJycpO1xuICAgIH07XG4gICAgcmV0dXJuIEFuaW1hdGlvbjtcbn0oKSk7XG5leHBvcnRzLkFuaW1hdGlvbiA9IEFuaW1hdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuaW1hdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgY3NzX2FuaW1hdGlvbl9idWlsZGVyXzEgPSByZXF1aXJlKCcuL2Nzc19hbmltYXRpb25fYnVpbGRlcicpO1xudmFyIGJyb3dzZXJfZGV0YWlsc18xID0gcmVxdWlyZSgnLi9icm93c2VyX2RldGFpbHMnKTtcbnZhciBBbmltYXRpb25CdWlsZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBESVxuICAgICAqIEBwYXJhbSBicm93c2VyRGV0YWlsc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFuaW1hdGlvbkJ1aWxkZXIoYnJvd3NlckRldGFpbHMpIHtcbiAgICAgICAgdGhpcy5icm93c2VyRGV0YWlscyA9IGJyb3dzZXJEZXRhaWxzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IENTUyBBbmltYXRpb25cbiAgICAgKiBAcmV0dXJucyB7Q3NzQW5pbWF0aW9uQnVpbGRlcn1cbiAgICAgKi9cbiAgICBBbmltYXRpb25CdWlsZGVyLnByb3RvdHlwZS5jc3MgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgY3NzX2FuaW1hdGlvbl9idWlsZGVyXzEuQ3NzQW5pbWF0aW9uQnVpbGRlcih0aGlzLmJyb3dzZXJEZXRhaWxzKTsgfTtcbiAgICBBbmltYXRpb25CdWlsZGVyLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIEFuaW1hdGlvbkJ1aWxkZXIuY3RvclBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHsgdHlwZTogYnJvd3Nlcl9kZXRhaWxzXzEuQnJvd3NlckRldGFpbHMsIH0sXG4gICAgXTtcbiAgICByZXR1cm4gQW5pbWF0aW9uQnVpbGRlcjtcbn0oKSk7XG5leHBvcnRzLkFuaW1hdGlvbkJ1aWxkZXIgPSBBbmltYXRpb25CdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5pbWF0aW9uX2J1aWxkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIG1hdGhfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbWF0aCcpO1xudmFyIGRvbV9hZGFwdGVyXzEgPSByZXF1aXJlKCcuLi9kb20vZG9tX2FkYXB0ZXInKTtcbnZhciBCcm93c2VyRGV0YWlscyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnJvd3NlckRldGFpbHMoKSB7XG4gICAgICAgIHRoaXMuZWxhcHNlZFRpbWVJbmNsdWRlc0RlbGF5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZG9lc0VsYXBzZWRUaW1lSW5jbHVkZXNEZWxheSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGBldmVudC5lbGFwc2VkVGltZWAgaW5jbHVkZXMgdHJhbnNpdGlvbiBkZWxheSBpbiB0aGUgY3VycmVudCBicm93c2VyLiAgQXQgdGhpc1xuICAgICAqIHRpbWUsIENocm9tZSBhbmQgT3BlcmEgc2VlbSB0byBiZSB0aGUgb25seSBicm93c2VycyB0aGF0IGluY2x1ZGUgdGhpcy5cbiAgICAgKi9cbiAgICBCcm93c2VyRGV0YWlscy5wcm90b3R5cGUuZG9lc0VsYXBzZWRUaW1lSW5jbHVkZXNEZWxheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGRpdiA9IGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkuc2V0QXR0cmlidXRlKGRpdiwgJ3N0eWxlJywgXCJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogLTk5OTlweDsgbGVmdDogLTk5OTlweDsgd2lkdGg6IDFweDtcXG4gICAgICBoZWlnaHQ6IDFweDsgdHJhbnNpdGlvbjogYWxsIDFtcyBsaW5lYXIgMW1zO1wiKTtcbiAgICAgICAgLy8gRmlyZWZveCByZXF1aXJlcyB0aGF0IHdlIHdhaXQgZm9yIDIgZnJhbWVzIGZvciBzb21lIHJlYXNvblxuICAgICAgICB0aGlzLnJhZihmdW5jdGlvbiAodGltZXN0YW1wKSB7XG4gICAgICAgICAgICBkb21fYWRhcHRlcl8xLmdldERPTSgpLm9uKGRpdiwgJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxhcHNlZCA9IG1hdGhfMS5NYXRoLnJvdW5kKGV2ZW50LmVsYXBzZWRUaW1lICogMTAwMCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuZWxhcHNlZFRpbWVJbmNsdWRlc0RlbGF5ID0gZWxhcHNlZCA9PSAyO1xuICAgICAgICAgICAgICAgIGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkucmVtb3ZlKGRpdik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkuc2V0U3R5bGUoZGl2LCAnd2lkdGgnLCAnMnB4Jyk7XG4gICAgICAgIH0sIDIpO1xuICAgIH07XG4gICAgQnJvd3NlckRldGFpbHMucHJvdG90eXBlLnJhZiA9IGZ1bmN0aW9uIChjYWxsYmFjaywgZnJhbWVzKSB7XG4gICAgICAgIGlmIChmcmFtZXMgPT09IHZvaWQgMCkgeyBmcmFtZXMgPSAxOyB9XG4gICAgICAgIHZhciBxdWV1ZSA9IG5ldyBSYWZRdWV1ZShjYWxsYmFjaywgZnJhbWVzKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHF1ZXVlLmNhbmNlbCgpOyB9O1xuICAgIH07XG4gICAgQnJvd3NlckRldGFpbHMuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuSW5qZWN0YWJsZSB9LFxuICAgIF07XG4gICAgQnJvd3NlckRldGFpbHMuY3RvclBhcmFtZXRlcnMgPSBbXTtcbiAgICByZXR1cm4gQnJvd3NlckRldGFpbHM7XG59KCkpO1xuZXhwb3J0cy5Ccm93c2VyRGV0YWlscyA9IEJyb3dzZXJEZXRhaWxzO1xudmFyIFJhZlF1ZXVlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSYWZRdWV1ZShjYWxsYmFjaywgZnJhbWVzKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgdGhpcy5mcmFtZXMgPSBmcmFtZXM7XG4gICAgICAgIHRoaXMuX3JhZigpO1xuICAgIH1cbiAgICBSYWZRdWV1ZS5wcm90b3R5cGUuX3JhZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jdXJyZW50RnJhbWVJZCA9XG4gICAgICAgICAgICBkb21fYWRhcHRlcl8xLmdldERPTSgpLnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAodGltZXN0YW1wKSB7IHJldHVybiBfdGhpcy5fbmV4dEZyYW1lKHRpbWVzdGFtcCk7IH0pO1xuICAgIH07XG4gICAgUmFmUXVldWUucHJvdG90eXBlLl9uZXh0RnJhbWUgPSBmdW5jdGlvbiAodGltZXN0YW1wKSB7XG4gICAgICAgIHRoaXMuZnJhbWVzLS07XG4gICAgICAgIGlmICh0aGlzLmZyYW1lcyA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3JhZigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFjayh0aW1lc3RhbXApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSYWZRdWV1ZS5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBkb21fYWRhcHRlcl8xLmdldERPTSgpLmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuY3VycmVudEZyYW1lSWQpO1xuICAgICAgICB0aGlzLmN1cnJlbnRGcmFtZUlkID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBSYWZRdWV1ZTtcbn0oKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icm93c2VyX2RldGFpbHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY3NzX2FuaW1hdGlvbl9vcHRpb25zXzEgPSByZXF1aXJlKCcuL2Nzc19hbmltYXRpb25fb3B0aW9ucycpO1xudmFyIGFuaW1hdGlvbl8xID0gcmVxdWlyZSgnLi9hbmltYXRpb24nKTtcbnZhciBDc3NBbmltYXRpb25CdWlsZGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBBY2NlcHRzIHB1YmxpYyBwcm9wZXJ0aWVzIGZvciBDc3NBbmltYXRpb25CdWlsZGVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ3NzQW5pbWF0aW9uQnVpbGRlcihicm93c2VyRGV0YWlscykge1xuICAgICAgICB0aGlzLmJyb3dzZXJEZXRhaWxzID0gYnJvd3NlckRldGFpbHM7XG4gICAgICAgIC8qKiBAdHlwZSB7Q3NzQW5pbWF0aW9uT3B0aW9uc30gKi9cbiAgICAgICAgdGhpcy5kYXRhID0gbmV3IGNzc19hbmltYXRpb25fb3B0aW9uc18xLkNzc0FuaW1hdGlvbk9wdGlvbnMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHRlbXBvcmFyeSBjbGFzcyB0aGF0IHdpbGwgYmUgcmVtb3ZlZCBhdCB0aGUgZW5kIG9mIHRoZSBhbmltYXRpb25cbiAgICAgKiBAcGFyYW0gY2xhc3NOYW1lXG4gICAgICovXG4gICAgQ3NzQW5pbWF0aW9uQnVpbGRlci5wcm90b3R5cGUuYWRkQW5pbWF0aW9uQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICAgIHRoaXMuZGF0YS5hbmltYXRpb25DbGFzc2VzLnB1c2goY2xhc3NOYW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY2xhc3MgdGhhdCB3aWxsIHJlbWFpbiBvbiB0aGUgZWxlbWVudCBhZnRlciB0aGUgYW5pbWF0aW9uIGhhcyBmaW5pc2hlZFxuICAgICAqIEBwYXJhbSBjbGFzc05hbWVcbiAgICAgKi9cbiAgICBDc3NBbmltYXRpb25CdWlsZGVyLnByb3RvdHlwZS5hZGRDbGFzcyA9IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICAgICAgdGhpcy5kYXRhLmNsYXNzZXNUb0FkZC5wdXNoKGNsYXNzTmFtZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGNsYXNzIGZyb20gdGhlIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gY2xhc3NOYW1lXG4gICAgICovXG4gICAgQ3NzQW5pbWF0aW9uQnVpbGRlci5wcm90b3R5cGUucmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICAgIHRoaXMuZGF0YS5jbGFzc2VzVG9SZW1vdmUucHVzaChjbGFzc05hbWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGFuaW1hdGlvbiBkdXJhdGlvbiAoYW5kIG92ZXJyaWRlcyBhbnkgZGVmaW5lZCB0aHJvdWdoIENTUylcbiAgICAgKiBAcGFyYW0gZHVyYXRpb25cbiAgICAgKi9cbiAgICBDc3NBbmltYXRpb25CdWlsZGVyLnByb3RvdHlwZS5zZXREdXJhdGlvbiA9IGZ1bmN0aW9uIChkdXJhdGlvbikge1xuICAgICAgICB0aGlzLmRhdGEuZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhbmltYXRpb24gZGVsYXkgKGFuZCBvdmVycmlkZXMgYW55IGRlZmluZWQgdGhyb3VnaCBDU1MpXG4gICAgICogQHBhcmFtIGRlbGF5XG4gICAgICovXG4gICAgQ3NzQW5pbWF0aW9uQnVpbGRlci5wcm90b3R5cGUuc2V0RGVsYXkgPSBmdW5jdGlvbiAoZGVsYXkpIHtcbiAgICAgICAgdGhpcy5kYXRhLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyBzdHlsZXMgZm9yIGJvdGggdGhlIGluaXRpYWwgc3RhdGUgYW5kIHRoZSBkZXN0aW5hdGlvbiBzdGF0ZVxuICAgICAqIEBwYXJhbSBmcm9tXG4gICAgICogQHBhcmFtIHRvXG4gICAgICovXG4gICAgQ3NzQW5pbWF0aW9uQnVpbGRlci5wcm90b3R5cGUuc2V0U3R5bGVzID0gZnVuY3Rpb24gKGZyb20sIHRvKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldEZyb21TdHlsZXMoZnJvbSkuc2V0VG9TdHlsZXModG8pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaW5pdGlhbCBzdHlsZXMgZm9yIHRoZSBhbmltYXRpb25cbiAgICAgKiBAcGFyYW0gZnJvbVxuICAgICAqL1xuICAgIENzc0FuaW1hdGlvbkJ1aWxkZXIucHJvdG90eXBlLnNldEZyb21TdHlsZXMgPSBmdW5jdGlvbiAoZnJvbSkge1xuICAgICAgICB0aGlzLmRhdGEuZnJvbVN0eWxlcyA9IGZyb207XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZGVzdGluYXRpb24gc3R5bGVzIGZvciB0aGUgYW5pbWF0aW9uXG4gICAgICogQHBhcmFtIHRvXG4gICAgICovXG4gICAgQ3NzQW5pbWF0aW9uQnVpbGRlci5wcm90b3R5cGUuc2V0VG9TdHlsZXMgPSBmdW5jdGlvbiAodG8pIHtcbiAgICAgICAgdGhpcy5kYXRhLnRvU3R5bGVzID0gdG87XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhcnRzIHRoZSBhbmltYXRpb24gYW5kIHJldHVybnMgYSBwcm9taXNlXG4gICAgICogQHBhcmFtIGVsZW1lbnRcbiAgICAgKi9cbiAgICBDc3NBbmltYXRpb25CdWlsZGVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgYW5pbWF0aW9uXzEuQW5pbWF0aW9uKGVsZW1lbnQsIHRoaXMuZGF0YSwgdGhpcy5icm93c2VyRGV0YWlscyk7XG4gICAgfTtcbiAgICByZXR1cm4gQ3NzQW5pbWF0aW9uQnVpbGRlcjtcbn0oKSk7XG5leHBvcnRzLkNzc0FuaW1hdGlvbkJ1aWxkZXIgPSBDc3NBbmltYXRpb25CdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3NzX2FuaW1hdGlvbl9idWlsZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIENzc0FuaW1hdGlvbk9wdGlvbnMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENzc0FuaW1hdGlvbk9wdGlvbnMoKSB7XG4gICAgICAgIC8qKiBjbGFzc2VzIHRvIGJlIGFkZGVkIHRvIHRoZSBlbGVtZW50ICovXG4gICAgICAgIHRoaXMuY2xhc3Nlc1RvQWRkID0gW107XG4gICAgICAgIC8qKiBjbGFzc2VzIHRvIGJlIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudCAqL1xuICAgICAgICB0aGlzLmNsYXNzZXNUb1JlbW92ZSA9IFtdO1xuICAgICAgICAvKiogY2xhc3NlcyB0byBiZSBhZGRlZCBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24gKi9cbiAgICAgICAgdGhpcy5hbmltYXRpb25DbGFzc2VzID0gW107XG4gICAgfVxuICAgIHJldHVybiBDc3NBbmltYXRpb25PcHRpb25zO1xufSgpKTtcbmV4cG9ydHMuQ3NzQW5pbWF0aW9uT3B0aW9ucyA9IENzc0FuaW1hdGlvbk9wdGlvbnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jc3NfYW5pbWF0aW9uX29wdGlvbnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBnZW5lcmljX2Jyb3dzZXJfYWRhcHRlcl8xID0gcmVxdWlyZSgnLi9nZW5lcmljX2Jyb3dzZXJfYWRhcHRlcicpO1xudmFyIGRvbV9hZGFwdGVyXzEgPSByZXF1aXJlKCcuLi9kb20vZG9tX2FkYXB0ZXInKTtcbnZhciBfYXR0clRvUHJvcE1hcCA9IHtcbiAgICAnY2xhc3MnOiAnY2xhc3NOYW1lJyxcbiAgICAnaW5uZXJIdG1sJzogJ2lubmVySFRNTCcsXG4gICAgJ3JlYWRvbmx5JzogJ3JlYWRPbmx5JyxcbiAgICAndGFiaW5kZXgnOiAndGFiSW5kZXgnXG59O1xudmFyIERPTV9LRVlfTE9DQVRJT05fTlVNUEFEID0gMztcbi8vIE1hcCB0byBjb252ZXJ0IHNvbWUga2V5IG9yIGtleUlkZW50aWZpZXIgdmFsdWVzIHRvIHdoYXQgd2lsbCBiZSByZXR1cm5lZCBieSBnZXRFdmVudEtleVxudmFyIF9rZXlNYXAgPSB7XG4gICAgLy8gVGhlIGZvbGxvd2luZyB2YWx1ZXMgYXJlIGhlcmUgZm9yIGNyb3NzLWJyb3dzZXIgY29tcGF0aWJpbGl0eSBhbmQgdG8gbWF0Y2ggdGhlIFczQyBzdGFuZGFyZFxuICAgIC8vIGNmIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy1rZXkvXG4gICAgJ1xcYic6ICdCYWNrc3BhY2UnLFxuICAgICdcXHQnOiAnVGFiJyxcbiAgICAnXFx4N0YnOiAnRGVsZXRlJyxcbiAgICAnXFx4MUInOiAnRXNjYXBlJyxcbiAgICAnRGVsJzogJ0RlbGV0ZScsXG4gICAgJ0VzYyc6ICdFc2NhcGUnLFxuICAgICdMZWZ0JzogJ0Fycm93TGVmdCcsXG4gICAgJ1JpZ2h0JzogJ0Fycm93UmlnaHQnLFxuICAgICdVcCc6ICdBcnJvd1VwJyxcbiAgICAnRG93bic6ICdBcnJvd0Rvd24nLFxuICAgICdNZW51JzogJ0NvbnRleHRNZW51JyxcbiAgICAnU2Nyb2xsJzogJ1Njcm9sbExvY2snLFxuICAgICdXaW4nOiAnT1MnXG59O1xuLy8gVGhlcmUgaXMgYSBidWcgaW4gQ2hyb21lIGZvciBudW1lcmljIGtleXBhZCBrZXlzOlxuLy8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTE1NTY1NFxuLy8gMSwgMiwgMyAuLi4gYXJlIHJlcG9ydGVkIGFzIEEsIEIsIEMgLi4uXG52YXIgX2Nocm9tZU51bUtleVBhZE1hcCA9IHtcbiAgICAnQSc6ICcxJyxcbiAgICAnQic6ICcyJyxcbiAgICAnQyc6ICczJyxcbiAgICAnRCc6ICc0JyxcbiAgICAnRSc6ICc1JyxcbiAgICAnRic6ICc2JyxcbiAgICAnRyc6ICc3JyxcbiAgICAnSCc6ICc4JyxcbiAgICAnSSc6ICc5JyxcbiAgICAnSic6ICcqJyxcbiAgICAnSyc6ICcrJyxcbiAgICAnTSc6ICctJyxcbiAgICAnTic6ICcuJyxcbiAgICAnTyc6ICcvJyxcbiAgICAnXFx4NjAnOiAnMCcsXG4gICAgJ1xceDkwJzogJ051bUxvY2snXG59O1xuLyoqXG4gKiBBIGBEb21BZGFwdGVyYCBwb3dlcmVkIGJ5IGZ1bGwgYnJvd3NlciBET00gQVBJcy5cbiAqL1xuLyogdHNsaW50OmRpc2FibGU6cmVxdWlyZVBhcmFtZXRlclR5cGUgKi9cbnZhciBCcm93c2VyRG9tQWRhcHRlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJyb3dzZXJEb21BZGFwdGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEJyb3dzZXJEb21BZGFwdGVyKCkge1xuICAgICAgICBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKHRlbXBsYXRlSHRtbCkgeyB0aHJvdyBuZXcgRXJyb3IoXCJwYXJzZSBub3QgaW1wbGVtZW50ZWRcIik7IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIubWFrZUN1cnJlbnQgPSBmdW5jdGlvbiAoKSB7IGRvbV9hZGFwdGVyXzEuc2V0Um9vdERvbUFkYXB0ZXIobmV3IEJyb3dzZXJEb21BZGFwdGVyKCkpOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5oYXNQcm9wZXJ0eSA9IGZ1bmN0aW9uIChlbGVtZW50LCBuYW1lKSB7IHJldHVybiBuYW1lIGluIGVsZW1lbnQ7IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLnNldFByb3BlcnR5ID0gZnVuY3Rpb24gKGVsLCBuYW1lLCB2YWx1ZSkgeyBlbFtuYW1lXSA9IHZhbHVlOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5nZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uIChlbCwgbmFtZSkgeyByZXR1cm4gZWxbbmFtZV07IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLmludm9rZSA9IGZ1bmN0aW9uIChlbCwgbWV0aG9kTmFtZSwgYXJncykge1xuICAgICAgICBlbFttZXRob2ROYW1lXS5hcHBseShlbCwgYXJncyk7XG4gICAgfTtcbiAgICAvLyBUT0RPKHRib3NjaCk6IG1vdmUgdGhpcyBpbnRvIGEgc2VwYXJhdGUgZW52aXJvbm1lbnQgY2xhc3Mgb25jZSB3ZSBoYXZlIGl0XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLmxvZ0Vycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmICh3aW5kb3cuY29uc29sZS5lcnJvcikge1xuICAgICAgICAgICAgd2luZG93LmNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uIChlcnJvcikgeyB3aW5kb3cuY29uc29sZS5sb2coZXJyb3IpOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5sb2dHcm91cCA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAod2luZG93LmNvbnNvbGUuZ3JvdXApIHtcbiAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmdyb3VwKGVycm9yKTtcbiAgICAgICAgICAgIHRoaXMubG9nRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLmxvZ0dyb3VwRW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAod2luZG93LmNvbnNvbGUuZ3JvdXBFbmQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUsIFwiYXR0clRvUHJvcE1hcFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX2F0dHJUb1Byb3BNYXA7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5xdWVyeSA9IGZ1bmN0aW9uIChzZWxlY3RvcikgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3IgPSBmdW5jdGlvbiAoZWwsIHNlbGVjdG9yKSB7IHJldHVybiBlbC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbCA9IGZ1bmN0aW9uIChlbCwgc2VsZWN0b3IpIHsgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChlbCwgZXZ0LCBsaXN0ZW5lcikgeyBlbC5hZGRFdmVudExpc3RlbmVyKGV2dCwgbGlzdGVuZXIsIGZhbHNlKTsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUub25BbmRDYW5jZWwgPSBmdW5jdGlvbiAoZWwsIGV2dCwgbGlzdGVuZXIpIHtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldnQsIGxpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgIC8vIE5lZWRlZCB0byBmb2xsb3cgRGFydCdzIHN1YnNjcmlwdGlvbiBzZW1hbnRpYywgdW50aWwgZml4IG9mXG4gICAgICAgIC8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvZGFydC9pc3N1ZXMvZGV0YWlsP2lkPTE3NDA2XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZ0LCBsaXN0ZW5lciwgZmFsc2UpOyB9O1xuICAgIH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiAoZWwsIGV2dCkgeyBlbC5kaXNwYXRjaEV2ZW50KGV2dCk7IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLmNyZWF0ZU1vdXNlRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnRUeXBlKSB7XG4gICAgICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudCcpO1xuICAgICAgICBldnQuaW5pdEV2ZW50KGV2ZW50VHlwZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBldnQ7XG4gICAgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuY3JlYXRlRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnRUeXBlKSB7XG4gICAgICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICAgICAgZXZ0LmluaXRFdmVudChldmVudFR5cGUsIHRydWUsIHRydWUpO1xuICAgICAgICByZXR1cm4gZXZ0O1xuICAgIH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZ0LnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuaXNQcmV2ZW50ZWQgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHJldHVybiBldnQuZGVmYXVsdFByZXZlbnRlZCB8fCBsYW5nXzEuaXNQcmVzZW50KGV2dC5yZXR1cm5WYWx1ZSkgJiYgIWV2dC5yZXR1cm5WYWx1ZTtcbiAgICB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5nZXRJbm5lckhUTUwgPSBmdW5jdGlvbiAoZWwpIHsgcmV0dXJuIGVsLmlubmVySFRNTDsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuZ2V0T3V0ZXJIVE1MID0gZnVuY3Rpb24gKGVsKSB7IHJldHVybiBlbC5vdXRlckhUTUw7IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLm5vZGVOYW1lID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUubm9kZU5hbWU7IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLm5vZGVWYWx1ZSA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLm5vZGVWYWx1ZTsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUudHlwZSA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnR5cGU7IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLmNvbnRlbnQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAodGhpcy5oYXNQcm9wZXJ0eShub2RlLCBcImNvbnRlbnRcIikpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlLmNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLmZpcnN0Q2hpbGQgPSBmdW5jdGlvbiAoZWwpIHsgcmV0dXJuIGVsLmZpcnN0Q2hpbGQ7IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLm5leHRTaWJsaW5nID0gZnVuY3Rpb24gKGVsKSB7IHJldHVybiBlbC5uZXh0U2libGluZzsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUucGFyZW50RWxlbWVudCA9IGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwucGFyZW50Tm9kZTsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuY2hpbGROb2RlcyA9IGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwuY2hpbGROb2RlczsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuY2hpbGROb2Rlc0FzTGlzdCA9IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICB2YXIgY2hpbGROb2RlcyA9IGVsLmNoaWxkTm9kZXM7XG4gICAgICAgIHZhciByZXMgPSBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuY3JlYXRlRml4ZWRTaXplKGNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXNbaV0gPSBjaGlsZE5vZGVzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuY2xlYXJOb2RlcyA9IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICB3aGlsZSAoZWwuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgZWwucmVtb3ZlQ2hpbGQoZWwuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5hcHBlbmRDaGlsZCA9IGZ1bmN0aW9uIChlbCwgbm9kZSkgeyBlbC5hcHBlbmRDaGlsZChub2RlKTsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUucmVtb3ZlQ2hpbGQgPSBmdW5jdGlvbiAoZWwsIG5vZGUpIHsgZWwucmVtb3ZlQ2hpbGQobm9kZSk7IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLnJlcGxhY2VDaGlsZCA9IGZ1bmN0aW9uIChlbCwgbmV3Q2hpbGQsIG9sZENoaWxkKSB7IGVsLnJlcGxhY2VDaGlsZChuZXdDaGlsZCwgb2xkQ2hpbGQpOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlID0gZnVuY3Rpb24gKGVsLCBub2RlKSB7IGVsLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIGVsKTsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuaW5zZXJ0QWxsQmVmb3JlID0gZnVuY3Rpb24gKGVsLCBub2RlcykgeyBub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7IHJldHVybiBlbC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuLCBlbCk7IH0pOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5pbnNlcnRBZnRlciA9IGZ1bmN0aW9uIChlbCwgbm9kZSkgeyBlbC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBlbC5uZXh0U2libGluZyk7IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLnNldElubmVySFRNTCA9IGZ1bmN0aW9uIChlbCwgdmFsdWUpIHsgZWwuaW5uZXJIVE1MID0gdmFsdWU7IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLmdldFRleHQgPSBmdW5jdGlvbiAoZWwpIHsgcmV0dXJuIGVsLnRleHRDb250ZW50OyB9O1xuICAgIC8vIFRPRE8odmljYik6IHJlbW92ZWQgRWxlbWVudCB0eXBlIGJlY2F1c2UgaXQgZG9lcyBub3Qgc3VwcG9ydCBTdHlsZUVsZW1lbnRcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuc2V0VGV4dCA9IGZ1bmN0aW9uIChlbCwgdmFsdWUpIHsgZWwudGV4dENvbnRlbnQgPSB2YWx1ZTsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoZWwpIHsgcmV0dXJuIGVsLnZhbHVlOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5zZXRWYWx1ZSA9IGZ1bmN0aW9uIChlbCwgdmFsdWUpIHsgZWwudmFsdWUgPSB2YWx1ZTsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuZ2V0Q2hlY2tlZCA9IGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwuY2hlY2tlZDsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuc2V0Q2hlY2tlZCA9IGZ1bmN0aW9uIChlbCwgdmFsdWUpIHsgZWwuY2hlY2tlZCA9IHZhbHVlOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5jcmVhdGVDb21tZW50ID0gZnVuY3Rpb24gKHRleHQpIHsgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQodGV4dCk7IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLmNyZWF0ZVRlbXBsYXRlID0gZnVuY3Rpb24gKGh0bWwpIHtcbiAgICAgICAgdmFyIHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgICAgICB0LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAodGFnTmFtZSwgZG9jKSB7XG4gICAgICAgIGlmIChkb2MgPT09IHZvaWQgMCkgeyBkb2MgPSBkb2N1bWVudDsgfVxuICAgICAgICByZXR1cm4gZG9jLmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gICAgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuY3JlYXRlRWxlbWVudE5TID0gZnVuY3Rpb24gKG5zLCB0YWdOYW1lLCBkb2MpIHtcbiAgICAgICAgaWYgKGRvYyA9PT0gdm9pZCAwKSB7IGRvYyA9IGRvY3VtZW50OyB9XG4gICAgICAgIHJldHVybiBkb2MuY3JlYXRlRWxlbWVudE5TKG5zLCB0YWdOYW1lKTtcbiAgICB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5jcmVhdGVUZXh0Tm9kZSA9IGZ1bmN0aW9uICh0ZXh0LCBkb2MpIHtcbiAgICAgICAgaWYgKGRvYyA9PT0gdm9pZCAwKSB7IGRvYyA9IGRvY3VtZW50OyB9XG4gICAgICAgIHJldHVybiBkb2MuY3JlYXRlVGV4dE5vZGUodGV4dCk7XG4gICAgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuY3JlYXRlU2NyaXB0VGFnID0gZnVuY3Rpb24gKGF0dHJOYW1lLCBhdHRyVmFsdWUsIGRvYykge1xuICAgICAgICBpZiAoZG9jID09PSB2b2lkIDApIHsgZG9jID0gZG9jdW1lbnQ7IH1cbiAgICAgICAgdmFyIGVsID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ1NDUklQVCcpO1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUsIGF0dHJWYWx1ZSk7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5jcmVhdGVTdHlsZUVsZW1lbnQgPSBmdW5jdGlvbiAoY3NzLCBkb2MpIHtcbiAgICAgICAgaWYgKGRvYyA9PT0gdm9pZCAwKSB7IGRvYyA9IGRvY3VtZW50OyB9XG4gICAgICAgIHZhciBzdHlsZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICB0aGlzLmFwcGVuZENoaWxkKHN0eWxlLCB0aGlzLmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdCA9IGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwuY3JlYXRlU2hhZG93Um9vdCgpOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5nZXRTaGFkb3dSb290ID0gZnVuY3Rpb24gKGVsKSB7IHJldHVybiBlbC5zaGFkb3dSb290OyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5nZXRIb3N0ID0gZnVuY3Rpb24gKGVsKSB7IHJldHVybiBlbC5ob3N0OyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLmNsb25lTm9kZSh0cnVlKTsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBuYW1lKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobmFtZSk7XG4gICAgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBmdW5jdGlvbiAoZWxlbWVudCwgbmFtZSkge1xuICAgICAgICByZXR1cm4gZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShuYW1lKTtcbiAgICB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5jbGFzc0xpc3QgPSBmdW5jdGlvbiAoZWxlbWVudCkgeyByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZWxlbWVudC5jbGFzc0xpc3QsIDApOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5hZGRDbGFzcyA9IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUpIHsgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLnJlbW92ZUNsYXNzID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNsYXNzTmFtZSkgeyBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuaGFzQ2xhc3MgPSBmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3NOYW1lKSB7IHJldHVybiBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBzdHlsZU5hbWUsIHN0eWxlVmFsdWUpIHtcbiAgICAgICAgZWxlbWVudC5zdHlsZVtzdHlsZU5hbWVdID0gc3R5bGVWYWx1ZTtcbiAgICB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5yZW1vdmVTdHlsZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBzdHlsZW5hbWUpIHsgZWxlbWVudC5zdHlsZVtzdHlsZW5hbWVdID0gbnVsbDsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuZ2V0U3R5bGUgPSBmdW5jdGlvbiAoZWxlbWVudCwgc3R5bGVuYW1lKSB7IHJldHVybiBlbGVtZW50LnN0eWxlW3N0eWxlbmFtZV07IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLmhhc1N0eWxlID0gZnVuY3Rpb24gKGVsZW1lbnQsIHN0eWxlTmFtZSwgc3R5bGVWYWx1ZSkge1xuICAgICAgICBpZiAoc3R5bGVWYWx1ZSA9PT0gdm9pZCAwKSB7IHN0eWxlVmFsdWUgPSBudWxsOyB9XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0U3R5bGUoZWxlbWVudCwgc3R5bGVOYW1lKSB8fCAnJztcbiAgICAgICAgcmV0dXJuIHN0eWxlVmFsdWUgPyB2YWx1ZSA9PSBzdHlsZVZhbHVlIDogdmFsdWUubGVuZ3RoID4gMDtcbiAgICB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS50YWdOYW1lID0gZnVuY3Rpb24gKGVsZW1lbnQpIHsgcmV0dXJuIGVsZW1lbnQudGFnTmFtZTsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuYXR0cmlidXRlTWFwID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIHJlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdmFyIGVsQXR0cnMgPSBlbGVtZW50LmF0dHJpYnV0ZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxBdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGF0dHJpYiA9IGVsQXR0cnNbaV07XG4gICAgICAgICAgICByZXMuc2V0KGF0dHJpYi5uYW1lLCBhdHRyaWIudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuaGFzQXR0cmlidXRlID0gZnVuY3Rpb24gKGVsZW1lbnQsIGF0dHJpYnV0ZSkgeyByZXR1cm4gZWxlbWVudC5oYXNBdHRyaWJ1dGUoYXR0cmlidXRlKTsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuaGFzQXR0cmlidXRlTlMgPSBmdW5jdGlvbiAoZWxlbWVudCwgbnMsIGF0dHJpYnV0ZSkge1xuICAgICAgICByZXR1cm4gZWxlbWVudC5oYXNBdHRyaWJ1dGVOUyhucywgYXR0cmlidXRlKTtcbiAgICB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoZWxlbWVudCwgYXR0cmlidXRlKSB7IHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVOUyA9IGZ1bmN0aW9uIChlbGVtZW50LCBucywgbmFtZSkge1xuICAgICAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGVOUyhucywgbmFtZSk7XG4gICAgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuc2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7IGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuc2V0QXR0cmlidXRlTlMgPSBmdW5jdGlvbiAoZWxlbWVudCwgbnMsIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlTlMobnMsIG5hbWUsIHZhbHVlKTtcbiAgICB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoZWxlbWVudCwgYXR0cmlidXRlKSB7IGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZU5TID0gZnVuY3Rpb24gKGVsZW1lbnQsIG5zLCBuYW1lKSB7IGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlTlMobnMsIG5hbWUpOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS50ZW1wbGF0ZUF3YXJlUm9vdCA9IGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gdGhpcy5pc1RlbXBsYXRlRWxlbWVudChlbCkgPyB0aGlzLmNvbnRlbnQoZWwpIDogZWw7IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLmNyZWF0ZUh0bWxEb2N1bWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgnZmFrZVRpdGxlJyk7XG4gICAgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuZGVmYXVsdERvYyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50OyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QgPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdG9wOiAwLCBib3R0b206IDAsIGxlZnQ6IDAsIHJpZ2h0OiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5nZXRUaXRsZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnRpdGxlOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5zZXRUaXRsZSA9IGZ1bmN0aW9uIChuZXdUaXRsZSkgeyBkb2N1bWVudC50aXRsZSA9IG5ld1RpdGxlIHx8ICcnOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5lbGVtZW50TWF0Y2hlcyA9IGZ1bmN0aW9uIChuLCBzZWxlY3Rvcikge1xuICAgICAgICB2YXIgbWF0Y2hlcyA9IGZhbHNlO1xuICAgICAgICBpZiAobiBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAobi5tYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcyA9IG4ubWF0Y2hlcyhzZWxlY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChuLm1zTWF0Y2hlc1NlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcyA9IG4ubXNNYXRjaGVzU2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobi53ZWJraXRNYXRjaGVzU2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzID0gbi53ZWJraXRNYXRjaGVzU2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgIH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLmlzVGVtcGxhdGVFbGVtZW50ID0gZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHJldHVybiBlbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIGVsLm5vZGVOYW1lID09IFwiVEVNUExBVEVcIjtcbiAgICB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5pc1RleHROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5pc0NvbW1lbnROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IE5vZGUuQ09NTUVOVF9OT0RFOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5pc0VsZW1lbnROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5oYXNTaGFkb3dSb290ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiBsYW5nXzEuaXNQcmVzZW50KG5vZGUuc2hhZG93Um9vdCk7IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLmlzU2hhZG93Um9vdCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudDsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuaW1wb3J0SW50b0RvYyA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHZhciB0b0ltcG9ydCA9IG5vZGU7XG4gICAgICAgIGlmICh0aGlzLmlzVGVtcGxhdGVFbGVtZW50KG5vZGUpKSB7XG4gICAgICAgICAgICB0b0ltcG9ydCA9IHRoaXMuY29udGVudChub2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuaW1wb3J0Tm9kZSh0b0ltcG9ydCwgdHJ1ZSk7XG4gICAgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuYWRvcHROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIGRvY3VtZW50LmFkb3B0Tm9kZShub2RlKTsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuZ2V0SHJlZiA9IGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwuaHJlZjsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuZ2V0RXZlbnRLZXkgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGtleSA9IGV2ZW50LmtleTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKGtleSkpIHtcbiAgICAgICAgICAgIGtleSA9IGV2ZW50LmtleUlkZW50aWZpZXI7XG4gICAgICAgICAgICAvLyBrZXlJZGVudGlmaWVyIGlzIGRlZmluZWQgaW4gdGhlIG9sZCBkcmFmdCBvZiBET00gTGV2ZWwgMyBFdmVudHMgaW1wbGVtZW50ZWQgYnkgQ2hyb21lIGFuZFxuICAgICAgICAgICAgLy8gU2FmYXJpXG4gICAgICAgICAgICAvLyBjZlxuICAgICAgICAgICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAwNy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAwNzEyMjEvZXZlbnRzLmh0bWwjRXZlbnRzLUtleWJvYXJkRXZlbnRzLUludGVyZmFjZXNcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhrZXkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdVbmlkZW50aWZpZWQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCdVKycpKSB7XG4gICAgICAgICAgICAgICAga2V5ID0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChrZXkuc3Vic3RyaW5nKDIpLCAxNikpO1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5sb2NhdGlvbiA9PT0gRE9NX0tFWV9MT0NBVElPTl9OVU1QQUQgJiYgX2Nocm9tZU51bUtleVBhZE1hcC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIGlzIGEgYnVnIGluIENocm9tZSBmb3IgbnVtZXJpYyBrZXlwYWQga2V5czpcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTE1NTY1NFxuICAgICAgICAgICAgICAgICAgICAvLyAxLCAyLCAzIC4uLiBhcmUgcmVwb3J0ZWQgYXMgQSwgQiwgQyAuLi5cbiAgICAgICAgICAgICAgICAgICAga2V5ID0gX2Nocm9tZU51bUtleVBhZE1hcFtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoX2tleU1hcC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICBrZXkgPSBfa2V5TWFwW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5nZXRHbG9iYWxFdmVudFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgaWYgKHRhcmdldCA9PSBcIndpbmRvd1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRhcmdldCA9PSBcImRvY3VtZW50XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0YXJnZXQgPT0gXCJib2R5XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5ib2R5O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuZ2V0SGlzdG9yeSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdpbmRvdy5oaXN0b3J5OyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5nZXRMb2NhdGlvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbjsgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuZ2V0QmFzZUhyZWYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBocmVmID0gZ2V0QmFzZUVsZW1lbnRIcmVmKCk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhocmVmKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlbGF0aXZlUGF0aChocmVmKTtcbiAgICB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5yZXNldEJhc2VFbGVtZW50ID0gZnVuY3Rpb24gKCkgeyBiYXNlRWxlbWVudCA9IG51bGw7IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLmdldFVzZXJBZ2VudCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50OyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5zZXREYXRhID0gZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLScgKyBuYW1lLCB2YWx1ZSk7XG4gICAgfTtcbiAgICBCcm93c2VyRG9tQWRhcHRlci5wcm90b3R5cGUuZ2V0RGF0YSA9IGZ1bmN0aW9uIChlbGVtZW50LCBuYW1lKSB7IHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS0nICsgbmFtZSk7IH07XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLmdldENvbXB1dGVkU3R5bGUgPSBmdW5jdGlvbiAoZWxlbWVudCkgeyByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTsgfTtcbiAgICAvLyBUT0RPKHRib3NjaCk6IG1vdmUgdGhpcyBpbnRvIGEgc2VwYXJhdGUgZW52aXJvbm1lbnQgY2xhc3Mgb25jZSB3ZSBoYXZlIGl0XG4gICAgQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLnNldEdsb2JhbFZhciA9IGZ1bmN0aW9uIChwYXRoLCB2YWx1ZSkgeyBsYW5nXzEuc2V0VmFsdWVPblBhdGgobGFuZ18xLmdsb2JhbCwgcGF0aCwgdmFsdWUpOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsgcmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChpZCkgeyB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpOyB9O1xuICAgIEJyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5wZXJmb3JtYW5jZU5vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gcGVyZm9ybWFuY2Uubm93KCkgaXMgbm90IGF2YWlsYWJsZSBpbiBhbGwgYnJvd3NlcnMsIHNlZVxuICAgICAgICAvLyBodHRwOi8vY2FuaXVzZS5jb20vI3NlYXJjaD1wZXJmb3JtYW5jZS5ub3dcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQod2luZG93LnBlcmZvcm1hbmNlKSAmJiBsYW5nXzEuaXNQcmVzZW50KHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cpKSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGxhbmdfMS5EYXRlV3JhcHBlci50b01pbGxpcyhsYW5nXzEuRGF0ZVdyYXBwZXIubm93KCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQnJvd3NlckRvbUFkYXB0ZXI7XG59KGdlbmVyaWNfYnJvd3Nlcl9hZGFwdGVyXzEuR2VuZXJpY0Jyb3dzZXJEb21BZGFwdGVyKSk7XG5leHBvcnRzLkJyb3dzZXJEb21BZGFwdGVyID0gQnJvd3NlckRvbUFkYXB0ZXI7XG52YXIgYmFzZUVsZW1lbnQgPSBudWxsO1xuZnVuY3Rpb24gZ2V0QmFzZUVsZW1lbnRIcmVmKCkge1xuICAgIGlmIChsYW5nXzEuaXNCbGFuayhiYXNlRWxlbWVudCkpIHtcbiAgICAgICAgYmFzZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdiYXNlJyk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhiYXNlRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBiYXNlRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcbn1cbi8vIGJhc2VkIG9uIHVybFV0aWxzLmpzIGluIEFuZ3VsYXJKUyAxXG52YXIgdXJsUGFyc2luZ05vZGUgPSBudWxsO1xuZnVuY3Rpb24gcmVsYXRpdmVQYXRoKHVybCkge1xuICAgIGlmIChsYW5nXzEuaXNCbGFuayh1cmxQYXJzaW5nTm9kZSkpIHtcbiAgICAgICAgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICB9XG4gICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgdXJsKTtcbiAgICByZXR1cm4gKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSA/IHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lIDpcbiAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icm93c2VyX2FkYXB0ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBkb21fYWRhcHRlcl8xID0gcmVxdWlyZSgnLi4vZG9tL2RvbV9hZGFwdGVyJyk7XG4vKipcbiAqIFByb3ZpZGVzIERPTSBvcGVyYXRpb25zIGluIGFueSBicm93c2VyIGVudmlyb25tZW50LlxuICovXG52YXIgR2VuZXJpY0Jyb3dzZXJEb21BZGFwdGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoR2VuZXJpY0Jyb3dzZXJEb21BZGFwdGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEdlbmVyaWNCcm93c2VyRG9tQWRhcHRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX2FuaW1hdGlvblByZWZpeCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3RyYW5zaXRpb25FbmQgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHRoaXMuZGVmYXVsdERvYygpKTtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHRoaXMuZ2V0U3R5bGUoZWxlbWVudCwgJ2FuaW1hdGlvbk5hbWUnKSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmltYXRpb25QcmVmaXggPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBkb21QcmVmaXhlcyA9IFsnV2Via2l0JywgJ01veicsICdPJywgJ21zJ107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb21QcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLmdldFN0eWxlKGVsZW1lbnQsIGRvbVByZWZpeGVzW2ldICsgJ0FuaW1hdGlvbk5hbWUnKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FuaW1hdGlvblByZWZpeCA9ICctJyArIGRvbVByZWZpeGVzW2ldLnRvTG93ZXJDYXNlKCkgKyAnLSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0cmFuc0VuZEV2ZW50TmFtZXMgPSB7XG4gICAgICAgICAgICAgICAgV2Via2l0VHJhbnNpdGlvbjogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICAgICAgICAgICAgIE1velRyYW5zaXRpb246ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAgICAgICAgICAgICBPVHJhbnNpdGlvbjogJ29UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kJyxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAndHJhbnNpdGlvbmVuZCdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb2xsZWN0aW9uXzEuU3RyaW5nTWFwV3JhcHBlci5mb3JFYWNoKHRyYW5zRW5kRXZlbnROYW1lcywgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChfdGhpcy5nZXRTdHlsZShlbGVtZW50LCBrZXkpKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdHJhbnNpdGlvbkVuZCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLl9hbmltYXRpb25QcmVmaXggPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNpdGlvbkVuZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgR2VuZXJpY0Jyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5nZXREaXN0cmlidXRlZE5vZGVzID0gZnVuY3Rpb24gKGVsKSB7IHJldHVybiBlbC5nZXREaXN0cmlidXRlZE5vZGVzKCk7IH07XG4gICAgR2VuZXJpY0Jyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5yZXNvbHZlQW5kU2V0SHJlZiA9IGZ1bmN0aW9uIChlbCwgYmFzZVVybCwgaHJlZikge1xuICAgICAgICBlbC5ocmVmID0gaHJlZiA9PSBudWxsID8gYmFzZVVybCA6IGJhc2VVcmwgKyAnLy4uLycgKyBocmVmO1xuICAgIH07XG4gICAgR2VuZXJpY0Jyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5zdXBwb3J0c0RPTUV2ZW50cyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH07XG4gICAgR2VuZXJpY0Jyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5zdXBwb3J0c05hdGl2ZVNoYWRvd0RPTSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGxhbmdfMS5pc0Z1bmN0aW9uKHRoaXMuZGVmYXVsdERvYygpLmJvZHkuY3JlYXRlU2hhZG93Um9vdCk7XG4gICAgfTtcbiAgICBHZW5lcmljQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLmdldEFuaW1hdGlvblByZWZpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQodGhpcy5fYW5pbWF0aW9uUHJlZml4KSA/IHRoaXMuX2FuaW1hdGlvblByZWZpeCA6IFwiXCI7XG4gICAgfTtcbiAgICBHZW5lcmljQnJvd3NlckRvbUFkYXB0ZXIucHJvdG90eXBlLmdldFRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBsYW5nXzEuaXNQcmVzZW50KHRoaXMuX3RyYW5zaXRpb25FbmQpID8gdGhpcy5fdHJhbnNpdGlvbkVuZCA6IFwiXCI7IH07XG4gICAgR2VuZXJpY0Jyb3dzZXJEb21BZGFwdGVyLnByb3RvdHlwZS5zdXBwb3J0c0FuaW1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQodGhpcy5fYW5pbWF0aW9uUHJlZml4KSAmJiBsYW5nXzEuaXNQcmVzZW50KHRoaXMuX3RyYW5zaXRpb25FbmQpO1xuICAgIH07XG4gICAgcmV0dXJuIEdlbmVyaWNCcm93c2VyRG9tQWRhcHRlcjtcbn0oZG9tX2FkYXB0ZXJfMS5Eb21BZGFwdGVyKSk7XG5leHBvcnRzLkdlbmVyaWNCcm93c2VyRG9tQWRhcHRlciA9IEdlbmVyaWNCcm93c2VyRG9tQWRhcHRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyaWNfYnJvd3Nlcl9hZGFwdGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGNvbW1vbl8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29tbW9uJyk7XG52YXIgZG9tX2FkYXB0ZXJfMSA9IHJlcXVpcmUoJy4uLy4uL2RvbS9kb21fYWRhcHRlcicpO1xudmFyIEJyb3dzZXJQbGF0Zm9ybUxvY2F0aW9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQnJvd3NlclBsYXRmb3JtTG9jYXRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQnJvd3NlclBsYXRmb3JtTG9jYXRpb24oKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLl9pbml0KCk7XG4gICAgfVxuICAgIC8vIFRoaXMgaXMgbW92ZWQgdG8gaXRzIG93biBtZXRob2Qgc28gdGhhdCBgTW9ja1BsYXRmb3JtTG9jYXRpb25TdHJhdGVneWAgY2FuIG92ZXJ3cml0ZSBpdFxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBCcm93c2VyUGxhdGZvcm1Mb2NhdGlvbi5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2xvY2F0aW9uID0gZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5nZXRMb2NhdGlvbigpO1xuICAgICAgICB0aGlzLl9oaXN0b3J5ID0gZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5nZXRIaXN0b3J5KCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnJvd3NlclBsYXRmb3JtTG9jYXRpb24ucHJvdG90eXBlLCBcImxvY2F0aW9uXCIsIHtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2xvY2F0aW9uOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBCcm93c2VyUGxhdGZvcm1Mb2NhdGlvbi5wcm90b3R5cGUuZ2V0QmFzZUhyZWZGcm9tRE9NID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5nZXRCYXNlSHJlZigpOyB9O1xuICAgIEJyb3dzZXJQbGF0Zm9ybUxvY2F0aW9uLnByb3RvdHlwZS5vblBvcFN0YXRlID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkuZ2V0R2xvYmFsRXZlbnRUYXJnZXQoJ3dpbmRvdycpLmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgZm4sIGZhbHNlKTtcbiAgICB9O1xuICAgIEJyb3dzZXJQbGF0Zm9ybUxvY2F0aW9uLnByb3RvdHlwZS5vbkhhc2hDaGFuZ2UgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5nZXRHbG9iYWxFdmVudFRhcmdldCgnd2luZG93JykuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIGZuLCBmYWxzZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnJvd3NlclBsYXRmb3JtTG9jYXRpb24ucHJvdG90eXBlLCBcInBhdGhuYW1lXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9sb2NhdGlvbi5wYXRobmFtZTsgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3UGF0aCkgeyB0aGlzLl9sb2NhdGlvbi5wYXRobmFtZSA9IG5ld1BhdGg7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCcm93c2VyUGxhdGZvcm1Mb2NhdGlvbi5wcm90b3R5cGUsIFwic2VhcmNoXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9sb2NhdGlvbi5zZWFyY2g7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCcm93c2VyUGxhdGZvcm1Mb2NhdGlvbi5wcm90b3R5cGUsIFwiaGFzaFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbG9jYXRpb24uaGFzaDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQnJvd3NlclBsYXRmb3JtTG9jYXRpb24ucHJvdG90eXBlLnB1c2hTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgdGl0bGUsIHVybCkge1xuICAgICAgICB0aGlzLl9oaXN0b3J5LnB1c2hTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCk7XG4gICAgfTtcbiAgICBCcm93c2VyUGxhdGZvcm1Mb2NhdGlvbi5wcm90b3R5cGUucmVwbGFjZVN0YXRlID0gZnVuY3Rpb24gKHN0YXRlLCB0aXRsZSwgdXJsKSB7XG4gICAgICAgIHRoaXMuX2hpc3RvcnkucmVwbGFjZVN0YXRlKHN0YXRlLCB0aXRsZSwgdXJsKTtcbiAgICB9O1xuICAgIEJyb3dzZXJQbGF0Zm9ybUxvY2F0aW9uLnByb3RvdHlwZS5mb3J3YXJkID0gZnVuY3Rpb24gKCkgeyB0aGlzLl9oaXN0b3J5LmZvcndhcmQoKTsgfTtcbiAgICBCcm93c2VyUGxhdGZvcm1Mb2NhdGlvbi5wcm90b3R5cGUuYmFjayA9IGZ1bmN0aW9uICgpIHsgdGhpcy5faGlzdG9yeS5iYWNrKCk7IH07XG4gICAgQnJvd3NlclBsYXRmb3JtTG9jYXRpb24uZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuSW5qZWN0YWJsZSB9LFxuICAgIF07XG4gICAgQnJvd3NlclBsYXRmb3JtTG9jYXRpb24uY3RvclBhcmFtZXRlcnMgPSBbXTtcbiAgICByZXR1cm4gQnJvd3NlclBsYXRmb3JtTG9jYXRpb247XG59KGNvbW1vbl8xLlBsYXRmb3JtTG9jYXRpb24pKTtcbmV4cG9ydHMuQnJvd3NlclBsYXRmb3JtTG9jYXRpb24gPSBCcm93c2VyUGxhdGZvcm1Mb2NhdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyb3dzZXJfcGxhdGZvcm1fbG9jYXRpb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGRvbV9hZGFwdGVyXzEgPSByZXF1aXJlKCcuLi9kb20vZG9tX2FkYXB0ZXInKTtcbnZhciBQdWJsaWNUZXN0YWJpbGl0eSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHVibGljVGVzdGFiaWxpdHkodGVzdGFiaWxpdHkpIHtcbiAgICAgICAgdGhpcy5fdGVzdGFiaWxpdHkgPSB0ZXN0YWJpbGl0eTtcbiAgICB9XG4gICAgUHVibGljVGVzdGFiaWxpdHkucHJvdG90eXBlLmlzU3RhYmxlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fdGVzdGFiaWxpdHkuaXNTdGFibGUoKTsgfTtcbiAgICBQdWJsaWNUZXN0YWJpbGl0eS5wcm90b3R5cGUud2hlblN0YWJsZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgeyB0aGlzLl90ZXN0YWJpbGl0eS53aGVuU3RhYmxlKGNhbGxiYWNrKTsgfTtcbiAgICBQdWJsaWNUZXN0YWJpbGl0eS5wcm90b3R5cGUuZmluZEJpbmRpbmdzID0gZnVuY3Rpb24gKHVzaW5nLCBwcm92aWRlciwgZXhhY3RNYXRjaCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5kUHJvdmlkZXJzKHVzaW5nLCBwcm92aWRlciwgZXhhY3RNYXRjaCk7XG4gICAgfTtcbiAgICBQdWJsaWNUZXN0YWJpbGl0eS5wcm90b3R5cGUuZmluZFByb3ZpZGVycyA9IGZ1bmN0aW9uICh1c2luZywgcHJvdmlkZXIsIGV4YWN0TWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rlc3RhYmlsaXR5LmZpbmRCaW5kaW5ncyh1c2luZywgcHJvdmlkZXIsIGV4YWN0TWF0Y2gpO1xuICAgIH07XG4gICAgcmV0dXJuIFB1YmxpY1Rlc3RhYmlsaXR5O1xufSgpKTtcbnZhciBCcm93c2VyR2V0VGVzdGFiaWxpdHkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJyb3dzZXJHZXRUZXN0YWJpbGl0eSgpIHtcbiAgICB9XG4gICAgQnJvd3NlckdldFRlc3RhYmlsaXR5LmluaXQgPSBmdW5jdGlvbiAoKSB7IGNvcmVfMS5zZXRUZXN0YWJpbGl0eUdldHRlcihuZXcgQnJvd3NlckdldFRlc3RhYmlsaXR5KCkpOyB9O1xuICAgIEJyb3dzZXJHZXRUZXN0YWJpbGl0eS5wcm90b3R5cGUuYWRkVG9XaW5kb3cgPSBmdW5jdGlvbiAocmVnaXN0cnkpIHtcbiAgICAgICAgbGFuZ18xLmdsb2JhbC5nZXRBbmd1bGFyVGVzdGFiaWxpdHkgPSBmdW5jdGlvbiAoZWxlbSwgZmluZEluQW5jZXN0b3JzKSB7XG4gICAgICAgICAgICBpZiAoZmluZEluQW5jZXN0b3JzID09PSB2b2lkIDApIHsgZmluZEluQW5jZXN0b3JzID0gdHJ1ZTsgfVxuICAgICAgICAgICAgdmFyIHRlc3RhYmlsaXR5ID0gcmVnaXN0cnkuZmluZFRlc3RhYmlsaXR5SW5UcmVlKGVsZW0sIGZpbmRJbkFuY2VzdG9ycyk7XG4gICAgICAgICAgICBpZiAodGVzdGFiaWxpdHkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGZpbmQgdGVzdGFiaWxpdHkgZm9yIGVsZW1lbnQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFB1YmxpY1Rlc3RhYmlsaXR5KHRlc3RhYmlsaXR5KTtcbiAgICAgICAgfTtcbiAgICAgICAgbGFuZ18xLmdsb2JhbC5nZXRBbGxBbmd1bGFyVGVzdGFiaWxpdGllcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0ZXN0YWJpbGl0aWVzID0gcmVnaXN0cnkuZ2V0QWxsVGVzdGFiaWxpdGllcygpO1xuICAgICAgICAgICAgcmV0dXJuIHRlc3RhYmlsaXRpZXMubWFwKGZ1bmN0aW9uICh0ZXN0YWJpbGl0eSkgeyByZXR1cm4gbmV3IFB1YmxpY1Rlc3RhYmlsaXR5KHRlc3RhYmlsaXR5KTsgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGxhbmdfMS5nbG9iYWwuZ2V0QWxsQW5ndWxhclJvb3RFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlZ2lzdHJ5LmdldEFsbFJvb3RFbGVtZW50cygpOyB9O1xuICAgICAgICB2YXIgd2hlbkFsbFN0YWJsZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIHRlc3RhYmlsaXRpZXMgPSBsYW5nXzEuZ2xvYmFsLmdldEFsbEFuZ3VsYXJUZXN0YWJpbGl0aWVzKCk7XG4gICAgICAgICAgICB2YXIgY291bnQgPSB0ZXN0YWJpbGl0aWVzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBkaWRXb3JrID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgZGVjcmVtZW50ID0gZnVuY3Rpb24gKGRpZFdvcmtfKSB7XG4gICAgICAgICAgICAgICAgZGlkV29yayA9IGRpZFdvcmsgfHwgZGlkV29ya187XG4gICAgICAgICAgICAgICAgY291bnQtLTtcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhkaWRXb3JrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGVzdGFiaWxpdGllcy5mb3JFYWNoKGZ1bmN0aW9uICh0ZXN0YWJpbGl0eSkgeyB0ZXN0YWJpbGl0eS53aGVuU3RhYmxlKGRlY3JlbWVudCk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoIWxhbmdfMS5nbG9iYWwuZnJhbWV3b3JrU3RhYmlsaXplcnMpIHtcbiAgICAgICAgICAgIGxhbmdfMS5nbG9iYWwuZnJhbWV3b3JrU3RhYmlsaXplcnMgPSBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIuY3JlYXRlR3Jvd2FibGVTaXplKDApO1xuICAgICAgICB9XG4gICAgICAgIGxhbmdfMS5nbG9iYWwuZnJhbWV3b3JrU3RhYmlsaXplcnMucHVzaCh3aGVuQWxsU3RhYmxlKTtcbiAgICB9O1xuICAgIEJyb3dzZXJHZXRUZXN0YWJpbGl0eS5wcm90b3R5cGUuZmluZFRlc3RhYmlsaXR5SW5UcmVlID0gZnVuY3Rpb24gKHJlZ2lzdHJ5LCBlbGVtLCBmaW5kSW5BbmNlc3RvcnMpIHtcbiAgICAgICAgaWYgKGVsZW0gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHQgPSByZWdpc3RyeS5nZXRUZXN0YWJpbGl0eShlbGVtKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFmaW5kSW5BbmNlc3RvcnMpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkb21fYWRhcHRlcl8xLmdldERPTSgpLmlzU2hhZG93Um9vdChlbGVtKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluZFRlc3RhYmlsaXR5SW5UcmVlKHJlZ2lzdHJ5LCBkb21fYWRhcHRlcl8xLmdldERPTSgpLmdldEhvc3QoZWxlbSksIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRUZXN0YWJpbGl0eUluVHJlZShyZWdpc3RyeSwgZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5wYXJlbnRFbGVtZW50KGVsZW0pLCB0cnVlKTtcbiAgICB9O1xuICAgIHJldHVybiBCcm93c2VyR2V0VGVzdGFiaWxpdHk7XG59KCkpO1xuZXhwb3J0cy5Ccm93c2VyR2V0VGVzdGFiaWxpdHkgPSBCcm93c2VyR2V0VGVzdGFiaWxpdHk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXN0YWJpbGl0eS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBkb21fYWRhcHRlcl8xID0gcmVxdWlyZSgnLi4vZG9tL2RvbV9hZGFwdGVyJyk7XG4vKipcbiAqIEEgc2VydmljZSB0aGF0IGNhbiBiZSB1c2VkIHRvIGdldCBhbmQgc2V0IHRoZSB0aXRsZSBvZiBhIGN1cnJlbnQgSFRNTCBkb2N1bWVudC5cbiAqXG4gKiBTaW5jZSBhbiBBbmd1bGFyIDIgYXBwbGljYXRpb24gY2FuJ3QgYmUgYm9vdHN0cmFwcGVkIG9uIHRoZSBlbnRpcmUgSFRNTCBkb2N1bWVudCAoYDxodG1sPmAgdGFnKVxuICogaXQgaXMgbm90IHBvc3NpYmxlIHRvIGJpbmQgdG8gdGhlIGB0ZXh0YCBwcm9wZXJ0eSBvZiB0aGUgYEhUTUxUaXRsZUVsZW1lbnRgIGVsZW1lbnRzXG4gKiAocmVwcmVzZW50aW5nIHRoZSBgPHRpdGxlPmAgdGFnKS4gSW5zdGVhZCwgdGhpcyBzZXJ2aWNlIGNhbiBiZSB1c2VkIHRvIHNldCBhbmQgZ2V0IHRoZSBjdXJyZW50XG4gKiB0aXRsZSB2YWx1ZS5cbiAqL1xudmFyIFRpdGxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaXRsZSgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0aXRsZSBvZiB0aGUgY3VycmVudCBIVE1MIGRvY3VtZW50LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgVGl0bGUucHJvdG90eXBlLmdldFRpdGxlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5nZXRUaXRsZSgpOyB9O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdGl0bGUgb2YgdGhlIGN1cnJlbnQgSFRNTCBkb2N1bWVudC5cbiAgICAgKiBAcGFyYW0gbmV3VGl0bGVcbiAgICAgKi9cbiAgICBUaXRsZS5wcm90b3R5cGUuc2V0VGl0bGUgPSBmdW5jdGlvbiAobmV3VGl0bGUpIHsgZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5zZXRUaXRsZShuZXdUaXRsZSk7IH07XG4gICAgcmV0dXJuIFRpdGxlO1xufSgpKTtcbmV4cG9ydHMuVGl0bGUgPSBUaXRsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpdGxlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBicm93c2VyXzEgPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvZmFjYWRlL2Jyb3dzZXInKTtcbnZhciBkb21fYWRhcHRlcl8xID0gcmVxdWlyZSgnLi4vLi4vZG9tL2RvbV9hZGFwdGVyJyk7XG52YXIgQ2hhbmdlRGV0ZWN0aW9uUGVyZlJlY29yZCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2hhbmdlRGV0ZWN0aW9uUGVyZlJlY29yZChtc1BlclRpY2ssIG51bVRpY2tzKSB7XG4gICAgICAgIHRoaXMubXNQZXJUaWNrID0gbXNQZXJUaWNrO1xuICAgICAgICB0aGlzLm51bVRpY2tzID0gbnVtVGlja3M7XG4gICAgfVxuICAgIHJldHVybiBDaGFuZ2VEZXRlY3Rpb25QZXJmUmVjb3JkO1xufSgpKTtcbmV4cG9ydHMuQ2hhbmdlRGV0ZWN0aW9uUGVyZlJlY29yZCA9IENoYW5nZURldGVjdGlvblBlcmZSZWNvcmQ7XG4vKipcbiAqIEVudHJ5IHBvaW50IGZvciBhbGwgQW5ndWxhciBkZWJ1ZyB0b29scy4gVGhpcyBvYmplY3QgY29ycmVzcG9uZHMgdG8gdGhlIGBuZ2BcbiAqIGdsb2JhbCB2YXJpYWJsZSBhY2Nlc3NpYmxlIGluIHRoZSBkZXYgY29uc29sZS5cbiAqL1xudmFyIEFuZ3VsYXJUb29scyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQW5ndWxhclRvb2xzKHJlZikge1xuICAgICAgICB0aGlzLnByb2ZpbGVyID0gbmV3IEFuZ3VsYXJQcm9maWxlcihyZWYpO1xuICAgIH1cbiAgICByZXR1cm4gQW5ndWxhclRvb2xzO1xufSgpKTtcbmV4cG9ydHMuQW5ndWxhclRvb2xzID0gQW5ndWxhclRvb2xzO1xuLyoqXG4gKiBFbnRyeSBwb2ludCBmb3IgYWxsIEFuZ3VsYXIgcHJvZmlsaW5nLXJlbGF0ZWQgZGVidWcgdG9vbHMuIFRoaXMgb2JqZWN0XG4gKiBjb3JyZXNwb25kcyB0byB0aGUgYG5nLnByb2ZpbGVyYCBpbiB0aGUgZGV2IGNvbnNvbGUuXG4gKi9cbnZhciBBbmd1bGFyUHJvZmlsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFuZ3VsYXJQcm9maWxlcihyZWYpIHtcbiAgICAgICAgdGhpcy5hcHBSZWYgPSByZWYuaW5qZWN0b3IuZ2V0KGNvcmVfMS5BcHBsaWNhdGlvblJlZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4ZXJjaXNlcyBjaGFuZ2UgZGV0ZWN0aW9uIGluIGEgbG9vcCBhbmQgdGhlbiBwcmludHMgdGhlIGF2ZXJhZ2UgYW1vdW50IG9mXG4gICAgICogdGltZSBpbiBtaWxsaXNlY29uZHMgaG93IGxvbmcgYSBzaW5nbGUgcm91bmQgb2YgY2hhbmdlIGRldGVjdGlvbiB0YWtlcyBmb3JcbiAgICAgKiB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgVUkuIEl0IHJ1bnMgYSBtaW5pbXVtIG9mIDUgcm91bmRzIGZvciBhIG1pbmltdW1cbiAgICAgKiBvZiA1MDAgbWlsbGlzZWNvbmRzLlxuICAgICAqXG4gICAgICogT3B0aW9uYWxseSwgYSB1c2VyIG1heSBwYXNzIGEgYGNvbmZpZ2AgcGFyYW1ldGVyIGNvbnRhaW5pbmcgYSBtYXAgb2ZcbiAgICAgKiBvcHRpb25zLiBTdXBwb3J0ZWQgb3B0aW9ucyBhcmU6XG4gICAgICpcbiAgICAgKiBgcmVjb3JkYCAoYm9vbGVhbikgLSBjYXVzZXMgdGhlIHByb2ZpbGVyIHRvIHJlY29yZCBhIENQVSBwcm9maWxlIHdoaWxlXG4gICAgICogaXQgZXhlcmNpc2VzIHRoZSBjaGFuZ2UgZGV0ZWN0b3IuIEV4YW1wbGU6XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBuZy5wcm9maWxlci50aW1lQ2hhbmdlRGV0ZWN0aW9uKHtyZWNvcmQ6IHRydWV9KVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIEFuZ3VsYXJQcm9maWxlci5wcm90b3R5cGUudGltZUNoYW5nZURldGVjdGlvbiA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgdmFyIHJlY29yZCA9IGxhbmdfMS5pc1ByZXNlbnQoY29uZmlnKSAmJiBjb25maWdbJ3JlY29yZCddO1xuICAgICAgICB2YXIgcHJvZmlsZU5hbWUgPSAnQ2hhbmdlIERldGVjdGlvbic7XG4gICAgICAgIC8vIFByb2ZpbGVyIGlzIG5vdCBhdmFpbGFibGUgaW4gQW5kcm9pZCBicm93c2Vycywgbm9yIGluIElFIDkgd2l0aG91dCBkZXYgdG9vbHMgb3BlbmVkXG4gICAgICAgIHZhciBpc1Byb2ZpbGVyQXZhaWxhYmxlID0gbGFuZ18xLmlzUHJlc2VudChicm93c2VyXzEud2luZG93LmNvbnNvbGUucHJvZmlsZSk7XG4gICAgICAgIGlmIChyZWNvcmQgJiYgaXNQcm9maWxlckF2YWlsYWJsZSkge1xuICAgICAgICAgICAgYnJvd3Nlcl8xLndpbmRvdy5jb25zb2xlLnByb2ZpbGUocHJvZmlsZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGFydCA9IGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkucGVyZm9ybWFuY2VOb3coKTtcbiAgICAgICAgdmFyIG51bVRpY2tzID0gMDtcbiAgICAgICAgd2hpbGUgKG51bVRpY2tzIDwgNSB8fCAoZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5wZXJmb3JtYW5jZU5vdygpIC0gc3RhcnQpIDwgNTAwKSB7XG4gICAgICAgICAgICB0aGlzLmFwcFJlZi50aWNrKCk7XG4gICAgICAgICAgICBudW1UaWNrcysrO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbmQgPSBkb21fYWRhcHRlcl8xLmdldERPTSgpLnBlcmZvcm1hbmNlTm93KCk7XG4gICAgICAgIGlmIChyZWNvcmQgJiYgaXNQcm9maWxlckF2YWlsYWJsZSkge1xuICAgICAgICAgICAgLy8gbmVlZCB0byBjYXN0IHRvIDxhbnk+IGJlY2F1c2UgdHlwZSBjaGVja2VyIHRoaW5rcyB0aGVyZSdzIG5vIGFyZ3VtZW50XG4gICAgICAgICAgICAvLyB3aGlsZSBpbiBmYWN0IHRoZXJlIGlzOlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Db25zb2xlL3Byb2ZpbGVFbmRcbiAgICAgICAgICAgIGJyb3dzZXJfMS53aW5kb3cuY29uc29sZS5wcm9maWxlRW5kKHByb2ZpbGVOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbXNQZXJUaWNrID0gKGVuZCAtIHN0YXJ0KSAvIG51bVRpY2tzO1xuICAgICAgICBicm93c2VyXzEud2luZG93LmNvbnNvbGUubG9nKFwicmFuIFwiICsgbnVtVGlja3MgKyBcIiBjaGFuZ2UgZGV0ZWN0aW9uIGN5Y2xlc1wiKTtcbiAgICAgICAgYnJvd3Nlcl8xLndpbmRvdy5jb25zb2xlLmxvZyhsYW5nXzEuTnVtYmVyV3JhcHBlci50b0ZpeGVkKG1zUGVyVGljaywgMikgKyBcIiBtcyBwZXIgY2hlY2tcIik7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhbmdlRGV0ZWN0aW9uUGVyZlJlY29yZChtc1BlclRpY2ssIG51bVRpY2tzKTtcbiAgICB9O1xuICAgIHJldHVybiBBbmd1bGFyUHJvZmlsZXI7XG59KCkpO1xuZXhwb3J0cy5Bbmd1bGFyUHJvZmlsZXIgPSBBbmd1bGFyUHJvZmlsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21tb25fdG9vbHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9sYW5nJyk7XG52YXIgY29tbW9uX3Rvb2xzXzEgPSByZXF1aXJlKCcuL2NvbW1vbl90b29scycpO1xudmFyIGNvbnRleHQgPSBsYW5nXzEuZ2xvYmFsO1xuLyoqXG4gKiBFbmFibGVkIEFuZ3VsYXIgMiBkZWJ1ZyB0b29scyB0aGF0IGFyZSBhY2Nlc3NpYmxlIHZpYSB5b3VyIGJyb3dzZXInc1xuICogZGV2ZWxvcGVyIGNvbnNvbGUuXG4gKlxuICogVXNhZ2U6XG4gKlxuICogMS4gT3BlbiBkZXZlbG9wZXIgY29uc29sZSAoZS5nLiBpbiBDaHJvbWUgQ3RybCArIFNoaWZ0ICsgailcbiAqIDEuIFR5cGUgYG5nLmAgKHVzdWFsbHkgdGhlIGNvbnNvbGUgd2lsbCBzaG93IGF1dG8tY29tcGxldGUgc3VnZ2VzdGlvbilcbiAqIDEuIFRyeSB0aGUgY2hhbmdlIGRldGVjdGlvbiBwcm9maWxlciBgbmcucHJvZmlsZXIudGltZUNoYW5nZURldGVjdGlvbigpYFxuICogICAgdGhlbiBoaXQgRW50ZXIuXG4gKi9cbmZ1bmN0aW9uIGVuYWJsZURlYnVnVG9vbHMocmVmKSB7XG4gICAgY29udGV4dC5uZyA9IG5ldyBjb21tb25fdG9vbHNfMS5Bbmd1bGFyVG9vbHMocmVmKTtcbn1cbmV4cG9ydHMuZW5hYmxlRGVidWdUb29scyA9IGVuYWJsZURlYnVnVG9vbHM7XG4vKipcbiAqIERpc2FibGVzIEFuZ3VsYXIgMiB0b29scy5cbiAqL1xuZnVuY3Rpb24gZGlzYWJsZURlYnVnVG9vbHMoKSB7XG4gICAgZGVsZXRlIGNvbnRleHQubmc7XG59XG5leHBvcnRzLmRpc2FibGVEZWJ1Z1Rvb2xzID0gZGlzYWJsZURlYnVnVG9vbHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b29scy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgY29yZV9wcml2YXRlXzEgPSByZXF1aXJlKCcuLi9jb3JlX3ByaXZhdGUnKTtcbnZhciBjb21tb25fMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvbW1vbicpO1xudmFyIGRvbV9zYW5pdGl6YXRpb25fc2VydmljZV8xID0gcmVxdWlyZSgnLi9zZWN1cml0eS9kb21fc2FuaXRpemF0aW9uX3NlcnZpY2UnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuL2ZhY2FkZS9sYW5nJyk7XG52YXIgYnJvd3Nlcl9hZGFwdGVyXzEgPSByZXF1aXJlKCcuL2Jyb3dzZXIvYnJvd3Nlcl9hZGFwdGVyJyk7XG52YXIgdGVzdGFiaWxpdHlfMSA9IHJlcXVpcmUoJy4vYnJvd3Nlci90ZXN0YWJpbGl0eScpO1xudmFyIGRvbV9hZGFwdGVyXzEgPSByZXF1aXJlKCcuL2RvbS9kb21fYWRhcHRlcicpO1xudmFyIGRvbV90b2tlbnNfMSA9IHJlcXVpcmUoJy4vZG9tL2RvbV90b2tlbnMnKTtcbnZhciBldmVudF9tYW5hZ2VyXzEgPSByZXF1aXJlKCcuL2RvbS9ldmVudHMvZXZlbnRfbWFuYWdlcicpO1xudmFyIGRvbV9yZW5kZXJlcl8xID0gcmVxdWlyZSgnLi9kb20vZG9tX3JlbmRlcmVyJyk7XG52YXIgc2hhcmVkX3N0eWxlc19ob3N0XzEgPSByZXF1aXJlKCcuL2RvbS9zaGFyZWRfc3R5bGVzX2hvc3QnKTtcbnZhciBrZXlfZXZlbnRzXzEgPSByZXF1aXJlKCcuL2RvbS9ldmVudHMva2V5X2V2ZW50cycpO1xudmFyIG5nX3Byb2JlXzEgPSByZXF1aXJlKCcuL2RvbS9kZWJ1Zy9uZ19wcm9iZScpO1xudmFyIGRvbV9ldmVudHNfMSA9IHJlcXVpcmUoJy4vZG9tL2V2ZW50cy9kb21fZXZlbnRzJyk7XG52YXIgaGFtbWVyX2dlc3R1cmVzXzEgPSByZXF1aXJlKCcuL2RvbS9ldmVudHMvaGFtbWVyX2dlc3R1cmVzJyk7XG52YXIgc2hhcmVkX3N0eWxlc19ob3N0XzIgPSByZXF1aXJlKCcuL2RvbS9zaGFyZWRfc3R5bGVzX2hvc3QnKTtcbnZhciBhbmltYXRpb25fYnVpbGRlcl8xID0gcmVxdWlyZSgnLi9hbmltYXRlL2FuaW1hdGlvbl9idWlsZGVyJyk7XG52YXIgYnJvd3Nlcl9kZXRhaWxzXzEgPSByZXF1aXJlKCcuL2FuaW1hdGUvYnJvd3Nlcl9kZXRhaWxzJyk7XG52YXIgdGl0bGVfMSA9IHJlcXVpcmUoJy4vYnJvd3Nlci90aXRsZScpO1xuZXhwb3J0cy5UaXRsZSA9IHRpdGxlXzEuVGl0bGU7XG52YXIgYnJvd3Nlcl9hZGFwdGVyXzIgPSByZXF1aXJlKCcuL2Jyb3dzZXIvYnJvd3Nlcl9hZGFwdGVyJyk7XG5leHBvcnRzLkJyb3dzZXJEb21BZGFwdGVyID0gYnJvd3Nlcl9hZGFwdGVyXzIuQnJvd3NlckRvbUFkYXB0ZXI7XG52YXIgdG9vbHNfMSA9IHJlcXVpcmUoJy4vYnJvd3Nlci90b29scy90b29scycpO1xuZXhwb3J0cy5lbmFibGVEZWJ1Z1Rvb2xzID0gdG9vbHNfMS5lbmFibGVEZWJ1Z1Rvb2xzO1xuZXhwb3J0cy5kaXNhYmxlRGVidWdUb29scyA9IHRvb2xzXzEuZGlzYWJsZURlYnVnVG9vbHM7XG52YXIgYnlfMSA9IHJlcXVpcmUoJy4vZG9tL2RlYnVnL2J5Jyk7XG5leHBvcnRzLkJ5ID0gYnlfMS5CeTtcbmV4cG9ydHMuQlJPV1NFUl9QTEFURk9STV9NQVJLRVIgPSBcbi8qQHRzMmRhcnRfY29uc3QqLyBuZXcgY29yZV8xLk9wYXF1ZVRva2VuKCdCcm93c2VyUGxhdGZvcm1NYXJrZXInKTtcbi8qKlxuICogQSBzZXQgb2YgcHJvdmlkZXJzIHRvIGluaXRpYWxpemUgdGhlIEFuZ3VsYXIgcGxhdGZvcm0gaW4gYSB3ZWIgYnJvd3Nlci5cbiAqXG4gKiBVc2VkIGF1dG9tYXRpY2FsbHkgYnkgYGJvb3RzdHJhcGAsIG9yIGNhbiBiZSBwYXNzZWQgdG8ge0BsaW5rIHBsYXRmb3JtfS5cbiAqL1xuZXhwb3J0cy5CUk9XU0VSX1BST1ZJREVSUyA9IFtcbiAgICAvKkB0czJkYXJ0X1Byb3ZpZGVyKi8geyBwcm92aWRlOiBleHBvcnRzLkJST1dTRVJfUExBVEZPUk1fTUFSS0VSLCB1c2VWYWx1ZTogdHJ1ZSB9LFxuICAgIGNvcmVfMS5QTEFURk9STV9DT01NT05fUFJPVklERVJTLFxuICAgIC8qQHRzMmRhcnRfUHJvdmlkZXIqLyB7IHByb3ZpZGU6IGNvcmVfMS5QTEFURk9STV9JTklUSUFMSVpFUiwgdXNlVmFsdWU6IGluaXREb21BZGFwdGVyLCBtdWx0aTogdHJ1ZSB9LFxuXTtcbmZ1bmN0aW9uIF9leGNlcHRpb25IYW5kbGVyKCkge1xuICAgIC8vICFJU19EQVJUIGlzIHJlcXVpcmVkIGJlY2F1c2Ugd2UgbXVzdCByZXRocm93IGV4Y2VwdGlvbnMgaW4gSlMsXG4gICAgLy8gYnV0IG11c3Qgbm90IHJldGhyb3cgZXhjZXB0aW9ucyBpbiBEYXJ0XG4gICAgcmV0dXJuIG5ldyBjb3JlXzEuRXhjZXB0aW9uSGFuZGxlcihkb21fYWRhcHRlcl8xLmdldERPTSgpLCAhbGFuZ18xLklTX0RBUlQpO1xufVxuZnVuY3Rpb24gX2RvY3VtZW50KCkge1xuICAgIHJldHVybiBkb21fYWRhcHRlcl8xLmdldERPTSgpLmRlZmF1bHREb2MoKTtcbn1cbmV4cG9ydHMuQlJPV1NFUl9TQU5JVElaQVRJT05fUFJPVklERVJTID0gW1xuICAgIC8qIEB0czJkYXJ0X1Byb3ZpZGVyICovIHsgcHJvdmlkZTogY29yZV9wcml2YXRlXzEuU2FuaXRpemF0aW9uU2VydmljZSwgdXNlRXhpc3Rpbmc6IGRvbV9zYW5pdGl6YXRpb25fc2VydmljZV8xLkRvbVNhbml0aXphdGlvblNlcnZpY2UgfSxcbiAgICAvKiBAdHMyZGFydF9Qcm92aWRlciAqLyB7IHByb3ZpZGU6IGRvbV9zYW5pdGl6YXRpb25fc2VydmljZV8xLkRvbVNhbml0aXphdGlvblNlcnZpY2UsIHVzZUNsYXNzOiBkb21fc2FuaXRpemF0aW9uX3NlcnZpY2VfMS5Eb21TYW5pdGl6YXRpb25TZXJ2aWNlSW1wbCB9LFxuXTtcbi8qKlxuICogQSBzZXQgb2YgcHJvdmlkZXJzIHRvIGluaXRpYWxpemUgYW4gQW5ndWxhciBhcHBsaWNhdGlvbiBpbiBhIHdlYiBicm93c2VyLlxuICpcbiAqIFVzZWQgYXV0b21hdGljYWxseSBieSBgYm9vdHN0cmFwYCwgb3IgY2FuIGJlIHBhc3NlZCB0byB7QGxpbmsgUGxhdGZvcm1SZWYuYXBwbGljYXRpb259LlxuICovXG5leHBvcnRzLkJST1dTRVJfQVBQX0NPTU1PTl9QUk9WSURFUlMgPSBcbi8qQHRzMmRhcnRfY29uc3QqLyBbXG4gICAgY29yZV8xLkFQUExJQ0FUSU9OX0NPTU1PTl9QUk9WSURFUlMsXG4gICAgY29tbW9uXzEuRk9STV9QUk9WSURFUlMsXG4gICAgZXhwb3J0cy5CUk9XU0VSX1NBTklUSVpBVElPTl9QUk9WSURFUlMsXG4gICAgLyogQHRzMmRhcnRfUHJvdmlkZXIgKi8geyBwcm92aWRlOiBjb3JlXzEuUExBVEZPUk1fUElQRVMsIHVzZVZhbHVlOiBjb21tb25fMS5DT01NT05fUElQRVMsIG11bHRpOiB0cnVlIH0sXG4gICAgLyogQHRzMmRhcnRfUHJvdmlkZXIgKi8geyBwcm92aWRlOiBjb3JlXzEuUExBVEZPUk1fRElSRUNUSVZFUywgdXNlVmFsdWU6IGNvbW1vbl8xLkNPTU1PTl9ESVJFQ1RJVkVTLCBtdWx0aTogdHJ1ZSB9LFxuICAgIC8qIEB0czJkYXJ0X1Byb3ZpZGVyICovIHsgcHJvdmlkZTogY29yZV8xLkV4Y2VwdGlvbkhhbmRsZXIsIHVzZUZhY3Rvcnk6IF9leGNlcHRpb25IYW5kbGVyLCBkZXBzOiBbXSB9LFxuICAgIC8qIEB0czJkYXJ0X1Byb3ZpZGVyICovIHsgcHJvdmlkZTogZG9tX3Rva2Vuc18xLkRPQ1VNRU5ULCB1c2VGYWN0b3J5OiBfZG9jdW1lbnQsIGRlcHM6IFtdIH0sXG4gICAgLyogQHRzMmRhcnRfUHJvdmlkZXIgKi8geyBwcm92aWRlOiBldmVudF9tYW5hZ2VyXzEuRVZFTlRfTUFOQUdFUl9QTFVHSU5TLCB1c2VDbGFzczogZG9tX2V2ZW50c18xLkRvbUV2ZW50c1BsdWdpbiwgbXVsdGk6IHRydWUgfSxcbiAgICAvKiBAdHMyZGFydF9Qcm92aWRlciAqLyB7IHByb3ZpZGU6IGV2ZW50X21hbmFnZXJfMS5FVkVOVF9NQU5BR0VSX1BMVUdJTlMsIHVzZUNsYXNzOiBrZXlfZXZlbnRzXzEuS2V5RXZlbnRzUGx1Z2luLCBtdWx0aTogdHJ1ZSB9LFxuICAgIC8qIEB0czJkYXJ0X1Byb3ZpZGVyICovIHsgcHJvdmlkZTogZXZlbnRfbWFuYWdlcl8xLkVWRU5UX01BTkFHRVJfUExVR0lOUywgdXNlQ2xhc3M6IGhhbW1lcl9nZXN0dXJlc18xLkhhbW1lckdlc3R1cmVzUGx1Z2luLCBtdWx0aTogdHJ1ZSB9LFxuICAgIC8qIEB0czJkYXJ0X1Byb3ZpZGVyICovIHsgcHJvdmlkZTogaGFtbWVyX2dlc3R1cmVzXzEuSEFNTUVSX0dFU1RVUkVfQ09ORklHLCB1c2VDbGFzczogaGFtbWVyX2dlc3R1cmVzXzEuSGFtbWVyR2VzdHVyZUNvbmZpZyB9LFxuICAgIC8qIEB0czJkYXJ0X1Byb3ZpZGVyICovIHsgcHJvdmlkZTogZG9tX3JlbmRlcmVyXzEuRG9tUm9vdFJlbmRlcmVyLCB1c2VDbGFzczogZG9tX3JlbmRlcmVyXzEuRG9tUm9vdFJlbmRlcmVyXyB9LFxuICAgIC8qIEB0czJkYXJ0X1Byb3ZpZGVyICovIHsgcHJvdmlkZTogY29yZV8xLlJvb3RSZW5kZXJlciwgdXNlRXhpc3Rpbmc6IGRvbV9yZW5kZXJlcl8xLkRvbVJvb3RSZW5kZXJlciB9LFxuICAgIC8qIEB0czJkYXJ0X1Byb3ZpZGVyICovIHsgcHJvdmlkZTogc2hhcmVkX3N0eWxlc19ob3N0XzEuU2hhcmVkU3R5bGVzSG9zdCwgdXNlRXhpc3Rpbmc6IHNoYXJlZF9zdHlsZXNfaG9zdF8yLkRvbVNoYXJlZFN0eWxlc0hvc3QgfSxcbiAgICBzaGFyZWRfc3R5bGVzX2hvc3RfMi5Eb21TaGFyZWRTdHlsZXNIb3N0LFxuICAgIGNvcmVfMS5UZXN0YWJpbGl0eSxcbiAgICBicm93c2VyX2RldGFpbHNfMS5Ccm93c2VyRGV0YWlscyxcbiAgICBhbmltYXRpb25fYnVpbGRlcl8xLkFuaW1hdGlvbkJ1aWxkZXIsXG4gICAgZXZlbnRfbWFuYWdlcl8xLkV2ZW50TWFuYWdlcixcbiAgICBuZ19wcm9iZV8xLkVMRU1FTlRfUFJPQkVfUFJPVklERVJTXG5dO1xudmFyIGhhbW1lcl9nZXN0dXJlc18yID0gcmVxdWlyZSgnLi4vc3JjL2RvbS9ldmVudHMvaGFtbWVyX2dlc3R1cmVzJyk7XG5leHBvcnRzLkhBTU1FUl9HRVNUVVJFX0NPTkZJRyA9IGhhbW1lcl9nZXN0dXJlc18yLkhBTU1FUl9HRVNUVVJFX0NPTkZJRztcbmV4cG9ydHMuSGFtbWVyR2VzdHVyZUNvbmZpZyA9IGhhbW1lcl9nZXN0dXJlc18yLkhhbW1lckdlc3R1cmVDb25maWc7XG5mdW5jdGlvbiBpbml0RG9tQWRhcHRlcigpIHtcbiAgICBicm93c2VyX2FkYXB0ZXJfMS5Ccm93c2VyRG9tQWRhcHRlci5tYWtlQ3VycmVudCgpO1xuICAgIGNvcmVfcHJpdmF0ZV8xLnd0ZkluaXQoKTtcbiAgICB0ZXN0YWJpbGl0eV8xLkJyb3dzZXJHZXRUZXN0YWJpbGl0eS5pbml0KCk7XG59XG5leHBvcnRzLmluaXREb21BZGFwdGVyID0gaW5pdERvbUFkYXB0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icm93c2VyX2NvbW1vbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBkb21fYWRhcHRlcl8xID0gcmVxdWlyZSgnLi4vLi4vZG9tL2RvbV9hZGFwdGVyJyk7XG4vKipcbiAqIFByZWRpY2F0ZXMgZm9yIHVzZSB3aXRoIHtAbGluayBEZWJ1Z0VsZW1lbnR9J3MgcXVlcnkgZnVuY3Rpb25zLlxuICovXG52YXIgQnkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJ5KCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXRjaCBhbGwgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiAjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiB7QGV4YW1wbGUgcGxhdGZvcm0vZG9tL2RlYnVnL3RzL2J5L2J5LnRzIHJlZ2lvbj0nYnlfYWxsJ31cbiAgICAgKi9cbiAgICBCeS5hbGwgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBmdW5jdGlvbiAoZGVidWdFbGVtZW50KSB7IHJldHVybiB0cnVlOyB9OyB9O1xuICAgIC8qKlxuICAgICAqIE1hdGNoIGVsZW1lbnRzIGJ5IHRoZSBnaXZlbiBDU1Mgc2VsZWN0b3IuXG4gICAgICpcbiAgICAgKiAjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiB7QGV4YW1wbGUgcGxhdGZvcm0vZG9tL2RlYnVnL3RzL2J5L2J5LnRzIHJlZ2lvbj0nYnlfY3NzJ31cbiAgICAgKi9cbiAgICBCeS5jc3MgPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkZWJ1Z0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KGRlYnVnRWxlbWVudC5uYXRpdmVFbGVtZW50KSA/XG4gICAgICAgICAgICAgICAgZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5lbGVtZW50TWF0Y2hlcyhkZWJ1Z0VsZW1lbnQubmF0aXZlRWxlbWVudCwgc2VsZWN0b3IpIDpcbiAgICAgICAgICAgICAgICBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hdGNoIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgZ2l2ZW4gZGlyZWN0aXZlIHByZXNlbnQuXG4gICAgICpcbiAgICAgKiAjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiB7QGV4YW1wbGUgcGxhdGZvcm0vZG9tL2RlYnVnL3RzL2J5L2J5LnRzIHJlZ2lvbj0nYnlfZGlyZWN0aXZlJ31cbiAgICAgKi9cbiAgICBCeS5kaXJlY3RpdmUgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGRlYnVnRWxlbWVudCkgeyByZXR1cm4gZGVidWdFbGVtZW50LnByb3ZpZGVyVG9rZW5zLmluZGV4T2YodHlwZSkgIT09IC0xOyB9O1xuICAgIH07XG4gICAgcmV0dXJuIEJ5O1xufSgpKTtcbmV4cG9ydHMuQnkgPSBCeTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBjb3JlX3ByaXZhdGVfMSA9IHJlcXVpcmUoJy4uLy4uLy4uL2NvcmVfcHJpdmF0ZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL2ZhY2FkZS9sYW5nJyk7XG52YXIgZG9tX2FkYXB0ZXJfMSA9IHJlcXVpcmUoJy4uL2RvbV9hZGFwdGVyJyk7XG52YXIgZG9tX3JlbmRlcmVyXzEgPSByZXF1aXJlKCcuLi9kb21fcmVuZGVyZXInKTtcbnZhciBDT1JFX1RPS0VOUyA9IHsgJ0FwcGxpY2F0aW9uUmVmJzogY29yZV8xLkFwcGxpY2F0aW9uUmVmLCAnTmdab25lJzogY29yZV8xLk5nWm9uZSB9O1xudmFyIElOU1BFQ1RfR0xPQkFMX05BTUUgPSAnbmcucHJvYmUnO1xudmFyIENPUkVfVE9LRU5TX0dMT0JBTF9OQU1FID0gJ25nLmNvcmVUb2tlbnMnO1xuLyoqXG4gKiBSZXR1cm5zIGEge0BsaW5rIERlYnVnRWxlbWVudH0gZm9yIHRoZSBnaXZlbiBuYXRpdmUgRE9NIGVsZW1lbnQsIG9yXG4gKiBudWxsIGlmIHRoZSBnaXZlbiBuYXRpdmUgZWxlbWVudCBkb2VzIG5vdCBoYXZlIGFuIEFuZ3VsYXIgdmlldyBhc3NvY2lhdGVkXG4gKiB3aXRoIGl0LlxuICovXG5mdW5jdGlvbiBpbnNwZWN0TmF0aXZlRWxlbWVudChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGNvcmVfMS5nZXREZWJ1Z05vZGUoZWxlbWVudCk7XG59XG5leHBvcnRzLmluc3BlY3ROYXRpdmVFbGVtZW50ID0gaW5zcGVjdE5hdGl2ZUVsZW1lbnQ7XG5mdW5jdGlvbiBfY3JlYXRlQ29uZGl0aW9uYWxSb290UmVuZGVyZXIocm9vdFJlbmRlcmVyKSB7XG4gICAgaWYgKGxhbmdfMS5hc3NlcnRpb25zRW5hYmxlZCgpKSB7XG4gICAgICAgIHJldHVybiBfY3JlYXRlUm9vdFJlbmRlcmVyKHJvb3RSZW5kZXJlcik7XG4gICAgfVxuICAgIHJldHVybiByb290UmVuZGVyZXI7XG59XG5mdW5jdGlvbiBfY3JlYXRlUm9vdFJlbmRlcmVyKHJvb3RSZW5kZXJlcikge1xuICAgIGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkuc2V0R2xvYmFsVmFyKElOU1BFQ1RfR0xPQkFMX05BTUUsIGluc3BlY3ROYXRpdmVFbGVtZW50KTtcbiAgICBkb21fYWRhcHRlcl8xLmdldERPTSgpLnNldEdsb2JhbFZhcihDT1JFX1RPS0VOU19HTE9CQUxfTkFNRSwgQ09SRV9UT0tFTlMpO1xuICAgIHJldHVybiBuZXcgY29yZV9wcml2YXRlXzEuRGVidWdEb21Sb290UmVuZGVyZXIocm9vdFJlbmRlcmVyKTtcbn1cbi8qKlxuICogUHJvdmlkZXJzIHdoaWNoIHN1cHBvcnQgZGVidWdnaW5nIEFuZ3VsYXIgYXBwbGljYXRpb25zIChlLmcuIHZpYSBgbmcucHJvYmVgKS5cbiAqL1xuZXhwb3J0cy5FTEVNRU5UX1BST0JFX1BST1ZJREVSUyA9IFtcbiAgICAvKkB0czJkYXJ0X1Byb3ZpZGVyKi8ge1xuICAgICAgICBwcm92aWRlOiBjb3JlXzEuUm9vdFJlbmRlcmVyLFxuICAgICAgICB1c2VGYWN0b3J5OiBfY3JlYXRlQ29uZGl0aW9uYWxSb290UmVuZGVyZXIsXG4gICAgICAgIGRlcHM6IFtkb21fcmVuZGVyZXJfMS5Eb21Sb290UmVuZGVyZXJdXG4gICAgfVxuXTtcbmV4cG9ydHMuRUxFTUVOVF9QUk9CRV9QUk9WSURFUlNfUFJPRF9NT0RFID0gW1xuICAgIC8qQHRzMmRhcnRfUHJvdmlkZXIqLyB7XG4gICAgICAgIHByb3ZpZGU6IGNvcmVfMS5Sb290UmVuZGVyZXIsXG4gICAgICAgIHVzZUZhY3Rvcnk6IF9jcmVhdGVSb290UmVuZGVyZXIsXG4gICAgICAgIGRlcHM6IFtkb21fcmVuZGVyZXJfMS5Eb21Sb290UmVuZGVyZXJdXG4gICAgfVxuXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5nX3Byb2JlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIF9ET00gPSBudWxsO1xuZnVuY3Rpb24gZ2V0RE9NKCkge1xuICAgIHJldHVybiBfRE9NO1xufVxuZXhwb3J0cy5nZXRET00gPSBnZXRET007XG5mdW5jdGlvbiBzZXRET00oYWRhcHRlcikge1xuICAgIF9ET00gPSBhZGFwdGVyO1xufVxuZXhwb3J0cy5zZXRET00gPSBzZXRET007XG5mdW5jdGlvbiBzZXRSb290RG9tQWRhcHRlcihhZGFwdGVyKSB7XG4gICAgaWYgKGxhbmdfMS5pc0JsYW5rKF9ET00pKSB7XG4gICAgICAgIF9ET00gPSBhZGFwdGVyO1xuICAgIH1cbn1cbmV4cG9ydHMuc2V0Um9vdERvbUFkYXB0ZXIgPSBzZXRSb290RG9tQWRhcHRlcjtcbi8qIHRzbGludDpkaXNhYmxlOnJlcXVpcmVQYXJhbWV0ZXJUeXBlICovXG4vKipcbiAqIFByb3ZpZGVzIERPTSBvcGVyYXRpb25zIGluIGFuIGVudmlyb25tZW50LWFnbm9zdGljIHdheS5cbiAqL1xudmFyIERvbUFkYXB0ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERvbUFkYXB0ZXIoKSB7XG4gICAgICAgIHRoaXMueGhyVHlwZSA9IG51bGw7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIERvbUFkYXB0ZXIucHJvdG90eXBlLmdldFhIUiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMueGhyVHlwZTsgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRG9tQWRhcHRlci5wcm90b3R5cGUsIFwiYXR0clRvUHJvcE1hcFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXBzIGF0dHJpYnV0ZSBuYW1lcyB0byB0aGVpciBjb3JyZXNwb25kaW5nIHByb3BlcnR5IG5hbWVzIGZvciBjYXNlc1xuICAgICAgICAgKiB3aGVyZSBhdHRyaWJ1dGUgbmFtZSBkb2Vzbid0IG1hdGNoIHByb3BlcnR5IG5hbWUuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2F0dHJUb1Byb3BNYXA7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IHRoaXMuX2F0dHJUb1Byb3BNYXAgPSB2YWx1ZTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgO1xuICAgIDtcbiAgICByZXR1cm4gRG9tQWRhcHRlcjtcbn0oKSk7XG5leHBvcnRzLkRvbUFkYXB0ZXIgPSBEb21BZGFwdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG9tX2FkYXB0ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgYW5pbWF0aW9uX2J1aWxkZXJfMSA9IHJlcXVpcmUoJy4uL2FuaW1hdGUvYW5pbWF0aW9uX2J1aWxkZXInKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBleGNlcHRpb25zXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2V4Y2VwdGlvbnMnKTtcbnZhciBzaGFyZWRfc3R5bGVzX2hvc3RfMSA9IHJlcXVpcmUoJy4vc2hhcmVkX3N0eWxlc19ob3N0Jyk7XG52YXIgZXZlbnRfbWFuYWdlcl8xID0gcmVxdWlyZSgnLi9ldmVudHMvZXZlbnRfbWFuYWdlcicpO1xudmFyIGRvbV90b2tlbnNfMSA9IHJlcXVpcmUoJy4vZG9tX3Rva2VucycpO1xudmFyIGRvbV9hZGFwdGVyXzEgPSByZXF1aXJlKCcuL2RvbV9hZGFwdGVyJyk7XG52YXIgdXRpbF8xID0gcmVxdWlyZSgnLi91dGlsJyk7XG52YXIgTkFNRVNQQUNFX1VSSVMgPSBcbi8qQHRzMmRhcnRfY29uc3QqL1xueyAneGxpbmsnOiAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsICdzdmcnOiAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIH07XG52YXIgVEVNUExBVEVfQ09NTUVOVF9URVhUID0gJ3RlbXBsYXRlIGJpbmRpbmdzPXt9JztcbnZhciBURU1QTEFURV9CSU5ESU5HU19FWFAgPSAvXnRlbXBsYXRlIGJpbmRpbmdzPSguKikkL2c7XG52YXIgRG9tUm9vdFJlbmRlcmVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEb21Sb290UmVuZGVyZXIoZG9jdW1lbnQsIGV2ZW50TWFuYWdlciwgc2hhcmVkU3R5bGVzSG9zdCwgYW5pbWF0ZSkge1xuICAgICAgICB0aGlzLmRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyID0gZXZlbnRNYW5hZ2VyO1xuICAgICAgICB0aGlzLnNoYXJlZFN0eWxlc0hvc3QgPSBzaGFyZWRTdHlsZXNIb3N0O1xuICAgICAgICB0aGlzLmFuaW1hdGUgPSBhbmltYXRlO1xuICAgICAgICB0aGlzLl9yZWdpc3RlcmVkQ29tcG9uZW50cyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgRG9tUm9vdFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50UHJvdG8pIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5fcmVnaXN0ZXJlZENvbXBvbmVudHMuZ2V0KGNvbXBvbmVudFByb3RvLmlkKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0JsYW5rKHJlbmRlcmVyKSkge1xuICAgICAgICAgICAgcmVuZGVyZXIgPSBuZXcgRG9tUmVuZGVyZXIodGhpcywgY29tcG9uZW50UHJvdG8pO1xuICAgICAgICAgICAgdGhpcy5fcmVnaXN0ZXJlZENvbXBvbmVudHMuc2V0KGNvbXBvbmVudFByb3RvLmlkLCByZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlbmRlcmVyO1xuICAgIH07XG4gICAgcmV0dXJuIERvbVJvb3RSZW5kZXJlcjtcbn0oKSk7XG5leHBvcnRzLkRvbVJvb3RSZW5kZXJlciA9IERvbVJvb3RSZW5kZXJlcjtcbnZhciBEb21Sb290UmVuZGVyZXJfID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRG9tUm9vdFJlbmRlcmVyXywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEb21Sb290UmVuZGVyZXJfKF9kb2N1bWVudCwgX2V2ZW50TWFuYWdlciwgc2hhcmVkU3R5bGVzSG9zdCwgYW5pbWF0ZSkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBfZG9jdW1lbnQsIF9ldmVudE1hbmFnZXIsIHNoYXJlZFN0eWxlc0hvc3QsIGFuaW1hdGUpO1xuICAgIH1cbiAgICBEb21Sb290UmVuZGVyZXJfLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIERvbVJvb3RSZW5kZXJlcl8uY3RvclBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbeyB0eXBlOiBjb3JlXzEuSW5qZWN0LCBhcmdzOiBbZG9tX3Rva2Vuc18xLkRPQ1VNRU5ULF0gfSxdIH0sXG4gICAgICAgIHsgdHlwZTogZXZlbnRfbWFuYWdlcl8xLkV2ZW50TWFuYWdlciwgfSxcbiAgICAgICAgeyB0eXBlOiBzaGFyZWRfc3R5bGVzX2hvc3RfMS5Eb21TaGFyZWRTdHlsZXNIb3N0LCB9LFxuICAgICAgICB7IHR5cGU6IGFuaW1hdGlvbl9idWlsZGVyXzEuQW5pbWF0aW9uQnVpbGRlciwgfSxcbiAgICBdO1xuICAgIHJldHVybiBEb21Sb290UmVuZGVyZXJfO1xufShEb21Sb290UmVuZGVyZXIpKTtcbmV4cG9ydHMuRG9tUm9vdFJlbmRlcmVyXyA9IERvbVJvb3RSZW5kZXJlcl87XG52YXIgRG9tUmVuZGVyZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERvbVJlbmRlcmVyKF9yb290UmVuZGVyZXIsIGNvbXBvbmVudFByb3RvKSB7XG4gICAgICAgIHRoaXMuX3Jvb3RSZW5kZXJlciA9IF9yb290UmVuZGVyZXI7XG4gICAgICAgIHRoaXMuY29tcG9uZW50UHJvdG8gPSBjb21wb25lbnRQcm90bztcbiAgICAgICAgdGhpcy5fc3R5bGVzID0gX2ZsYXR0ZW5TdHlsZXMoY29tcG9uZW50UHJvdG8uaWQsIGNvbXBvbmVudFByb3RvLnN0eWxlcywgW10pO1xuICAgICAgICBpZiAoY29tcG9uZW50UHJvdG8uZW5jYXBzdWxhdGlvbiAhPT0gY29yZV8xLlZpZXdFbmNhcHN1bGF0aW9uLk5hdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5fcm9vdFJlbmRlcmVyLnNoYXJlZFN0eWxlc0hvc3QuYWRkU3R5bGVzKHRoaXMuX3N0eWxlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50UHJvdG8uZW5jYXBzdWxhdGlvbiA9PT0gY29yZV8xLlZpZXdFbmNhcHN1bGF0aW9uLkVtdWxhdGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZW50QXR0ciA9IF9zaGltQ29udGVudEF0dHJpYnV0ZShjb21wb25lbnRQcm90by5pZCk7XG4gICAgICAgICAgICB0aGlzLl9ob3N0QXR0ciA9IF9zaGltSG9zdEF0dHJpYnV0ZShjb21wb25lbnRQcm90by5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZW50QXR0ciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9ob3N0QXR0ciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgRG9tUmVuZGVyZXIucHJvdG90eXBlLnNlbGVjdFJvb3RFbGVtZW50ID0gZnVuY3Rpb24gKHNlbGVjdG9yT3JOb2RlLCBkZWJ1Z0luZm8pIHtcbiAgICAgICAgdmFyIGVsO1xuICAgICAgICBpZiAobGFuZ18xLmlzU3RyaW5nKHNlbGVjdG9yT3JOb2RlKSkge1xuICAgICAgICAgICAgZWwgPSBkb21fYWRhcHRlcl8xLmdldERPTSgpLnF1ZXJ5U2VsZWN0b3IodGhpcy5fcm9vdFJlbmRlcmVyLmRvY3VtZW50LCBzZWxlY3Rvck9yTm9kZSk7XG4gICAgICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsoZWwpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiVGhlIHNlbGVjdG9yIFxcXCJcIiArIHNlbGVjdG9yT3JOb2RlICsgXCJcXFwiIGRpZCBub3QgbWF0Y2ggYW55IGVsZW1lbnRzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWwgPSBzZWxlY3Rvck9yTm9kZTtcbiAgICAgICAgfVxuICAgICAgICBkb21fYWRhcHRlcl8xLmdldERPTSgpLmNsZWFyTm9kZXMoZWwpO1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgfTtcbiAgICBEb21SZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIChwYXJlbnQsIG5hbWUsIGRlYnVnSW5mbykge1xuICAgICAgICB2YXIgbnNBbmROYW1lID0gc3BsaXROYW1lc3BhY2UobmFtZSk7XG4gICAgICAgIHZhciBlbCA9IGxhbmdfMS5pc1ByZXNlbnQobnNBbmROYW1lWzBdKSA/XG4gICAgICAgICAgICBkb21fYWRhcHRlcl8xLmdldERPTSgpLmNyZWF0ZUVsZW1lbnROUyhOQU1FU1BBQ0VfVVJJU1tuc0FuZE5hbWVbMF1dLCBuc0FuZE5hbWVbMV0pIDpcbiAgICAgICAgICAgIGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkuY3JlYXRlRWxlbWVudChuc0FuZE5hbWVbMV0pO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudCh0aGlzLl9jb250ZW50QXR0cikpIHtcbiAgICAgICAgICAgIGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkuc2V0QXR0cmlidXRlKGVsLCB0aGlzLl9jb250ZW50QXR0ciwgJycpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHBhcmVudCkpIHtcbiAgICAgICAgICAgIGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkuYXBwZW5kQ2hpbGQocGFyZW50LCBlbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH07XG4gICAgRG9tUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVZpZXdSb290ID0gZnVuY3Rpb24gKGhvc3RFbGVtZW50KSB7XG4gICAgICAgIHZhciBub2Rlc1BhcmVudDtcbiAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50UHJvdG8uZW5jYXBzdWxhdGlvbiA9PT0gY29yZV8xLlZpZXdFbmNhcHN1bGF0aW9uLk5hdGl2ZSkge1xuICAgICAgICAgICAgbm9kZXNQYXJlbnQgPSBkb21fYWRhcHRlcl8xLmdldERPTSgpLmNyZWF0ZVNoYWRvd1Jvb3QoaG9zdEVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5fcm9vdFJlbmRlcmVyLnNoYXJlZFN0eWxlc0hvc3QuYWRkSG9zdChub2Rlc1BhcmVudCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3N0eWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkuYXBwZW5kQ2hpbGQobm9kZXNQYXJlbnQsIGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkuY3JlYXRlU3R5bGVFbGVtZW50KHRoaXMuX3N0eWxlc1tpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQodGhpcy5faG9zdEF0dHIpKSB7XG4gICAgICAgICAgICAgICAgZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5zZXRBdHRyaWJ1dGUoaG9zdEVsZW1lbnQsIHRoaXMuX2hvc3RBdHRyLCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2Rlc1BhcmVudCA9IGhvc3RFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2Rlc1BhcmVudDtcbiAgICB9O1xuICAgIERvbVJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVUZW1wbGF0ZUFuY2hvciA9IGZ1bmN0aW9uIChwYXJlbnRFbGVtZW50LCBkZWJ1Z0luZm8pIHtcbiAgICAgICAgdmFyIGNvbW1lbnQgPSBkb21fYWRhcHRlcl8xLmdldERPTSgpLmNyZWF0ZUNvbW1lbnQoVEVNUExBVEVfQ09NTUVOVF9URVhUKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQocGFyZW50RWxlbWVudCkpIHtcbiAgICAgICAgICAgIGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkuYXBwZW5kQ2hpbGQocGFyZW50RWxlbWVudCwgY29tbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbW1lbnQ7XG4gICAgfTtcbiAgICBEb21SZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlVGV4dCA9IGZ1bmN0aW9uIChwYXJlbnRFbGVtZW50LCB2YWx1ZSwgZGVidWdJbmZvKSB7XG4gICAgICAgIHZhciBub2RlID0gZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5jcmVhdGVUZXh0Tm9kZSh2YWx1ZSk7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHBhcmVudEVsZW1lbnQpKSB7XG4gICAgICAgICAgICBkb21fYWRhcHRlcl8xLmdldERPTSgpLmFwcGVuZENoaWxkKHBhcmVudEVsZW1lbnQsIG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH07XG4gICAgRG9tUmVuZGVyZXIucHJvdG90eXBlLnByb2plY3ROb2RlcyA9IGZ1bmN0aW9uIChwYXJlbnRFbGVtZW50LCBub2Rlcykge1xuICAgICAgICBpZiAobGFuZ18xLmlzQmxhbmsocGFyZW50RWxlbWVudCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGFwcGVuZE5vZGVzKHBhcmVudEVsZW1lbnQsIG5vZGVzKTtcbiAgICB9O1xuICAgIERvbVJlbmRlcmVyLnByb3RvdHlwZS5hdHRhY2hWaWV3QWZ0ZXIgPSBmdW5jdGlvbiAobm9kZSwgdmlld1Jvb3ROb2Rlcykge1xuICAgICAgICBtb3ZlTm9kZXNBZnRlclNpYmxpbmcobm9kZSwgdmlld1Jvb3ROb2Rlcyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlld1Jvb3ROb2Rlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZU5vZGVFbnRlcih2aWV3Um9vdE5vZGVzW2ldKTtcbiAgICB9O1xuICAgIERvbVJlbmRlcmVyLnByb3RvdHlwZS5kZXRhY2hWaWV3ID0gZnVuY3Rpb24gKHZpZXdSb290Tm9kZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Um9vdE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IHZpZXdSb290Tm9kZXNbaV07XG4gICAgICAgICAgICBkb21fYWRhcHRlcl8xLmdldERPTSgpLnJlbW92ZShub2RlKTtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZU5vZGVMZWF2ZShub2RlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRG9tUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3lWaWV3ID0gZnVuY3Rpb24gKGhvc3RFbGVtZW50LCB2aWV3QWxsTm9kZXMpIHtcbiAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50UHJvdG8uZW5jYXBzdWxhdGlvbiA9PT0gY29yZV8xLlZpZXdFbmNhcHN1bGF0aW9uLk5hdGl2ZSAmJiBsYW5nXzEuaXNQcmVzZW50KGhvc3RFbGVtZW50KSkge1xuICAgICAgICAgICAgdGhpcy5fcm9vdFJlbmRlcmVyLnNoYXJlZFN0eWxlc0hvc3QucmVtb3ZlSG9zdChkb21fYWRhcHRlcl8xLmdldERPTSgpLmdldFNoYWRvd1Jvb3QoaG9zdEVsZW1lbnQpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRG9tUmVuZGVyZXIucHJvdG90eXBlLmxpc3RlbiA9IGZ1bmN0aW9uIChyZW5kZXJFbGVtZW50LCBuYW1lLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm9vdFJlbmRlcmVyLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHJlbmRlckVsZW1lbnQsIG5hbWUsIGRlY29yYXRlUHJldmVudERlZmF1bHQoY2FsbGJhY2spKTtcbiAgICB9O1xuICAgIERvbVJlbmRlcmVyLnByb3RvdHlwZS5saXN0ZW5HbG9iYWwgPSBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm9vdFJlbmRlcmVyLmV2ZW50TWFuYWdlci5hZGRHbG9iYWxFdmVudExpc3RlbmVyKHRhcmdldCwgbmFtZSwgZGVjb3JhdGVQcmV2ZW50RGVmYXVsdChjYWxsYmFjaykpO1xuICAgIH07XG4gICAgRG9tUmVuZGVyZXIucHJvdG90eXBlLnNldEVsZW1lbnRQcm9wZXJ0eSA9IGZ1bmN0aW9uIChyZW5kZXJFbGVtZW50LCBwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5zZXRQcm9wZXJ0eShyZW5kZXJFbGVtZW50LCBwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWUpO1xuICAgIH07XG4gICAgRG9tUmVuZGVyZXIucHJvdG90eXBlLnNldEVsZW1lbnRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAocmVuZGVyRWxlbWVudCwgYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWUpIHtcbiAgICAgICAgdmFyIGF0dHJOcztcbiAgICAgICAgdmFyIG5zQW5kTmFtZSA9IHNwbGl0TmFtZXNwYWNlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChuc0FuZE5hbWVbMF0pKSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVOYW1lID0gbnNBbmROYW1lWzBdICsgJzonICsgbnNBbmROYW1lWzFdO1xuICAgICAgICAgICAgYXR0ck5zID0gTkFNRVNQQUNFX1VSSVNbbnNBbmROYW1lWzBdXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChhdHRyaWJ1dGVWYWx1ZSkpIHtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGF0dHJOcykpIHtcbiAgICAgICAgICAgICAgICBkb21fYWRhcHRlcl8xLmdldERPTSgpLnNldEF0dHJpYnV0ZU5TKHJlbmRlckVsZW1lbnQsIGF0dHJOcywgYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5zZXRBdHRyaWJ1dGUocmVuZGVyRWxlbWVudCwgYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoYXR0ck5zKSkge1xuICAgICAgICAgICAgICAgIGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkucmVtb3ZlQXR0cmlidXRlTlMocmVuZGVyRWxlbWVudCwgYXR0ck5zLCBuc0FuZE5hbWVbMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5yZW1vdmVBdHRyaWJ1dGUocmVuZGVyRWxlbWVudCwgYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERvbVJlbmRlcmVyLnByb3RvdHlwZS5zZXRCaW5kaW5nRGVidWdJbmZvID0gZnVuY3Rpb24gKHJlbmRlckVsZW1lbnQsIHByb3BlcnR5TmFtZSwgcHJvcGVydHlWYWx1ZSkge1xuICAgICAgICB2YXIgZGFzaENhc2VkUHJvcGVydHlOYW1lID0gdXRpbF8xLmNhbWVsQ2FzZVRvRGFzaENhc2UocHJvcGVydHlOYW1lKTtcbiAgICAgICAgaWYgKGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkuaXNDb21tZW50Tm9kZShyZW5kZXJFbGVtZW50KSkge1xuICAgICAgICAgICAgdmFyIGV4aXN0aW5nQmluZGluZ3MgPSBsYW5nXzEuUmVnRXhwV3JhcHBlci5maXJzdE1hdGNoKFRFTVBMQVRFX0JJTkRJTkdTX0VYUCwgbGFuZ18xLlN0cmluZ1dyYXBwZXIucmVwbGFjZUFsbChkb21fYWRhcHRlcl8xLmdldERPTSgpLmdldFRleHQocmVuZGVyRWxlbWVudCksIC9cXG4vZywgJycpKTtcbiAgICAgICAgICAgIHZhciBwYXJzZWRCaW5kaW5ncyA9IGxhbmdfMS5Kc29uLnBhcnNlKGV4aXN0aW5nQmluZGluZ3NbMV0pO1xuICAgICAgICAgICAgcGFyc2VkQmluZGluZ3NbZGFzaENhc2VkUHJvcGVydHlOYW1lXSA9IHByb3BlcnR5VmFsdWU7XG4gICAgICAgICAgICBkb21fYWRhcHRlcl8xLmdldERPTSgpLnNldFRleHQocmVuZGVyRWxlbWVudCwgbGFuZ18xLlN0cmluZ1dyYXBwZXIucmVwbGFjZShURU1QTEFURV9DT01NRU5UX1RFWFQsICd7fScsIGxhbmdfMS5Kc29uLnN0cmluZ2lmeShwYXJzZWRCaW5kaW5ncykpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RWxlbWVudEF0dHJpYnV0ZShyZW5kZXJFbGVtZW50LCBwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEb21SZW5kZXJlci5wcm90b3R5cGUuc2V0RWxlbWVudENsYXNzID0gZnVuY3Rpb24gKHJlbmRlckVsZW1lbnQsIGNsYXNzTmFtZSwgaXNBZGQpIHtcbiAgICAgICAgaWYgKGlzQWRkKSB7XG4gICAgICAgICAgICBkb21fYWRhcHRlcl8xLmdldERPTSgpLmFkZENsYXNzKHJlbmRlckVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb21fYWRhcHRlcl8xLmdldERPTSgpLnJlbW92ZUNsYXNzKHJlbmRlckVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERvbVJlbmRlcmVyLnByb3RvdHlwZS5zZXRFbGVtZW50U3R5bGUgPSBmdW5jdGlvbiAocmVuZGVyRWxlbWVudCwgc3R5bGVOYW1lLCBzdHlsZVZhbHVlKSB7XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHN0eWxlVmFsdWUpKSB7XG4gICAgICAgICAgICBkb21fYWRhcHRlcl8xLmdldERPTSgpLnNldFN0eWxlKHJlbmRlckVsZW1lbnQsIHN0eWxlTmFtZSwgbGFuZ18xLnN0cmluZ2lmeShzdHlsZVZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb21fYWRhcHRlcl8xLmdldERPTSgpLnJlbW92ZVN0eWxlKHJlbmRlckVsZW1lbnQsIHN0eWxlTmFtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERvbVJlbmRlcmVyLnByb3RvdHlwZS5pbnZva2VFbGVtZW50TWV0aG9kID0gZnVuY3Rpb24gKHJlbmRlckVsZW1lbnQsIG1ldGhvZE5hbWUsIGFyZ3MpIHtcbiAgICAgICAgZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5pbnZva2UocmVuZGVyRWxlbWVudCwgbWV0aG9kTmFtZSwgYXJncyk7XG4gICAgfTtcbiAgICBEb21SZW5kZXJlci5wcm90b3R5cGUuc2V0VGV4dCA9IGZ1bmN0aW9uIChyZW5kZXJOb2RlLCB0ZXh0KSB7IGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkuc2V0VGV4dChyZW5kZXJOb2RlLCB0ZXh0KTsgfTtcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhbmltYXRpb25zIGlmIG5lY2Vzc2FyeVxuICAgICAqIEBwYXJhbSBub2RlXG4gICAgICovXG4gICAgRG9tUmVuZGVyZXIucHJvdG90eXBlLmFuaW1hdGVOb2RlRW50ZXIgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAoZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5pc0VsZW1lbnROb2RlKG5vZGUpICYmIGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkuaGFzQ2xhc3Mobm9kZSwgJ25nLWFuaW1hdGUnKSkge1xuICAgICAgICAgICAgZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5hZGRDbGFzcyhub2RlLCAnbmctZW50ZXInKTtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3RSZW5kZXJlci5hbmltYXRlLmNzcygpXG4gICAgICAgICAgICAgICAgLmFkZEFuaW1hdGlvbkNsYXNzKCduZy1lbnRlci1hY3RpdmUnKVxuICAgICAgICAgICAgICAgIC5zdGFydChub2RlKVxuICAgICAgICAgICAgICAgIC5vbkNvbXBsZXRlKGZ1bmN0aW9uICgpIHsgZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5yZW1vdmVDbGFzcyhub2RlLCAnbmctZW50ZXInKTsgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIElmIGFuaW1hdGlvbnMgYXJlIG5lY2Vzc2FyeSwgcGVyZm9ybXMgYW5pbWF0aW9ucyB0aGVuIHJlbW92ZXMgdGhlIGVsZW1lbnQ7IG90aGVyd2lzZSwgaXQganVzdFxuICAgICAqIHJlbW92ZXMgdGhlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIG5vZGVcbiAgICAgKi9cbiAgICBEb21SZW5kZXJlci5wcm90b3R5cGUuYW5pbWF0ZU5vZGVMZWF2ZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIGlmIChkb21fYWRhcHRlcl8xLmdldERPTSgpLmlzRWxlbWVudE5vZGUobm9kZSkgJiYgZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5oYXNDbGFzcyhub2RlLCAnbmctYW5pbWF0ZScpKSB7XG4gICAgICAgICAgICBkb21fYWRhcHRlcl8xLmdldERPTSgpLmFkZENsYXNzKG5vZGUsICduZy1sZWF2ZScpO1xuICAgICAgICAgICAgdGhpcy5fcm9vdFJlbmRlcmVyLmFuaW1hdGUuY3NzKClcbiAgICAgICAgICAgICAgICAuYWRkQW5pbWF0aW9uQ2xhc3MoJ25nLWxlYXZlLWFjdGl2ZScpXG4gICAgICAgICAgICAgICAgLnN0YXJ0KG5vZGUpXG4gICAgICAgICAgICAgICAgLm9uQ29tcGxldGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkucmVtb3ZlQ2xhc3Mobm9kZSwgJ25nLWxlYXZlJyk7XG4gICAgICAgICAgICAgICAgZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5yZW1vdmUobm9kZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkucmVtb3ZlKG5vZGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRG9tUmVuZGVyZXI7XG59KCkpO1xuZXhwb3J0cy5Eb21SZW5kZXJlciA9IERvbVJlbmRlcmVyO1xuZnVuY3Rpb24gbW92ZU5vZGVzQWZ0ZXJTaWJsaW5nKHNpYmxpbmcsIG5vZGVzKSB7XG4gICAgdmFyIHBhcmVudCA9IGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkucGFyZW50RWxlbWVudChzaWJsaW5nKTtcbiAgICBpZiAobm9kZXMubGVuZ3RoID4gMCAmJiBsYW5nXzEuaXNQcmVzZW50KHBhcmVudCkpIHtcbiAgICAgICAgdmFyIG5leHRTaWJsaW5nID0gZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5uZXh0U2libGluZyhzaWJsaW5nKTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQobmV4dFNpYmxpbmcpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5pbnNlcnRCZWZvcmUobmV4dFNpYmxpbmcsIG5vZGVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBkb21fYWRhcHRlcl8xLmdldERPTSgpLmFwcGVuZENoaWxkKHBhcmVudCwgbm9kZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gYXBwZW5kTm9kZXMocGFyZW50LCBub2Rlcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5hcHBlbmRDaGlsZChwYXJlbnQsIG5vZGVzW2ldKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZWNvcmF0ZVByZXZlbnREZWZhdWx0KGV2ZW50SGFuZGxlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGFsbG93RGVmYXVsdEJlaGF2aW9yID0gZXZlbnRIYW5kbGVyKGV2ZW50KTtcbiAgICAgICAgaWYgKGFsbG93RGVmYXVsdEJlaGF2aW9yID09PSBmYWxzZSkge1xuICAgICAgICAgICAgLy8gVE9ETyh0Ym9zY2gpOiBtb3ZlIHByZXZlbnREZWZhdWx0IGludG8gZXZlbnQgcGx1Z2lucy4uLlxuICAgICAgICAgICAgZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5wcmV2ZW50RGVmYXVsdChldmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxudmFyIENPTVBPTkVOVF9SRUdFWCA9IC8lQ09NUCUvZztcbmV4cG9ydHMuQ09NUE9ORU5UX1ZBUklBQkxFID0gJyVDT01QJSc7XG5leHBvcnRzLkhPU1RfQVRUUiA9IFwiX25naG9zdC1cIiArIGV4cG9ydHMuQ09NUE9ORU5UX1ZBUklBQkxFO1xuZXhwb3J0cy5DT05URU5UX0FUVFIgPSBcIl9uZ2NvbnRlbnQtXCIgKyBleHBvcnRzLkNPTVBPTkVOVF9WQVJJQUJMRTtcbmZ1bmN0aW9uIF9zaGltQ29udGVudEF0dHJpYnV0ZShjb21wb25lbnRTaG9ydElkKSB7XG4gICAgcmV0dXJuIGxhbmdfMS5TdHJpbmdXcmFwcGVyLnJlcGxhY2VBbGwoZXhwb3J0cy5DT05URU5UX0FUVFIsIENPTVBPTkVOVF9SRUdFWCwgY29tcG9uZW50U2hvcnRJZCk7XG59XG5mdW5jdGlvbiBfc2hpbUhvc3RBdHRyaWJ1dGUoY29tcG9uZW50U2hvcnRJZCkge1xuICAgIHJldHVybiBsYW5nXzEuU3RyaW5nV3JhcHBlci5yZXBsYWNlQWxsKGV4cG9ydHMuSE9TVF9BVFRSLCBDT01QT05FTlRfUkVHRVgsIGNvbXBvbmVudFNob3J0SWQpO1xufVxuZnVuY3Rpb24gX2ZsYXR0ZW5TdHlsZXMoY29tcElkLCBzdHlsZXMsIHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzdHlsZSA9IHN0eWxlc1tpXTtcbiAgICAgICAgaWYgKGxhbmdfMS5pc0FycmF5KHN0eWxlKSkge1xuICAgICAgICAgICAgX2ZsYXR0ZW5TdHlsZXMoY29tcElkLCBzdHlsZSwgdGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlID0gbGFuZ18xLlN0cmluZ1dyYXBwZXIucmVwbGFjZUFsbChzdHlsZSwgQ09NUE9ORU5UX1JFR0VYLCBjb21wSWQpO1xuICAgICAgICAgICAgdGFyZ2V0LnB1c2goc3R5bGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG52YXIgTlNfUFJFRklYX1JFID0gL15AKFteOl0rKTooLispL2c7XG5mdW5jdGlvbiBzcGxpdE5hbWVzcGFjZShuYW1lKSB7XG4gICAgaWYgKG5hbWVbMF0gIT0gJ0AnKSB7XG4gICAgICAgIHJldHVybiBbbnVsbCwgbmFtZV07XG4gICAgfVxuICAgIHZhciBtYXRjaCA9IGxhbmdfMS5SZWdFeHBXcmFwcGVyLmZpcnN0TWF0Y2goTlNfUFJFRklYX1JFLCBuYW1lKTtcbiAgICByZXR1cm4gW21hdGNoWzFdLCBtYXRjaFsyXV07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kb21fcmVuZGVyZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xuLyoqXG4gKiBBIERJIFRva2VuIHJlcHJlc2VudGluZyB0aGUgbWFpbiByZW5kZXJpbmcgY29udGV4dC4gSW4gYSBicm93c2VyIHRoaXMgaXMgdGhlIERPTSBEb2N1bWVudC5cbiAqXG4gKiBOb3RlOiBEb2N1bWVudCBtaWdodCBub3QgYmUgYXZhaWxhYmxlIGluIHRoZSBBcHBsaWNhdGlvbiBDb250ZXh0IHdoZW4gQXBwbGljYXRpb24gYW5kIFJlbmRlcmluZ1xuICogQ29udGV4dHMgYXJlIG5vdCB0aGUgc2FtZSAoZS5nLiB3aGVuIHJ1bm5pbmcgdGhlIGFwcGxpY2F0aW9uIGludG8gYSBXZWIgV29ya2VyKS5cbiAqL1xuZXhwb3J0cy5ET0NVTUVOVCA9IG5ldyBjb3JlXzEuT3BhcXVlVG9rZW4oJ0RvY3VtZW50VG9rZW4nKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRvbV90b2tlbnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgZG9tX2FkYXB0ZXJfMSA9IHJlcXVpcmUoJy4uL2RvbV9hZGFwdGVyJyk7XG52YXIgZXZlbnRfbWFuYWdlcl8xID0gcmVxdWlyZSgnLi9ldmVudF9tYW5hZ2VyJyk7XG52YXIgRG9tRXZlbnRzUGx1Z2luID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRG9tRXZlbnRzUGx1Z2luLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERvbUV2ZW50c1BsdWdpbigpIHtcbiAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIC8vIFRoaXMgcGx1Z2luIHNob3VsZCBjb21lIGxhc3QgaW4gdGhlIGxpc3Qgb2YgcGx1Z2lucywgYmVjYXVzZSBpdCBhY2NlcHRzIGFsbFxuICAgIC8vIGV2ZW50cy5cbiAgICBEb21FdmVudHNQbHVnaW4ucHJvdG90eXBlLnN1cHBvcnRzID0gZnVuY3Rpb24gKGV2ZW50TmFtZSkgeyByZXR1cm4gdHJ1ZTsgfTtcbiAgICBEb21FdmVudHNQbHVnaW4ucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIHZhciB6b25lID0gdGhpcy5tYW5hZ2VyLmdldFpvbmUoKTtcbiAgICAgICAgdmFyIG91dHNpZGVIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiB6b25lLnJ1bkd1YXJkZWQoZnVuY3Rpb24gKCkgeyByZXR1cm4gaGFuZGxlcihldmVudCk7IH0pOyB9O1xuICAgICAgICByZXR1cm4gdGhpcy5tYW5hZ2VyLmdldFpvbmUoKS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbiAoKSB7IHJldHVybiBkb21fYWRhcHRlcl8xLmdldERPTSgpLm9uQW5kQ2FuY2VsKGVsZW1lbnQsIGV2ZW50TmFtZSwgb3V0c2lkZUhhbmRsZXIpOyB9KTtcbiAgICB9O1xuICAgIERvbUV2ZW50c1BsdWdpbi5wcm90b3R5cGUuYWRkR2xvYmFsRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0YXJnZXQsIGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkuZ2V0R2xvYmFsRXZlbnRUYXJnZXQodGFyZ2V0KTtcbiAgICAgICAgdmFyIHpvbmUgPSB0aGlzLm1hbmFnZXIuZ2V0Wm9uZSgpO1xuICAgICAgICB2YXIgb3V0c2lkZUhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIHpvbmUucnVuR3VhcmRlZChmdW5jdGlvbiAoKSB7IHJldHVybiBoYW5kbGVyKGV2ZW50KTsgfSk7IH07XG4gICAgICAgIHJldHVybiB0aGlzLm1hbmFnZXIuZ2V0Wm9uZSgpLnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkub25BbmRDYW5jZWwoZWxlbWVudCwgZXZlbnROYW1lLCBvdXRzaWRlSGFuZGxlcik7IH0pO1xuICAgIH07XG4gICAgRG9tRXZlbnRzUGx1Z2luLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIHJldHVybiBEb21FdmVudHNQbHVnaW47XG59KGV2ZW50X21hbmFnZXJfMS5FdmVudE1hbmFnZXJQbHVnaW4pKTtcbmV4cG9ydHMuRG9tRXZlbnRzUGx1Z2luID0gRG9tRXZlbnRzUGx1Z2luO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG9tX2V2ZW50cy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgZXhjZXB0aW9uc18xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9leGNlcHRpb25zJyk7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZSgnLi4vLi4vLi4vc3JjL2ZhY2FkZS9jb2xsZWN0aW9uJyk7XG5leHBvcnRzLkVWRU5UX01BTkFHRVJfUExVR0lOUyA9IFxuLypAdHMyZGFydF9jb25zdCovIG5ldyBjb3JlXzEuT3BhcXVlVG9rZW4oXCJFdmVudE1hbmFnZXJQbHVnaW5zXCIpO1xudmFyIEV2ZW50TWFuYWdlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXZlbnRNYW5hZ2VyKHBsdWdpbnMsIF96b25lKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX3pvbmUgPSBfem9uZTtcbiAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwLm1hbmFnZXIgPSBfdGhpczsgfSk7XG4gICAgICAgIHRoaXMuX3BsdWdpbnMgPSBjb2xsZWN0aW9uXzEuTGlzdFdyYXBwZXIucmV2ZXJzZWQocGx1Z2lucyk7XG4gICAgfVxuICAgIEV2ZW50TWFuYWdlci5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIHBsdWdpbiA9IHRoaXMuX2ZpbmRQbHVnaW5Gb3IoZXZlbnROYW1lKTtcbiAgICAgICAgcmV0dXJuIHBsdWdpbi5hZGRFdmVudExpc3RlbmVyKGVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgfTtcbiAgICBFdmVudE1hbmFnZXIucHJvdG90eXBlLmFkZEdsb2JhbEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAodGFyZ2V0LCBldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIHBsdWdpbiA9IHRoaXMuX2ZpbmRQbHVnaW5Gb3IoZXZlbnROYW1lKTtcbiAgICAgICAgcmV0dXJuIHBsdWdpbi5hZGRHbG9iYWxFdmVudExpc3RlbmVyKHRhcmdldCwgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9O1xuICAgIEV2ZW50TWFuYWdlci5wcm90b3R5cGUuZ2V0Wm9uZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3pvbmU7IH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIEV2ZW50TWFuYWdlci5wcm90b3R5cGUuX2ZpbmRQbHVnaW5Gb3IgPSBmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgIHZhciBwbHVnaW5zID0gdGhpcy5fcGx1Z2lucztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwbHVnaW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGx1Z2luID0gcGx1Z2luc1tpXTtcbiAgICAgICAgICAgIGlmIChwbHVnaW4uc3VwcG9ydHMoZXZlbnROYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwbHVnaW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnNfMS5CYXNlRXhjZXB0aW9uKFwiTm8gZXZlbnQgbWFuYWdlciBwbHVnaW4gZm91bmQgZm9yIGV2ZW50IFwiICsgZXZlbnROYW1lKTtcbiAgICB9O1xuICAgIEV2ZW50TWFuYWdlci5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICBFdmVudE1hbmFnZXIuY3RvclBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbeyB0eXBlOiBjb3JlXzEuSW5qZWN0LCBhcmdzOiBbZXhwb3J0cy5FVkVOVF9NQU5BR0VSX1BMVUdJTlMsXSB9LF0gfSxcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuTmdab25lLCB9LFxuICAgIF07XG4gICAgcmV0dXJuIEV2ZW50TWFuYWdlcjtcbn0oKSk7XG5leHBvcnRzLkV2ZW50TWFuYWdlciA9IEV2ZW50TWFuYWdlcjtcbnZhciBFdmVudE1hbmFnZXJQbHVnaW4gPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV2ZW50TWFuYWdlclBsdWdpbigpIHtcbiAgICB9XG4gICAgLy8gVGhhdCBpcyBlcXVpdmFsZW50IHRvIGhhdmluZyBzdXBwb3J0aW5nICRldmVudC50YXJnZXRcbiAgICBFdmVudE1hbmFnZXJQbHVnaW4ucHJvdG90eXBlLnN1cHBvcnRzID0gZnVuY3Rpb24gKGV2ZW50TmFtZSkgeyByZXR1cm4gZmFsc2U7IH07XG4gICAgRXZlbnRNYW5hZ2VyUGx1Z2luLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgICB0aHJvdyBcIm5vdCBpbXBsZW1lbnRlZFwiO1xuICAgIH07XG4gICAgRXZlbnRNYW5hZ2VyUGx1Z2luLnByb3RvdHlwZS5hZGRHbG9iYWxFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgICB0aHJvdyBcIm5vdCBpbXBsZW1lbnRlZFwiO1xuICAgIH07XG4gICAgcmV0dXJuIEV2ZW50TWFuYWdlclBsdWdpbjtcbn0oKSk7XG5leHBvcnRzLkV2ZW50TWFuYWdlclBsdWdpbiA9IEV2ZW50TWFuYWdlclBsdWdpbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50X21hbmFnZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBldmVudF9tYW5hZ2VyXzEgPSByZXF1aXJlKCcuL2V2ZW50X21hbmFnZXInKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBfZXZlbnROYW1lcyA9IHtcbiAgICAvLyBwYW5cbiAgICAncGFuJzogdHJ1ZSxcbiAgICAncGFuc3RhcnQnOiB0cnVlLFxuICAgICdwYW5tb3ZlJzogdHJ1ZSxcbiAgICAncGFuZW5kJzogdHJ1ZSxcbiAgICAncGFuY2FuY2VsJzogdHJ1ZSxcbiAgICAncGFubGVmdCc6IHRydWUsXG4gICAgJ3BhbnJpZ2h0JzogdHJ1ZSxcbiAgICAncGFudXAnOiB0cnVlLFxuICAgICdwYW5kb3duJzogdHJ1ZSxcbiAgICAvLyBwaW5jaFxuICAgICdwaW5jaCc6IHRydWUsXG4gICAgJ3BpbmNoc3RhcnQnOiB0cnVlLFxuICAgICdwaW5jaG1vdmUnOiB0cnVlLFxuICAgICdwaW5jaGVuZCc6IHRydWUsXG4gICAgJ3BpbmNoY2FuY2VsJzogdHJ1ZSxcbiAgICAncGluY2hpbic6IHRydWUsXG4gICAgJ3BpbmNob3V0JzogdHJ1ZSxcbiAgICAvLyBwcmVzc1xuICAgICdwcmVzcyc6IHRydWUsXG4gICAgJ3ByZXNzdXAnOiB0cnVlLFxuICAgIC8vIHJvdGF0ZVxuICAgICdyb3RhdGUnOiB0cnVlLFxuICAgICdyb3RhdGVzdGFydCc6IHRydWUsXG4gICAgJ3JvdGF0ZW1vdmUnOiB0cnVlLFxuICAgICdyb3RhdGVlbmQnOiB0cnVlLFxuICAgICdyb3RhdGVjYW5jZWwnOiB0cnVlLFxuICAgIC8vIHN3aXBlXG4gICAgJ3N3aXBlJzogdHJ1ZSxcbiAgICAnc3dpcGVsZWZ0JzogdHJ1ZSxcbiAgICAnc3dpcGVyaWdodCc6IHRydWUsXG4gICAgJ3N3aXBldXAnOiB0cnVlLFxuICAgICdzd2lwZWRvd24nOiB0cnVlLFxuICAgIC8vIHRhcFxuICAgICd0YXAnOiB0cnVlLFxufTtcbnZhciBIYW1tZXJHZXN0dXJlc1BsdWdpbkNvbW1vbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEhhbW1lckdlc3R1cmVzUGx1Z2luQ29tbW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEhhbW1lckdlc3R1cmVzUGx1Z2luQ29tbW9uKCkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgSGFtbWVyR2VzdHVyZXNQbHVnaW5Db21tb24ucHJvdG90eXBlLnN1cHBvcnRzID0gZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgICAgICBldmVudE5hbWUgPSBldmVudE5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb25fMS5TdHJpbmdNYXBXcmFwcGVyLmNvbnRhaW5zKF9ldmVudE5hbWVzLCBldmVudE5hbWUpO1xuICAgIH07XG4gICAgcmV0dXJuIEhhbW1lckdlc3R1cmVzUGx1Z2luQ29tbW9uO1xufShldmVudF9tYW5hZ2VyXzEuRXZlbnRNYW5hZ2VyUGx1Z2luKSk7XG5leHBvcnRzLkhhbW1lckdlc3R1cmVzUGx1Z2luQ29tbW9uID0gSGFtbWVyR2VzdHVyZXNQbHVnaW5Db21tb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oYW1tZXJfY29tbW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGV4Y2VwdGlvbnNfMSA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9mYWNhZGUvZXhjZXB0aW9ucycpO1xudmFyIGhhbW1lcl9jb21tb25fMSA9IHJlcXVpcmUoJy4vaGFtbWVyX2NvbW1vbicpO1xuZXhwb3J0cy5IQU1NRVJfR0VTVFVSRV9DT05GSUcgPSBcbi8qQHRzMmRhcnRfY29uc3QqLyBuZXcgY29yZV8xLk9wYXF1ZVRva2VuKFwiSGFtbWVyR2VzdHVyZUNvbmZpZ1wiKTtcbnZhciBIYW1tZXJHZXN0dXJlQ29uZmlnID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIYW1tZXJHZXN0dXJlQ29uZmlnKCkge1xuICAgICAgICB0aGlzLmV2ZW50cyA9IFtdO1xuICAgICAgICB0aGlzLm92ZXJyaWRlcyA9IHt9O1xuICAgIH1cbiAgICBIYW1tZXJHZXN0dXJlQ29uZmlnLnByb3RvdHlwZS5idWlsZEhhbW1lciA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHZhciBtYyA9IG5ldyBIYW1tZXIoZWxlbWVudCk7XG4gICAgICAgIG1jLmdldCgncGluY2gnKS5zZXQoeyBlbmFibGU6IHRydWUgfSk7XG4gICAgICAgIG1jLmdldCgncm90YXRlJykuc2V0KHsgZW5hYmxlOiB0cnVlIH0pO1xuICAgICAgICBmb3IgKHZhciBldmVudE5hbWUgaW4gdGhpcy5vdmVycmlkZXMpIHtcbiAgICAgICAgICAgIG1jLmdldChldmVudE5hbWUpLnNldCh0aGlzLm92ZXJyaWRlc1tldmVudE5hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWM7XG4gICAgfTtcbiAgICBIYW1tZXJHZXN0dXJlQ29uZmlnLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIHJldHVybiBIYW1tZXJHZXN0dXJlQ29uZmlnO1xufSgpKTtcbmV4cG9ydHMuSGFtbWVyR2VzdHVyZUNvbmZpZyA9IEhhbW1lckdlc3R1cmVDb25maWc7XG52YXIgSGFtbWVyR2VzdHVyZXNQbHVnaW4gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhIYW1tZXJHZXN0dXJlc1BsdWdpbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBIYW1tZXJHZXN0dXJlc1BsdWdpbihfY29uZmlnKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBfY29uZmlnO1xuICAgIH1cbiAgICBIYW1tZXJHZXN0dXJlc1BsdWdpbi5wcm90b3R5cGUuc3VwcG9ydHMgPSBmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgIGlmICghX3N1cGVyLnByb3RvdHlwZS5zdXBwb3J0cy5jYWxsKHRoaXMsIGV2ZW50TmFtZSkgJiYgIXRoaXMuaXNDdXN0b21FdmVudChldmVudE5hbWUpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIWxhbmdfMS5pc1ByZXNlbnQod2luZG93WydIYW1tZXInXSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zXzEuQmFzZUV4Y2VwdGlvbihcIkhhbW1lci5qcyBpcyBub3QgbG9hZGVkLCBjYW4gbm90IGJpbmQgXCIgKyBldmVudE5hbWUgKyBcIiBldmVudFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIEhhbW1lckdlc3R1cmVzUGx1Z2luLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgem9uZSA9IHRoaXMubWFuYWdlci5nZXRab25lKCk7XG4gICAgICAgIGV2ZW50TmFtZSA9IGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXR1cm4gem9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGluZyB0aGUgbWFuYWdlciBiaW5kIGV2ZW50cywgbXVzdCBiZSBkb25lIG91dHNpZGUgb2YgYW5ndWxhclxuICAgICAgICAgICAgdmFyIG1jID0gX3RoaXMuX2NvbmZpZy5idWlsZEhhbW1lcihlbGVtZW50KTtcbiAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uIChldmVudE9iaikgeyB6b25lLnJ1bkd1YXJkZWQoZnVuY3Rpb24gKCkgeyBoYW5kbGVyKGV2ZW50T2JqKTsgfSk7IH07XG4gICAgICAgICAgICBtYy5vbihldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IG1jLm9mZihldmVudE5hbWUsIGNhbGxiYWNrKTsgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBIYW1tZXJHZXN0dXJlc1BsdWdpbi5wcm90b3R5cGUuaXNDdXN0b21FdmVudCA9IGZ1bmN0aW9uIChldmVudE5hbWUpIHsgcmV0dXJuIHRoaXMuX2NvbmZpZy5ldmVudHMuaW5kZXhPZihldmVudE5hbWUpID4gLTE7IH07XG4gICAgSGFtbWVyR2VzdHVyZXNQbHVnaW4uZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuSW5qZWN0YWJsZSB9LFxuICAgIF07XG4gICAgSGFtbWVyR2VzdHVyZXNQbHVnaW4uY3RvclBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHsgdHlwZTogSGFtbWVyR2VzdHVyZUNvbmZpZywgZGVjb3JhdG9yczogW3sgdHlwZTogY29yZV8xLkluamVjdCwgYXJnczogW2V4cG9ydHMuSEFNTUVSX0dFU1RVUkVfQ09ORklHLF0gfSxdIH0sXG4gICAgXTtcbiAgICByZXR1cm4gSGFtbWVyR2VzdHVyZXNQbHVnaW47XG59KGhhbW1lcl9jb21tb25fMS5IYW1tZXJHZXN0dXJlc1BsdWdpbkNvbW1vbikpO1xuZXhwb3J0cy5IYW1tZXJHZXN0dXJlc1BsdWdpbiA9IEhhbW1lckdlc3R1cmVzUGx1Z2luO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGFtbWVyX2dlc3R1cmVzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9mYWNhZGUvbGFuZycpO1xudmFyIGNvbGxlY3Rpb25fMSA9IHJlcXVpcmUoJy4uLy4uLy4uL3NyYy9mYWNhZGUvY29sbGVjdGlvbicpO1xudmFyIGRvbV9hZGFwdGVyXzEgPSByZXF1aXJlKCcuLi9kb21fYWRhcHRlcicpO1xudmFyIGV2ZW50X21hbmFnZXJfMSA9IHJlcXVpcmUoJy4vZXZlbnRfbWFuYWdlcicpO1xudmFyIG1vZGlmaWVyS2V5cyA9IFsnYWx0JywgJ2NvbnRyb2wnLCAnbWV0YScsICdzaGlmdCddO1xudmFyIG1vZGlmaWVyS2V5R2V0dGVycyA9IHtcbiAgICAnYWx0JzogZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiBldmVudC5hbHRLZXk7IH0sXG4gICAgJ2NvbnRyb2wnOiBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIGV2ZW50LmN0cmxLZXk7IH0sXG4gICAgJ21ldGEnOiBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIGV2ZW50Lm1ldGFLZXk7IH0sXG4gICAgJ3NoaWZ0JzogZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiBldmVudC5zaGlmdEtleTsgfVxufTtcbnZhciBLZXlFdmVudHNQbHVnaW4gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhLZXlFdmVudHNQbHVnaW4sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gS2V5RXZlbnRzUGx1Z2luKCkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgS2V5RXZlbnRzUGx1Z2luLnByb3RvdHlwZS5zdXBwb3J0cyA9IGZ1bmN0aW9uIChldmVudE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGxhbmdfMS5pc1ByZXNlbnQoS2V5RXZlbnRzUGx1Z2luLnBhcnNlRXZlbnROYW1lKGV2ZW50TmFtZSkpO1xuICAgIH07XG4gICAgS2V5RXZlbnRzUGx1Z2luLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgICB2YXIgcGFyc2VkRXZlbnQgPSBLZXlFdmVudHNQbHVnaW4ucGFyc2VFdmVudE5hbWUoZXZlbnROYW1lKTtcbiAgICAgICAgdmFyIG91dHNpZGVIYW5kbGVyID0gS2V5RXZlbnRzUGx1Z2luLmV2ZW50Q2FsbGJhY2soZWxlbWVudCwgY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIuZ2V0KHBhcnNlZEV2ZW50LCAnZnVsbEtleScpLCBoYW5kbGVyLCB0aGlzLm1hbmFnZXIuZ2V0Wm9uZSgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFuYWdlci5nZXRab25lKCkucnVuT3V0c2lkZUFuZ3VsYXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRvbV9hZGFwdGVyXzEuZ2V0RE9NKCkub25BbmRDYW5jZWwoZWxlbWVudCwgY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIuZ2V0KHBhcnNlZEV2ZW50LCAnZG9tRXZlbnROYW1lJyksIG91dHNpZGVIYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBLZXlFdmVudHNQbHVnaW4ucGFyc2VFdmVudE5hbWUgPSBmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCcuJyk7XG4gICAgICAgIHZhciBkb21FdmVudE5hbWUgPSBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICBpZiAoKHBhcnRzLmxlbmd0aCA9PT0gMCkgfHxcbiAgICAgICAgICAgICEobGFuZ18xLlN0cmluZ1dyYXBwZXIuZXF1YWxzKGRvbUV2ZW50TmFtZSwgJ2tleWRvd24nKSB8fFxuICAgICAgICAgICAgICAgIGxhbmdfMS5TdHJpbmdXcmFwcGVyLmVxdWFscyhkb21FdmVudE5hbWUsICdrZXl1cCcpKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGtleSA9IEtleUV2ZW50c1BsdWdpbi5fbm9ybWFsaXplS2V5KHBhcnRzLnBvcCgpKTtcbiAgICAgICAgdmFyIGZ1bGxLZXkgPSAnJztcbiAgICAgICAgbW9kaWZpZXJLZXlzLmZvckVhY2goZnVuY3Rpb24gKG1vZGlmaWVyTmFtZSkge1xuICAgICAgICAgICAgaWYgKGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5jb250YWlucyhwYXJ0cywgbW9kaWZpZXJOYW1lKSkge1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25fMS5MaXN0V3JhcHBlci5yZW1vdmUocGFydHMsIG1vZGlmaWVyTmFtZSk7XG4gICAgICAgICAgICAgICAgZnVsbEtleSArPSBtb2RpZmllck5hbWUgKyAnLic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBmdWxsS2V5ICs9IGtleTtcbiAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCAhPSAwIHx8IGtleS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIHJldHVybmluZyBudWxsIGluc3RlYWQgb2YgdGhyb3dpbmcgdG8gbGV0IGFub3RoZXIgcGx1Z2luIHByb2Nlc3MgdGhlIGV2ZW50XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gY29sbGVjdGlvbl8xLlN0cmluZ01hcFdyYXBwZXIuY3JlYXRlKCk7XG4gICAgICAgIGNvbGxlY3Rpb25fMS5TdHJpbmdNYXBXcmFwcGVyLnNldChyZXN1bHQsICdkb21FdmVudE5hbWUnLCBkb21FdmVudE5hbWUpO1xuICAgICAgICBjb2xsZWN0aW9uXzEuU3RyaW5nTWFwV3JhcHBlci5zZXQocmVzdWx0LCAnZnVsbEtleScsIGZ1bGxLZXkpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgS2V5RXZlbnRzUGx1Z2luLmdldEV2ZW50RnVsbEtleSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgZnVsbEtleSA9ICcnO1xuICAgICAgICB2YXIga2V5ID0gZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5nZXRFdmVudEtleShldmVudCk7XG4gICAgICAgIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAobGFuZ18xLlN0cmluZ1dyYXBwZXIuZXF1YWxzKGtleSwgJyAnKSkge1xuICAgICAgICAgICAga2V5ID0gJ3NwYWNlJzsgLy8gZm9yIHJlYWRhYmlsaXR5XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGFuZ18xLlN0cmluZ1dyYXBwZXIuZXF1YWxzKGtleSwgJy4nKSkge1xuICAgICAgICAgICAga2V5ID0gJ2RvdCc7IC8vIGJlY2F1c2UgJy4nIGlzIHVzZWQgYXMgYSBzZXBhcmF0b3IgaW4gZXZlbnQgbmFtZXNcbiAgICAgICAgfVxuICAgICAgICBtb2RpZmllcktleXMuZm9yRWFjaChmdW5jdGlvbiAobW9kaWZpZXJOYW1lKSB7XG4gICAgICAgICAgICBpZiAobW9kaWZpZXJOYW1lICE9IGtleSkge1xuICAgICAgICAgICAgICAgIHZhciBtb2RpZmllckdldHRlciA9IGNvbGxlY3Rpb25fMS5TdHJpbmdNYXBXcmFwcGVyLmdldChtb2RpZmllcktleUdldHRlcnMsIG1vZGlmaWVyTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGlmaWVyR2V0dGVyKGV2ZW50KSkge1xuICAgICAgICAgICAgICAgICAgICBmdWxsS2V5ICs9IG1vZGlmaWVyTmFtZSArICcuJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBmdWxsS2V5ICs9IGtleTtcbiAgICAgICAgcmV0dXJuIGZ1bGxLZXk7XG4gICAgfTtcbiAgICBLZXlFdmVudHNQbHVnaW4uZXZlbnRDYWxsYmFjayA9IGZ1bmN0aW9uIChlbGVtZW50LCBmdWxsS2V5LCBoYW5kbGVyLCB6b25lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuU3RyaW5nV3JhcHBlci5lcXVhbHMoS2V5RXZlbnRzUGx1Z2luLmdldEV2ZW50RnVsbEtleShldmVudCksIGZ1bGxLZXkpKSB7XG4gICAgICAgICAgICAgICAgem9uZS5ydW5HdWFyZGVkKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGhhbmRsZXIoZXZlbnQpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBLZXlFdmVudHNQbHVnaW4uX25vcm1hbGl6ZUtleSA9IGZ1bmN0aW9uIChrZXlOYW1lKSB7XG4gICAgICAgIC8vIFRPRE86IHN3aXRjaCB0byBhIFN0cmluZ01hcCBpZiB0aGUgbWFwcGluZyBncm93cyB0b28gbXVjaFxuICAgICAgICBzd2l0Y2ggKGtleU5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2VzYyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdlc2NhcGUnO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5TmFtZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgS2V5RXZlbnRzUGx1Z2luLmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIEtleUV2ZW50c1BsdWdpbi5jdG9yUGFyYW1ldGVycyA9IFtdO1xuICAgIHJldHVybiBLZXlFdmVudHNQbHVnaW47XG59KGV2ZW50X21hbmFnZXJfMS5FdmVudE1hbmFnZXJQbHVnaW4pKTtcbmV4cG9ydHMuS2V5RXZlbnRzUGx1Z2luID0gS2V5RXZlbnRzUGx1Z2luO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2V5X2V2ZW50cy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBjb2xsZWN0aW9uXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2NvbGxlY3Rpb24nKTtcbnZhciBkb21fYWRhcHRlcl8xID0gcmVxdWlyZSgnLi9kb21fYWRhcHRlcicpO1xudmFyIGRvbV90b2tlbnNfMSA9IHJlcXVpcmUoJy4vZG9tX3Rva2VucycpO1xudmFyIFNoYXJlZFN0eWxlc0hvc3QgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNoYXJlZFN0eWxlc0hvc3QoKSB7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fc3R5bGVzID0gW107XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fc3R5bGVzU2V0ID0gbmV3IFNldCgpO1xuICAgIH1cbiAgICBTaGFyZWRTdHlsZXNIb3N0LnByb3RvdHlwZS5hZGRTdHlsZXMgPSBmdW5jdGlvbiAoc3R5bGVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBhZGRpdGlvbnMgPSBbXTtcbiAgICAgICAgc3R5bGVzLmZvckVhY2goZnVuY3Rpb24gKHN0eWxlKSB7XG4gICAgICAgICAgICBpZiAoIWNvbGxlY3Rpb25fMS5TZXRXcmFwcGVyLmhhcyhfdGhpcy5fc3R5bGVzU2V0LCBzdHlsZSkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fc3R5bGVzU2V0LmFkZChzdHlsZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3N0eWxlcy5wdXNoKHN0eWxlKTtcbiAgICAgICAgICAgICAgICBhZGRpdGlvbnMucHVzaChzdHlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uU3R5bGVzQWRkZWQoYWRkaXRpb25zKTtcbiAgICB9O1xuICAgIFNoYXJlZFN0eWxlc0hvc3QucHJvdG90eXBlLm9uU3R5bGVzQWRkZWQgPSBmdW5jdGlvbiAoYWRkaXRpb25zKSB7IH07XG4gICAgU2hhcmVkU3R5bGVzSG9zdC5wcm90b3R5cGUuZ2V0QWxsU3R5bGVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fc3R5bGVzOyB9O1xuICAgIFNoYXJlZFN0eWxlc0hvc3QuZGVjb3JhdG9ycyA9IFtcbiAgICAgICAgeyB0eXBlOiBjb3JlXzEuSW5qZWN0YWJsZSB9LFxuICAgIF07XG4gICAgU2hhcmVkU3R5bGVzSG9zdC5jdG9yUGFyYW1ldGVycyA9IFtdO1xuICAgIHJldHVybiBTaGFyZWRTdHlsZXNIb3N0O1xufSgpKTtcbmV4cG9ydHMuU2hhcmVkU3R5bGVzSG9zdCA9IFNoYXJlZFN0eWxlc0hvc3Q7XG52YXIgRG9tU2hhcmVkU3R5bGVzSG9zdCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERvbVNoYXJlZFN0eWxlc0hvc3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRG9tU2hhcmVkU3R5bGVzSG9zdChkb2MpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX2hvc3ROb2RlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5faG9zdE5vZGVzLmFkZChkb2MuaGVhZCk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBEb21TaGFyZWRTdHlsZXNIb3N0LnByb3RvdHlwZS5fYWRkU3R5bGVzVG9Ib3N0ID0gZnVuY3Rpb24gKHN0eWxlcywgaG9zdCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gc3R5bGVzW2ldO1xuICAgICAgICAgICAgZG9tX2FkYXB0ZXJfMS5nZXRET00oKS5hcHBlbmRDaGlsZChob3N0LCBkb21fYWRhcHRlcl8xLmdldERPTSgpLmNyZWF0ZVN0eWxlRWxlbWVudChzdHlsZSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEb21TaGFyZWRTdHlsZXNIb3N0LnByb3RvdHlwZS5hZGRIb3N0ID0gZnVuY3Rpb24gKGhvc3ROb2RlKSB7XG4gICAgICAgIHRoaXMuX2FkZFN0eWxlc1RvSG9zdCh0aGlzLl9zdHlsZXMsIGhvc3ROb2RlKTtcbiAgICAgICAgdGhpcy5faG9zdE5vZGVzLmFkZChob3N0Tm9kZSk7XG4gICAgfTtcbiAgICBEb21TaGFyZWRTdHlsZXNIb3N0LnByb3RvdHlwZS5yZW1vdmVIb3N0ID0gZnVuY3Rpb24gKGhvc3ROb2RlKSB7IGNvbGxlY3Rpb25fMS5TZXRXcmFwcGVyLmRlbGV0ZSh0aGlzLl9ob3N0Tm9kZXMsIGhvc3ROb2RlKTsgfTtcbiAgICBEb21TaGFyZWRTdHlsZXNIb3N0LnByb3RvdHlwZS5vblN0eWxlc0FkZGVkID0gZnVuY3Rpb24gKGFkZGl0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9ob3N0Tm9kZXMuZm9yRWFjaChmdW5jdGlvbiAoaG9zdE5vZGUpIHsgX3RoaXMuX2FkZFN0eWxlc1RvSG9zdChhZGRpdGlvbnMsIGhvc3ROb2RlKTsgfSk7XG4gICAgfTtcbiAgICBEb21TaGFyZWRTdHlsZXNIb3N0LmRlY29yYXRvcnMgPSBbXG4gICAgICAgIHsgdHlwZTogY29yZV8xLkluamVjdGFibGUgfSxcbiAgICBdO1xuICAgIERvbVNoYXJlZFN0eWxlc0hvc3QuY3RvclBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbeyB0eXBlOiBjb3JlXzEuSW5qZWN0LCBhcmdzOiBbZG9tX3Rva2Vuc18xLkRPQ1VNRU5ULF0gfSxdIH0sXG4gICAgXTtcbiAgICByZXR1cm4gRG9tU2hhcmVkU3R5bGVzSG9zdDtcbn0oU2hhcmVkU3R5bGVzSG9zdCkpO1xuZXhwb3J0cy5Eb21TaGFyZWRTdHlsZXNIb3N0ID0gRG9tU2hhcmVkU3R5bGVzSG9zdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoYXJlZF9zdHlsZXNfaG9zdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuLi8uLi9zcmMvZmFjYWRlL2xhbmcnKTtcbnZhciBDQU1FTF9DQVNFX1JFR0VYUCA9IC8oW0EtWl0pL2c7XG52YXIgREFTSF9DQVNFX1JFR0VYUCA9IC8tKFthLXpdKS9nO1xuZnVuY3Rpb24gY2FtZWxDYXNlVG9EYXNoQ2FzZShpbnB1dCkge1xuICAgIHJldHVybiBsYW5nXzEuU3RyaW5nV3JhcHBlci5yZXBsYWNlQWxsTWFwcGVkKGlucHV0LCBDQU1FTF9DQVNFX1JFR0VYUCwgZnVuY3Rpb24gKG0pIHsgcmV0dXJuICctJyArIG1bMV0udG9Mb3dlckNhc2UoKTsgfSk7XG59XG5leHBvcnRzLmNhbWVsQ2FzZVRvRGFzaENhc2UgPSBjYW1lbENhc2VUb0Rhc2hDYXNlO1xuZnVuY3Rpb24gZGFzaENhc2VUb0NhbWVsQ2FzZShpbnB1dCkge1xuICAgIHJldHVybiBsYW5nXzEuU3RyaW5nV3JhcHBlci5yZXBsYWNlQWxsTWFwcGVkKGlucHV0LCBEQVNIX0NBU0VfUkVHRVhQLCBmdW5jdGlvbiAobSkgeyByZXR1cm4gbVsxXS50b1VwcGVyQ2FzZSgpOyB9KTtcbn1cbmV4cG9ydHMuZGFzaENhc2VUb0NhbWVsQ2FzZSA9IGRhc2hDYXNlVG9DYW1lbENhc2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG4vKipcbiogQSBiYXNlIGNsYXNzIGZvciB0aGUgV3JhcHBlZEV4Y2VwdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5XG4qIGEgV3JhcHBlZEV4Y2VwdGlvbiBmcm9tIEV4Y2VwdGlvbkhhbmRsZXIgd2l0aG91dCBhZGRpbmcgY2lyY3VsYXJcbiogZGVwZW5kZW5jeS5cbiovXG52YXIgQmFzZVdyYXBwZWRFeGNlcHRpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlV3JhcHBlZEV4Y2VwdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCYXNlV3JhcHBlZEV4Y2VwdGlvbihtZXNzYWdlKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZVdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcIndyYXBwZXJNZXNzYWdlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiAnJzsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJ3cmFwcGVyU3RhY2tcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwib3JpZ2luYWxFeGNlcHRpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwib3JpZ2luYWxTdGFja1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJhc2VXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJjb250ZXh0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZVdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcIm1lc3NhZ2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcnOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQmFzZVdyYXBwZWRFeGNlcHRpb247XG59KEVycm9yKSk7XG5leHBvcnRzLkJhc2VXcmFwcGVkRXhjZXB0aW9uID0gQmFzZVdyYXBwZWRFeGNlcHRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlX3dyYXBwZWRfZXhjZXB0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4qIEpTIHZlcnNpb24gb2YgYnJvd3NlciBBUElzLiBUaGlzIGxpYnJhcnkgY2FuIG9ubHkgcnVuIGluIHRoZSBicm93c2VyLlxuKi9cbnZhciB3aW4gPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cgfHwge307XG5leHBvcnRzLndpbmRvdyA9IHdpbjtcbmV4cG9ydHMuZG9jdW1lbnQgPSB3aW4uZG9jdW1lbnQ7XG5leHBvcnRzLmxvY2F0aW9uID0gd2luLmxvY2F0aW9uO1xuZXhwb3J0cy5nYyA9IHdpblsnZ2MnXSA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdpblsnZ2MnXSgpOyB9IDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfTtcbmV4cG9ydHMucGVyZm9ybWFuY2UgPSB3aW5bJ3BlcmZvcm1hbmNlJ10gPyB3aW5bJ3BlcmZvcm1hbmNlJ10gOiBudWxsO1xuZXhwb3J0cy5FdmVudCA9IHdpblsnRXZlbnQnXTtcbmV4cG9ydHMuTW91c2VFdmVudCA9IHdpblsnTW91c2VFdmVudCddO1xuZXhwb3J0cy5LZXlib2FyZEV2ZW50ID0gd2luWydLZXlib2FyZEV2ZW50J107XG5leHBvcnRzLkV2ZW50VGFyZ2V0ID0gd2luWydFdmVudFRhcmdldCddO1xuZXhwb3J0cy5IaXN0b3J5ID0gd2luWydIaXN0b3J5J107XG5leHBvcnRzLkxvY2F0aW9uID0gd2luWydMb2NhdGlvbiddO1xuZXhwb3J0cy5FdmVudExpc3RlbmVyID0gd2luWydFdmVudExpc3RlbmVyJ107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1icm93c2VyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4vbGFuZycpO1xuZXhwb3J0cy5NYXAgPSBsYW5nXzEuZ2xvYmFsLk1hcDtcbmV4cG9ydHMuU2V0ID0gbGFuZ18xLmdsb2JhbC5TZXQ7XG4vLyBTYWZhcmkgYW5kIEludGVybmV0IEV4cGxvcmVyIGRvIG5vdCBzdXBwb3J0IHRoZSBpdGVyYWJsZSBwYXJhbWV0ZXIgdG8gdGhlXG4vLyBNYXAgY29uc3RydWN0b3IuICBXZSB3b3JrIGFyb3VuZCB0aGF0IGJ5IG1hbnVhbGx5IGFkZGluZyB0aGUgaXRlbXMuXG52YXIgY3JlYXRlTWFwRnJvbVBhaXJzID0gKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAobmV3IGV4cG9ydHMuTWFwKFtbMSwgMl1dKS5zaXplID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlTWFwRnJvbVBhaXJzKHBhaXJzKSB7IHJldHVybiBuZXcgZXhwb3J0cy5NYXAocGFpcnMpOyB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVNYXBBbmRQb3B1bGF0ZUZyb21QYWlycyhwYWlycykge1xuICAgICAgICB2YXIgbWFwID0gbmV3IGV4cG9ydHMuTWFwKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYWlyID0gcGFpcnNbaV07XG4gICAgICAgICAgICBtYXAuc2V0KHBhaXJbMF0sIHBhaXJbMV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgfTtcbn0pKCk7XG52YXIgY3JlYXRlTWFwRnJvbU1hcCA9IChmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKG5ldyBleHBvcnRzLk1hcChuZXcgZXhwb3J0cy5NYXAoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVNYXBGcm9tTWFwKG0pIHsgcmV0dXJuIG5ldyBleHBvcnRzLk1hcChtKTsgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlTWFwQW5kUG9wdWxhdGVGcm9tTWFwKG0pIHtcbiAgICAgICAgdmFyIG1hcCA9IG5ldyBleHBvcnRzLk1hcCgpO1xuICAgICAgICBtLmZvckVhY2goZnVuY3Rpb24gKHYsIGspIHsgbWFwLnNldChrLCB2KTsgfSk7XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgfTtcbn0pKCk7XG52YXIgX2NsZWFyVmFsdWVzID0gKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoKG5ldyBleHBvcnRzLk1hcCgpKS5rZXlzKCkubmV4dCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX2NsZWFyVmFsdWVzKG0pIHtcbiAgICAgICAgICAgIHZhciBrZXlJdGVyYXRvciA9IG0ua2V5cygpO1xuICAgICAgICAgICAgdmFyIGs7XG4gICAgICAgICAgICB3aGlsZSAoISgoayA9IGtleUl0ZXJhdG9yLm5leHQoKSkuZG9uZSkpIHtcbiAgICAgICAgICAgICAgICBtLnNldChrLnZhbHVlLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfY2xlYXJWYWx1ZXNXaXRoRm9yZUVhY2gobSkge1xuICAgICAgICAgICAgbS5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrKSB7IG0uc2V0KGssIG51bGwpOyB9KTtcbiAgICAgICAgfTtcbiAgICB9XG59KSgpO1xuLy8gU2FmYXJpIGRvZXNuJ3QgaW1wbGVtZW50IE1hcEl0ZXJhdG9yLm5leHQoKSwgd2hpY2ggaXMgdXNlZCBpcyBUcmFjZXVyJ3MgcG9seWZpbGwgb2YgQXJyYXkuZnJvbVxuLy8gVE9ETyhtbGF2YWwpOiByZW1vdmUgdGhlIHdvcmsgYXJvdW5kIG9uY2Ugd2UgaGF2ZSBhIHdvcmtpbmcgcG9seWZpbGwgb2YgQXJyYXkuZnJvbVxudmFyIF9hcnJheUZyb21NYXAgPSAoZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICgobmV3IGV4cG9ydHMuTWFwKCkpLnZhbHVlcygpLm5leHQpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVBcnJheUZyb21NYXAobSwgZ2V0VmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFZhbHVlcyA/IEFycmF5LmZyb20obS52YWx1ZXMoKSkgOiBBcnJheS5mcm9tKG0ua2V5cygpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUFycmF5RnJvbU1hcFdpdGhGb3JlYWNoKG0sIGdldFZhbHVlcykge1xuICAgICAgICB2YXIgcmVzID0gTGlzdFdyYXBwZXIuY3JlYXRlRml4ZWRTaXplKG0uc2l6ZSksIGkgPSAwO1xuICAgICAgICBtLmZvckVhY2goZnVuY3Rpb24gKHYsIGspIHtcbiAgICAgICAgICAgIHJlc1tpXSA9IGdldFZhbHVlcyA/IHYgOiBrO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xufSkoKTtcbnZhciBNYXBXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNYXBXcmFwcGVyKCkge1xuICAgIH1cbiAgICBNYXBXcmFwcGVyLmNsb25lID0gZnVuY3Rpb24gKG0pIHsgcmV0dXJuIGNyZWF0ZU1hcEZyb21NYXAobSk7IH07XG4gICAgTWFwV3JhcHBlci5jcmVhdGVGcm9tU3RyaW5nTWFwID0gZnVuY3Rpb24gKHN0cmluZ01hcCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IGV4cG9ydHMuTWFwKCk7XG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gc3RyaW5nTWFwKSB7XG4gICAgICAgICAgICByZXN1bHQuc2V0KHByb3AsIHN0cmluZ01hcFtwcm9wXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIE1hcFdyYXBwZXIudG9TdHJpbmdNYXAgPSBmdW5jdGlvbiAobSkge1xuICAgICAgICB2YXIgciA9IHt9O1xuICAgICAgICBtLmZvckVhY2goZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIHJba10gPSB2OyB9KTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcbiAgICBNYXBXcmFwcGVyLmNyZWF0ZUZyb21QYWlycyA9IGZ1bmN0aW9uIChwYWlycykgeyByZXR1cm4gY3JlYXRlTWFwRnJvbVBhaXJzKHBhaXJzKTsgfTtcbiAgICBNYXBXcmFwcGVyLmNsZWFyVmFsdWVzID0gZnVuY3Rpb24gKG0pIHsgX2NsZWFyVmFsdWVzKG0pOyB9O1xuICAgIE1hcFdyYXBwZXIuaXRlcmFibGUgPSBmdW5jdGlvbiAobSkgeyByZXR1cm4gbTsgfTtcbiAgICBNYXBXcmFwcGVyLmtleXMgPSBmdW5jdGlvbiAobSkgeyByZXR1cm4gX2FycmF5RnJvbU1hcChtLCBmYWxzZSk7IH07XG4gICAgTWFwV3JhcHBlci52YWx1ZXMgPSBmdW5jdGlvbiAobSkgeyByZXR1cm4gX2FycmF5RnJvbU1hcChtLCB0cnVlKTsgfTtcbiAgICByZXR1cm4gTWFwV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLk1hcFdyYXBwZXIgPSBNYXBXcmFwcGVyO1xuLyoqXG4gKiBXcmFwcyBKYXZhc2NyaXB0IE9iamVjdHNcbiAqL1xudmFyIFN0cmluZ01hcFdyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0cmluZ01hcFdyYXBwZXIoKSB7XG4gICAgfVxuICAgIFN0cmluZ01hcFdyYXBwZXIuY3JlYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBOb3RlOiBXZSBhcmUgbm90IHVzaW5nIE9iamVjdC5jcmVhdGUobnVsbCkgaGVyZSBkdWUgdG9cbiAgICAgICAgLy8gcGVyZm9ybWFuY2UhXG4gICAgICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL25nMi1vYmplY3QtY3JlYXRlLW51bGxcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH07XG4gICAgU3RyaW5nTWFwV3JhcHBlci5jb250YWlucyA9IGZ1bmN0aW9uIChtYXAsIGtleSkge1xuICAgICAgICByZXR1cm4gbWFwLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgfTtcbiAgICBTdHJpbmdNYXBXcmFwcGVyLmdldCA9IGZ1bmN0aW9uIChtYXAsIGtleSkge1xuICAgICAgICByZXR1cm4gbWFwLmhhc093blByb3BlcnR5KGtleSkgPyBtYXBba2V5XSA6IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFN0cmluZ01hcFdyYXBwZXIuc2V0ID0gZnVuY3Rpb24gKG1hcCwga2V5LCB2YWx1ZSkgeyBtYXBba2V5XSA9IHZhbHVlOyB9O1xuICAgIFN0cmluZ01hcFdyYXBwZXIua2V5cyA9IGZ1bmN0aW9uIChtYXApIHsgcmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7IH07XG4gICAgU3RyaW5nTWFwV3JhcHBlci52YWx1ZXMgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhtYXApLnJlZHVjZShmdW5jdGlvbiAociwgYSkge1xuICAgICAgICAgICAgci5wdXNoKG1hcFthXSk7XG4gICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgfSwgW10pO1xuICAgIH07XG4gICAgU3RyaW5nTWFwV3JhcHBlci5pc0VtcHR5ID0gZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICBmb3IgKHZhciBwcm9wIGluIG1hcCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgU3RyaW5nTWFwV3JhcHBlci5kZWxldGUgPSBmdW5jdGlvbiAobWFwLCBrZXkpIHsgZGVsZXRlIG1hcFtrZXldOyB9O1xuICAgIFN0cmluZ01hcFdyYXBwZXIuZm9yRWFjaCA9IGZ1bmN0aW9uIChtYXAsIGNhbGxiYWNrKSB7XG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gbWFwKSB7XG4gICAgICAgICAgICBpZiAobWFwLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobWFwW3Byb3BdLCBwcm9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RyaW5nTWFwV3JhcHBlci5tZXJnZSA9IGZ1bmN0aW9uIChtMSwgbTIpIHtcbiAgICAgICAgdmFyIG0gPSB7fTtcbiAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBtMSkge1xuICAgICAgICAgICAgaWYgKG0xLmhhc093blByb3BlcnR5KGF0dHIpKSB7XG4gICAgICAgICAgICAgICAgbVthdHRyXSA9IG0xW2F0dHJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGF0dHIgaW4gbTIpIHtcbiAgICAgICAgICAgIGlmIChtMi5oYXNPd25Qcm9wZXJ0eShhdHRyKSkge1xuICAgICAgICAgICAgICAgIG1bYXR0cl0gPSBtMlthdHRyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbTtcbiAgICB9O1xuICAgIFN0cmluZ01hcFdyYXBwZXIuZXF1YWxzID0gZnVuY3Rpb24gKG0xLCBtMikge1xuICAgICAgICB2YXIgazEgPSBPYmplY3Qua2V5cyhtMSk7XG4gICAgICAgIHZhciBrMiA9IE9iamVjdC5rZXlzKG0yKTtcbiAgICAgICAgaWYgKGsxLmxlbmd0aCAhPSBrMi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIga2V5O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGsxLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBrZXkgPSBrMVtpXTtcbiAgICAgICAgICAgIGlmIChtMVtrZXldICE9PSBtMltrZXldKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIFN0cmluZ01hcFdyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5TdHJpbmdNYXBXcmFwcGVyID0gU3RyaW5nTWFwV3JhcHBlcjtcbnZhciBMaXN0V3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGlzdFdyYXBwZXIoKSB7XG4gICAgfVxuICAgIC8vIEpTIGhhcyBubyB3YXkgdG8gZXhwcmVzcyBhIHN0YXRpY2FsbHkgZml4ZWQgc2l6ZSBsaXN0LCBidXQgZGFydCBkb2VzIHNvIHdlXG4gICAgLy8ga2VlcCBib3RoIG1ldGhvZHMuXG4gICAgTGlzdFdyYXBwZXIuY3JlYXRlRml4ZWRTaXplID0gZnVuY3Rpb24gKHNpemUpIHsgcmV0dXJuIG5ldyBBcnJheShzaXplKTsgfTtcbiAgICBMaXN0V3JhcHBlci5jcmVhdGVHcm93YWJsZVNpemUgPSBmdW5jdGlvbiAoc2l6ZSkgeyByZXR1cm4gbmV3IEFycmF5KHNpemUpOyB9O1xuICAgIExpc3RXcmFwcGVyLmNsb25lID0gZnVuY3Rpb24gKGFycmF5KSB7IHJldHVybiBhcnJheS5zbGljZSgwKTsgfTtcbiAgICBMaXN0V3JhcHBlci5mb3JFYWNoV2l0aEluZGV4ID0gZnVuY3Rpb24gKGFycmF5LCBmbikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmbihhcnJheVtpXSwgaSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLmZpcnN0ID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgIGlmICghYXJyYXkpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIGFycmF5WzBdO1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIubGFzdCA9IGZ1bmN0aW9uIChhcnJheSkge1xuICAgICAgICBpZiAoIWFycmF5IHx8IGFycmF5Lmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLmluZGV4T2YgPSBmdW5jdGlvbiAoYXJyYXksIHZhbHVlLCBzdGFydEluZGV4KSB7XG4gICAgICAgIGlmIChzdGFydEluZGV4ID09PSB2b2lkIDApIHsgc3RhcnRJbmRleCA9IDA7IH1cbiAgICAgICAgcmV0dXJuIGFycmF5LmluZGV4T2YodmFsdWUsIHN0YXJ0SW5kZXgpO1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuY29udGFpbnMgPSBmdW5jdGlvbiAobGlzdCwgZWwpIHsgcmV0dXJuIGxpc3QuaW5kZXhPZihlbCkgIT09IC0xOyB9O1xuICAgIExpc3RXcmFwcGVyLnJldmVyc2VkID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgIHZhciBhID0gTGlzdFdyYXBwZXIuY2xvbmUoYXJyYXkpO1xuICAgICAgICByZXR1cm4gYS5yZXZlcnNlKCk7XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5jb25jYXQgPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5jb25jYXQoYik7IH07XG4gICAgTGlzdFdyYXBwZXIuaW5zZXJ0ID0gZnVuY3Rpb24gKGxpc3QsIGluZGV4LCB2YWx1ZSkgeyBsaXN0LnNwbGljZShpbmRleCwgMCwgdmFsdWUpOyB9O1xuICAgIExpc3RXcmFwcGVyLnJlbW92ZUF0ID0gZnVuY3Rpb24gKGxpc3QsIGluZGV4KSB7XG4gICAgICAgIHZhciByZXMgPSBsaXN0W2luZGV4XTtcbiAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIucmVtb3ZlQWxsID0gZnVuY3Rpb24gKGxpc3QsIGl0ZW1zKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGxpc3QuaW5kZXhPZihpdGVtc1tpXSk7XG4gICAgICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLnJlbW92ZSA9IGZ1bmN0aW9uIChsaXN0LCBlbCkge1xuICAgICAgICB2YXIgaW5kZXggPSBsaXN0LmluZGV4T2YoZWwpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgTGlzdFdyYXBwZXIuY2xlYXIgPSBmdW5jdGlvbiAobGlzdCkgeyBsaXN0Lmxlbmd0aCA9IDA7IH07XG4gICAgTGlzdFdyYXBwZXIuaXNFbXB0eSA9IGZ1bmN0aW9uIChsaXN0KSB7IHJldHVybiBsaXN0Lmxlbmd0aCA9PSAwOyB9O1xuICAgIExpc3RXcmFwcGVyLmZpbGwgPSBmdW5jdGlvbiAobGlzdCwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgaWYgKHN0YXJ0ID09PSB2b2lkIDApIHsgc3RhcnQgPSAwOyB9XG4gICAgICAgIGlmIChlbmQgPT09IHZvaWQgMCkgeyBlbmQgPSBudWxsOyB9XG4gICAgICAgIGxpc3QuZmlsbCh2YWx1ZSwgc3RhcnQsIGVuZCA9PT0gbnVsbCA/IGxpc3QubGVuZ3RoIDogZW5kKTtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLmVxdWFscyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoYVtpXSAhPT0gYltpXSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5zbGljZSA9IGZ1bmN0aW9uIChsLCBmcm9tLCB0bykge1xuICAgICAgICBpZiAoZnJvbSA9PT0gdm9pZCAwKSB7IGZyb20gPSAwOyB9XG4gICAgICAgIGlmICh0byA9PT0gdm9pZCAwKSB7IHRvID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gbC5zbGljZShmcm9tLCB0byA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IHRvKTtcbiAgICB9O1xuICAgIExpc3RXcmFwcGVyLnNwbGljZSA9IGZ1bmN0aW9uIChsLCBmcm9tLCBsZW5ndGgpIHsgcmV0dXJuIGwuc3BsaWNlKGZyb20sIGxlbmd0aCk7IH07XG4gICAgTGlzdFdyYXBwZXIuc29ydCA9IGZ1bmN0aW9uIChsLCBjb21wYXJlRm4pIHtcbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQoY29tcGFyZUZuKSkge1xuICAgICAgICAgICAgbC5zb3J0KGNvbXBhcmVGbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsLnNvcnQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGlzdFdyYXBwZXIudG9TdHJpbmcgPSBmdW5jdGlvbiAobCkgeyByZXR1cm4gbC50b1N0cmluZygpOyB9O1xuICAgIExpc3RXcmFwcGVyLnRvSlNPTiA9IGZ1bmN0aW9uIChsKSB7IHJldHVybiBKU09OLnN0cmluZ2lmeShsKTsgfTtcbiAgICBMaXN0V3JhcHBlci5tYXhpbXVtID0gZnVuY3Rpb24gKGxpc3QsIHByZWRpY2F0ZSkge1xuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvbHV0aW9uID0gbnVsbDtcbiAgICAgICAgdmFyIG1heFZhbHVlID0gLUluZmluaXR5O1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGlzdC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHZhciBjYW5kaWRhdGUgPSBsaXN0W2luZGV4XTtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNCbGFuayhjYW5kaWRhdGUpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2FuZGlkYXRlVmFsdWUgPSBwcmVkaWNhdGUoY2FuZGlkYXRlKTtcbiAgICAgICAgICAgIGlmIChjYW5kaWRhdGVWYWx1ZSA+IG1heFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc29sdXRpb24gPSBjYW5kaWRhdGU7XG4gICAgICAgICAgICAgICAgbWF4VmFsdWUgPSBjYW5kaWRhdGVWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc29sdXRpb247XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5mbGF0dGVuID0gZnVuY3Rpb24gKGxpc3QpIHtcbiAgICAgICAgdmFyIHRhcmdldCA9IFtdO1xuICAgICAgICBfZmxhdHRlbkFycmF5KGxpc3QsIHRhcmdldCk7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfTtcbiAgICBMaXN0V3JhcHBlci5hZGRBbGwgPSBmdW5jdGlvbiAobGlzdCwgc291cmNlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsaXN0LnB1c2goc291cmNlW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIExpc3RXcmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuTGlzdFdyYXBwZXIgPSBMaXN0V3JhcHBlcjtcbmZ1bmN0aW9uIF9mbGF0dGVuQXJyYXkoc291cmNlLCB0YXJnZXQpIHtcbiAgICBpZiAobGFuZ18xLmlzUHJlc2VudChzb3VyY2UpKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHNvdXJjZVtpXTtcbiAgICAgICAgICAgIGlmIChsYW5nXzEuaXNBcnJheShpdGVtKSkge1xuICAgICAgICAgICAgICAgIF9mbGF0dGVuQXJyYXkoaXRlbSwgdGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG5mdW5jdGlvbiBpc0xpc3RMaWtlSXRlcmFibGUob2JqKSB7XG4gICAgaWYgKCFsYW5nXzEuaXNKc09iamVjdChvYmopKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGxhbmdfMS5pc0FycmF5KG9iaikgfHxcbiAgICAgICAgKCEob2JqIGluc3RhbmNlb2YgZXhwb3J0cy5NYXApICYmXG4gICAgICAgICAgICBsYW5nXzEuZ2V0U3ltYm9sSXRlcmF0b3IoKSBpbiBvYmopOyAvLyBKUyBJdGVyYWJsZSBoYXZlIGEgU3ltYm9sLml0ZXJhdG9yIHByb3Bcbn1cbmV4cG9ydHMuaXNMaXN0TGlrZUl0ZXJhYmxlID0gaXNMaXN0TGlrZUl0ZXJhYmxlO1xuZnVuY3Rpb24gYXJlSXRlcmFibGVzRXF1YWwoYSwgYiwgY29tcGFyYXRvcikge1xuICAgIHZhciBpdGVyYXRvcjEgPSBhW2xhbmdfMS5nZXRTeW1ib2xJdGVyYXRvcigpXSgpO1xuICAgIHZhciBpdGVyYXRvcjIgPSBiW2xhbmdfMS5nZXRTeW1ib2xJdGVyYXRvcigpXSgpO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBpdGVtMSA9IGl0ZXJhdG9yMS5uZXh0KCk7XG4gICAgICAgIHZhciBpdGVtMiA9IGl0ZXJhdG9yMi5uZXh0KCk7XG4gICAgICAgIGlmIChpdGVtMS5kb25lICYmIGl0ZW0yLmRvbmUpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGl0ZW0xLmRvbmUgfHwgaXRlbTIuZG9uZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFjb21wYXJhdG9yKGl0ZW0xLnZhbHVlLCBpdGVtMi52YWx1ZSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0cy5hcmVJdGVyYWJsZXNFcXVhbCA9IGFyZUl0ZXJhYmxlc0VxdWFsO1xuZnVuY3Rpb24gaXRlcmF0ZUxpc3RMaWtlKG9iaiwgZm4pIHtcbiAgICBpZiAobGFuZ18xLmlzQXJyYXkob2JqKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm4ob2JqW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gb2JqW2xhbmdfMS5nZXRTeW1ib2xJdGVyYXRvcigpXSgpO1xuICAgICAgICB2YXIgaXRlbTtcbiAgICAgICAgd2hpbGUgKCEoKGl0ZW0gPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpKSB7XG4gICAgICAgICAgICBmbihpdGVtLnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuaXRlcmF0ZUxpc3RMaWtlID0gaXRlcmF0ZUxpc3RMaWtlO1xuLy8gU2FmYXJpIGFuZCBJbnRlcm5ldCBFeHBsb3JlciBkbyBub3Qgc3VwcG9ydCB0aGUgaXRlcmFibGUgcGFyYW1ldGVyIHRvIHRoZVxuLy8gU2V0IGNvbnN0cnVjdG9yLiAgV2Ugd29yayBhcm91bmQgdGhhdCBieSBtYW51YWxseSBhZGRpbmcgdGhlIGl0ZW1zLlxudmFyIGNyZWF0ZVNldEZyb21MaXN0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGVzdCA9IG5ldyBleHBvcnRzLlNldChbMSwgMiwgM10pO1xuICAgIGlmICh0ZXN0LnNpemUgPT09IDMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZVNldEZyb21MaXN0KGxzdCkgeyByZXR1cm4gbmV3IGV4cG9ydHMuU2V0KGxzdCk7IH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlU2V0QW5kUG9wdWxhdGVGcm9tTGlzdChsc3QpIHtcbiAgICAgICAgICAgIHZhciByZXMgPSBuZXcgZXhwb3J0cy5TZXQobHN0KTtcbiAgICAgICAgICAgIGlmIChyZXMuc2l6ZSAhPT0gbHN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbHN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5hZGQobHN0W2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9O1xuICAgIH1cbn0pKCk7XG52YXIgU2V0V3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2V0V3JhcHBlcigpIHtcbiAgICB9XG4gICAgU2V0V3JhcHBlci5jcmVhdGVGcm9tTGlzdCA9IGZ1bmN0aW9uIChsc3QpIHsgcmV0dXJuIGNyZWF0ZVNldEZyb21MaXN0KGxzdCk7IH07XG4gICAgU2V0V3JhcHBlci5oYXMgPSBmdW5jdGlvbiAocywga2V5KSB7IHJldHVybiBzLmhhcyhrZXkpOyB9O1xuICAgIFNldFdyYXBwZXIuZGVsZXRlID0gZnVuY3Rpb24gKG0sIGspIHsgbS5kZWxldGUoayk7IH07XG4gICAgcmV0dXJuIFNldFdyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5TZXRXcmFwcGVyID0gU2V0V3JhcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbGxlY3Rpb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi9sYW5nJyk7XG52YXIgYmFzZV93cmFwcGVkX2V4Y2VwdGlvbl8xID0gcmVxdWlyZSgnLi9iYXNlX3dyYXBwZWRfZXhjZXB0aW9uJyk7XG52YXIgY29sbGVjdGlvbl8xID0gcmVxdWlyZSgnLi9jb2xsZWN0aW9uJyk7XG52YXIgX0FycmF5TG9nZ2VyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBfQXJyYXlMb2dnZXIoKSB7XG4gICAgICAgIHRoaXMucmVzID0gW107XG4gICAgfVxuICAgIF9BcnJheUxvZ2dlci5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKHMpIHsgdGhpcy5yZXMucHVzaChzKTsgfTtcbiAgICBfQXJyYXlMb2dnZXIucHJvdG90eXBlLmxvZ0Vycm9yID0gZnVuY3Rpb24gKHMpIHsgdGhpcy5yZXMucHVzaChzKTsgfTtcbiAgICBfQXJyYXlMb2dnZXIucHJvdG90eXBlLmxvZ0dyb3VwID0gZnVuY3Rpb24gKHMpIHsgdGhpcy5yZXMucHVzaChzKTsgfTtcbiAgICBfQXJyYXlMb2dnZXIucHJvdG90eXBlLmxvZ0dyb3VwRW5kID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIDtcbiAgICByZXR1cm4gX0FycmF5TG9nZ2VyO1xufSgpKTtcbi8qKlxuICogUHJvdmlkZXMgYSBob29rIGZvciBjZW50cmFsaXplZCBleGNlcHRpb24gaGFuZGxpbmcuXG4gKlxuICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgYEV4Y2VwdGlvbkhhbmRsZXJgIHByaW50cyBlcnJvciBtZXNzYWdlcyB0byB0aGUgYENvbnNvbGVgLiBUb1xuICogaW50ZXJjZXB0IGVycm9yIGhhbmRsaW5nLFxuICogd3JpdGUgYSBjdXN0b20gZXhjZXB0aW9uIGhhbmRsZXIgdGhhdCByZXBsYWNlcyB0aGlzIGRlZmF1bHQgYXMgYXBwcm9wcmlhdGUgZm9yIHlvdXIgYXBwLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICpcbiAqIGNsYXNzIE15RXhjZXB0aW9uSGFuZGxlciBpbXBsZW1lbnRzIEV4Y2VwdGlvbkhhbmRsZXIge1xuICogICBjYWxsKGVycm9yLCBzdGFja1RyYWNlID0gbnVsbCwgcmVhc29uID0gbnVsbCkge1xuICogICAgIC8vIGRvIHNvbWV0aGluZyB3aXRoIHRoZSBleGNlcHRpb25cbiAqICAgfVxuICogfVxuICpcbiAqIGJvb3RzdHJhcChNeUFwcCwgW3Byb3ZpZGUoRXhjZXB0aW9uSGFuZGxlciwge3VzZUNsYXNzOiBNeUV4Y2VwdGlvbkhhbmRsZXJ9KV0pXG4gKlxuICogYGBgXG4gKi9cbnZhciBFeGNlcHRpb25IYW5kbGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFeGNlcHRpb25IYW5kbGVyKF9sb2dnZXIsIF9yZXRocm93RXhjZXB0aW9uKSB7XG4gICAgICAgIGlmIChfcmV0aHJvd0V4Y2VwdGlvbiA9PT0gdm9pZCAwKSB7IF9yZXRocm93RXhjZXB0aW9uID0gdHJ1ZTsgfVxuICAgICAgICB0aGlzLl9sb2dnZXIgPSBfbG9nZ2VyO1xuICAgICAgICB0aGlzLl9yZXRocm93RXhjZXB0aW9uID0gX3JldGhyb3dFeGNlcHRpb247XG4gICAgfVxuICAgIEV4Y2VwdGlvbkhhbmRsZXIuZXhjZXB0aW9uVG9TdHJpbmcgPSBmdW5jdGlvbiAoZXhjZXB0aW9uLCBzdGFja1RyYWNlLCByZWFzb24pIHtcbiAgICAgICAgaWYgKHN0YWNrVHJhY2UgPT09IHZvaWQgMCkgeyBzdGFja1RyYWNlID0gbnVsbDsgfVxuICAgICAgICBpZiAocmVhc29uID09PSB2b2lkIDApIHsgcmVhc29uID0gbnVsbDsgfVxuICAgICAgICB2YXIgbCA9IG5ldyBfQXJyYXlMb2dnZXIoKTtcbiAgICAgICAgdmFyIGUgPSBuZXcgRXhjZXB0aW9uSGFuZGxlcihsLCBmYWxzZSk7XG4gICAgICAgIGUuY2FsbChleGNlcHRpb24sIHN0YWNrVHJhY2UsIHJlYXNvbik7XG4gICAgICAgIHJldHVybiBsLnJlcy5qb2luKFwiXFxuXCIpO1xuICAgIH07XG4gICAgRXhjZXB0aW9uSGFuZGxlci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChleGNlcHRpb24sIHN0YWNrVHJhY2UsIHJlYXNvbikge1xuICAgICAgICBpZiAoc3RhY2tUcmFjZSA9PT0gdm9pZCAwKSB7IHN0YWNrVHJhY2UgPSBudWxsOyB9XG4gICAgICAgIGlmIChyZWFzb24gPT09IHZvaWQgMCkgeyByZWFzb24gPSBudWxsOyB9XG4gICAgICAgIHZhciBvcmlnaW5hbEV4Y2VwdGlvbiA9IHRoaXMuX2ZpbmRPcmlnaW5hbEV4Y2VwdGlvbihleGNlcHRpb24pO1xuICAgICAgICB2YXIgb3JpZ2luYWxTdGFjayA9IHRoaXMuX2ZpbmRPcmlnaW5hbFN0YWNrKGV4Y2VwdGlvbik7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5fZmluZENvbnRleHQoZXhjZXB0aW9uKTtcbiAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZ0dyb3VwKFwiRVhDRVBUSU9OOiBcIiArIHRoaXMuX2V4dHJhY3RNZXNzYWdlKGV4Y2VwdGlvbikpO1xuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChzdGFja1RyYWNlKSAmJiBsYW5nXzEuaXNCbGFuayhvcmlnaW5hbFN0YWNrKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZ0Vycm9yKFwiU1RBQ0tUUkFDRTpcIik7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nRXJyb3IodGhpcy5fbG9uZ1N0YWNrVHJhY2Uoc3RhY2tUcmFjZSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KHJlYXNvbikpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2dFcnJvcihcIlJFQVNPTjogXCIgKyByZWFzb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KG9yaWdpbmFsRXhjZXB0aW9uKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZ0Vycm9yKFwiT1JJR0lOQUwgRVhDRVBUSU9OOiBcIiArIHRoaXMuX2V4dHJhY3RNZXNzYWdlKG9yaWdpbmFsRXhjZXB0aW9uKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmdfMS5pc1ByZXNlbnQob3JpZ2luYWxTdGFjaykpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlci5sb2dFcnJvcihcIk9SSUdJTkFMIFNUQUNLVFJBQ0U6XCIpO1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZ0Vycm9yKHRoaXMuX2xvbmdTdGFja1RyYWNlKG9yaWdpbmFsU3RhY2spKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ18xLmlzUHJlc2VudChjb250ZXh0KSkge1xuICAgICAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZ0Vycm9yKFwiRVJST1IgQ09OVEVYVDpcIik7XG4gICAgICAgICAgICB0aGlzLl9sb2dnZXIubG9nRXJyb3IoY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbG9nZ2VyLmxvZ0dyb3VwRW5kKCk7XG4gICAgICAgIC8vIFdlIHJldGhyb3cgZXhjZXB0aW9ucywgc28gb3BlcmF0aW9ucyBsaWtlICdib290c3RyYXAnIHdpbGwgcmVzdWx0IGluIGFuIGVycm9yXG4gICAgICAgIC8vIHdoZW4gYW4gZXhjZXB0aW9uIGhhcHBlbnMuIElmIHdlIGRvIG5vdCByZXRocm93LCBib290c3RyYXAgd2lsbCBhbHdheXMgc3VjY2VlZC5cbiAgICAgICAgaWYgKHRoaXMuX3JldGhyb3dFeGNlcHRpb24pXG4gICAgICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRXhjZXB0aW9uSGFuZGxlci5wcm90b3R5cGUuX2V4dHJhY3RNZXNzYWdlID0gZnVuY3Rpb24gKGV4Y2VwdGlvbikge1xuICAgICAgICByZXR1cm4gZXhjZXB0aW9uIGluc3RhbmNlb2YgYmFzZV93cmFwcGVkX2V4Y2VwdGlvbl8xLkJhc2VXcmFwcGVkRXhjZXB0aW9uID8gZXhjZXB0aW9uLndyYXBwZXJNZXNzYWdlIDpcbiAgICAgICAgICAgIGV4Y2VwdGlvbi50b1N0cmluZygpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIEV4Y2VwdGlvbkhhbmRsZXIucHJvdG90eXBlLl9sb25nU3RhY2tUcmFjZSA9IGZ1bmN0aW9uIChzdGFja1RyYWNlKSB7XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uXzEuaXNMaXN0TGlrZUl0ZXJhYmxlKHN0YWNrVHJhY2UpID8gc3RhY2tUcmFjZS5qb2luKFwiXFxuXFxuLS0tLS1hc3luYyBnYXAtLS0tLVxcblwiKSA6XG4gICAgICAgICAgICBzdGFja1RyYWNlLnRvU3RyaW5nKCk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRXhjZXB0aW9uSGFuZGxlci5wcm90b3R5cGUuX2ZpbmRDb250ZXh0ID0gZnVuY3Rpb24gKGV4Y2VwdGlvbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCEoZXhjZXB0aW9uIGluc3RhbmNlb2YgYmFzZV93cmFwcGVkX2V4Y2VwdGlvbl8xLkJhc2VXcmFwcGVkRXhjZXB0aW9uKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBsYW5nXzEuaXNQcmVzZW50KGV4Y2VwdGlvbi5jb250ZXh0KSA/IGV4Y2VwdGlvbi5jb250ZXh0IDpcbiAgICAgICAgICAgICAgICB0aGlzLl9maW5kQ29udGV4dChleGNlcHRpb24ub3JpZ2luYWxFeGNlcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBleGNlcHRpb24uY29udGV4dCBjYW4gdGhyb3cgYW4gZXhjZXB0aW9uLiBpZiBpdCBoYXBwZW5zLCB3ZSBpZ25vcmUgdGhlIGNvbnRleHQuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIEV4Y2VwdGlvbkhhbmRsZXIucHJvdG90eXBlLl9maW5kT3JpZ2luYWxFeGNlcHRpb24gPSBmdW5jdGlvbiAoZXhjZXB0aW9uKSB7XG4gICAgICAgIGlmICghKGV4Y2VwdGlvbiBpbnN0YW5jZW9mIGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMS5CYXNlV3JhcHBlZEV4Y2VwdGlvbikpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgdmFyIGUgPSBleGNlcHRpb24ub3JpZ2luYWxFeGNlcHRpb247XG4gICAgICAgIHdoaWxlIChlIGluc3RhbmNlb2YgYmFzZV93cmFwcGVkX2V4Y2VwdGlvbl8xLkJhc2VXcmFwcGVkRXhjZXB0aW9uICYmIGxhbmdfMS5pc1ByZXNlbnQoZS5vcmlnaW5hbEV4Y2VwdGlvbikpIHtcbiAgICAgICAgICAgIGUgPSBlLm9yaWdpbmFsRXhjZXB0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIEV4Y2VwdGlvbkhhbmRsZXIucHJvdG90eXBlLl9maW5kT3JpZ2luYWxTdGFjayA9IGZ1bmN0aW9uIChleGNlcHRpb24pIHtcbiAgICAgICAgaWYgKCEoZXhjZXB0aW9uIGluc3RhbmNlb2YgYmFzZV93cmFwcGVkX2V4Y2VwdGlvbl8xLkJhc2VXcmFwcGVkRXhjZXB0aW9uKSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB2YXIgZSA9IGV4Y2VwdGlvbjtcbiAgICAgICAgdmFyIHN0YWNrID0gZXhjZXB0aW9uLm9yaWdpbmFsU3RhY2s7XG4gICAgICAgIHdoaWxlIChlIGluc3RhbmNlb2YgYmFzZV93cmFwcGVkX2V4Y2VwdGlvbl8xLkJhc2VXcmFwcGVkRXhjZXB0aW9uICYmIGxhbmdfMS5pc1ByZXNlbnQoZS5vcmlnaW5hbEV4Y2VwdGlvbikpIHtcbiAgICAgICAgICAgIGUgPSBlLm9yaWdpbmFsRXhjZXB0aW9uO1xuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEuQmFzZVdyYXBwZWRFeGNlcHRpb24gJiYgbGFuZ18xLmlzUHJlc2VudChlLm9yaWdpbmFsRXhjZXB0aW9uKSkge1xuICAgICAgICAgICAgICAgIHN0YWNrID0gZS5vcmlnaW5hbFN0YWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGFjaztcbiAgICB9O1xuICAgIHJldHVybiBFeGNlcHRpb25IYW5kbGVyO1xufSgpKTtcbmV4cG9ydHMuRXhjZXB0aW9uSGFuZGxlciA9IEV4Y2VwdGlvbkhhbmRsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGNlcHRpb25faGFuZGxlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGJhc2Vfd3JhcHBlZF9leGNlcHRpb25fMSA9IHJlcXVpcmUoJy4vYmFzZV93cmFwcGVkX2V4Y2VwdGlvbicpO1xudmFyIGV4Y2VwdGlvbl9oYW5kbGVyXzEgPSByZXF1aXJlKCcuL2V4Y2VwdGlvbl9oYW5kbGVyJyk7XG52YXIgZXhjZXB0aW9uX2hhbmRsZXJfMiA9IHJlcXVpcmUoJy4vZXhjZXB0aW9uX2hhbmRsZXInKTtcbmV4cG9ydHMuRXhjZXB0aW9uSGFuZGxlciA9IGV4Y2VwdGlvbl9oYW5kbGVyXzIuRXhjZXB0aW9uSGFuZGxlcjtcbnZhciBCYXNlRXhjZXB0aW9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQmFzZUV4Y2VwdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCYXNlRXhjZXB0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UgPT09IHZvaWQgMCkgeyBtZXNzYWdlID0gXCItLVwiOyB9XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICB0aGlzLnN0YWNrID0gKG5ldyBFcnJvcihtZXNzYWdlKSkuc3RhY2s7XG4gICAgfVxuICAgIEJhc2VFeGNlcHRpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tZXNzYWdlOyB9O1xuICAgIHJldHVybiBCYXNlRXhjZXB0aW9uO1xufShFcnJvcikpO1xuZXhwb3J0cy5CYXNlRXhjZXB0aW9uID0gQmFzZUV4Y2VwdGlvbjtcbi8qKlxuICogV3JhcHMgYW4gZXhjZXB0aW9uIGFuZCBwcm92aWRlcyBhZGRpdGlvbmFsIGNvbnRleHQgb3IgaW5mb3JtYXRpb24uXG4gKi9cbnZhciBXcmFwcGVkRXhjZXB0aW9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoV3JhcHBlZEV4Y2VwdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBXcmFwcGVkRXhjZXB0aW9uKF93cmFwcGVyTWVzc2FnZSwgX29yaWdpbmFsRXhjZXB0aW9uLCBfb3JpZ2luYWxTdGFjaywgX2NvbnRleHQpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgX3dyYXBwZXJNZXNzYWdlKTtcbiAgICAgICAgdGhpcy5fd3JhcHBlck1lc3NhZ2UgPSBfd3JhcHBlck1lc3NhZ2U7XG4gICAgICAgIHRoaXMuX29yaWdpbmFsRXhjZXB0aW9uID0gX29yaWdpbmFsRXhjZXB0aW9uO1xuICAgICAgICB0aGlzLl9vcmlnaW5hbFN0YWNrID0gX29yaWdpbmFsU3RhY2s7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBfY29udGV4dDtcbiAgICAgICAgdGhpcy5fd3JhcHBlclN0YWNrID0gKG5ldyBFcnJvcihfd3JhcHBlck1lc3NhZ2UpKS5zdGFjaztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcIndyYXBwZXJNZXNzYWdlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl93cmFwcGVyTWVzc2FnZTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcIndyYXBwZXJTdGFja1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fd3JhcHBlclN0YWNrOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwib3JpZ2luYWxFeGNlcHRpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX29yaWdpbmFsRXhjZXB0aW9uOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JhcHBlZEV4Y2VwdGlvbi5wcm90b3R5cGUsIFwib3JpZ2luYWxTdGFja1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fb3JpZ2luYWxTdGFjazsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLCBcImNvbnRleHRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2NvbnRleHQ7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcmFwcGVkRXhjZXB0aW9uLnByb3RvdHlwZSwgXCJtZXNzYWdlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBleGNlcHRpb25faGFuZGxlcl8xLkV4Y2VwdGlvbkhhbmRsZXIuZXhjZXB0aW9uVG9TdHJpbmcodGhpcyk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFdyYXBwZWRFeGNlcHRpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5tZXNzYWdlOyB9O1xuICAgIHJldHVybiBXcmFwcGVkRXhjZXB0aW9uO1xufShiYXNlX3dyYXBwZWRfZXhjZXB0aW9uXzEuQmFzZVdyYXBwZWRFeGNlcHRpb24pKTtcbmV4cG9ydHMuV3JhcHBlZEV4Y2VwdGlvbiA9IFdyYXBwZWRFeGNlcHRpb247XG5mdW5jdGlvbiBtYWtlVHlwZUVycm9yKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihtZXNzYWdlKTtcbn1cbmV4cG9ydHMubWFrZVR5cGVFcnJvciA9IG1ha2VUeXBlRXJyb3I7XG5mdW5jdGlvbiB1bmltcGxlbWVudGVkKCkge1xuICAgIHRocm93IG5ldyBCYXNlRXhjZXB0aW9uKCd1bmltcGxlbWVudGVkJyk7XG59XG5leHBvcnRzLnVuaW1wbGVtZW50ZWQgPSB1bmltcGxlbWVudGVkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhjZXB0aW9ucy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIGdsb2JhbFNjb3BlO1xuaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlKSB7XG4gICAgICAgIC8vIFRPRE86IFJlcGxhY2UgYW55IHdpdGggV29ya2VyR2xvYmFsU2NvcGUgZnJvbSBsaWIud2Vid29ya2VyLmQudHMgIzM0OTJcbiAgICAgICAgZ2xvYmFsU2NvcGUgPSBzZWxmO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ2xvYmFsU2NvcGUgPSBnbG9iYWw7XG4gICAgfVxufVxuZWxzZSB7XG4gICAgZ2xvYmFsU2NvcGUgPSB3aW5kb3c7XG59XG5mdW5jdGlvbiBzY2hlZHVsZU1pY3JvVGFzayhmbikge1xuICAgIFpvbmUuY3VycmVudC5zY2hlZHVsZU1pY3JvVGFzaygnc2NoZWR1bGVNaWNyb3Rhc2snLCBmbik7XG59XG5leHBvcnRzLnNjaGVkdWxlTWljcm9UYXNrID0gc2NoZWR1bGVNaWNyb1Rhc2s7XG5leHBvcnRzLklTX0RBUlQgPSBmYWxzZTtcbi8vIE5lZWQgdG8gZGVjbGFyZSBhIG5ldyB2YXJpYWJsZSBmb3IgZ2xvYmFsIGhlcmUgc2luY2UgVHlwZVNjcmlwdFxuLy8gZXhwb3J0cyB0aGUgb3JpZ2luYWwgdmFsdWUgb2YgdGhlIHN5bWJvbC5cbnZhciBfZ2xvYmFsID0gZ2xvYmFsU2NvcGU7XG5leHBvcnRzLmdsb2JhbCA9IF9nbG9iYWw7XG5leHBvcnRzLlR5cGUgPSBGdW5jdGlvbjtcbmZ1bmN0aW9uIGdldFR5cGVOYW1lRm9yRGVidWdnaW5nKHR5cGUpIHtcbiAgICBpZiAodHlwZVsnbmFtZSddKSB7XG4gICAgICAgIHJldHVybiB0eXBlWyduYW1lJ107XG4gICAgfVxuICAgIHJldHVybiB0eXBlb2YgdHlwZTtcbn1cbmV4cG9ydHMuZ2V0VHlwZU5hbWVGb3JEZWJ1Z2dpbmcgPSBnZXRUeXBlTmFtZUZvckRlYnVnZ2luZztcbmV4cG9ydHMuTWF0aCA9IF9nbG9iYWwuTWF0aDtcbmV4cG9ydHMuRGF0ZSA9IF9nbG9iYWwuRGF0ZTtcbnZhciBfZGV2TW9kZSA9IHRydWU7XG52YXIgX21vZGVMb2NrZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIGxvY2tNb2RlKCkge1xuICAgIF9tb2RlTG9ja2VkID0gdHJ1ZTtcbn1cbmV4cG9ydHMubG9ja01vZGUgPSBsb2NrTW9kZTtcbi8qKlxuICogRGlzYWJsZSBBbmd1bGFyJ3MgZGV2ZWxvcG1lbnQgbW9kZSwgd2hpY2ggdHVybnMgb2ZmIGFzc2VydGlvbnMgYW5kIG90aGVyXG4gKiBjaGVja3Mgd2l0aGluIHRoZSBmcmFtZXdvcmsuXG4gKlxuICogT25lIGltcG9ydGFudCBhc3NlcnRpb24gdGhpcyBkaXNhYmxlcyB2ZXJpZmllcyB0aGF0IGEgY2hhbmdlIGRldGVjdGlvbiBwYXNzXG4gKiBkb2VzIG5vdCByZXN1bHQgaW4gYWRkaXRpb25hbCBjaGFuZ2VzIHRvIGFueSBiaW5kaW5ncyAoYWxzbyBrbm93biBhc1xuICogdW5pZGlyZWN0aW9uYWwgZGF0YSBmbG93KS5cbiAqL1xuZnVuY3Rpb24gZW5hYmxlUHJvZE1vZGUoKSB7XG4gICAgaWYgKF9tb2RlTG9ja2VkKSB7XG4gICAgICAgIC8vIENhbm5vdCB1c2UgQmFzZUV4Y2VwdGlvbiBhcyB0aGF0IGVuZHMgdXAgaW1wb3J0aW5nIGZyb20gZmFjYWRlL2xhbmcuXG4gICAgICAgIHRocm93ICdDYW5ub3QgZW5hYmxlIHByb2QgbW9kZSBhZnRlciBwbGF0Zm9ybSBzZXR1cC4nO1xuICAgIH1cbiAgICBfZGV2TW9kZSA9IGZhbHNlO1xufVxuZXhwb3J0cy5lbmFibGVQcm9kTW9kZSA9IGVuYWJsZVByb2RNb2RlO1xuZnVuY3Rpb24gYXNzZXJ0aW9uc0VuYWJsZWQoKSB7XG4gICAgcmV0dXJuIF9kZXZNb2RlO1xufVxuZXhwb3J0cy5hc3NlcnRpb25zRW5hYmxlZCA9IGFzc2VydGlvbnNFbmFibGVkO1xuLy8gVE9ETzogcmVtb3ZlIGNhbGxzIHRvIGFzc2VydCBpbiBwcm9kdWN0aW9uIGVudmlyb25tZW50XG4vLyBOb3RlOiBDYW4ndCBqdXN0IGV4cG9ydCB0aGlzIGFuZCBpbXBvcnQgaW4gaW4gb3RoZXIgZmlsZXNcbi8vIGFzIGBhc3NlcnRgIGlzIGEgcmVzZXJ2ZWQga2V5d29yZCBpbiBEYXJ0XG5fZ2xvYmFsLmFzc2VydCA9IGZ1bmN0aW9uIGFzc2VydChjb25kaXRpb24pIHtcbiAgICAvLyBUT0RPOiB0byBiZSBmaXhlZCBwcm9wZXJseSB2aWEgIzI4MzAsIG5vb3AgZm9yIG5vd1xufTtcbmZ1bmN0aW9uIGlzUHJlc2VudChvYmopIHtcbiAgICByZXR1cm4gb2JqICE9PSB1bmRlZmluZWQgJiYgb2JqICE9PSBudWxsO1xufVxuZXhwb3J0cy5pc1ByZXNlbnQgPSBpc1ByZXNlbnQ7XG5mdW5jdGlvbiBpc0JsYW5rKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IHVuZGVmaW5lZCB8fCBvYmogPT09IG51bGw7XG59XG5leHBvcnRzLmlzQmxhbmsgPSBpc0JsYW5rO1xuZnVuY3Rpb24gaXNCb29sZWFuKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcImJvb2xlYW5cIjtcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuZnVuY3Rpb24gaXNOdW1iZXIob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwibnVtYmVyXCI7XG59XG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XG5mdW5jdGlvbiBpc1N0cmluZyhvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIjtcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcbmZ1bmN0aW9uIGlzRnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIjtcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5mdW5jdGlvbiBpc1R5cGUob2JqKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqKTtcbn1cbmV4cG9ydHMuaXNUeXBlID0gaXNUeXBlO1xuZnVuY3Rpb24gaXNTdHJpbmdNYXAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNTdHJpbmdNYXAgPSBpc1N0cmluZ01hcDtcbnZhciBTVFJJTkdfTUFQX1BST1RPID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHt9KTtcbmZ1bmN0aW9uIGlzU3RyaWN0U3RyaW5nTWFwKG9iaikge1xuICAgIHJldHVybiBpc1N0cmluZ01hcChvYmopICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopID09PSBTVFJJTkdfTUFQX1BST1RPO1xufVxuZXhwb3J0cy5pc1N0cmljdFN0cmluZ01hcCA9IGlzU3RyaWN0U3RyaW5nTWFwO1xuZnVuY3Rpb24gaXNQcm9taXNlKG9iaikge1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBfZ2xvYmFsLlByb21pc2U7XG59XG5leHBvcnRzLmlzUHJvbWlzZSA9IGlzUHJvbWlzZTtcbmZ1bmN0aW9uIGlzQXJyYXkob2JqKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkob2JqKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5mdW5jdGlvbiBpc0RhdGUob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIGV4cG9ydHMuRGF0ZSAmJiAhaXNOYU4ob2JqLnZhbHVlT2YoKSk7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcbmZ1bmN0aW9uIG5vb3AoKSB7IH1cbmV4cG9ydHMubm9vcCA9IG5vb3A7XG5mdW5jdGlvbiBzdHJpbmdpZnkodG9rZW4pIHtcbiAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuICAgIGlmICh0b2tlbiA9PT0gdW5kZWZpbmVkIHx8IHRva2VuID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJyArIHRva2VuO1xuICAgIH1cbiAgICBpZiAodG9rZW4ubmFtZSkge1xuICAgICAgICByZXR1cm4gdG9rZW4ubmFtZTtcbiAgICB9XG4gICAgaWYgKHRva2VuLm92ZXJyaWRkZW5OYW1lKSB7XG4gICAgICAgIHJldHVybiB0b2tlbi5vdmVycmlkZGVuTmFtZTtcbiAgICB9XG4gICAgdmFyIHJlcyA9IHRva2VuLnRvU3RyaW5nKCk7XG4gICAgdmFyIG5ld0xpbmVJbmRleCA9IHJlcy5pbmRleE9mKFwiXFxuXCIpO1xuICAgIHJldHVybiAobmV3TGluZUluZGV4ID09PSAtMSkgPyByZXMgOiByZXMuc3Vic3RyaW5nKDAsIG5ld0xpbmVJbmRleCk7XG59XG5leHBvcnRzLnN0cmluZ2lmeSA9IHN0cmluZ2lmeTtcbi8vIHNlcmlhbGl6ZSAvIGRlc2VyaWFsaXplIGVudW0gZXhpc3Qgb25seSBmb3IgY29uc2lzdGVuY3kgd2l0aCBkYXJ0IEFQSVxuLy8gZW51bXMgaW4gdHlwZXNjcmlwdCBkb24ndCBuZWVkIHRvIGJlIHNlcmlhbGl6ZWRcbmZ1bmN0aW9uIHNlcmlhbGl6ZUVudW0odmFsKSB7XG4gICAgcmV0dXJuIHZhbDtcbn1cbmV4cG9ydHMuc2VyaWFsaXplRW51bSA9IHNlcmlhbGl6ZUVudW07XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZUVudW0odmFsLCB2YWx1ZXMpIHtcbiAgICByZXR1cm4gdmFsO1xufVxuZXhwb3J0cy5kZXNlcmlhbGl6ZUVudW0gPSBkZXNlcmlhbGl6ZUVudW07XG5mdW5jdGlvbiByZXNvbHZlRW51bVRva2VuKGVudW1WYWx1ZSwgdmFsKSB7XG4gICAgcmV0dXJuIGVudW1WYWx1ZVt2YWxdO1xufVxuZXhwb3J0cy5yZXNvbHZlRW51bVRva2VuID0gcmVzb2x2ZUVudW1Ub2tlbjtcbnZhciBTdHJpbmdXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdHJpbmdXcmFwcGVyKCkge1xuICAgIH1cbiAgICBTdHJpbmdXcmFwcGVyLmZyb21DaGFyQ29kZSA9IGZ1bmN0aW9uIChjb2RlKSB7IHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpOyB9O1xuICAgIFN0cmluZ1dyYXBwZXIuY2hhckNvZGVBdCA9IGZ1bmN0aW9uIChzLCBpbmRleCkgeyByZXR1cm4gcy5jaGFyQ29kZUF0KGluZGV4KTsgfTtcbiAgICBTdHJpbmdXcmFwcGVyLnNwbGl0ID0gZnVuY3Rpb24gKHMsIHJlZ0V4cCkgeyByZXR1cm4gcy5zcGxpdChyZWdFeHApOyB9O1xuICAgIFN0cmluZ1dyYXBwZXIuZXF1YWxzID0gZnVuY3Rpb24gKHMsIHMyKSB7IHJldHVybiBzID09PSBzMjsgfTtcbiAgICBTdHJpbmdXcmFwcGVyLnN0cmlwTGVmdCA9IGZ1bmN0aW9uIChzLCBjaGFyVmFsKSB7XG4gICAgICAgIGlmIChzICYmIHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgcG9zID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChzW2ldICE9IGNoYXJWYWwpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcyA9IHMuc3Vic3RyaW5nKHBvcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfTtcbiAgICBTdHJpbmdXcmFwcGVyLnN0cmlwUmlnaHQgPSBmdW5jdGlvbiAocywgY2hhclZhbCkge1xuICAgICAgICBpZiAocyAmJiBzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHBvcyA9IHMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBpZiAoc1tpXSAhPSBjaGFyVmFsKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBwb3MtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMgPSBzLnN1YnN0cmluZygwLCBwb3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzO1xuICAgIH07XG4gICAgU3RyaW5nV3JhcHBlci5yZXBsYWNlID0gZnVuY3Rpb24gKHMsIGZyb20sIHJlcGxhY2UpIHtcbiAgICAgICAgcmV0dXJuIHMucmVwbGFjZShmcm9tLCByZXBsYWNlKTtcbiAgICB9O1xuICAgIFN0cmluZ1dyYXBwZXIucmVwbGFjZUFsbCA9IGZ1bmN0aW9uIChzLCBmcm9tLCByZXBsYWNlKSB7XG4gICAgICAgIHJldHVybiBzLnJlcGxhY2UoZnJvbSwgcmVwbGFjZSk7XG4gICAgfTtcbiAgICBTdHJpbmdXcmFwcGVyLnNsaWNlID0gZnVuY3Rpb24gKHMsIGZyb20sIHRvKSB7XG4gICAgICAgIGlmIChmcm9tID09PSB2b2lkIDApIHsgZnJvbSA9IDA7IH1cbiAgICAgICAgaWYgKHRvID09PSB2b2lkIDApIHsgdG8gPSBudWxsOyB9XG4gICAgICAgIHJldHVybiBzLnNsaWNlKGZyb20sIHRvID09PSBudWxsID8gdW5kZWZpbmVkIDogdG8pO1xuICAgIH07XG4gICAgU3RyaW5nV3JhcHBlci5yZXBsYWNlQWxsTWFwcGVkID0gZnVuY3Rpb24gKHMsIGZyb20sIGNiKSB7XG4gICAgICAgIHJldHVybiBzLnJlcGxhY2UoZnJvbSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlc1tfaSAtIDBdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlbW92ZSBvZmZzZXQgJiBzdHJpbmcgZnJvbSB0aGUgcmVzdWx0IGFycmF5XG4gICAgICAgICAgICBtYXRjaGVzLnNwbGljZSgtMiwgMik7XG4gICAgICAgICAgICAvLyBUaGUgY2FsbGJhY2sgcmVjZWl2ZXMgbWF0Y2gsIHAxLCAuLi4sIHBuXG4gICAgICAgICAgICByZXR1cm4gY2IobWF0Y2hlcyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3RyaW5nV3JhcHBlci5jb250YWlucyA9IGZ1bmN0aW9uIChzLCBzdWJzdHIpIHsgcmV0dXJuIHMuaW5kZXhPZihzdWJzdHIpICE9IC0xOyB9O1xuICAgIFN0cmluZ1dyYXBwZXIuY29tcGFyZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIGlmIChhIDwgYikge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGEgPiBiKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU3RyaW5nV3JhcHBlcjtcbn0oKSk7XG5leHBvcnRzLlN0cmluZ1dyYXBwZXIgPSBTdHJpbmdXcmFwcGVyO1xudmFyIFN0cmluZ0pvaW5lciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RyaW5nSm9pbmVyKHBhcnRzKSB7XG4gICAgICAgIGlmIChwYXJ0cyA9PT0gdm9pZCAwKSB7IHBhcnRzID0gW107IH1cbiAgICAgICAgdGhpcy5wYXJ0cyA9IHBhcnRzO1xuICAgIH1cbiAgICBTdHJpbmdKb2luZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChwYXJ0KSB7IHRoaXMucGFydHMucHVzaChwYXJ0KTsgfTtcbiAgICBTdHJpbmdKb2luZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5wYXJ0cy5qb2luKFwiXCIpOyB9O1xuICAgIHJldHVybiBTdHJpbmdKb2luZXI7XG59KCkpO1xuZXhwb3J0cy5TdHJpbmdKb2luZXIgPSBTdHJpbmdKb2luZXI7XG52YXIgTnVtYmVyUGFyc2VFcnJvciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE51bWJlclBhcnNlRXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTnVtYmVyUGFyc2VFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIH1cbiAgICBOdW1iZXJQYXJzZUVycm9yLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubWVzc2FnZTsgfTtcbiAgICByZXR1cm4gTnVtYmVyUGFyc2VFcnJvcjtcbn0oRXJyb3IpKTtcbmV4cG9ydHMuTnVtYmVyUGFyc2VFcnJvciA9IE51bWJlclBhcnNlRXJyb3I7XG52YXIgTnVtYmVyV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTnVtYmVyV3JhcHBlcigpIHtcbiAgICB9XG4gICAgTnVtYmVyV3JhcHBlci50b0ZpeGVkID0gZnVuY3Rpb24gKG4sIGZyYWN0aW9uRGlnaXRzKSB7IHJldHVybiBuLnRvRml4ZWQoZnJhY3Rpb25EaWdpdHMpOyB9O1xuICAgIE51bWJlcldyYXBwZXIuZXF1YWwgPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSA9PT0gYjsgfTtcbiAgICBOdW1iZXJXcmFwcGVyLnBhcnNlSW50QXV0b1JhZGl4ID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHBhcnNlSW50KHRleHQpO1xuICAgICAgICBpZiAoaXNOYU4ocmVzdWx0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE51bWJlclBhcnNlRXJyb3IoXCJJbnZhbGlkIGludGVnZXIgbGl0ZXJhbCB3aGVuIHBhcnNpbmcgXCIgKyB0ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgTnVtYmVyV3JhcHBlci5wYXJzZUludCA9IGZ1bmN0aW9uICh0ZXh0LCByYWRpeCkge1xuICAgICAgICBpZiAocmFkaXggPT0gMTApIHtcbiAgICAgICAgICAgIGlmICgvXihcXC18XFwrKT9bMC05XSskLy50ZXN0KHRleHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRleHQsIHJhZGl4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyYWRpeCA9PSAxNikge1xuICAgICAgICAgICAgaWYgKC9eKFxcLXxcXCspP1swLTlBQkNERUZhYmNkZWZdKyQvLnRlc3QodGV4dCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGV4dCwgcmFkaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHBhcnNlSW50KHRleHQsIHJhZGl4KTtcbiAgICAgICAgICAgIGlmICghaXNOYU4ocmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IE51bWJlclBhcnNlRXJyb3IoXCJJbnZhbGlkIGludGVnZXIgbGl0ZXJhbCB3aGVuIHBhcnNpbmcgXCIgKyB0ZXh0ICsgXCIgaW4gYmFzZSBcIiArXG4gICAgICAgICAgICByYWRpeCk7XG4gICAgfTtcbiAgICAvLyBUT0RPOiBOYU4gaXMgYSB2YWxpZCBsaXRlcmFsIGJ1dCBpcyByZXR1cm5lZCBieSBwYXJzZUZsb2F0IHRvIGluZGljYXRlIGFuIGVycm9yLlxuICAgIE51bWJlcldyYXBwZXIucGFyc2VGbG9hdCA9IGZ1bmN0aW9uICh0ZXh0KSB7IHJldHVybiBwYXJzZUZsb2F0KHRleHQpOyB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOdW1iZXJXcmFwcGVyLCBcIk5hTlwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gTmFOOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBOdW1iZXJXcmFwcGVyLmlzTmFOID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBpc05hTih2YWx1ZSk7IH07XG4gICAgTnVtYmVyV3JhcHBlci5pc0ludGVnZXIgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIE51bWJlci5pc0ludGVnZXIodmFsdWUpOyB9O1xuICAgIHJldHVybiBOdW1iZXJXcmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuTnVtYmVyV3JhcHBlciA9IE51bWJlcldyYXBwZXI7XG5leHBvcnRzLlJlZ0V4cCA9IF9nbG9iYWwuUmVnRXhwO1xudmFyIFJlZ0V4cFdyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlZ0V4cFdyYXBwZXIoKSB7XG4gICAgfVxuICAgIFJlZ0V4cFdyYXBwZXIuY3JlYXRlID0gZnVuY3Rpb24gKHJlZ0V4cFN0ciwgZmxhZ3MpIHtcbiAgICAgICAgaWYgKGZsYWdzID09PSB2b2lkIDApIHsgZmxhZ3MgPSAnJzsgfVxuICAgICAgICBmbGFncyA9IGZsYWdzLnJlcGxhY2UoL2cvZywgJycpO1xuICAgICAgICByZXR1cm4gbmV3IF9nbG9iYWwuUmVnRXhwKHJlZ0V4cFN0ciwgZmxhZ3MgKyAnZycpO1xuICAgIH07XG4gICAgUmVnRXhwV3JhcHBlci5maXJzdE1hdGNoID0gZnVuY3Rpb24gKHJlZ0V4cCwgaW5wdXQpIHtcbiAgICAgICAgLy8gUmVzZXQgbXVsdGltYXRjaCByZWdleCBzdGF0ZVxuICAgICAgICByZWdFeHAubGFzdEluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIHJlZ0V4cC5leGVjKGlucHV0KTtcbiAgICB9O1xuICAgIFJlZ0V4cFdyYXBwZXIudGVzdCA9IGZ1bmN0aW9uIChyZWdFeHAsIGlucHV0KSB7XG4gICAgICAgIHJlZ0V4cC5sYXN0SW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gcmVnRXhwLnRlc3QoaW5wdXQpO1xuICAgIH07XG4gICAgUmVnRXhwV3JhcHBlci5tYXRjaGVyID0gZnVuY3Rpb24gKHJlZ0V4cCwgaW5wdXQpIHtcbiAgICAgICAgLy8gUmVzZXQgcmVnZXggc3RhdGUgZm9yIHRoZSBjYXNlXG4gICAgICAgIC8vIHNvbWVvbmUgZGlkIG5vdCBsb29wIG92ZXIgYWxsIG1hdGNoZXNcbiAgICAgICAgLy8gbGFzdCB0aW1lLlxuICAgICAgICByZWdFeHAubGFzdEluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIHsgcmU6IHJlZ0V4cCwgaW5wdXQ6IGlucHV0IH07XG4gICAgfTtcbiAgICBSZWdFeHBXcmFwcGVyLnJlcGxhY2VBbGwgPSBmdW5jdGlvbiAocmVnRXhwLCBpbnB1dCwgcmVwbGFjZSkge1xuICAgICAgICB2YXIgYyA9IHJlZ0V4cC5leGVjKGlucHV0KTtcbiAgICAgICAgdmFyIHJlcyA9ICcnO1xuICAgICAgICByZWdFeHAubGFzdEluZGV4ID0gMDtcbiAgICAgICAgdmFyIHByZXYgPSAwO1xuICAgICAgICB3aGlsZSAoYykge1xuICAgICAgICAgICAgcmVzICs9IGlucHV0LnN1YnN0cmluZyhwcmV2LCBjLmluZGV4KTtcbiAgICAgICAgICAgIHJlcyArPSByZXBsYWNlKGMpO1xuICAgICAgICAgICAgcHJldiA9IGMuaW5kZXggKyBjWzBdLmxlbmd0aDtcbiAgICAgICAgICAgIHJlZ0V4cC5sYXN0SW5kZXggPSBwcmV2O1xuICAgICAgICAgICAgYyA9IHJlZ0V4cC5leGVjKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICByZXMgKz0gaW5wdXQuc3Vic3RyaW5nKHByZXYpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgcmV0dXJuIFJlZ0V4cFdyYXBwZXI7XG59KCkpO1xuZXhwb3J0cy5SZWdFeHBXcmFwcGVyID0gUmVnRXhwV3JhcHBlcjtcbnZhciBSZWdFeHBNYXRjaGVyV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVnRXhwTWF0Y2hlcldyYXBwZXIoKSB7XG4gICAgfVxuICAgIFJlZ0V4cE1hdGNoZXJXcmFwcGVyLm5leHQgPSBmdW5jdGlvbiAobWF0Y2hlcikge1xuICAgICAgICByZXR1cm4gbWF0Y2hlci5yZS5leGVjKG1hdGNoZXIuaW5wdXQpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlZ0V4cE1hdGNoZXJXcmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuUmVnRXhwTWF0Y2hlcldyYXBwZXIgPSBSZWdFeHBNYXRjaGVyV3JhcHBlcjtcbnZhciBGdW5jdGlvbldyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZ1bmN0aW9uV3JhcHBlcigpIHtcbiAgICB9XG4gICAgRnVuY3Rpb25XcmFwcGVyLmFwcGx5ID0gZnVuY3Rpb24gKGZuLCBwb3NBcmdzKSB7IHJldHVybiBmbi5hcHBseShudWxsLCBwb3NBcmdzKTsgfTtcbiAgICByZXR1cm4gRnVuY3Rpb25XcmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuRnVuY3Rpb25XcmFwcGVyID0gRnVuY3Rpb25XcmFwcGVyO1xuLy8gSlMgaGFzIE5hTiAhPT0gTmFOXG5mdW5jdGlvbiBsb29zZUlkZW50aWNhbChhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGIgfHwgdHlwZW9mIGEgPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIGIgPT09IFwibnVtYmVyXCIgJiYgaXNOYU4oYSkgJiYgaXNOYU4oYik7XG59XG5leHBvcnRzLmxvb3NlSWRlbnRpY2FsID0gbG9vc2VJZGVudGljYWw7XG4vLyBKUyBjb25zaWRlcnMgTmFOIGlzIHRoZSBzYW1lIGFzIE5hTiBmb3IgbWFwIEtleSAod2hpbGUgTmFOICE9PSBOYU4gb3RoZXJ3aXNlKVxuLy8gc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hcFxuZnVuY3Rpb24gZ2V0TWFwS2V5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZXhwb3J0cy5nZXRNYXBLZXkgPSBnZXRNYXBLZXk7XG5mdW5jdGlvbiBub3JtYWxpemVCbGFuayhvYmopIHtcbiAgICByZXR1cm4gaXNCbGFuayhvYmopID8gbnVsbCA6IG9iajtcbn1cbmV4cG9ydHMubm9ybWFsaXplQmxhbmsgPSBub3JtYWxpemVCbGFuaztcbmZ1bmN0aW9uIG5vcm1hbGl6ZUJvb2wob2JqKSB7XG4gICAgcmV0dXJuIGlzQmxhbmsob2JqKSA/IGZhbHNlIDogb2JqO1xufVxuZXhwb3J0cy5ub3JtYWxpemVCb29sID0gbm9ybWFsaXplQm9vbDtcbmZ1bmN0aW9uIGlzSnNPYmplY3Qobykge1xuICAgIHJldHVybiBvICE9PSBudWxsICYmICh0eXBlb2YgbyA9PT0gXCJmdW5jdGlvblwiIHx8IHR5cGVvZiBvID09PSBcIm9iamVjdFwiKTtcbn1cbmV4cG9ydHMuaXNKc09iamVjdCA9IGlzSnNPYmplY3Q7XG5mdW5jdGlvbiBwcmludChvYmopIHtcbiAgICBjb25zb2xlLmxvZyhvYmopO1xufVxuZXhwb3J0cy5wcmludCA9IHByaW50O1xuZnVuY3Rpb24gd2FybihvYmopIHtcbiAgICBjb25zb2xlLndhcm4ob2JqKTtcbn1cbmV4cG9ydHMud2FybiA9IHdhcm47XG4vLyBDYW4ndCBiZSBhbGwgdXBwZXJjYXNlIGFzIG91ciB0cmFuc3BpbGVyIHdvdWxkIHRoaW5rIGl0IGlzIGEgc3BlY2lhbCBkaXJlY3RpdmUuLi5cbnZhciBKc29uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBKc29uKCkge1xuICAgIH1cbiAgICBKc29uLnBhcnNlID0gZnVuY3Rpb24gKHMpIHsgcmV0dXJuIF9nbG9iYWwuSlNPTi5wYXJzZShzKTsgfTtcbiAgICBKc29uLnN0cmluZ2lmeSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIC8vIERhcnQgZG9lc24ndCB0YWtlIDMgYXJndW1lbnRzXG4gICAgICAgIHJldHVybiBfZ2xvYmFsLkpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsIDIpO1xuICAgIH07XG4gICAgcmV0dXJuIEpzb247XG59KCkpO1xuZXhwb3J0cy5Kc29uID0gSnNvbjtcbnZhciBEYXRlV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGF0ZVdyYXBwZXIoKSB7XG4gICAgfVxuICAgIERhdGVXcmFwcGVyLmNyZWF0ZSA9IGZ1bmN0aW9uICh5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGVzLCBzZWNvbmRzLCBtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgaWYgKG1vbnRoID09PSB2b2lkIDApIHsgbW9udGggPSAxOyB9XG4gICAgICAgIGlmIChkYXkgPT09IHZvaWQgMCkgeyBkYXkgPSAxOyB9XG4gICAgICAgIGlmIChob3VyID09PSB2b2lkIDApIHsgaG91ciA9IDA7IH1cbiAgICAgICAgaWYgKG1pbnV0ZXMgPT09IHZvaWQgMCkgeyBtaW51dGVzID0gMDsgfVxuICAgICAgICBpZiAoc2Vjb25kcyA9PT0gdm9pZCAwKSB7IHNlY29uZHMgPSAwOyB9XG4gICAgICAgIGlmIChtaWxsaXNlY29uZHMgPT09IHZvaWQgMCkgeyBtaWxsaXNlY29uZHMgPSAwOyB9XG4gICAgICAgIHJldHVybiBuZXcgZXhwb3J0cy5EYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF5LCBob3VyLCBtaW51dGVzLCBzZWNvbmRzLCBtaWxsaXNlY29uZHMpO1xuICAgIH07XG4gICAgRGF0ZVdyYXBwZXIuZnJvbUlTT1N0cmluZyA9IGZ1bmN0aW9uIChzdHIpIHsgcmV0dXJuIG5ldyBleHBvcnRzLkRhdGUoc3RyKTsgfTtcbiAgICBEYXRlV3JhcHBlci5mcm9tTWlsbGlzID0gZnVuY3Rpb24gKG1zKSB7IHJldHVybiBuZXcgZXhwb3J0cy5EYXRlKG1zKTsgfTtcbiAgICBEYXRlV3JhcHBlci50b01pbGxpcyA9IGZ1bmN0aW9uIChkYXRlKSB7IHJldHVybiBkYXRlLmdldFRpbWUoKTsgfTtcbiAgICBEYXRlV3JhcHBlci5ub3cgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgZXhwb3J0cy5EYXRlKCk7IH07XG4gICAgRGF0ZVdyYXBwZXIudG9Kc29uID0gZnVuY3Rpb24gKGRhdGUpIHsgcmV0dXJuIGRhdGUudG9KU09OKCk7IH07XG4gICAgcmV0dXJuIERhdGVXcmFwcGVyO1xufSgpKTtcbmV4cG9ydHMuRGF0ZVdyYXBwZXIgPSBEYXRlV3JhcHBlcjtcbmZ1bmN0aW9uIHNldFZhbHVlT25QYXRoKGdsb2JhbCwgcGF0aCwgdmFsdWUpIHtcbiAgICB2YXIgcGFydHMgPSBwYXRoLnNwbGl0KCcuJyk7XG4gICAgdmFyIG9iaiA9IGdsb2JhbDtcbiAgICB3aGlsZSAocGFydHMubGVuZ3RoID4gMSkge1xuICAgICAgICB2YXIgbmFtZSA9IHBhcnRzLnNoaWZ0KCk7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkobmFtZSkgJiYgaXNQcmVzZW50KG9ialtuYW1lXSkpIHtcbiAgICAgICAgICAgIG9iaiA9IG9ialtuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iaiA9IG9ialtuYW1lXSA9IHt9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChvYmogPT09IHVuZGVmaW5lZCB8fCBvYmogPT09IG51bGwpIHtcbiAgICAgICAgb2JqID0ge307XG4gICAgfVxuICAgIG9ialtwYXJ0cy5zaGlmdCgpXSA9IHZhbHVlO1xufVxuZXhwb3J0cy5zZXRWYWx1ZU9uUGF0aCA9IHNldFZhbHVlT25QYXRoO1xudmFyIF9zeW1ib2xJdGVyYXRvciA9IG51bGw7XG5mdW5jdGlvbiBnZXRTeW1ib2xJdGVyYXRvcigpIHtcbiAgICBpZiAoaXNCbGFuayhfc3ltYm9sSXRlcmF0b3IpKSB7XG4gICAgICAgIGlmIChpc1ByZXNlbnQoZ2xvYmFsU2NvcGUuU3ltYm9sKSAmJiBpc1ByZXNlbnQoU3ltYm9sLml0ZXJhdG9yKSkge1xuICAgICAgICAgICAgX3N5bWJvbEl0ZXJhdG9yID0gU3ltYm9sLml0ZXJhdG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZXM2LXNoaW0gc3BlY2lmaWMgbG9naWNcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTWFwLnByb3RvdHlwZSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSAnZW50cmllcycgJiYga2V5ICE9PSAnc2l6ZScgJiZcbiAgICAgICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZVtrZXldID09PSBNYXAucHJvdG90eXBlWydlbnRyaWVzJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgX3N5bWJvbEl0ZXJhdG9yID0ga2V5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX3N5bWJvbEl0ZXJhdG9yO1xufVxuZXhwb3J0cy5nZXRTeW1ib2xJdGVyYXRvciA9IGdldFN5bWJvbEl0ZXJhdG9yO1xuZnVuY3Rpb24gZXZhbEV4cHJlc3Npb24oc291cmNlVXJsLCBleHByLCBkZWNsYXJhdGlvbnMsIHZhcnMpIHtcbiAgICB2YXIgZm5Cb2R5ID0gZGVjbGFyYXRpb25zICsgXCJcXG5yZXR1cm4gXCIgKyBleHByICsgXCJcXG4vLyMgc291cmNlVVJMPVwiICsgc291cmNlVXJsO1xuICAgIHZhciBmbkFyZ05hbWVzID0gW107XG4gICAgdmFyIGZuQXJnVmFsdWVzID0gW107XG4gICAgZm9yICh2YXIgYXJnTmFtZSBpbiB2YXJzKSB7XG4gICAgICAgIGZuQXJnTmFtZXMucHVzaChhcmdOYW1lKTtcbiAgICAgICAgZm5BcmdWYWx1ZXMucHVzaCh2YXJzW2FyZ05hbWVdKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24uYmluZC5hcHBseShGdW5jdGlvbiwgW3ZvaWQgMF0uY29uY2F0KGZuQXJnTmFtZXMuY29uY2F0KGZuQm9keSkpKSkoKS5hcHBseSh2b2lkIDAsIGZuQXJnVmFsdWVzKTtcbn1cbmV4cG9ydHMuZXZhbEV4cHJlc3Npb24gPSBldmFsRXhwcmVzc2lvbjtcbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKG9iaikge1xuICAgIHJldHVybiAhaXNKc09iamVjdChvYmopO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuZnVuY3Rpb24gaGFzQ29uc3RydWN0b3IodmFsdWUsIHR5cGUpIHtcbiAgICByZXR1cm4gdmFsdWUuY29uc3RydWN0b3IgPT09IHR5cGU7XG59XG5leHBvcnRzLmhhc0NvbnN0cnVjdG9yID0gaGFzQ29uc3RydWN0b3I7XG5mdW5jdGlvbiBiaXRXaXNlT3IodmFsdWVzKSB7XG4gICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgfCBiOyB9KTtcbn1cbmV4cG9ydHMuYml0V2lzZU9yID0gYml0V2lzZU9yO1xuZnVuY3Rpb24gYml0V2lzZUFuZCh2YWx1ZXMpIHtcbiAgICByZXR1cm4gdmFsdWVzLnJlZHVjZShmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSAmIGI7IH0pO1xufVxuZXhwb3J0cy5iaXRXaXNlQW5kID0gYml0V2lzZUFuZDtcbmZ1bmN0aW9uIGVzY2FwZShzKSB7XG4gICAgcmV0dXJuIF9nbG9iYWwuZW5jb2RlVVJJKHMpO1xufVxuZXhwb3J0cy5lc2NhcGUgPSBlc2NhcGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sYW5nLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGxhbmdfMSA9IHJlcXVpcmUoJy4vbGFuZycpO1xuZXhwb3J0cy5NYXRoID0gbGFuZ18xLmdsb2JhbC5NYXRoO1xuZXhwb3J0cy5OYU4gPSB0eXBlb2YgZXhwb3J0cy5OYU47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRoLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgbGFuZ18xID0gcmVxdWlyZSgnLi9mYWNhZGUvbGFuZycpO1xudmFyIGJyb3dzZXJfY29tbW9uXzEgPSByZXF1aXJlKCcuL2Jyb3dzZXJfY29tbW9uJyk7XG52YXIgZG9tX2V2ZW50c18xID0gcmVxdWlyZSgnLi9kb20vZXZlbnRzL2RvbV9ldmVudHMnKTtcbmV4cG9ydHMuRG9tRXZlbnRzUGx1Z2luID0gZG9tX2V2ZW50c18xLkRvbUV2ZW50c1BsdWdpbjtcbnZhciBldmVudF9tYW5hZ2VyXzEgPSByZXF1aXJlKCcuL2RvbS9ldmVudHMvZXZlbnRfbWFuYWdlcicpO1xuZXhwb3J0cy5FdmVudE1hbmFnZXIgPSBldmVudF9tYW5hZ2VyXzEuRXZlbnRNYW5hZ2VyO1xuZXhwb3J0cy5FVkVOVF9NQU5BR0VSX1BMVUdJTlMgPSBldmVudF9tYW5hZ2VyXzEuRVZFTlRfTUFOQUdFUl9QTFVHSU5TO1xudmFyIG5nX3Byb2JlXzEgPSByZXF1aXJlKCcuL2RvbS9kZWJ1Zy9uZ19wcm9iZScpO1xuZXhwb3J0cy5FTEVNRU5UX1BST0JFX1BST1ZJREVSUyA9IG5nX3Byb2JlXzEuRUxFTUVOVF9QUk9CRV9QUk9WSURFUlM7XG52YXIgYnJvd3Nlcl9jb21tb25fMiA9IHJlcXVpcmUoJy4vYnJvd3Nlcl9jb21tb24nKTtcbmV4cG9ydHMuQlJPV1NFUl9BUFBfQ09NTU9OX1BST1ZJREVSUyA9IGJyb3dzZXJfY29tbW9uXzIuQlJPV1NFUl9BUFBfQ09NTU9OX1BST1ZJREVSUztcbmV4cG9ydHMuQlJPV1NFUl9TQU5JVElaQVRJT05fUFJPVklERVJTID0gYnJvd3Nlcl9jb21tb25fMi5CUk9XU0VSX1NBTklUSVpBVElPTl9QUk9WSURFUlM7XG5leHBvcnRzLkJST1dTRVJfUFJPVklERVJTID0gYnJvd3Nlcl9jb21tb25fMi5CUk9XU0VSX1BST1ZJREVSUztcbmV4cG9ydHMuQnkgPSBicm93c2VyX2NvbW1vbl8yLkJ5O1xuZXhwb3J0cy5UaXRsZSA9IGJyb3dzZXJfY29tbW9uXzIuVGl0bGU7XG5leHBvcnRzLmVuYWJsZURlYnVnVG9vbHMgPSBicm93c2VyX2NvbW1vbl8yLmVuYWJsZURlYnVnVG9vbHM7XG5leHBvcnRzLmRpc2FibGVEZWJ1Z1Rvb2xzID0gYnJvd3Nlcl9jb21tb25fMi5kaXNhYmxlRGVidWdUb29scztcbmV4cG9ydHMuSEFNTUVSX0dFU1RVUkVfQ09ORklHID0gYnJvd3Nlcl9jb21tb25fMi5IQU1NRVJfR0VTVFVSRV9DT05GSUc7XG5leHBvcnRzLkhhbW1lckdlc3R1cmVDb25maWcgPSBicm93c2VyX2NvbW1vbl8yLkhhbW1lckdlc3R1cmVDb25maWc7XG5fX2V4cG9ydChyZXF1aXJlKCcuLi9wcml2YXRlX2V4cG9ydCcpKTtcbnZhciBkb21fdG9rZW5zXzEgPSByZXF1aXJlKCcuL2RvbS9kb21fdG9rZW5zJyk7XG5leHBvcnRzLkRPQ1VNRU5UID0gZG9tX3Rva2Vuc18xLkRPQ1VNRU5UO1xudmFyIGRvbV9zYW5pdGl6YXRpb25fc2VydmljZV8xID0gcmVxdWlyZSgnLi9zZWN1cml0eS9kb21fc2FuaXRpemF0aW9uX3NlcnZpY2UnKTtcbmV4cG9ydHMuRG9tU2FuaXRpemF0aW9uU2VydmljZSA9IGRvbV9zYW5pdGl6YXRpb25fc2VydmljZV8xLkRvbVNhbml0aXphdGlvblNlcnZpY2U7XG5leHBvcnRzLlNlY3VyaXR5Q29udGV4dCA9IGRvbV9zYW5pdGl6YXRpb25fc2VydmljZV8xLlNlY3VyaXR5Q29udGV4dDtcbnZhciBwbGF0Zm9ybV9icm93c2VyX3N0YXRpY18xID0gcmVxdWlyZSgnLi9wbGF0Zm9ybV9icm93c2VyX3N0YXRpYycpO1xuZXhwb3J0cy5ib290c3RyYXBTdGF0aWMgPSBwbGF0Zm9ybV9icm93c2VyX3N0YXRpY18xLmJvb3RzdHJhcFN0YXRpYztcbmV4cG9ydHMuYnJvd3NlclN0YXRpY1BsYXRmb3JtID0gcGxhdGZvcm1fYnJvd3Nlcl9zdGF0aWNfMS5icm93c2VyU3RhdGljUGxhdGZvcm07XG5leHBvcnRzLkJST1dTRVJfQVBQX1NUQVRJQ19QUk9WSURFUlMgPSBwbGF0Zm9ybV9icm93c2VyX3N0YXRpY18xLkJST1dTRVJfQVBQX1NUQVRJQ19QUk9WSURFUlM7XG5leHBvcnRzLkJyb3dzZXJQbGF0Zm9ybUxvY2F0aW9uID0gcGxhdGZvcm1fYnJvd3Nlcl9zdGF0aWNfMS5Ccm93c2VyUGxhdGZvcm1Mb2NhdGlvbjtcbmZ1bmN0aW9uIGJyb3dzZXJQbGF0Zm9ybSgpIHtcbiAgICBpZiAobGFuZ18xLmlzQmxhbmsoY29yZV8xLmdldFBsYXRmb3JtKCkpKSB7XG4gICAgICAgIGNvcmVfMS5jcmVhdGVQbGF0Zm9ybShjb3JlXzEuUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoYnJvd3Nlcl9jb21tb25fMS5CUk9XU0VSX1BST1ZJREVSUykpO1xuICAgIH1cbiAgICByZXR1cm4gY29yZV8xLmFzc2VydFBsYXRmb3JtKGJyb3dzZXJfY29tbW9uXzEuQlJPV1NFUl9QTEFURk9STV9NQVJLRVIpO1xufVxuZXhwb3J0cy5icm93c2VyUGxhdGZvcm0gPSBicm93c2VyUGxhdGZvcm07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbGF0Zm9ybV9icm93c2VyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbnZhciBsYW5nXzEgPSByZXF1aXJlKCcuL2ZhY2FkZS9sYW5nJyk7XG52YXIgYnJvd3Nlcl9jb21tb25fMSA9IHJlcXVpcmUoJy4vYnJvd3Nlcl9jb21tb24nKTtcbnZhciBuZ19wcm9iZV8xID0gcmVxdWlyZSgnLi9kb20vZGVidWcvbmdfcHJvYmUnKTtcbmV4cG9ydHMuRUxFTUVOVF9QUk9CRV9QUk9WSURFUlMgPSBuZ19wcm9iZV8xLkVMRU1FTlRfUFJPQkVfUFJPVklERVJTO1xudmFyIGJyb3dzZXJfcGxhdGZvcm1fbG9jYXRpb25fMSA9IHJlcXVpcmUoJy4vYnJvd3Nlci9sb2NhdGlvbi9icm93c2VyX3BsYXRmb3JtX2xvY2F0aW9uJyk7XG5leHBvcnRzLkJyb3dzZXJQbGF0Zm9ybUxvY2F0aW9uID0gYnJvd3Nlcl9wbGF0Zm9ybV9sb2NhdGlvbl8xLkJyb3dzZXJQbGF0Zm9ybUxvY2F0aW9uO1xudmFyIGJyb3dzZXJfY29tbW9uXzIgPSByZXF1aXJlKCcuL2Jyb3dzZXJfY29tbW9uJyk7XG5leHBvcnRzLkJST1dTRVJfUFJPVklERVJTID0gYnJvd3Nlcl9jb21tb25fMi5CUk9XU0VSX1BST1ZJREVSUztcbmV4cG9ydHMuQnkgPSBicm93c2VyX2NvbW1vbl8yLkJ5O1xuZXhwb3J0cy5UaXRsZSA9IGJyb3dzZXJfY29tbW9uXzIuVGl0bGU7XG5leHBvcnRzLmVuYWJsZURlYnVnVG9vbHMgPSBicm93c2VyX2NvbW1vbl8yLmVuYWJsZURlYnVnVG9vbHM7XG5leHBvcnRzLmRpc2FibGVEZWJ1Z1Rvb2xzID0gYnJvd3Nlcl9jb21tb25fMi5kaXNhYmxlRGVidWdUb29scztcbi8qKlxuICogQW4gYXJyYXkgb2YgcHJvdmlkZXJzIHRoYXQgc2hvdWxkIGJlIHBhc3NlZCBpbnRvIGBhcHBsaWNhdGlvbigpYCB3aGVuIGJvb3RzdHJhcHBpbmcgYSBjb21wb25lbnRcbiAqIHdoZW4gYWxsIHRlbXBsYXRlc1xuICogaGF2ZSBiZWVuIHByZWNvbXBpbGVkIG9mZmxpbmUuXG4gKi9cbmV4cG9ydHMuQlJPV1NFUl9BUFBfU1RBVElDX1BST1ZJREVSUyA9IFxuLypAdHMyZGFydF9jb25zdCovIGJyb3dzZXJfY29tbW9uXzEuQlJPV1NFUl9BUFBfQ09NTU9OX1BST1ZJREVSUztcbmZ1bmN0aW9uIGJyb3dzZXJTdGF0aWNQbGF0Zm9ybSgpIHtcbiAgICBpZiAobGFuZ18xLmlzQmxhbmsoY29yZV8xLmdldFBsYXRmb3JtKCkpKSB7XG4gICAgICAgIGNvcmVfMS5jcmVhdGVQbGF0Zm9ybShjb3JlXzEuUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoYnJvd3Nlcl9jb21tb25fMS5CUk9XU0VSX1BST1ZJREVSUykpO1xuICAgIH1cbiAgICByZXR1cm4gY29yZV8xLmFzc2VydFBsYXRmb3JtKGJyb3dzZXJfY29tbW9uXzEuQlJPV1NFUl9QTEFURk9STV9NQVJLRVIpO1xufVxuZXhwb3J0cy5icm93c2VyU3RhdGljUGxhdGZvcm0gPSBicm93c2VyU3RhdGljUGxhdGZvcm07XG4vKipcbiAqIFNlZSB7QGxpbmsgYm9vdHN0cmFwfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xuZnVuY3Rpb24gYm9vdHN0cmFwU3RhdGljKGFwcENvbXBvbmVudFR5cGUsIGN1c3RvbVByb3ZpZGVycywgaW5pdFJlZmxlY3Rvcikge1xuICAgIGlmIChsYW5nXzEuaXNQcmVzZW50KGluaXRSZWZsZWN0b3IpKSB7XG4gICAgICAgIGluaXRSZWZsZWN0b3IoKTtcbiAgICB9XG4gICAgdmFyIGFwcFByb3ZpZGVycyA9IGxhbmdfMS5pc1ByZXNlbnQoY3VzdG9tUHJvdmlkZXJzKSA/IFtleHBvcnRzLkJST1dTRVJfQVBQX1NUQVRJQ19QUk9WSURFUlMsIGN1c3RvbVByb3ZpZGVyc10gOlxuICAgICAgICBleHBvcnRzLkJST1dTRVJfQVBQX1NUQVRJQ19QUk9WSURFUlM7XG4gICAgdmFyIGFwcEluamVjdG9yID0gY29yZV8xLlJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKGFwcFByb3ZpZGVycywgYnJvd3NlclN0YXRpY1BsYXRmb3JtKCkuaW5qZWN0b3IpO1xuICAgIHJldHVybiBjb3JlXzEuY29yZUxvYWRBbmRCb290c3RyYXAoYXBwSW5qZWN0b3IsIGFwcENvbXBvbmVudFR5cGUpO1xufVxuZXhwb3J0cy5ib290c3RyYXBTdGF0aWMgPSBib290c3RyYXBTdGF0aWM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbGF0Zm9ybV9icm93c2VyX3N0YXRpYy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIHVybF9zYW5pdGl6ZXJfMSA9IHJlcXVpcmUoJy4vdXJsX3Nhbml0aXplcicpO1xudmFyIHN0eWxlX3Nhbml0aXplcl8xID0gcmVxdWlyZSgnLi9zdHlsZV9zYW5pdGl6ZXInKTtcbnZhciBjb3JlX3ByaXZhdGVfMSA9IHJlcXVpcmUoJy4uLy4uL2NvcmVfcHJpdmF0ZScpO1xuZXhwb3J0cy5TZWN1cml0eUNvbnRleHQgPSBjb3JlX3ByaXZhdGVfMS5TZWN1cml0eUNvbnRleHQ7XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xuLyoqXG4gKiBEb21TYW5pdGl6YXRpb25TZXJ2aWNlIGhlbHBzIHByZXZlbnRpbmcgQ3Jvc3MgU2l0ZSBTY3JpcHRpbmcgU2VjdXJpdHkgYnVncyAoWFNTKSBieSBzYW5pdGl6aW5nXG4gKiB2YWx1ZXMgdG8gYmUgc2FmZSB0byB1c2UgaW4gdGhlIGRpZmZlcmVudCBET00gY29udGV4dHMuXG4gKlxuICogRm9yIGV4YW1wbGUsIHdoZW4gYmluZGluZyBhIFVSTCBpbiBhbiBgPGEgW2hyZWZdPVwic29tZVZhbHVlXCI+YCBoeXBlcmxpbmssIGBzb21lVmFsdWVgIHdpbGwgYmVcbiAqIHNhbml0aXplZCBzbyB0aGF0IGFuIGF0dGFja2VyIGNhbm5vdCBpbmplY3QgZS5nLiBhIGBqYXZhc2NyaXB0OmAgVVJMIHRoYXQgd291bGQgZXhlY3V0ZSBjb2RlIG9uXG4gKiB0aGUgd2Vic2l0ZS5cbiAqXG4gKiBJbiBzcGVjaWZpYyBzaXR1YXRpb25zLCBpdCBtaWdodCBiZSBuZWNlc3NhcnkgdG8gZGlzYWJsZSBzYW5pdGl6YXRpb24sIGZvciBleGFtcGxlIGlmIHRoZVxuICogYXBwbGljYXRpb24gZ2VudWluZWx5IG5lZWRzIHRvIHByb2R1Y2UgYSBgamF2YXNjcmlwdDpgIHN0eWxlIGxpbmsgd2l0aCBhIGR5bmFtaWMgdmFsdWUgaW4gaXQuXG4gKiBVc2VycyBjYW4gYnlwYXNzIHNlY3VyaXR5IGJ5IGNvbnN0cnVjdGluZyBhIHZhbHVlIHdpdGggb25lIG9mIHRoZSBgYnlwYXNzU2VjdXJpdHlUcnVzdC4uLmBcbiAqIG1ldGhvZHMsIGFuZCB0aGVuIGJpbmRpbmcgdG8gdGhhdCB2YWx1ZSBmcm9tIHRoZSB0ZW1wbGF0ZS5cbiAqXG4gKiBUaGVzZSBzaXR1YXRpb25zIHNob3VsZCBiZSB2ZXJ5IHJhcmUsIGFuZCBleHRyYW9yZGluYXJ5IGNhcmUgbXVzdCBiZSB0YWtlbiB0byBhdm9pZCBjcmVhdGluZyBhXG4gKiBDcm9zcyBTaXRlIFNjcmlwdGluZyAoWFNTKSBzZWN1cml0eSBidWchXG4gKlxuICogV2hlbiB1c2luZyBgYnlwYXNzU2VjdXJpdHlUcnVzdC4uLmAsIG1ha2Ugc3VyZSB0byBjYWxsIHRoZSBtZXRob2QgYXMgZWFybHkgYXMgcG9zc2libGUgYW5kIGFzXG4gKiBjbG9zZSBhcyBwb3NzaWJsZSB0byB0aGUgc291cmNlIG9mIHRoZSB2YWx1ZSwgdG8gbWFrZSBpdCBlYXN5IHRvIHZlcmlmeSBubyBzZWN1cml0eSBidWcgaXNcbiAqIGNyZWF0ZWQgYnkgaXRzIHVzZS5cbiAqXG4gKiBJdCBpcyBub3QgcmVxdWlyZWQgKGFuZCBub3QgcmVjb21tZW5kZWQpIHRvIGJ5cGFzcyBzZWN1cml0eSBpZiB0aGUgdmFsdWUgaXMgc2FmZSwgZS5nLiBhIFVSTCB0aGF0XG4gKiBkb2VzIG5vdCBzdGFydCB3aXRoIGEgc3VzcGljaW91cyBwcm90b2NvbCwgb3IgYW4gSFRNTCBzbmlwcGV0IHRoYXQgZG9lcyBub3QgY29udGFpbiBkYW5nZXJvdXNcbiAqIGNvZGUuIFRoZSBzYW5pdGl6ZXIgbGVhdmVzIHNhZmUgdmFsdWVzIGludGFjdC5cbiAqL1xudmFyIERvbVNhbml0aXphdGlvblNlcnZpY2UgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERvbVNhbml0aXphdGlvblNlcnZpY2UoKSB7XG4gICAgfVxuICAgIHJldHVybiBEb21TYW5pdGl6YXRpb25TZXJ2aWNlO1xufSgpKTtcbmV4cG9ydHMuRG9tU2FuaXRpemF0aW9uU2VydmljZSA9IERvbVNhbml0aXphdGlvblNlcnZpY2U7XG52YXIgRG9tU2FuaXRpemF0aW9uU2VydmljZUltcGwgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEb21TYW5pdGl6YXRpb25TZXJ2aWNlSW1wbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEb21TYW5pdGl6YXRpb25TZXJ2aWNlSW1wbCgpIHtcbiAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIERvbVNhbml0aXphdGlvblNlcnZpY2VJbXBsLnByb3RvdHlwZS5zYW5pdGl6ZSA9IGZ1bmN0aW9uIChjdHgsIHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHN3aXRjaCAoY3R4KSB7XG4gICAgICAgICAgICBjYXNlIGNvcmVfcHJpdmF0ZV8xLlNlY3VyaXR5Q29udGV4dC5OT05FOlxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIGNhc2UgY29yZV9wcml2YXRlXzEuU2VjdXJpdHlDb250ZXh0LkhUTUw6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgU2FmZUh0bWxJbXBsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrTm90U2FmZVZhbHVlKHZhbHVlLCAnSFRNTCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNhbml0aXplSHRtbChTdHJpbmcodmFsdWUpKTtcbiAgICAgICAgICAgIGNhc2UgY29yZV9wcml2YXRlXzEuU2VjdXJpdHlDb250ZXh0LlNUWUxFOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFNhZmVTdHlsZUltcGwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5jaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5O1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tOb3RTYWZlVmFsdWUodmFsdWUsICdTdHlsZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZV9zYW5pdGl6ZXJfMS5zYW5pdGl6ZVN0eWxlKHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgY29yZV9wcml2YXRlXzEuU2VjdXJpdHlDb250ZXh0LlNDUklQVDpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBTYWZlU2NyaXB0SW1wbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja05vdFNhZmVWYWx1ZSh2YWx1ZSwgJ1NjcmlwdCcpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5zYWZlIHZhbHVlIHVzZWQgaW4gYSBzY3JpcHQgY29udGV4dCcpO1xuICAgICAgICAgICAgY2FzZSBjb3JlX3ByaXZhdGVfMS5TZWN1cml0eUNvbnRleHQuVVJMOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFNhZmVVcmxJbXBsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrTm90U2FmZVZhbHVlKHZhbHVlLCAnVVJMJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVybF9zYW5pdGl6ZXJfMS5zYW5pdGl6ZVVybChTdHJpbmcodmFsdWUpKTtcbiAgICAgICAgICAgIGNhc2UgY29yZV9wcml2YXRlXzEuU2VjdXJpdHlDb250ZXh0LlJFU09VUkNFX1VSTDpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBTYWZlUmVzb3VyY2VVcmxJbXBsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5jaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrTm90U2FmZVZhbHVlKHZhbHVlLCAnUmVzb3VyY2VVUkwnKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vuc2FmZSB2YWx1ZSB1c2VkIGluIGEgcmVzb3VyY2UgVVJMIGNvbnRleHQnKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBTZWN1cml0eUNvbnRleHQgXCIgKyBjdHgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEb21TYW5pdGl6YXRpb25TZXJ2aWNlSW1wbC5wcm90b3R5cGUuY2hlY2tOb3RTYWZlVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUsIGV4cGVjdGVkVHlwZSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBTYWZlVmFsdWVJbXBsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIGEgc2FmZSAnICsgZXhwZWN0ZWRUeXBlICsgJywgZ290IGEgJyArIHZhbHVlLmdldFR5cGVOYW1lKCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEb21TYW5pdGl6YXRpb25TZXJ2aWNlSW1wbC5wcm90b3R5cGUuc2FuaXRpemVIdG1sID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIC8vIFRPRE8obWFydGlucHJvYnN0KTogaW1wbGVtZW50LlxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBEb21TYW5pdGl6YXRpb25TZXJ2aWNlSW1wbC5wcm90b3R5cGUuYnlwYXNzU2VjdXJpdHlUcnVzdEh0bWwgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIG5ldyBTYWZlSHRtbEltcGwodmFsdWUpOyB9O1xuICAgIERvbVNhbml0aXphdGlvblNlcnZpY2VJbXBsLnByb3RvdHlwZS5ieXBhc3NTZWN1cml0eVRydXN0U3R5bGUgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIG5ldyBTYWZlU3R5bGVJbXBsKHZhbHVlKTsgfTtcbiAgICBEb21TYW5pdGl6YXRpb25TZXJ2aWNlSW1wbC5wcm90b3R5cGUuYnlwYXNzU2VjdXJpdHlUcnVzdFNjcmlwdCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gbmV3IFNhZmVTY3JpcHRJbXBsKHZhbHVlKTsgfTtcbiAgICBEb21TYW5pdGl6YXRpb25TZXJ2aWNlSW1wbC5wcm90b3R5cGUuYnlwYXNzU2VjdXJpdHlUcnVzdFVybCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gbmV3IFNhZmVVcmxJbXBsKHZhbHVlKTsgfTtcbiAgICBEb21TYW5pdGl6YXRpb25TZXJ2aWNlSW1wbC5wcm90b3R5cGUuYnlwYXNzU2VjdXJpdHlUcnVzdFJlc291cmNlVXJsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2FmZVJlc291cmNlVXJsSW1wbCh2YWx1ZSk7XG4gICAgfTtcbiAgICBEb21TYW5pdGl6YXRpb25TZXJ2aWNlSW1wbC5kZWNvcmF0b3JzID0gW1xuICAgICAgICB7IHR5cGU6IGNvcmVfMS5JbmplY3RhYmxlIH0sXG4gICAgXTtcbiAgICByZXR1cm4gRG9tU2FuaXRpemF0aW9uU2VydmljZUltcGw7XG59KERvbVNhbml0aXphdGlvblNlcnZpY2UpKTtcbmV4cG9ydHMuRG9tU2FuaXRpemF0aW9uU2VydmljZUltcGwgPSBEb21TYW5pdGl6YXRpb25TZXJ2aWNlSW1wbDtcbnZhciBTYWZlVmFsdWVJbXBsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTYWZlVmFsdWVJbXBsKGNoYW5naW5nVGhpc0JyZWFrc0FwcGxpY2F0aW9uU2VjdXJpdHkpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2luZ1RoaXNCcmVha3NBcHBsaWNhdGlvblNlY3VyaXR5ID0gY2hhbmdpbmdUaGlzQnJlYWtzQXBwbGljYXRpb25TZWN1cml0eTtcbiAgICAgICAgLy8gZW1wdHlcbiAgICB9XG4gICAgcmV0dXJuIFNhZmVWYWx1ZUltcGw7XG59KCkpO1xudmFyIFNhZmVIdG1sSW1wbCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNhZmVIdG1sSW1wbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYWZlSHRtbEltcGwoKSB7XG4gICAgICAgIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICBTYWZlSHRtbEltcGwucHJvdG90eXBlLmdldFR5cGVOYW1lID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ0hUTUwnOyB9O1xuICAgIHJldHVybiBTYWZlSHRtbEltcGw7XG59KFNhZmVWYWx1ZUltcGwpKTtcbnZhciBTYWZlU3R5bGVJbXBsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2FmZVN0eWxlSW1wbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYWZlU3R5bGVJbXBsKCkge1xuICAgICAgICBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgU2FmZVN0eWxlSW1wbC5wcm90b3R5cGUuZ2V0VHlwZU5hbWUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnU3R5bGUnOyB9O1xuICAgIHJldHVybiBTYWZlU3R5bGVJbXBsO1xufShTYWZlVmFsdWVJbXBsKSk7XG52YXIgU2FmZVNjcmlwdEltcGwgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTYWZlU2NyaXB0SW1wbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYWZlU2NyaXB0SW1wbCgpIHtcbiAgICAgICAgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIFNhZmVTY3JpcHRJbXBsLnByb3RvdHlwZS5nZXRUeXBlTmFtZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICdTY3JpcHQnOyB9O1xuICAgIHJldHVybiBTYWZlU2NyaXB0SW1wbDtcbn0oU2FmZVZhbHVlSW1wbCkpO1xudmFyIFNhZmVVcmxJbXBsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2FmZVVybEltcGwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2FmZVVybEltcGwoKSB7XG4gICAgICAgIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICBTYWZlVXJsSW1wbC5wcm90b3R5cGUuZ2V0VHlwZU5hbWUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnVVJMJzsgfTtcbiAgICByZXR1cm4gU2FmZVVybEltcGw7XG59KFNhZmVWYWx1ZUltcGwpKTtcbnZhciBTYWZlUmVzb3VyY2VVcmxJbXBsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2FmZVJlc291cmNlVXJsSW1wbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYWZlUmVzb3VyY2VVcmxJbXBsKCkge1xuICAgICAgICBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgU2FmZVJlc291cmNlVXJsSW1wbC5wcm90b3R5cGUuZ2V0VHlwZU5hbWUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnUmVzb3VyY2VVUkwnOyB9O1xuICAgIHJldHVybiBTYWZlUmVzb3VyY2VVcmxJbXBsO1xufShTYWZlVmFsdWVJbXBsKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kb21fc2FuaXRpemF0aW9uX3NlcnZpY2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiogUmVndWxhciBleHByZXNzaW9uIGZvciBzYWZlIHN0eWxlIHZhbHVlcy5cbipcbiogUXVvdGVzIChcIiBhbmQgJykgYXJlIGFsbG93ZWQsIGJ1dCBhIGNoZWNrIG11c3QgYmUgZG9uZSBlbHNld2hlcmUgdG8gZW5zdXJlXG4qIHRoZXkncmUgYmFsYW5jZWQuXG4qXG4qICcsJyBhbGxvd3MgbXVsdGlwbGUgdmFsdWVzIHRvIGJlIGFzc2lnbmVkIHRvIHRoZSBzYW1lIHByb3BlcnR5XG4qIChlLmcuIGJhY2tncm91bmQtYXR0YWNobWVudCBvciBmb250LWZhbWlseSkgYW5kIGhlbmNlIGNvdWxkIGFsbG93XG4qIG11bHRpcGxlIHZhbHVlcyB0byBnZXQgaW5qZWN0ZWQsIGJ1dCB0aGF0IHNob3VsZCBwb3NlIG5vIHJpc2sgb2YgWFNTLlxuKlxuKiBUaGUgcmdiKCkgYW5kIHJnYmEoKSBleHByZXNzaW9uIGNoZWNrcyBvbmx5IGZvciBYU1Mgc2FmZXR5LCBub3QgZm9yIENTU1xuKiB2YWxpZGl0eS5cbipcbiogVGhpcyByZWd1bGFyIGV4cHJlc3Npb24gd2FzIHRha2VuIGZyb20gdGhlIENsb3N1cmUgc2FuaXRpemF0aW9uIGxpYnJhcnkuXG4qL1xudmFyIFNBRkVfU1RZTEVfVkFMVUUgPSAvXihbLSwuXCInJV8hIyBhLXpBLVowLTldK3woPzpyZ2J8aHNsKWE/XFwoWzAtOS4lLCBdK1xcKSkkLztcbi8qKlxuICogQ2hlY2tzIHRoYXQgcXVvdGVzIChcIiBhbmQgJykgYXJlIHByb3Blcmx5IGJhbGFuY2VkIGluc2lkZSBhIHN0cmluZy4gQXNzdW1lc1xuICogdGhhdCBuZWl0aGVyIGVzY2FwZSAoXFwpIG5vciBhbnkgb3RoZXIgY2hhcmFjdGVyIHRoYXQgY291bGQgcmVzdWx0IGluXG4gKiBicmVha2luZyBvdXQgb2YgYSBzdHJpbmcgcGFyc2luZyBjb250ZXh0IGFyZSBhbGxvd2VkO1xuICogc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtc3ludGF4LyNzdHJpbmctdG9rZW4tZGlhZ3JhbS5cbiAqXG4gKiBUaGlzIGNvZGUgd2FzIHRha2VuIGZyb20gdGhlIENsb3N1cmUgc2FuaXRpemF0aW9uIGxpYnJhcnkuXG4gKi9cbmZ1bmN0aW9uIGhhc0JhbGFuY2VkUXVvdGVzKHZhbHVlKSB7XG4gICAgdmFyIG91dHNpZGVTaW5nbGUgPSB0cnVlO1xuICAgIHZhciBvdXRzaWRlRG91YmxlID0gdHJ1ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjID0gdmFsdWUuY2hhckF0KGkpO1xuICAgICAgICBpZiAoYyA9PT0gJ1xcJycgJiYgb3V0c2lkZURvdWJsZSkge1xuICAgICAgICAgICAgb3V0c2lkZVNpbmdsZSA9ICFvdXRzaWRlU2luZ2xlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPT09ICdcIicgJiYgb3V0c2lkZVNpbmdsZSkge1xuICAgICAgICAgICAgb3V0c2lkZURvdWJsZSA9ICFvdXRzaWRlRG91YmxlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRzaWRlU2luZ2xlICYmIG91dHNpZGVEb3VibGU7XG59XG5mdW5jdGlvbiBzYW5pdGl6ZVN0eWxlKHZhbHVlKSB7XG4gICAgaWYgKFN0cmluZyh2YWx1ZSkubWF0Y2goU0FGRV9TVFlMRV9WQUxVRSkgJiYgaGFzQmFsYW5jZWRRdW90ZXModmFsdWUpKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgcmV0dXJuICd1bnNhZmUnO1xufVxuZXhwb3J0cy5zYW5pdGl6ZVN0eWxlID0gc2FuaXRpemVTdHlsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlX3Nhbml0aXplci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuKiBBIHBhdHRlcm4gdGhhdCByZWNvZ25pemVzIGEgY29tbW9ubHkgdXNlZnVsIHN1YnNldCBvZiBVUkxzIHRoYXQgYXJlIHNhZmUuXG4qXG4qIFRoaXMgcmVndWxhciBleHByZXNzaW9uIG1hdGNoZXMgYSBzdWJzZXQgb2YgVVJMcyB0aGF0IHdpbGwgbm90IGNhdXNlIHNjcmlwdFxuKiBleGVjdXRpb24gaWYgdXNlZCBpbiBVUkwgY29udGV4dCB3aXRoaW4gYSBIVE1MIGRvY3VtZW50LiBTcGVjaWZpY2FsbHksIHRoaXNcbiogcmVndWxhciBleHByZXNzaW9uIG1hdGNoZXMgaWYgKGNvbW1lbnQgZnJvbSBoZXJlIG9uIGFuZCByZWdleCBjb3BpZWQgZnJvbVxuKiBTb3kncyBFc2NhcGluZ0NvbnZlbnRpb25zKTpcbiogKDEpIEVpdGhlciBhIHByb3RvY29sIGluIGEgd2hpdGVsaXN0IChodHRwLCBodHRwcywgbWFpbHRvIG9yIGZ0cCkuXG4qICgyKSBvciBubyBwcm90b2NvbC4gIEEgcHJvdG9jb2wgbXVzdCBiZSBmb2xsb3dlZCBieSBhIGNvbG9uLiBUaGUgYmVsb3dcbiogICAgIGFsbG93cyB0aGF0IGJ5IGFsbG93aW5nIGNvbG9ucyBvbmx5IGFmdGVyIG9uZSBvZiB0aGUgY2hhcmFjdGVycyBbLz8jXS5cbiogICAgIEEgY29sb24gYWZ0ZXIgYSBoYXNoICgjKSBtdXN0IGJlIGluIHRoZSBmcmFnbWVudC5cbiogICAgIE90aGVyd2lzZSwgYSBjb2xvbiBhZnRlciBhICg/KSBtdXN0IGJlIGluIGEgcXVlcnkuXG4qICAgICBPdGhlcndpc2UsIGEgY29sb24gYWZ0ZXIgYSBzaW5nbGUgc29saWR1cyAoLykgbXVzdCBiZSBpbiBhIHBhdGguXG4qICAgICBPdGhlcndpc2UsIGEgY29sb24gYWZ0ZXIgYSBkb3VibGUgc29saWR1cyAoLy8pIG11c3QgYmUgaW4gdGhlIGF1dGhvcml0eVxuKiAgICAgKGJlZm9yZSBwb3J0KS5cbipcbiogVGhlIHBhdHRlcm4gZGlzYWxsb3dzICYsIHVzZWQgaW4gSFRNTCBlbnRpdHkgZGVjbGFyYXRpb25zIGJlZm9yZVxuKiBvbmUgb2YgdGhlIGNoYXJhY3RlcnMgaW4gWy8/I10uIFRoaXMgZGlzYWxsb3dzIEhUTUwgZW50aXRpZXMgdXNlZCBpbiB0aGVcbiogcHJvdG9jb2wgbmFtZSwgd2hpY2ggc2hvdWxkIG5ldmVyIGhhcHBlbiwgZS5nLiBcImgmIzExNjt0cFwiIGZvciBcImh0dHBcIi5cbiogSXQgYWxzbyBkaXNhbGxvd3MgSFRNTCBlbnRpdGllcyBpbiB0aGUgZmlyc3QgcGF0aCBwYXJ0IG9mIGEgcmVsYXRpdmUgcGF0aCxcbiogZS5nLiBcImZvbyZsdDtiYXIvYmF6XCIuICBPdXIgZXhpc3RpbmcgZXNjYXBpbmcgZnVuY3Rpb25zIHNob3VsZCBub3QgcHJvZHVjZVxuKiB0aGF0LiBNb3JlIGltcG9ydGFudGx5LCBpdCBkaXNhbGxvd3MgbWFza2luZyBvZiBhIGNvbG9uLFxuKiBlLmcuIFwiamF2YXNjcmlwdCYjNTg7Li4uXCIuXG4qXG4qIFRoaXMgcmVndWxhciBleHByZXNzaW9uIHdhcyB0YWtlbiBmcm9tIHRoZSBDbG9zdXJlIHNhbml0aXphdGlvbiBsaWJyYXJ5LlxuKi9cbnZhciBTQUZFX1VSTF9QQVRURVJOID0gL14oPzooPzpodHRwcz98bWFpbHRvfGZ0cHx0ZWx8ZmlsZSk6fFteJjovPyNdKig/OlsvPyNdfCQpKS9naTtcbmZ1bmN0aW9uIHNhbml0aXplVXJsKHVybCkge1xuICAgIGlmIChTdHJpbmcodXJsKS5tYXRjaChTQUZFX1VSTF9QQVRURVJOKSlcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICByZXR1cm4gJ3Vuc2FmZTonICsgdXJsO1xufVxuZXhwb3J0cy5zYW5pdGl6ZVVybCA9IHNhbml0aXplVXJsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXJsX3Nhbml0aXplci5qcy5tYXAiLCIoZnVuY3Rpb24obmFtZSwgZGVmaW5pdGlvbikge1xuXG4vKioqKioqKioqKioqKioqKlxuICogIEEgdG9sZXJhbnQsIG1pbmltYWwgaWNhbGVuZGFyIHBhcnNlclxuICogIChodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM1NTQ1KVxuICpcbiAqICA8cGV0ZXJicmFkZW5AcGV0ZXJicmFkZW4uY28udWs+XG4gKiAqKioqKioqKioqKioqKi9cblxuICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGRlZmluaXRpb24oKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0Jyl7XG4gICAgZGVmaW5lKGRlZmluaXRpb24pO1xuICB9IGVsc2Uge1xuICAgIHRoaXNbbmFtZV0gPSBkZWZpbml0aW9uKCk7XG4gIH1cblxufSgnaWNhbCcsIGZ1bmN0aW9uKCl7XG5cbiAgIC8vIFVuZXNjYXBlIFRleHQgcmUgUkZDIDQuMy4xMVxuICB2YXIgdGV4dCA9IGZ1bmN0aW9uKHQpe1xuICAgIHQgPSB0IHx8IFwiXCI7XG4gICAgcmV0dXJuICh0XG4gICAgICAucmVwbGFjZSgvXFxcXFxcLC9nLCAnLCcpXG4gICAgICAucmVwbGFjZSgvXFxcXFxcOy9nLCAnOycpXG4gICAgICAucmVwbGFjZSgvXFxcXFtuTl0vZywgJ1xcbicpXG4gICAgICAucmVwbGFjZSgvXFxcXFxcXFwvZywgJ1xcXFwnKVxuICAgIClcbiAgfVxuXG4gIHZhciBwYXJzZVBhcmFtcyA9IGZ1bmN0aW9uKHApe1xuICAgIHZhciBvdXQgPSB7fVxuICAgIGZvciAodmFyIGkgPSAwOyBpPHAubGVuZ3RoOyBpKyspe1xuICAgICAgaWYgKHBbaV0uaW5kZXhPZignPScpID4gLTEpe1xuICAgICAgICB2YXIgc2VncyA9IHBbaV0uc3BsaXQoJz0nKTtcbiAgICAgICAgXG4gICAgICAgIG91dFtzZWdzWzBdXSA9IHBhcnNlVmFsdWUoc2Vncy5zbGljZSgxKS5qb2luKCc9JykpO1xuICAgICAgICBcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dCB8fCBzcFxuICB9XG5cbiAgdmFyIHBhcnNlVmFsdWUgPSBmdW5jdGlvbih2YWwpe1xuICAgIGlmICgnVFJVRScgPT09IHZhbClcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIFxuICAgIGlmICgnRkFMU0UnID09PSB2YWwpXG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICB2YXIgbnVtYmVyID0gTnVtYmVyKHZhbCk7XG4gICAgaWYgKCFpc05hTihudW1iZXIpKVxuICAgICAgcmV0dXJuIG51bWJlcjtcblxuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICB2YXIgc3RvcmVQYXJhbSA9IGZ1bmN0aW9uKG5hbWUpe1xuICAgIHJldHVybiBmdW5jdGlvbih2YWwsIHBhcmFtcywgY3Vycil7XG4gICAgICB2YXIgZGF0YTtcbiAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLmxlbmd0aCAmJiAhKHBhcmFtcy5sZW5ndGg9PTEgJiYgcGFyYW1zWzBdPT09J0NIQVJTRVQ9dXRmLTgnKSl7XG4gICAgICAgIGRhdGEgPSB7cGFyYW1zOnBhcnNlUGFyYW1zKHBhcmFtcyksIHZhbDp0ZXh0KHZhbCl9XG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICAgIGRhdGEgPSB0ZXh0KHZhbClcblxuICAgICAgdmFyIGN1cnJlbnQgPSBjdXJyW25hbWVdO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY3VycmVudCkpe1xuICAgICAgICBjdXJyZW50LnB1c2goZGF0YSk7XG4gICAgICAgIHJldHVybiBjdXJyO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3VycmVudCAhPSBudWxsKXtcbiAgICAgICAgY3VycltuYW1lXSA9IFtjdXJyZW50LCBkYXRhXTtcbiAgICAgICAgcmV0dXJuIGN1cnI7XG4gICAgICB9XG5cbiAgICAgIGN1cnJbbmFtZV0gPSBkYXRhO1xuICAgICAgcmV0dXJuIGN1cnJcbiAgICB9XG4gIH1cblxuICB2YXIgYWRkVFogPSBmdW5jdGlvbihkdCwgbmFtZSwgcGFyYW1zKXtcbiAgICB2YXIgcCA9IHBhcnNlUGFyYW1zKHBhcmFtcyk7XG5cbiAgICBpZiAocGFyYW1zICYmIHApe1xuICAgICAgZHRbbmFtZV0udHogPSBwLlRaSURcbiAgICB9XG5cbiAgICByZXR1cm4gZHRcbiAgfVxuXG5cbiAgdmFyIGRhdGVQYXJhbSA9IGZ1bmN0aW9uKG5hbWUpe1xuICAgIHJldHVybiBmdW5jdGlvbih2YWwsIHBhcmFtcywgY3Vycil7XG5cbiAgICAgIC8vIFN0b3JlIGFzIHN0cmluZyAtIHdvcnN0IGNhc2Ugc2NlbmFyaW9cbiAgICAgIHN0b3JlUGFyYW0obmFtZSkodmFsLCB1bmRlZmluZWQsIGN1cnIpXG5cbiAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zWzBdID09PSBcIlZBTFVFPURBVEVcIikge1xuICAgICAgICAvLyBKdXN0IERhdGVcblxuICAgICAgICB2YXIgY29tcHMgPSAvXihcXGR7NH0pKFxcZHsyfSkoXFxkezJ9KSQvLmV4ZWModmFsKTtcbiAgICAgICAgaWYgKGNvbXBzICE9PSBudWxsKSB7XG4gICAgICAgICAgLy8gTm8gVFogaW5mbyAtIGFzc3VtZSBzYW1lIHRpbWV6b25lIGFzIHRoaXMgY29tcHV0ZXJcbiAgICAgICAgICBjdXJyW25hbWVdID0gbmV3IERhdGUoXG4gICAgICAgICAgICBjb21wc1sxXSxcbiAgICAgICAgICAgIHBhcnNlSW50KGNvbXBzWzJdLCAxMCktMSxcbiAgICAgICAgICAgIGNvbXBzWzNdXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHJldHVybiBhZGRUWihjdXJyLCBuYW1lLCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgICB9XG5cblxuICAgICAgLy90eXBpY2FsIFJGQyBkYXRlLXRpbWUgZm9ybWF0XG4gICAgICB2YXIgY29tcHMgPSAvXihcXGR7NH0pKFxcZHsyfSkoXFxkezJ9KVQoXFxkezJ9KShcXGR7Mn0pKFxcZHsyfSkoWik/JC8uZXhlYyh2YWwpO1xuICAgICAgaWYgKGNvbXBzICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChjb21wc1s3XSA9PSAnWicpeyAvLyBHTVRcbiAgICAgICAgICBjdXJyW25hbWVdID0gbmV3IERhdGUoRGF0ZS5VVEMoXG4gICAgICAgICAgICBwYXJzZUludChjb21wc1sxXSwgMTApLFxuICAgICAgICAgICAgcGFyc2VJbnQoY29tcHNbMl0sIDEwKS0xLFxuICAgICAgICAgICAgcGFyc2VJbnQoY29tcHNbM10sIDEwKSxcbiAgICAgICAgICAgIHBhcnNlSW50KGNvbXBzWzRdLCAxMCksXG4gICAgICAgICAgICBwYXJzZUludChjb21wc1s1XSwgMTApLFxuICAgICAgICAgICAgcGFyc2VJbnQoY29tcHNbNl0sIDEwIClcbiAgICAgICAgICApKTtcbiAgICAgICAgICAvLyBUT0RPIGFkZCB0elxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1cnJbbmFtZV0gPSBuZXcgRGF0ZShcbiAgICAgICAgICAgIHBhcnNlSW50KGNvbXBzWzFdLCAxMCksXG4gICAgICAgICAgICBwYXJzZUludChjb21wc1syXSwgMTApLTEsXG4gICAgICAgICAgICBwYXJzZUludChjb21wc1szXSwgMTApLFxuICAgICAgICAgICAgcGFyc2VJbnQoY29tcHNbNF0sIDEwKSxcbiAgICAgICAgICAgIHBhcnNlSW50KGNvbXBzWzVdLCAxMCksXG4gICAgICAgICAgICBwYXJzZUludChjb21wc1s2XSwgMTApXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWRkVFooY3VyciwgbmFtZSwgcGFyYW1zKVxuICAgIH1cbiAgfVxuXG5cbiAgdmFyIGdlb1BhcmFtID0gZnVuY3Rpb24obmFtZSl7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbCwgcGFyYW1zLCBjdXJyKXtcbiAgICAgIHN0b3JlUGFyYW0odmFsLCBwYXJhbXMsIGN1cnIpXG4gICAgICB2YXIgcGFydHMgPSB2YWwuc3BsaXQoJzsnKTtcbiAgICAgIGN1cnJbbmFtZV0gPSB7bGF0Ok51bWJlcihwYXJ0c1swXSksIGxvbjpOdW1iZXIocGFydHNbMV0pfTtcbiAgICAgIHJldHVybiBjdXJyXG4gICAgfVxuICB9XG5cbiAgdmFyIGNhdGVnb3JpZXNQYXJhbSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFyIHNlcGFyYXRvclBhdHRlcm4gPSAvXFxzKixcXHMqL2c7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwsIHBhcmFtcywgY3Vycikge1xuICAgICAgc3RvcmVQYXJhbSh2YWwsIHBhcmFtcywgY3VycilcbiAgICAgIGN1cnJbbmFtZV0gPSB2YWwgPyB2YWwuc3BsaXQoc2VwYXJhdG9yUGF0dGVybikgOiBbXVxuICAgICAgcmV0dXJuIGN1cnJcbiAgICB9XG4gIH1cblxuICB2YXIgYWRkRkJUeXBlID0gZnVuY3Rpb24oZmIsIHBhcmFtcyl7XG4gICAgdmFyIHAgPSBwYXJzZVBhcmFtcyhwYXJhbXMpO1xuXG4gICAgaWYgKHBhcmFtcyAmJiBwKXtcbiAgICAgIGZiLnR5cGUgPSBwLkZCVFlQRSB8fCBcIkJVU1lcIlxuICAgIH1cblxuICAgIHJldHVybiBmYjtcbiAgfVxuXG4gIHZhciBmcmVlYnVzeVBhcmFtID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsLCBwYXJhbXMsIGN1cnIpe1xuICAgICAgdmFyIGZiID0gYWRkRkJUeXBlKHt9LCBwYXJhbXMpO1xuICAgICAgY3VycltuYW1lXSA9IGN1cnJbbmFtZV0gfHwgW11cbiAgICAgIGN1cnJbbmFtZV0ucHVzaChmYik7XG5cbiAgICAgIHN0b3JlUGFyYW0odmFsLCBwYXJhbXMsIGZiKTtcblxuICAgICAgdmFyIHBhcnRzID0gdmFsLnNwbGl0KCcvJyk7XG5cbiAgICAgIFsnc3RhcnQnLCAnZW5kJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSwgaW5kZXgpIHtcbiAgICAgICAgZGF0ZVBhcmFtKG5hbWUpKHBhcnRzW2luZGV4XSwgcGFyYW1zLCBmYik7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGN1cnI7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcblxuXG4gICAgb2JqZWN0SGFuZGxlcnMgOiB7XG4gICAgICAnQkVHSU4nIDogZnVuY3Rpb24oY29tcG9uZW50LCBwYXJhbXMsIGN1cnIsIHN0YWNrKXtcbiAgICAgICAgICBzdGFjay5wdXNoKGN1cnIpXG5cbiAgICAgICAgICByZXR1cm4ge3R5cGU6Y29tcG9uZW50LCBwYXJhbXM6cGFyYW1zfVxuICAgICAgICB9XG5cbiAgICAgICwgJ0VORCcgOiBmdW5jdGlvbihjb21wb25lbnQsIHBhcmFtcywgY3Vyciwgc3RhY2spe1xuICAgICAgICAvLyBwcmV2ZW50cyB0aGUgbmVlZCB0byBzZWFyY2ggdGhlIHJvb3Qgb2YgdGhlIHRyZWUgZm9yIHRoZSBWQ0FMRU5EQVIgb2JqZWN0XG4gICAgICAgIGlmIChjb21wb25lbnQgPT09IFwiVkNBTEVOREFSXCIpIHtcbiAgICAgICAgICAgIC8vc2NhbiBhbGwgaGlnaCBsZXZlbCBvYmplY3QgaW4gY3VyciBhbmQgZHJvcCBhbGwgc3RyaW5nc1xuICAgICAgICAgICAgdmFyIGtleSxcbiAgICAgICAgICAgICAgICBvYmo7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAoa2V5IGluIGN1cnIpIHtcbiAgICAgICAgICAgICAgICBpZihjdXJyLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICBvYmogPSBjdXJyW2tleV07XG4gICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmogPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjdXJyW2tleV07XG4gICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIGN1cnJcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdmFyIHBhciA9IHN0YWNrLnBvcCgpXG5cbiAgICAgICAgaWYgKGN1cnIudWlkKVxuICAgICAgICAgIHBhcltjdXJyLnVpZF0gPSBjdXJyXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBwYXJbTWF0aC5yYW5kb20oKSoxMDAwMDBdID0gY3VyciAgLy8gUmFuZG9tbHkgYXNzaWduIElEIDogVE9ETyAtIHVzZSB0cnVlIEdVSURcblxuICAgICAgICByZXR1cm4gcGFyXG4gICAgICB9XG5cbiAgICAgICwgJ1NVTU1BUlknIDogc3RvcmVQYXJhbSgnc3VtbWFyeScpXG4gICAgICAsICdERVNDUklQVElPTicgOiBzdG9yZVBhcmFtKCdkZXNjcmlwdGlvbicpXG4gICAgICAsICdVUkwnIDogc3RvcmVQYXJhbSgndXJsJylcbiAgICAgICwgJ1VJRCcgOiBzdG9yZVBhcmFtKCd1aWQnKVxuICAgICAgLCAnTE9DQVRJT04nIDogc3RvcmVQYXJhbSgnbG9jYXRpb24nKVxuICAgICAgLCAnRFRTVEFSVCcgOiBkYXRlUGFyYW0oJ3N0YXJ0JylcbiAgICAgICwgJ0RURU5EJyA6IGRhdGVQYXJhbSgnZW5kJylcbiAgICAgICwnIENMQVNTJyA6IHN0b3JlUGFyYW0oJ2NsYXNzJylcbiAgICAgICwgJ1RSQU5TUCcgOiBzdG9yZVBhcmFtKCd0cmFuc3BhcmVuY3knKVxuICAgICAgLCAnR0VPJyA6IGdlb1BhcmFtKCdnZW8nKVxuICAgICAgLCAnUEVSQ0VOVC1DT01QTEVURSc6IHN0b3JlUGFyYW0oJ2NvbXBsZXRpb24nKVxuICAgICAgLCAnQ09NUExFVEVEJzogZGF0ZVBhcmFtKCdjb21wbGV0ZWQnKVxuICAgICAgLCAnQ0FURUdPUklFUyc6IGNhdGVnb3JpZXNQYXJhbSgnY2F0ZWdvcmllcycpXG4gICAgICAsICdGUkVFQlVTWSc6IGZyZWVidXN5UGFyYW0oJ2ZyZWVidXN5JylcbiAgICB9LFxuXG5cbiAgICBoYW5kbGVPYmplY3QgOiBmdW5jdGlvbihuYW1lLCB2YWwsIHBhcmFtcywgY3R4LCBzdGFjaywgbGluZSl7XG4gICAgICB2YXIgc2VsZiA9IHRoaXNcblxuICAgICAgaWYoc2VsZi5vYmplY3RIYW5kbGVyc1tuYW1lXSlcbiAgICAgICAgcmV0dXJuIHNlbGYub2JqZWN0SGFuZGxlcnNbbmFtZV0odmFsLCBwYXJhbXMsIGN0eCwgc3RhY2ssIGxpbmUpXG5cbiAgICAgIC8vaGFuZGxpbmcgY3VzdG9tIHByb3BlcnRpZXNcbiAgICAgIGlmKG5hbWUubWF0Y2goL1hcXC1bXFx3XFwtXSsvKSAmJiBzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy90cmltbWluZyB0aGUgbGVhZGluZyBhbmQgcGVyZm9ybSBzdG9yZVBhcmFtXG4gICAgICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyaW5nKDIpO1xuICAgICAgICAgIHJldHVybiAoc3RvcmVQYXJhbShuYW1lKSkodmFsLCBwYXJhbXMsIGN0eCwgc3RhY2ssIGxpbmUpO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gc3RvcmVQYXJhbShuYW1lLnRvTG93ZXJDYXNlKCkpKHZhbCwgcGFyYW1zLCBjdHgpO1xuICAgIH0sXG5cblxuICAgIHBhcnNlSUNTIDogZnVuY3Rpb24oc3RyKXtcbiAgICAgIHZhciBzZWxmID0gdGhpc1xuICAgICAgdmFyIGxpbmVzID0gc3RyLnNwbGl0KC9cXHI/XFxuLylcbiAgICAgIHZhciBjdHggPSB7fVxuICAgICAgdmFyIHN0YWNrID0gW11cblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbGluZXMubGVuZ3RoLCBsID0gbGluZXNbMF07IGk8aWk7IGkrKywgbD1saW5lc1tpXSl7XG4gICAgICAgIC8vVW5mb2xkIDogUkZDIzMuMVxuICAgICAgICB3aGlsZSAobGluZXNbaSsxXSAmJiAvWyBcXHRdLy50ZXN0KGxpbmVzW2krMV1bMF0pKSB7XG4gICAgICAgICAgbCArPSBsaW5lc1tpKzFdLnNsaWNlKDEpXG4gICAgICAgICAgaSArPSAxXG4gICAgICAgIH1cblxuICAgICAgICB2YXIga3YgPSBsLnNwbGl0KFwiOlwiKVxuXG4gICAgICAgIGlmIChrdi5sZW5ndGggPCAyKXtcbiAgICAgICAgICAvLyBJbnZhbGlkIGxpbmUgLSBtdXN0IGhhdmUgayZ2XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBbHRob3VnaCB0aGUgc3BlYyBzYXlzIHRoYXQgdmFscyB3aXRoIGNvbG9ucyBzaG91bGQgYmUgcXVvdGUgd3JhcHBlZFxuICAgICAgICAvLyBpbiBwcmFjdGlzZSBub2JvZHkgZG9lcywgc28gd2UgYXNzdW1lIGZ1cnRoZXIgY29sb25zIGFyZSBwYXJ0IG9mIHRoZVxuICAgICAgICAvLyB2YWxcbiAgICAgICAgdmFyIHZhbHVlID0ga3Yuc2xpY2UoMSkuam9pbihcIjpcIilcbiAgICAgICAgICAsIGtwID0ga3ZbMF0uc3BsaXQoXCI7XCIpXG4gICAgICAgICAgLCBuYW1lID0ga3BbMF1cbiAgICAgICAgICAsIHBhcmFtcyA9IGtwLnNsaWNlKDEpXG5cbiAgICAgICAgY3R4ID0gc2VsZi5oYW5kbGVPYmplY3QobmFtZSwgdmFsdWUsIHBhcmFtcywgY3R4LCBzdGFjaywgbCkgfHwge31cbiAgICAgIH1cblxuICAgICAgIC8vIHR5cGUgYW5kIHBhcmFtcyBhcmUgYWRkZWQgdG8gdGhlIGxpc3Qgb2YgaXRlbXMsIGdldCByaWQgb2YgdGhlbS5cbiAgICAgICBkZWxldGUgY3R4LnR5cGVcbiAgICAgICBkZWxldGUgY3R4LnBhcmFtc1xuXG4gICAgICAgcmV0dXJuIGN0eFxuICAgIH1cblxuICB9XG59KSlcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIHJvb3RfMSA9IHJlcXVpcmUoJy4vdXRpbC9yb290Jyk7XG52YXIgdG9TdWJzY3JpYmVyXzEgPSByZXF1aXJlKCcuL3V0aWwvdG9TdWJzY3JpYmVyJyk7XG52YXIgJCRvYnNlcnZhYmxlID0gcmVxdWlyZSgnc3ltYm9sLW9ic2VydmFibGUnKTtcbi8qKlxuICogQSByZXByZXNlbnRhdGlvbiBvZiBhbnkgc2V0IG9mIHZhbHVlcyBvdmVyIGFueSBhbW91bnQgb2YgdGltZS4gVGhpcyB0aGUgbW9zdCBiYXNpYyBidWlsZGluZyBibG9ja1xuICogb2YgUnhKUy5cbiAqXG4gKiBAY2xhc3MgT2JzZXJ2YWJsZTxUPlxuICovXG52YXIgT2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3Vic2NyaWJlIHRoZSBmdW5jdGlvbiB0aGF0IGlzICBjYWxsZWQgd2hlbiB0aGUgT2JzZXJ2YWJsZSBpc1xuICAgICAqIGluaXRpYWxseSBzdWJzY3JpYmVkIHRvLiBUaGlzIGZ1bmN0aW9uIGlzIGdpdmVuIGEgU3Vic2NyaWJlciwgdG8gd2hpY2ggbmV3IHZhbHVlc1xuICAgICAqIGNhbiBiZSBgbmV4dGBlZCwgb3IgYW4gYGVycm9yYCBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByYWlzZSBhbiBlcnJvciwgb3JcbiAgICAgKiBgY29tcGxldGVgIGNhbiBiZSBjYWxsZWQgdG8gbm90aWZ5IG9mIGEgc3VjY2Vzc2Z1bCBjb21wbGV0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGUoc3Vic2NyaWJlKSB7XG4gICAgICAgIHRoaXMuX2lzU2NhbGFyID0gZmFsc2U7XG4gICAgICAgIGlmIChzdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IE9ic2VydmFibGUsIHdpdGggdGhpcyBPYnNlcnZhYmxlIGFzIHRoZSBzb3VyY2UsIGFuZCB0aGUgcGFzc2VkXG4gICAgICogb3BlcmF0b3IgZGVmaW5lZCBhcyB0aGUgbmV3IG9ic2VydmFibGUncyBvcGVyYXRvci5cbiAgICAgKiBAbWV0aG9kIGxpZnRcbiAgICAgKiBAcGFyYW0ge09wZXJhdG9yfSBvcGVyYXRvciB0aGUgb3BlcmF0b3IgZGVmaW5pbmcgdGhlIG9wZXJhdGlvbiB0byB0YWtlIG9uIHRoZSBvYnNlcnZhYmxlXG4gICAgICogQHJldHVybiB7T2JzZXJ2YWJsZX0gYSBuZXcgb2JzZXJ2YWJsZSB3aXRoIHRoZSBPcGVyYXRvciBhcHBsaWVkXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgb2JzZXJ2YWJsZS5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBoYW5kbGVycyBmb3IgaGFuZGxpbmcgZW1pdHRlZCB2YWx1ZXMsIGVycm9yIGFuZCBjb21wbGV0aW9ucyBmcm9tIHRoZSBvYnNlcnZhYmxlLCBhbmRcbiAgICAgKiAgZXhlY3V0ZXMgdGhlIG9ic2VydmFibGUncyBzdWJzY3JpYmVyIGZ1bmN0aW9uLCB3aGljaCB3aWxsIHRha2UgYWN0aW9uIHRvIHNldCB1cCB0aGUgdW5kZXJseWluZyBkYXRhIHN0cmVhbVxuICAgICAqIEBtZXRob2Qgc3Vic2NyaWJlXG4gICAgICogQHBhcmFtIHtQYXJ0aWFsT2JzZXJ2ZXJ8RnVuY3Rpb259IG9ic2VydmVyT3JOZXh0IChvcHRpb25hbCkgZWl0aGVyIGFuIG9ic2VydmVyIGRlZmluaW5nIGFsbCBmdW5jdGlvbnMgdG8gYmUgY2FsbGVkLFxuICAgICAqICBvciB0aGUgZmlyc3Qgb2YgdGhyZWUgcG9zc2libGUgaGFuZGxlcnMsIHdoaWNoIGlzIHRoZSBoYW5kbGVyIGZvciBlYWNoIHZhbHVlIGVtaXR0ZWQgZnJvbSB0aGUgb2JzZXJ2YWJsZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcnJvciAob3B0aW9uYWwpIGEgaGFuZGxlciBmb3IgYSB0ZXJtaW5hbCBldmVudCByZXN1bHRpbmcgZnJvbSBhbiBlcnJvci4gSWYgbm8gZXJyb3IgaGFuZGxlciBpcyBwcm92aWRlZCxcbiAgICAgKiAgdGhlIGVycm9yIHdpbGwgYmUgdGhyb3duIGFzIHVuaGFuZGxlZFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBsZXRlIChvcHRpb25hbCkgYSBoYW5kbGVyIGZvciBhIHRlcm1pbmFsIGV2ZW50IHJlc3VsdGluZyBmcm9tIHN1Y2Nlc3NmdWwgY29tcGxldGlvbi5cbiAgICAgKiBAcmV0dXJuIHtJU3Vic2NyaXB0aW9ufSBhIHN1YnNjcmlwdGlvbiByZWZlcmVuY2UgdG8gdGhlIHJlZ2lzdGVyZWQgaGFuZGxlcnNcbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgb3BlcmF0b3IgPSB0aGlzLm9wZXJhdG9yO1xuICAgICAgICB2YXIgc2luayA9IHRvU3Vic2NyaWJlcl8xLnRvU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgaWYgKG9wZXJhdG9yKSB7XG4gICAgICAgICAgICBvcGVyYXRvci5jYWxsKHNpbmssIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2luay5hZGQodGhpcy5fc3Vic2NyaWJlKHNpbmspKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2luay5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoc2luay5zeW5jRXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBzaW5rLnN5bmNFcnJvclZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaW5rO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBmb3JFYWNoXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbmV4dCBhIGhhbmRsZXIgZm9yIGVhY2ggdmFsdWUgZW1pdHRlZCBieSB0aGUgb2JzZXJ2YWJsZVxuICAgICAqIEBwYXJhbSB7UHJvbWlzZUNvbnN0cnVjdG9yfSBbUHJvbWlzZUN0b3JdIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gdXNlZCB0byBpbnN0YW50aWF0ZSB0aGUgUHJvbWlzZVxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IGVpdGhlciByZXNvbHZlcyBvbiBvYnNlcnZhYmxlIGNvbXBsZXRpb24gb3JcbiAgICAgKiAgcmVqZWN0cyB3aXRoIHRoZSBoYW5kbGVkIGVycm9yXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChuZXh0LCBQcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIVByb21pc2VDdG9yKSB7XG4gICAgICAgICAgICBpZiAocm9vdF8xLnJvb3QuUnggJiYgcm9vdF8xLnJvb3QuUnguY29uZmlnICYmIHJvb3RfMS5yb290LlJ4LmNvbmZpZy5Qcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgUHJvbWlzZUN0b3IgPSByb290XzEucm9vdC5SeC5jb25maWcuUHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJvb3RfMS5yb290LlByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBQcm9taXNlQ3RvciA9IHJvb3RfMS5yb290LlByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFQcm9taXNlQ3Rvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBQcm9taXNlIGltcGwgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHN1YnNjcmlwdGlvbiwgdGhlbiB3ZSBjYW4gc3VybWlzZVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbmV4dCBoYW5kbGluZyBpcyBhc3luY2hyb25vdXMuIEFueSBlcnJvcnMgdGhyb3duXG4gICAgICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gYmUgcmVqZWN0ZWQgZXhwbGljaXRseSBhbmQgdW5zdWJzY3JpYmUgbXVzdCBiZVxuICAgICAgICAgICAgICAgICAgICAvLyBjYWxsZWQgbWFudWFsbHlcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIE5PIHN1YnNjcmlwdGlvbiwgdGhlbiB3ZSdyZSBnZXR0aW5nIGEgbmV4dGVkXG4gICAgICAgICAgICAgICAgICAgIC8vIHZhbHVlIHN5bmNocm9ub3VzbHkgZHVyaW5nIHN1YnNjcmlwdGlvbi4gV2UgY2FuIGp1c3QgY2FsbCBpdC5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgaXQgZXJyb3JzLCBPYnNlcnZhYmxlJ3MgYHN1YnNjcmliZWAgaW1wbGUgd2lsbCBlbnN1cmUgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIHVuc3Vic2NyaXB0aW9uIGxvZ2ljIGlzIGNhbGxlZCwgdGhlbiBzeW5jaHJvbm91c2x5IHJldGhyb3cgdGhlIGVycm9yLlxuICAgICAgICAgICAgICAgICAgICAvLyBBZnRlciB0aGF0LCBQcm9taXNlIHdpbGwgdHJhcCB0aGUgZXJyb3IgYW5kIHNlbmQgaXRcbiAgICAgICAgICAgICAgICAgICAgLy8gZG93biB0aGUgcmVqZWN0aW9uIHBhdGguXG4gICAgICAgICAgICAgICAgICAgIG5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJlamVjdCwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBbiBpbnRlcm9wIHBvaW50IGRlZmluZWQgYnkgdGhlIGVzNy1vYnNlcnZhYmxlIHNwZWMgaHR0cHM6Ly9naXRodWIuY29tL3plbnBhcnNpbmcvZXMtb2JzZXJ2YWJsZVxuICAgICAqIEBtZXRob2QgU3ltYm9sLm9ic2VydmFibGVcbiAgICAgKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSB0aGlzIGluc3RhbmNlIG9mIHRoZSBvYnNlcnZhYmxlXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGVbJCRvYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBIQUNLOiBTaW5jZSBUeXBlU2NyaXB0IGluaGVyaXRzIHN0YXRpYyBwcm9wZXJ0aWVzIHRvbywgd2UgaGF2ZSB0b1xuICAgIC8vIGZpZ2h0IGFnYWluc3QgVHlwZVNjcmlwdCBoZXJlIHNvIFN1YmplY3QgY2FuIGhhdmUgYSBkaWZmZXJlbnQgc3RhdGljIGNyZWF0ZSBzaWduYXR1cmVcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbGQgT2JzZXJ2YWJsZSBieSBjYWxsaW5nIHRoZSBPYnNlcnZhYmxlIGNvbnN0cnVjdG9yXG4gICAgICogQHN0YXRpYyB0cnVlXG4gICAgICogQG93bmVyIE9ic2VydmFibGVcbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN1YnNjcmliZT8gdGhlIHN1YnNjcmliZXIgZnVuY3Rpb24gdG8gYmUgcGFzc2VkIHRvIHRoZSBPYnNlcnZhYmxlIGNvbnN0cnVjdG9yXG4gICAgICogQHJldHVybiB7T2JzZXJ2YWJsZX0gYSBuZXcgY29sZCBvYnNlcnZhYmxlXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZS5jcmVhdGUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmUpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGU7XG59KCkpO1xuZXhwb3J0cy5PYnNlcnZhYmxlID0gT2JzZXJ2YWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnRzLmVtcHR5ID0ge1xuICAgIGlzVW5zdWJzY3JpYmVkOiB0cnVlLFxuICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB9LFxuICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7IHRocm93IGVycjsgfSxcbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkgeyB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKCcuL09ic2VydmFibGUnKTtcbnZhciBTdWJzY3JpYmVyXzEgPSByZXF1aXJlKCcuL1N1YnNjcmliZXInKTtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoJy4vU3Vic2NyaXB0aW9uJyk7XG52YXIgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JfMSA9IHJlcXVpcmUoJy4vdXRpbC9PYmplY3RVbnN1YnNjcmliZWRFcnJvcicpO1xudmFyIFN1YmplY3RTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoJy4vU3ViamVjdFN1YnNjcmlwdGlvbicpO1xudmFyIHJ4U3Vic2NyaWJlcl8xID0gcmVxdWlyZSgnLi9zeW1ib2wvcnhTdWJzY3JpYmVyJyk7XG4vKipcbiAqIEBjbGFzcyBTdWJqZWN0U3Vic2NyaWJlcjxUPlxuICovXG52YXIgU3ViamVjdFN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdWJqZWN0U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJqZWN0U3Vic2NyaWJlcihkZXN0aW5hdGlvbikge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbik7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIFN1YmplY3RTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyXzEuU3Vic2NyaWJlcikpO1xuZXhwb3J0cy5TdWJqZWN0U3Vic2NyaWJlciA9IFN1YmplY3RTdWJzY3JpYmVyO1xuLyoqXG4gKiBAY2xhc3MgU3ViamVjdDxUPlxuICovXG52YXIgU3ViamVjdCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3ViamVjdCgpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzID0gW107XG4gICAgICAgIHRoaXMuaXNVbnN1YnNjcmliZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNFcnJvciA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRocm93bkVycm9yID0gbnVsbDtcbiAgICB9XG4gICAgU3ViamVjdC5wcm90b3R5cGVbcnhTdWJzY3JpYmVyXzEuJCRyeFN1YnNjcmliZXJdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFN1YmplY3RTdWJzY3JpYmVyKHRoaXMpO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgc3ViamVjdCA9IG5ldyBBbm9ueW1vdXNTdWJqZWN0KHRoaXMsIHRoaXMpO1xuICAgICAgICBzdWJqZWN0Lm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgIHJldHVybiBzdWJqZWN0O1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5pc1Vuc3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yXzEuT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnM7XG4gICAgICAgICAgICB2YXIgbGVuID0gb2JzZXJ2ZXJzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBjb3B5ID0gb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29weVtpXS5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICh0aGlzLmlzVW5zdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JfMS5PYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICB0aGlzLnRocm93bkVycm9yID0gZXJyO1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHZhciBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycztcbiAgICAgICAgdmFyIGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgICAgIHZhciBjb3B5ID0gb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvcHlbaV0uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9ic2VydmVycy5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzVW5zdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JfMS5PYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzO1xuICAgICAgICB2YXIgbGVuID0gb2JzZXJ2ZXJzLmxlbmd0aDtcbiAgICAgICAgdmFyIGNvcHkgPSBvYnNlcnZlcnMuc2xpY2UoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29weVtpXS5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLmxlbmd0aCA9IDA7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmlzVW5zdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBudWxsO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmlzVW5zdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JfMS5PYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IodGhpcy50aHJvd25FcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3ViamVjdFN1YnNjcmlwdGlvbl8xLlN1YmplY3RTdWJzY3JpcHRpb24odGhpcywgc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmFzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIFN1YmplY3QuY3JlYXRlID0gZnVuY3Rpb24gKGRlc3RpbmF0aW9uLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBbm9ueW1vdXNTdWJqZWN0KGRlc3RpbmF0aW9uLCBzb3VyY2UpO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YmplY3Q7XG59KE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKSk7XG5leHBvcnRzLlN1YmplY3QgPSBTdWJqZWN0O1xuLyoqXG4gKiBAY2xhc3MgQW5vbnltb3VzU3ViamVjdDxUPlxuICovXG52YXIgQW5vbnltb3VzU3ViamVjdCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFub255bW91c1N1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQW5vbnltb3VzU3ViamVjdChkZXN0aW5hdGlvbiwgc291cmNlKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIH1cbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbi5uZXh0KSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbi5lcnJvcikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQW5vbnltb3VzU3ViamVjdDtcbn0oU3ViamVjdCkpO1xuZXhwb3J0cy5Bbm9ueW1vdXNTdWJqZWN0ID0gQW5vbnltb3VzU3ViamVjdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YmplY3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoJy4vU3Vic2NyaXB0aW9uJyk7XG4vKipcbiAqIFdlIG5lZWQgdGhpcyBKU0RvYyBjb21tZW50IGZvciBhZmZlY3RpbmcgRVNEb2MuXG4gKiBAaWdub3JlXG4gKiBAZXh0ZW5kcyB7SWdub3JlZH1cbiAqL1xudmFyIFN1YmplY3RTdWJzY3JpcHRpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdWJqZWN0U3Vic2NyaXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YmplY3RTdWJzY3JpcHRpb24oc3ViamVjdCwgc3Vic2NyaWJlcikge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5zdWJqZWN0ID0gc3ViamVjdDtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyID0gc3Vic2NyaWJlcjtcbiAgICAgICAgdGhpcy5pc1Vuc3Vic2NyaWJlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBTdWJqZWN0U3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNVbnN1YnNjcmliZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzVW5zdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIHN1YmplY3QgPSB0aGlzLnN1YmplY3Q7XG4gICAgICAgIHZhciBvYnNlcnZlcnMgPSBzdWJqZWN0Lm9ic2VydmVycztcbiAgICAgICAgdGhpcy5zdWJqZWN0ID0gbnVsbDtcbiAgICAgICAgaWYgKCFvYnNlcnZlcnMgfHwgb2JzZXJ2ZXJzLmxlbmd0aCA9PT0gMCB8fCBzdWJqZWN0LmlzU3RvcHBlZCB8fCBzdWJqZWN0LmlzVW5zdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN1YnNjcmliZXJJbmRleCA9IG9ic2VydmVycy5pbmRleE9mKHRoaXMuc3Vic2NyaWJlcik7XG4gICAgICAgIGlmIChzdWJzY3JpYmVySW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBvYnNlcnZlcnMuc3BsaWNlKHN1YnNjcmliZXJJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTdWJqZWN0U3Vic2NyaXB0aW9uO1xufShTdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb24pKTtcbmV4cG9ydHMuU3ViamVjdFN1YnNjcmlwdGlvbiA9IFN1YmplY3RTdWJzY3JpcHRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJqZWN0U3Vic2NyaXB0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZSgnLi91dGlsL2lzRnVuY3Rpb24nKTtcbnZhciBTdWJzY3JpcHRpb25fMSA9IHJlcXVpcmUoJy4vU3Vic2NyaXB0aW9uJyk7XG52YXIgT2JzZXJ2ZXJfMSA9IHJlcXVpcmUoJy4vT2JzZXJ2ZXInKTtcbnZhciByeFN1YnNjcmliZXJfMSA9IHJlcXVpcmUoJy4vc3ltYm9sL3J4U3Vic2NyaWJlcicpO1xuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSB7QGxpbmsgT2JzZXJ2ZXJ9IGludGVyZmFjZSBhbmQgZXh0ZW5kcyB0aGVcbiAqIHtAbGluayBTdWJzY3JpcHRpb259IGNsYXNzLiBXaGlsZSB0aGUge0BsaW5rIE9ic2VydmVyfSBpcyB0aGUgcHVibGljIEFQSSBmb3JcbiAqIGNvbnN1bWluZyB0aGUgdmFsdWVzIG9mIGFuIHtAbGluayBPYnNlcnZhYmxlfSwgYWxsIE9ic2VydmVycyBnZXQgY29udmVydGVkIHRvXG4gKiBhIFN1YnNjcmliZXIsIGluIG9yZGVyIHRvIHByb3ZpZGUgU3Vic2NyaXB0aW9uLWxpa2UgY2FwYWJpbGl0aWVzIHN1Y2ggYXNcbiAqIGB1bnN1YnNjcmliZWAuIFN1YnNjcmliZXIgaXMgYSBjb21tb24gdHlwZSBpbiBSeEpTLCBhbmQgY3J1Y2lhbCBmb3JcbiAqIGltcGxlbWVudGluZyBvcGVyYXRvcnMsIGJ1dCBpdCBpcyByYXJlbHkgdXNlZCBhcyBhIHB1YmxpYyBBUEkuXG4gKlxuICogQGNsYXNzIFN1YnNjcmliZXI8VD5cbiAqL1xudmFyIFN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JzZXJ2ZXJ8ZnVuY3Rpb24odmFsdWU6IFQpOiB2b2lkfSBbZGVzdGluYXRpb25Pck5leHRdIEEgcGFydGlhbGx5XG4gICAgICogZGVmaW5lZCBPYnNlcnZlciBvciBhIGBuZXh0YCBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGU6ID9hbnkpOiB2b2lkfSBbZXJyb3JdIFRoZSBgZXJyb3JgIGNhbGxiYWNrIG9mIGFuXG4gICAgICogT2JzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpOiB2b2lkfSBbY29tcGxldGVdIFRoZSBgY29tcGxldGVgIGNhbGxiYWNrIG9mIGFuXG4gICAgICogT2JzZXJ2ZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3Vic2NyaWJlcihkZXN0aW5hdGlvbk9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLnN5bmNFcnJvclZhbHVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zeW5jRXJyb3JUaHJvd24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IE9ic2VydmVyXzEuZW1wdHk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgaWYgKCFkZXN0aW5hdGlvbk9yTmV4dCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gT2JzZXJ2ZXJfMS5lbXB0eTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGVzdGluYXRpb25Pck5leHQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXN0aW5hdGlvbk9yTmV4dCBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbk9yTmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uYWRkKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IG5ldyBTYWZlU3Vic2NyaWJlcih0aGlzLCBkZXN0aW5hdGlvbk9yTmV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IG5ldyBTYWZlU3Vic2NyaWJlcih0aGlzLCBkZXN0aW5hdGlvbk9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZVtyeFN1YnNjcmliZXJfMS4kJHJ4U3Vic2NyaWJlcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuICAgIC8qKlxuICAgICAqIEEgc3RhdGljIGZhY3RvcnkgZm9yIGEgU3Vic2NyaWJlciwgZ2l2ZW4gYSAocG90ZW50aWFsbHkgcGFydGlhbCkgZGVmaW5pdGlvblxuICAgICAqIG9mIGFuIE9ic2VydmVyLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oeDogP1QpOiB2b2lkfSBbbmV4dF0gVGhlIGBuZXh0YCBjYWxsYmFjayBvZiBhbiBPYnNlcnZlci5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGU6ID9hbnkpOiB2b2lkfSBbZXJyb3JdIFRoZSBgZXJyb3JgIGNhbGxiYWNrIG9mIGFuXG4gICAgICogT2JzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpOiB2b2lkfSBbY29tcGxldGVdIFRoZSBgY29tcGxldGVgIGNhbGxiYWNrIG9mIGFuXG4gICAgICogT2JzZXJ2ZXIuXG4gICAgICogQHJldHVybiB7U3Vic2NyaWJlcjxUPn0gQSBTdWJzY3JpYmVyIHdyYXBwaW5nIHRoZSAocGFydGlhbGx5IGRlZmluZWQpXG4gICAgICogT2JzZXJ2ZXIgcmVwcmVzZW50ZWQgYnkgdGhlIGdpdmVuIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBTdWJzY3JpYmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChuZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIHN1YnNjcmliZXIgPSBuZXcgU3Vic2NyaWJlcihuZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICBzdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSB7QGxpbmsgT2JzZXJ2ZXJ9IGNhbGxiYWNrIHRvIHJlY2VpdmUgbm90aWZpY2F0aW9ucyBvZiB0eXBlIGBuZXh0YCBmcm9tXG4gICAgICogdGhlIE9ic2VydmFibGUsIHdpdGggYSB2YWx1ZS4gVGhlIE9ic2VydmFibGUgbWF5IGNhbGwgdGhpcyBtZXRob2QgMCBvciBtb3JlXG4gICAgICogdGltZXMuXG4gICAgICogQHBhcmFtIHtUfSBbdmFsdWVdIFRoZSBgbmV4dGAgdmFsdWUuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUge0BsaW5rIE9ic2VydmVyfSBjYWxsYmFjayB0byByZWNlaXZlIG5vdGlmaWNhdGlvbnMgb2YgdHlwZSBgZXJyb3JgIGZyb21cbiAgICAgKiB0aGUgT2JzZXJ2YWJsZSwgd2l0aCBhbiBhdHRhY2hlZCB7QGxpbmsgRXJyb3J9LiBOb3RpZmllcyB0aGUgT2JzZXJ2ZXIgdGhhdFxuICAgICAqIHRoZSBPYnNlcnZhYmxlIGhhcyBleHBlcmllbmNlZCBhbiBlcnJvciBjb25kaXRpb24uXG4gICAgICogQHBhcmFtIHthbnl9IFtlcnJdIFRoZSBgZXJyb3JgIGV4Y2VwdGlvbi5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUge0BsaW5rIE9ic2VydmVyfSBjYWxsYmFjayB0byByZWNlaXZlIGEgdmFsdWVsZXNzIG5vdGlmaWNhdGlvbiBvZiB0eXBlXG4gICAgICogYGNvbXBsZXRlYCBmcm9tIHRoZSBPYnNlcnZhYmxlLiBOb3RpZmllcyB0aGUgT2JzZXJ2ZXIgdGhhdCB0aGUgT2JzZXJ2YWJsZVxuICAgICAqIGhhcyBmaW5pc2hlZCBzZW5kaW5nIHB1c2gtYmFzZWQgbm90aWZpY2F0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNVbnN1YnNjcmliZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBTdWJzY3JpYmVyO1xufShTdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb24pKTtcbmV4cG9ydHMuU3Vic2NyaWJlciA9IFN1YnNjcmliZXI7XG4vKipcbiAqIFdlIG5lZWQgdGhpcyBKU0RvYyBjb21tZW50IGZvciBhZmZlY3RpbmcgRVNEb2MuXG4gKiBAaWdub3JlXG4gKiBAZXh0ZW5kcyB7SWdub3JlZH1cbiAqL1xudmFyIFNhZmVTdWJzY3JpYmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2FmZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2FmZVN1YnNjcmliZXIoX3BhcmVudCwgb2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gX3BhcmVudDtcbiAgICAgICAgdmFyIG5leHQ7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgICAgaWYgKGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKG9ic2VydmVyT3JOZXh0KSkge1xuICAgICAgICAgICAgbmV4dCA9IG9ic2VydmVyT3JOZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9ic2VydmVyT3JOZXh0KSB7XG4gICAgICAgICAgICBjb250ZXh0ID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgICAgICBuZXh0ID0gb2JzZXJ2ZXJPck5leHQubmV4dDtcbiAgICAgICAgICAgIGVycm9yID0gb2JzZXJ2ZXJPck5leHQuZXJyb3I7XG4gICAgICAgICAgICBjb21wbGV0ZSA9IG9ic2VydmVyT3JOZXh0LmNvbXBsZXRlO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKGNvbnRleHQudW5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoY29udGV4dC51bnN1YnNjcmliZS5iaW5kKGNvbnRleHQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQudW5zdWJzY3JpYmUgPSB0aGlzLnVuc3Vic2NyaWJlLmJpbmQodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuX25leHQgPSBuZXh0O1xuICAgICAgICB0aGlzLl9lcnJvciA9IGVycm9yO1xuICAgICAgICB0aGlzLl9jb21wbGV0ZSA9IGNvbXBsZXRlO1xuICAgIH1cbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkICYmIHRoaXMuX25leHQpIHtcbiAgICAgICAgICAgIHZhciBfcGFyZW50ID0gdGhpcy5fcGFyZW50O1xuICAgICAgICAgICAgaWYgKCFfcGFyZW50LnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHRoaXMuX25leHQsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnQsIHRoaXMuX25leHQsIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudCA9IHRoaXMuX3BhcmVudDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgICAgICAgICAgIGlmICghX3BhcmVudC5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fZXJyb3IsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnQsIHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIV9wYXJlbnQuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF9wYXJlbnQuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICAgICAgX3BhcmVudC5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudCA9IHRoaXMuX3BhcmVudDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIGlmICghX3BhcmVudC5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fY29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50LCB0aGlzLl9jb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fX3RyeU9yVW5zdWIgPSBmdW5jdGlvbiAoZm4sIHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMuX2NvbnRleHQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fX3RyeU9yU2V0RXJyb3IgPSBmdW5jdGlvbiAocGFyZW50LCBmbiwgdmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcy5fY29udGV4dCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHBhcmVudC5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgIHBhcmVudC5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9wYXJlbnQgPSB0aGlzLl9wYXJlbnQ7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBudWxsO1xuICAgICAgICBfcGFyZW50LnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2FmZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmliZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgaXNBcnJheV8xID0gcmVxdWlyZSgnLi91dGlsL2lzQXJyYXknKTtcbnZhciBpc09iamVjdF8xID0gcmVxdWlyZSgnLi91dGlsL2lzT2JqZWN0Jyk7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZSgnLi91dGlsL2lzRnVuY3Rpb24nKTtcbnZhciB0cnlDYXRjaF8xID0gcmVxdWlyZSgnLi91dGlsL3RyeUNhdGNoJyk7XG52YXIgZXJyb3JPYmplY3RfMSA9IHJlcXVpcmUoJy4vdXRpbC9lcnJvck9iamVjdCcpO1xudmFyIFVuc3Vic2NyaXB0aW9uRXJyb3JfMSA9IHJlcXVpcmUoJy4vdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJyk7XG4vKipcbiAqIFJlcHJlc2VudHMgYSBkaXNwb3NhYmxlIHJlc291cmNlLCBzdWNoIGFzIHRoZSBleGVjdXRpb24gb2YgYW4gT2JzZXJ2YWJsZS4gQVxuICogU3Vic2NyaXB0aW9uIGhhcyBvbmUgaW1wb3J0YW50IG1ldGhvZCwgYHVuc3Vic2NyaWJlYCwgdGhhdCB0YWtlcyBubyBhcmd1bWVudFxuICogYW5kIGp1c3QgZGlzcG9zZXMgdGhlIHJlc291cmNlIGhlbGQgYnkgdGhlIHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBBZGRpdGlvbmFsbHksIHN1YnNjcmlwdGlvbnMgbWF5IGJlIGdyb3VwZWQgdG9nZXRoZXIgdGhyb3VnaCB0aGUgYGFkZCgpYFxuICogbWV0aG9kLCB3aGljaCB3aWxsIGF0dGFjaCBhIGNoaWxkIFN1YnNjcmlwdGlvbiB0byB0aGUgY3VycmVudCBTdWJzY3JpcHRpb24uXG4gKiBXaGVuIGEgU3Vic2NyaXB0aW9uIGlzIHVuc3Vic2NyaWJlZCwgYWxsIGl0cyBjaGlsZHJlbiAoYW5kIGl0cyBncmFuZGNoaWxkcmVuKVxuICogd2lsbCBiZSB1bnN1YnNjcmliZWQgYXMgd2VsbC5cbiAqXG4gKiBAY2xhc3MgU3Vic2NyaXB0aW9uXG4gKi9cbnZhciBTdWJzY3JpcHRpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKTogdm9pZH0gW3Vuc3Vic2NyaWJlXSBBIGZ1bmN0aW9uIGRlc2NyaWJpbmcgaG93IHRvXG4gICAgICogcGVyZm9ybSB0aGUgZGlzcG9zYWwgb2YgcmVzb3VyY2VzIHdoZW4gdGhlIGB1bnN1YnNjcmliZWAgbWV0aG9kIGlzIGNhbGxlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdWJzY3JpcHRpb24odW5zdWJzY3JpYmUpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmxhZyB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoaXMgU3Vic2NyaXB0aW9uIGhhcyBhbHJlYWR5IGJlZW4gdW5zdWJzY3JpYmVkLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNVbnN1YnNjcmliZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl91bnN1YnNjcmliZSA9IHVuc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIHRoZSByZXNvdXJjZXMgaGVsZCBieSB0aGUgc3Vic2NyaXB0aW9uLiBNYXksIGZvciBpbnN0YW5jZSwgY2FuY2VsXG4gICAgICogYW4gb25nb2luZyBPYnNlcnZhYmxlIGV4ZWN1dGlvbiBvciBjYW5jZWwgYW55IG90aGVyIHR5cGUgb2Ygd29yayB0aGF0XG4gICAgICogc3RhcnRlZCB3aGVuIHRoZSBTdWJzY3JpcHRpb24gd2FzIGNyZWF0ZWQuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaGFzRXJyb3JzID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvcnM7XG4gICAgICAgIGlmICh0aGlzLmlzVW5zdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1Vuc3Vic2NyaWJlZCA9IHRydWU7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF91bnN1YnNjcmliZSA9IF9hLl91bnN1YnNjcmliZSwgX3N1YnNjcmlwdGlvbnMgPSBfYS5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IG51bGw7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihfdW5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgICB2YXIgdHJpYWwgPSB0cnlDYXRjaF8xLnRyeUNhdGNoKF91bnN1YnNjcmliZSkuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIGlmICh0cmlhbCA9PT0gZXJyb3JPYmplY3RfMS5lcnJvck9iamVjdCkge1xuICAgICAgICAgICAgICAgIGhhc0Vycm9ycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgKGVycm9ycyA9IGVycm9ycyB8fCBbXSkucHVzaChlcnJvck9iamVjdF8xLmVycm9yT2JqZWN0LmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5XzEuaXNBcnJheShfc3Vic2NyaXB0aW9ucykpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICAgICAgdmFyIGxlbiA9IF9zdWJzY3JpcHRpb25zLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1YiA9IF9zdWJzY3JpcHRpb25zW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3RfMS5pc09iamVjdChzdWIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmlhbCA9IHRyeUNhdGNoXzEudHJ5Q2F0Y2goc3ViLnVuc3Vic2NyaWJlKS5jYWxsKHN1Yik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmlhbCA9PT0gZXJyb3JPYmplY3RfMS5lcnJvck9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnIgPSBlcnJvck9iamVjdF8xLmVycm9yT2JqZWN0LmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcl8xLlVuc3Vic2NyaXB0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGVyci5lcnJvcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5zdWJzY3JpcHRpb25FcnJvcl8xLlVuc3Vic2NyaXB0aW9uRXJyb3IoZXJyb3JzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHRlYXIgZG93biB0byBiZSBjYWxsZWQgZHVyaW5nIHRoZSB1bnN1YnNjcmliZSgpIG9mIHRoaXNcbiAgICAgKiBTdWJzY3JpcHRpb24uXG4gICAgICpcbiAgICAgKiBJZiB0aGUgdGVhciBkb3duIGJlaW5nIGFkZGVkIGlzIGEgc3Vic2NyaXB0aW9uIHRoYXQgaXMgYWxyZWFkeVxuICAgICAqIHVuc3Vic2NyaWJlZCwgaXMgdGhlIHNhbWUgcmVmZXJlbmNlIGBhZGRgIGlzIGJlaW5nIGNhbGxlZCBvbiwgb3IgaXNcbiAgICAgKiBgU3Vic2NyaXB0aW9uLkVNUFRZYCwgaXQgd2lsbCBub3QgYmUgYWRkZWQuXG4gICAgICpcbiAgICAgKiBJZiB0aGlzIHN1YnNjcmlwdGlvbiBpcyBhbHJlYWR5IGluIGFuIGBpc1Vuc3Vic2NyaWJlZGAgc3RhdGUsIHRoZSBwYXNzZWRcbiAgICAgKiB0ZWFyIGRvd24gbG9naWMgd2lsbCBiZSBleGVjdXRlZCBpbW1lZGlhdGVseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VGVhcmRvd25Mb2dpY30gdGVhcmRvd24gVGhlIGFkZGl0aW9uYWwgbG9naWMgdG8gZXhlY3V0ZSBvblxuICAgICAqIHRlYXJkb3duLlxuICAgICAqIEByZXR1cm4ge1N1YnNjcmlwdGlvbn0gUmV0dXJucyB0aGUgU3Vic2NyaXB0aW9uIHVzZWQgb3IgY3JlYXRlZCB0byBiZVxuICAgICAqIGFkZGVkIHRvIHRoZSBpbm5lciBzdWJzY3JpcHRpb25zIGxpc3QuIFRoaXMgU3Vic2NyaXB0aW9uIGNhbiBiZSB1c2VkIHdpdGhcbiAgICAgKiBgcmVtb3ZlKClgIHRvIHJlbW92ZSB0aGUgcGFzc2VkIHRlYXJkb3duIGxvZ2ljIGZyb20gdGhlIGlubmVyIHN1YnNjcmlwdGlvbnNcbiAgICAgKiBsaXN0LlxuICAgICAqL1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRlYXJkb3duKSB7XG4gICAgICAgIGlmICghdGVhcmRvd24gfHwgKHRlYXJkb3duID09PSB0aGlzKSB8fCAodGVhcmRvd24gPT09IFN1YnNjcmlwdGlvbi5FTVBUWSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3ViID0gdGVhcmRvd247XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHRlYXJkb3duKSB7XG4gICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgc3ViID0gbmV3IFN1YnNjcmlwdGlvbih0ZWFyZG93bik7XG4gICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgIGlmIChzdWIuaXNVbnN1YnNjcmliZWQgfHwgdHlwZW9mIHN1Yi51bnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5pc1Vuc3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICh0aGlzLl9zdWJzY3JpcHRpb25zIHx8ICh0aGlzLl9zdWJzY3JpcHRpb25zID0gW10pKS5wdXNoKHN1Yik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VucmVjb2duaXplZCB0ZWFyZG93biAnICsgdGVhcmRvd24gKyAnIGFkZGVkIHRvIFN1YnNjcmlwdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3ViO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIFN1YnNjcmlwdGlvbiBmcm9tIHRoZSBpbnRlcm5hbCBsaXN0IG9mIHN1YnNjcmlwdGlvbnMgdGhhdCB3aWxsXG4gICAgICogdW5zdWJzY3JpYmUgZHVyaW5nIHRoZSB1bnN1YnNjcmliZSBwcm9jZXNzIG9mIHRoaXMgU3Vic2NyaXB0aW9uLlxuICAgICAqIEBwYXJhbSB7U3Vic2NyaXB0aW9ufSBzdWJzY3JpcHRpb24gVGhlIHN1YnNjcmlwdGlvbiB0byByZW1vdmUuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgLy8gSEFDSzogVGhpcyBtaWdodCBiZSByZWR1bmRhbnQgYmVjYXVzZSBvZiB0aGUgbG9naWMgaW4gYGFkZCgpYFxuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uID09IG51bGwgfHwgKHN1YnNjcmlwdGlvbiA9PT0gdGhpcykgfHwgKHN1YnNjcmlwdGlvbiA9PT0gU3Vic2NyaXB0aW9uLkVNUFRZKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gdGhpcy5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb25JbmRleCA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbkluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMuc3BsaWNlKHN1YnNjcmlwdGlvbkluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLkVNUFRZID0gKGZ1bmN0aW9uIChlbXB0eSkge1xuICAgICAgICBlbXB0eS5pc1Vuc3Vic2NyaWJlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9KG5ldyBTdWJzY3JpcHRpb24oKSkpO1xuICAgIHJldHVybiBTdWJzY3JpcHRpb247XG59KCkpO1xuZXhwb3J0cy5TdWJzY3JpcHRpb24gPSBTdWJzY3JpcHRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpcHRpb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciByb290XzEgPSByZXF1aXJlKCcuLi91dGlsL3Jvb3QnKTtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKCcuLi9PYnNlcnZhYmxlJyk7XG4vKipcbiAqIFdlIG5lZWQgdGhpcyBKU0RvYyBjb21tZW50IGZvciBhZmZlY3RpbmcgRVNEb2MuXG4gKiBAZXh0ZW5kcyB7SWdub3JlZH1cbiAqIEBoaWRlIHRydWVcbiAqL1xudmFyIFByb21pc2VPYnNlcnZhYmxlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUHJvbWlzZU9ic2VydmFibGUsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUHJvbWlzZU9ic2VydmFibGUocHJvbWlzZSwgc2NoZWR1bGVyKSB7XG4gICAgICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkgeyBzY2hlZHVsZXIgPSBudWxsOyB9XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSBQcm9taXNlIHRvIGFuIE9ic2VydmFibGUuXG4gICAgICpcbiAgICAgKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+UmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQganVzdCBlbWl0cyB0aGUgUHJvbWlzZSdzXG4gICAgICogcmVzb2x2ZWQgdmFsdWUsIHRoZW4gY29tcGxldGVzLjwvc3Bhbj5cbiAgICAgKlxuICAgICAqIENvbnZlcnRzIGFuIEVTMjAxNSBQcm9taXNlIG9yIGEgUHJvbWlzZXMvQSsgc3BlYyBjb21wbGlhbnQgUHJvbWlzZSB0byBhblxuICAgICAqIE9ic2VydmFibGUuIElmIHRoZSBQcm9taXNlIHJlc29sdmVzIHdpdGggYSB2YWx1ZSwgdGhlIG91dHB1dCBPYnNlcnZhYmxlXG4gICAgICogZW1pdHMgdGhhdCByZXNvbHZlZCB2YWx1ZSBhcyBhIGBuZXh0YCwgYW5kIHRoZW4gY29tcGxldGVzLiBJZiB0aGUgUHJvbWlzZVxuICAgICAqIGlzIHJlamVjdGVkLCB0aGVuIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBlbWl0cyB0aGUgY29ycmVzcG9uZGluZyBFcnJvci5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPkNvbnZlcnQgdGhlIFByb21pc2UgcmV0dXJuZWQgYnkgRmV0Y2ggdG8gYW4gT2JzZXJ2YWJsZTwvY2FwdGlvbj5cbiAgICAgKiB2YXIgcmVzdWx0ID0gUnguT2JzZXJ2YWJsZS5mcm9tUHJvbWlzZShmZXRjaCgnaHR0cDovL215c2VydmVyLmNvbS8nKSk7XG4gICAgICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpLCBlID0+IGNvbnNvbGUuZXJyb3IoZSkpO1xuICAgICAqXG4gICAgICogQHNlZSB7QGxpbmsgYmluZENhbGxiYWNrfVxuICAgICAqIEBzZWUge0BsaW5rIGZyb219XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1Byb21pc2U8VD59IHByb21pc2UgVGhlIHByb21pc2UgdG8gYmUgY29udmVydGVkLlxuICAgICAqIEBwYXJhbSB7U2NoZWR1bGVyfSBbc2NoZWR1bGVyXSBBbiBvcHRpb25hbCBTY2hlZHVsZXIgdG8gdXNlIGZvciBzY2hlZHVsaW5nXG4gICAgICogdGhlIGRlbGl2ZXJ5IG9mIHRoZSByZXNvbHZlZCB2YWx1ZSAob3IgdGhlIHJlamVjdGlvbikuXG4gICAgICogQHJldHVybiB7T2JzZXJ2YWJsZTxUPn0gQW4gT2JzZXJ2YWJsZSB3aGljaCB3cmFwcyB0aGUgUHJvbWlzZS5cbiAgICAgKiBAc3RhdGljIHRydWVcbiAgICAgKiBAbmFtZSBmcm9tUHJvbWlzZVxuICAgICAqIEBvd25lciBPYnNlcnZhYmxlXG4gICAgICovXG4gICAgUHJvbWlzZU9ic2VydmFibGUuY3JlYXRlID0gZnVuY3Rpb24gKHByb21pc2UsIHNjaGVkdWxlcikge1xuICAgICAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHsgc2NoZWR1bGVyID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VPYnNlcnZhYmxlKHByb21pc2UsIHNjaGVkdWxlcik7XG4gICAgfTtcbiAgICBQcm9taXNlT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBwcm9taXNlID0gdGhpcy5wcm9taXNlO1xuICAgICAgICB2YXIgc2NoZWR1bGVyID0gdGhpcy5zY2hlZHVsZXI7XG4gICAgICAgIGlmIChzY2hlZHVsZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzU2NhbGFyKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmlzVW5zdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2lzU2NhbGFyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmlzVW5zdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuaXNVbnN1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKG51bGwsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNjYXBlIHRoZSBwcm9taXNlIHRyYXAsIHRocm93IHVuaGFuZGxlZCBlcnJvcnNcbiAgICAgICAgICAgICAgICAgICAgcm9vdF8xLnJvb3Quc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHRocm93IGVycjsgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNTY2FsYXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuaXNVbnN1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaE5leHQsIDAsIHsgdmFsdWU6IHRoaXMudmFsdWUsIHN1YnNjcmliZXI6IHN1YnNjcmliZXIgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5faXNTY2FsYXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuaXNVbnN1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaE5leHQsIDAsIHsgdmFsdWU6IHZhbHVlLCBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmlzVW5zdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2hFcnJvciwgMCwgeyBlcnI6IGVyciwgc3Vic2NyaWJlcjogc3Vic2NyaWJlciB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihudWxsLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzY2FwZSB0aGUgcHJvbWlzZSB0cmFwLCB0aHJvdyB1bmhhbmRsZWQgZXJyb3JzXG4gICAgICAgICAgICAgICAgICAgIHJvb3RfMS5yb290LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0aHJvdyBlcnI7IH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUHJvbWlzZU9ic2VydmFibGU7XG59KE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKSk7XG5leHBvcnRzLlByb21pc2VPYnNlcnZhYmxlID0gUHJvbWlzZU9ic2VydmFibGU7XG5mdW5jdGlvbiBkaXNwYXRjaE5leHQoYXJnKSB7XG4gICAgdmFyIHZhbHVlID0gYXJnLnZhbHVlLCBzdWJzY3JpYmVyID0gYXJnLnN1YnNjcmliZXI7XG4gICAgaWYgKCFzdWJzY3JpYmVyLmlzVW5zdWJzY3JpYmVkKSB7XG4gICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkaXNwYXRjaEVycm9yKGFyZykge1xuICAgIHZhciBlcnIgPSBhcmcuZXJyLCBzdWJzY3JpYmVyID0gYXJnLnN1YnNjcmliZXI7XG4gICAgaWYgKCFzdWJzY3JpYmVyLmlzVW5zdWJzY3JpYmVkKSB7XG4gICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qcm9taXNlT2JzZXJ2YWJsZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciByb290XzEgPSByZXF1aXJlKCcuLi91dGlsL3Jvb3QnKTtcbi8qKlxuICogQHBhcmFtIFByb21pc2VDdG9yXG4gKiBAcmV0dXJuIHtQcm9taXNlPFQ+fVxuICogQG1ldGhvZCB0b1Byb21pc2VcbiAqIEBvd25lciBPYnNlcnZhYmxlXG4gKi9cbmZ1bmN0aW9uIHRvUHJvbWlzZShQcm9taXNlQ3Rvcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgaWYgKCFQcm9taXNlQ3Rvcikge1xuICAgICAgICBpZiAocm9vdF8xLnJvb3QuUnggJiYgcm9vdF8xLnJvb3QuUnguY29uZmlnICYmIHJvb3RfMS5yb290LlJ4LmNvbmZpZy5Qcm9taXNlKSB7XG4gICAgICAgICAgICBQcm9taXNlQ3RvciA9IHJvb3RfMS5yb290LlJ4LmNvbmZpZy5Qcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJvb3RfMS5yb290LlByb21pc2UpIHtcbiAgICAgICAgICAgIFByb21pc2VDdG9yID0gcm9vdF8xLnJvb3QuUHJvbWlzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIVByb21pc2VDdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbm8gUHJvbWlzZSBpbXBsIGZvdW5kJyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgIF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAoeCkgeyByZXR1cm4gdmFsdWUgPSB4OyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiByZWplY3QoZXJyKTsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZSh2YWx1ZSk7IH0pO1xuICAgIH0pO1xufVxuZXhwb3J0cy50b1Byb21pc2UgPSB0b1Byb21pc2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b1Byb21pc2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgcm9vdF8xID0gcmVxdWlyZSgnLi4vdXRpbC9yb290Jyk7XG52YXIgU3ltYm9sID0gcm9vdF8xLnJvb3QuU3ltYm9sO1xuZXhwb3J0cy4kJHJ4U3Vic2NyaWJlciA9ICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2wuZm9yID09PSAnZnVuY3Rpb24nKSA/XG4gICAgU3ltYm9sLmZvcigncnhTdWJzY3JpYmVyJykgOiAnQEByeFN1YnNjcmliZXInO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnhTdWJzY3JpYmVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG4vKipcbiAqIEFuIGVycm9yIHRocm93biB3aGVuIGFuIGFjdGlvbiBpcyBpbnZhbGlkIGJlY2F1c2UgdGhlIG9iamVjdCBoYXMgYmVlblxuICogdW5zdWJzY3JpYmVkLlxuICpcbiAqIEBzZWUge0BsaW5rIFN1YmplY3R9XG4gKiBAc2VlIHtAbGluayBCZWhhdmlvclN1YmplY3R9XG4gKlxuICogQGNsYXNzIE9iamVjdFVuc3Vic2NyaWJlZEVycm9yXG4gKi9cbnZhciBPYmplY3RVbnN1YnNjcmliZWRFcnJvciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE9iamVjdFVuc3Vic2NyaWJlZEVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCAnb2JqZWN0IHVuc3Vic2NyaWJlZCcpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3I7XG59KEVycm9yKSk7XG5leHBvcnRzLk9iamVjdFVuc3Vic2NyaWJlZEVycm9yID0gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYmplY3RVbnN1YnNjcmliZWRFcnJvci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xuLyoqXG4gKiBBbiBlcnJvciB0aHJvd24gd2hlbiBvbmUgb3IgbW9yZSBlcnJvcnMgaGF2ZSBvY2N1cnJlZCBkdXJpbmcgdGhlXG4gKiBgdW5zdWJzY3JpYmVgIG9mIGEge0BsaW5rIFN1YnNjcmlwdGlvbn0uXG4gKi9cbnZhciBVbnN1YnNjcmlwdGlvbkVycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVW5zdWJzY3JpcHRpb25FcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBVbnN1YnNjcmlwdGlvbkVycm9yKGVycm9ycykge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgICAgIHRoaXMubmFtZSA9ICdVbnN1YnNjcmlwdGlvbkVycm9yJztcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JzID8gZXJyb3JzLmxlbmd0aCArIFwiIGVycm9ycyBvY2N1cnJlZCBkdXJpbmcgdW5zdWJzY3JpcHRpb246XFxuXCIgKyBlcnJvcnMubWFwKGZ1bmN0aW9uIChlcnIsIGkpIHsgcmV0dXJuICgoaSArIDEpICsgXCIpIFwiICsgZXJyLnRvU3RyaW5nKCkpOyB9KS5qb2luKCdcXG4nKSA6ICcnO1xuICAgIH1cbiAgICByZXR1cm4gVW5zdWJzY3JpcHRpb25FcnJvcjtcbn0oRXJyb3IpKTtcbmV4cG9ydHMuVW5zdWJzY3JpcHRpb25FcnJvciA9IFVuc3Vic2NyaXB0aW9uRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VbnN1YnNjcmlwdGlvbkVycm9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLy8gdHlwZW9mIGFueSBzbyB0aGF0IGl0IHdlIGRvbid0IGhhdmUgdG8gY2FzdCB3aGVuIGNvbXBhcmluZyBhIHJlc3VsdCB0byB0aGUgZXJyb3Igb2JqZWN0XG5leHBvcnRzLmVycm9yT2JqZWN0ID0geyBlOiB7fSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JPYmplY3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnRzLmlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInOyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNGdW5jdGlvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGlzT2JqZWN0KHgpIHtcbiAgICByZXR1cm4geCAhPSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jztcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzT2JqZWN0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIG9iamVjdFR5cGVzID0ge1xuICAgICdib29sZWFuJzogZmFsc2UsXG4gICAgJ2Z1bmN0aW9uJzogdHJ1ZSxcbiAgICAnb2JqZWN0JzogdHJ1ZSxcbiAgICAnbnVtYmVyJzogZmFsc2UsXG4gICAgJ3N0cmluZyc6IGZhbHNlLFxuICAgICd1bmRlZmluZWQnOiBmYWxzZVxufTtcbmV4cG9ydHMucm9vdCA9IChvYmplY3RUeXBlc1t0eXBlb2Ygc2VsZl0gJiYgc2VsZikgfHwgKG9iamVjdFR5cGVzW3R5cGVvZiB3aW5kb3ddICYmIHdpbmRvdyk7XG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cbnZhciBmcmVlRXhwb3J0cyA9IG9iamVjdFR5cGVzW3R5cGVvZiBleHBvcnRzXSAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG52YXIgZnJlZU1vZHVsZSA9IG9iamVjdFR5cGVzW3R5cGVvZiBtb2R1bGVdICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcbnZhciBmcmVlR2xvYmFsID0gb2JqZWN0VHlwZXNbdHlwZW9mIGdsb2JhbF0gJiYgZ2xvYmFsO1xuaWYgKGZyZWVHbG9iYWwgJiYgKGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8IGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsKSkge1xuICAgIGV4cG9ydHMucm9vdCA9IGZyZWVHbG9iYWw7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb290LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIFN1YnNjcmliZXJfMSA9IHJlcXVpcmUoJy4uL1N1YnNjcmliZXInKTtcbnZhciByeFN1YnNjcmliZXJfMSA9IHJlcXVpcmUoJy4uL3N5bWJvbC9yeFN1YnNjcmliZXInKTtcbmZ1bmN0aW9uIHRvU3Vic2NyaWJlcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgaWYgKG5leHRPck9ic2VydmVyKSB7XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlciBpbnN0YW5jZW9mIFN1YnNjcmliZXJfMS5TdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dE9yT2JzZXJ2ZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHRPck9ic2VydmVyW3J4U3Vic2NyaWJlcl8xLiQkcnhTdWJzY3JpYmVyXSkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRPck9ic2VydmVyW3J4U3Vic2NyaWJlcl8xLiQkcnhTdWJzY3JpYmVyXSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghbmV4dE9yT2JzZXJ2ZXIgJiYgIWVycm9yICYmICFjb21wbGV0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFN1YnNjcmliZXJfMS5TdWJzY3JpYmVyKCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU3Vic2NyaWJlcl8xLlN1YnNjcmliZXIobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSk7XG59XG5leHBvcnRzLnRvU3Vic2NyaWJlciA9IHRvU3Vic2NyaWJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvU3Vic2NyaWJlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBlcnJvck9iamVjdF8xID0gcmVxdWlyZSgnLi9lcnJvck9iamVjdCcpO1xudmFyIHRyeUNhdGNoVGFyZ2V0O1xuZnVuY3Rpb24gdHJ5Q2F0Y2hlcigpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gdHJ5Q2F0Y2hUYXJnZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgZXJyb3JPYmplY3RfMS5lcnJvck9iamVjdC5lID0gZTtcbiAgICAgICAgcmV0dXJuIGVycm9yT2JqZWN0XzEuZXJyb3JPYmplY3Q7XG4gICAgfVxufVxuZnVuY3Rpb24gdHJ5Q2F0Y2goZm4pIHtcbiAgICB0cnlDYXRjaFRhcmdldCA9IGZuO1xuICAgIHJldHVybiB0cnlDYXRjaGVyO1xufVxuZXhwb3J0cy50cnlDYXRjaCA9IHRyeUNhdGNoO1xuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJ5Q2F0Y2guanMubWFwIiwiLyogZ2xvYmFsIHdpbmRvdyAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vcG9ueWZpbGwnKShnbG9iYWwgfHwgd2luZG93IHx8IHRoaXMpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN5bWJvbE9ic2VydmFibGVQb255ZmlsbChyb290KSB7XG5cdHZhciByZXN1bHQ7XG5cdHZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxuXHRpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdGlmIChTeW1ib2wub2JzZXJ2YWJsZSkge1xuXHRcdFx0cmVzdWx0ID0gU3ltYm9sLm9ic2VydmFibGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdCA9IFN5bWJvbCgnb2JzZXJ2YWJsZScpO1xuXHRcdFx0U3ltYm9sLm9ic2VydmFibGUgPSByZXN1bHQ7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHJlc3VsdCA9ICdAQG9ic2VydmFibGUnO1xuXHR9XG5cblx0cmV0dXJuIHJlc3VsdDtcbn07XG4iXX0=
